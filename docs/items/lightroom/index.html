<!doctype html><html lang=en-us>
<head>
<meta http-equiv=content-type content="text/html" charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="The personal website of Will Vesey, with projects, blog posts, and contact information">
<meta name=keywords content="Will,William,Vesey,website,projects,personal,github,resume,blog,tech">
<title>vesey.tech</title>
<style>*,::before,::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::before,::after{--tw-content:''}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,noto sans,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:JetBrains Mono,mono;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,::before,::after{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~=not-prose] *)){color:#f9faf9;text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~=not-prose] *)){color:#eee8d5;font-weight:600}.prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=As]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=as]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=Is]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=is]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose] *))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose] *)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-left-width:.25rem;border-left-color:var(--tw-prose-quote-borders);quotes:"\201C""\201D""\2018""\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *))::before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *))::after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose] *)){color:#f9faf9;font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose :where(h1 strong):not(:where([class~=not-prose] *)){font-weight:900}.prose :where(h2):not(:where([class~=not-prose] *)){color:#f9faf9;font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2 strong):not(:where([class~=not-prose] *)){font-weight:800}.prose :where(h3):not(:where([class~=not-prose] *)){color:#f9faf9;font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose :where(h3 strong):not(:where([class~=not-prose] *)){font-weight:700}.prose :where(h4):not(:where([class~=not-prose] *)){color:#f9faf9;font-weight:600;margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose :where(h4 strong):not(:where([class~=not-prose] *)){font-weight:700}.prose :where(figure>*):not(:where([class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~=not-prose] *)){color:#f9faf9;font-weight:600;font-size:.875em}.prose :where(code):not(:where([class~=not-prose] *))::before{content:"`"}.prose :where(code):not(:where([class~=not-prose] *))::after{content:"`"}.prose :where(a code):not(:where([class~=not-prose] *)){color:var(--tw-prose-links)}.prose :where(pre):not(:where([class~=not-prose] *)){color:var(--tw-prose-pre-code);background-color:#222d31;overflow-x:auto;font-weight:400;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding-top:.8571429em;padding-right:1.1428571em;padding-bottom:.8571429em;padding-left:1.1428571em}.prose :where(pre code):not(:where([class~=not-prose] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(pre code):not(:where([class~=not-prose] *))::before{content:none}.prose :where(pre code):not(:where([class~=not-prose] *))::after{content:none}.prose :where(table):not(:where([class~=not-prose] *)){width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders);color:#f9faf9}.prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose] *)){vertical-align:baseline;padding-top:.5714286em;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgb(0 0 0 / 50%);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(p):not(:where([class~=not-prose] *)) code{background-color:#353836}.prose :where(img):not(:where([class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(video):not(:where([class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(figure):not(:where([class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(h2 code):not(:where([class~=not-prose] *)){font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose] *)){font-size:.9em}.prose :where(li):not(:where([class~=not-prose] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose>:where(ul>li p):not(:where([class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose>:where(ul>li>*:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose>:where(ul>li>*:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose>:where(ol>li>*:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose>:where(ol>li>*:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(tbody td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose>:where(:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose>:where(:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.prose :where(h5):not(:where([class~=not-prose] *)){color:#f9faf9}.prose :where(h6):not(:where([class~=not-prose] *)){color:#f9faf9}.prose :where(div):not(:where([class~=not-prose] *)) pre{background-color:#222d31!important}.prose-lg{font-size:1.125rem;line-height:1.7777778}.prose-lg :where(p):not(:where([class~=not-prose] *)){margin-top:1.3333333em;margin-bottom:1.3333333em}.prose-lg :where([class~=lead]):not(:where([class~=not-prose] *)){font-size:1.2222222em;line-height:1.4545455;margin-top:1.0909091em;margin-bottom:1.0909091em}.prose-lg :where(blockquote):not(:where([class~=not-prose] *)){margin-top:1.6666667em;margin-bottom:1.6666667em;padding-left:1em}.prose-lg :where(h1):not(:where([class~=not-prose] *)){font-size:2.6666667em;margin-top:0;margin-bottom:.8333333em;line-height:1}.prose-lg :where(h2):not(:where([class~=not-prose] *)){font-size:1.6666667em;margin-top:1.8666667em;margin-bottom:1.0666667em;line-height:1.3333333}.prose-lg :where(h3):not(:where([class~=not-prose] *)){font-size:1.3333333em;margin-top:1.6666667em;margin-bottom:.6666667em;line-height:1.5}.prose-lg :where(h4):not(:where([class~=not-prose] *)){margin-top:1.7777778em;margin-bottom:.4444444em;line-height:1.5555556}.prose-lg :where(img):not(:where([class~=not-prose] *)){margin-top:1.7777778em;margin-bottom:1.7777778em}.prose-lg :where(video):not(:where([class~=not-prose] *)){margin-top:1.7777778em;margin-bottom:1.7777778em}.prose-lg :where(figure):not(:where([class~=not-prose] *)){margin-top:1.7777778em;margin-bottom:1.7777778em}.prose-lg :where(figure>*):not(:where([class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose-lg :where(figcaption):not(:where([class~=not-prose] *)){font-size:.8888889em;line-height:1.5;margin-top:1em}.prose-lg :where(code):not(:where([class~=not-prose] *)){font-size:.8888889em}.prose-lg :where(h2 code):not(:where([class~=not-prose] *)){font-size:.8666667em}.prose-lg :where(h3 code):not(:where([class~=not-prose] *)){font-size:.875em}.prose-lg :where(pre):not(:where([class~=not-prose] *)){font-size:.8888889em;line-height:1.75;margin-top:2em;margin-bottom:2em;border-radius:.375rem;padding-top:1em;padding-right:1.5em;padding-bottom:1em;padding-left:1.5em}.prose-lg :where(ol):not(:where([class~=not-prose] *)){padding-left:1.5555556em}.prose-lg :where(ul):not(:where([class~=not-prose] *)){padding-left:1.5555556em}.prose-lg :where(li):not(:where([class~=not-prose] *)){margin-top:.6666667em;margin-bottom:.6666667em}.prose-lg :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.4444444em}.prose-lg :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.4444444em}.prose-lg>:where(ul>li p):not(:where([class~=not-prose] *)){margin-top:.8888889em;margin-bottom:.8888889em}.prose-lg>:where(ul>li>*:first-child):not(:where([class~=not-prose] *)){margin-top:1.3333333em}.prose-lg>:where(ul>li>*:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg>:where(ol>li>*:first-child):not(:where([class~=not-prose] *)){margin-top:1.3333333em}.prose-lg>:where(ol>li>*:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-top:.8888889em;margin-bottom:.8888889em}.prose-lg :where(hr):not(:where([class~=not-prose] *)){margin-top:3.1111111em;margin-bottom:3.1111111em}.prose-lg :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-lg :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-lg :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-lg :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-lg :where(table):not(:where([class~=not-prose] *)){font-size:.8888889em;line-height:1.5}.prose-lg :where(thead th):not(:where([class~=not-prose] *)){padding-right:.75em;padding-bottom:.75em;padding-left:.75em}.prose-lg :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-lg :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-lg :where(tbody td):not(:where([class~=not-prose] *)){padding-top:.75em;padding-right:.75em;padding-bottom:.75em;padding-left:.75em}.prose-lg :where(tbody td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-lg :where(tbody td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-lg>:where(:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose-lg>:where(:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.absolute{position:absolute}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.right-0{right:0}.mt-4{margin-top:1rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.h-screen{height:100vh}.h-full{height:100%}.h-10{height:2.5rem}.h-4{height:1rem}.w-screen{width:100vw}.w-full{width:100%}.w-4{width:1rem}.max-w-none{max-width:none}.max-w-full{max-width:100%}.flex-1{flex:1}.flex-2{flex:2 2}.select-none{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.resize{resize:both}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-flow-row{grid-auto-flow:row}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-2>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(2px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(2px * var(--tw-divide-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-contain{-ms-scroll-chaining:none;overscroll-behavior:contain}.overscroll-none{-ms-scroll-chaining:none;overscroll-behavior:none}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.border{border-width:1px}.border-bg0{--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.border-black{--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.bg-bg2{--tw-bg-opacity:1;background-color:rgb(43 44 43/var(--tw-bg-opacity))}.bg-bg3{--tw-bg-opacity:1;background-color:rgb(53 56 54/var(--tw-bg-opacity))}.p-2{padding:.5rem}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.pb-4{padding-bottom:1rem}.pt-8{padding-top:2rem}.pb-2{padding-bottom:.5rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:JetBrains Mono,mono}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.italic{font-style:italic}.text-fg1{--tw-text-opacity:1;color:rgb(249 250 249/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-fg2{--tw-text-opacity:1;color:rgb(253 246 227/var(--tw-text-opacity))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38/var(--tw-text-opacity))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.outline-none{outline:2px solid transparent;outline-offset:2px}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur)var(--tw-brightness)var(--tw-contrast)var(--tw-grayscale)var(--tw-hue-rotate)var(--tw-invert)var(--tw-saturate)var(--tw-sepia)var(--tw-drop-shadow)}.filter{filter:var(--tw-blur)var(--tw-brightness)var(--tw-contrast)var(--tw-grayscale)var(--tw-hue-rotate)var(--tw-invert)var(--tw-saturate)var(--tw-sepia)var(--tw-drop-shadow)}.prose pre>code{white-space:pre-wrap!important}.prose p code{padding-left:.5rem;padding-right:.5rem}.prose p code::before{content:""}.prose p code::after{content:""}.prose img{width:100%}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-Regular.woff2)format("woff2");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-Medium.woff2)format("woff2");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-SemiBold.woff2)format("woff2");font-weight:600;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-Bold.woff2)format("woff2");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-ExtraBold.woff2)format("woff2");font-weight:800;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-Light.woff2)format("woff2");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-ExtraLight.woff2)format("woff2");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:jetbrains mono;src:url(https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono@2.242/fonts/webfonts/JetBrainsMono-Thin.woff2)format("woff2");font-weight:100;font-style:normal;font-display:swap}.hover\:bg-bg4:hover{--tw-bg-opacity:1;background-color:rgb(68 68 68/var(--tw-bg-opacity))}.focus\:outline-black:focus{outline-color:#000}@media(min-width:640px){.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(min-width:768px){.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(min-width:1024px){.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media(min-width:1280px){.xl\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}</style>
</head>
<body class="bg-bg2 overscroll-none">
<main class="w-full h-full p-2 font-mono flex align-center overscroll-none">
<div class="w-full h-full p-2 font-mono flex flex-col items-center divide-y-2 select-none text-fg1 overscroll-none">
<div class="flex-0 prose-lg max-w-none pb-4">
<h1>Adobe Lightroom as a hosted service?</h1>
</div>
<article class="flex-1 prose max-w-full pt-8 text-fg1">
<h1 id=background>Background</h1>
<p>As someone with a significant photo library, I often find myself wishing I could access old photos from the road.</p>
<p>Although remote file access softwares can let me dive through the basic directories, I often wish I could use my Adobe Lightroom Classic instance to sort and filter the photos so I can find the ones I am looking for without searching.</p>
<p>The problem is, however, most of the time I only have my phone on me - and Lightroom Classic is a Windows-only product.</p>
<p>My goal, then, is to host either a VM or container that will allow me to connect from any client to a Lightroom Classic instance that runs in the background on my local server.</p>
<h1 id=windows>Windows</h1>
<p>Windows would be the ideal candidate to run Lightroom-as-a-service, as it is, of course, a Windows app. The application would need to accomplish several things:</p>
<ul>
<li>
<p>Automatic starting</p>
</li>
<li>
<p>A kiosk-style fullscreen view that disallows minimization or any shell interaction</p>
</li>
<li>
<p>Lifecycle management (what happens when you close the app?)</p>
</li>
</ul>
<p>However, Windows has Its Own Way Of Doing Things that is not always the easiest or most transparent.</p>
<h2 id=exploring-automatic-application-launch>Exploring automatic application launch</h2>
<p>Windows 10 allows a user account&rsquo;s launch permissions to be limited to one application. Furthermore, this application will be started automatically at login.</p>
<p>If you enable automatic login, you essentially get a virtual machine that will start up, enter the account of your choice, and run an app full-screen without any other apps visible or accessible.</p>
<p>There are three options to enable this feature, but each has caveats</p>
<ol>
<li>
<p>Kiosk Mode
This is the recommended method, but only works with UWP apps. A Classic app such as Lightroom will not work with this method.</p>
</li>
<li>
<p>Shell Launcher
Allows a user&rsquo;s default shell to be changed via PowerShell commands. Includes nice lifecycle options so that if the custom shell exits, it can be automatically restarted.
Seems to only work for UWP applications, and though reportedly one can work around this by targeting a PowerShell script that then chain-loads a non-UWP app, I only ever got black screens on login when attempting this.</p>
</li>
<li>
<p>Registry hacking
This is perhaps the simplest and most reliable method, though it forfeits the lifecycle abilities of 2).
A potential workaround is to write custom lifecycle logic with a PowerShell script and target that script as the custom shell.</p>
<p>This is done by created a <code>Shell</code> key of type <code>REG_SZ</code> under the following registry path:</p>
<p><code>HKEY_CURRENT_USER\Software\Microsoft\Windows NT\CurrentVersion\Winlogon</code></p>
</li>
</ol>
<p>One of the above three methods would be paired well with various UI tweaks, for example, <a href=https://docs.microsoft.com/en-us/windows-hardware/customize/enterprise/unbranded-boot>disabling the boot screen</a></p>
<p>If the application is started as a shell, however, additional services would need to be configured in the background (namely, ZeroTier to provide intranet connectivity, and a VNC server to provide remote interactivity)</p>
<p>This involves more registry fiddling.</p>
<h1 id=linux>Linux</h1>
<p>The simplest course of action for Linux is to use a Windows compatability layer (WINE) to run the Windows app.</p>
<p>I routinely run my copy of Adobe Photoshop via WINE, but Lightroom Classic is more finicky and prone to crashes.</p>
<p>Getting the correct incantation to make the software work will be made easier by preparing a Docker image to run Lightroom in a known and reproducible environment.</p>
<h2 id=catalog>Catalog</h2>
<p>A Lightroom catalog consists of an <code>.lrcat</code> file (actually a SQLite database) and various helper folders with suffixes such as <code>.lrdata</code></p>
<p>The only <em>mandatory</em> file here is the catalog itself. The data directories merely serve as a cache to speed up the loading of thumbnails and other data.</p>
<h2 id=catalog-handling>Catalog handling</h2>
<p>It should be possible just to bind mount in a directory containing the catalog file and run the containerized app against the catalog with WINE? Nope.</p>
<p>Although Lightroom allows for the loading of images from a networked or otherwise mounted drive, the catalog file itself <strong>must</strong> be located on the host&rsquo;s main volume. This is likely for performance reasons - imagine running a SQLite database
backed by a highly latent NAS Samba share. Not a use case that needs support.</p>
<p>Crucially, <strong>this limitation holds while executing the program under WINE.</strong></p>
<p>So, then - inside the container, the catalog cannot be run directly from a bind mounted directory. That&rsquo;s a problem, but a solvable one.</p>
<h3 id=catalog-copying>Catalog copying</h3>
<p>It isn&rsquo;t a solution to build the catalog into the Dockerfile itself - I need the ability to execute any arbitrary catalog without having to roll a custom Dockerfile.</p>
<p>Copying the catalog <em>FROM</em> a bind-mounted directory is the most obvious solution. My personal catalog is 307MB at 40,000 media files - so scalability doesn&rsquo;t seem like a glaring issue.</p>
<p>The file will need to be copied from its mounted directory before application start, and written back upon application end (and ideally, continuously every time the user makes a change).
The naive approach here would be to write a watchdog that continuously monitors the two directories in question and syncs any changes. But busy-looping isn&rsquo;t very elegant.</p>
<p>Luckily, there are file-system level tools I can use! <strong>Inotify</strong> is a Linux kernel feature that allows for monitoring filesystem <em>inodes</em> (files or directories) for changes, and notifying any user-registered callbacks of the update.
In this manner, two directories can be kept continuously in sync by manually copying over any changes when a signal is received that changes have occurred.</p>
<p>Rather than write my own utility to perform this duty, I chose to use <a href=https://github.com/bcpierce00/unison>Unison</a>.</p>
<h2 id=remote-access>Remote access</h2>
<p>VNC is an excellent solution for remote access - it is a performant protocol with various security features, and many robust clients are available for every major platform.</p>
<p>Integrating a VNC server into a Dockerfile is a bit of a chore - it requires running a virtual framebuffer with <em>xvfb</em>, a VNC server, and the app itself.</p>
<p>Luckily, there is an excellent community Dockerized solution for GUI apps: <a href=https://hub.docker.com/r/jlesage/baseimage-gui/>baseimage-gui</a></p>
<p>This combines xvfb, VNC server, and HTTP VNC gateway - in the event a Lightroom user cannot use a VNC client, the program is also available via a normal web browser!</p>
<h2 id=the-dockerfile>The Dockerfile</h2>
<p>Let&rsquo;s start with the image dependency definitions.</p>
<p>Unison is copied from an existing Dockerfile, as the Debian-available package does not install the <code>unison-fsmonitor</code> filesystem monitor which is a requirement to enable continuous monitoring.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>FROM eugenmayer/unison:2.51.2.2 as unison

FROM jlesage/baseimage-gui:debian-9

COPY --from=unison /usr/local/bin/unison /usr/local/bin/unison-fsmonitor /usr/local/bin/
</code></pre></div><p>Wine requires some i386-specific packages - and here, some prerequisites are also fetched for the redistributable runtime libraries that will be installed with <code>winetricks</code></p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>RUN dpkg --add-architecture i386 &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    apt update &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    add-pkg curl ca-certificates xvfb cabextract gnupg apt-transport-https &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    curl https://dl.winehq.org/wine-builds/winehq.key | apt-key add - &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    <span style=font-weight:700;font-style:italic>echo</span> <span style=color:#666;font-style:italic>&#34;deb https://dl.winehq.org/wine-builds/debian/ stretch main&#34;</span> &gt;&gt; /etc/apt/sources.list &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    apt update &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    add-pkg winehq-devel
</code></pre></div><p>Pinning a version of winetricks that is not bleeding-edge alleviates <a href=https://github.com/Winetricks/winetricks/issues/163>this issue</a></p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>RUN curl -o /usr/bin/winetricks https://raw.githubusercontent.com/Winetricks/winetricks/20200412/src/winetricks &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    chmod +x /usr/bin/winetricks
</code></pre></div><p>Starting a temporary virtual framebuffer is necessary, as some of the runtime library installers need to pop up dialogs during their installation. It&rsquo;s Windows, so of course headless isn&rsquo;t a thing.
These dependencies were determined through trial and error.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>RUN mkdir /wine &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    Xvfb :1 &amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    <span style=font-weight:700;font-style:italic>export</span> <span style=color:#666;font-weight:700;font-style:italic>WINEARCH</span>=win64 <span style=color:#666;font-weight:700;font-style:italic>WINEPREFIX</span>=/wine <span style=color:#666;font-weight:700;font-style:italic>WINEDLLOVERRIDES</span>=<span style=color:#666;font-style:italic>&#34;mscoree,mshtml=&#34;</span> <span style=color:#666;font-weight:700;font-style:italic>DISPLAY</span>=:1 &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    wineboot -i -u &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    winetricks -v -q win10 <span style=color:#666;font-weight:700;font-style:italic>fontsmooth</span>=rgb gdiplus vcrun2015 atmlib msxml4 gdiplus corefonts dotnet40 &amp;&amp; <span style=color:#666;font-style:italic>\
</span><span style=color:#666;font-style:italic></span>    chown -R 1000:1000 /wine
</code></pre></div><p><code>baseimage-gui</code> must know how large to make the virtual framebuffer, and must have the specified entrypoint script.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ENV <span style=color:#666;font-weight:700;font-style:italic>DISPLAY_WIDTH</span>=1920 <span style=color:#666;font-weight:700;font-style:italic>DISPLAY_HEIGHT</span>=1280

COPY startapp.sh /startapp.sh
</code></pre></div><h2 id=the-entrypoint-script>The entrypoint script</h2>
<p>Let&rsquo;s keep things debuggable and safe during runtime with the following <a href=https://vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail/>incantation</a></p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#888;font-weight:700>#!/usr/bin/env bash
</span><span style=color:#888;font-weight:700></span>
<span style=font-weight:700;font-style:italic>set</span> -euxo pipefail
</code></pre></div><p>An initial sync is done to bring in the catalog from the bind-mounted directory. All Unison commands ignore any of the <code>.lrdata</code> directories,
as these contain hundreds and hundreds of small thumbnail files which drastically slow down all syncing operations, especially at this initial sync.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir /tmp/catalog /tmp/unison
<span style=color:#666;font-weight:700;font-style:italic>UNISON</span>=/tmp/unison unison /lightroom/catalog /tmp/catalog -batch -auto -repeat watch -ignore <span style=color:#666;font-style:italic>&#39;Name *.lrdata&#39;</span> -logfile /dev/null &amp;
</code></pre></div><p>A background job is started to continuously sync the catalog back to the host (and vice versa, though the database shouldn&rsquo;t ever be modified by anything else during operation)</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir /tmp/catalog /tmp/unison
<span style=color:#666;font-weight:700;font-style:italic>UNISON</span>=/tmp/unison unison /lightroom/catalog /tmp/catalog -batch -auto -repeat watch -ignore <span style=color:#666;font-style:italic>&#39;Name *.lrdata&#39;</span> -logfile /dev/null &amp;
</code></pre></div><p>This stanza allows the user to optionally mount in an existing Lightroom configuration, so any application settings that are changed can be persisted</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=font-weight:700;text-decoration:underline>if</span> [ -d /lightroom/config ]; <span style=font-weight:700;text-decoration:underline>then</span>
  mkdir -p <span style=color:#666;font-style:italic>&#34;/wine/drive_c/users/app/Application Data/Adobe&#34;</span>
  ln -s /lightroom/config <span style=color:#666;font-style:italic>&#34;/wine/drive_c/users/app/Application Data/Adobe/Lightroom&#34;</span>
<span style=font-weight:700;text-decoration:underline>fi</span>
</code></pre></div><p>Launch the app!</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=font-weight:700;font-style:italic>export</span> <span style=color:#666;font-weight:700;font-style:italic>WINEARCH</span>=win64 <span style=color:#666;font-weight:700;font-style:italic>WINEPREFIX</span>=/wine <span style=color:#666;font-weight:700;font-style:italic>WINEDLLOVERRIDES</span>=<span style=color:#666;font-style:italic>&#34;mscoree,mshtml=&#34;</span> <span style=color:#666;font-weight:700;font-style:italic>WINEDEBUG</span>=<span style=color:#666;font-style:italic>&#34;-all&#34;</span>
wine64 /lightroom/install/Lightroom.exe
</code></pre></div><p>After the app exits, wait for any remaining syncing to complete, and then release control back to <code>baseimage-gui</code>, which will perform a shutdown of the container.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=font-weight:700;font-style:italic>kill</span> -SIGINT <span style=color:#666;font-weight:700;font-style:italic>$PID_UNISON</span>
<span style=font-weight:700;font-style:italic>wait</span> <span style=color:#666;font-weight:700;font-style:italic>$PID_UNISON</span>
</code></pre></div><h2 id=mount-directories>Mount directories</h2>
<ul>
<li>
<p><code>/lightroom/install</code><br>
This Dockerfile doesn&rsquo;t come with Lightroom <em>included</em>, as that would of course be piracy. Instead, the much more legally viable option is used - mounting in your <em>own</em> Lightroom program directory.<br>
This directory will likely be found here on a Windows system: <code>C:\Program Files\Adobe\Adobe Lightroom Classic CC</code></p>
</li>
<li>
<p><code>/lightroom/catalog</code><br>
A directory containing the user&rsquo;s <code>.lrcat</code> file</p>
</li>
<li>
<p><code>/lightroom/config</code>
An optional directory which allows you to save the configuration and settings of the Lightroom program itself</p>
</li>
</ul>
<h2 id=runtime-directories>Runtime directories</h2>
<ul>
<li><code>/tmp/catalog</code><br>
This is the directory that the <code>/lightroom/catalog</code> directory is synced to, and this is where you must open the catalog file from in the Lightroom user interface.</li>
</ul>
<h1 id=result>Result</h1>
<p>After deploying it on my local Kubernetes cluster and configuring a proper entrypoint, Lightroom is now accessible both over VNC and HTTP from any capable device!</p>
<p>Enabling hardware acceleration (OpenGL) is left as a future exercise, for now.</p>
<p><img src=/images/lightroom-browser.webp alt="Lightroom running in a browser"></p>
</article>
</div>
</main>
</body>
</html>