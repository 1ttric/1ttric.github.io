(()=>{var Rk=Object.create;var cv=Object.defineProperty;var Pk=Object.getOwnPropertyDescriptor;var Lk=Object.getOwnPropertyNames;var Ik=Object.getPrototypeOf,Dk=Object.prototype.hasOwnProperty;var Ok=n=>cv(n,"__esModule",{value:!0});var $p=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var ea=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),kk=(n,e)=>{for(var t in e)cv(n,t,{get:e[t],enumerable:!0})},Fk=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lk(e))!Dk.call(n,i)&&(t||i!=="default")&&cv(n,i,{get:()=>e[i],enumerable:!(r=Pk(e,i))||r.enumerable});return n},cr=(n,e)=>Fk(Ok(cv(n!=null?Rk(Ik(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var Ax=(n,e,t)=>new Promise((r,i)=>{var a=l=>{try{s(t.next(l))}catch(c){i(c)}},o=l=>{try{s(t.throw(l))}catch(c){i(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((t=t.apply(n,e)).next())});var hv=ea((hV,QM)=>{"use strict";var qM=Object.getOwnPropertySymbols,Nk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable;function Uk(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function zk(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}QM.exports=zk()?Object.assign:function(n,e){for(var t,r=Uk(n),i,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var o in t)Nk.call(t,o)&&(r[o]=t[o]);if(qM){i=qM(t);for(var s=0;s<i.length;s++)Bk.call(t,i[s])&&(r[i[s]]=t[i[s]])}}return r}});var h3=ea(An=>{"use strict";var Cx=hv(),Mh=60103,JM=60106;An.Fragment=60107;An.StrictMode=60108;An.Profiler=60114;var KM=60109,$M=60110,e3=60112;An.Suspense=60113;var t3=60115,n3=60116;typeof Symbol=="function"&&Symbol.for&&(ja=Symbol.for,Mh=ja("react.element"),JM=ja("react.portal"),An.Fragment=ja("react.fragment"),An.StrictMode=ja("react.strict_mode"),An.Profiler=ja("react.profiler"),KM=ja("react.provider"),$M=ja("react.context"),e3=ja("react.forward_ref"),An.Suspense=ja("react.suspense"),t3=ja("react.memo"),n3=ja("react.lazy"));var ja,r3=typeof Symbol=="function"&&Symbol.iterator;function Gk(n){return n===null||typeof n!="object"?null:(n=r3&&n[r3]||n["@@iterator"],typeof n=="function"?n:null)}function e0(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a3={};function Th(n,e,t){this.props=n,this.context=e,this.refs=a3,this.updater=t||i3}Th.prototype.isReactComponent={};Th.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(e0(85));this.updater.enqueueSetState(this,n,e,"setState")};Th.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function o3(){}o3.prototype=Th.prototype;function Rx(n,e,t){this.props=n,this.context=e,this.refs=a3,this.updater=t||i3}var Px=Rx.prototype=new o3;Px.constructor=Rx;Cx(Px,Th.prototype);Px.isPureReactComponent=!0;var Lx={current:null},s3=Object.prototype.hasOwnProperty,l3={key:!0,ref:!0,__self:!0,__source:!0};function u3(n,e,t){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)s3.call(e,r)&&!l3.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Mh,type:n,key:a,ref:o,props:i,_owner:Lx.current}}function Hk(n,e){return{$$typeof:Mh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ix(n){return typeof n=="object"&&n!==null&&n.$$typeof===Mh}function Wk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var f3=/\/+/g;function Dx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Wk(""+n.key):e.toString(36)}function dv(n,e,t,r,i){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Mh:case JM:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Dx(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(f3,"$&/")+"/"),dv(i,e,t,"",function(c){return c})):i!=null&&(Ix(i)&&(i=Hk(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f3,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var s=0;s<n.length;s++){a=n[s];var l=r+Dx(a,s);o+=dv(a,e,t,l,i)}else if(l=Gk(n),typeof l=="function")for(n=l.call(n),s=0;!(a=n.next()).done;)a=a.value,l=r+Dx(a,s++),o+=dv(a,e,t,l,i);else if(a==="object")throw e=""+n,Error(e0(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function pv(n,e,t){if(n==null)return n;var r=[],i=0;return dv(n,r,"","",function(a){return e.call(t,a,i++)}),r}function Vk(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var c3={current:null};function fl(){var n=c3.current;if(n===null)throw Error(e0(321));return n}var jk={ReactCurrentDispatcher:c3,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Lx,IsSomeRendererActing:{current:!1},assign:Cx};An.Children={map:pv,forEach:function(n,e,t){pv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return pv(n,function(){e++}),e},toArray:function(n){return pv(n,function(e){return e})||[]},only:function(n){if(!Ix(n))throw Error(e0(143));return n}};An.Component=Th;An.PureComponent=Rx;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;An.cloneElement=function(n,e,t){if(n==null)throw Error(e0(267,n));var r=Cx({},n.props),i=n.key,a=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Lx.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in e)s3.call(e,l)&&!l3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Mh,type:n.type,key:i,ref:a,props:r,_owner:o}};An.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:$M,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:KM,_context:n},n.Consumer=n};An.createElement=u3;An.createFactory=function(n){var e=u3.bind(null,n);return e.type=n,e};An.createRef=function(){return{current:null}};An.forwardRef=function(n){return{$$typeof:e3,render:n}};An.isValidElement=Ix;An.lazy=function(n){return{$$typeof:n3,_payload:{_status:-1,_result:n},_init:Vk}};An.memo=function(n,e){return{$$typeof:t3,type:n,compare:e===void 0?null:e}};An.useCallback=function(n,e){return fl().useCallback(n,e)};An.useContext=function(n,e){return fl().useContext(n,e)};An.useDebugValue=function(){};An.useEffect=function(n,e){return fl().useEffect(n,e)};An.useImperativeHandle=function(n,e,t){return fl().useImperativeHandle(n,e,t)};An.useLayoutEffect=function(n,e){return fl().useLayoutEffect(n,e)};An.useMemo=function(n,e){return fl().useMemo(n,e)};An.useReducer=function(n,e,t){return fl().useReducer(n,e,t)};An.useRef=function(n){return fl().useRef(n)};An.useState=function(n){return fl().useState(n)};An.version="17.0.2"});var Xr=ea((pV,d3)=>{"use strict";d3.exports=h3()});var y3=ea(Un=>{"use strict";var Ah,t0,mv,Ox;typeof performance=="object"&&typeof performance.now=="function"?(p3=performance,Un.unstable_now=function(){return p3.now()}):(kx=Date,m3=kx.now(),Un.unstable_now=function(){return kx.now()-m3});var p3,kx,m3;typeof window=="undefined"||typeof MessageChannel!="function"?(Ch=null,Fx=null,Nx=function(){if(Ch!==null)try{var n=Un.unstable_now();Ch(!0,n),Ch=null}catch(e){throw setTimeout(Nx,0),e}},Ah=function(n){Ch!==null?setTimeout(Ah,0,n):(Ch=n,setTimeout(Nx,0))},t0=function(n,e){Fx=setTimeout(n,e)},mv=function(){clearTimeout(Fx)},Un.unstable_shouldYield=function(){return!1},Ox=Un.unstable_forceFrameRate=function(){}):(g3=window.setTimeout,v3=window.clearTimeout,typeof console!="undefined"&&(_3=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _3!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),n0=!1,r0=null,gv=-1,Bx=5,Ux=0,Un.unstable_shouldYield=function(){return Un.unstable_now()>=Ux},Ox=function(){},Un.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Bx=0<n?Math.floor(1e3/n):5},zx=new MessageChannel,vv=zx.port2,zx.port1.onmessage=function(){if(r0!==null){var n=Un.unstable_now();Ux=n+Bx;try{r0(!0,n)?vv.postMessage(null):(n0=!1,r0=null)}catch(e){throw vv.postMessage(null),e}}else n0=!1},Ah=function(n){r0=n,n0||(n0=!0,vv.postMessage(null))},t0=function(n,e){gv=g3(function(){n(Un.unstable_now())},e)},mv=function(){v3(gv),gv=-1});var Ch,Fx,Nx,g3,v3,_3,n0,r0,gv,Bx,Ux,zx,vv;function Gx(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<yv(i,e))n[r]=e,n[t]=i,t=r;else break e}}function To(n){return n=n[0],n===void 0?null:n}function _v(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var a=2*(r+1)-1,o=n[a],s=a+1,l=n[s];if(o!==void 0&&0>yv(o,t))l!==void 0&&0>yv(l,o)?(n[r]=l,n[s]=t,r=s):(n[r]=o,n[a]=t,r=a);else if(l!==void 0&&0>yv(l,t))n[r]=l,n[s]=t,r=s;else break e}}return e}return null}function yv(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var fs=[],fu=[],Zk=1,Za=null,xi=3,xv=!1,zf=!1,i0=!1;function Hx(n){for(var e=To(fu);e!==null;){if(e.callback===null)_v(fu);else if(e.startTime<=n)_v(fu),e.sortIndex=e.expirationTime,Gx(fs,e);else break;e=To(fu)}}function Wx(n){if(i0=!1,Hx(n),!zf)if(To(fs)!==null)zf=!0,Ah(Vx);else{var e=To(fu);e!==null&&t0(Wx,e.startTime-n)}}function Vx(n,e){zf=!1,i0&&(i0=!1,mv()),xv=!0;var t=xi;try{for(Hx(e),Za=To(fs);Za!==null&&(!(Za.expirationTime>e)||n&&!Un.unstable_shouldYield());){var r=Za.callback;if(typeof r=="function"){Za.callback=null,xi=Za.priorityLevel;var i=r(Za.expirationTime<=e);e=Un.unstable_now(),typeof i=="function"?Za.callback=i:Za===To(fs)&&_v(fs),Hx(e)}else _v(fs);Za=To(fs)}if(Za!==null)var a=!0;else{var o=To(fu);o!==null&&t0(Wx,o.startTime-e),a=!1}return a}finally{Za=null,xi=t,xv=!1}}var Xk=Ox;Un.unstable_IdlePriority=5;Un.unstable_ImmediatePriority=1;Un.unstable_LowPriority=4;Un.unstable_NormalPriority=3;Un.unstable_Profiling=null;Un.unstable_UserBlockingPriority=2;Un.unstable_cancelCallback=function(n){n.callback=null};Un.unstable_continueExecution=function(){zf||xv||(zf=!0,Ah(Vx))};Un.unstable_getCurrentPriorityLevel=function(){return xi};Un.unstable_getFirstCallbackNode=function(){return To(fs)};Un.unstable_next=function(n){switch(xi){case 1:case 2:case 3:var e=3;break;default:e=xi}var t=xi;xi=e;try{return n()}finally{xi=t}};Un.unstable_pauseExecution=function(){};Un.unstable_requestPaint=Xk;Un.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=xi;xi=n;try{return e()}finally{xi=t}};Un.unstable_scheduleCallback=function(n,e,t){var r=Un.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:Zk++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,Gx(fu,n),To(fs)===null&&n===To(fu)&&(i0?mv():i0=!0,t0(Wx,t-r))):(n.sortIndex=i,Gx(fs,n),zf||xv||(zf=!0,Ah(Vx))),n};Un.unstable_wrapCallback=function(n){var e=xi;return function(){var t=xi;xi=e;try{return n.apply(this,arguments)}finally{xi=t}}}});var wv=ea((gV,x3)=>{"use strict";x3.exports=y3()});var oC=ea(Ka=>{"use strict";var bv=Xr(),ar=hv(),Yr=wv();function _t(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!bv)throw Error(_t(227));var w3=new Set,a0={};function Gf(n,e){Rh(n,e),Rh(n+"Capture",e)}function Rh(n,e){for(a0[n]=e,n=0;n<e.length;n++)w3.add(e[n])}var cl=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Yk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b3=Object.prototype.hasOwnProperty,S3={},E3={};function qk(n){return b3.call(E3,n)?!0:b3.call(S3,n)?!1:Yk.test(n)?E3[n]=!0:(S3[n]=!0,!1)}function Qk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Jk(n,e,t,r){if(e===null||typeof e=="undefined"||Qk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ki(n,e,t,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$r[n]=new ki(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$r[e]=new ki(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$r[n]=new ki(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$r[n]=new ki(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$r[n]=new ki(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$r[n]=new ki(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$r[n]=new ki(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$r[n]=new ki(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$r[n]=new ki(n,5,!1,n.toLowerCase(),null,!1,!1)});var jx=/[\-:]([a-z])/g;function Zx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jx,Zx);$r[e]=new ki(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jx,Zx);$r[e]=new ki(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jx,Zx);$r[e]=new ki(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$r[n]=new ki(n,1,!1,n.toLowerCase(),null,!1,!1)});$r.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$r[n]=new ki(n,1,!1,n.toLowerCase(),null,!0,!0)});function Xx(n,e,t,r){var i=$r.hasOwnProperty(e)?$r[e]:null,a=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(Jk(e,t,i,r)&&(t=null),r||i===null?qk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Hf=bv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o0=60103,Wf=60106,cu=60107,Yx=60108,s0=60114,qx=60109,Qx=60110,Sv=60112,l0=60113,Ev=60120,Mv=60115,Jx=60116,Kx=60121,$x=60128,M3=60129,ew=60130,tw=60131;typeof Symbol=="function"&&Symbol.for&&(Br=Symbol.for,o0=Br("react.element"),Wf=Br("react.portal"),cu=Br("react.fragment"),Yx=Br("react.strict_mode"),s0=Br("react.profiler"),qx=Br("react.provider"),Qx=Br("react.context"),Sv=Br("react.forward_ref"),l0=Br("react.suspense"),Ev=Br("react.suspense_list"),Mv=Br("react.memo"),Jx=Br("react.lazy"),Kx=Br("react.block"),Br("react.scope"),$x=Br("react.opaque.id"),M3=Br("react.debug_trace_mode"),ew=Br("react.offscreen"),tw=Br("react.legacy_hidden"));var Br,T3=typeof Symbol=="function"&&Symbol.iterator;function u0(n){return n===null||typeof n!="object"?null:(n=T3&&n[T3]||n["@@iterator"],typeof n=="function"?n:null)}var nw;function f0(n){if(nw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nw=e&&e[1]||""}return`
`+nw+n}var rw=!1;function Tv(n,e){if(!n||rw)return"";rw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{rw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?f0(n):""}function Kk(n){switch(n.tag){case 5:return f0(n.type);case 16:return f0("Lazy");case 13:return f0("Suspense");case 19:return f0("SuspenseList");case 0:case 2:case 15:return n=Tv(n.type,!1),n;case 11:return n=Tv(n.type.render,!1),n;case 22:return n=Tv(n.type._render,!1),n;case 1:return n=Tv(n.type,!0),n;default:return""}}function Ph(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case cu:return"Fragment";case Wf:return"Portal";case s0:return"Profiler";case Yx:return"StrictMode";case l0:return"Suspense";case Ev:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Qx:return(n.displayName||"Context")+".Consumer";case qx:return(n._context.displayName||"Context")+".Provider";case Sv:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Mv:return Ph(n.type);case Kx:return Ph(n._render);case Jx:e=n._payload,n=n._init;try{return Ph(n(e))}catch{}}return null}function hu(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function A3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $k(n){var e=A3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,a=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Av(n){n._valueTracker||(n._valueTracker=$k(n))}function C3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=A3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Cv(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function iw(n,e){var t=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function R3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=hu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P3(n,e){e=e.checked,e!=null&&Xx(n,"checked",e,!1)}function aw(n,e){P3(n,e);var t=hu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ow(n,e.type,t):e.hasOwnProperty("defaultValue")&&ow(n,e.type,hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function L3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ow(n,e,t){(e!=="number"||Cv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function e8(n){var e="";return bv.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function sw(n,e){return n=ar({children:void 0},e),(e=e8(e.children))&&(n.children=e),n}function Lh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+hu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function lw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_t(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function I3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(_t(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(_t(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:hu(t)}}function D3(n,e){var t=hu(e.value),r=hu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function O3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var uw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function k3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?k3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Rv,F3=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==uw.svg||"innerHTML"in n)n.innerHTML=e;else{for(Rv=Rv||document.createElement("div"),Rv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function c0(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var h0={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t8=["Webkit","ms","Moz","O"];Object.keys(h0).forEach(function(n){t8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),h0[e]=h0[n]})});function N3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||h0.hasOwnProperty(n)&&h0[n]?(""+e).trim():e+"px"}function B3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=N3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var n8=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cw(n,e){if(e){if(n8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_t(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_t(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(_t(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_t(62))}}function hw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pw=null,Ih=null,Dh=null;function U3(n){if(n=P0(n)){if(typeof pw!="function")throw Error(_t(280));var e=n.stateNode;e&&(e=Qv(e),pw(n.stateNode,n.type,e))}}function z3(n){Ih?Dh?Dh.push(n):Dh=[n]:Ih=n}function G3(){if(Ih){var n=Ih,e=Dh;if(Dh=Ih=null,U3(n),e)for(n=0;n<e.length;n++)U3(e[n])}}function mw(n,e){return n(e)}function H3(n,e,t,r,i){return n(e,t,r,i)}function gw(){}var W3=mw,Vf=!1,vw=!1;function _w(){(Ih!==null||Dh!==null)&&(gw(),G3())}function r8(n,e,t){if(vw)return n(e,t);vw=!0;try{return W3(n,e,t)}finally{vw=!1,_w()}}function d0(n,e){var t=n.stateNode;if(t===null)return null;var r=Qv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(_t(231,e,typeof t));return t}var yw=!1;if(cl)try{Oh={},Object.defineProperty(Oh,"passive",{get:function(){yw=!0}}),window.addEventListener("test",Oh,Oh),window.removeEventListener("test",Oh,Oh)}catch{yw=!1}var Oh;function i8(n,e,t,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var p0=!1,Pv=null,Lv=!1,xw=null,a8={onError:function(n){p0=!0,Pv=n}};function o8(n,e,t,r,i,a,o,s,l){p0=!1,Pv=null,i8.apply(a8,arguments)}function s8(n,e,t,r,i,a,o,s,l){if(o8.apply(this,arguments),p0){if(p0){var c=Pv;p0=!1,Pv=null}else throw Error(_t(198));Lv||(Lv=!0,xw=c)}}function jf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function V3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function j3(n){if(jf(n)!==n)throw Error(_t(188))}function l8(n){var e=n.alternate;if(!e){if(e=jf(n),e===null)throw Error(_t(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return j3(i),n;if(a===r)return j3(i),e;a=a.sibling}throw Error(_t(188))}if(t.return!==r.return)t=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===t){o=!0,t=i,r=a;break}if(s===r){o=!0,r=i,t=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===t){o=!0,t=a,r=i;break}if(s===r){o=!0,r=a,t=i;break}s=s.sibling}if(!o)throw Error(_t(189))}}if(t.alternate!==r)throw Error(_t(190))}if(t.tag!==3)throw Error(_t(188));return t.stateNode.current===t?n:e}function Z3(n){if(n=l8(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function X3(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var Y3,ww,q3,Q3,bw=!1,cs=[],du=null,pu=null,mu=null,m0=new Map,g0=new Map,v0=[],J3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sw(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function K3(n,e){switch(n){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":m0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(e.pointerId)}}function _0(n,e,t,r,i,a){return n===null||n.nativeEvent!==a?(n=Sw(e,t,r,i,a),e!==null&&(e=P0(e),e!==null&&ww(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function u8(n,e,t,r,i){switch(e){case"focusin":return du=_0(du,n,e,t,r,i),!0;case"dragenter":return pu=_0(pu,n,e,t,r,i),!0;case"mouseover":return mu=_0(mu,n,e,t,r,i),!0;case"pointerover":var a=i.pointerId;return m0.set(a,_0(m0.get(a)||null,n,e,t,r,i)),!0;case"gotpointercapture":return a=i.pointerId,g0.set(a,_0(g0.get(a)||null,n,e,t,r,i)),!0}return!1}function f8(n){var e=Zf(n.target);if(e!==null){var t=jf(e);if(t!==null){if(e=t.tag,e===13){if(e=V3(t),e!==null){n.blockedOn=e,Q3(n.lanePriority,function(){Yr.unstable_runWithPriority(n.priority,function(){q3(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Iv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Rw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=P0(t),e!==null&&ww(e),n.blockedOn=t,!1;e.shift()}return!0}function $3(n,e,t){Iv(n)&&t.delete(e)}function c8(){for(bw=!1;0<cs.length;){var n=cs[0];if(n.blockedOn!==null){n=P0(n.blockedOn),n!==null&&Y3(n);break}for(var e=n.targetContainers;0<e.length;){var t=Rw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&cs.shift()}du!==null&&Iv(du)&&(du=null),pu!==null&&Iv(pu)&&(pu=null),mu!==null&&Iv(mu)&&(mu=null),m0.forEach($3),g0.forEach($3)}function y0(n,e){n.blockedOn===e&&(n.blockedOn=null,bw||(bw=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,c8)))}function eT(n){function e(i){return y0(i,n)}if(0<cs.length){y0(cs[0],n);for(var t=1;t<cs.length;t++){var r=cs[t];r.blockedOn===n&&(r.blockedOn=null)}}for(du!==null&&y0(du,n),pu!==null&&y0(pu,n),mu!==null&&y0(mu,n),m0.forEach(e),g0.forEach(e),t=0;t<v0.length;t++)r=v0[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<v0.length&&(t=v0[0],t.blockedOn===null);)f8(t),t.blockedOn===null&&v0.shift()}function Dv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var kh={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},Ew={},tT={};cl&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete kh.animationend.animation,delete kh.animationiteration.animation,delete kh.animationstart.animation),"TransitionEvent"in window||delete kh.transitionend.transition);function Ov(n){if(Ew[n])return Ew[n];if(!kh[n])return n;var e=kh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in tT)return Ew[n]=e[t];return n}var nT=Ov("animationend"),rT=Ov("animationiteration"),iT=Ov("animationstart"),aT=Ov("transitionend"),oT=new Map,Mw=new Map,h8=["abort","abort",nT,"animationEnd",rT,"animationIteration",iT,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",aT,"transitionEnd","waiting","waiting"];function Tw(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Mw.set(r,e),oT.set(r,i),Gf(i,[r])}}var d8=Yr.unstable_now;d8();var qn=8;function Fh(n){if((1&n)!=0)return qn=15,1;if((2&n)!=0)return qn=14,2;if((4&n)!=0)return qn=13,4;var e=24&n;return e!==0?(qn=12,e):(n&32)!=0?(qn=11,32):(e=192&n,e!==0?(qn=10,e):(n&256)!=0?(qn=9,256):(e=3584&n,e!==0?(qn=8,e):(n&4096)!=0?(qn=7,4096):(e=4186112&n,e!==0?(qn=6,e):(e=62914560&n,e!==0?(qn=5,e):n&67108864?(qn=4,67108864):(n&134217728)!=0?(qn=3,134217728):(e=805306368&n,e!==0?(qn=2,e):(1073741824&n)!=0?(qn=1,1073741824):(qn=8,n))))))}function p8(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function m8(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(_t(358,n))}}function x0(n,e){var t=n.pendingLanes;if(t===0)return qn=0;var r=0,i=0,a=n.expiredLanes,o=n.suspendedLanes,s=n.pingedLanes;if(a!==0)r=a,i=qn=15;else if(a=t&134217727,a!==0){var l=a&~o;l!==0?(r=Fh(l),i=qn):(s&=a,s!==0&&(r=Fh(s),i=qn))}else a=t&~o,a!==0?(r=Fh(a),i=qn):s!==0&&(r=Fh(s),i=qn);if(r===0)return 0;if(r=31-gu(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)==0){if(Fh(e),i<=qn)return e;qn=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-gu(e),i=1<<t,r|=n[t],e&=~i;return r}function sT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kv(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Nh(24&~e),n===0?kv(10,e):n;case 10:return n=Nh(192&~e),n===0?kv(8,e):n;case 8:return n=Nh(3584&~e),n===0&&(n=Nh(4186112&~e),n===0&&(n=512)),n;case 2:return e=Nh(805306368&~e),e===0&&(e=268435456),e}throw Error(_t(358,n))}function Nh(n){return n&-n}function Aw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Fv(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-gu(e),n[e]=t}var gu=Math.clz32?Math.clz32:_8,g8=Math.log,v8=Math.LN2;function _8(n){return n===0?32:31-(g8(n)/v8|0)|0}var y8=Yr.unstable_UserBlockingPriority,x8=Yr.unstable_runWithPriority,Nv=!0;function w8(n,e,t,r){Vf||gw();var i=Cw,a=Vf;Vf=!0;try{H3(i,n,e,t,r)}finally{(Vf=a)||_w()}}function b8(n,e,t,r){x8(y8,Cw.bind(null,n,e,t,r))}function Cw(n,e,t,r){if(Nv){var i;if((i=(e&4)==0)&&0<cs.length&&-1<J3.indexOf(n))n=Sw(null,n,e,t,r),cs.push(n);else{var a=Rw(n,e,t,r);if(a===null)i&&K3(n,r);else{if(i){if(-1<J3.indexOf(n)){n=Sw(a,n,e,t,r),cs.push(n);return}if(u8(a,n,e,t,r))return;K3(n,r)}kT(n,e,r,null,t)}}}}function Rw(n,e,t,r){var i=dw(r);if(i=Zf(i),i!==null){var a=jf(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=V3(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return kT(n,e,r,i,t),null}var vu=null,Pw=null,Bv=null;function lT(){if(Bv)return Bv;var n,e=Pw,t=e.length,r,i="value"in vu?vu.value:vu.textContent,a=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[a-r];r++);return Bv=i.slice(n,1<r?1-r:void 0)}function Uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zv(){return!0}function uT(){return!1}function _a(n){function e(t,r,i,a,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zv:uT,this.isPropagationStopped=uT,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zv)},persist:function(){},isPersistent:zv}),e}var Bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=_a(Bh),w0=ar({},Bh,{view:0,detail:0}),S8=_a(w0),Iw,Dw,b0,Gv=ar({},w0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kw,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==b0&&(b0&&n.type==="mousemove"?(Iw=n.screenX-b0.screenX,Dw=n.screenY-b0.screenY):Dw=Iw=0,b0=n),Iw)},movementY:function(n){return"movementY"in n?n.movementY:Dw}}),fT=_a(Gv),E8=ar({},Gv,{dataTransfer:0}),M8=_a(E8),T8=ar({},w0,{relatedTarget:0}),Ow=_a(T8),A8=ar({},Bh,{animationName:0,elapsedTime:0,pseudoElement:0}),C8=_a(A8),R8=ar({},Bh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P8=_a(R8),L8=ar({},Bh,{data:0}),cT=_a(L8),I8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k8(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=O8[n])?!!e[n]:!1}function kw(){return k8}var F8=ar({},w0,{key:function(n){if(n.key){var e=I8[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kw,charCode:function(n){return n.type==="keypress"?Uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),N8=_a(F8),B8=ar({},Gv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hT=_a(B8),U8=ar({},w0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kw}),z8=_a(U8),G8=ar({},Bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),H8=_a(G8),W8=ar({},Gv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),V8=_a(W8),j8=[9,13,27,32],Fw=cl&&"CompositionEvent"in window,S0=null;cl&&"documentMode"in document&&(S0=document.documentMode);var Z8=cl&&"TextEvent"in window&&!S0,dT=cl&&(!Fw||S0&&8<S0&&11>=S0),pT=String.fromCharCode(32),mT=!1;function gT(n,e){switch(n){case"keyup":return j8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Uh=!1;function X8(n,e){switch(n){case"compositionend":return vT(e);case"keypress":return e.which!==32?null:(mT=!0,pT);case"textInput":return n=e.data,n===pT&&mT?null:n;default:return null}}function Y8(n,e){if(Uh)return n==="compositionend"||!Fw&&gT(n,e)?(n=lT(),Bv=Pw=vu=null,Uh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dT&&e.locale!=="ko"?null:e.data;default:return null}}var q8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!q8[n.type]:e==="textarea"}function yT(n,e,t,r){z3(r),e=Zv(e,"onChange"),0<e.length&&(t=new Lw("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var E0=null,M0=null;function Q8(n){PT(n,0)}function Hv(n){var e=Vh(n);if(C3(e))return n}function J8(n,e){if(n==="change")return e}var xT=!1;cl&&(cl?(Vv="oninput"in document,Vv||(Nw=document.createElement("div"),Nw.setAttribute("oninput","return;"),Vv=typeof Nw.oninput=="function"),Wv=Vv):Wv=!1,xT=Wv&&(!document.documentMode||9<document.documentMode));var Wv,Vv,Nw;function wT(){E0&&(E0.detachEvent("onpropertychange",bT),M0=E0=null)}function bT(n){if(n.propertyName==="value"&&Hv(M0)){var e=[];if(yT(e,M0,n,dw(n)),n=Q8,Vf)n(e);else{Vf=!0;try{mw(n,e)}finally{Vf=!1,_w()}}}}function K8(n,e,t){n==="focusin"?(wT(),E0=e,M0=t,E0.attachEvent("onpropertychange",bT)):n==="focusout"&&wT()}function $8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hv(M0)}function eF(n,e){if(n==="click")return Hv(e)}function tF(n,e){if(n==="input"||n==="change")return Hv(e)}function nF(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Xa=typeof Object.is=="function"?Object.is:nF,rF=Object.prototype.hasOwnProperty;function T0(n,e){if(Xa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!rF.call(e,t[r])||!Xa(n[t[r]],e[t[r]]))return!1;return!0}function ST(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ET(n,e){var t=ST(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ST(t)}}function MT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?MT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function TT(){for(var n=window,e=Cv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Cv(n.document)}return e}function Bw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var iF=cl&&"documentMode"in document&&11>=document.documentMode,zh=null,Uw=null,A0=null,zw=!1;function AT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zw||zh==null||zh!==Cv(r)||(r=zh,"selectionStart"in r&&Bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),A0&&T0(A0,r)||(A0=r,r=Zv(Uw,"onSelect"),0<r.length&&(e=new Lw("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=zh)))}Tw("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Tw("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Tw(h8,2);for(Gw="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),jv=0;jv<Gw.length;jv++)Mw.set(Gw[jv],0);var Gw,jv;Rh("onMouseEnter",["mouseout","mouseover"]);Rh("onMouseLeave",["mouseout","mouseover"]);Rh("onPointerEnter",["pointerout","pointerover"]);Rh("onPointerLeave",["pointerout","pointerover"]);Gf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var C0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("cancel close invalid load scroll toggle".split(" ").concat(C0));function RT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,s8(r,e,void 0,n),n.currentTarget=null}function PT(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;RT(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;RT(i,s,c),a=l}}}if(Lv)throw n=xw,Lv=!1,xw=null,n}function tr(n,e){var t=GT(e),r=n+"__bubble";t.has(r)||(OT(e,n,2,!1),t.add(r))}var LT="_reactListening"+Math.random().toString(36).slice(2);function IT(n){n[LT]||(n[LT]=!0,w3.forEach(function(e){CT.has(e)||DT(e,!1,n,null),DT(e,!0,n,null)}))}function DT(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=t;if(n==="selectionchange"&&t.nodeType!==9&&(a=t.ownerDocument),r!==null&&!e&&CT.has(n)){if(n!=="scroll")return;i|=2,a=r}var o=GT(a),s=n+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),OT(a,n,i,e),o.add(s))}function OT(n,e,t,r){var i=Mw.get(e);switch(i===void 0?2:i){case 0:i=w8;break;case 1:i=b8;break;default:i=Cw}t=i.bind(null,e,t,n),i=void 0,!yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function kT(n,e,t,r,i){var a=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Zf(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}r8(function(){var c=a,d=dw(t),m=[];e:{var f=oT.get(n);if(f!==void 0){var h=Lw,u=n;switch(n){case"keypress":if(Uv(t)===0)break e;case"keydown":case"keyup":h=N8;break;case"focusin":u="focus",h=Ow;break;case"focusout":u="blur",h=Ow;break;case"beforeblur":case"afterblur":h=Ow;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=M8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=z8;break;case nT:case rT:case iT:h=C8;break;case aT:h=H8;break;case"scroll":h=S8;break;case"wheel":h=V8;break;case"copy":case"cut":case"paste":h=P8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hT}var v=(e&4)!=0,y=!v&&n==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=c,_;g!==null;){_=g;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,p!==null&&(x=d0(g,p),x!=null&&v.push(R0(g,x,_)))),y)break;g=g.return}0<v.length&&(f=new h(f,u,null,t,d),m.push({event:f,listeners:v}))}}if((e&7)==0){e:{if(f=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",f&&(e&16)==0&&(u=t.relatedTarget||t.fromElement)&&(Zf(u)||u[Wh]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(u=t.relatedTarget||t.toElement,h=c,u=u?Zf(u):null,u!==null&&(y=jf(u),u!==y||u.tag!==5&&u.tag!==6)&&(u=null)):(h=null,u=c),h!==u)){if(v=fT,x="onMouseLeave",p="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(v=hT,x="onPointerLeave",p="onPointerEnter",g="pointer"),y=h==null?f:Vh(h),_=u==null?f:Vh(u),f=new v(x,g+"leave",h,t,d),f.target=y,f.relatedTarget=_,x=null,Zf(d)===c&&(v=new v(p,g+"enter",u,t,d),v.target=_,v.relatedTarget=y,x=v),y=x,h&&u)t:{for(v=h,p=u,g=0,_=v;_;_=Gh(_))g++;for(_=0,x=p;x;x=Gh(x))_++;for(;0<g-_;)v=Gh(v),g--;for(;0<_-g;)p=Gh(p),_--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=Gh(v),p=Gh(p)}v=null}else v=null;h!==null&&FT(m,f,h,v,!1),u!==null&&y!==null&&FT(m,y,u,v,!0)}}e:{if(f=c?Vh(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var b=J8;else if(_T(f))if(xT)b=tF;else{b=$8;var M=K8}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=eF);if(b&&(b=b(n,c))){yT(m,b,t,d);break e}M&&M(n,f,c),n==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&ow(f,"number",f.value)}switch(M=c?Vh(c):window,n){case"focusin":(_T(M)||M.contentEditable==="true")&&(zh=M,Uw=c,A0=null);break;case"focusout":A0=Uw=zh=null;break;case"mousedown":zw=!0;break;case"contextmenu":case"mouseup":case"dragend":zw=!1,AT(m,t,d);break;case"selectionchange":if(iF)break;case"keydown":case"keyup":AT(m,t,d)}var E;if(Fw)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Uh?gT(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(dT&&t.locale!=="ko"&&(Uh||C!=="onCompositionStart"?C==="onCompositionEnd"&&Uh&&(E=lT()):(vu=d,Pw="value"in vu?vu.value:vu.textContent,Uh=!0)),M=Zv(c,C),0<M.length&&(C=new cT(C,n,null,t,d),m.push({event:C,listeners:M}),E?C.data=E:(E=vT(t),E!==null&&(C.data=E)))),(E=Z8?X8(n,t):Y8(n,t))&&(c=Zv(c,"onBeforeInput"),0<c.length&&(d=new cT("onBeforeInput","beforeinput",null,t,d),m.push({event:d,listeners:c}),d.data=E))}PT(m,e)})}function R0(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Zv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=d0(n,t),a!=null&&r.unshift(R0(n,a,i)),a=d0(n,e),a!=null&&r.push(R0(n,a,i))),n=n.return}return r}function Gh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FT(n,e,t,r,i){for(var a=e._reactName,o=[];t!==null&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=d0(t,a),l!=null&&o.unshift(R0(t,l,s))):i||(l=d0(t,a),l!=null&&o.push(R0(t,l,s)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function Xv(){}var Hw=null,Ww=null;function NT(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Vw(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BT=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0;function jw(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Hh(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function UT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Zw=0;function oF(n){return{$$typeof:$x,toString:n,valueOf:n}}var Yv=Math.random().toString(36).slice(2),_u="__reactFiber$"+Yv,qv="__reactProps$"+Yv,Wh="__reactContainer$"+Yv,zT="__reactEvents$"+Yv;function Zf(n){var e=n[_u];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Wh]||t[_u]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=UT(n);n!==null;){if(t=n[_u])return t;n=UT(n)}return e}n=t,t=n.parentNode}return null}function P0(n){return n=n[_u]||n[Wh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(_t(33))}function Qv(n){return n[qv]||null}function GT(n){var e=n[zT];return e===void 0&&(e=n[zT]=new Set),e}var Xw=[],jh=-1;function yu(n){return{current:n}}function nr(n){0>jh||(n.current=Xw[jh],Xw[jh]=null,jh--)}function _r(n,e){jh++,Xw[jh]=n.current,n.current=e}var xu={},wi=yu(xu),ta=yu(!1),Xf=xu;function Zh(n,e){var t=n.type.contextTypes;if(!t)return xu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in t)i[a]=e[a];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function na(n){return n=n.childContextTypes,n!=null}function Jv(){nr(ta),nr(wi)}function HT(n,e,t){if(wi.current!==xu)throw Error(_t(168));_r(wi,e),_r(ta,t)}function WT(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(_t(108,Ph(e)||"Unknown",i));return ar({},t,r)}function Kv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xu,Xf=wi.current,_r(wi,n),_r(ta,ta.current),!0}function VT(n,e,t){var r=n.stateNode;if(!r)throw Error(_t(169));t?(n=WT(n,e,Xf),r.__reactInternalMemoizedMergedChildContext=n,nr(ta),nr(wi),_r(wi,n)):nr(ta),_r(ta,t)}var Yw=null,Yf=null,sF=Yr.unstable_runWithPriority,qw=Yr.unstable_scheduleCallback,Qw=Yr.unstable_cancelCallback,lF=Yr.unstable_shouldYield,jT=Yr.unstable_requestPaint,Jw=Yr.unstable_now,uF=Yr.unstable_getCurrentPriorityLevel,$v=Yr.unstable_ImmediatePriority,ZT=Yr.unstable_UserBlockingPriority,XT=Yr.unstable_NormalPriority,YT=Yr.unstable_LowPriority,qT=Yr.unstable_IdlePriority,Kw={},fF=jT!==void 0?jT:function(){},hl=null,e1=null,$w=!1,QT=Jw(),bi=1e4>QT?Jw:function(){return Jw()-QT};function Xh(){switch(uF()){case $v:return 99;case ZT:return 98;case XT:return 97;case YT:return 96;case qT:return 95;default:throw Error(_t(332))}}function JT(n){switch(n){case 99:return $v;case 98:return ZT;case 97:return XT;case 96:return YT;case 95:return qT;default:throw Error(_t(332))}}function qf(n,e){return n=JT(n),sF(n,e)}function L0(n,e,t){return n=JT(n),qw(n,e,t)}function hs(){if(e1!==null){var n=e1;e1=null,Qw(n)}KT()}function KT(){if(!$w&&hl!==null){$w=!0;var n=0;try{var e=hl;qf(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),hl=null}catch(t){throw hl!==null&&(hl=hl.slice(n+1)),qw($v,hs),t}finally{$w=!1}}}var cF=Hf.ReactCurrentBatchConfig;function Ao(n,e){if(n&&n.defaultProps){e=ar({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var t1=yu(null),n1=null,Yh=null,r1=null;function e2(){r1=Yh=n1=null}function t2(n){var e=t1.current;nr(t1),n.type._context._currentValue=e}function $T(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function qh(n,e){n1=n,r1=Yh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(Co=!0),n.firstContext=null)}function Ya(n,e){if(r1!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(r1=n,e=1073741823),e={context:n,observedBits:e,next:null},Yh===null){if(n1===null)throw Error(_t(308));Yh=e,n1.dependencies={lanes:0,firstContext:e,responders:null}}else Yh=Yh.next=e;return n._currentValue}var wu=!1;function n2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function eA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bu(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Su(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function tA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?i=a=o:a=a.next=o,t=t.next}while(t!==null);a===null?i=a=e:a=a.next=e}else i=a=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function I0(n,e,t,r){var i=n.updateQueue;wu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=n.alternate;if(d!==null){d=d.updateQueue;var m=d.lastBaseUpdate;m!==o&&(m===null?d.firstBaseUpdate=c:m.next=c,d.lastBaseUpdate=l)}}if(a!==null){m=i.baseState,o=0,d=c=l=null;do{s=a.lane;var f=a.eventTime;if((r&s)===s){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=n,u=a;switch(s=e,f=t,u.tag){case 1:if(h=u.payload,typeof h=="function"){m=h.call(f,m,s);break e}m=h;break e;case 3:h.flags=h.flags&-4097|64;case 0:if(h=u.payload,s=typeof h=="function"?h.call(f,m,s):h,s==null)break e;m=ar({},m,s);break e;case 2:wu=!0}}a.callback!==null&&(n.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else f={eventTime:f,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=m):d=d.next=f,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,V0|=o,n.lanes=o,n.memoizedState=m}}function nA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(_t(191,i));i.call(r)}}}var rA=new bv.Component().refs;function i1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ar({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var a1={isMounted:function(n){return(n=n._reactInternals)?jf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ya(),i=Tu(n),a=bu(r,i);a.payload=e,t!=null&&(a.callback=t),Su(n,a),Au(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ya(),i=Tu(n),a=bu(r,i);a.tag=1,a.payload=e,t!=null&&(a.callback=t),Su(n,a),Au(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ya(),r=Tu(n),i=bu(t,r);i.tag=2,e!=null&&(i.callback=e),Su(n,i),Au(n,r,t)}};function iA(n,e,t,r,i,a,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!T0(t,r)||!T0(i,a):!0}function aA(n,e,t){var r=!1,i=xu,a=e.contextType;return typeof a=="object"&&a!==null?a=Ya(a):(i=na(e)?Xf:wi.current,r=e.contextTypes,a=(r=r!=null)?Zh(n,i):xu),e=new e(t,a),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=a1,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=a),e}function oA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&a1.enqueueReplaceState(e,e.state,null)}function r2(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=rA,n2(n);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ya(a):(a=na(e)?Xf:wi.current,i.context=Zh(n,a)),I0(n,t,i,r),i.state=n.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(i1(n,e,a,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&a1.enqueueReplaceState(i,i.state,null),I0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var o1=Array.isArray;function D0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(_t(309));var r=t.stateNode}if(!r)throw Error(_t(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;o===rA&&(o=r.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(_t(284));if(!t._owner)throw Error(_t(290,n))}return n}function s1(n,e){if(n.type!=="textarea")throw Error(_t(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function sA(n){function e(y,p){if(n){var g=y.lastEffect;g!==null?(g.nextEffect=p,y.lastEffect=p):y.firstEffect=y.lastEffect=p,p.nextEffect=null,p.flags=8}}function t(y,p){if(!n)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Pu(y,p),y.index=0,y.sibling=null,y}function a(y,p,g){return y.index=g,n?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags=2,p):g):(y.flags=2,p)):p}function o(y){return n&&y.alternate===null&&(y.flags=2),y}function s(y,p,g,_){return p===null||p.tag!==6?(p=U2(g,y.mode,_),p.return=y,p):(p=i(p,g),p.return=y,p)}function l(y,p,g,_){return p!==null&&p.elementType===g.type?(_=i(p,g.props),_.ref=D0(y,p,g),_.return=y,_):(_=M1(g.type,g.key,g.props,null,y.mode,_),_.ref=D0(y,p,g),_.return=y,_)}function c(y,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=z2(g,y.mode,_),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function d(y,p,g,_,x){return p===null||p.tag!==7?(p=rd(g,y.mode,_,x),p.return=y,p):(p=i(p,g),p.return=y,p)}function m(y,p,g){if(typeof p=="string"||typeof p=="number")return p=U2(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case o0:return g=M1(p.type,p.key,p.props,null,y.mode,g),g.ref=D0(y,null,p),g.return=y,g;case Wf:return p=z2(p,y.mode,g),p.return=y,p}if(o1(p)||u0(p))return p=rd(p,y.mode,g,null),p.return=y,p;s1(y,p)}return null}function f(y,p,g,_){var x=p!==null?p.key:null;if(typeof g=="string"||typeof g=="number")return x!==null?null:s(y,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case o0:return g.key===x?g.type===cu?d(y,p,g.props.children,_,x):l(y,p,g,_):null;case Wf:return g.key===x?c(y,p,g,_):null}if(o1(g)||u0(g))return x!==null?null:d(y,p,g,_,null);s1(y,g)}return null}function h(y,p,g,_,x){if(typeof _=="string"||typeof _=="number")return y=y.get(g)||null,s(p,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case o0:return y=y.get(_.key===null?g:_.key)||null,_.type===cu?d(p,y,_.props.children,x,_.key):l(p,y,_,x);case Wf:return y=y.get(_.key===null?g:_.key)||null,c(p,y,_,x)}if(o1(_)||u0(_))return y=y.get(g)||null,d(p,y,_,x,null);s1(p,_)}return null}function u(y,p,g,_){for(var x=null,b=null,M=p,E=p=0,C=null;M!==null&&E<g.length;E++){M.index>E?(C=M,M=null):C=M.sibling;var R=f(y,M,g[E],_);if(R===null){M===null&&(M=C);break}n&&M&&R.alternate===null&&e(y,M),p=a(R,p,E),b===null?x=R:b.sibling=R,b=R,M=C}if(E===g.length)return t(y,M),x;if(M===null){for(;E<g.length;E++)M=m(y,g[E],_),M!==null&&(p=a(M,p,E),b===null?x=M:b.sibling=M,b=M);return x}for(M=r(y,M);E<g.length;E++)C=h(M,y,E,g[E],_),C!==null&&(n&&C.alternate!==null&&M.delete(C.key===null?E:C.key),p=a(C,p,E),b===null?x=C:b.sibling=C,b=C);return n&&M.forEach(function(I){return e(y,I)}),x}function v(y,p,g,_){var x=u0(g);if(typeof x!="function")throw Error(_t(150));if(g=x.call(g),g==null)throw Error(_t(151));for(var b=x=null,M=p,E=p=0,C=null,R=g.next();M!==null&&!R.done;E++,R=g.next()){M.index>E?(C=M,M=null):C=M.sibling;var I=f(y,M,R.value,_);if(I===null){M===null&&(M=C);break}n&&M&&I.alternate===null&&e(y,M),p=a(I,p,E),b===null?x=I:b.sibling=I,b=I,M=C}if(R.done)return t(y,M),x;if(M===null){for(;!R.done;E++,R=g.next())R=m(y,R.value,_),R!==null&&(p=a(R,p,E),b===null?x=R:b.sibling=R,b=R);return x}for(M=r(y,M);!R.done;E++,R=g.next())R=h(M,y,E,R.value,_),R!==null&&(n&&R.alternate!==null&&M.delete(R.key===null?E:R.key),p=a(R,p,E),b===null?x=R:b.sibling=R,b=R);return n&&M.forEach(function(O){return e(y,O)}),x}return function(y,p,g,_){var x=typeof g=="object"&&g!==null&&g.type===cu&&g.key===null;x&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case o0:e:{for(b=g.key,x=p;x!==null;){if(x.key===b){switch(x.tag){case 7:if(g.type===cu){t(y,x.sibling),p=i(x,g.props.children),p.return=y,y=p;break e}break;default:if(x.elementType===g.type){t(y,x.sibling),p=i(x,g.props),p.ref=D0(y,x,g),p.return=y,y=p;break e}}t(y,x);break}else e(y,x);x=x.sibling}g.type===cu?(p=rd(g.props.children,y.mode,_,g.key),p.return=y,y=p):(_=M1(g.type,g.key,g.props,null,y.mode,_),_.ref=D0(y,p,g),_.return=y,y=_)}return o(y);case Wf:e:{for(x=g.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){t(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{t(y,p);break}else e(y,p);p=p.sibling}p=z2(g,y.mode,_),p.return=y,y=p}return o(y)}if(typeof g=="string"||typeof g=="number")return g=""+g,p!==null&&p.tag===6?(t(y,p.sibling),p=i(p,g),p.return=y,y=p):(t(y,p),p=U2(g,y.mode,_),p.return=y,y=p),o(y);if(o1(g))return u(y,p,g,_);if(u0(g))return v(y,p,g,_);if(b&&s1(y,g),typeof g=="undefined"&&!x)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(_t(152,Ph(y.type)||"Component"))}return t(y,p)}}var l1=sA(!0),lA=sA(!1),O0={},ds=yu(O0),k0=yu(O0),F0=yu(O0);function Qf(n){if(n===O0)throw Error(_t(174));return n}function i2(n,e){switch(_r(F0,e),_r(k0,n),_r(ds,O0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=fw(e,n)}nr(ds),_r(ds,e)}function Qh(){nr(ds),nr(k0),nr(F0)}function uA(n){Qf(F0.current);var e=Qf(ds.current),t=fw(e,n.type);e!==t&&(_r(k0,n),_r(ds,t))}function a2(n){k0.current===n&&(nr(ds),nr(k0))}var yr=yu(0);function u1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=null,Eu=null,ps=!1;function fA(n,e){var t=Ja(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function cA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function o2(n){if(ps){var e=Eu;if(e){var t=e;if(!cA(n,e)){if(e=Hh(t.nextSibling),!e||!cA(n,e)){n.flags=n.flags&-1025|2,ps=!1,dl=n;return}fA(dl,t)}dl=n,Eu=Hh(e.firstChild)}else n.flags=n.flags&-1025|2,ps=!1,dl=n}}function hA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dl=n}function f1(n){if(n!==dl)return!1;if(!ps)return hA(n),ps=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!Vw(e,n.memoizedProps))for(e=Eu;e;)fA(n,e),e=Hh(e.nextSibling);if(hA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(_t(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Eu=Hh(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Eu=null}}else Eu=dl?Hh(n.stateNode.nextSibling):null;return!0}function s2(){Eu=dl=null,ps=!1}var Jh=[];function l2(){for(var n=0;n<Jh.length;n++)Jh[n]._workInProgressVersionPrimary=null;Jh.length=0}var N0=Hf.ReactCurrentDispatcher,qa=Hf.ReactCurrentBatchConfig,B0=0,Ar=null,Si=null,ei=null,c1=!1,U0=!1;function ra(){throw Error(_t(321))}function u2(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xa(n[t],e[t]))return!1;return!0}function f2(n,e,t,r,i,a){if(B0=a,Ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N0.current=n===null||n.memoizedState===null?dF:pF,n=t(r,i),U0){a=0;do{if(U0=!1,!(25>a))throw Error(_t(301));a+=1,ei=Si=null,e.updateQueue=null,N0.current=mF,n=t(r,i)}while(U0)}if(N0.current=m1,e=Si!==null&&Si.next!==null,B0=0,ei=Si=Ar=null,c1=!1,e)throw Error(_t(300));return n}function Jf(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?Ar.memoizedState=ei=n:ei=ei.next=n,ei}function Kf(){if(Si===null){var n=Ar.alternate;n=n!==null?n.memoizedState:null}else n=Si.next;var e=ei===null?Ar.memoizedState:ei.next;if(e!==null)ei=e,Si=n;else{if(n===null)throw Error(_t(310));Si=n,n={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},ei===null?Ar.memoizedState=ei=n:ei=ei.next=n}return ei}function ms(n,e){return typeof e=="function"?e(n):e}function z0(n){var e=Kf(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var r=Si,i=r.baseQueue,a=t.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var s=o=a=null,l=i;do{var c=l.lane;if((B0&c)===c)s!==null&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(o=s=d,a=r):s=s.next=d,Ar.lanes|=c,V0|=c}l=l.next}while(l!==null&&l!==i);s===null?a=r:s.next=o,Xa(r,e.memoizedState)||(Co=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=s,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function G0(n){var e=Kf(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,a=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do a=n(a,o.action),o=o.next;while(o!==i);Xa(a,e.memoizedState)||(Co=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,r]}function dA(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(B0&n)===n)&&(e._workInProgressVersionPrimary=r,Jh.push(e))),n)return t(e._source);throw Jh.push(e),Error(_t(350))}function pA(n,e,t,r){var i=Fi;if(i===null)throw Error(_t(349));var a=e._getVersion,o=a(e._source),s=N0.current,l=s.useState(function(){return dA(i,e,t)}),c=l[1],d=l[0];l=ei;var m=n.memoizedState,f=m.refs,h=f.getSnapshot,u=m.source;m=m.subscribe;var v=Ar;return n.memoizedState={refs:f,source:e,subscribe:r},s.useEffect(function(){f.getSnapshot=t,f.setSnapshot=c;var y=a(e._source);if(!Xa(o,y)){y=t(e._source),Xa(d,y)||(c(y),y=Tu(v),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var p=i.entanglements,g=y;0<g;){var _=31-gu(g),x=1<<_;p[_]|=y,g&=~x}}},[t,e,r]),s.useEffect(function(){return r(e._source,function(){var y=f.getSnapshot,p=f.setSnapshot;try{p(y(e._source));var g=Tu(v);i.mutableReadLanes|=g&i.pendingLanes}catch(_){p(function(){throw _})}})},[e,r]),Xa(h,t)&&Xa(u,e)&&Xa(m,r)||(n={pending:null,dispatch:null,lastRenderedReducer:ms,lastRenderedState:d},n.dispatch=c=p2.bind(null,Ar,n),l.queue=n,l.baseQueue=null,d=dA(i,e,t),l.memoizedState=l.baseState=d),d}function mA(n,e,t){var r=Kf();return pA(r,n,e,t)}function H0(n){var e=Jf();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},n=n.dispatch=p2.bind(null,Ar,n),[e.memoizedState,n]}function h1(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ar.updateQueue,e===null?(e={lastEffect:null},Ar.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function gA(n){var e=Jf();return n={current:n},e.memoizedState=n}function d1(){return Kf().memoizedState}function c2(n,e,t,r){var i=Jf();Ar.flags|=n,i.memoizedState=h1(1|e,t,void 0,r===void 0?null:r)}function h2(n,e,t,r){var i=Kf();r=r===void 0?null:r;var a=void 0;if(Si!==null){var o=Si.memoizedState;if(a=o.destroy,r!==null&&u2(r,o.deps)){h1(e,t,a,r);return}}Ar.flags|=n,i.memoizedState=h1(1|e,t,a,r)}function vA(n,e){return c2(516,4,n,e)}function p1(n,e){return h2(516,4,n,e)}function _A(n,e){return h2(4,2,n,e)}function yA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function xA(n,e,t){return t=t!=null?t.concat([n]):null,h2(4,2,yA.bind(null,e,n),t)}function d2(){}function wA(n,e){var t=Kf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&u2(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function bA(n,e){var t=Kf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&u2(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function hF(n,e){var t=Xh();qf(98>t?98:t,function(){n(!0)}),qf(97<t?97:t,function(){var r=qa.transition;qa.transition=1;try{n(!1),e()}finally{qa.transition=r}})}function p2(n,e,t){var r=ya(),i=Tu(n),a={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=n.alternate,n===Ar||o!==null&&o===Ar)U0=c1=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,t);if(a.eagerReducer=o,a.eagerState=l,Xa(l,s))return}catch{}finally{}Au(n,i,r)}}var m1={readContext:Ya,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},dF={readContext:Ya,useCallback:function(n,e){return Jf().memoizedState=[n,e===void 0?null:e],n},useContext:Ya,useEffect:vA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,c2(4,2,yA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return c2(4,2,n,e)},useMemo:function(n,e){var t=Jf();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Jf();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=p2.bind(null,Ar,n),[r.memoizedState,n]},useRef:gA,useState:H0,useDebugValue:d2,useDeferredValue:function(n){var e=H0(n),t=e[0],r=e[1];return vA(function(){var i=qa.transition;qa.transition=1;try{r(n)}finally{qa.transition=i}},[n]),t},useTransition:function(){var n=H0(!1),e=n[0];return n=hF.bind(null,n[1]),gA(n),[n,e]},useMutableSource:function(n,e,t){var r=Jf();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},pA(r,n,e,t)},useOpaqueIdentifier:function(){if(ps){var n=!1,e=oF(function(){throw n||(n=!0,t("r:"+(Zw++).toString(36))),Error(_t(355))}),t=H0(e)[1];return(Ar.mode&2)==0&&(Ar.flags|=516,h1(5,function(){t("r:"+(Zw++).toString(36))},void 0,null)),e}return e="r:"+(Zw++).toString(36),H0(e),e},unstable_isNewReconciler:!1},pF={readContext:Ya,useCallback:wA,useContext:Ya,useEffect:p1,useImperativeHandle:xA,useLayoutEffect:_A,useMemo:bA,useReducer:z0,useRef:d1,useState:function(){return z0(ms)},useDebugValue:d2,useDeferredValue:function(n){var e=z0(ms),t=e[0],r=e[1];return p1(function(){var i=qa.transition;qa.transition=1;try{r(n)}finally{qa.transition=i}},[n]),t},useTransition:function(){var n=z0(ms)[0];return[d1().current,n]},useMutableSource:mA,useOpaqueIdentifier:function(){return z0(ms)[0]},unstable_isNewReconciler:!1},mF={readContext:Ya,useCallback:wA,useContext:Ya,useEffect:p1,useImperativeHandle:xA,useLayoutEffect:_A,useMemo:bA,useReducer:G0,useRef:d1,useState:function(){return G0(ms)},useDebugValue:d2,useDeferredValue:function(n){var e=G0(ms),t=e[0],r=e[1];return p1(function(){var i=qa.transition;qa.transition=1;try{r(n)}finally{qa.transition=i}},[n]),t},useTransition:function(){var n=G0(ms)[0];return[d1().current,n]},useMutableSource:mA,useOpaqueIdentifier:function(){return G0(ms)[0]},unstable_isNewReconciler:!1},gF=Hf.ReactCurrentOwner,Co=!1;function ia(n,e,t,r){e.child=n===null?lA(e,null,t,r):l1(e,n.child,t,r)}function SA(n,e,t,r,i){t=t.render;var a=e.ref;return qh(e,i),r=f2(n,e,t,r,a,i),n!==null&&!Co?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,pl(n,e,i)):(e.flags|=1,ia(n,e,r,i),e.child)}function EA(n,e,t,r,i,a){if(n===null){var o=t.type;return typeof o=="function"&&!N2(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,MA(n,e,o,r,i,a)):(n=M1(t.type,null,r,e,e.mode,a),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&a)==0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:T0,t(i,r)&&n.ref===e.ref)?pl(n,e,a):(e.flags|=1,n=Pu(o,r),n.ref=e.ref,n.return=e,e.child=n)}function MA(n,e,t,r,i,a){if(n!==null&&T0(n.memoizedProps,r)&&n.ref===e.ref)if(Co=!1,(a&i)!=0)(n.flags&16384)!=0&&(Co=!0);else return e.lanes=n.lanes,pl(n,e,a);return g2(n,e,t,r,a)}function m2(n,e,t){var r=e.pendingProps,i=r.children,a=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},E1(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},E1(e,a!==null?a.baseLanes:t);else return n=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},E1(e,n),null;else a!==null?(r=a.baseLanes|t,e.memoizedState=null):r=t,E1(e,r);return ia(n,e,i,t),e.child}function TA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function g2(n,e,t,r,i){var a=na(t)?Xf:wi.current;return a=Zh(e,a),qh(e,i),t=f2(n,e,t,r,a,i),n!==null&&!Co?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,pl(n,e,i)):(e.flags|=1,ia(n,e,t,i),e.child)}function AA(n,e,t,r,i){if(na(t)){var a=!0;Kv(e)}else a=!1;if(qh(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),aA(e,t,r),r2(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ya(c):(c=na(t)?Xf:wi.current,c=Zh(e,c));var d=t.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&oA(e,o,r,c),wu=!1;var f=e.memoizedState;o.state=f,I0(e,r,o,i),l=e.memoizedState,s!==r||f!==l||ta.current||wu?(typeof d=="function"&&(i1(e,t,d,r),l=e.memoizedState),(s=wu||iA(e,t,s,r,f,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,eA(n,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ao(e.type,s),o.props=c,m=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ya(l):(l=na(t)?Xf:wi.current,l=Zh(e,l));var h=t.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==m||f!==l)&&oA(e,o,r,l),wu=!1,f=e.memoizedState,o.state=f,I0(e,r,o,i);var u=e.memoizedState;s!==m||f!==u||ta.current||wu?(typeof h=="function"&&(i1(e,t,h,r),u=e.memoizedState),(c=wu||iA(e,t,c,r,f,u,l))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,u,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,u,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=256),r=!1)}return v2(n,e,t,r,a,i)}function v2(n,e,t,r,i,a){TA(n,e);var o=(e.flags&64)!=0;if(!r&&!o)return i&&VT(e,t,!1),pl(n,e,a);r=e.stateNode,gF.current=e;var s=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=l1(e,n.child,null,a),e.child=l1(e,null,s,a)):ia(n,e,s,a),e.memoizedState=r.state,i&&VT(e,t,!0),e.child}function CA(n){var e=n.stateNode;e.pendingContext?HT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&HT(n,e.context,!1),i2(n,e.containerInfo)}var g1={dehydrated:null,retryLane:0};function RA(n,e,t){var r=e.pendingProps,i=yr.current,a=!1,o;return(o=(e.flags&64)!=0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!=0),o?(a=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),_r(yr,i&1),n===null?(r.fallback!==void 0&&o2(e),n=r.children,i=r.fallback,a?(n=PA(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=g1,n):typeof r.unstable_expectedLoadTime=="number"?(n=PA(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=g1,e.lanes=33554432,n):(t=B2({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?a?(r=IA(n,e,r.children,r.fallback,t),a=e.child,i=n.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=n.childLanes&~t,e.memoizedState=g1,r):(t=LA(n,e,r.children,t),e.memoizedState=null,t):a?(r=IA(n,e,r.children,r.fallback,t),a=e.child,i=n.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=n.childLanes&~t,e.memoizedState=g1,r):(t=LA(n,e,r.children,t),e.memoizedState=null,t)}function PA(n,e,t,r){var i=n.mode,a=n.child;return e={mode:"hidden",children:e},(i&2)==0&&a!==null?(a.childLanes=0,a.pendingProps=e):a=B2(e,i,0,null),t=rd(t,i,r,null),a.return=n,t.return=n,a.sibling=t,n.child=a,t}function LA(n,e,t,r){var i=n.child;return n=i.sibling,t=Pu(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function IA(n,e,t,r,i){var a=e.mode,o=n.child;n=o.sibling;var s={mode:"hidden",children:t};return(a&2)==0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=s,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Pu(o,s),n!==null?r=Pu(n,r):(r=rd(r,a,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function DA(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),$T(n.return,e)}function _2(n,e,t,r,i,a){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=a)}function OA(n,e,t){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ia(n,e,r.children,t),r=yr.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&DA(n,t);else if(n.tag===19)DA(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(_r(yr,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&u1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),_2(e,!1,i,t,a,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&u1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}_2(e,!0,t,null,a,e.lastEffect);break;case"together":_2(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function pl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),V0|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(_t(153));if(e.child!==null){for(n=e.child,t=Pu(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Pu(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var kA,y2,FA,NA;kA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};y2=function(){};FA=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Qf(ds.current);var a=null;switch(t){case"input":i=iw(n,i),r=iw(n,r),a=[];break;case"option":i=sw(n,i),r=sw(n,r),a=[];break;case"select":i=ar({},i,{value:void 0}),r=ar({},r,{value:void 0}),a=[];break;case"textarea":i=lw(n,i),r=lw(n,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Xv)}cw(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a0.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(a||(a=[]),a.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(a0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tr("scroll",n),a||s===l||(a=[])):typeof l=="object"&&l!==null&&l.$$typeof===$x?l.toString():(a=a||[]).push(c,l))}t&&(a=a||[]).push("style",t);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};NA=function(n,e,t,r){t!==r&&(e.flags|=4)};function W0(n,e){if(!ps)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function vF(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return na(e.type)&&Jv(),null;case 3:return Qh(),nr(ta),nr(wi),l2(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(f1(e)?e.flags|=4:r.hydrate||(e.flags|=256)),y2(e),null;case 5:a2(e);var i=Qf(F0.current);if(t=e.type,n!==null&&e.stateNode!=null)FA(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(_t(166));return null}if(n=Qf(ds.current),f1(e)){r=e.stateNode,t=e.type;var a=e.memoizedProps;switch(r[_u]=e,r[qv]=a,t){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(n=0;n<C0.length;n++)tr(C0[n],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":R3(r,a),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tr("invalid",r);break;case"textarea":I3(r,a),tr("invalid",r)}cw(t,a),n=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):a0.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&tr("scroll",r));switch(t){case"input":Av(r),L3(r,a,!0);break;case"textarea":Av(r),O3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Xv)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===uw.html&&(n=k3(t)),n===uw.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[_u]=e,n[qv]=r,kA(n,e,!1,!1),e.stateNode=n,o=hw(t,r),t){case"dialog":tr("cancel",n),tr("close",n),i=r;break;case"iframe":case"object":case"embed":tr("load",n),i=r;break;case"video":case"audio":for(i=0;i<C0.length;i++)tr(C0[i],n);i=r;break;case"source":tr("error",n),i=r;break;case"img":case"image":case"link":tr("error",n),tr("load",n),i=r;break;case"details":tr("toggle",n),i=r;break;case"input":R3(n,r),i=iw(n,r),tr("invalid",n);break;case"option":i=sw(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ar({},r,{value:void 0}),tr("invalid",n);break;case"textarea":I3(n,r),i=lw(n,r),tr("invalid",n);break;default:i=r}cw(t,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?B3(n,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F3(n,l)):a==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&c0(n,l):typeof l=="number"&&c0(n,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(a0.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tr("scroll",n):l!=null&&Xx(n,a,l,o))}switch(t){case"input":Av(n),L3(n,r,!1);break;case"textarea":Av(n),O3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+hu(r.value));break;case"select":n.multiple=!!r.multiple,a=r.value,a!=null?Lh(n,!!r.multiple,a,!1):r.defaultValue!=null&&Lh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Xv)}NT(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)NA(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_t(166));t=Qf(F0.current),Qf(ds.current),f1(e)?(r=e.stateNode,t=e.memoizedProps,r[_u]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[_u]=e,e.stateNode=r)}return null;case 13:return nr(yr),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&f1(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(yr.current&1)!=0?ti===0&&(ti=3):((ti===0||ti===3)&&(ti=4),Fi===null||(V0&134217727)==0&&($h&134217727)==0||td(Fi,Ei))),(r||t)&&(e.flags|=4),null);case 4:return Qh(),y2(e),n===null&&IT(e.stateNode.containerInfo),null;case 10:return t2(e),null;case 17:return na(e.type)&&Jv(),null;case 19:if(nr(yr),r=e.memoizedState,r===null)return null;if(a=(e.flags&64)!=0,o=r.rendering,o===null)if(a)W0(r,!1);else{if(ti!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(o=u1(n),o!==null){for(e.flags|=64,W0(r,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)a=t,n=r,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=n,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,n=o.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _r(yr,yr.current&1|2),e.child}n=n.sibling}r.tail!==null&&bi()>P2&&(e.flags|=64,a=!0,W0(r,!1),e.lanes=33554432)}else{if(!a)if(n=u1(o),n!==null){if(e.flags|=64,a=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),W0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ps)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*bi()-r.renderingStartTime>P2&&t!==1073741824&&(e.flags|=64,a=!0,W0(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=bi(),t.sibling=null,e=yr.current,_r(yr,a?e&1|2:e&1),t):null;case 23:case 24:return F2(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(_t(156,e.tag))}function _F(n){switch(n.tag){case 1:na(n.type)&&Jv();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(Qh(),nr(ta),nr(wi),l2(),e=n.flags,(e&64)!=0)throw Error(_t(285));return n.flags=e&-4097|64,n;case 5:return a2(n),null;case 13:return nr(yr),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return nr(yr),null;case 4:return Qh(),null;case 10:return t2(n),null;case 23:case 24:return F2(),null;default:return null}}function x2(n,e){try{var t="",r=e;do t+=Kk(r),r=r.return;while(r);var i=t}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:n,source:e,stack:i}}function w2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var yF=typeof WeakMap=="function"?WeakMap:Map;function BA(n,e,t){t=bu(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){y1||(y1=!0,L2=r),w2(n,e)},t}function UA(n,e,t){t=bu(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return w2(n,e),r(i)}}var a=n.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this),w2(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var xF=typeof WeakSet=="function"?WeakSet:Set;function zA(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Ru(n,t)}else e.current=null}function wF(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:Ao(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&jw(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(_t(163))}function bF(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(tC(t,n),PF(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:Ao(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&nA(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nA(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&NT(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&eT(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(_t(163))}function GA(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=N3("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function HA(n,e){if(Yf&&typeof Yf.onCommitFiberUnmount=="function")try{Yf.onCommitFiberUnmount(Yw,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)tC(e,t);else{r=e;try{i()}catch(a){Ru(r,a)}}t=t.next}while(t!==n)}break;case 1:if(zA(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(a){Ru(e,a)}break;case 5:zA(e);break;case 4:ZA(n,e)}}function WA(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function VA(n){return n.tag===5||n.tag===3||n.tag===4}function jA(n){e:{for(var e=n.return;e!==null;){if(VA(e))break e;e=e.return}throw Error(_t(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(_t(161))}t.flags&16&&(c0(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||VA(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?b2(n,t,e):S2(n,t,e)}function b2(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xv));else if(r!==4&&(n=n.child,n!==null))for(b2(n,e,t),n=n.sibling;n!==null;)b2(n,e,t),n=n.sibling}function S2(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(S2(n,e,t),n=n.sibling;n!==null;)S2(n,e,t),n=n.sibling}function ZA(n,e){for(var t=e,r=!1,i,a;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(_t(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,s=t,l=s;;)if(HA(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}a?(o=i,s=t.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(HA(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function E2(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(t[qv]=r,n==="input"&&r.type==="radio"&&r.name!=null&&P3(t,r),hw(n,i),e=hw(n,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?B3(t,s):o==="dangerouslySetInnerHTML"?F3(t,s):o==="children"?c0(t,s):Xx(t,o,s,e)}switch(n){case"input":aw(t,r);break;case"textarea":D3(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,a=r.value,a!=null?Lh(t,!!r.multiple,a,!1):n!==!!r.multiple&&(r.defaultValue!=null?Lh(t,!!r.multiple,r.defaultValue,!0):Lh(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(_t(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,eT(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(R2=bi(),GA(e.child,!0)),XA(e);return;case 19:XA(e);return;case 17:return;case 23:case 24:GA(e,e.memoizedState!==null);return}throw Error(_t(163))}function XA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xF),e.forEach(function(r){var i=DF.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function SF(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var EF=Math.ceil,v1=Hf.ReactCurrentDispatcher,M2=Hf.ReactCurrentOwner,tn=0,Fi=null,Ur=null,Ei=0,$f=0,T2=yu(0),ti=0,_1=null,Kh=0,V0=0,$h=0,A2=0,C2=null,R2=0,P2=1/0;function ed(){P2=bi()+500}var It=null,y1=!1,L2=null,gs=null,Mu=!1,j0=null,Z0=90,I2=[],D2=[],ml=null,X0=0,O2=null,x1=-1,gl=0,w1=0,Y0=null,b1=!1;function ya(){return(tn&48)!=0?bi():x1!==-1?x1:x1=bi()}function Tu(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return Xh()===99?1:2;if(gl===0&&(gl=Kh),cF.transition!==0){w1!==0&&(w1=C2!==null?C2.pendingLanes:0),n=gl;var e=4186112&~w1;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=Xh(),(tn&4)!=0&&n===98?n=kv(12,gl):(n=p8(n),n=kv(n,gl)),n}function Au(n,e,t){if(50<X0)throw X0=0,O2=null,Error(_t(185));if(n=S1(n,e),n===null)return null;Fv(n,e,t),n===Fi&&($h|=e,ti===4&&td(n,Ei));var r=Xh();e===1?(tn&8)!=0&&(tn&48)==0?k2(n):(Qa(n,t),tn===0&&(ed(),hs())):((tn&4)==0||r!==98&&r!==99||(ml===null?ml=new Set([n]):ml.add(n)),Qa(n,t)),C2=n}function S1(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Qa(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,a=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-gu(o),l=1<<s,c=a[s];if(c===-1){if((l&r)==0||(l&i)!=0){c=e,Fh(l);var d=qn;a[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=e&&(n.expiredLanes|=l);o&=~l}if(r=x0(n,n===Fi?Ei:0),e=qn,r===0)t!==null&&(t!==Kw&&Qw(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==Kw&&Qw(t)}e===15?(t=k2.bind(null,n),hl===null?(hl=[t],e1=qw($v,KT)):hl.push(t),t=Kw):e===14?t=L0(99,k2.bind(null,n)):(t=m8(e),t=L0(t,YA.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function YA(n){if(x1=-1,w1=gl=0,(tn&48)!=0)throw Error(_t(327));var e=n.callbackNode;if(Cu()&&n.callbackNode!==e)return null;var t=x0(n,n===Fi?Ei:0);if(t===0)return null;var r=t,i=tn;tn|=16;var a=KA();(Fi!==n||Ei!==r)&&(ed(),nd(n,r));do try{AF();break}catch(s){JA(n,s)}while(1);if(e2(),v1.current=a,tn=i,Ur!==null?r=0:(Fi=null,Ei=0,r=ti),(Kh&$h)!=0)nd(n,0);else if(r!==0){if(r===2&&(tn|=64,n.hydrate&&(n.hydrate=!1,jw(n.containerInfo)),t=sT(n),t!==0&&(r=q0(n,t))),r===1)throw e=_1,nd(n,0),td(n,t),Qa(n,bi()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(_t(345));case 2:ec(n);break;case 3:if(td(n,t),(t&62914560)===t&&(r=R2+500-bi(),10<r)){if(x0(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){ya(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=BT(ec.bind(null,n),r);break}ec(n);break;case 4:if(td(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-gu(t);a=1<<o,o=r[o],o>i&&(i=o),t&=~a}if(t=i,t=bi()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*EF(t/1960))-t,10<t){n.timeoutHandle=BT(ec.bind(null,n),t);break}ec(n);break;case 5:ec(n);break;default:throw Error(_t(329))}}return Qa(n,bi()),n.callbackNode===e?YA.bind(null,n):null}function td(n,e){for(e&=~A2,e&=~$h,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-gu(e),r=1<<t;n[t]=-1,e&=~r}}function k2(n){if((tn&48)!=0)throw Error(_t(327));if(Cu(),n===Fi&&(n.expiredLanes&Ei)!=0){var e=Ei,t=q0(n,e);(Kh&$h)!=0&&(e=x0(n,e),t=q0(n,e))}else e=x0(n,0),t=q0(n,e);if(n.tag!==0&&t===2&&(tn|=64,n.hydrate&&(n.hydrate=!1,jw(n.containerInfo)),e=sT(n),e!==0&&(t=q0(n,e))),t===1)throw t=_1,nd(n,0),td(n,e),Qa(n,bi()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,ec(n),Qa(n,bi()),null}function MF(){if(ml!==null){var n=ml;ml=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Qa(e,bi())})}hs()}function qA(n,e){var t=tn;tn|=1;try{return n(e)}finally{tn=t,tn===0&&(ed(),hs())}}function QA(n,e){var t=tn;tn&=-2,tn|=8;try{return n(e)}finally{tn=t,tn===0&&(ed(),hs())}}function E1(n,e){_r(T2,$f),$f|=e,Kh|=e}function F2(){$f=T2.current,nr(T2)}function nd(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,aF(t)),Ur!==null)for(t=Ur.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jv();break;case 3:Qh(),nr(ta),nr(wi),l2();break;case 5:a2(r);break;case 4:Qh();break;case 13:nr(yr);break;case 19:nr(yr);break;case 10:t2(r);break;case 23:case 24:F2()}t=t.return}Fi=n,Ur=Pu(n.current,null),Ei=$f=Kh=e,ti=0,_1=null,A2=$h=V0=0}function JA(n,e){do{var t=Ur;try{if(e2(),N0.current=m1,c1){for(var r=Ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}c1=!1}if(B0=0,ei=Si=Ar=null,U0=!1,M2.current=null,t===null||t.return===null){ti=1,_1=e,Ur=null;break}e:{var a=n,o=t.return,s=t,l=e;if(e=Ei,s.flags|=2048,s.firstEffect=s.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((s.mode&2)==0){var d=s.alternate;d?(s.updateQueue=d.updateQueue,s.memoizedState=d.memoizedState,s.lanes=d.lanes):(s.updateQueue=null,s.memoizedState=null)}var m=(yr.current&1)!=0,f=o;do{var h;if(h=f.tag===13){var u=f.memoizedState;if(u!==null)h=u.dehydrated!==null;else{var v=f.memoizedProps;h=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!m}}if(h){var y=f.updateQueue;if(y===null){var p=new Set;p.add(c),f.updateQueue=p}else y.add(c);if((f.mode&2)==0){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=bu(-1,1);g.tag=2,Su(s,g)}s.lanes|=1;break e}l=void 0,s=e;var _=a.pingCache;if(_===null?(_=a.pingCache=new yF,l=new Set,_.set(c,l)):(l=_.get(c),l===void 0&&(l=new Set,_.set(c,l))),!l.has(s)){l.add(s);var x=IF.bind(null,a,c,s);c.then(x,x)}f.flags|=4096,f.lanes=e;break e}f=f.return}while(f!==null);l=Error((Ph(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ti!==5&&(ti=2),l=x2(l,s),f=o;do{switch(f.tag){case 3:a=l,f.flags|=4096,e&=-e,f.lanes|=e;var b=BA(f,a,e);tA(f,b);break e;case 1:a=l;var M=f.type,E=f.stateNode;if((f.flags&64)==0&&(typeof M.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gs===null||!gs.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e;var C=UA(f,a,e);tA(f,C);break e}}f=f.return}while(f!==null)}eC(t)}catch(R){e=R,Ur===t&&t!==null&&(Ur=t=t.return);continue}break}while(1)}function KA(){var n=v1.current;return v1.current=m1,n===null?m1:n}function q0(n,e){var t=tn;tn|=16;var r=KA();Fi===n&&Ei===e||nd(n,e);do try{TF();break}catch(i){JA(n,i)}while(1);if(e2(),tn=t,v1.current=r,Ur!==null)throw Error(_t(261));return Fi=null,Ei=0,ti}function TF(){for(;Ur!==null;)$A(Ur)}function AF(){for(;Ur!==null&&!lF();)$A(Ur)}function $A(n){var e=rC(n.alternate,n,$f);n.memoizedProps=n.pendingProps,e===null?eC(n):Ur=e,M2.current=null}function eC(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=vF(t,e,$f),t!==null){Ur=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||($f&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=_F(e),t!==null){t.flags&=2047,Ur=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=n}while(e!==null);ti===0&&(ti=5)}function ec(n){var e=Xh();return qf(99,CF.bind(null,n,e)),null}function CF(n,e){do Cu();while(j0!==null);if((tn&48)!=0)throw Error(_t(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(_t(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,s=n.expirationTimes;0<a;){var l=31-gu(a),c=1<<l;i[l]=0,o[l]=-1,s[l]=-1,a&=~c}if(ml!==null&&(r&24)==0&&ml.has(n)&&ml.delete(n),n===Fi&&(Ur=Fi=null,Ei=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=tn,tn|=32,M2.current=null,Hw=Nv,o=TT(),Bw(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&c.rangeCount!==0){s=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var d=0,m=-1,f=-1,h=0,u=0,v=o,y=null;t:for(;;){for(var p;v!==s||a!==0&&v.nodeType!==3||(m=d+a),v!==l||c!==0&&v.nodeType!==3||(f=d+c),v.nodeType===3&&(d+=v.nodeValue.length),(p=v.firstChild)!==null;)y=v,v=p;for(;;){if(v===o)break t;if(y===s&&++h===a&&(m=d),y===l&&++u===c&&(f=d),(p=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=p}s=m===-1||f===-1?null:{start:m,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;Ww={focusedElem:o,selectionRange:s},Nv=!1,Y0=null,b1=!1,It=r;do try{RF()}catch(R){if(It===null)throw Error(_t(330));Ru(It,R),It=It.nextEffect}while(It!==null);Y0=null,It=r;do try{for(o=n;It!==null;){var g=It.flags;if(g&16&&c0(It.stateNode,""),g&128){var _=It.alternate;if(_!==null){var x=_.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(g&1038){case 2:jA(It),It.flags&=-3;break;case 6:jA(It),It.flags&=-3,E2(It.alternate,It);break;case 1024:It.flags&=-1025;break;case 1028:It.flags&=-1025,E2(It.alternate,It);break;case 4:E2(It.alternate,It);break;case 8:s=It,ZA(o,s);var b=s.alternate;WA(s),b!==null&&WA(b)}It=It.nextEffect}}catch(R){if(It===null)throw Error(_t(330));Ru(It,R),It=It.nextEffect}while(It!==null);if(x=Ww,_=TT(),g=x.focusedElem,o=x.selectionRange,_!==g&&g&&g.ownerDocument&&MT(g.ownerDocument.documentElement,g)){for(o!==null&&Bw(g)&&(_=o.start,x=o.end,x===void 0&&(x=_),"selectionStart"in g?(g.selectionStart=_,g.selectionEnd=Math.min(x,g.value.length)):(x=(_=g.ownerDocument||document)&&_.defaultView||window,x.getSelection&&(x=x.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!x.extend&&b>o&&(s=o,o=b,b=s),s=ET(g,b),a=ET(g,o),s&&a&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(s.node,s.offset),x.removeAllRanges(),b>o?(x.addRange(_),x.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),x.addRange(_)))))),_=[],x=g;x=x.parentNode;)x.nodeType===1&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<_.length;g++)x=_[g],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Nv=!!Hw,Ww=Hw=null,n.current=t,It=r;do try{for(g=n;It!==null;){var M=It.flags;if(M&36&&bF(g,It.alternate,It),M&128){_=void 0;var E=It.ref;if(E!==null){var C=It.stateNode;switch(It.tag){case 5:_=C;break;default:_=C}typeof E=="function"?E(_):E.current=_}}It=It.nextEffect}}catch(R){if(It===null)throw Error(_t(330));Ru(It,R),It=It.nextEffect}while(It!==null);It=null,fF(),tn=i}else n.current=t;if(Mu)Mu=!1,j0=n,Z0=e;else for(It=r;It!==null;)e=It.nextEffect,It.nextEffect=null,It.flags&8&&(M=It,M.sibling=null,M.stateNode=null),It=e;if(r=n.pendingLanes,r===0&&(gs=null),r===1?n===O2?X0++:(X0=0,O2=n):X0=0,t=t.stateNode,Yf&&typeof Yf.onCommitFiberRoot=="function")try{Yf.onCommitFiberRoot(Yw,t,void 0,(t.current.flags&64)==64)}catch{}if(Qa(n,bi()),y1)throw y1=!1,n=L2,L2=null,n;return(tn&8)!=0||hs(),null}function RF(){for(;It!==null;){var n=It.alternate;b1||Y0===null||((It.flags&8)!=0?X3(It,Y0)&&(b1=!0):It.tag===13&&SF(n,It)&&X3(It,Y0)&&(b1=!0));var e=It.flags;(e&256)!=0&&wF(n,It),(e&512)==0||Mu||(Mu=!0,L0(97,function(){return Cu(),null})),It=It.nextEffect}}function Cu(){if(Z0!==90){var n=97<Z0?97:Z0;return Z0=90,qf(n,LF)}return!1}function PF(n,e){I2.push(e,n),Mu||(Mu=!0,L0(97,function(){return Cu(),null}))}function tC(n,e){D2.push(e,n),Mu||(Mu=!0,L0(97,function(){return Cu(),null}))}function LF(){if(j0===null)return!1;var n=j0;if(j0=null,(tn&48)!=0)throw Error(_t(331));var e=tn;tn|=32;var t=D2;D2=[];for(var r=0;r<t.length;r+=2){var i=t[r],a=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(a===null)throw Error(_t(330));Ru(a,l)}}for(t=I2,I2=[],r=0;r<t.length;r+=2){i=t[r],a=t[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(a===null)throw Error(_t(330));Ru(a,l)}}for(s=n.current.firstEffect;s!==null;)n=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=n;return tn=e,hs(),!0}function nC(n,e,t){e=x2(t,e),e=BA(n,e,1),Su(n,e),e=ya(),n=S1(n,1),n!==null&&(Fv(n,1,e),Qa(n,e))}function Ru(n,e){if(n.tag===3)nC(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){nC(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){n=x2(e,n);var i=UA(t,n,1);if(Su(t,i),i=ya(),t=S1(t,1),t!==null)Fv(t,1,i),Qa(t,i);else if(typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function IF(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ya(),n.pingedLanes|=n.suspendedLanes&t,Fi===n&&(Ei&t)===t&&(ti===4||ti===3&&(Ei&62914560)===Ei&&500>bi()-R2?nd(n,0):A2|=t),Qa(n,e)}function DF(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=Xh()===99?1:2:(gl===0&&(gl=Kh),e=Nh(62914560&~gl),e===0&&(e=4194304))),t=ya(),n=S1(n,e),n!==null&&(Fv(n,e,t),Qa(n,t))}var rC;rC=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||ta.current)Co=!0;else if((t&r)!=0)Co=(n.flags&16384)!=0;else{switch(Co=!1,e.tag){case 3:CA(e),s2();break;case 5:uA(e);break;case 1:na(e.type)&&Kv(e);break;case 4:i2(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;_r(t1,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?RA(n,e,t):(_r(yr,yr.current&1),e=pl(n,e,t),e!==null?e.sibling:null);_r(yr,yr.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return OA(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_r(yr,yr.current),r)break;return null;case 23:case 24:return e.lanes=0,m2(n,e,t)}return pl(n,e,t)}else Co=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=Zh(e,wi.current),qh(e,t),i=f2(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,na(r)){var a=!0;Kv(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n2(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&i1(e,r,o,n),i.updater=a1,e.stateNode=i,i._reactInternals=e,r2(e,r,n,t),e=v2(null,e,r,!0,a,t)}else e.tag=0,ia(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=kF(i),n=Ao(i,n),a){case 0:e=g2(null,e,i,n,t);break e;case 1:e=AA(null,e,i,n,t);break e;case 11:e=SA(null,e,i,n,t);break e;case 14:e=EA(null,e,i,Ao(i.type,n),r,t);break e}throw Error(_t(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),g2(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),AA(n,e,r,i,t);case 3:if(CA(e),r=e.updateQueue,n===null||r===null)throw Error(_t(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,eA(n,e),I0(e,r,null,t),r=e.memoizedState.element,r===i)s2(),e=pl(n,e,t);else{if(i=e.stateNode,(a=i.hydrate)&&(Eu=Hh(e.stateNode.containerInfo.firstChild),dl=e,a=ps=!0),a){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)a=n[i],a._workInProgressVersionPrimary=n[i+1],Jh.push(a);for(t=lA(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else ia(n,e,r,t),s2();e=e.child}return e;case 5:return uA(e),n===null&&o2(e),r=e.type,i=e.pendingProps,a=n!==null?n.memoizedProps:null,o=i.children,Vw(r,i)?o=null:a!==null&&Vw(r,a)&&(e.flags|=16),TA(n,e),ia(n,e,o,t),e.child;case 6:return n===null&&o2(e),null;case 13:return RA(n,e,t);case 4:return i2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=l1(e,null,r,t):ia(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),SA(n,e,r,i,t);case 7:return ia(n,e,e.pendingProps,t),e.child;case 8:return ia(n,e,e.pendingProps.children,t),e.child;case 12:return ia(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(_r(t1,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=Xa(s,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!ta.current){e=pl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&(c.observedBits&a)!=0){s.tag===1&&(c=bu(-1,t&-t),c.tag=2,Su(s,c)),s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),$T(s.return,t),l.lanes|=t;break}c=c.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ia(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,r=a.children,qh(e,t),i=Ya(i,a.unstable_observedBits),r=r(i),e.flags|=1,ia(n,e,r,t),e.child;case 14:return i=e.type,a=Ao(i,e.pendingProps),a=Ao(i.type,a),EA(n,e,i,a,r,t);case 15:return MA(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,na(r)?(n=!0,Kv(e)):n=!1,qh(e,t),aA(e,r,i),r2(e,r,i,t),v2(null,e,r,!0,n,t);case 19:return OA(n,e,t);case 23:return m2(n,e,t);case 24:return m2(n,e,t)}throw Error(_t(156,e.tag))};function OF(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(n,e,t,r){return new OF(n,e,t,r)}function N2(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kF(n){if(typeof n=="function")return N2(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Sv)return 11;if(n===Mv)return 14}return 2}function Pu(n,e){var t=n.alternate;return t===null?(t=Ja(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function M1(n,e,t,r,i,a){var o=2;if(r=n,typeof n=="function")N2(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case cu:return rd(t.children,i,a,e);case M3:o=8,i|=16;break;case Yx:o=8,i|=1;break;case s0:return n=Ja(12,t,e,i|8),n.elementType=s0,n.type=s0,n.lanes=a,n;case l0:return n=Ja(13,t,e,i),n.type=l0,n.elementType=l0,n.lanes=a,n;case Ev:return n=Ja(19,t,e,i),n.elementType=Ev,n.lanes=a,n;case ew:return B2(t,i,a,e);case tw:return n=Ja(24,t,e,i),n.elementType=tw,n.lanes=a,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qx:o=10;break e;case Qx:o=9;break e;case Sv:o=11;break e;case Mv:o=14;break e;case Jx:o=16,r=null;break e;case Kx:o=22;break e}throw Error(_t(130,n==null?n:typeof n,""))}return e=Ja(o,t,e,i),e.elementType=n,e.type=r,e.lanes=a,e}function rd(n,e,t,r){return n=Ja(7,n,r,e),n.lanes=t,n}function B2(n,e,t,r){return n=Ja(23,n,r,e),n.elementType=ew,n.lanes=t,n}function U2(n,e,t){return n=Ja(6,n,null,e),n.lanes=t,n}function z2(n,e,t){return e=Ja(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function FF(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.mutableSourceEagerHydrationData=null}function NF(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function T1(n,e,t,r){var i=e.current,a=ya(),o=Tu(i);e:if(t){t=t._reactInternals;t:{if(jf(t)!==t||t.tag!==1)throw Error(_t(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(na(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(_t(171))}if(t.tag===1){var l=t.type;if(na(l)){t=WT(t,l,s);break e}}t=s}else t=xu;return e.context===null?e.context=t:e.pendingContext=t,e=bu(a,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),Su(i,e),Au(i,o,a),o}function G2(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function iC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function H2(n,e){iC(n,e),(n=n.alternate)&&iC(n,e)}function BF(){return null}function W2(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new FF(n,e,t!=null&&t.hydrate===!0),e=Ja(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,n2(e),n[Wh]=t.current,IT(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}W2.prototype.render=function(n){T1(n,this._internalRoot,null,null)};W2.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;T1(null,n,null,function(){e[Wh]=null})};function Q0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function UF(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new W2(n,0,e?{hydrate:!0}:void 0)}function A1(n,e,t,r,i){var a=t._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var c=G2(o);s.call(c)}}T1(e,o,n,i)}else{if(a=t._reactRootContainer=UF(t,r),o=a._internalRoot,typeof i=="function"){var l=i;i=function(){var c=G2(o);l.call(c)}}QA(function(){T1(e,o,n,i)})}return G2(o)}Y3=function(n){if(n.tag===13){var e=ya();Au(n,4,e),H2(n,4)}};ww=function(n){if(n.tag===13){var e=ya();Au(n,67108864,e),H2(n,67108864)}};q3=function(n){if(n.tag===13){var e=ya(),t=Tu(n);Au(n,t,e),H2(n,t)}};Q3=function(n,e){return e()};pw=function(n,e,t){switch(e){case"input":if(aw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Qv(r);if(!i)throw Error(_t(90));C3(r),aw(r,i)}}}break;case"textarea":D3(n,t);break;case"select":e=t.value,e!=null&&Lh(n,!!t.multiple,e,!1)}};mw=qA;H3=function(n,e,t,r,i){var a=tn;tn|=4;try{return qf(98,n.bind(null,e,t,r,i))}finally{tn=a,tn===0&&(ed(),hs())}};gw=function(){(tn&49)==0&&(MF(),Cu())};W3=function(n,e){var t=tn;tn|=2;try{return n(e)}finally{tn=t,tn===0&&(ed(),hs())}};function aC(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q0(e))throw Error(_t(200));return NF(n,e,null,t)}var zF={Events:[P0,Vh,Qv,z3,G3,Cu,{current:!1}]},J0={findFiberByHostInstance:Zf,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},GF={bundleType:J0.bundleType,version:J0.version,rendererPackageName:J0.rendererPackageName,rendererConfig:J0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Z3(n),n===null?null:n.stateNode},findFiberByHostInstance:J0.findFiberByHostInstance||BF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(K0=__REACT_DEVTOOLS_GLOBAL_HOOK__,!K0.isDisabled&&K0.supportsFiber))try{Yw=K0.inject(GF),Yf=K0}catch{}var K0;Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zF;Ka.createPortal=aC;Ka.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(_t(188)):Error(_t(268,Object.keys(n)));return n=Z3(e),n=n===null?null:n.stateNode,n};Ka.flushSync=function(n,e){var t=tn;if((t&48)!=0)return n(e);tn|=1;try{if(n)return qf(99,n.bind(null,e))}finally{tn=t,hs()}};Ka.hydrate=function(n,e,t){if(!Q0(e))throw Error(_t(200));return A1(null,n,e,!0,t)};Ka.render=function(n,e,t){if(!Q0(e))throw Error(_t(200));return A1(null,n,e,!1,t)};Ka.unmountComponentAtNode=function(n){if(!Q0(n))throw Error(_t(40));return n._reactRootContainer?(QA(function(){A1(null,null,n,!1,function(){n._reactRootContainer=null,n[Wh]=null})}),!0):!1};Ka.unstable_batchedUpdates=qA;Ka.unstable_createPortal=function(n,e){return aC(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ka.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Q0(t))throw Error(_t(200));if(n==null||n._reactInternals===void 0)throw Error(_t(38));return A1(n,e,t,!1,r)};Ka.version="17.0.2"});var uC=ea((_V,lC)=>{"use strict";function sC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sC)}catch(n){console.error(n)}}sC(),lC.exports=oC()});var QP=ea((xV,Qm)=>{Qm.exports=function(e){var t={},r=hv(),i=Xr(),a=wv();function o(S){for(var T="https://reactjs.org/docs/error-decoder.html?invariant="+S,F=1;F<arguments.length;F++)T+="&args[]="+encodeURIComponent(arguments[F]);return"Minified React error #"+S+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,c=60106,d=60107,m=60108,f=60114,h=60109,u=60110,v=60112,y=60113,p=60120,g=60115,_=60116,x=60121,b=60129,M=60130,E=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;l=C("react.element"),c=C("react.portal"),d=C("react.fragment"),m=C("react.strict_mode"),f=C("react.profiler"),h=C("react.provider"),u=C("react.context"),v=C("react.forward_ref"),y=C("react.suspense"),p=C("react.suspense_list"),g=C("react.memo"),_=C("react.lazy"),x=C("react.block"),C("react.scope"),b=C("react.debug_trace_mode"),M=C("react.offscreen"),E=C("react.legacy_hidden")}var R=typeof Symbol=="function"&&Symbol.iterator;function I(S){return S===null||typeof S!="object"?null:(S=R&&S[R]||S["@@iterator"],typeof S=="function"?S:null)}function O(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case m:return"StrictMode";case y:return"Suspense";case p:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case u:return(S.displayName||"Context")+".Consumer";case h:return(S._context.displayName||"Context")+".Provider";case v:var T=S.render;return T=T.displayName||T.name||"",S.displayName||(T!==""?"ForwardRef("+T+")":"ForwardRef");case g:return O(S.type);case x:return O(S._render);case _:T=S._payload,S=S._init;try{return O(S(T))}catch{}}return null}function k(S){var T=S,F=S;if(S.alternate)for(;T.return;)T=T.return;else{S=T;do T=S,(T.flags&1026)!=0&&(F=T.return),S=T.return;while(S)}return T.tag===3?F:null}function G(S){if(k(S)!==S)throw Error(o(188))}function N(S){var T=S.alternate;if(!T){if(T=k(S),T===null)throw Error(o(188));return T!==S?null:S}for(var F=S,$=T;;){var oe=F.return;if(oe===null)break;var ye=oe.alternate;if(ye===null){if($=oe.return,$!==null){F=$;continue}break}if(oe.child===ye.child){for(ye=oe.child;ye;){if(ye===F)return G(oe),S;if(ye===$)return G(oe),T;ye=ye.sibling}throw Error(o(188))}if(F.return!==$.return)F=oe,$=ye;else{for(var Ne=!1,Qe=oe.child;Qe;){if(Qe===F){Ne=!0,F=oe,$=ye;break}if(Qe===$){Ne=!0,$=oe,F=ye;break}Qe=Qe.sibling}if(!Ne){for(Qe=ye.child;Qe;){if(Qe===F){Ne=!0,F=ye,$=oe;break}if(Qe===$){Ne=!0,$=ye,F=oe;break}Qe=Qe.sibling}if(!Ne)throw Error(o(189))}}if(F.alternate!==$)throw Error(o(190))}if(F.tag!==3)throw Error(o(188));return F.stateNode.current===F?S:T}function Z(S){if(S=N(S),!S)return null;for(var T=S;;){if(T.tag===5||T.tag===6)return T;if(T.child)T.child.return=T,T=T.child;else{if(T===S)break;for(;!T.sibling;){if(!T.return||T.return===S)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}}return null}function H(S){if(S=N(S),!S)return null;for(var T=S;;){if(T.tag===5||T.tag===6)return T;if(T.child&&T.tag!==4)T.child.return=T,T=T.child;else{if(T===S)break;for(;!T.sibling;){if(!T.return||T.return===S)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}}return null}function j(S,T){for(var F=S.alternate;T!==null;){if(T===S||T===F)return!0;T=T.return}return!1}var z=e.getPublicInstance,V=e.getRootHostContext,J=e.getChildHostContext,ne=e.prepareForCommit,le=e.resetAfterCommit,ue=e.createInstance,K=e.appendInitialChild,ae=e.finalizeInitialChildren,se=e.prepareUpdate,fe=e.shouldSetTextContent,he=e.createTextInstance,we=e.scheduleTimeout,xe=e.cancelTimeout,Ie=e.noTimeout,ge=e.isPrimaryRenderer,Oe=e.supportsMutation,me=e.supportsPersistence,pe=e.supportsHydration,re=e.getInstanceFromNode,ie=e.makeOpaqueHydratingObject,Y=e.makeClientId,ee=e.beforeActiveInstanceBlur,W=e.afterActiveInstanceBlur,P=e.preparePortalMount,D=e.supportsTestSelectors,B=e.findFiberRoot,Q=e.getBoundingRect,de=e.getTextContent,Ce=e.isHiddenSubtree,be=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,Ye=e.appendChild,Ve=e.appendChildToContainer,Me=e.commitTextUpdate,Ge=e.commitMount,We=e.commitUpdate,et=e.insertBefore,ot=e.insertInContainerBefore,X=e.removeChild,Ae=e.removeChildFromContainer,Fe=e.resetTextContent,qe=e.hideInstance,De=e.hideTextInstance,He=e.unhideInstance,ce=e.unhideTextInstance,Ke=e.clearContainer,lt=e.cloneInstance,L=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,Ue=e.finalizeContainerChildren,q=e.replaceContainerChildren,Te=e.cloneHiddenInstance,je=e.cloneHiddenTextInstance,st=e.canHydrateInstance,ve=e.canHydrateTextInstance,Be=e.isSuspenseInstancePending,Ze=e.isSuspenseInstanceFallback,nt=e.getNextHydratableSibling,it=e.getFirstHydratableChild,gt=e.hydrateInstance,yt=e.hydrateTextInstance,Lt=e.getNextHydratableInstanceAfterSuspenseInstance,Ct=e.commitHydratedContainer,Yt=e.commitHydratedSuspenseInstance,zt;function Rt(S){if(zt===void 0)try{throw Error()}catch(F){var T=F.stack.trim().match(/\n( *(at )?)/);zt=T&&T[1]||""}return`
`+zt+S}var qt=!1;function pn(S,T){if(!S||qt)return"";qt=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(T)if(T=function(){throw Error()},Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(ut){var $=ut}Reflect.construct(S,[],T)}else{try{T.call()}catch(ut){$=ut}S.call(T.prototype)}else{try{throw Error()}catch(ut){$=ut}S()}}catch(ut){if(ut&&$&&typeof ut.stack=="string"){for(var oe=ut.stack.split(`
`),ye=$.stack.split(`
`),Ne=oe.length-1,Qe=ye.length-1;1<=Ne&&0<=Qe&&oe[Ne]!==ye[Qe];)Qe--;for(;1<=Ne&&0<=Qe;Ne--,Qe--)if(oe[Ne]!==ye[Qe]){if(Ne!==1||Qe!==1)do if(Ne--,Qe--,0>Qe||oe[Ne]!==ye[Qe])return`
`+oe[Ne].replace(" at new "," at ");while(1<=Ne&&0<=Qe);break}}}finally{qt=!1,Error.prepareStackTrace=F}return(S=S?S.displayName||S.name:"")?Rt(S):""}var Ut=[],Rn=-1;function Ht(S){return{current:S}}function an(S){0>Rn||(S.current=Ut[Rn],Ut[Rn]=null,Rn--)}function vt(S,T){Rn++,Ut[Rn]=S.current,S.current=T}var zn={},Sn=Ht(zn),Qt=Ht(!1),pr=zn;function Vn(S,T){var F=S.type.contextTypes;if(!F)return zn;var $=S.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===T)return $.__reactInternalMemoizedMaskedChildContext;var oe={},ye;for(ye in F)oe[ye]=T[ye];return $&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=T,S.__reactInternalMemoizedMaskedChildContext=oe),oe}function ir(S){return S=S.childContextTypes,S!=null}function zi(){an(Qt),an(Sn)}function Vo(S,T,F){if(Sn.current!==zn)throw Error(o(168));vt(Sn,T),vt(Qt,F)}function Ri(S,T,F){var $=S.stateNode;if(S=T.childContextTypes,typeof $.getChildContext!="function")return F;$=$.getChildContext();for(var oe in $)if(!(oe in S))throw Error(o(108,O(T)||"Unknown",oe));return r({},F,$)}function jo(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||zn,pr=Sn.current,vt(Sn,S),vt(Qt,Qt.current),!0}function Ls(S,T,F){var $=S.stateNode;if(!$)throw Error(o(169));F?(S=Ri(S,T,pr),$.__reactInternalMemoizedMergedChildContext=S,an(Qt),an(Sn),vt(Sn,S)):an(Qt),vt(Qt,F)}var Zo=null,Pi=null,Ol=a.unstable_now;Ol();var ui=0,En=8;function ua(S){if((1&S)!=0)return En=15,1;if((2&S)!=0)return En=14,2;if((4&S)!=0)return En=13,4;var T=24&S;return T!==0?(En=12,T):(S&32)!=0?(En=11,32):(T=192&S,T!==0?(En=10,T):(S&256)!=0?(En=9,256):(T=3584&S,T!==0?(En=8,T):(S&4096)!=0?(En=7,4096):(T=4186112&S,T!==0?(En=6,T):(T=62914560&S,T!==0?(En=5,T):S&67108864?(En=4,67108864):(S&134217728)!=0?(En=3,134217728):(T=805306368&S,T!==0?(En=2,T):(1073741824&S)!=0?(En=1,1073741824):(En=8,S))))))}function kl(S){switch(S){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Xo(S){switch(S){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,S))}}function co(S,T){var F=S.pendingLanes;if(F===0)return En=0;var $=0,oe=0,ye=S.expiredLanes,Ne=S.suspendedLanes,Qe=S.pingedLanes;if(ye!==0)$=ye,oe=En=15;else if(ye=F&134217727,ye!==0){var ut=ye&~Ne;ut!==0?($=ua(ut),oe=En):(Qe&=ye,Qe!==0&&($=ua(Qe),oe=En))}else ye=F&~Ne,ye!==0?($=ua(ye),oe=En):Qe!==0&&($=ua(Qe),oe=En);if($===0)return 0;if($=31-hi($),$=F&((0>$?0:1<<$)<<1)-1,T!==0&&T!==$&&(T&Ne)==0){if(ua(T),oe<=En)return T;En=oe}if(T=S.entangledLanes,T!==0)for(S=S.entanglements,T&=$;0<T;)F=31-hi(T),oe=1<<F,$|=S[F],T&=~oe;return $}function Is(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function Ma(S,T){switch(S){case 15:return 1;case 14:return 2;case 12:return S=fi(24&~T),S===0?Ma(10,T):S;case 10:return S=fi(192&~T),S===0?Ma(8,T):S;case 8:return S=fi(3584&~T),S===0&&(S=fi(4186112&~T),S===0&&(S=512)),S;case 2:return T=fi(805306368&~T),T===0&&(T=268435456),T}throw Error(o(358,S))}function fi(S){return S&-S}function Yo(S){for(var T=[],F=0;31>F;F++)T.push(S);return T}function ci(S,T,F){S.pendingLanes|=T;var $=T-1;S.suspendedLanes&=$,S.pingedLanes&=$,S=S.eventTimes,T=31-hi(T),S[T]=F}var hi=Math.clz32?Math.clz32:uf,Fl=Math.log,Vc=Math.LN2;function uf(S){return S===0?32:31-(Fl(S)/Vc|0)|0}var Nl=a.unstable_runWithPriority,Ta=a.unstable_scheduleCallback,Ds=a.unstable_cancelCallback,Bl=a.unstable_shouldYield,ho=a.unstable_requestPaint,Aa=a.unstable_now,qo=a.unstable_getCurrentPriorityLevel,Os=a.unstable_ImmediatePriority,Qo=a.unstable_UserBlockingPriority,Ul=a.unstable_NormalPriority,zl=a.unstable_LowPriority,ks=a.unstable_IdlePriority,po={},Gl=ho!==void 0?ho:function(){},Gi=null,Wr=null,Fs=!1,Pn=Aa(),$t=1e4>Pn?Aa:function(){return Aa()-Pn};function Ca(){switch(qo()){case Os:return 99;case Qo:return 98;case Ul:return 97;case zl:return 96;case ks:return 95;default:throw Error(o(332))}}function Ns(S){switch(S){case 99:return Os;case 98:return Qo;case 97:return Ul;case 96:return zl;case 95:return ks;default:throw Error(o(332))}}function Hi(S,T){return S=Ns(S),Nl(S,T)}function fa(S,T,F){return S=Ns(S),Ta(S,T,F)}function Lr(){if(Wr!==null){var S=Wr;Wr=null,Ds(S)}ca()}function ca(){if(!Fs&&Gi!==null){Fs=!0;var S=0;try{var T=Gi;Hi(99,function(){for(;S<T.length;S++){var F=T[S];do F=F(!0);while(F!==null)}}),Gi=null}catch(F){throw Gi!==null&&(Gi=Gi.slice(S+1)),Ta(Os,Lr),F}finally{Fs=!1}}}var ff=s.ReactCurrentBatchConfig;function cf(S,T){return S===T&&(S!==0||1/S==1/T)||S!==S&&T!==T}var gn=typeof Object.is=="function"?Object.is:cf,mo=Object.prototype.hasOwnProperty;function Li(S,T){if(gn(S,T))return!0;if(typeof S!="object"||S===null||typeof T!="object"||T===null)return!1;var F=Object.keys(S),$=Object.keys(T);if(F.length!==$.length)return!1;for($=0;$<F.length;$++)if(!mo.call(T,F[$])||!gn(S[F[$]],T[F[$]]))return!1;return!0}function Jo(S){switch(S.tag){case 5:return Rt(S.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return S=pn(S.type,!1),S;case 11:return S=pn(S.type.render,!1),S;case 22:return S=pn(S.type._render,!1),S;case 1:return S=pn(S.type,!0),S;default:return""}}function Ir(S,T){if(S&&S.defaultProps){T=r({},T),S=S.defaultProps;for(var F in S)T[F]===void 0&&(T[F]=S[F]);return T}return T}var On=Ht(null),Bs=null,Wi=null,Ra=null;function Us(){Ra=Wi=Bs=null}function hf(S,T){S=S.type._context,ge?(vt(On,S._currentValue),S._currentValue=T):(vt(On,S._currentValue2),S._currentValue2=T)}function ha(S){var T=On.current;an(On),S=S.type._context,ge?S._currentValue=T:S._currentValue2=T}function Mn(S,T){for(;S!==null;){var F=S.alternate;if((S.childLanes&T)===T){if(F===null||(F.childLanes&T)===T)break;F.childLanes|=T}else S.childLanes|=T,F!==null&&(F.childLanes|=T);S=S.return}}function Dr(S,T){Bs=S,Ra=Wi=null,S=S.dependencies,S!==null&&S.firstContext!==null&&((S.lanes&T)!=0&&(gi=!0),S.firstContext=null)}function un(S,T){if(Ra!==S&&T!==!1&&T!==0)if((typeof T!="number"||T===1073741823)&&(Ra=S,T=1073741823),T={context:S,observedBits:T,next:null},Wi===null){if(Bs===null)throw Error(o(308));Wi=T,Bs.dependencies={lanes:0,firstContext:T,responders:null}}else Wi=Wi.next=T;return ge?S._currentValue:S._currentValue2}var Nr=!1;function zs(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function go(S,T){S=S.updateQueue,T.updateQueue===S&&(T.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function da(S,T){return{eventTime:S,lane:T,tag:0,payload:null,callback:null,next:null}}function Pa(S,T){if(S=S.updateQueue,S!==null){S=S.shared;var F=S.pending;F===null?T.next=T:(T.next=F.next,F.next=T),S.pending=T}}function jn(S,T){var F=S.updateQueue,$=S.alternate;if($!==null&&($=$.updateQueue,F===$)){var oe=null,ye=null;if(F=F.firstBaseUpdate,F!==null){do{var Ne={eventTime:F.eventTime,lane:F.lane,tag:F.tag,payload:F.payload,callback:F.callback,next:null};ye===null?oe=ye=Ne:ye=ye.next=Ne,F=F.next}while(F!==null);ye===null?oe=ye=T:ye=ye.next=T}else oe=ye=T;F={baseState:$.baseState,firstBaseUpdate:oe,lastBaseUpdate:ye,shared:$.shared,effects:$.effects},S.updateQueue=F;return}S=F.lastBaseUpdate,S===null?F.firstBaseUpdate=T:S.next=T,F.lastBaseUpdate=T}function Vi(S,T,F,$){var oe=S.updateQueue;Nr=!1;var ye=oe.firstBaseUpdate,Ne=oe.lastBaseUpdate,Qe=oe.shared.pending;if(Qe!==null){oe.shared.pending=null;var ut=Qe,xt=ut.next;ut.next=null,Ne===null?ye=xt:Ne.next=xt,Ne=ut;var kt=S.alternate;if(kt!==null){kt=kt.updateQueue;var Jt=kt.lastBaseUpdate;Jt!==Ne&&(Jt===null?kt.firstBaseUpdate=xt:Jt.next=xt,kt.lastBaseUpdate=ut)}}if(ye!==null){Jt=oe.baseState,Ne=0,kt=xt=ut=null;do{Qe=ye.lane;var St=ye.eventTime;if(($&Qe)===Qe){kt!==null&&(kt=kt.next={eventTime:St,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Nn=S,Zn=ye;switch(Qe=T,St=F,Zn.tag){case 1:if(Nn=Zn.payload,typeof Nn=="function"){Jt=Nn.call(St,Jt,Qe);break e}Jt=Nn;break e;case 3:Nn.flags=Nn.flags&-4097|64;case 0:if(Nn=Zn.payload,Qe=typeof Nn=="function"?Nn.call(St,Jt,Qe):Nn,Qe==null)break e;Jt=r({},Jt,Qe);break e;case 2:Nr=!0}}ye.callback!==null&&(S.flags|=32,Qe=oe.effects,Qe===null?oe.effects=[ye]:Qe.push(ye))}else St={eventTime:St,lane:Qe,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},kt===null?(xt=kt=St,ut=Jt):kt=kt.next=St,Ne|=Qe;if(ye=ye.next,ye===null){if(Qe=oe.shared.pending,Qe===null)break;ye=Qe.next,Qe.next=null,oe.lastBaseUpdate=Qe,oe.shared.pending=null}}while(1);kt===null&&(ut=Jt),oe.baseState=ut,oe.firstBaseUpdate=xt,oe.lastBaseUpdate=kt,If|=Ne,S.lanes=Ne,S.memoizedState=Jt}}function jc(S,T,F){if(S=T.effects,T.effects=null,S!==null)for(T=0;T<S.length;T++){var $=S[T],oe=$.callback;if(oe!==null){if($.callback=null,$=F,typeof oe!="function")throw Error(o(191,oe));oe.call($)}}}var xg=new i.Component().refs;function Hl(S,T,F,$){T=S.memoizedState,F=F($,T),F=F==null?T:r({},T,F),S.memoizedState=F,S.lanes===0&&(S.updateQueue.baseState=F)}var Zc={isMounted:function(S){return(S=S._reactInternals)?k(S)===S:!1},enqueueSetState:function(S,T,F){S=S._reactInternals;var $=er(),oe=Ua(S),ye=da($,oe);ye.payload=T,F!=null&&(ye.callback=F),Pa(S,ye),Yi(S,oe,$)},enqueueReplaceState:function(S,T,F){S=S._reactInternals;var $=er(),oe=Ua(S),ye=da($,oe);ye.tag=1,ye.payload=T,F!=null&&(ye.callback=F),Pa(S,ye),Yi(S,oe,$)},enqueueForceUpdate:function(S,T){S=S._reactInternals;var F=er(),$=Ua(S),oe=da(F,$);oe.tag=2,T!=null&&(oe.callback=T),Pa(S,oe),Yi(S,$,F)}};function wg(S,T,F,$,oe,ye,Ne){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate($,ye,Ne):T.prototype&&T.prototype.isPureReactComponent?!Li(F,$)||!Li(oe,ye):!0}function bg(S,T,F){var $=!1,oe=zn,ye=T.contextType;return typeof ye=="object"&&ye!==null?ye=un(ye):(oe=ir(T)?pr:Sn.current,$=T.contextTypes,ye=($=$!=null)?Vn(S,oe):zn),T=new T(F,ye),S.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Zc,S.stateNode=T,T._reactInternals=S,$&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=oe,S.__reactInternalMemoizedMaskedChildContext=ye),T}function _p(S,T,F,$){S=T.state,typeof T.componentWillReceiveProps=="function"&&T.componentWillReceiveProps(F,$),typeof T.UNSAFE_componentWillReceiveProps=="function"&&T.UNSAFE_componentWillReceiveProps(F,$),T.state!==S&&Zc.enqueueReplaceState(T,T.state,null)}function Wl(S,T,F,$){var oe=S.stateNode;oe.props=F,oe.state=S.memoizedState,oe.refs=xg,zs(S);var ye=T.contextType;typeof ye=="object"&&ye!==null?oe.context=un(ye):(ye=ir(T)?pr:Sn.current,oe.context=Vn(S,ye)),Vi(S,F,oe,$),oe.state=S.memoizedState,ye=T.getDerivedStateFromProps,typeof ye=="function"&&(Hl(S,T,ye,F),oe.state=S.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof oe.getSnapshotBeforeUpdate=="function"||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(T=oe.state,typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount(),T!==oe.state&&Zc.enqueueReplaceState(oe,oe.state,null),Vi(S,F,oe,$),oe.state=S.memoizedState),typeof oe.componentDidMount=="function"&&(S.flags|=4)}var vo=Array.isArray;function df(S,T,F){if(S=F.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(F._owner){if(F=F._owner,F){if(F.tag!==1)throw Error(o(309));var $=F.stateNode}if(!$)throw Error(o(147,S));var oe=""+S;return T!==null&&T.ref!==null&&typeof T.ref=="function"&&T.ref._stringRef===oe?T.ref:(T=function(ye){var Ne=$.refs;Ne===xg&&(Ne=$.refs={}),ye===null?delete Ne[oe]:Ne[oe]=ye},T._stringRef=oe,T)}if(typeof S!="string")throw Error(o(284));if(!F._owner)throw Error(o(290,S))}return S}function pf(S,T){if(S.type!=="textarea")throw Error(o(31,Object.prototype.toString.call(T)==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":T))}function yp(S){function T(rt,$e){if(S){var ct=rt.lastEffect;ct!==null?(ct.nextEffect=$e,rt.lastEffect=$e):rt.firstEffect=rt.lastEffect=$e,$e.nextEffect=null,$e.flags=8}}function F(rt,$e){if(!S)return null;for(;$e!==null;)T(rt,$e),$e=$e.sibling;return null}function $(rt,$e){for(rt=new Map;$e!==null;)$e.key!==null?rt.set($e.key,$e):rt.set($e.index,$e),$e=$e.sibling;return rt}function oe(rt,$e){return rt=ss(rt,$e),rt.index=0,rt.sibling=null,rt}function ye(rt,$e,ct){return rt.index=ct,S?(ct=rt.alternate,ct!==null?(ct=ct.index,ct<$e?(rt.flags=2,$e):ct):(rt.flags=2,$e)):$e}function Ne(rt){return S&&rt.alternate===null&&(rt.flags=2),rt}function Qe(rt,$e,ct,At){return $e===null||$e.tag!==6?($e=Xp(ct,rt.mode,At),$e.return=rt,$e):($e=oe($e,ct),$e.return=rt,$e)}function ut(rt,$e,ct,At){return $e!==null&&$e.elementType===ct.type?(At=oe($e,ct.props),At.ref=df(rt,$e,ct),At.return=rt,At):(At=_h(ct.type,ct.key,ct.props,null,rt.mode,At),At.ref=df(rt,$e,ct),At.return=rt,At)}function xt(rt,$e,ct,At){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==ct.containerInfo||$e.stateNode.implementation!==ct.implementation?($e=Yp(ct,rt.mode,At),$e.return=rt,$e):($e=oe($e,ct.children||[]),$e.return=rt,$e)}function kt(rt,$e,ct,At,Bt){return $e===null||$e.tag!==7?($e=Ha(ct,rt.mode,At,Bt),$e.return=rt,$e):($e=oe($e,ct),$e.return=rt,$e)}function Jt(rt,$e,ct){if(typeof $e=="string"||typeof $e=="number")return $e=Xp(""+$e,rt.mode,ct),$e.return=rt,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return ct=_h($e.type,$e.key,$e.props,null,rt.mode,ct),ct.ref=df(rt,null,$e),ct.return=rt,ct;case c:return $e=Yp($e,rt.mode,ct),$e.return=rt,$e}if(vo($e)||I($e))return $e=Ha($e,rt.mode,ct,null),$e.return=rt,$e;pf(rt,$e)}return null}function St(rt,$e,ct,At){var Bt=$e!==null?$e.key:null;if(typeof ct=="string"||typeof ct=="number")return Bt!==null?null:Qe(rt,$e,""+ct,At);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return ct.key===Bt?ct.type===d?kt(rt,$e,ct.props.children,At,Bt):ut(rt,$e,ct,At):null;case c:return ct.key===Bt?xt(rt,$e,ct,At):null}if(vo(ct)||I(ct))return Bt!==null?null:kt(rt,$e,ct,At,null);pf(rt,ct)}return null}function Nn(rt,$e,ct,At,Bt){if(typeof At=="string"||typeof At=="number")return rt=rt.get(ct)||null,Qe($e,rt,""+At,Bt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case l:return rt=rt.get(At.key===null?ct:At.key)||null,At.type===d?kt($e,rt,At.props.children,Bt,At.key):ut($e,rt,At,Bt);case c:return rt=rt.get(At.key===null?ct:At.key)||null,xt($e,rt,At,Bt)}if(vo(At)||I(At))return rt=rt.get(ct)||null,kt($e,rt,At,Bt,null);pf($e,At)}return null}function Zn(rt,$e,ct,At){for(var Bt=null,Hn=null,Kt=$e,Tn=$e=0,vn=null;Kt!==null&&Tn<ct.length;Tn++){Kt.index>Tn?(vn=Kt,Kt=null):vn=Kt.sibling;var nn=St(rt,Kt,ct[Tn],At);if(nn===null){Kt===null&&(Kt=vn);break}S&&Kt&&nn.alternate===null&&T(rt,Kt),$e=ye(nn,$e,Tn),Hn===null?Bt=nn:Hn.sibling=nn,Hn=nn,Kt=vn}if(Tn===ct.length)return F(rt,Kt),Bt;if(Kt===null){for(;Tn<ct.length;Tn++)Kt=Jt(rt,ct[Tn],At),Kt!==null&&($e=ye(Kt,$e,Tn),Hn===null?Bt=Kt:Hn.sibling=Kt,Hn=Kt);return Bt}for(Kt=$(rt,Kt);Tn<ct.length;Tn++)vn=Nn(Kt,rt,Tn,ct[Tn],At),vn!==null&&(S&&vn.alternate!==null&&Kt.delete(vn.key===null?Tn:vn.key),$e=ye(vn,$e,Tn),Hn===null?Bt=vn:Hn.sibling=vn,Hn=vn);return S&&Kt.forEach(function(ls){return T(rt,ls)}),Bt}function _i(rt,$e,ct,At){var Bt=I(ct);if(typeof Bt!="function")throw Error(o(150));if(ct=Bt.call(ct),ct==null)throw Error(o(151));for(var Hn=Bt=null,Kt=$e,Tn=$e=0,vn=null,nn=ct.next();Kt!==null&&!nn.done;Tn++,nn=ct.next()){Kt.index>Tn?(vn=Kt,Kt=null):vn=Kt.sibling;var ls=St(rt,Kt,nn.value,At);if(ls===null){Kt===null&&(Kt=vn);break}S&&Kt&&ls.alternate===null&&T(rt,Kt),$e=ye(ls,$e,Tn),Hn===null?Bt=ls:Hn.sibling=ls,Hn=ls,Kt=vn}if(nn.done)return F(rt,Kt),Bt;if(Kt===null){for(;!nn.done;Tn++,nn=ct.next())nn=Jt(rt,nn.value,At),nn!==null&&($e=ye(nn,$e,Tn),Hn===null?Bt=nn:Hn.sibling=nn,Hn=nn);return Bt}for(Kt=$(rt,Kt);!nn.done;Tn++,nn=ct.next())nn=Nn(Kt,rt,Tn,nn.value,At),nn!==null&&(S&&nn.alternate!==null&&Kt.delete(nn.key===null?Tn:nn.key),$e=ye(nn,$e,Tn),Hn===null?Bt=nn:Hn.sibling=nn,Hn=nn);return S&&Kt.forEach(function(ex){return T(rt,ex)}),Bt}return function(rt,$e,ct,At){var Bt=typeof ct=="object"&&ct!==null&&ct.type===d&&ct.key===null;Bt&&(ct=ct.props.children);var Hn=typeof ct=="object"&&ct!==null;if(Hn)switch(ct.$$typeof){case l:e:{for(Hn=ct.key,Bt=$e;Bt!==null;){if(Bt.key===Hn){switch(Bt.tag){case 7:if(ct.type===d){F(rt,Bt.sibling),$e=oe(Bt,ct.props.children),$e.return=rt,rt=$e;break e}break;default:if(Bt.elementType===ct.type){F(rt,Bt.sibling),$e=oe(Bt,ct.props),$e.ref=df(rt,Bt,ct),$e.return=rt,rt=$e;break e}}F(rt,Bt);break}else T(rt,Bt);Bt=Bt.sibling}ct.type===d?($e=Ha(ct.props.children,rt.mode,At,ct.key),$e.return=rt,rt=$e):(At=_h(ct.type,ct.key,ct.props,null,rt.mode,At),At.ref=df(rt,$e,ct),At.return=rt,rt=At)}return Ne(rt);case c:e:{for(Bt=ct.key;$e!==null;){if($e.key===Bt)if($e.tag===4&&$e.stateNode.containerInfo===ct.containerInfo&&$e.stateNode.implementation===ct.implementation){F(rt,$e.sibling),$e=oe($e,ct.children||[]),$e.return=rt,rt=$e;break e}else{F(rt,$e);break}else T(rt,$e);$e=$e.sibling}$e=Yp(ct,rt.mode,At),$e.return=rt,rt=$e}return Ne(rt)}if(typeof ct=="string"||typeof ct=="number")return ct=""+ct,$e!==null&&$e.tag===6?(F(rt,$e.sibling),$e=oe($e,ct),$e.return=rt,rt=$e):(F(rt,$e),$e=Xp(ct,rt.mode,At),$e.return=rt,rt=$e),Ne(rt);if(vo(ct))return Zn(rt,$e,ct,At);if(I(ct))return _i(rt,$e,ct,At);if(Hn&&pf(rt,ct),typeof ct=="undefined"&&!Bt)switch(rt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,O(rt.type)||"Component"))}return F(rt,$e)}}var Vl=yp(!0),Xc=yp(!1),jl={},ji=Ht(jl),Gs=Ht(jl),Ko=Ht(jl);function La(S){if(S===jl)throw Error(o(174));return S}function Yc(S,T){vt(Ko,T),vt(Gs,S),vt(ji,jl),S=V(T),an(ji),vt(ji,S)}function Or(){an(ji),an(Gs),an(Ko)}function qc(S){var T=La(Ko.current),F=La(ji.current);T=J(F,S.type,T),F!==T&&(vt(Gs,S),vt(ji,T))}function Hs(S){Gs.current===S&&(an(ji),an(Gs))}var Kn=Ht(0);function mf(S){for(var T=S;T!==null;){if(T.tag===13){var F=T.memoizedState;if(F!==null&&(F=F.dehydrated,F===null||Be(F)||Ze(F)))return T}else if(T.tag===19&&T.memoizedProps.revealOrder!==void 0){if((T.flags&64)!=0)return T}else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===S)break;for(;T.sibling===null;){if(T.return===null||T.return===S)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}return null}var _o=null,Ws=null,Ia=!1;function Sg(S,T){var F=qi(5,null,null,0);F.elementType="DELETED",F.type="DELETED",F.stateNode=T,F.return=S,F.flags=8,S.lastEffect!==null?(S.lastEffect.nextEffect=F,S.lastEffect=F):S.firstEffect=S.lastEffect=F}function Eg(S,T){switch(S.tag){case 5:return T=st(T,S.type,S.pendingProps),T!==null?(S.stateNode=T,!0):!1;case 6:return T=ve(T,S.pendingProps),T!==null?(S.stateNode=T,!0):!1;case 13:return!1;default:return!1}}function $o(S){if(Ia){var T=Ws;if(T){var F=T;if(!Eg(S,T)){if(T=nt(F),!T||!Eg(S,T)){S.flags=S.flags&-1025|2,Ia=!1,_o=S;return}Sg(_o,F)}_o=S,Ws=it(T)}else S.flags=S.flags&-1025|2,Ia=!1,_o=S}}function Mg(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;_o=S}function Qc(S){if(!pe||S!==_o)return!1;if(!Ia)return Mg(S),Ia=!0,!1;var T=S.type;if(S.tag!==5||T!=="head"&&T!=="body"&&!fe(T,S.memoizedProps))for(T=Ws;T;)Sg(S,T),T=nt(T);if(Mg(S),S.tag===13){if(!pe)throw Error(o(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(o(317));Ws=Lt(S)}else Ws=_o?nt(S.stateNode):null;return!0}function gf(){pe&&(Ws=_o=null,Ia=!1)}var Vs=[];function Da(){for(var S=0;S<Vs.length;S++){var T=Vs[S];ge?T._workInProgressVersionPrimary=null:T._workInProgressVersionSecondary=null}Vs.length=0}var es=s.ReactCurrentDispatcher,Zi=s.ReactCurrentBatchConfig,vf=0,sr=null,lr=null,Gn=null,_f=!1,yf=!1;function di(){throw Error(o(321))}function xp(S,T){if(T===null)return!1;for(var F=0;F<T.length&&F<S.length;F++)if(!gn(S[F],T[F]))return!1;return!0}function wp(S,T,F,$,oe,ye){if(vf=ye,sr=T,T.memoizedState=null,T.updateQueue=null,T.lanes=0,es.current=S===null||S.memoizedState===null?eh:ts,S=F($,oe),yf){ye=0;do{if(yf=!1,!(25>ye))throw Error(o(301));ye+=1,Gn=lr=null,T.updateQueue=null,es.current=th,S=F($,oe)}while(yf)}if(es.current=$c,T=lr!==null&&lr.next!==null,vf=0,Gn=lr=sr=null,_f=!1,T)throw Error(o(300));return S}function js(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?sr.memoizedState=Gn=S:Gn=Gn.next=S,Gn}function pi(){if(lr===null){var S=sr.alternate;S=S!==null?S.memoizedState:null}else S=lr.next;var T=Gn===null?sr.memoizedState:Gn.next;if(T!==null)Gn=T,lr=S;else{if(S===null)throw Error(o(310));lr=S,S={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Gn===null?sr.memoizedState=Gn=S:Gn=Gn.next=S}return Gn}function Je(S,T){return typeof T=="function"?T(S):T}function ft(S){var T=pi(),F=T.queue;if(F===null)throw Error(o(311));F.lastRenderedReducer=S;var $=lr,oe=$.baseQueue,ye=F.pending;if(ye!==null){if(oe!==null){var Ne=oe.next;oe.next=ye.next,ye.next=Ne}$.baseQueue=oe=ye,F.pending=null}if(oe!==null){oe=oe.next,$=$.baseState;var Qe=Ne=ye=null,ut=oe;do{var xt=ut.lane;if((vf&xt)===xt)Qe!==null&&(Qe=Qe.next={lane:0,action:ut.action,eagerReducer:ut.eagerReducer,eagerState:ut.eagerState,next:null}),$=ut.eagerReducer===S?ut.eagerState:S($,ut.action);else{var kt={lane:xt,action:ut.action,eagerReducer:ut.eagerReducer,eagerState:ut.eagerState,next:null};Qe===null?(Ne=Qe=kt,ye=$):Qe=Qe.next=kt,sr.lanes|=xt,If|=xt}ut=ut.next}while(ut!==null&&ut!==oe);Qe===null?ye=$:Qe.next=Ne,gn($,T.memoizedState)||(gi=!0),T.memoizedState=$,T.baseState=ye,T.baseQueue=Qe,F.lastRenderedState=$}return[T.memoizedState,F.dispatch]}function at(S){var T=pi(),F=T.queue;if(F===null)throw Error(o(311));F.lastRenderedReducer=S;var $=F.dispatch,oe=F.pending,ye=T.memoizedState;if(oe!==null){F.pending=null;var Ne=oe=oe.next;do ye=S(ye,Ne.action),Ne=Ne.next;while(Ne!==oe);gn(ye,T.memoizedState)||(gi=!0),T.memoizedState=ye,T.baseQueue===null&&(T.baseState=ye),F.lastRenderedState=ye}return[ye,$]}function Pt(S,T,F){var $=T._getVersion;$=$(T._source);var oe=ge?T._workInProgressVersionPrimary:T._workInProgressVersionSecondary;if(oe!==null?S=oe===$:(S=S.mutableReadLanes,(S=(vf&S)===S)&&(ge?T._workInProgressVersionPrimary=$:T._workInProgressVersionSecondary=$,Vs.push(T))),S)return F(T._source);throw Vs.push(T),Error(o(350))}function en(S,T,F,$){var oe=Kr;if(oe===null)throw Error(o(349));var ye=T._getVersion,Ne=ye(T._source),Qe=es.current,ut=Qe.useState(function(){return Pt(oe,T,F)}),xt=ut[1],kt=ut[0];ut=Gn;var Jt=S.memoizedState,St=Jt.refs,Nn=St.getSnapshot,Zn=Jt.source;Jt=Jt.subscribe;var _i=sr;return S.memoizedState={refs:St,source:T,subscribe:$},Qe.useEffect(function(){St.getSnapshot=F,St.setSnapshot=xt;var rt=ye(T._source);if(!gn(Ne,rt)){rt=F(T._source),gn(kt,rt)||(xt(rt),rt=Ua(_i),oe.mutableReadLanes|=rt&oe.pendingLanes),rt=oe.mutableReadLanes,oe.entangledLanes|=rt;for(var $e=oe.entanglements,ct=rt;0<ct;){var At=31-hi(ct),Bt=1<<At;$e[At]|=rt,ct&=~Bt}}},[F,T,$]),Qe.useEffect(function(){return $(T._source,function(){var rt=St.getSnapshot,$e=St.setSnapshot;try{$e(rt(T._source));var ct=Ua(_i);oe.mutableReadLanes|=ct&oe.pendingLanes}catch(At){$e(function(){throw At})}})},[T,$]),gn(Nn,F)&&gn(Zn,T)&&gn(Jt,$)||(S={pending:null,dispatch:null,lastRenderedReducer:Je,lastRenderedState:kt},S.dispatch=xt=Ep.bind(null,sr,S),ut.queue=S,ut.baseQueue=null,kt=Pt(oe,T,F),ut.memoizedState=ut.baseState=kt),kt}function xn(S,T,F){var $=pi();return en($,S,T,F)}function $n(S){var T=js();return typeof S=="function"&&(S=S()),T.memoizedState=T.baseState=S,S=T.queue={pending:null,dispatch:null,lastRenderedReducer:Je,lastRenderedState:S},S=S.dispatch=Ep.bind(null,sr,S),[T.memoizedState,S]}function Ln(S,T,F,$){return S={tag:S,create:T,destroy:F,deps:$,next:null},T=sr.updateQueue,T===null?(T={lastEffect:null},sr.updateQueue=T,T.lastEffect=S.next=S):(F=T.lastEffect,F===null?T.lastEffect=S.next=S:($=F.next,F.next=S,S.next=$,T.lastEffect=S)),S}function Jc(S){var T=js();return S={current:S},T.memoizedState=S}function Kc(){return pi().memoizedState}function mi(S,T,F,$){var oe=js();sr.flags|=S,oe.memoizedState=Ln(1|T,F,void 0,$===void 0?null:$)}function Zl(S,T,F,$){var oe=pi();$=$===void 0?null:$;var ye=void 0;if(lr!==null){var Ne=lr.memoizedState;if(ye=Ne.destroy,$!==null&&xp($,Ne.deps)){Ln(T,F,ye,$);return}}sr.flags|=S,oe.memoizedState=Ln(1|T,F,ye,$)}function Tg(S,T){return mi(516,4,S,T)}function yo(S,T){return Zl(516,4,S,T)}function xf(S,T){return Zl(4,2,S,T)}function wf(S,T){if(typeof T=="function")return S=S(),T(S),function(){T(null)};if(T!=null)return S=S(),T.current=S,function(){T.current=null}}function In(S,T,F){return F=F!=null?F.concat([S]):null,Zl(4,2,wf.bind(null,T,S),F)}function bp(){}function Sp(S,T){var F=pi();T=T===void 0?null:T;var $=F.memoizedState;return $!==null&&T!==null&&xp(T,$[1])?$[0]:(F.memoizedState=[S,T],S)}function bf(S,T){var F=pi();T=T===void 0?null:T;var $=F.memoizedState;return $!==null&&T!==null&&xp(T,$[1])?$[0]:(S=S(),F.memoizedState=[S,T],S)}function Wy(S,T){var F=Ca();Hi(98>F?98:F,function(){S(!0)}),Hi(97<F?97:F,function(){var $=Zi.transition;Zi.transition=1;try{S(!1),T()}finally{Zi.transition=$}})}function Ep(S,T,F){var $=er(),oe=Ua(S),ye={lane:oe,action:F,eagerReducer:null,eagerState:null,next:null},Ne=T.pending;if(Ne===null?ye.next=ye:(ye.next=Ne.next,Ne.next=ye),T.pending=ye,Ne=S.alternate,S===sr||Ne!==null&&Ne===sr)yf=_f=!0;else{if(S.lanes===0&&(Ne===null||Ne.lanes===0)&&(Ne=T.lastRenderedReducer,Ne!==null))try{var Qe=T.lastRenderedState,ut=Ne(Qe,F);if(ye.eagerReducer=Ne,ye.eagerState=ut,gn(ut,Qe))return}catch{}finally{}Yi(S,oe,$)}}var $c={readContext:un,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useOpaqueIdentifier:di,unstable_isNewReconciler:!1},eh={readContext:un,useCallback:function(S,T){return js().memoizedState=[S,T===void 0?null:T],S},useContext:un,useEffect:Tg,useImperativeHandle:function(S,T,F){return F=F!=null?F.concat([S]):null,mi(4,2,wf.bind(null,T,S),F)},useLayoutEffect:function(S,T){return mi(4,2,S,T)},useMemo:function(S,T){var F=js();return T=T===void 0?null:T,S=S(),F.memoizedState=[S,T],S},useReducer:function(S,T,F){var $=js();return T=F!==void 0?F(T):T,$.memoizedState=$.baseState=T,S=$.queue={pending:null,dispatch:null,lastRenderedReducer:S,lastRenderedState:T},S=S.dispatch=Ep.bind(null,sr,S),[$.memoizedState,S]},useRef:Jc,useState:$n,useDebugValue:bp,useDeferredValue:function(S){var T=$n(S),F=T[0],$=T[1];return Tg(function(){var oe=Zi.transition;Zi.transition=1;try{$(S)}finally{Zi.transition=oe}},[S]),F},useTransition:function(){var S=$n(!1),T=S[0];return S=Wy.bind(null,S[1]),Jc(S),[S,T]},useMutableSource:function(S,T,F){var $=js();return $.memoizedState={refs:{getSnapshot:T,setSnapshot:null},source:S,subscribe:F},en($,S,T,F)},useOpaqueIdentifier:function(){if(Ia){var S=!1,T=ie(function(){throw S||(S=!0,F(Y())),Error(o(355))}),F=$n(T)[1];return(sr.mode&2)==0&&(sr.flags|=516,Ln(5,function(){F(Y())},void 0,null)),T}return T=Y(),$n(T),T},unstable_isNewReconciler:!1},ts={readContext:un,useCallback:Sp,useContext:un,useEffect:yo,useImperativeHandle:In,useLayoutEffect:xf,useMemo:bf,useReducer:ft,useRef:Kc,useState:function(){return ft(Je)},useDebugValue:bp,useDeferredValue:function(S){var T=ft(Je),F=T[0],$=T[1];return yo(function(){var oe=Zi.transition;Zi.transition=1;try{$(S)}finally{Zi.transition=oe}},[S]),F},useTransition:function(){var S=ft(Je)[0];return[Kc().current,S]},useMutableSource:xn,useOpaqueIdentifier:function(){return ft(Je)[0]},unstable_isNewReconciler:!1},th={readContext:un,useCallback:Sp,useContext:un,useEffect:yo,useImperativeHandle:In,useLayoutEffect:xf,useMemo:bf,useReducer:at,useRef:Kc,useState:function(){return at(Je)},useDebugValue:bp,useDeferredValue:function(S){var T=at(Je),F=T[0],$=T[1];return yo(function(){var oe=Zi.transition;Zi.transition=1;try{$(S)}finally{Zi.transition=oe}},[S]),F},useTransition:function(){var S=at(Je)[0];return[Kc().current,S]},useMutableSource:xn,useOpaqueIdentifier:function(){return at(Je)[0]},unstable_isNewReconciler:!1},Ag=s.ReactCurrentOwner,gi=!1;function Jr(S,T,F,$){T.child=S===null?Xc(T,null,F,$):Vl(T,S.child,F,$)}function Mp(S,T,F,$,oe){F=F.render;var ye=T.ref;return Dr(T,oe),$=wp(S,T,F,$,ye,oe),S!==null&&!gi?(T.updateQueue=S.updateQueue,T.flags&=-517,S.lanes&=~oe,Yn(S,T,oe)):(T.flags|=1,Jr(S,T,$,oe),T.child)}function Sf(S,T,F,$,oe,ye){if(S===null){var Ne=F.type;return typeof Ne=="function"&&!kf(Ne)&&Ne.defaultProps===void 0&&F.compare===null&&F.defaultProps===void 0?(T.tag=15,T.type=Ne,Tp(S,T,Ne,$,oe,ye)):(S=_h(F.type,null,$,T,T.mode,ye),S.ref=T.ref,S.return=T,T.child=S)}return Ne=S.child,(oe&ye)==0&&(oe=Ne.memoizedProps,F=F.compare,F=F!==null?F:Li,F(oe,$)&&S.ref===T.ref)?Yn(S,T,ye):(T.flags|=1,S=ss(Ne,$),S.ref=T.ref,S.return=T,T.child=S)}function Tp(S,T,F,$,oe,ye){if(S!==null&&Li(S.memoizedProps,$)&&S.ref===T.ref)if(gi=!1,(ye&oe)!=0)(S.flags&16384)!=0&&(gi=!0);else return T.lanes=S.lanes,Yn(S,T,ye);return Xl(S,T,F,$,ye)}function Zs(S,T,F){var $=T.pendingProps,oe=$.children,ye=S!==null?S.memoizedState:null;if($.mode==="hidden"||$.mode==="unstable-defer-without-hiding")if((T.mode&4)==0)T.memoizedState={baseLanes:0},dh(T,F);else if((F&1073741824)!=0)T.memoizedState={baseLanes:0},dh(T,ye!==null?ye.baseLanes:F);else return S=ye!==null?ye.baseLanes|F:F,T.lanes=T.childLanes=1073741824,T.memoizedState={baseLanes:S},dh(T,S),null;else ye!==null?($=ye.baseLanes|F,T.memoizedState=null):$=F,dh(T,$);return Jr(S,T,oe,F),T.child}function ns(S,T){var F=T.ref;(S===null&&F!==null||S!==null&&S.ref!==F)&&(T.flags|=128)}function Xl(S,T,F,$,oe){var ye=ir(F)?pr:Sn.current;return ye=Vn(T,ye),Dr(T,oe),F=wp(S,T,F,$,ye,oe),S!==null&&!gi?(T.updateQueue=S.updateQueue,T.flags&=-517,S.lanes&=~oe,Yn(S,T,oe)):(T.flags|=1,Jr(S,T,F,oe),T.child)}function Cg(S,T,F,$,oe){if(ir(F)){var ye=!0;jo(T)}else ye=!1;if(Dr(T,oe),T.stateNode===null)S!==null&&(S.alternate=null,T.alternate=null,T.flags|=2),bg(T,F,$),Wl(T,F,$,oe),$=!0;else if(S===null){var Ne=T.stateNode,Qe=T.memoizedProps;Ne.props=Qe;var ut=Ne.context,xt=F.contextType;typeof xt=="object"&&xt!==null?xt=un(xt):(xt=ir(F)?pr:Sn.current,xt=Vn(T,xt));var kt=F.getDerivedStateFromProps,Jt=typeof kt=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";Jt||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Qe!==$||ut!==xt)&&_p(T,Ne,$,xt),Nr=!1;var St=T.memoizedState;Ne.state=St,Vi(T,$,Ne,oe),ut=T.memoizedState,Qe!==$||St!==ut||Qt.current||Nr?(typeof kt=="function"&&(Hl(T,F,kt,$),ut=T.memoizedState),(Qe=Nr||wg(T,F,Qe,$,St,ut,xt))?(Jt||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(T.flags|=4)):(typeof Ne.componentDidMount=="function"&&(T.flags|=4),T.memoizedProps=$,T.memoizedState=ut),Ne.props=$,Ne.state=ut,Ne.context=xt,$=Qe):(typeof Ne.componentDidMount=="function"&&(T.flags|=4),$=!1)}else{Ne=T.stateNode,go(S,T),Qe=T.memoizedProps,xt=T.type===T.elementType?Qe:Ir(T.type,Qe),Ne.props=xt,Jt=T.pendingProps,St=Ne.context,ut=F.contextType,typeof ut=="object"&&ut!==null?ut=un(ut):(ut=ir(F)?pr:Sn.current,ut=Vn(T,ut));var Nn=F.getDerivedStateFromProps;(kt=typeof Nn=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Qe!==Jt||St!==ut)&&_p(T,Ne,$,ut),Nr=!1,St=T.memoizedState,Ne.state=St,Vi(T,$,Ne,oe);var Zn=T.memoizedState;Qe!==Jt||St!==Zn||Qt.current||Nr?(typeof Nn=="function"&&(Hl(T,F,Nn,$),Zn=T.memoizedState),(xt=Nr||wg(T,F,xt,$,St,Zn,ut))?(kt||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate($,Zn,ut),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate($,Zn,ut)),typeof Ne.componentDidUpdate=="function"&&(T.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(T.flags|=256)):(typeof Ne.componentDidUpdate!="function"||Qe===S.memoizedProps&&St===S.memoizedState||(T.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Qe===S.memoizedProps&&St===S.memoizedState||(T.flags|=256),T.memoizedProps=$,T.memoizedState=Zn),Ne.props=$,Ne.state=Zn,Ne.context=ut,$=xt):(typeof Ne.componentDidUpdate!="function"||Qe===S.memoizedProps&&St===S.memoizedState||(T.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Qe===S.memoizedProps&&St===S.memoizedState||(T.flags|=256),$=!1)}return Ap(S,T,F,$,ye,oe)}function Ap(S,T,F,$,oe,ye){ns(S,T);var Ne=(T.flags&64)!=0;if(!$&&!Ne)return oe&&Ls(T,F,!1),Yn(S,T,ye);$=T.stateNode,Ag.current=T;var Qe=Ne&&typeof F.getDerivedStateFromError!="function"?null:$.render();return T.flags|=1,S!==null&&Ne?(T.child=Vl(T,S.child,null,ye),T.child=Vl(T,null,Qe,ye)):Jr(S,T,Qe,ye),T.memoizedState=$.state,oe&&Ls(T,F,!0),T.child}function Rg(S){var T=S.stateNode;T.pendingContext?Vo(S,T.pendingContext,T.pendingContext!==T.context):T.context&&Vo(S,T.context,!1),Yc(S,T.containerInfo)}var Xs={dehydrated:null,retryLane:0};function Ef(S,T,F){var $=T.pendingProps,oe=Kn.current,ye=!1,Ne;return(Ne=(T.flags&64)!=0)||(Ne=S!==null&&S.memoizedState===null?!1:(oe&2)!=0),Ne?(ye=!0,T.flags&=-65):S!==null&&S.memoizedState===null||$.fallback===void 0||$.unstable_avoidThisFallback===!0||(oe|=1),vt(Kn,oe&1),S===null?($.fallback!==void 0&&$o(T),S=$.children,oe=$.fallback,ye?(S=nh(T,S,oe,F),T.child.memoizedState={baseLanes:F},T.memoizedState=Xs,S):typeof $.unstable_expectedLoadTime=="number"?(S=nh(T,S,oe,F),T.child.memoizedState={baseLanes:F},T.memoizedState=Xs,T.lanes=33554432,S):(F=yh({mode:"visible",children:S},T.mode,F,null),F.return=T,T.child=F)):S.memoizedState!==null?ye?($=Cp(S,T,$.children,$.fallback,F),ye=T.child,oe=S.child.memoizedState,ye.memoizedState=oe===null?{baseLanes:F}:{baseLanes:oe.baseLanes|F},ye.childLanes=S.childLanes&~F,T.memoizedState=Xs,$):(F=Pg(S,T,$.children,F),T.memoizedState=null,F):ye?($=Cp(S,T,$.children,$.fallback,F),ye=T.child,oe=S.child.memoizedState,ye.memoizedState=oe===null?{baseLanes:F}:{baseLanes:oe.baseLanes|F},ye.childLanes=S.childLanes&~F,T.memoizedState=Xs,$):(F=Pg(S,T,$.children,F),T.memoizedState=null,F)}function nh(S,T,F,$){var oe=S.mode,ye=S.child;return T={mode:"hidden",children:T},(oe&2)==0&&ye!==null?(ye.childLanes=0,ye.pendingProps=T):ye=yh(T,oe,0,null),F=Ha(F,oe,$,null),ye.return=S,F.return=S,ye.sibling=F,S.child=ye,F}function Pg(S,T,F,$){var oe=S.child;return S=oe.sibling,F=ss(oe,{mode:"visible",children:F}),(T.mode&2)==0&&(F.lanes=$),F.return=T,F.sibling=null,S!==null&&(S.nextEffect=null,S.flags=8,T.firstEffect=T.lastEffect=S),T.child=F}function Cp(S,T,F,$,oe){var ye=T.mode,Ne=S.child;S=Ne.sibling;var Qe={mode:"hidden",children:F};return(ye&2)==0&&T.child!==Ne?(F=T.child,F.childLanes=0,F.pendingProps=Qe,Ne=F.lastEffect,Ne!==null?(T.firstEffect=F.firstEffect,T.lastEffect=Ne,Ne.nextEffect=null):T.firstEffect=T.lastEffect=null):F=ss(Ne,Qe),S!==null?$=ss(S,$):($=Ha($,ye,oe,null),$.flags|=2),$.return=T,F.return=T,F.sibling=$,T.child=F,$}function Lg(S,T){S.lanes|=T;var F=S.alternate;F!==null&&(F.lanes|=T),Mn(S.return,T)}function Rp(S,T,F,$,oe,ye){var Ne=S.memoizedState;Ne===null?S.memoizedState={isBackwards:T,rendering:null,renderingStartTime:0,last:$,tail:F,tailMode:oe,lastEffect:ye}:(Ne.isBackwards=T,Ne.rendering=null,Ne.renderingStartTime=0,Ne.last=$,Ne.tail=F,Ne.tailMode=oe,Ne.lastEffect=ye)}function mr(S,T,F){var $=T.pendingProps,oe=$.revealOrder,ye=$.tail;if(Jr(S,T,$.children,F),$=Kn.current,($&2)!=0)$=$&1|2,T.flags|=64;else{if(S!==null&&(S.flags&64)!=0)e:for(S=T.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&Lg(S,F);else if(S.tag===19)Lg(S,F);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===T)break e;for(;S.sibling===null;){if(S.return===null||S.return===T)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}$&=1}if(vt(Kn,$),(T.mode&2)==0)T.memoizedState=null;else switch(oe){case"forwards":for(F=T.child,oe=null;F!==null;)S=F.alternate,S!==null&&mf(S)===null&&(oe=F),F=F.sibling;F=oe,F===null?(oe=T.child,T.child=null):(oe=F.sibling,F.sibling=null),Rp(T,!1,oe,F,ye,T.lastEffect);break;case"backwards":for(F=null,oe=T.child,T.child=null;oe!==null;){if(S=oe.alternate,S!==null&&mf(S)===null){T.child=oe;break}S=oe.sibling,oe.sibling=F,F=oe,oe=S}Rp(T,!0,F,null,ye,T.lastEffect);break;case"together":Rp(T,!1,null,null,void 0,T.lastEffect);break;default:T.memoizedState=null}return T.child}function Yn(S,T,F){if(S!==null&&(T.dependencies=S.dependencies),If|=T.lanes,(F&T.childLanes)!=0){if(S!==null&&T.child!==S.child)throw Error(o(153));if(T.child!==null){for(S=T.child,F=ss(S,S.pendingProps),T.child=F,F.return=T;S.sibling!==null;)S=S.sibling,F=F.sibling=ss(S,S.pendingProps),F.return=T;F.sibling=null}return T.child}return null}function Oa(S){S.flags|=4}var Mf,Yl,rh,ql;if(Oe)Mf=function(S,T){for(var F=T.child;F!==null;){if(F.tag===5||F.tag===6)K(S,F.stateNode);else if(F.tag!==4&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===T)break;for(;F.sibling===null;){if(F.return===null||F.return===T)return;F=F.return}F.sibling.return=F.return,F=F.sibling}},Yl=function(){},rh=function(S,T,F,$,oe){if(S=S.memoizedProps,S!==$){var ye=T.stateNode,Ne=La(ji.current);F=se(ye,F,S,$,oe,Ne),(T.updateQueue=F)&&Oa(T)}},ql=function(S,T,F,$){F!==$&&Oa(T)};else if(me){Mf=function(S,T,F,$){for(var oe=T.child;oe!==null;){if(oe.tag===5){var ye=oe.stateNode;F&&$&&(ye=Te(ye,oe.type,oe.memoizedProps,oe)),K(S,ye)}else if(oe.tag===6)ye=oe.stateNode,F&&$&&(ye=je(ye,oe.memoizedProps,oe)),K(S,ye);else if(oe.tag!==4){if(oe.tag===13&&(oe.flags&4)!=0&&(ye=oe.memoizedState!==null)){var Ne=oe.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,Mf(S,Ne,!0,ye)),ye=Ne.sibling,ye!==null)){ye.return=oe,oe=ye;continue}}if(oe.child!==null){oe.child.return=oe,oe=oe.child;continue}}if(oe===T)break;for(;oe.sibling===null;){if(oe.return===null||oe.return===T)return;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}};var Ql=function(S,T,F,$){for(var oe=T.child;oe!==null;){if(oe.tag===5){var ye=oe.stateNode;F&&$&&(ye=Te(ye,oe.type,oe.memoizedProps,oe)),Pe(S,ye)}else if(oe.tag===6)ye=oe.stateNode,F&&$&&(ye=je(ye,oe.memoizedProps,oe)),Pe(S,ye);else if(oe.tag!==4){if(oe.tag===13&&(oe.flags&4)!=0&&(ye=oe.memoizedState!==null)){var Ne=oe.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,Ql(S,Ne,!0,ye)),ye=Ne.sibling,ye!==null)){ye.return=oe,oe=ye;continue}}if(oe.child!==null){oe.child.return=oe,oe=oe.child;continue}}if(oe===T)break;for(;oe.sibling===null;){if(oe.return===null||oe.return===T)return;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}};Yl=function(S){var T=S.stateNode;if(S.firstEffect!==null){var F=T.containerInfo,$=L(F);Ql($,S,!1,!1),T.pendingChildren=$,Oa(S),Ue(F,$)}},rh=function(S,T,F,$,oe){var ye=S.stateNode,Ne=S.memoizedProps;if((S=T.firstEffect===null)&&Ne===$)T.stateNode=ye;else{var Qe=T.stateNode,ut=La(ji.current),xt=null;Ne!==$&&(xt=se(Qe,F,Ne,$,oe,ut)),S&&xt===null?T.stateNode=ye:(ye=lt(ye,xt,F,Ne,$,T,S,Qe),ae(ye,F,$,oe,ut)&&Oa(T),T.stateNode=ye,S?Oa(T):Mf(ye,T,!1,!1))}},ql=function(S,T,F,$){F!==$?(S=La(Ko.current),F=La(ji.current),T.stateNode=he($,S,F,T),Oa(T)):T.stateNode=S.stateNode}}else Yl=function(){},rh=function(){},ql=function(){};function Ys(S,T){if(!Ia)switch(S.tailMode){case"hidden":T=S.tail;for(var F=null;T!==null;)T.alternate!==null&&(F=T),T=T.sibling;F===null?S.tail=null:F.sibling=null;break;case"collapsed":F=S.tail;for(var $=null;F!==null;)F.alternate!==null&&($=F),F=F.sibling;$===null?T||S.tail===null?S.tail=null:S.tail.sibling=null:$.sibling=null}}function Jl(S,T,F){var $=T.pendingProps;switch(T.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ir(T.type)&&zi(),null;case 3:return Or(),an(Qt),an(Sn),Da(),$=T.stateNode,$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(S===null||S.child===null)&&(Qc(T)?Oa(T):$.hydrate||(T.flags|=256)),Yl(T),null;case 5:Hs(T);var oe=La(Ko.current);if(F=T.type,S!==null&&T.stateNode!=null)rh(S,T,F,$,oe),S.ref!==T.ref&&(T.flags|=128);else{if(!$){if(T.stateNode===null)throw Error(o(166));return null}if(S=La(ji.current),Qc(T)){if(!pe)throw Error(o(175));S=gt(T.stateNode,T.type,T.memoizedProps,oe,S,T),T.updateQueue=S,S!==null&&Oa(T)}else{var ye=ue(F,$,oe,S,T);Mf(ye,T,!1,!1),T.stateNode=ye,ae(ye,F,$,oe,S)&&Oa(T)}T.ref!==null&&(T.flags|=128)}return null;case 6:if(S&&T.stateNode!=null)ql(S,T,S.memoizedProps,$);else{if(typeof $!="string"&&T.stateNode===null)throw Error(o(166));if(S=La(Ko.current),oe=La(ji.current),Qc(T)){if(!pe)throw Error(o(176));yt(T.stateNode,T.memoizedProps,T)&&Oa(T)}else T.stateNode=he($,S,oe,T)}return null;case 13:return an(Kn),$=T.memoizedState,(T.flags&64)!=0?(T.lanes=F,T):($=$!==null,oe=!1,S===null?T.memoizedProps.fallback!==void 0&&Qc(T):oe=S.memoizedState!==null,$&&!oe&&(T.mode&2)!=0&&(S===null&&T.memoizedProps.unstable_avoidThisFallback!==!0||(Kn.current&1)!=0?kr===0&&(kr=3):((kr===0||kr===3)&&(kr=4),Kr===null||(If&134217727)==0&&(rs&134217727)==0||os(Kr,Vr))),me&&$&&(T.flags|=4),Oe&&($||oe)&&(T.flags|=4),null);case 4:return Or(),Yl(T),S===null&&P(T.stateNode.containerInfo),null;case 10:return ha(T),null;case 17:return ir(T.type)&&zi(),null;case 19:if(an(Kn),$=T.memoizedState,$===null)return null;if(oe=(T.flags&64)!=0,ye=$.rendering,ye===null)if(oe)Ys($,!1);else{if(kr!==0||S!==null&&(S.flags&64)!=0)for(S=T.child;S!==null;){if(ye=mf(S),ye!==null){for(T.flags|=64,Ys($,!1),S=ye.updateQueue,S!==null&&(T.updateQueue=S,T.flags|=4),$.lastEffect===null&&(T.firstEffect=null),T.lastEffect=$.lastEffect,S=F,$=T.child;$!==null;)oe=$,F=S,oe.flags&=2,oe.nextEffect=null,oe.firstEffect=null,oe.lastEffect=null,ye=oe.alternate,ye===null?(oe.childLanes=0,oe.lanes=F,oe.child=null,oe.memoizedProps=null,oe.memoizedState=null,oe.updateQueue=null,oe.dependencies=null,oe.stateNode=null):(oe.childLanes=ye.childLanes,oe.lanes=ye.lanes,oe.child=ye.child,oe.memoizedProps=ye.memoizedProps,oe.memoizedState=ye.memoizedState,oe.updateQueue=ye.updateQueue,oe.type=ye.type,F=ye.dependencies,oe.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext}),$=$.sibling;return vt(Kn,Kn.current&1|2),T.child}S=S.sibling}$.tail!==null&&$t()>fh&&(T.flags|=64,oe=!0,Ys($,!1),T.lanes=33554432)}else{if(!oe)if(S=mf(ye),S!==null){if(T.flags|=64,oe=!0,S=S.updateQueue,S!==null&&(T.updateQueue=S,T.flags|=4),Ys($,!0),$.tail===null&&$.tailMode==="hidden"&&!ye.alternate&&!Ia)return T=T.lastEffect=$.lastEffect,T!==null&&(T.nextEffect=null),null}else 2*$t()-$.renderingStartTime>fh&&F!==1073741824&&(T.flags|=64,oe=!0,Ys($,!1),T.lanes=33554432);$.isBackwards?(ye.sibling=T.child,T.child=ye):(S=$.last,S!==null?S.sibling=ye:T.child=ye,$.last=ye)}return $.tail!==null?(S=$.tail,$.rendering=S,$.tail=S.sibling,$.lastEffect=T.lastEffect,$.renderingStartTime=$t(),S.sibling=null,T=Kn.current,vt(Kn,oe?T&1|2:T&1),S):null;case 23:case 24:return tl(),S!==null&&S.memoizedState!==null!=(T.memoizedState!==null)&&$.mode!=="unstable-defer-without-hiding"&&(T.flags|=4),null}throw Error(o(156,T.tag))}function Tf(S){switch(S.tag){case 1:ir(S.type)&&zi();var T=S.flags;return T&4096?(S.flags=T&-4097|64,S):null;case 3:if(Or(),an(Qt),an(Sn),Da(),T=S.flags,(T&64)!=0)throw Error(o(285));return S.flags=T&-4097|64,S;case 5:return Hs(S),null;case 13:return an(Kn),T=S.flags,T&4096?(S.flags=T&-4097|64,S):null;case 19:return an(Kn),null;case 4:return Or(),null;case 10:return ha(S),null;case 23:case 24:return tl(),null;default:return null}}function qs(S,T){try{var F="",$=T;do F+=Jo($),$=$.return;while($);var oe=F}catch(ye){oe=`
Error generating stack: `+ye.message+`
`+ye.stack}return{value:S,source:T,stack:oe}}function Kl(S,T){try{console.error(T.value)}catch(F){setTimeout(function(){throw F})}}var $l=typeof WeakMap=="function"?WeakMap:Map;function Ig(S,T,F){F=da(-1,F),F.tag=3,F.payload={element:null};var $=T.value;return F.callback=function(){nu||(nu=!0,wo=$),Kl(S,T)},F}function Dg(S,T,F){F=da(-1,F),F.tag=3;var $=S.type.getDerivedStateFromError;if(typeof $=="function"){var oe=T.value;F.payload=function(){return Kl(S,T),$(oe)}}var ye=S.stateNode;return ye!==null&&typeof ye.componentDidCatch=="function"&&(F.callback=function(){typeof $!="function"&&(ur===null?ur=new Set([this]):ur.add(this),Kl(S,T));var Ne=T.stack;this.componentDidCatch(T.value,{componentStack:Ne!==null?Ne:""})}),F}var Vy=typeof WeakSet=="function"?WeakSet:Set;function Og(S){var T=S.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(F){So(S,F)}else T.current=null}function jy(S,T){switch(T.tag){case 0:case 11:case 15:case 22:return;case 1:if(T.flags&256&&S!==null){var F=S.memoizedProps,$=S.memoizedState;S=T.stateNode,T=S.getSnapshotBeforeUpdate(T.elementType===T.type?F:Ir(T.type,F),$),S.__reactInternalSnapshotBeforeUpdate=T}return;case 3:Oe&&T.flags&256&&Ke(T.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Af(S,T){if(T=T.updateQueue,T=T!==null?T.lastEffect:null,T!==null){var F=T=T.next;do{if((F.tag&S)===S){var $=F.destroy;F.destroy=void 0,$!==void 0&&$()}F=F.next}while(F!==T)}}function Cf(S,T,F){switch(F.tag){case 0:case 11:case 15:case 22:if(T=F.updateQueue,T=T!==null?T.lastEffect:null,T!==null){S=T=T.next;do{if((S.tag&3)==3){var $=S.create;S.destroy=$()}S=S.next}while(S!==T)}if(T=F.updateQueue,T=T!==null?T.lastEffect:null,T!==null){S=T=T.next;do{var oe=S;$=oe.next,oe=oe.tag,(oe&4)!=0&&(oe&1)!=0&&(Gg(F,S),Hp(F,S)),S=$}while(S!==T)}return;case 1:S=F.stateNode,F.flags&4&&(T===null?S.componentDidMount():($=F.elementType===F.type?T.memoizedProps:Ir(F.type,T.memoizedProps),S.componentDidUpdate($,T.memoizedState,S.__reactInternalSnapshotBeforeUpdate))),T=F.updateQueue,T!==null&&jc(F,T,S);return;case 3:if(T=F.updateQueue,T!==null){if(S=null,F.child!==null)switch(F.child.tag){case 5:S=z(F.child.stateNode);break;case 1:S=F.child.stateNode}jc(F,T,S)}return;case 5:S=F.stateNode,T===null&&F.flags&4&&Ge(S,F.type,F.memoizedProps,F);return;case 6:return;case 4:return;case 12:return;case 13:pe&&F.memoizedState===null&&(F=F.alternate,F!==null&&(F=F.memoizedState,F!==null&&(F=F.dehydrated,F!==null&&Yt(F))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function Pp(S,T){if(Oe)for(var F=S;;){if(F.tag===5){var $=F.stateNode;T?qe($):He(F.stateNode,F.memoizedProps)}else if(F.tag===6)$=F.stateNode,T?De($):ce($,F.memoizedProps);else if((F.tag!==23&&F.tag!==24||F.memoizedState===null||F===S)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===S)break;for(;F.sibling===null;){if(F.return===null||F.return===S)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Ee(S,T){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Zo,T)}catch{}switch(T.tag){case 0:case 11:case 14:case 15:case 22:if(S=T.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var F=S=S.next;do{var $=F,oe=$.destroy;if($=$.tag,oe!==void 0)if(($&4)!=0)Gg(T,F);else{$=T;try{oe()}catch(ye){So($,ye)}}F=F.next}while(F!==S)}break;case 1:if(Og(T),S=T.stateNode,typeof S.componentWillUnmount=="function")try{S.props=T.memoizedProps,S.state=T.memoizedState,S.componentWillUnmount()}catch(ye){So(T,ye)}break;case 5:Og(T);break;case 4:Oe?kg(S,T):me&&me&&(T=T.stateNode.containerInfo,S=L(T),q(T,S))}}function Qs(S,T){for(var F=T;;)if(Ee(S,F),F.child===null||Oe&&F.tag===4){if(F===T)break;for(;F.sibling===null;){if(F.return===null||F.return===T)return;F=F.return}F.sibling.return=F.return,F=F.sibling}else F.child.return=F,F=F.child}function Rf(S){S.alternate=null,S.child=null,S.dependencies=null,S.firstEffect=null,S.lastEffect=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.return=null,S.updateQueue=null}function Ii(S){return S.tag===5||S.tag===3||S.tag===4}function hn(S){if(Oe){e:{for(var T=S.return;T!==null;){if(Ii(T))break e;T=T.return}throw Error(o(160))}var F=T;switch(T=F.stateNode,F.tag){case 5:var $=!1;break;case 3:T=T.containerInfo,$=!0;break;case 4:T=T.containerInfo,$=!0;break;default:throw Error(o(161))}F.flags&16&&(Fe(T),F.flags&=-17);e:t:for(F=S;;){for(;F.sibling===null;){if(F.return===null||Ii(F.return)){F=null;break e}F=F.return}for(F.sibling.return=F.return,F=F.sibling;F.tag!==5&&F.tag!==6&&F.tag!==18;){if(F.flags&2||F.child===null||F.tag===4)continue t;F.child.return=F,F=F.child}if(!(F.flags&2)){F=F.stateNode;break e}}$?Lp(S,F,T):Ip(S,F,T)}}function Lp(S,T,F){var $=S.tag,oe=$===5||$===6;if(oe)S=oe?S.stateNode:S.stateNode.instance,T?ot(F,S,T):Ve(F,S);else if($!==4&&(S=S.child,S!==null))for(Lp(S,T,F),S=S.sibling;S!==null;)Lp(S,T,F),S=S.sibling}function Ip(S,T,F){var $=S.tag,oe=$===5||$===6;if(oe)S=oe?S.stateNode:S.stateNode.instance,T?et(F,S,T):Ye(F,S);else if($!==4&&(S=S.child,S!==null))for(Ip(S,T,F),S=S.sibling;S!==null;)Ip(S,T,F),S=S.sibling}function kg(S,T){for(var F=T,$=!1,oe,ye;;){if(!$){$=F.return;e:for(;;){if($===null)throw Error(o(160));switch(oe=$.stateNode,$.tag){case 5:ye=!1;break e;case 3:oe=oe.containerInfo,ye=!0;break e;case 4:oe=oe.containerInfo,ye=!0;break e}$=$.return}$=!0}if(F.tag===5||F.tag===6)Qs(S,F),ye?Ae(oe,F.stateNode):X(oe,F.stateNode);else if(F.tag===4){if(F.child!==null){oe=F.stateNode.containerInfo,ye=!0,F.child.return=F,F=F.child;continue}}else if(Ee(S,F),F.child!==null){F.child.return=F,F=F.child;continue}if(F===T)break;for(;F.sibling===null;){if(F.return===null||F.return===T)return;F=F.return,F.tag===4&&($=!1)}F.sibling.return=F.return,F=F.sibling}}function xo(S,T){if(Oe){switch(T.tag){case 0:case 11:case 14:case 15:case 22:Af(3,T);return;case 1:return;case 5:var F=T.stateNode;if(F!=null){var $=T.memoizedProps;S=S!==null?S.memoizedProps:$;var oe=T.type,ye=T.updateQueue;T.updateQueue=null,ye!==null&&We(F,ye,oe,S,$,T)}return;case 6:if(T.stateNode===null)throw Error(o(162));F=T.memoizedProps,Me(T.stateNode,S!==null?S.memoizedProps:F,F);return;case 3:pe&&(T=T.stateNode,T.hydrate&&(T.hydrate=!1,Ct(T.containerInfo)));return;case 12:return;case 13:Fg(T),ih(T);return;case 19:ih(T);return;case 17:return;case 23:case 24:Pp(T,T.memoizedState!==null);return}throw Error(o(163))}switch(T.tag){case 0:case 11:case 14:case 15:case 22:Af(3,T);return;case 12:return;case 13:Fg(T),ih(T);return;case 19:ih(T);return;case 3:pe&&(F=T.stateNode,F.hydrate&&(F.hydrate=!1,Ct(F.containerInfo)));break;case 23:case 24:return}e:if(me){switch(T.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:T=T.stateNode,q(T.containerInfo,T.pendingChildren);break e}throw Error(o(163))}}function Fg(S){S.memoizedState!==null&&(Up=$t(),Oe&&Pp(S.child,!0))}function ih(S){var T=S.updateQueue;if(T!==null){S.updateQueue=null;var F=S.stateNode;F===null&&(F=S.stateNode=new Vy),T.forEach(function($){var oe=mh.bind(null,S,$);F.has($)||(F.add($),$.then(oe,oe))})}}function Zy(S,T){return S!==null&&(S=S.memoizedState,S===null||S.dehydrated!==null)?(T=T.memoizedState,T!==null&&T.dehydrated===null):!1}var ah=0,oh=1,Xi=2,sh=3,lh=4;if(typeof Symbol=="function"&&Symbol.for){var Pf=Symbol.for;ah=Pf("selector.component"),oh=Pf("selector.has_pseudo_class"),Xi=Pf("selector.role"),sh=Pf("selector.test_id"),lh=Pf("selector.text")}function Dp(S){var T=re(S);if(T!=null){if(typeof T.memoizedProps["data-testname"]!="string")throw Error(o(364));return T}if(S=B(S),S===null)throw Error(o(362));return S.stateNode.current}function Op(S,T){switch(T.$$typeof){case ah:if(S.type===T.value)return!0;break;case oh:e:{T=T.value,S=[S,0];for(var F=0;F<S.length;){var $=S[F++],oe=S[F++],ye=T[oe];if($.tag!==5||!Ce($)){for(;ye!=null&&Op($,ye);)oe++,ye=T[oe];if(oe===T.length){T=!0;break e}else for($=$.child;$!==null;)S.push($,oe),$=$.sibling}}T=!1}return T;case Xi:if(S.tag===5&&be(S.stateNode,T.value))return!0;break;case lh:if((S.tag===5||S.tag===6)&&(S=de(S),S!==null&&0<=S.indexOf(T.value)))return!0;break;case sh:if(S.tag===5&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===T.value.toLowerCase()))return!0;break;default:throw Error(o(365,T))}return!1}function pa(S){switch(S.$$typeof){case ah:return"<"+(O(S.value)||"Unknown")+">";case oh:return":has("+(pa(S)||"")+")";case Xi:return'[role="'+S.value+'"]';case lh:return'"'+S.value+'"';case sh:return'[data-testname="'+S.value+'"]';default:throw Error(o(365,S))}}function Ng(S,T){var F=[];S=[S,0];for(var $=0;$<S.length;){var oe=S[$++],ye=S[$++],Ne=T[ye];if(oe.tag!==5||!Ce(oe)){for(;Ne!=null&&Op(oe,Ne);)ye++,Ne=T[ye];if(ye===T.length)F.push(oe);else for(oe=oe.child;oe!==null;)S.push(oe,ye),oe=oe.sibling}}return F}function kp(S,T){if(!D)throw Error(o(363));S=Dp(S),S=Ng(S,T),T=[],S=Array.from(S);for(var F=0;F<S.length;){var $=S[F++];if($.tag===5)Ce($)||T.push($.stateNode);else for($=$.child;$!==null;)S.push($),$=$.sibling}return T}var uh=null;function Xy(S){if(uh===null)try{var T=("require"+Math.random()).slice(0,7);uh=(Qm&&Qm[T]).call(Qm,"timers").setImmediate}catch{uh=function($){var oe=new MessageChannel;oe.port1.onmessage=$,oe.port2.postMessage(void 0)}}return uh(S)}var Yy=Math.ceil,ka=s.ReactCurrentDispatcher,Fp=s.ReactCurrentOwner,Np=s.IsSomeRendererActing,Ot=0,Kr=null,Er=null,Vr=0,Js=0,Bp=Ht(0),kr=0,Lf=null,eu=0,If=0,rs=0,Ks=0,tu=null,Up=0,fh=1/0;function is(){fh=$t()+500}var Mt=null,nu=!1,wo=null,ur=null,as=!1,ru=null,iu=90,$s=[],Fa=[],Na=null,Df=0,au=null,ch=-1,Ba=0,gr=0,el=null,ou=!1;function er(){return(Ot&48)!=0?$t():ch!==-1?ch:ch=$t()}function Ua(S){if(S=S.mode,(S&2)==0)return 1;if((S&4)==0)return Ca()===99?1:2;if(Ba===0&&(Ba=eu),ff.transition!==0){gr!==0&&(gr=tu!==null?tu.pendingLanes:0),S=Ba;var T=4186112&~gr;return T&=-T,T===0&&(S=4186112&~S,T=S&-S,T===0&&(T=8192)),T}return S=Ca(),(Ot&4)!=0&&S===98?S=Ma(12,Ba):(S=kl(S),S=Ma(S,Ba)),S}function Yi(S,T,F){if(50<Df)throw Df=0,au=null,Error(o(185));if(S=za(S,T),S===null)return null;ci(S,T,F),S===Kr&&(rs|=T,kr===4&&os(S,Vr));var $=Ca();T===1?(Ot&8)!=0&&(Ot&48)==0?zp(S):(vi(S,F),Ot===0&&(is(),Lr())):((Ot&4)==0||$!==98&&$!==99||(Na===null?Na=new Set([S]):Na.add(S)),vi(S,F)),tu=S}function za(S,T){S.lanes|=T;var F=S.alternate;for(F!==null&&(F.lanes|=T),F=S,S=S.return;S!==null;)S.childLanes|=T,F=S.alternate,F!==null&&(F.childLanes|=T),F=S,S=S.return;return F.tag===3?F.stateNode:null}function vi(S,T){for(var F=S.callbackNode,$=S.suspendedLanes,oe=S.pingedLanes,ye=S.expirationTimes,Ne=S.pendingLanes;0<Ne;){var Qe=31-hi(Ne),ut=1<<Qe,xt=ye[Qe];if(xt===-1){if((ut&$)==0||(ut&oe)!=0){xt=T,ua(ut);var kt=En;ye[Qe]=10<=kt?xt+250:6<=kt?xt+5e3:-1}}else xt<=T&&(S.expiredLanes|=ut);Ne&=~ut}if($=co(S,S===Kr?Vr:0),T=En,$===0)F!==null&&(F!==po&&Ds(F),S.callbackNode=null,S.callbackPriority=0);else{if(F!==null){if(S.callbackPriority===T)return;F!==po&&Ds(F)}T===15?(F=zp.bind(null,S),Gi===null?(Gi=[F],Wr=Ta(Os,ca)):Gi.push(F),F=po):T===14?F=fa(99,zp.bind(null,S)):(F=Xo(T),F=fa(F,jr.bind(null,S))),S.callbackPriority=T,S.callbackNode=F}}function jr(S){if(ch=-1,gr=Ba=0,(Ot&48)!=0)throw Error(o(327));var T=S.callbackNode;if(Ga()&&S.callbackNode!==T)return null;var F=co(S,S===Kr?Vr:0);if(F===0)return null;var $=F,oe=Ot;Ot|=16;var ye=zg();(Kr!==S||Vr!==$)&&(is(),nl(S,$));do try{Jy();break}catch(Qe){Ug(S,Qe)}while(1);if(Us(),ka.current=ye,Ot=oe,Er!==null?$=0:(Kr=null,Vr=0,$=kr),(eu&rs)!=0)nl(S,0);else if($!==0){if($===2&&(Ot|=64,S.hydrate&&(S.hydrate=!1,Ke(S.containerInfo)),F=Is(S),F!==0&&($=bo(S,F))),$===1)throw T=Lf,nl(S,0),os(S,F),vi(S,$t()),T;switch(S.finishedWork=S.current.alternate,S.finishedLanes=F,$){case 0:case 1:throw Error(o(345));case 2:rl(S);break;case 3:if(os(S,F),(F&62914560)===F&&($=Up+500-$t(),10<$)){if(co(S,0)!==0)break;if(oe=S.suspendedLanes,(oe&F)!==F){er(),S.pingedLanes|=S.suspendedLanes&oe;break}S.timeoutHandle=we(rl.bind(null,S),$);break}rl(S);break;case 4:if(os(S,F),(F&4186112)===F)break;for($=S.eventTimes,oe=-1;0<F;){var Ne=31-hi(F);ye=1<<Ne,Ne=$[Ne],Ne>oe&&(oe=Ne),F&=~ye}if(F=oe,F=$t()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Yy(F/1960))-F,10<F){S.timeoutHandle=we(rl.bind(null,S),F);break}rl(S);break;case 5:rl(S);break;default:throw Error(o(329))}}return vi(S,$t()),S.callbackNode===T?jr.bind(null,S):null}function os(S,T){for(T&=~Ks,T&=~rs,S.suspendedLanes|=T,S.pingedLanes&=~T,S=S.expirationTimes;0<T;){var F=31-hi(T),$=1<<F;S[F]=-1,T&=~$}}function zp(S){if((Ot&48)!=0)throw Error(o(327));if(Ga(),S===Kr&&(S.expiredLanes&Vr)!=0){var T=Vr,F=bo(S,T);(eu&rs)!=0&&(T=co(S,T),F=bo(S,T))}else T=co(S,0),F=bo(S,T);if(S.tag!==0&&F===2&&(Ot|=64,S.hydrate&&(S.hydrate=!1,Ke(S.containerInfo)),T=Is(S),T!==0&&(F=bo(S,T))),F===1)throw F=Lf,nl(S,0),os(S,T),vi(S,$t()),F;return S.finishedWork=S.current.alternate,S.finishedLanes=T,rl(S),vi(S,$t()),null}function qy(){if(Na!==null){var S=Na;Na=null,S.forEach(function(T){T.expiredLanes|=24&T.pendingLanes,vi(T,$t())})}Lr()}function Bg(S,T){var F=Ot;Ot|=1;try{return S(T)}finally{Ot=F,Ot===0&&(is(),Lr())}}function hh(S,T){var F=Ot;if((F&48)!=0)return S(T);Ot|=1;try{if(S)return Hi(99,S.bind(null,T))}finally{Ot=F,Lr()}}function dh(S,T){vt(Bp,Js),Js|=T,eu|=T}function tl(){Js=Bp.current,an(Bp)}function nl(S,T){S.finishedWork=null,S.finishedLanes=0;var F=S.timeoutHandle;if(F!==Ie&&(S.timeoutHandle=Ie,xe(F)),Er!==null)for(F=Er.return;F!==null;){var $=F;switch($.tag){case 1:$=$.type.childContextTypes,$!=null&&zi();break;case 3:Or(),an(Qt),an(Sn),Da();break;case 5:Hs($);break;case 4:Or();break;case 13:an(Kn);break;case 19:an(Kn);break;case 10:ha($);break;case 23:case 24:tl()}F=F.return}Kr=S,Er=ss(S.current,null),Vr=Js=eu=T,kr=0,Lf=null,Ks=rs=If=0}function Ug(S,T){do{var F=Er;try{if(Us(),es.current=$c,_f){for(var $=sr.memoizedState;$!==null;){var oe=$.queue;oe!==null&&(oe.pending=null),$=$.next}_f=!1}if(vf=0,Gn=lr=sr=null,yf=!1,Fp.current=null,F===null||F.return===null){kr=1,Lf=T,Er=null;break}e:{var ye=S,Ne=F.return,Qe=F,ut=T;if(T=Vr,Qe.flags|=2048,Qe.firstEffect=Qe.lastEffect=null,ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var xt=ut;if((Qe.mode&2)==0){var kt=Qe.alternate;kt?(Qe.updateQueue=kt.updateQueue,Qe.memoizedState=kt.memoizedState,Qe.lanes=kt.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var Jt=(Kn.current&1)!=0,St=Ne;do{var Nn;if(Nn=St.tag===13){var Zn=St.memoizedState;if(Zn!==null)Nn=Zn.dehydrated!==null;else{var _i=St.memoizedProps;Nn=_i.fallback===void 0?!1:_i.unstable_avoidThisFallback!==!0?!0:!Jt}}if(Nn){var rt=St.updateQueue;if(rt===null){var $e=new Set;$e.add(xt),St.updateQueue=$e}else rt.add(xt);if((St.mode&2)==0){if(St.flags|=64,Qe.flags|=16384,Qe.flags&=-2981,Qe.tag===1)if(Qe.alternate===null)Qe.tag=17;else{var ct=da(-1,1);ct.tag=2,Pa(Qe,ct)}Qe.lanes|=1;break e}ut=void 0,Qe=T;var At=ye.pingCache;if(At===null?(At=ye.pingCache=new $l,ut=new Set,At.set(xt,ut)):(ut=At.get(xt),ut===void 0&&(ut=new Set,At.set(xt,ut))),!ut.has(Qe)){ut.add(Qe);var Bt=Hg.bind(null,ye,xt,Qe);xt.then(Bt,Bt)}St.flags|=4096,St.lanes=T;break e}St=St.return}while(St!==null);ut=Error((O(Qe.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}kr!==5&&(kr=2),ut=qs(ut,Qe),St=Ne;do{switch(St.tag){case 3:ye=ut,St.flags|=4096,T&=-T,St.lanes|=T;var Hn=Ig(St,ye,T);jn(St,Hn);break e;case 1:ye=ut;var Kt=St.type,Tn=St.stateNode;if((St.flags&64)==0&&(typeof Kt.getDerivedStateFromError=="function"||Tn!==null&&typeof Tn.componentDidCatch=="function"&&(ur===null||!ur.has(Tn)))){St.flags|=4096,T&=-T,St.lanes|=T;var vn=Dg(St,ye,T);jn(St,vn);break e}}St=St.return}while(St!==null)}Gp(F)}catch(nn){T=nn,Er===F&&F!==null&&(Er=F=F.return);continue}break}while(1)}function zg(){var S=ka.current;return ka.current=$c,S===null?$c:S}function bo(S,T){var F=Ot;Ot|=16;var $=zg();Kr===S&&Vr===T||nl(S,T);do try{Qy();break}catch(oe){Ug(S,oe)}while(1);if(Us(),Ot=F,ka.current=$,Er!==null)throw Error(o(261));return Kr=null,Vr=0,kr}function Qy(){for(;Er!==null;)ph(Er)}function Jy(){for(;Er!==null&&!Bl();)ph(Er)}function ph(S){var T=Wg(S.alternate,S,Js);S.memoizedProps=S.pendingProps,T===null?Gp(S):Er=T,Fp.current=null}function Gp(S){var T=S;do{var F=T.alternate;if(S=T.return,(T.flags&2048)==0){if(F=Jl(F,T,Js),F!==null){Er=F;return}if(F=T,F.tag!==24&&F.tag!==23||F.memoizedState===null||(Js&1073741824)!=0||(F.mode&4)==0){for(var $=0,oe=F.child;oe!==null;)$|=oe.lanes|oe.childLanes,oe=oe.sibling;F.childLanes=$}S!==null&&(S.flags&2048)==0&&(S.firstEffect===null&&(S.firstEffect=T.firstEffect),T.lastEffect!==null&&(S.lastEffect!==null&&(S.lastEffect.nextEffect=T.firstEffect),S.lastEffect=T.lastEffect),1<T.flags&&(S.lastEffect!==null?S.lastEffect.nextEffect=T:S.firstEffect=T,S.lastEffect=T))}else{if(F=Tf(T),F!==null){F.flags&=2047,Er=F;return}S!==null&&(S.firstEffect=S.lastEffect=null,S.flags|=2048)}if(T=T.sibling,T!==null){Er=T;return}Er=T=S}while(T!==null);kr===0&&(kr=5)}function rl(S){var T=Ca();return Hi(99,Ky.bind(null,S,T)),null}function Ky(S,T){do Ga();while(ru!==null);if((Ot&48)!=0)throw Error(o(327));var F=S.finishedWork;if(F===null)return null;if(S.finishedWork=null,S.finishedLanes=0,F===S.current)throw Error(o(177));S.callbackNode=null;var $=F.lanes|F.childLanes,oe=$,ye=S.pendingLanes&~oe;S.pendingLanes=oe,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=oe,S.mutableReadLanes&=oe,S.entangledLanes&=oe,oe=S.entanglements;for(var Ne=S.eventTimes,Qe=S.expirationTimes;0<ye;){var ut=31-hi(ye),xt=1<<ut;oe[ut]=0,Ne[ut]=-1,Qe[ut]=-1,ye&=~xt}if(Na!==null&&($&24)==0&&Na.has(S)&&Na.delete(S),S===Kr&&(Er=Kr=null,Vr=0),1<F.flags?F.lastEffect!==null?(F.lastEffect.nextEffect=F,$=F.firstEffect):$=F:$=F.firstEffect,$!==null){oe=Ot,Ot|=32,Fp.current=null,el=ne(S.containerInfo),ou=!1,Mt=$;do try{$y()}catch($e){if(Mt===null)throw Error(o(330));So(Mt,$e),Mt=Mt.nextEffect}while(Mt!==null);el=null,Mt=$;do try{for(Ne=S;Mt!==null;){var kt=Mt.flags;if(kt&16&&Oe&&Fe(Mt.stateNode),kt&128){var Jt=Mt.alternate;if(Jt!==null){var St=Jt.ref;St!==null&&(typeof St=="function"?St(null):St.current=null)}}switch(kt&1038){case 2:hn(Mt),Mt.flags&=-3;break;case 6:hn(Mt),Mt.flags&=-3,xo(Mt.alternate,Mt);break;case 1024:Mt.flags&=-1025;break;case 1028:Mt.flags&=-1025,xo(Mt.alternate,Mt);break;case 4:xo(Mt.alternate,Mt);break;case 8:Qe=Ne,ye=Mt,Oe?kg(Qe,ye):Qs(Qe,ye);var Nn=ye.alternate;Rf(ye),Nn!==null&&Rf(Nn)}Mt=Mt.nextEffect}}catch($e){if(Mt===null)throw Error(o(330));So(Mt,$e),Mt=Mt.nextEffect}while(Mt!==null);ou&&W(),le(S.containerInfo),S.current=F,Mt=$;do try{for(kt=S;Mt!==null;){var Zn=Mt.flags;if(Zn&36&&Cf(kt,Mt.alternate,Mt),Zn&128){Jt=void 0;var _i=Mt.ref;if(_i!==null){var rt=Mt.stateNode;switch(Mt.tag){case 5:Jt=z(rt);break;default:Jt=rt}typeof _i=="function"?_i(Jt):_i.current=Jt}}Mt=Mt.nextEffect}}catch($e){if(Mt===null)throw Error(o(330));So(Mt,$e),Mt=Mt.nextEffect}while(Mt!==null);Mt=null,Gl(),Ot=oe}else S.current=F;if(as)as=!1,ru=S,iu=T;else for(Mt=$;Mt!==null;)T=Mt.nextEffect,Mt.nextEffect=null,Mt.flags&8&&(Zn=Mt,Zn.sibling=null,Zn.stateNode=null),Mt=T;if($=S.pendingLanes,$===0&&(ur=null),$===1?S===au?Df++:(Df=0,au=S):Df=0,F=F.stateNode,Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Zo,F,void 0,(F.current.flags&64)==64)}catch{}if(vi(S,$t()),nu)throw nu=!1,S=wo,wo=null,S;return(Ot&8)!=0||Lr(),null}function $y(){for(;Mt!==null;){var S=Mt.alternate;ou||el===null||((Mt.flags&8)!=0?j(Mt,el)&&(ou=!0,ee()):Mt.tag===13&&Zy(S,Mt)&&j(Mt,el)&&(ou=!0,ee()));var T=Mt.flags;(T&256)!=0&&jy(S,Mt),(T&512)==0||as||(as=!0,fa(97,function(){return Ga(),null})),Mt=Mt.nextEffect}}function Ga(){if(iu!==90){var S=97<iu?97:iu;return iu=90,Hi(S,Wp)}return!1}function Hp(S,T){$s.push(T,S),as||(as=!0,fa(97,function(){return Ga(),null}))}function Gg(S,T){Fa.push(T,S),as||(as=!0,fa(97,function(){return Ga(),null}))}function Wp(){if(ru===null)return!1;var S=ru;if(ru=null,(Ot&48)!=0)throw Error(o(331));var T=Ot;Ot|=32;var F=Fa;Fa=[];for(var $=0;$<F.length;$+=2){var oe=F[$],ye=F[$+1],Ne=oe.destroy;if(oe.destroy=void 0,typeof Ne=="function")try{Ne()}catch(ut){if(ye===null)throw Error(o(330));So(ye,ut)}}for(F=$s,$s=[],$=0;$<F.length;$+=2){oe=F[$],ye=F[$+1];try{var Qe=oe.create;oe.destroy=Qe()}catch(ut){if(ye===null)throw Error(o(330));So(ye,ut)}}for(Qe=S.current.firstEffect;Qe!==null;)S=Qe.nextEffect,Qe.nextEffect=null,Qe.flags&8&&(Qe.sibling=null,Qe.stateNode=null),Qe=S;return Ot=T,Lr(),!0}function Vp(S,T,F){T=qs(F,T),T=Ig(S,T,1),Pa(S,T),T=er(),S=za(S,1),S!==null&&(ci(S,1,T),vi(S,T))}function So(S,T){if(S.tag===3)Vp(S,S,T);else for(var F=S.return;F!==null;){if(F.tag===3){Vp(F,S,T);break}else if(F.tag===1){var $=F.stateNode;if(typeof F.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(ur===null||!ur.has($))){S=qs(T,S);var oe=Dg(F,S,1);if(Pa(F,oe),oe=er(),F=za(F,1),F!==null)ci(F,1,oe),vi(F,oe);else if(typeof $.componentDidCatch=="function"&&(ur===null||!ur.has($)))try{$.componentDidCatch(T,S)}catch{}break}}F=F.return}}function Hg(S,T,F){var $=S.pingCache;$!==null&&$.delete(T),T=er(),S.pingedLanes|=S.suspendedLanes&F,Kr===S&&(Vr&F)===F&&(kr===4||kr===3&&(Vr&62914560)===Vr&&500>$t()-Up?nl(S,0):Ks|=F),vi(S,T)}function mh(S,T){var F=S.stateNode;F!==null&&F.delete(T),T=0,T===0&&(T=S.mode,(T&2)==0?T=1:(T&4)==0?T=Ca()===99?1:2:(Ba===0&&(Ba=eu),T=fi(62914560&~Ba),T===0&&(T=4194304))),F=er(),S=za(S,T),S!==null&&(ci(S,T,F),vi(S,F))}var Wg;Wg=function(S,T,F){var $=T.lanes;if(S!==null)if(S.memoizedProps!==T.pendingProps||Qt.current)gi=!0;else if((F&$)!=0)gi=(S.flags&16384)!=0;else{switch(gi=!1,T.tag){case 3:Rg(T),gf();break;case 5:qc(T);break;case 1:ir(T.type)&&jo(T);break;case 4:Yc(T,T.stateNode.containerInfo);break;case 10:hf(T,T.memoizedProps.value);break;case 13:if(T.memoizedState!==null)return(F&T.child.childLanes)!=0?Ef(S,T,F):(vt(Kn,Kn.current&1),T=Yn(S,T,F),T!==null?T.sibling:null);vt(Kn,Kn.current&1);break;case 19:if($=(F&T.childLanes)!=0,(S.flags&64)!=0){if($)return mr(S,T,F);T.flags|=64}var oe=T.memoizedState;if(oe!==null&&(oe.rendering=null,oe.tail=null,oe.lastEffect=null),vt(Kn,Kn.current),$)break;return null;case 23:case 24:return T.lanes=0,Zs(S,T,F)}return Yn(S,T,F)}else gi=!1;switch(T.lanes=0,T.tag){case 2:if($=T.type,S!==null&&(S.alternate=null,T.alternate=null,T.flags|=2),S=T.pendingProps,oe=Vn(T,Sn.current),Dr(T,F),oe=wp(null,T,$,S,oe,F),T.flags|=1,typeof oe=="object"&&oe!==null&&typeof oe.render=="function"&&oe.$$typeof===void 0){if(T.tag=1,T.memoizedState=null,T.updateQueue=null,ir($)){var ye=!0;jo(T)}else ye=!1;T.memoizedState=oe.state!==null&&oe.state!==void 0?oe.state:null,zs(T);var Ne=$.getDerivedStateFromProps;typeof Ne=="function"&&Hl(T,$,Ne,S),oe.updater=Zc,T.stateNode=oe,oe._reactInternals=T,Wl(T,$,S,F),T=Ap(null,T,$,!0,ye,F)}else T.tag=0,Jr(null,T,oe,F),T=T.child;return T;case 16:oe=T.elementType;e:{switch(S!==null&&(S.alternate=null,T.alternate=null,T.flags|=2),S=T.pendingProps,ye=oe._init,oe=ye(oe._payload),T.type=oe,ye=T.tag=sn(oe),S=Ir(oe,S),ye){case 0:T=Xl(null,T,oe,S,F);break e;case 1:T=Cg(null,T,oe,S,F);break e;case 11:T=Mp(null,T,oe,S,F);break e;case 14:T=Sf(null,T,oe,Ir(oe.type,S),$,F);break e}throw Error(o(306,oe,""))}return T;case 0:return $=T.type,oe=T.pendingProps,oe=T.elementType===$?oe:Ir($,oe),Xl(S,T,$,oe,F);case 1:return $=T.type,oe=T.pendingProps,oe=T.elementType===$?oe:Ir($,oe),Cg(S,T,$,oe,F);case 3:if(Rg(T),$=T.updateQueue,S===null||$===null)throw Error(o(282));if($=T.pendingProps,oe=T.memoizedState,oe=oe!==null?oe.element:null,go(S,T),Vi(T,$,null,F),$=T.memoizedState.element,$===oe)gf(),T=Yn(S,T,F);else{if(oe=T.stateNode,(ye=oe.hydrate)&&(pe?(Ws=it(T.stateNode.containerInfo),_o=T,ye=Ia=!0):ye=!1),ye){if(pe&&(S=oe.mutableSourceEagerHydrationData,S!=null))for(oe=0;oe<S.length;oe+=2)ye=S[oe],Ne=S[oe+1],ge?ye._workInProgressVersionPrimary=Ne:ye._workInProgressVersionSecondary=Ne,Vs.push(ye);for(F=Xc(T,null,$,F),T.child=F;F;)F.flags=F.flags&-3|1024,F=F.sibling}else Jr(S,T,$,F),gf();T=T.child}return T;case 5:return qc(T),S===null&&$o(T),$=T.type,oe=T.pendingProps,ye=S!==null?S.memoizedProps:null,Ne=oe.children,fe($,oe)?Ne=null:ye!==null&&fe($,ye)&&(T.flags|=16),ns(S,T),Jr(S,T,Ne,F),T.child;case 6:return S===null&&$o(T),null;case 13:return Ef(S,T,F);case 4:return Yc(T,T.stateNode.containerInfo),$=T.pendingProps,S===null?T.child=Vl(T,null,$,F):Jr(S,T,$,F),T.child;case 11:return $=T.type,oe=T.pendingProps,oe=T.elementType===$?oe:Ir($,oe),Mp(S,T,$,oe,F);case 7:return Jr(S,T,T.pendingProps,F),T.child;case 8:return Jr(S,T,T.pendingProps.children,F),T.child;case 12:return Jr(S,T,T.pendingProps.children,F),T.child;case 10:e:{if($=T.type._context,oe=T.pendingProps,Ne=T.memoizedProps,ye=oe.value,hf(T,ye),Ne!==null){var Qe=Ne.value;if(ye=gn(Qe,ye)?0:(typeof $._calculateChangedBits=="function"?$._calculateChangedBits(Qe,ye):1073741823)|0,ye===0){if(Ne.children===oe.children&&!Qt.current){T=Yn(S,T,F);break e}}else for(Qe=T.child,Qe!==null&&(Qe.return=T);Qe!==null;){var ut=Qe.dependencies;if(ut!==null){Ne=Qe.child;for(var xt=ut.firstContext;xt!==null;){if(xt.context===$&&(xt.observedBits&ye)!=0){Qe.tag===1&&(xt=da(-1,F&-F),xt.tag=2,Pa(Qe,xt)),Qe.lanes|=F,xt=Qe.alternate,xt!==null&&(xt.lanes|=F),Mn(Qe.return,F),ut.lanes|=F;break}xt=xt.next}}else Ne=Qe.tag===10&&Qe.type===T.type?null:Qe.child;if(Ne!==null)Ne.return=Qe;else for(Ne=Qe;Ne!==null;){if(Ne===T){Ne=null;break}if(Qe=Ne.sibling,Qe!==null){Qe.return=Ne.return,Ne=Qe;break}Ne=Ne.return}Qe=Ne}}Jr(S,T,oe.children,F),T=T.child}return T;case 9:return oe=T.type,ye=T.pendingProps,$=ye.children,Dr(T,F),oe=un(oe,ye.unstable_observedBits),$=$(oe),T.flags|=1,Jr(S,T,$,F),T.child;case 14:return oe=T.type,ye=Ir(oe,T.pendingProps),ye=Ir(oe.type,ye),Sf(S,T,oe,ye,$,F);case 15:return Tp(S,T,T.type,T.pendingProps,$,F);case 17:return $=T.type,oe=T.pendingProps,oe=T.elementType===$?oe:Ir($,oe),S!==null&&(S.alternate=null,T.alternate=null,T.flags|=2),T.tag=1,ir($)?(S=!0,jo(T)):S=!1,Dr(T,F),bg(T,$,oe),Wl(T,$,oe,F),Ap(null,T,$,!0,S,F);case 19:return mr(S,T,F);case 23:return Zs(S,T,F);case 24:return Zs(S,T,F)}throw Error(o(156,T.tag))};var Of={current:!1},gh=a.unstable_flushAllWithoutAsserting,Vg=typeof gh=="function";function vh(){if(gh!==void 0)return gh();for(var S=!1;Ga();)S=!0;return S}function jg(S){try{vh(),Xy(function(){vh()?jg(S):S()})}catch(T){S(T)}}var su=0,jp=!1;function Zp(S,T,F,$){this.tag=S,this.key=F,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=T,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(S,T,F,$){return new Zp(S,T,F,$)}function kf(S){return S=S.prototype,!(!S||!S.isReactComponent)}function sn(S){if(typeof S=="function")return kf(S)?1:0;if(S!=null){if(S=S.$$typeof,S===v)return 11;if(S===g)return 14}return 2}function ss(S,T){var F=S.alternate;return F===null?(F=qi(S.tag,T,S.key,S.mode),F.elementType=S.elementType,F.type=S.type,F.stateNode=S.stateNode,F.alternate=S,S.alternate=F):(F.pendingProps=T,F.type=S.type,F.flags=0,F.nextEffect=null,F.firstEffect=null,F.lastEffect=null),F.childLanes=S.childLanes,F.lanes=S.lanes,F.child=S.child,F.memoizedProps=S.memoizedProps,F.memoizedState=S.memoizedState,F.updateQueue=S.updateQueue,T=S.dependencies,F.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext},F.sibling=S.sibling,F.index=S.index,F.ref=S.ref,F}function _h(S,T,F,$,oe,ye){var Ne=2;if($=S,typeof S=="function")kf(S)&&(Ne=1);else if(typeof S=="string")Ne=5;else e:switch(S){case d:return Ha(F.children,oe,ye,T);case b:Ne=8,oe|=16;break;case m:Ne=8,oe|=1;break;case f:return S=qi(12,F,T,oe|8),S.elementType=f,S.type=f,S.lanes=ye,S;case y:return S=qi(13,F,T,oe),S.type=y,S.elementType=y,S.lanes=ye,S;case p:return S=qi(19,F,T,oe),S.elementType=p,S.lanes=ye,S;case M:return yh(F,oe,ye,T);case E:return S=qi(24,F,T,oe),S.elementType=E,S.lanes=ye,S;default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case h:Ne=10;break e;case u:Ne=9;break e;case v:Ne=11;break e;case g:Ne=14;break e;case _:Ne=16,$=null;break e;case x:Ne=22;break e}throw Error(o(130,S==null?S:typeof S,""))}return T=qi(Ne,F,T,oe),T.elementType=S,T.type=$,T.lanes=ye,T}function Ha(S,T,F,$){return S=qi(7,S,$,T),S.lanes=F,S}function yh(S,T,F,$){return S=qi(23,S,$,T),S.elementType=M,S.lanes=F,S}function Xp(S,T,F){return S=qi(6,S,null,T),S.lanes=F,S}function Yp(S,T,F){return T=qi(4,S.children!==null?S.children:[],S.key,T),T.lanes=F,T.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},T}function Qi(S,T,F){this.tag=T,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ie,this.pendingContext=this.context=null,this.hydrate=F,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),pe&&(this.mutableSourceEagerHydrationData=null)}function Zg(S){var T=S._reactInternals;if(T===void 0)throw typeof S.render=="function"?Error(o(188)):Error(o(268,Object.keys(S)));return S=Z(T),S===null?null:S.stateNode}function Ff(S,T){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var F=S.retryLane;S.retryLane=F!==0&&F<T?F:T}}function lu(S,T){Ff(S,T),(S=S.alternate)&&Ff(S,T)}function Xg(S){return S=Z(S),S===null?null:S.stateNode}function Yg(){return null}return t.IsThisRendererActing=Of,t.act=function(S){function T(){su--,Np.current=F,Of.current=$}jp===!1&&(jp=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),su++;var F=Np.current,$=Of.current;Np.current=!0,Of.current=!0;try{var oe=Bg(S)}catch(ye){throw T(),ye}if(oe!==null&&typeof oe=="object"&&typeof oe.then=="function")return{then:function(ye,Ne){oe.then(function(){1<su||Vg===!0&&F===!0?(T(),ye()):jg(function(Qe){T(),Qe?Ne(Qe):ye()})},function(Qe){T(),Ne(Qe)})}};try{su!==1||Vg!==!1&&F!==!1||vh(),T()}catch(ye){throw T(),ye}return{then:function(ye){ye()}}},t.attemptContinuousHydration=function(S){if(S.tag===13){var T=er();Yi(S,67108864,T),lu(S,67108864)}},t.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var T=er(),F=Ua(S);Yi(S,F,T),lu(S,F)}},t.attemptSynchronousHydration=function(S){switch(S.tag){case 3:var T=S.stateNode;if(T.hydrate){var F=ua(T.pendingLanes);T.expiredLanes|=F&T.pendingLanes,vi(T,$t()),(Ot&48)==0&&(is(),Lr())}break;case 13:var $=er();hh(function(){return Yi(S,1,$)}),lu(S,4)}},t.attemptUserBlockingHydration=function(S){if(S.tag===13){var T=er();Yi(S,4,T),lu(S,4)}},t.batchedEventUpdates=function(S,T){var F=Ot;Ot|=2;try{return S(T)}finally{Ot=F,Ot===0&&(is(),Lr())}},t.batchedUpdates=Bg,t.createComponentSelector=function(S){return{$$typeof:ah,value:S}},t.createContainer=function(S,T,F){return S=new Qi(S,T,F),T=qi(3,null,null,T===2?7:T===1?3:0),S.current=T,T.stateNode=S,zs(T),S},t.createHasPsuedoClassSelector=function(S){return{$$typeof:oh,value:S}},t.createPortal=function(S,T,F){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:$==null?null:""+$,children:S,containerInfo:T,implementation:F}},t.createRoleSelector=function(S){return{$$typeof:Xi,value:S}},t.createTestNameSelector=function(S){return{$$typeof:sh,value:S}},t.createTextSelector=function(S){return{$$typeof:lh,value:S}},t.deferredUpdates=function(S){return Hi(97,S)},t.discreteUpdates=function(S,T,F,$,oe){var ye=Ot;Ot|=4;try{return Hi(98,S.bind(null,T,F,$,oe))}finally{Ot=ye,Ot===0&&(is(),Lr())}},t.findAllNodes=kp,t.findBoundingRects=function(S,T){if(!D)throw Error(o(363));T=kp(S,T),S=[];for(var F=0;F<T.length;F++)S.push(Q(T[F]));for(T=S.length-1;0<T;T--){F=S[T];for(var $=F.x,oe=$+F.width,ye=F.y,Ne=ye+F.height,Qe=T-1;0<=Qe;Qe--)if(T!==Qe){var ut=S[Qe],xt=ut.x,kt=xt+ut.width,Jt=ut.y,St=Jt+ut.height;if($>=xt&&ye>=Jt&&oe<=kt&&Ne<=St){S.splice(T,1);break}else if($!==xt||F.width!==ut.width||St<ye||Jt>Ne){if(!(ye!==Jt||F.height!==ut.height||kt<$||xt>oe)){xt>$&&(ut.width+=xt-$,ut.x=$),kt<oe&&(ut.width=oe-xt),S.splice(T,1);break}}else{Jt>ye&&(ut.height+=Jt-ye,ut.y=ye),St<Ne&&(ut.height=Ne-Jt),S.splice(T,1);break}}}return S},t.findHostInstance=Zg,t.findHostInstanceWithNoPortals=function(S){return S=H(S),S===null?null:S.tag===20?S.stateNode.instance:S.stateNode},t.findHostInstanceWithWarning=function(S){return Zg(S)},t.flushControlled=function(S){var T=Ot;Ot|=1;try{Hi(99,S)}finally{Ot=T,Ot===0&&(is(),Lr())}},t.flushDiscreteUpdates=function(){(Ot&49)==0&&(qy(),Ga())},t.flushPassiveEffects=Ga,t.flushSync=hh,t.focusWithin=function(S,T){if(!D)throw Error(o(363));for(S=Dp(S),T=Ng(S,T),T=Array.from(T),S=0;S<T.length;){var F=T[S++];if(!Ce(F)){if(F.tag===5&&Se(F.stateNode))return!0;for(F=F.child;F!==null;)T.push(F),F=F.sibling}}return!1},t.getCurrentUpdateLanePriority=function(){return ui},t.getFindAllNodesFailureDescription=function(S,T){if(!D)throw Error(o(363));var F=0,$=[];S=[Dp(S),0];for(var oe=0;oe<S.length;){var ye=S[oe++],Ne=S[oe++],Qe=T[Ne];if((ye.tag!==5||!Ce(ye))&&(Op(ye,Qe)&&($.push(pa(Qe)),Ne++,Ne>F&&(F=Ne)),Ne<T.length))for(ye=ye.child;ye!==null;)S.push(ye,Ne),ye=ye.sibling}if(F<T.length){for(S=[];F<T.length;F++)S.push(pa(T[F]));return`findAllNodes was able to match part of the selector:
  `+($.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},t.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return z(S.child.stateNode);default:return S.child.stateNode}},t.injectIntoDevTools=function(S){if(S={bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Xg,findFiberByHostInstance:S.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")S=!1;else{var T=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T.isDisabled&&T.supportsFiber)try{Zo=T.inject(S),Pi=T}catch{}S=!0}return S},t.observeVisibleRects=function(S,T,F,$){if(!D)throw Error(o(363));S=kp(S,T);var oe=ke(S,F,$).disconnect;return{disconnect:function(){oe()}}},t.registerMutableSourceForHydration=function(S,T){var F=T._getVersion;F=F(T._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[T,F]:S.mutableSourceEagerHydrationData.push(T,F)},t.runWithPriority=function(S,T){var F=ui;try{return ui=S,T()}finally{ui=F}},t.shouldSuspend=function(){return!1},t.unbatchedUpdates=function(S,T){var F=Ot;Ot&=-2,Ot|=8;try{return S(T)}finally{Ot=F,Ot===0&&(is(),Lr())}},t.updateContainer=function(S,T,F,$){var oe=T.current,ye=er(),Ne=Ua(oe);e:if(F){F=F._reactInternals;t:{if(k(F)!==F||F.tag!==1)throw Error(o(170));var Qe=F;do{switch(Qe.tag){case 3:Qe=Qe.stateNode.context;break t;case 1:if(ir(Qe.type)){Qe=Qe.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Qe=Qe.return}while(Qe!==null);throw Error(o(171))}if(F.tag===1){var ut=F.type;if(ir(ut)){F=Ri(F,ut,Qe);break e}}F=Qe}else F=zn;return T.context===null?T.context=F:T.pendingContext=F,T=da(ye,Ne),T.payload={element:S},$=$===void 0?null:$,$!==null&&(T.callback=$),Pa(oe,T),Yi(oe,Ne,ye),Ne},t}});var KP=ea((wV,JP)=>{"use strict";JP.exports=QP()});var eL=ea((bV,$P)=>{"use strict";$P.exports=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!=0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!=0;){var o=a[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}});var iL=ea((MV,rL)=>{function qS(n,e,t){var r,i,a,o,s;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,t||(s=n.apply(a,i),a=i=null))}var c=function(){a=this,i=arguments,o=Date.now();var d=t&&!r;return r||(r=setTimeout(l,e)),d&&(s=n.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=n.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}qS.debounce=qS;rL.exports=qS});var U5=ea((vp,yg)=>{(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",s=500,l="__lodash_placeholder__",c=1,d=2,m=4,f=1,h=2,u=1,v=2,y=4,p=8,g=16,_=32,x=64,b=128,M=256,E=512,C=30,R="...",I=800,O=16,k=1,G=2,N=3,Z=1/0,H=9007199254740991,j=17976931348623157e292,z=0/0,V=4294967295,J=V-1,ne=V>>>1,le=[["ary",b],["bind",u],["bindKey",v],["curry",p],["curryRight",g],["flip",E],["partial",_],["partialRight",x],["rearg",M]],ue="[object Arguments]",K="[object Array]",ae="[object AsyncFunction]",se="[object Boolean]",fe="[object Date]",he="[object DOMException]",we="[object Error]",xe="[object Function]",Ie="[object GeneratorFunction]",ge="[object Map]",Oe="[object Number]",me="[object Null]",pe="[object Object]",re="[object Promise]",ie="[object Proxy]",Y="[object RegExp]",ee="[object Set]",W="[object String]",P="[object Symbol]",D="[object Undefined]",B="[object WeakMap]",Q="[object WeakSet]",de="[object ArrayBuffer]",Ce="[object DataView]",be="[object Float32Array]",Se="[object Float64Array]",ke="[object Int8Array]",Ye="[object Int16Array]",Ve="[object Int32Array]",Me="[object Uint8Array]",Ge="[object Uint8ClampedArray]",We="[object Uint16Array]",et="[object Uint32Array]",ot=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fe=/&(?:amp|lt|gt|quot|#39);/g,qe=/[&<>"']/g,De=RegExp(Fe.source),He=RegExp(qe.source),ce=/<%-([\s\S]+?)%>/g,Ke=/<%([\s\S]+?)%>/g,lt=/<%=([\s\S]+?)%>/g,L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(q.source),je=/^\s+/,st=/\s/,ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Ze=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,it=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,Ct=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,zt=/^\[object .+?Constructor\]$/,Rt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,pn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ut=/($^)/,Rn=/['\n\r\u2028\u2029\\]/g,Ht="\\ud800-\\udfff",an="\\u0300-\\u036f",vt="\\ufe20-\\ufe2f",zn="\\u20d0-\\u20ff",Sn=an+vt+zn,Qt="\\u2700-\\u27bf",pr="a-z\\xdf-\\xf6\\xf8-\\xff",Vn="\\xac\\xb1\\xd7\\xf7",ir="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zi="\\u2000-\\u206f",Vo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ri="A-Z\\xc0-\\xd6\\xd8-\\xde",jo="\\ufe0e\\ufe0f",Ls=Vn+ir+zi+Vo,Zo="['\u2019]",Pi="["+Ht+"]",Ol="["+Ls+"]",ui="["+Sn+"]",En="\\d+",ua="["+Qt+"]",kl="["+pr+"]",Xo="[^"+Ht+Ls+En+Qt+pr+Ri+"]",co="\\ud83c[\\udffb-\\udfff]",Is="(?:"+ui+"|"+co+")",Ma="[^"+Ht+"]",fi="(?:\\ud83c[\\udde6-\\uddff]){2}",Yo="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+Ri+"]",hi="\\u200d",Fl="(?:"+kl+"|"+Xo+")",Vc="(?:"+ci+"|"+Xo+")",uf="(?:"+Zo+"(?:d|ll|m|re|s|t|ve))?",Nl="(?:"+Zo+"(?:D|LL|M|RE|S|T|VE))?",Ta=Is+"?",Ds="["+jo+"]?",Bl="(?:"+hi+"(?:"+[Ma,fi,Yo].join("|")+")"+Ds+Ta+")*",ho="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Aa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qo=Ds+Ta+Bl,Os="(?:"+[ua,fi,Yo].join("|")+")"+qo,Qo="(?:"+[Ma+ui+"?",ui,fi,Yo,Pi].join("|")+")",Ul=RegExp(Zo,"g"),zl=RegExp(ui,"g"),ks=RegExp(co+"(?="+co+")|"+Qo+qo,"g"),po=RegExp([ci+"?"+kl+"+"+uf+"(?="+[Ol,ci,"$"].join("|")+")",Vc+"+"+Nl+"(?="+[Ol,ci+Fl,"$"].join("|")+")",ci+"?"+Fl+"+"+uf,ci+"+"+Nl,Aa,ho,En,Os].join("|"),"g"),Gl=RegExp("["+hi+Ht+Sn+jo+"]"),Gi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fs=-1,Pn={};Pn[be]=Pn[Se]=Pn[ke]=Pn[Ye]=Pn[Ve]=Pn[Me]=Pn[Ge]=Pn[We]=Pn[et]=!0,Pn[ue]=Pn[K]=Pn[de]=Pn[se]=Pn[Ce]=Pn[fe]=Pn[we]=Pn[xe]=Pn[ge]=Pn[Oe]=Pn[pe]=Pn[Y]=Pn[ee]=Pn[W]=Pn[B]=!1;var $t={};$t[ue]=$t[K]=$t[de]=$t[Ce]=$t[se]=$t[fe]=$t[be]=$t[Se]=$t[ke]=$t[Ye]=$t[Ve]=$t[ge]=$t[Oe]=$t[pe]=$t[Y]=$t[ee]=$t[W]=$t[P]=$t[Me]=$t[Ge]=$t[We]=$t[et]=!0,$t[we]=$t[xe]=$t[B]=!1;var Ca={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lr=parseFloat,ca=parseInt,ff=typeof global=="object"&&global&&global.Object===Object&&global,cf=typeof self=="object"&&self&&self.Object===Object&&self,gn=ff||cf||Function("return this")(),mo=typeof vp=="object"&&vp&&!vp.nodeType&&vp,Li=mo&&typeof yg=="object"&&yg&&!yg.nodeType&&yg,Jo=Li&&Li.exports===mo,Ir=Jo&&ff.process,On=function(){try{var Je=Li&&Li.require&&Li.require("util").types;return Je||Ir&&Ir.binding&&Ir.binding("util")}catch{}}(),Bs=On&&On.isArrayBuffer,Wi=On&&On.isDate,Ra=On&&On.isMap,Us=On&&On.isRegExp,hf=On&&On.isSet,ha=On&&On.isTypedArray;function Mn(Je,ft,at){switch(at.length){case 0:return Je.call(ft);case 1:return Je.call(ft,at[0]);case 2:return Je.call(ft,at[0],at[1]);case 3:return Je.call(ft,at[0],at[1],at[2])}return Je.apply(ft,at)}function Dr(Je,ft,at,Pt){for(var en=-1,xn=Je==null?0:Je.length;++en<xn;){var $n=Je[en];ft(Pt,$n,at($n),Je)}return Pt}function un(Je,ft){for(var at=-1,Pt=Je==null?0:Je.length;++at<Pt&&ft(Je[at],at,Je)!==!1;);return Je}function Nr(Je,ft){for(var at=Je==null?0:Je.length;at--&&ft(Je[at],at,Je)!==!1;);return Je}function zs(Je,ft){for(var at=-1,Pt=Je==null?0:Je.length;++at<Pt;)if(!ft(Je[at],at,Je))return!1;return!0}function go(Je,ft){for(var at=-1,Pt=Je==null?0:Je.length,en=0,xn=[];++at<Pt;){var $n=Je[at];ft($n,at,Je)&&(xn[en++]=$n)}return xn}function da(Je,ft){var at=Je==null?0:Je.length;return!!at&&vo(Je,ft,0)>-1}function Pa(Je,ft,at){for(var Pt=-1,en=Je==null?0:Je.length;++Pt<en;)if(at(ft,Je[Pt]))return!0;return!1}function jn(Je,ft){for(var at=-1,Pt=Je==null?0:Je.length,en=Array(Pt);++at<Pt;)en[at]=ft(Je[at],at,Je);return en}function Vi(Je,ft){for(var at=-1,Pt=ft.length,en=Je.length;++at<Pt;)Je[en+at]=ft[at];return Je}function jc(Je,ft,at,Pt){var en=-1,xn=Je==null?0:Je.length;for(Pt&&xn&&(at=Je[++en]);++en<xn;)at=ft(at,Je[en],en,Je);return at}function xg(Je,ft,at,Pt){var en=Je==null?0:Je.length;for(Pt&&en&&(at=Je[--en]);en--;)at=ft(at,Je[en],en,Je);return at}function Hl(Je,ft){for(var at=-1,Pt=Je==null?0:Je.length;++at<Pt;)if(ft(Je[at],at,Je))return!0;return!1}var Zc=Vl("length");function wg(Je){return Je.split("")}function bg(Je){return Je.match(nt)||[]}function _p(Je,ft,at){var Pt;return at(Je,function(en,xn,$n){if(ft(en,xn,$n))return Pt=xn,!1}),Pt}function Wl(Je,ft,at,Pt){for(var en=Je.length,xn=at+(Pt?1:-1);Pt?xn--:++xn<en;)if(ft(Je[xn],xn,Je))return xn;return-1}function vo(Je,ft,at){return ft===ft?vf(Je,ft,at):Wl(Je,pf,at)}function df(Je,ft,at,Pt){for(var en=at-1,xn=Je.length;++en<xn;)if(Pt(Je[en],ft))return en;return-1}function pf(Je){return Je!==Je}function yp(Je,ft){var at=Je==null?0:Je.length;return at?Gs(Je,ft)/at:z}function Vl(Je){return function(ft){return ft==null?n:ft[Je]}}function Xc(Je){return function(ft){return Je==null?n:Je[ft]}}function jl(Je,ft,at,Pt,en){return en(Je,function(xn,$n,Ln){at=Pt?(Pt=!1,xn):ft(at,xn,$n,Ln)}),at}function ji(Je,ft){var at=Je.length;for(Je.sort(ft);at--;)Je[at]=Je[at].value;return Je}function Gs(Je,ft){for(var at,Pt=-1,en=Je.length;++Pt<en;){var xn=ft(Je[Pt]);xn!==n&&(at=at===n?xn:at+xn)}return at}function Ko(Je,ft){for(var at=-1,Pt=Array(Je);++at<Je;)Pt[at]=ft(at);return Pt}function La(Je,ft){return jn(ft,function(at){return[at,Je[at]]})}function Yc(Je){return Je&&Je.slice(0,_f(Je)+1).replace(je,"")}function Or(Je){return function(ft){return Je(ft)}}function qc(Je,ft){return jn(ft,function(at){return Je[at]})}function Hs(Je,ft){return Je.has(ft)}function Kn(Je,ft){for(var at=-1,Pt=Je.length;++at<Pt&&vo(ft,Je[at],0)>-1;);return at}function mf(Je,ft){for(var at=Je.length;at--&&vo(ft,Je[at],0)>-1;);return at}function _o(Je,ft){for(var at=Je.length,Pt=0;at--;)Je[at]===ft&&++Pt;return Pt}var Ws=Xc(Ca),Ia=Xc(Ns);function Sg(Je){return"\\"+fa[Je]}function Eg(Je,ft){return Je==null?n:Je[ft]}function $o(Je){return Gl.test(Je)}function Mg(Je){return Gi.test(Je)}function Qc(Je){for(var ft,at=[];!(ft=Je.next()).done;)at.push(ft.value);return at}function gf(Je){var ft=-1,at=Array(Je.size);return Je.forEach(function(Pt,en){at[++ft]=[en,Pt]}),at}function Vs(Je,ft){return function(at){return Je(ft(at))}}function Da(Je,ft){for(var at=-1,Pt=Je.length,en=0,xn=[];++at<Pt;){var $n=Je[at];($n===ft||$n===l)&&(Je[at]=l,xn[en++]=at)}return xn}function es(Je){var ft=-1,at=Array(Je.size);return Je.forEach(function(Pt){at[++ft]=Pt}),at}function Zi(Je){var ft=-1,at=Array(Je.size);return Je.forEach(function(Pt){at[++ft]=[Pt,Pt]}),at}function vf(Je,ft,at){for(var Pt=at-1,en=Je.length;++Pt<en;)if(Je[Pt]===ft)return Pt;return-1}function sr(Je,ft,at){for(var Pt=at+1;Pt--;)if(Je[Pt]===ft)return Pt;return Pt}function lr(Je){return $o(Je)?di(Je):Zc(Je)}function Gn(Je){return $o(Je)?xp(Je):wg(Je)}function _f(Je){for(var ft=Je.length;ft--&&st.test(Je.charAt(ft)););return ft}var yf=Xc(Hi);function di(Je){for(var ft=ks.lastIndex=0;ks.test(Je);)++ft;return ft}function xp(Je){return Je.match(ks)||[]}function wp(Je){return Je.match(po)||[]}var js=function Je(ft){ft=ft==null?gn:pi.defaults(gn.Object(),ft,pi.pick(gn,Wr));var at=ft.Array,Pt=ft.Date,en=ft.Error,xn=ft.Function,$n=ft.Math,Ln=ft.Object,Jc=ft.RegExp,Kc=ft.String,mi=ft.TypeError,Zl=at.prototype,Tg=xn.prototype,yo=Ln.prototype,xf=ft["__core-js_shared__"],wf=Tg.toString,In=yo.hasOwnProperty,bp=0,Sp=function(){var w=/[^.]+$/.exec(xf&&xf.keys&&xf.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),bf=yo.toString,Wy=wf.call(Ln),Ep=gn._,$c=Jc("^"+wf.call(In).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eh=Jo?ft.Buffer:n,ts=ft.Symbol,th=ft.Uint8Array,Ag=eh?eh.allocUnsafe:n,gi=Vs(Ln.getPrototypeOf,Ln),Jr=Ln.create,Mp=yo.propertyIsEnumerable,Sf=Zl.splice,Tp=ts?ts.isConcatSpreadable:n,Zs=ts?ts.iterator:n,ns=ts?ts.toStringTag:n,Xl=function(){try{var w=Nf(Ln,"defineProperty");return w({},"",{}),w}catch{}}(),Cg=ft.clearTimeout!==gn.clearTimeout&&ft.clearTimeout,Ap=Pt&&Pt.now!==gn.Date.now&&Pt.now,Rg=ft.setTimeout!==gn.setTimeout&&ft.setTimeout,Xs=$n.ceil,Ef=$n.floor,nh=Ln.getOwnPropertySymbols,Pg=eh?eh.isBuffer:n,Cp=ft.isFinite,Lg=Zl.join,Rp=Vs(Ln.keys,Ln),mr=$n.max,Yn=$n.min,Oa=Pt.now,Mf=ft.parseInt,Yl=$n.random,rh=Zl.reverse,ql=Nf(ft,"DataView"),Ql=Nf(ft,"Map"),Ys=Nf(ft,"Promise"),Jl=Nf(ft,"Set"),Tf=Nf(ft,"WeakMap"),qs=Nf(Ln,"create"),Kl=Tf&&new Tf,$l={},Ig=Bf(ql),Dg=Bf(Ql),Vy=Bf(Ys),Og=Bf(Jl),jy=Bf(Tf),Af=ts?ts.prototype:n,Cf=Af?Af.valueOf:n,Pp=Af?Af.toString:n;function Ee(w){if(vr(w)&&!on(w)&&!(w instanceof hn)){if(w instanceof Ii)return w;if(In.call(w,"__wrapped__"))return pM(w)}return new Ii(w)}var Qs=function(){function w(){}return function(A){if(!fr(A))return{};if(Jr)return Jr(A);w.prototype=A;var U=new w;return w.prototype=n,U}}();function Rf(){}function Ii(w,A){this.__wrapped__=w,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=n}Ee.templateSettings={escape:ce,evaluate:Ke,interpolate:lt,variable:"",imports:{_:Ee}},Ee.prototype=Rf.prototype,Ee.prototype.constructor=Ee,Ii.prototype=Qs(Rf.prototype),Ii.prototype.constructor=Ii;function hn(w){this.__wrapped__=w,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function Lp(){var w=new hn(this.__wrapped__);return w.__actions__=vn(this.__actions__),w.__dir__=this.__dir__,w.__filtered__=this.__filtered__,w.__iteratees__=vn(this.__iteratees__),w.__takeCount__=this.__takeCount__,w.__views__=vn(this.__views__),w}function Ip(){if(this.__filtered__){var w=new hn(this);w.__dir__=-1,w.__filtered__=!0}else w=this.clone(),w.__dir__*=-1;return w}function kg(){var w=this.__wrapped__.value(),A=this.__dir__,U=on(w),te=A<0,_e=U?w.length:0,Re=nI(0,_e,this.__views__),ze=Re.start,Xe=Re.end,tt=Xe-ze,dt=te?Xe:ze-1,pt=this.__iteratees__,mt=pt.length,Tt=0,Nt=Yn(tt,this.__takeCount__);if(!U||!te&&_e==tt&&Nt==tt)return ye(w,this.__actions__);var jt=[];e:for(;tt--&&Tt<Nt;){dt+=A;for(var fn=-1,Zt=w[dt];++fn<mt;){var mn=pt[fn],_n=mn.iteratee,ga=mn.type,Oi=_n(Zt);if(ga==G)Zt=Oi;else if(!Oi){if(ga==k)continue e;break e}}jt[Tt++]=Zt}return jt}hn.prototype=Qs(Rf.prototype),hn.prototype.constructor=hn;function xo(w){var A=-1,U=w==null?0:w.length;for(this.clear();++A<U;){var te=w[A];this.set(te[0],te[1])}}function Fg(){this.__data__=qs?qs(null):{},this.size=0}function ih(w){var A=this.has(w)&&delete this.__data__[w];return this.size-=A?1:0,A}function Zy(w){var A=this.__data__;if(qs){var U=A[w];return U===o?n:U}return In.call(A,w)?A[w]:n}function ah(w){var A=this.__data__;return qs?A[w]!==n:In.call(A,w)}function oh(w,A){var U=this.__data__;return this.size+=this.has(w)?0:1,U[w]=qs&&A===n?o:A,this}xo.prototype.clear=Fg,xo.prototype.delete=ih,xo.prototype.get=Zy,xo.prototype.has=ah,xo.prototype.set=oh;function Xi(w){var A=-1,U=w==null?0:w.length;for(this.clear();++A<U;){var te=w[A];this.set(te[0],te[1])}}function sh(){this.__data__=[],this.size=0}function lh(w){var A=this.__data__,U=tu(A,w);if(U<0)return!1;var te=A.length-1;return U==te?A.pop():Sf.call(A,U,1),--this.size,!0}function Pf(w){var A=this.__data__,U=tu(A,w);return U<0?n:A[U][1]}function Dp(w){return tu(this.__data__,w)>-1}function Op(w,A){var U=this.__data__,te=tu(U,w);return te<0?(++this.size,U.push([w,A])):U[te][1]=A,this}Xi.prototype.clear=sh,Xi.prototype.delete=lh,Xi.prototype.get=Pf,Xi.prototype.has=Dp,Xi.prototype.set=Op;function pa(w){var A=-1,U=w==null?0:w.length;for(this.clear();++A<U;){var te=w[A];this.set(te[0],te[1])}}function Ng(){this.size=0,this.__data__={hash:new xo,map:new(Ql||Xi),string:new xo}}function kp(w){var A=tv(this,w).delete(w);return this.size-=A?1:0,A}function uh(w){return tv(this,w).get(w)}function Xy(w){return tv(this,w).has(w)}function Yy(w,A){var U=tv(this,w),te=U.size;return U.set(w,A),this.size+=U.size==te?0:1,this}pa.prototype.clear=Ng,pa.prototype.delete=kp,pa.prototype.get=uh,pa.prototype.has=Xy,pa.prototype.set=Yy;function ka(w){var A=-1,U=w==null?0:w.length;for(this.__data__=new pa;++A<U;)this.add(w[A])}function Fp(w){return this.__data__.set(w,o),this}function Np(w){return this.__data__.has(w)}ka.prototype.add=ka.prototype.push=Fp,ka.prototype.has=Np;function Ot(w){var A=this.__data__=new Xi(w);this.size=A.size}function Kr(){this.__data__=new Xi,this.size=0}function Er(w){var A=this.__data__,U=A.delete(w);return this.size=A.size,U}function Vr(w){return this.__data__.get(w)}function Js(w){return this.__data__.has(w)}function Bp(w,A){var U=this.__data__;if(U instanceof Xi){var te=U.__data__;if(!Ql||te.length<t-1)return te.push([w,A]),this.size=++U.size,this;U=this.__data__=new pa(te)}return U.set(w,A),this.size=U.size,this}Ot.prototype.clear=Kr,Ot.prototype.delete=Er,Ot.prototype.get=Vr,Ot.prototype.has=Js,Ot.prototype.set=Bp;function kr(w,A){var U=on(w),te=!U&&Uf(w),_e=!U&&!te&&uu(w),Re=!U&&!te&&!_e&&Sh(w),ze=U||te||_e||Re,Xe=ze?Ko(w.length,Kc):[],tt=Xe.length;for(var dt in w)(A||In.call(w,dt))&&!(ze&&(dt=="length"||_e&&(dt=="offset"||dt=="parent")||Re&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||ol(dt,tt)))&&Xe.push(dt);return Xe}function Lf(w){var A=w.length;return A?w[Zp(0,A-1)]:n}function eu(w,A){return nv(vn(w),wo(A,0,w.length))}function If(w){return nv(vn(w))}function rs(w,A,U){(U!==n&&!Eo(w[A],U)||U===n&&!(A in w))&&Mt(w,A,U)}function Ks(w,A,U){var te=w[A];(!(In.call(w,A)&&Eo(te,U))||U===n&&!(A in w))&&Mt(w,A,U)}function tu(w,A){for(var U=w.length;U--;)if(Eo(w[U][0],A))return U;return-1}function Up(w,A,U,te){return Fa(w,function(_e,Re,ze){A(te,_e,U(_e),ze)}),te}function fh(w,A){return w&&nn(A,Zr(A),w)}function is(w,A){return w&&nn(A,Ki(A),w)}function Mt(w,A,U){A=="__proto__"&&Xl?Xl(w,A,{configurable:!0,enumerable:!0,value:U,writable:!0}):w[A]=U}function nu(w,A){for(var U=-1,te=A.length,_e=at(te),Re=w==null;++U<te;)_e[U]=Re?n:_x(w,A[U]);return _e}function wo(w,A,U){return w===w&&(U!==n&&(w=w<=U?w:U),A!==n&&(w=w>=A?w:A)),w}function ur(w,A,U,te,_e,Re){var ze,Xe=A&c,tt=A&d,dt=A&m;if(U&&(ze=_e?U(w,te,_e,Re):U(w)),ze!==n)return ze;if(!fr(w))return w;var pt=on(w);if(pt){if(ze=iI(w),!Xe)return vn(w,ze)}else{var mt=yi(w),Tt=mt==xe||mt==Ie;if(uu(w))return Zn(w,Xe);if(mt==pe||mt==ue||Tt&&!_e){if(ze=tt||Tt?{}:aM(w),!Xe)return tt?ex(w,is(ze,w)):ls(w,fh(ze,w))}else{if(!$t[mt])return _e?w:{};ze=aI(w,mt,Xe)}}Re||(Re=new Ot);var Nt=Re.get(w);if(Nt)return Nt;Re.set(w,ze),OM(w)?w.forEach(function(Zt){ze.add(ur(Zt,A,U,Zt,w,Re))}):IM(w)&&w.forEach(function(Zt,mn){ze.set(mn,ur(Zt,A,U,mn,w,Re))});var jt=dt?tt?ix:rx:tt?Ki:Zr,fn=pt?n:jt(w);return un(fn||w,function(Zt,mn){fn&&(mn=Zt,Zt=w[mn]),Ks(ze,mn,ur(Zt,A,U,mn,w,Re))}),ze}function as(w){var A=Zr(w);return function(U){return ru(U,w,A)}}function ru(w,A,U){var te=U.length;if(w==null)return!te;for(w=Ln(w);te--;){var _e=U[te],Re=A[_e],ze=w[_e];if(ze===n&&!(_e in w)||!Re(ze))return!1}return!0}function iu(w,A,U){if(typeof w!="function")throw new mi(i);return Jp(function(){w.apply(n,U)},A)}function $s(w,A,U,te){var _e=-1,Re=da,ze=!0,Xe=w.length,tt=[],dt=A.length;if(!Xe)return tt;U&&(A=jn(A,Or(U))),te?(Re=Pa,ze=!1):A.length>=t&&(Re=Hs,ze=!1,A=new ka(A));e:for(;++_e<Xe;){var pt=w[_e],mt=U==null?pt:U(pt);if(pt=te||pt!==0?pt:0,ze&&mt===mt){for(var Tt=dt;Tt--;)if(A[Tt]===mt)continue e;tt.push(pt)}else Re(A,mt,te)||tt.push(pt)}return tt}var Fa=jE(er),Na=jE(Ua,!0);function Df(w,A){var U=!0;return Fa(w,function(te,_e,Re){return U=!!A(te,_e,Re),U}),U}function au(w,A,U){for(var te=-1,_e=w.length;++te<_e;){var Re=w[te],ze=A(Re);if(ze!=null&&(Xe===n?ze===ze&&!ma(ze):U(ze,Xe)))var Xe=ze,tt=Re}return tt}function ch(w,A,U,te){var _e=w.length;for(U=ln(U),U<0&&(U=-U>_e?0:_e+U),te=te===n||te>_e?_e:ln(te),te<0&&(te+=_e),te=U>te?0:FM(te);U<te;)w[U++]=A;return w}function Ba(w,A){var U=[];return Fa(w,function(te,_e,Re){A(te,_e,Re)&&U.push(te)}),U}function gr(w,A,U,te,_e){var Re=-1,ze=w.length;for(U||(U=sI),_e||(_e=[]);++Re<ze;){var Xe=w[Re];A>0&&U(Xe)?A>1?gr(Xe,A-1,U,te,_e):Vi(_e,Xe):te||(_e[_e.length]=Xe)}return _e}var el=ZE(),ou=ZE(!0);function er(w,A){return w&&el(w,A,Zr)}function Ua(w,A){return w&&ou(w,A,Zr)}function Yi(w,A){return go(A,function(U){return sl(w[U])})}function za(w,A){A=kt(A,w);for(var U=0,te=A.length;w!=null&&U<te;)w=w[us(A[U++])];return U&&U==te?w:n}function vi(w,A,U){var te=A(w);return on(w)?te:Vi(te,U(w))}function jr(w){return w==null?w===n?D:me:ns&&ns in Ln(w)?tI(w):pI(w)}function os(w,A){return w>A}function zp(w,A){return w!=null&&In.call(w,A)}function qy(w,A){return w!=null&&A in Ln(w)}function Bg(w,A,U){return w>=Yn(A,U)&&w<mr(A,U)}function hh(w,A,U){for(var te=U?Pa:da,_e=w[0].length,Re=w.length,ze=Re,Xe=at(Re),tt=1/0,dt=[];ze--;){var pt=w[ze];ze&&A&&(pt=jn(pt,Or(A))),tt=Yn(pt.length,tt),Xe[ze]=!U&&(A||_e>=120&&pt.length>=120)?new ka(ze&&pt):n}pt=w[0];var mt=-1,Tt=Xe[0];e:for(;++mt<_e&&dt.length<tt;){var Nt=pt[mt],jt=A?A(Nt):Nt;if(Nt=U||Nt!==0?Nt:0,!(Tt?Hs(Tt,jt):te(dt,jt,U))){for(ze=Re;--ze;){var fn=Xe[ze];if(!(fn?Hs(fn,jt):te(w[ze],jt,U)))continue e}Tt&&Tt.push(jt),dt.push(Nt)}}return dt}function dh(w,A,U,te){return er(w,function(_e,Re,ze){A(te,U(_e),Re,ze)}),te}function tl(w,A,U){A=kt(A,w),w=uM(w,A);var te=w==null?w:w[us(Wa(A))];return te==null?n:Mn(te,w,U)}function nl(w){return vr(w)&&jr(w)==ue}function Ug(w){return vr(w)&&jr(w)==de}function zg(w){return vr(w)&&jr(w)==fe}function bo(w,A,U,te,_e){return w===A?!0:w==null||A==null||!vr(w)&&!vr(A)?w!==w&&A!==A:Qy(w,A,U,te,bo,_e)}function Qy(w,A,U,te,_e,Re){var ze=on(w),Xe=on(A),tt=ze?K:yi(w),dt=Xe?K:yi(A);tt=tt==ue?pe:tt,dt=dt==ue?pe:dt;var pt=tt==pe,mt=dt==pe,Tt=tt==dt;if(Tt&&uu(w)){if(!uu(A))return!1;ze=!0,pt=!1}if(Tt&&!pt)return Re||(Re=new Ot),ze||Sh(w)?nM(w,A,U,te,_e,Re):$5(w,A,tt,U,te,_e,Re);if(!(U&f)){var Nt=pt&&In.call(w,"__wrapped__"),jt=mt&&In.call(A,"__wrapped__");if(Nt||jt){var fn=Nt?w.value():w,Zt=jt?A.value():A;return Re||(Re=new Ot),_e(fn,Zt,U,te,Re)}}return Tt?(Re||(Re=new Ot),eI(w,A,U,te,_e,Re)):!1}function Jy(w){return vr(w)&&yi(w)==ge}function ph(w,A,U,te){var _e=U.length,Re=_e,ze=!te;if(w==null)return!Re;for(w=Ln(w);_e--;){var Xe=U[_e];if(ze&&Xe[2]?Xe[1]!==w[Xe[0]]:!(Xe[0]in w))return!1}for(;++_e<Re;){Xe=U[_e];var tt=Xe[0],dt=w[tt],pt=Xe[1];if(ze&&Xe[2]){if(dt===n&&!(tt in w))return!1}else{var mt=new Ot;if(te)var Tt=te(dt,pt,tt,w,A,mt);if(!(Tt===n?bo(pt,dt,f|h,te,mt):Tt))return!1}}return!0}function Gp(w){if(!fr(w)||uI(w))return!1;var A=sl(w)?$c:zt;return A.test(Bf(w))}function rl(w){return vr(w)&&jr(w)==Y}function Ky(w){return vr(w)&&yi(w)==ee}function $y(w){return vr(w)&&lv(w.length)&&!!Pn[jr(w)]}function Ga(w){return typeof w=="function"?w:w==null?$i:typeof w=="object"?on(w)?Hg(w[0],w[1]):So(w):XM(w)}function Hp(w){if(!Qp(w))return Rp(w);var A=[];for(var U in Ln(w))In.call(w,U)&&U!="constructor"&&A.push(U);return A}function Gg(w){if(!fr(w))return dI(w);var A=Qp(w),U=[];for(var te in w)te=="constructor"&&(A||!In.call(w,te))||U.push(te);return U}function Wp(w,A){return w<A}function Vp(w,A){var U=-1,te=Ji(w)?at(w.length):[];return Fa(w,function(_e,Re,ze){te[++U]=A(_e,Re,ze)}),te}function So(w){var A=ox(w);return A.length==1&&A[0][2]?sM(A[0][0],A[0][1]):function(U){return U===w||ph(U,w,A)}}function Hg(w,A){return lx(w)&&oM(A)?sM(us(w),A):function(U){var te=_x(U,w);return te===n&&te===A?yx(U,w):bo(A,te,f|h)}}function mh(w,A,U,te,_e){w!==A&&el(A,function(Re,ze){if(_e||(_e=new Ot),fr(Re))Wg(w,A,ze,U,mh,te,_e);else{var Xe=te?te(fx(w,ze),Re,ze+"",w,A,_e):n;Xe===n&&(Xe=Re),rs(w,ze,Xe)}},Ki)}function Wg(w,A,U,te,_e,Re,ze){var Xe=fx(w,U),tt=fx(A,U),dt=ze.get(tt);if(dt){rs(w,U,dt);return}var pt=Re?Re(Xe,tt,U+"",w,A,ze):n,mt=pt===n;if(mt){var Tt=on(tt),Nt=!Tt&&uu(tt),jt=!Tt&&!Nt&&Sh(tt);pt=tt,Tt||Nt||jt?on(Xe)?pt=Xe:Mr(Xe)?pt=vn(Xe):Nt?(mt=!1,pt=Zn(tt,!0)):jt?(mt=!1,pt=At(tt,!0)):pt=[]:Kp(tt)||Uf(tt)?(pt=Xe,Uf(Xe)?pt=NM(Xe):(!fr(Xe)||sl(Xe))&&(pt=aM(tt))):mt=!1}mt&&(ze.set(tt,pt),_e(pt,tt,te,Re,ze),ze.delete(tt)),rs(w,U,pt)}function Of(w,A){var U=w.length;if(!!U)return A+=A<0?U:0,ol(A,U)?w[A]:n}function gh(w,A,U){A.length?A=jn(A,function(Re){return on(Re)?function(ze){return za(ze,Re.length===1?Re[0]:Re)}:Re}):A=[$i];var te=-1;A=jn(A,Or(Wt()));var _e=Vp(w,function(Re,ze,Xe){var tt=jn(A,function(dt){return dt(Re)});return{criteria:tt,index:++te,value:Re}});return ji(_e,function(Re,ze){return Hn(Re,ze,U)})}function Vg(w,A){return vh(w,A,function(U,te){return yx(w,te)})}function vh(w,A,U){for(var te=-1,_e=A.length,Re={};++te<_e;){var ze=A[te],Xe=za(w,ze);U(Xe,ze)&&Ha(Re,kt(ze,w),Xe)}return Re}function jg(w){return function(A){return za(A,w)}}function su(w,A,U,te){var _e=te?df:vo,Re=-1,ze=A.length,Xe=w;for(w===A&&(A=vn(A)),U&&(Xe=jn(w,Or(U)));++Re<ze;)for(var tt=0,dt=A[Re],pt=U?U(dt):dt;(tt=_e(Xe,pt,tt,te))>-1;)Xe!==w&&Sf.call(Xe,tt,1),Sf.call(w,tt,1);return w}function jp(w,A){for(var U=w?A.length:0,te=U-1;U--;){var _e=A[U];if(U==te||_e!==Re){var Re=_e;ol(_e)?Sf.call(w,_e,1):F(w,_e)}}return w}function Zp(w,A){return w+Ef(Yl()*(A-w+1))}function qi(w,A,U,te){for(var _e=-1,Re=mr(Xs((A-w)/(U||1)),0),ze=at(Re);Re--;)ze[te?Re:++_e]=w,w+=U;return ze}function kf(w,A){var U="";if(!w||A<1||A>H)return U;do A%2&&(U+=w),A=Ef(A/2),A&&(w+=w);while(A);return U}function sn(w,A){return cx(lM(w,A,$i),w+"")}function ss(w){return Lf(Eh(w))}function _h(w,A){var U=Eh(w);return nv(U,wo(A,0,U.length))}function Ha(w,A,U,te){if(!fr(w))return w;A=kt(A,w);for(var _e=-1,Re=A.length,ze=Re-1,Xe=w;Xe!=null&&++_e<Re;){var tt=us(A[_e]),dt=U;if(tt==="__proto__"||tt==="constructor"||tt==="prototype")return w;if(_e!=ze){var pt=Xe[tt];dt=te?te(pt,tt,Xe):n,dt===n&&(dt=fr(pt)?pt:ol(A[_e+1])?[]:{})}Ks(Xe,tt,dt),Xe=Xe[tt]}return w}var yh=Kl?function(w,A){return Kl.set(w,A),w}:$i,Xp=Xl?function(w,A){return Xl(w,"toString",{configurable:!0,enumerable:!1,value:wx(A),writable:!0})}:$i;function Yp(w){return nv(Eh(w))}function Qi(w,A,U){var te=-1,_e=w.length;A<0&&(A=-A>_e?0:_e+A),U=U>_e?_e:U,U<0&&(U+=_e),_e=A>U?0:U-A>>>0,A>>>=0;for(var Re=at(_e);++te<_e;)Re[te]=w[te+A];return Re}function Zg(w,A){var U;return Fa(w,function(te,_e,Re){return U=A(te,_e,Re),!U}),!!U}function Ff(w,A,U){var te=0,_e=w==null?te:w.length;if(typeof A=="number"&&A===A&&_e<=ne){for(;te<_e;){var Re=te+_e>>>1,ze=w[Re];ze!==null&&!ma(ze)&&(U?ze<=A:ze<A)?te=Re+1:_e=Re}return _e}return lu(w,A,$i,U)}function lu(w,A,U,te){var _e=0,Re=w==null?0:w.length;if(Re===0)return 0;A=U(A);for(var ze=A!==A,Xe=A===null,tt=ma(A),dt=A===n;_e<Re;){var pt=Ef((_e+Re)/2),mt=U(w[pt]),Tt=mt!==n,Nt=mt===null,jt=mt===mt,fn=ma(mt);if(ze)var Zt=te||jt;else dt?Zt=jt&&(te||Tt):Xe?Zt=jt&&Tt&&(te||!Nt):tt?Zt=jt&&Tt&&!Nt&&(te||!fn):Nt||fn?Zt=!1:Zt=te?mt<=A:mt<A;Zt?_e=pt+1:Re=pt}return Yn(Re,J)}function Xg(w,A){for(var U=-1,te=w.length,_e=0,Re=[];++U<te;){var ze=w[U],Xe=A?A(ze):ze;if(!U||!Eo(Xe,tt)){var tt=Xe;Re[_e++]=ze===0?0:ze}}return Re}function Yg(w){return typeof w=="number"?w:ma(w)?z:+w}function S(w){if(typeof w=="string")return w;if(on(w))return jn(w,S)+"";if(ma(w))return Pp?Pp.call(w):"";var A=w+"";return A=="0"&&1/w==-Z?"-0":A}function T(w,A,U){var te=-1,_e=da,Re=w.length,ze=!0,Xe=[],tt=Xe;if(U)ze=!1,_e=Pa;else if(Re>=t){var dt=A?null:J5(w);if(dt)return es(dt);ze=!1,_e=Hs,tt=new ka}else tt=A?[]:Xe;e:for(;++te<Re;){var pt=w[te],mt=A?A(pt):pt;if(pt=U||pt!==0?pt:0,ze&&mt===mt){for(var Tt=tt.length;Tt--;)if(tt[Tt]===mt)continue e;A&&tt.push(mt),Xe.push(pt)}else _e(tt,mt,U)||(tt!==Xe&&tt.push(mt),Xe.push(pt))}return Xe}function F(w,A){return A=kt(A,w),w=uM(w,A),w==null||delete w[us(Wa(A))]}function $(w,A,U,te){return Ha(w,A,U(za(w,A)),te)}function oe(w,A,U,te){for(var _e=w.length,Re=te?_e:-1;(te?Re--:++Re<_e)&&A(w[Re],Re,w););return U?Qi(w,te?0:Re,te?Re+1:_e):Qi(w,te?Re+1:0,te?_e:Re)}function ye(w,A){var U=w;return U instanceof hn&&(U=U.value()),jc(A,function(te,_e){return _e.func.apply(_e.thisArg,Vi([te],_e.args))},U)}function Ne(w,A,U){var te=w.length;if(te<2)return te?T(w[0]):[];for(var _e=-1,Re=at(te);++_e<te;)for(var ze=w[_e],Xe=-1;++Xe<te;)Xe!=_e&&(Re[_e]=$s(Re[_e]||ze,w[Xe],A,U));return T(gr(Re,1),A,U)}function Qe(w,A,U){for(var te=-1,_e=w.length,Re=A.length,ze={};++te<_e;){var Xe=te<Re?A[te]:n;U(ze,w[te],Xe)}return ze}function ut(w){return Mr(w)?w:[]}function xt(w){return typeof w=="function"?w:$i}function kt(w,A){return on(w)?w:lx(w,A)?[w]:dM(Bn(w))}var Jt=sn;function St(w,A,U){var te=w.length;return U=U===n?te:U,!A&&U>=te?w:Qi(w,A,U)}var Nn=Cg||function(w){return gn.clearTimeout(w)};function Zn(w,A){if(A)return w.slice();var U=w.length,te=Ag?Ag(U):new w.constructor(U);return w.copy(te),te}function _i(w){var A=new w.constructor(w.byteLength);return new th(A).set(new th(w)),A}function rt(w,A){var U=A?_i(w.buffer):w.buffer;return new w.constructor(U,w.byteOffset,w.byteLength)}function $e(w){var A=new w.constructor(w.source,Lt.exec(w));return A.lastIndex=w.lastIndex,A}function ct(w){return Cf?Ln(Cf.call(w)):{}}function At(w,A){var U=A?_i(w.buffer):w.buffer;return new w.constructor(U,w.byteOffset,w.length)}function Bt(w,A){if(w!==A){var U=w!==n,te=w===null,_e=w===w,Re=ma(w),ze=A!==n,Xe=A===null,tt=A===A,dt=ma(A);if(!Xe&&!dt&&!Re&&w>A||Re&&ze&&tt&&!Xe&&!dt||te&&ze&&tt||!U&&tt||!_e)return 1;if(!te&&!Re&&!dt&&w<A||dt&&U&&_e&&!te&&!Re||Xe&&U&&_e||!ze&&_e||!tt)return-1}return 0}function Hn(w,A,U){for(var te=-1,_e=w.criteria,Re=A.criteria,ze=_e.length,Xe=U.length;++te<ze;){var tt=Bt(_e[te],Re[te]);if(tt){if(te>=Xe)return tt;var dt=U[te];return tt*(dt=="desc"?-1:1)}}return w.index-A.index}function Kt(w,A,U,te){for(var _e=-1,Re=w.length,ze=U.length,Xe=-1,tt=A.length,dt=mr(Re-ze,0),pt=at(tt+dt),mt=!te;++Xe<tt;)pt[Xe]=A[Xe];for(;++_e<ze;)(mt||_e<Re)&&(pt[U[_e]]=w[_e]);for(;dt--;)pt[Xe++]=w[_e++];return pt}function Tn(w,A,U,te){for(var _e=-1,Re=w.length,ze=-1,Xe=U.length,tt=-1,dt=A.length,pt=mr(Re-Xe,0),mt=at(pt+dt),Tt=!te;++_e<pt;)mt[_e]=w[_e];for(var Nt=_e;++tt<dt;)mt[Nt+tt]=A[tt];for(;++ze<Xe;)(Tt||_e<Re)&&(mt[Nt+U[ze]]=w[_e++]);return mt}function vn(w,A){var U=-1,te=w.length;for(A||(A=at(te));++U<te;)A[U]=w[U];return A}function nn(w,A,U,te){var _e=!U;U||(U={});for(var Re=-1,ze=A.length;++Re<ze;){var Xe=A[Re],tt=te?te(U[Xe],w[Xe],Xe,U,w):n;tt===n&&(tt=w[Xe]),_e?Mt(U,Xe,tt):Ks(U,Xe,tt)}return U}function ls(w,A){return nn(w,sx(w),A)}function ex(w,A){return nn(w,rM(w),A)}function qg(w,A){return function(U,te){var _e=on(U)?Dr:Up,Re=A?A():{};return _e(U,w,Wt(te,2),Re)}}function xh(w){return sn(function(A,U){var te=-1,_e=U.length,Re=_e>1?U[_e-1]:n,ze=_e>2?U[2]:n;for(Re=w.length>3&&typeof Re=="function"?(_e--,Re):n,ze&&Di(U[0],U[1],ze)&&(Re=_e<3?n:Re,_e=1),A=Ln(A);++te<_e;){var Xe=U[te];Xe&&w(A,Xe,te,Re)}return A})}function jE(w,A){return function(U,te){if(U==null)return U;if(!Ji(U))return w(U,te);for(var _e=U.length,Re=A?_e:-1,ze=Ln(U);(A?Re--:++Re<_e)&&te(ze[Re],Re,ze)!==!1;);return U}}function ZE(w){return function(A,U,te){for(var _e=-1,Re=Ln(A),ze=te(A),Xe=ze.length;Xe--;){var tt=ze[w?Xe:++_e];if(U(Re[tt],tt,Re)===!1)break}return A}}function Y5(w,A,U){var te=A&u,_e=qp(w);function Re(){var ze=this&&this!==gn&&this instanceof Re?_e:w;return ze.apply(te?U:this,arguments)}return Re}function XE(w){return function(A){A=Bn(A);var U=$o(A)?Gn(A):n,te=U?U[0]:A.charAt(0),_e=U?St(U,1).join(""):A.slice(1);return te[w]()+_e}}function wh(w){return function(A){return jc(jM(VM(A).replace(Ul,"")),w,"")}}function qp(w){return function(){var A=arguments;switch(A.length){case 0:return new w;case 1:return new w(A[0]);case 2:return new w(A[0],A[1]);case 3:return new w(A[0],A[1],A[2]);case 4:return new w(A[0],A[1],A[2],A[3]);case 5:return new w(A[0],A[1],A[2],A[3],A[4]);case 6:return new w(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new w(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var U=Qs(w.prototype),te=w.apply(U,A);return fr(te)?te:U}}function q5(w,A,U){var te=qp(w);function _e(){for(var Re=arguments.length,ze=at(Re),Xe=Re,tt=bh(_e);Xe--;)ze[Xe]=arguments[Xe];var dt=Re<3&&ze[0]!==tt&&ze[Re-1]!==tt?[]:Da(ze,tt);if(Re-=dt.length,Re<U)return KE(w,A,Qg,_e.placeholder,n,ze,dt,n,n,U-Re);var pt=this&&this!==gn&&this instanceof _e?te:w;return Mn(pt,this,ze)}return _e}function YE(w){return function(A,U,te){var _e=Ln(A);if(!Ji(A)){var Re=Wt(U,3);A=Zr(A),U=function(Xe){return Re(_e[Xe],Xe,_e)}}var ze=w(A,U,te);return ze>-1?_e[Re?A[ze]:ze]:n}}function qE(w){return al(function(A){var U=A.length,te=U,_e=Ii.prototype.thru;for(w&&A.reverse();te--;){var Re=A[te];if(typeof Re!="function")throw new mi(i);if(_e&&!ze&&ev(Re)=="wrapper")var ze=new Ii([],!0)}for(te=ze?te:U;++te<U;){Re=A[te];var Xe=ev(Re),tt=Xe=="wrapper"?ax(Re):n;tt&&ux(tt[0])&&tt[1]==(b|p|_|M)&&!tt[4].length&&tt[9]==1?ze=ze[ev(tt[0])].apply(ze,tt[3]):ze=Re.length==1&&ux(Re)?ze[Xe]():ze.thru(Re)}return function(){var dt=arguments,pt=dt[0];if(ze&&dt.length==1&&on(pt))return ze.plant(pt).value();for(var mt=0,Tt=U?A[mt].apply(this,dt):pt;++mt<U;)Tt=A[mt].call(this,Tt);return Tt}})}function Qg(w,A,U,te,_e,Re,ze,Xe,tt,dt){var pt=A&b,mt=A&u,Tt=A&v,Nt=A&(p|g),jt=A&E,fn=Tt?n:qp(w);function Zt(){for(var mn=arguments.length,_n=at(mn),ga=mn;ga--;)_n[ga]=arguments[ga];if(Nt)var Oi=bh(Zt),va=_o(_n,Oi);if(te&&(_n=Kt(_n,te,_e,Nt)),Re&&(_n=Tn(_n,Re,ze,Nt)),mn-=va,Nt&&mn<dt){var Tr=Da(_n,Oi);return KE(w,A,Qg,Zt.placeholder,U,_n,Tr,Xe,tt,dt-mn)}var Mo=mt?U:this,ul=Tt?Mo[w]:w;return mn=_n.length,Xe?_n=mI(_n,Xe):jt&&mn>1&&_n.reverse(),pt&&tt<mn&&(_n.length=tt),this&&this!==gn&&this instanceof Zt&&(ul=fn||qp(ul)),ul.apply(Mo,_n)}return Zt}function QE(w,A){return function(U,te){return dh(U,w,A(te),{})}}function Jg(w,A){return function(U,te){var _e;if(U===n&&te===n)return A;if(U!==n&&(_e=U),te!==n){if(_e===n)return te;typeof U=="string"||typeof te=="string"?(U=S(U),te=S(te)):(U=Yg(U),te=Yg(te)),_e=w(U,te)}return _e}}function tx(w){return al(function(A){return A=jn(A,Or(Wt())),sn(function(U){var te=this;return w(A,function(_e){return Mn(_e,te,U)})})})}function Kg(w,A){A=A===n?" ":S(A);var U=A.length;if(U<2)return U?kf(A,w):A;var te=kf(A,Xs(w/lr(A)));return $o(A)?St(Gn(te),0,w).join(""):te.slice(0,w)}function Q5(w,A,U,te){var _e=A&u,Re=qp(w);function ze(){for(var Xe=-1,tt=arguments.length,dt=-1,pt=te.length,mt=at(pt+tt),Tt=this&&this!==gn&&this instanceof ze?Re:w;++dt<pt;)mt[dt]=te[dt];for(;tt--;)mt[dt++]=arguments[++Xe];return Mn(Tt,_e?U:this,mt)}return ze}function JE(w){return function(A,U,te){return te&&typeof te!="number"&&Di(A,U,te)&&(U=te=n),A=ll(A),U===n?(U=A,A=0):U=ll(U),te=te===n?A<U?1:-1:ll(te),qi(A,U,te,w)}}function $g(w){return function(A,U){return typeof A=="string"&&typeof U=="string"||(A=Va(A),U=Va(U)),w(A,U)}}function KE(w,A,U,te,_e,Re,ze,Xe,tt,dt){var pt=A&p,mt=pt?ze:n,Tt=pt?n:ze,Nt=pt?Re:n,jt=pt?n:Re;A|=pt?_:x,A&=~(pt?x:_),A&y||(A&=~(u|v));var fn=[w,A,_e,Nt,mt,jt,Tt,Xe,tt,dt],Zt=U.apply(n,fn);return ux(w)&&fM(Zt,fn),Zt.placeholder=te,cM(Zt,w,A)}function nx(w){var A=$n[w];return function(U,te){if(U=Va(U),te=te==null?0:Yn(ln(te),292),te&&Cp(U)){var _e=(Bn(U)+"e").split("e"),Re=A(_e[0]+"e"+(+_e[1]+te));return _e=(Bn(Re)+"e").split("e"),+(_e[0]+"e"+(+_e[1]-te))}return A(U)}}var J5=Jl&&1/es(new Jl([,-0]))[1]==Z?function(w){return new Jl(w)}:Ex;function $E(w){return function(A){var U=yi(A);return U==ge?gf(A):U==ee?Zi(A):La(A,w(A))}}function il(w,A,U,te,_e,Re,ze,Xe){var tt=A&v;if(!tt&&typeof w!="function")throw new mi(i);var dt=te?te.length:0;if(dt||(A&=~(_|x),te=_e=n),ze=ze===n?ze:mr(ln(ze),0),Xe=Xe===n?Xe:ln(Xe),dt-=_e?_e.length:0,A&x){var pt=te,mt=_e;te=_e=n}var Tt=tt?n:ax(w),Nt=[w,A,U,te,_e,pt,mt,Re,ze,Xe];if(Tt&&hI(Nt,Tt),w=Nt[0],A=Nt[1],U=Nt[2],te=Nt[3],_e=Nt[4],Xe=Nt[9]=Nt[9]===n?tt?0:w.length:mr(Nt[9]-dt,0),!Xe&&A&(p|g)&&(A&=~(p|g)),!A||A==u)var jt=Y5(w,A,U);else A==p||A==g?jt=q5(w,A,Xe):(A==_||A==(u|_))&&!_e.length?jt=Q5(w,A,U,te):jt=Qg.apply(n,Nt);var fn=Tt?yh:fM;return cM(fn(jt,Nt),w,A)}function eM(w,A,U,te){return w===n||Eo(w,yo[U])&&!In.call(te,U)?A:w}function tM(w,A,U,te,_e,Re){return fr(w)&&fr(A)&&(Re.set(A,w),mh(w,A,n,tM,Re),Re.delete(A)),w}function K5(w){return Kp(w)?n:w}function nM(w,A,U,te,_e,Re){var ze=U&f,Xe=w.length,tt=A.length;if(Xe!=tt&&!(ze&&tt>Xe))return!1;var dt=Re.get(w),pt=Re.get(A);if(dt&&pt)return dt==A&&pt==w;var mt=-1,Tt=!0,Nt=U&h?new ka:n;for(Re.set(w,A),Re.set(A,w);++mt<Xe;){var jt=w[mt],fn=A[mt];if(te)var Zt=ze?te(fn,jt,mt,A,w,Re):te(jt,fn,mt,w,A,Re);if(Zt!==n){if(Zt)continue;Tt=!1;break}if(Nt){if(!Hl(A,function(mn,_n){if(!Hs(Nt,_n)&&(jt===mn||_e(jt,mn,U,te,Re)))return Nt.push(_n)})){Tt=!1;break}}else if(!(jt===fn||_e(jt,fn,U,te,Re))){Tt=!1;break}}return Re.delete(w),Re.delete(A),Tt}function $5(w,A,U,te,_e,Re,ze){switch(U){case Ce:if(w.byteLength!=A.byteLength||w.byteOffset!=A.byteOffset)return!1;w=w.buffer,A=A.buffer;case de:return!(w.byteLength!=A.byteLength||!Re(new th(w),new th(A)));case se:case fe:case Oe:return Eo(+w,+A);case we:return w.name==A.name&&w.message==A.message;case Y:case W:return w==A+"";case ge:var Xe=gf;case ee:var tt=te&f;if(Xe||(Xe=es),w.size!=A.size&&!tt)return!1;var dt=ze.get(w);if(dt)return dt==A;te|=h,ze.set(w,A);var pt=nM(Xe(w),Xe(A),te,_e,Re,ze);return ze.delete(w),pt;case P:if(Cf)return Cf.call(w)==Cf.call(A)}return!1}function eI(w,A,U,te,_e,Re){var ze=U&f,Xe=rx(w),tt=Xe.length,dt=rx(A),pt=dt.length;if(tt!=pt&&!ze)return!1;for(var mt=tt;mt--;){var Tt=Xe[mt];if(!(ze?Tt in A:In.call(A,Tt)))return!1}var Nt=Re.get(w),jt=Re.get(A);if(Nt&&jt)return Nt==A&&jt==w;var fn=!0;Re.set(w,A),Re.set(A,w);for(var Zt=ze;++mt<tt;){Tt=Xe[mt];var mn=w[Tt],_n=A[Tt];if(te)var ga=ze?te(_n,mn,Tt,A,w,Re):te(mn,_n,Tt,w,A,Re);if(!(ga===n?mn===_n||_e(mn,_n,U,te,Re):ga)){fn=!1;break}Zt||(Zt=Tt=="constructor")}if(fn&&!Zt){var Oi=w.constructor,va=A.constructor;Oi!=va&&"constructor"in w&&"constructor"in A&&!(typeof Oi=="function"&&Oi instanceof Oi&&typeof va=="function"&&va instanceof va)&&(fn=!1)}return Re.delete(w),Re.delete(A),fn}function al(w){return cx(lM(w,n,vM),w+"")}function rx(w){return vi(w,Zr,sx)}function ix(w){return vi(w,Ki,rM)}var ax=Kl?function(w){return Kl.get(w)}:Ex;function ev(w){for(var A=w.name+"",U=$l[A],te=In.call($l,A)?U.length:0;te--;){var _e=U[te],Re=_e.func;if(Re==null||Re==w)return _e.name}return A}function bh(w){var A=In.call(Ee,"placeholder")?Ee:w;return A.placeholder}function Wt(){var w=Ee.iteratee||bx;return w=w===bx?Ga:w,arguments.length?w(arguments[0],arguments[1]):w}function tv(w,A){var U=w.__data__;return lI(A)?U[typeof A=="string"?"string":"hash"]:U.map}function ox(w){for(var A=Zr(w),U=A.length;U--;){var te=A[U],_e=w[te];A[U]=[te,_e,oM(_e)]}return A}function Nf(w,A){var U=Eg(w,A);return Gp(U)?U:n}function tI(w){var A=In.call(w,ns),U=w[ns];try{w[ns]=n;var te=!0}catch{}var _e=bf.call(w);return te&&(A?w[ns]=U:delete w[ns]),_e}var sx=nh?function(w){return w==null?[]:(w=Ln(w),go(nh(w),function(A){return Mp.call(w,A)}))}:Mx,rM=nh?function(w){for(var A=[];w;)Vi(A,sx(w)),w=gi(w);return A}:Mx,yi=jr;(ql&&yi(new ql(new ArrayBuffer(1)))!=Ce||Ql&&yi(new Ql)!=ge||Ys&&yi(Ys.resolve())!=re||Jl&&yi(new Jl)!=ee||Tf&&yi(new Tf)!=B)&&(yi=function(w){var A=jr(w),U=A==pe?w.constructor:n,te=U?Bf(U):"";if(te)switch(te){case Ig:return Ce;case Dg:return ge;case Vy:return re;case Og:return ee;case jy:return B}return A});function nI(w,A,U){for(var te=-1,_e=U.length;++te<_e;){var Re=U[te],ze=Re.size;switch(Re.type){case"drop":w+=ze;break;case"dropRight":A-=ze;break;case"take":A=Yn(A,w+ze);break;case"takeRight":w=mr(w,A-ze);break}}return{start:w,end:A}}function rI(w){var A=w.match(Be);return A?A[1].split(Ze):[]}function iM(w,A,U){A=kt(A,w);for(var te=-1,_e=A.length,Re=!1;++te<_e;){var ze=us(A[te]);if(!(Re=w!=null&&U(w,ze)))break;w=w[ze]}return Re||++te!=_e?Re:(_e=w==null?0:w.length,!!_e&&lv(_e)&&ol(ze,_e)&&(on(w)||Uf(w)))}function iI(w){var A=w.length,U=new w.constructor(A);return A&&typeof w[0]=="string"&&In.call(w,"index")&&(U.index=w.index,U.input=w.input),U}function aM(w){return typeof w.constructor=="function"&&!Qp(w)?Qs(gi(w)):{}}function aI(w,A,U){var te=w.constructor;switch(A){case de:return _i(w);case se:case fe:return new te(+w);case Ce:return rt(w,U);case be:case Se:case ke:case Ye:case Ve:case Me:case Ge:case We:case et:return At(w,U);case ge:return new te;case Oe:case W:return new te(w);case Y:return $e(w);case ee:return new te;case P:return ct(w)}}function oI(w,A){var U=A.length;if(!U)return w;var te=U-1;return A[te]=(U>1?"& ":"")+A[te],A=A.join(U>2?", ":" "),w.replace(ve,`{
/* [wrapped with `+A+`] */
`)}function sI(w){return on(w)||Uf(w)||!!(Tp&&w&&w[Tp])}function ol(w,A){var U=typeof w;return A=A??H,!!A&&(U=="number"||U!="symbol"&&qt.test(w))&&w>-1&&w%1==0&&w<A}function Di(w,A,U){if(!fr(U))return!1;var te=typeof A;return(te=="number"?Ji(U)&&ol(A,U.length):te=="string"&&A in U)?Eo(U[A],w):!1}function lx(w,A){if(on(w))return!1;var U=typeof w;return U=="number"||U=="symbol"||U=="boolean"||w==null||ma(w)?!0:Pe.test(w)||!L.test(w)||A!=null&&w in Ln(A)}function lI(w){var A=typeof w;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null}function ux(w){var A=ev(w),U=Ee[A];if(typeof U!="function"||!(A in hn.prototype))return!1;if(w===U)return!0;var te=ax(U);return!!te&&w===te[0]}function uI(w){return!!Sp&&Sp in w}var fI=xf?sl:Tx;function Qp(w){var A=w&&w.constructor,U=typeof A=="function"&&A.prototype||yo;return w===U}function oM(w){return w===w&&!fr(w)}function sM(w,A){return function(U){return U==null?!1:U[w]===A&&(A!==n||w in Ln(U))}}function cI(w){var A=ov(w,function(te){return U.size===s&&U.clear(),te}),U=A.cache;return A}function hI(w,A){var U=w[1],te=A[1],_e=U|te,Re=_e<(u|v|b),ze=te==b&&U==p||te==b&&U==M&&w[7].length<=A[8]||te==(b|M)&&A[7].length<=A[8]&&U==p;if(!(Re||ze))return w;te&u&&(w[2]=A[2],_e|=U&u?0:y);var Xe=A[3];if(Xe){var tt=w[3];w[3]=tt?Kt(tt,Xe,A[4]):Xe,w[4]=tt?Da(w[3],l):A[4]}return Xe=A[5],Xe&&(tt=w[5],w[5]=tt?Tn(tt,Xe,A[6]):Xe,w[6]=tt?Da(w[5],l):A[6]),Xe=A[7],Xe&&(w[7]=Xe),te&b&&(w[8]=w[8]==null?A[8]:Yn(w[8],A[8])),w[9]==null&&(w[9]=A[9]),w[0]=A[0],w[1]=_e,w}function dI(w){var A=[];if(w!=null)for(var U in Ln(w))A.push(U);return A}function pI(w){return bf.call(w)}function lM(w,A,U){return A=mr(A===n?w.length-1:A,0),function(){for(var te=arguments,_e=-1,Re=mr(te.length-A,0),ze=at(Re);++_e<Re;)ze[_e]=te[A+_e];_e=-1;for(var Xe=at(A+1);++_e<A;)Xe[_e]=te[_e];return Xe[A]=U(ze),Mn(w,this,Xe)}}function uM(w,A){return A.length<2?w:za(w,Qi(A,0,-1))}function mI(w,A){for(var U=w.length,te=Yn(A.length,U),_e=vn(w);te--;){var Re=A[te];w[te]=ol(Re,U)?_e[Re]:n}return w}function fx(w,A){if(!(A==="constructor"&&typeof w[A]=="function")&&A!="__proto__")return w[A]}var fM=hM(yh),Jp=Rg||function(w,A){return gn.setTimeout(w,A)},cx=hM(Xp);function cM(w,A,U){var te=A+"";return cx(w,oI(te,gI(rI(te),U)))}function hM(w){var A=0,U=0;return function(){var te=Oa(),_e=O-(te-U);if(U=te,_e>0){if(++A>=I)return arguments[0]}else A=0;return w.apply(n,arguments)}}function nv(w,A){var U=-1,te=w.length,_e=te-1;for(A=A===n?te:A;++U<A;){var Re=Zp(U,_e),ze=w[Re];w[Re]=w[U],w[U]=ze}return w.length=A,w}var dM=cI(function(w){var A=[];return w.charCodeAt(0)===46&&A.push(""),w.replace(Ue,function(U,te,_e,Re){A.push(_e?Re.replace(gt,"$1"):te||U)}),A});function us(w){if(typeof w=="string"||ma(w))return w;var A=w+"";return A=="0"&&1/w==-Z?"-0":A}function Bf(w){if(w!=null){try{return wf.call(w)}catch{}try{return w+""}catch{}}return""}function gI(w,A){return un(le,function(U){var te="_."+U[0];A&U[1]&&!da(w,te)&&w.push(te)}),w.sort()}function pM(w){if(w instanceof hn)return w.clone();var A=new Ii(w.__wrapped__,w.__chain__);return A.__actions__=vn(w.__actions__),A.__index__=w.__index__,A.__values__=w.__values__,A}function vI(w,A,U){(U?Di(w,A,U):A===n)?A=1:A=mr(ln(A),0);var te=w==null?0:w.length;if(!te||A<1)return[];for(var _e=0,Re=0,ze=at(Xs(te/A));_e<te;)ze[Re++]=Qi(w,_e,_e+=A);return ze}function _I(w){for(var A=-1,U=w==null?0:w.length,te=0,_e=[];++A<U;){var Re=w[A];Re&&(_e[te++]=Re)}return _e}function yI(){var w=arguments.length;if(!w)return[];for(var A=at(w-1),U=arguments[0],te=w;te--;)A[te-1]=arguments[te];return Vi(on(U)?vn(U):[U],gr(A,1))}var xI=sn(function(w,A){return Mr(w)?$s(w,gr(A,1,Mr,!0)):[]}),wI=sn(function(w,A){var U=Wa(A);return Mr(U)&&(U=n),Mr(w)?$s(w,gr(A,1,Mr,!0),Wt(U,2)):[]}),bI=sn(function(w,A){var U=Wa(A);return Mr(U)&&(U=n),Mr(w)?$s(w,gr(A,1,Mr,!0),n,U):[]});function SI(w,A,U){var te=w==null?0:w.length;return te?(A=U||A===n?1:ln(A),Qi(w,A<0?0:A,te)):[]}function EI(w,A,U){var te=w==null?0:w.length;return te?(A=U||A===n?1:ln(A),A=te-A,Qi(w,0,A<0?0:A)):[]}function MI(w,A){return w&&w.length?oe(w,Wt(A,3),!0,!0):[]}function TI(w,A){return w&&w.length?oe(w,Wt(A,3),!0):[]}function AI(w,A,U,te){var _e=w==null?0:w.length;return _e?(U&&typeof U!="number"&&Di(w,A,U)&&(U=0,te=_e),ch(w,A,U,te)):[]}function mM(w,A,U){var te=w==null?0:w.length;if(!te)return-1;var _e=U==null?0:ln(U);return _e<0&&(_e=mr(te+_e,0)),Wl(w,Wt(A,3),_e)}function gM(w,A,U){var te=w==null?0:w.length;if(!te)return-1;var _e=te-1;return U!==n&&(_e=ln(U),_e=U<0?mr(te+_e,0):Yn(_e,te-1)),Wl(w,Wt(A,3),_e,!0)}function vM(w){var A=w==null?0:w.length;return A?gr(w,1):[]}function CI(w){var A=w==null?0:w.length;return A?gr(w,Z):[]}function RI(w,A){var U=w==null?0:w.length;return U?(A=A===n?1:ln(A),gr(w,A)):[]}function PI(w){for(var A=-1,U=w==null?0:w.length,te={};++A<U;){var _e=w[A];te[_e[0]]=_e[1]}return te}function _M(w){return w&&w.length?w[0]:n}function LI(w,A,U){var te=w==null?0:w.length;if(!te)return-1;var _e=U==null?0:ln(U);return _e<0&&(_e=mr(te+_e,0)),vo(w,A,_e)}function II(w){var A=w==null?0:w.length;return A?Qi(w,0,-1):[]}var DI=sn(function(w){var A=jn(w,ut);return A.length&&A[0]===w[0]?hh(A):[]}),OI=sn(function(w){var A=Wa(w),U=jn(w,ut);return A===Wa(U)?A=n:U.pop(),U.length&&U[0]===w[0]?hh(U,Wt(A,2)):[]}),kI=sn(function(w){var A=Wa(w),U=jn(w,ut);return A=typeof A=="function"?A:n,A&&U.pop(),U.length&&U[0]===w[0]?hh(U,n,A):[]});function FI(w,A){return w==null?"":Lg.call(w,A)}function Wa(w){var A=w==null?0:w.length;return A?w[A-1]:n}function NI(w,A,U){var te=w==null?0:w.length;if(!te)return-1;var _e=te;return U!==n&&(_e=ln(U),_e=_e<0?mr(te+_e,0):Yn(_e,te-1)),A===A?sr(w,A,_e):Wl(w,pf,_e,!0)}function BI(w,A){return w&&w.length?Of(w,ln(A)):n}var UI=sn(yM);function yM(w,A){return w&&w.length&&A&&A.length?su(w,A):w}function zI(w,A,U){return w&&w.length&&A&&A.length?su(w,A,Wt(U,2)):w}function GI(w,A,U){return w&&w.length&&A&&A.length?su(w,A,n,U):w}var HI=al(function(w,A){var U=w==null?0:w.length,te=nu(w,A);return jp(w,jn(A,function(_e){return ol(_e,U)?+_e:_e}).sort(Bt)),te});function WI(w,A){var U=[];if(!(w&&w.length))return U;var te=-1,_e=[],Re=w.length;for(A=Wt(A,3);++te<Re;){var ze=w[te];A(ze,te,w)&&(U.push(ze),_e.push(te))}return jp(w,_e),U}function hx(w){return w==null?w:rh.call(w)}function VI(w,A,U){var te=w==null?0:w.length;return te?(U&&typeof U!="number"&&Di(w,A,U)?(A=0,U=te):(A=A==null?0:ln(A),U=U===n?te:ln(U)),Qi(w,A,U)):[]}function jI(w,A){return Ff(w,A)}function ZI(w,A,U){return lu(w,A,Wt(U,2))}function XI(w,A){var U=w==null?0:w.length;if(U){var te=Ff(w,A);if(te<U&&Eo(w[te],A))return te}return-1}function YI(w,A){return Ff(w,A,!0)}function qI(w,A,U){return lu(w,A,Wt(U,2),!0)}function QI(w,A){var U=w==null?0:w.length;if(U){var te=Ff(w,A,!0)-1;if(Eo(w[te],A))return te}return-1}function JI(w){return w&&w.length?Xg(w):[]}function KI(w,A){return w&&w.length?Xg(w,Wt(A,2)):[]}function $I(w){var A=w==null?0:w.length;return A?Qi(w,1,A):[]}function eD(w,A,U){return w&&w.length?(A=U||A===n?1:ln(A),Qi(w,0,A<0?0:A)):[]}function tD(w,A,U){var te=w==null?0:w.length;return te?(A=U||A===n?1:ln(A),A=te-A,Qi(w,A<0?0:A,te)):[]}function nD(w,A){return w&&w.length?oe(w,Wt(A,3),!1,!0):[]}function rD(w,A){return w&&w.length?oe(w,Wt(A,3)):[]}var iD=sn(function(w){return T(gr(w,1,Mr,!0))}),aD=sn(function(w){var A=Wa(w);return Mr(A)&&(A=n),T(gr(w,1,Mr,!0),Wt(A,2))}),oD=sn(function(w){var A=Wa(w);return A=typeof A=="function"?A:n,T(gr(w,1,Mr,!0),n,A)});function sD(w){return w&&w.length?T(w):[]}function lD(w,A){return w&&w.length?T(w,Wt(A,2)):[]}function uD(w,A){return A=typeof A=="function"?A:n,w&&w.length?T(w,n,A):[]}function dx(w){if(!(w&&w.length))return[];var A=0;return w=go(w,function(U){if(Mr(U))return A=mr(U.length,A),!0}),Ko(A,function(U){return jn(w,Vl(U))})}function xM(w,A){if(!(w&&w.length))return[];var U=dx(w);return A==null?U:jn(U,function(te){return Mn(A,n,te)})}var fD=sn(function(w,A){return Mr(w)?$s(w,A):[]}),cD=sn(function(w){return Ne(go(w,Mr))}),hD=sn(function(w){var A=Wa(w);return Mr(A)&&(A=n),Ne(go(w,Mr),Wt(A,2))}),dD=sn(function(w){var A=Wa(w);return A=typeof A=="function"?A:n,Ne(go(w,Mr),n,A)}),pD=sn(dx);function mD(w,A){return Qe(w||[],A||[],Ks)}function gD(w,A){return Qe(w||[],A||[],Ha)}var vD=sn(function(w){var A=w.length,U=A>1?w[A-1]:n;return U=typeof U=="function"?(w.pop(),U):n,xM(w,U)});function wM(w){var A=Ee(w);return A.__chain__=!0,A}function _D(w,A){return A(w),w}function rv(w,A){return A(w)}var yD=al(function(w){var A=w.length,U=A?w[0]:0,te=this.__wrapped__,_e=function(Re){return nu(Re,w)};return A>1||this.__actions__.length||!(te instanceof hn)||!ol(U)?this.thru(_e):(te=te.slice(U,+U+(A?1:0)),te.__actions__.push({func:rv,args:[_e],thisArg:n}),new Ii(te,this.__chain__).thru(function(Re){return A&&!Re.length&&Re.push(n),Re}))});function xD(){return wM(this)}function wD(){return new Ii(this.value(),this.__chain__)}function bD(){this.__values__===n&&(this.__values__=kM(this.value()));var w=this.__index__>=this.__values__.length,A=w?n:this.__values__[this.__index__++];return{done:w,value:A}}function SD(){return this}function ED(w){for(var A,U=this;U instanceof Rf;){var te=pM(U);te.__index__=0,te.__values__=n,A?_e.__wrapped__=te:A=te;var _e=te;U=U.__wrapped__}return _e.__wrapped__=w,A}function MD(){var w=this.__wrapped__;if(w instanceof hn){var A=w;return this.__actions__.length&&(A=new hn(this)),A=A.reverse(),A.__actions__.push({func:rv,args:[hx],thisArg:n}),new Ii(A,this.__chain__)}return this.thru(hx)}function TD(){return ye(this.__wrapped__,this.__actions__)}var AD=qg(function(w,A,U){In.call(w,U)?++w[U]:Mt(w,U,1)});function CD(w,A,U){var te=on(w)?zs:Df;return U&&Di(w,A,U)&&(A=n),te(w,Wt(A,3))}function RD(w,A){var U=on(w)?go:Ba;return U(w,Wt(A,3))}var PD=YE(mM),LD=YE(gM);function ID(w,A){return gr(iv(w,A),1)}function DD(w,A){return gr(iv(w,A),Z)}function OD(w,A,U){return U=U===n?1:ln(U),gr(iv(w,A),U)}function bM(w,A){var U=on(w)?un:Fa;return U(w,Wt(A,3))}function SM(w,A){var U=on(w)?Nr:Na;return U(w,Wt(A,3))}var kD=qg(function(w,A,U){In.call(w,U)?w[U].push(A):Mt(w,U,[A])});function FD(w,A,U,te){w=Ji(w)?w:Eh(w),U=U&&!te?ln(U):0;var _e=w.length;return U<0&&(U=mr(_e+U,0)),uv(w)?U<=_e&&w.indexOf(A,U)>-1:!!_e&&vo(w,A,U)>-1}var ND=sn(function(w,A,U){var te=-1,_e=typeof A=="function",Re=Ji(w)?at(w.length):[];return Fa(w,function(ze){Re[++te]=_e?Mn(A,ze,U):tl(ze,A,U)}),Re}),BD=qg(function(w,A,U){Mt(w,U,A)});function iv(w,A){var U=on(w)?jn:Vp;return U(w,Wt(A,3))}function UD(w,A,U,te){return w==null?[]:(on(A)||(A=A==null?[]:[A]),U=te?n:U,on(U)||(U=U==null?[]:[U]),gh(w,A,U))}var zD=qg(function(w,A,U){w[U?0:1].push(A)},function(){return[[],[]]});function GD(w,A,U){var te=on(w)?jc:jl,_e=arguments.length<3;return te(w,Wt(A,4),U,_e,Fa)}function HD(w,A,U){var te=on(w)?xg:jl,_e=arguments.length<3;return te(w,Wt(A,4),U,_e,Na)}function WD(w,A){var U=on(w)?go:Ba;return U(w,sv(Wt(A,3)))}function VD(w){var A=on(w)?Lf:ss;return A(w)}function jD(w,A,U){(U?Di(w,A,U):A===n)?A=1:A=ln(A);var te=on(w)?eu:_h;return te(w,A)}function ZD(w){var A=on(w)?If:Yp;return A(w)}function XD(w){if(w==null)return 0;if(Ji(w))return uv(w)?lr(w):w.length;var A=yi(w);return A==ge||A==ee?w.size:Hp(w).length}function YD(w,A,U){var te=on(w)?Hl:Zg;return U&&Di(w,A,U)&&(A=n),te(w,Wt(A,3))}var qD=sn(function(w,A){if(w==null)return[];var U=A.length;return U>1&&Di(w,A[0],A[1])?A=[]:U>2&&Di(A[0],A[1],A[2])&&(A=[A[0]]),gh(w,gr(A,1),[])}),av=Ap||function(){return gn.Date.now()};function QD(w,A){if(typeof A!="function")throw new mi(i);return w=ln(w),function(){if(--w<1)return A.apply(this,arguments)}}function EM(w,A,U){return A=U?n:A,A=w&&A==null?w.length:A,il(w,b,n,n,n,n,A)}function MM(w,A){var U;if(typeof A!="function")throw new mi(i);return w=ln(w),function(){return--w>0&&(U=A.apply(this,arguments)),w<=1&&(A=n),U}}var px=sn(function(w,A,U){var te=u;if(U.length){var _e=Da(U,bh(px));te|=_}return il(w,te,A,U,_e)}),TM=sn(function(w,A,U){var te=u|v;if(U.length){var _e=Da(U,bh(TM));te|=_}return il(A,te,w,U,_e)});function AM(w,A,U){A=U?n:A;var te=il(w,p,n,n,n,n,n,A);return te.placeholder=AM.placeholder,te}function CM(w,A,U){A=U?n:A;var te=il(w,g,n,n,n,n,n,A);return te.placeholder=CM.placeholder,te}function RM(w,A,U){var te,_e,Re,ze,Xe,tt,dt=0,pt=!1,mt=!1,Tt=!0;if(typeof w!="function")throw new mi(i);A=Va(A)||0,fr(U)&&(pt=!!U.leading,mt="maxWait"in U,Re=mt?mr(Va(U.maxWait)||0,A):Re,Tt="trailing"in U?!!U.trailing:Tt);function Nt(Tr){var Mo=te,ul=_e;return te=_e=n,dt=Tr,ze=w.apply(ul,Mo),ze}function jt(Tr){return dt=Tr,Xe=Jp(mn,A),pt?Nt(Tr):ze}function fn(Tr){var Mo=Tr-tt,ul=Tr-dt,YM=A-Mo;return mt?Yn(YM,Re-ul):YM}function Zt(Tr){var Mo=Tr-tt,ul=Tr-dt;return tt===n||Mo>=A||Mo<0||mt&&ul>=Re}function mn(){var Tr=av();if(Zt(Tr))return _n(Tr);Xe=Jp(mn,fn(Tr))}function _n(Tr){return Xe=n,Tt&&te?Nt(Tr):(te=_e=n,ze)}function ga(){Xe!==n&&Nn(Xe),dt=0,te=tt=_e=Xe=n}function Oi(){return Xe===n?ze:_n(av())}function va(){var Tr=av(),Mo=Zt(Tr);if(te=arguments,_e=this,tt=Tr,Mo){if(Xe===n)return jt(tt);if(mt)return Nn(Xe),Xe=Jp(mn,A),Nt(tt)}return Xe===n&&(Xe=Jp(mn,A)),ze}return va.cancel=ga,va.flush=Oi,va}var JD=sn(function(w,A){return iu(w,1,A)}),KD=sn(function(w,A,U){return iu(w,Va(A)||0,U)});function $D(w){return il(w,E)}function ov(w,A){if(typeof w!="function"||A!=null&&typeof A!="function")throw new mi(i);var U=function(){var te=arguments,_e=A?A.apply(this,te):te[0],Re=U.cache;if(Re.has(_e))return Re.get(_e);var ze=w.apply(this,te);return U.cache=Re.set(_e,ze)||Re,ze};return U.cache=new(ov.Cache||pa),U}ov.Cache=pa;function sv(w){if(typeof w!="function")throw new mi(i);return function(){var A=arguments;switch(A.length){case 0:return!w.call(this);case 1:return!w.call(this,A[0]);case 2:return!w.call(this,A[0],A[1]);case 3:return!w.call(this,A[0],A[1],A[2])}return!w.apply(this,A)}}function e6(w){return MM(2,w)}var t6=Jt(function(w,A){A=A.length==1&&on(A[0])?jn(A[0],Or(Wt())):jn(gr(A,1),Or(Wt()));var U=A.length;return sn(function(te){for(var _e=-1,Re=Yn(te.length,U);++_e<Re;)te[_e]=A[_e].call(this,te[_e]);return Mn(w,this,te)})}),mx=sn(function(w,A){var U=Da(A,bh(mx));return il(w,_,n,A,U)}),PM=sn(function(w,A){var U=Da(A,bh(PM));return il(w,x,n,A,U)}),n6=al(function(w,A){return il(w,M,n,n,n,A)});function r6(w,A){if(typeof w!="function")throw new mi(i);return A=A===n?A:ln(A),sn(w,A)}function i6(w,A){if(typeof w!="function")throw new mi(i);return A=A==null?0:mr(ln(A),0),sn(function(U){var te=U[A],_e=St(U,0,A);return te&&Vi(_e,te),Mn(w,this,_e)})}function a6(w,A,U){var te=!0,_e=!0;if(typeof w!="function")throw new mi(i);return fr(U)&&(te="leading"in U?!!U.leading:te,_e="trailing"in U?!!U.trailing:_e),RM(w,A,{leading:te,maxWait:A,trailing:_e})}function o6(w){return EM(w,1)}function s6(w,A){return mx(xt(A),w)}function l6(){if(!arguments.length)return[];var w=arguments[0];return on(w)?w:[w]}function u6(w){return ur(w,m)}function f6(w,A){return A=typeof A=="function"?A:n,ur(w,m,A)}function c6(w){return ur(w,c|m)}function h6(w,A){return A=typeof A=="function"?A:n,ur(w,c|m,A)}function d6(w,A){return A==null||ru(w,A,Zr(A))}function Eo(w,A){return w===A||w!==w&&A!==A}var p6=$g(os),m6=$g(function(w,A){return w>=A}),Uf=nl(function(){return arguments}())?nl:function(w){return vr(w)&&In.call(w,"callee")&&!Mp.call(w,"callee")},on=at.isArray,g6=Bs?Or(Bs):Ug;function Ji(w){return w!=null&&lv(w.length)&&!sl(w)}function Mr(w){return vr(w)&&Ji(w)}function v6(w){return w===!0||w===!1||vr(w)&&jr(w)==se}var uu=Pg||Tx,_6=Wi?Or(Wi):zg;function y6(w){return vr(w)&&w.nodeType===1&&!Kp(w)}function x6(w){if(w==null)return!0;if(Ji(w)&&(on(w)||typeof w=="string"||typeof w.splice=="function"||uu(w)||Sh(w)||Uf(w)))return!w.length;var A=yi(w);if(A==ge||A==ee)return!w.size;if(Qp(w))return!Hp(w).length;for(var U in w)if(In.call(w,U))return!1;return!0}function w6(w,A){return bo(w,A)}function b6(w,A,U){U=typeof U=="function"?U:n;var te=U?U(w,A):n;return te===n?bo(w,A,n,U):!!te}function gx(w){if(!vr(w))return!1;var A=jr(w);return A==we||A==he||typeof w.message=="string"&&typeof w.name=="string"&&!Kp(w)}function S6(w){return typeof w=="number"&&Cp(w)}function sl(w){if(!fr(w))return!1;var A=jr(w);return A==xe||A==Ie||A==ae||A==ie}function LM(w){return typeof w=="number"&&w==ln(w)}function lv(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=H}function fr(w){var A=typeof w;return w!=null&&(A=="object"||A=="function")}function vr(w){return w!=null&&typeof w=="object"}var IM=Ra?Or(Ra):Jy;function E6(w,A){return w===A||ph(w,A,ox(A))}function M6(w,A,U){return U=typeof U=="function"?U:n,ph(w,A,ox(A),U)}function T6(w){return DM(w)&&w!=+w}function A6(w){if(fI(w))throw new en(r);return Gp(w)}function C6(w){return w===null}function R6(w){return w==null}function DM(w){return typeof w=="number"||vr(w)&&jr(w)==Oe}function Kp(w){if(!vr(w)||jr(w)!=pe)return!1;var A=gi(w);if(A===null)return!0;var U=In.call(A,"constructor")&&A.constructor;return typeof U=="function"&&U instanceof U&&wf.call(U)==Wy}var vx=Us?Or(Us):rl;function P6(w){return LM(w)&&w>=-H&&w<=H}var OM=hf?Or(hf):Ky;function uv(w){return typeof w=="string"||!on(w)&&vr(w)&&jr(w)==W}function ma(w){return typeof w=="symbol"||vr(w)&&jr(w)==P}var Sh=ha?Or(ha):$y;function L6(w){return w===n}function I6(w){return vr(w)&&yi(w)==B}function D6(w){return vr(w)&&jr(w)==Q}var O6=$g(Wp),k6=$g(function(w,A){return w<=A});function kM(w){if(!w)return[];if(Ji(w))return uv(w)?Gn(w):vn(w);if(Zs&&w[Zs])return Qc(w[Zs]());var A=yi(w),U=A==ge?gf:A==ee?es:Eh;return U(w)}function ll(w){if(!w)return w===0?w:0;if(w=Va(w),w===Z||w===-Z){var A=w<0?-1:1;return A*j}return w===w?w:0}function ln(w){var A=ll(w),U=A%1;return A===A?U?A-U:A:0}function FM(w){return w?wo(ln(w),0,V):0}function Va(w){if(typeof w=="number")return w;if(ma(w))return z;if(fr(w)){var A=typeof w.valueOf=="function"?w.valueOf():w;w=fr(A)?A+"":A}if(typeof w!="string")return w===0?w:+w;w=Yc(w);var U=Yt.test(w);return U||Rt.test(w)?ca(w.slice(2),U?2:8):Ct.test(w)?z:+w}function NM(w){return nn(w,Ki(w))}function F6(w){return w?wo(ln(w),-H,H):w===0?w:0}function Bn(w){return w==null?"":S(w)}var N6=xh(function(w,A){if(Qp(A)||Ji(A)){nn(A,Zr(A),w);return}for(var U in A)In.call(A,U)&&Ks(w,U,A[U])}),BM=xh(function(w,A){nn(A,Ki(A),w)}),fv=xh(function(w,A,U,te){nn(A,Ki(A),w,te)}),B6=xh(function(w,A,U,te){nn(A,Zr(A),w,te)}),U6=al(nu);function z6(w,A){var U=Qs(w);return A==null?U:fh(U,A)}var G6=sn(function(w,A){w=Ln(w);var U=-1,te=A.length,_e=te>2?A[2]:n;for(_e&&Di(A[0],A[1],_e)&&(te=1);++U<te;)for(var Re=A[U],ze=Ki(Re),Xe=-1,tt=ze.length;++Xe<tt;){var dt=ze[Xe],pt=w[dt];(pt===n||Eo(pt,yo[dt])&&!In.call(w,dt))&&(w[dt]=Re[dt])}return w}),H6=sn(function(w){return w.push(n,tM),Mn(UM,n,w)});function W6(w,A){return _p(w,Wt(A,3),er)}function V6(w,A){return _p(w,Wt(A,3),Ua)}function j6(w,A){return w==null?w:el(w,Wt(A,3),Ki)}function Z6(w,A){return w==null?w:ou(w,Wt(A,3),Ki)}function X6(w,A){return w&&er(w,Wt(A,3))}function Y6(w,A){return w&&Ua(w,Wt(A,3))}function q6(w){return w==null?[]:Yi(w,Zr(w))}function Q6(w){return w==null?[]:Yi(w,Ki(w))}function _x(w,A,U){var te=w==null?n:za(w,A);return te===n?U:te}function J6(w,A){return w!=null&&iM(w,A,zp)}function yx(w,A){return w!=null&&iM(w,A,qy)}var K6=QE(function(w,A,U){A!=null&&typeof A.toString!="function"&&(A=bf.call(A)),w[A]=U},wx($i)),$6=QE(function(w,A,U){A!=null&&typeof A.toString!="function"&&(A=bf.call(A)),In.call(w,A)?w[A].push(U):w[A]=[U]},Wt),eO=sn(tl);function Zr(w){return Ji(w)?kr(w):Hp(w)}function Ki(w){return Ji(w)?kr(w,!0):Gg(w)}function tO(w,A){var U={};return A=Wt(A,3),er(w,function(te,_e,Re){Mt(U,A(te,_e,Re),te)}),U}function nO(w,A){var U={};return A=Wt(A,3),er(w,function(te,_e,Re){Mt(U,_e,A(te,_e,Re))}),U}var rO=xh(function(w,A,U){mh(w,A,U)}),UM=xh(function(w,A,U,te){mh(w,A,U,te)}),iO=al(function(w,A){var U={};if(w==null)return U;var te=!1;A=jn(A,function(Re){return Re=kt(Re,w),te||(te=Re.length>1),Re}),nn(w,ix(w),U),te&&(U=ur(U,c|d|m,K5));for(var _e=A.length;_e--;)F(U,A[_e]);return U});function aO(w,A){return zM(w,sv(Wt(A)))}var oO=al(function(w,A){return w==null?{}:Vg(w,A)});function zM(w,A){if(w==null)return{};var U=jn(ix(w),function(te){return[te]});return A=Wt(A),vh(w,U,function(te,_e){return A(te,_e[0])})}function sO(w,A,U){A=kt(A,w);var te=-1,_e=A.length;for(_e||(_e=1,w=n);++te<_e;){var Re=w==null?n:w[us(A[te])];Re===n&&(te=_e,Re=U),w=sl(Re)?Re.call(w):Re}return w}function lO(w,A,U){return w==null?w:Ha(w,A,U)}function uO(w,A,U,te){return te=typeof te=="function"?te:n,w==null?w:Ha(w,A,U,te)}var GM=$E(Zr),HM=$E(Ki);function fO(w,A,U){var te=on(w),_e=te||uu(w)||Sh(w);if(A=Wt(A,4),U==null){var Re=w&&w.constructor;_e?U=te?new Re:[]:fr(w)?U=sl(Re)?Qs(gi(w)):{}:U={}}return(_e?un:er)(w,function(ze,Xe,tt){return A(U,ze,Xe,tt)}),U}function cO(w,A){return w==null?!0:F(w,A)}function hO(w,A,U){return w==null?w:$(w,A,xt(U))}function dO(w,A,U,te){return te=typeof te=="function"?te:n,w==null?w:$(w,A,xt(U),te)}function Eh(w){return w==null?[]:qc(w,Zr(w))}function pO(w){return w==null?[]:qc(w,Ki(w))}function mO(w,A,U){return U===n&&(U=A,A=n),U!==n&&(U=Va(U),U=U===U?U:0),A!==n&&(A=Va(A),A=A===A?A:0),wo(Va(w),A,U)}function gO(w,A,U){return A=ll(A),U===n?(U=A,A=0):U=ll(U),w=Va(w),Bg(w,A,U)}function vO(w,A,U){if(U&&typeof U!="boolean"&&Di(w,A,U)&&(A=U=n),U===n&&(typeof A=="boolean"?(U=A,A=n):typeof w=="boolean"&&(U=w,w=n)),w===n&&A===n?(w=0,A=1):(w=ll(w),A===n?(A=w,w=0):A=ll(A)),w>A){var te=w;w=A,A=te}if(U||w%1||A%1){var _e=Yl();return Yn(w+_e*(A-w+Lr("1e-"+((_e+"").length-1))),A)}return Zp(w,A)}var _O=wh(function(w,A,U){return A=A.toLowerCase(),w+(U?WM(A):A)});function WM(w){return xx(Bn(w).toLowerCase())}function VM(w){return w=Bn(w),w&&w.replace(pn,Ws).replace(zl,"")}function yO(w,A,U){w=Bn(w),A=S(A);var te=w.length;U=U===n?te:wo(ln(U),0,te);var _e=U;return U-=A.length,U>=0&&w.slice(U,_e)==A}function xO(w){return w=Bn(w),w&&He.test(w)?w.replace(qe,Ia):w}function wO(w){return w=Bn(w),w&&Te.test(w)?w.replace(q,"\\$&"):w}var bO=wh(function(w,A,U){return w+(U?"-":"")+A.toLowerCase()}),SO=wh(function(w,A,U){return w+(U?" ":"")+A.toLowerCase()}),EO=XE("toLowerCase");function MO(w,A,U){w=Bn(w),A=ln(A);var te=A?lr(w):0;if(!A||te>=A)return w;var _e=(A-te)/2;return Kg(Ef(_e),U)+w+Kg(Xs(_e),U)}function TO(w,A,U){w=Bn(w),A=ln(A);var te=A?lr(w):0;return A&&te<A?w+Kg(A-te,U):w}function AO(w,A,U){w=Bn(w),A=ln(A);var te=A?lr(w):0;return A&&te<A?Kg(A-te,U)+w:w}function CO(w,A,U){return U||A==null?A=0:A&&(A=+A),Mf(Bn(w).replace(je,""),A||0)}function RO(w,A,U){return(U?Di(w,A,U):A===n)?A=1:A=ln(A),kf(Bn(w),A)}function PO(){var w=arguments,A=Bn(w[0]);return w.length<3?A:A.replace(w[1],w[2])}var LO=wh(function(w,A,U){return w+(U?"_":"")+A.toLowerCase()});function IO(w,A,U){return U&&typeof U!="number"&&Di(w,A,U)&&(A=U=n),U=U===n?V:U>>>0,U?(w=Bn(w),w&&(typeof A=="string"||A!=null&&!vx(A))&&(A=S(A),!A&&$o(w))?St(Gn(w),0,U):w.split(A,U)):[]}var DO=wh(function(w,A,U){return w+(U?" ":"")+xx(A)});function OO(w,A,U){return w=Bn(w),U=U==null?0:wo(ln(U),0,w.length),A=S(A),w.slice(U,U+A.length)==A}function kO(w,A,U){var te=Ee.templateSettings;U&&Di(w,A,U)&&(A=n),w=Bn(w),A=fv({},A,te,eM);var _e=fv({},A.imports,te.imports,eM),Re=Zr(_e),ze=qc(_e,Re),Xe,tt,dt=0,pt=A.interpolate||Ut,mt="__p += '",Tt=Jc((A.escape||Ut).source+"|"+pt.source+"|"+(pt===lt?yt:Ut).source+"|"+(A.evaluate||Ut).source+"|$","g"),Nt="//# sourceURL="+(In.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fs+"]")+`
`;w.replace(Tt,function(Zt,mn,_n,ga,Oi,va){return _n||(_n=ga),mt+=w.slice(dt,va).replace(Rn,Sg),mn&&(Xe=!0,mt+=`' +
__e(`+mn+`) +
'`),Oi&&(tt=!0,mt+=`';
`+Oi+`;
__p += '`),_n&&(mt+=`' +
((__t = (`+_n+`)) == null ? '' : __t) +
'`),dt=va+Zt.length,Zt}),mt+=`';
`;var jt=In.call(A,"variable")&&A.variable;if(!jt)mt=`with (obj) {
`+mt+`
}
`;else if(it.test(jt))throw new en(a);mt=(tt?mt.replace(ot,""):mt).replace(X,"$1").replace(Ae,"$1;"),mt="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xe?", __e = _.escape":"")+(tt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var fn=ZM(function(){return xn(Re,Nt+"return "+mt).apply(n,ze)});if(fn.source=mt,gx(fn))throw fn;return fn}function FO(w){return Bn(w).toLowerCase()}function NO(w){return Bn(w).toUpperCase()}function BO(w,A,U){if(w=Bn(w),w&&(U||A===n))return Yc(w);if(!w||!(A=S(A)))return w;var te=Gn(w),_e=Gn(A),Re=Kn(te,_e),ze=mf(te,_e)+1;return St(te,Re,ze).join("")}function UO(w,A,U){if(w=Bn(w),w&&(U||A===n))return w.slice(0,_f(w)+1);if(!w||!(A=S(A)))return w;var te=Gn(w),_e=mf(te,Gn(A))+1;return St(te,0,_e).join("")}function zO(w,A,U){if(w=Bn(w),w&&(U||A===n))return w.replace(je,"");if(!w||!(A=S(A)))return w;var te=Gn(w),_e=Kn(te,Gn(A));return St(te,_e).join("")}function GO(w,A){var U=C,te=R;if(fr(A)){var _e="separator"in A?A.separator:_e;U="length"in A?ln(A.length):U,te="omission"in A?S(A.omission):te}w=Bn(w);var Re=w.length;if($o(w)){var ze=Gn(w);Re=ze.length}if(U>=Re)return w;var Xe=U-lr(te);if(Xe<1)return te;var tt=ze?St(ze,0,Xe).join(""):w.slice(0,Xe);if(_e===n)return tt+te;if(ze&&(Xe+=tt.length-Xe),vx(_e)){if(w.slice(Xe).search(_e)){var dt,pt=tt;for(_e.global||(_e=Jc(_e.source,Bn(Lt.exec(_e))+"g")),_e.lastIndex=0;dt=_e.exec(pt);)var mt=dt.index;tt=tt.slice(0,mt===n?Xe:mt)}}else if(w.indexOf(S(_e),Xe)!=Xe){var Tt=tt.lastIndexOf(_e);Tt>-1&&(tt=tt.slice(0,Tt))}return tt+te}function HO(w){return w=Bn(w),w&&De.test(w)?w.replace(Fe,yf):w}var WO=wh(function(w,A,U){return w+(U?" ":"")+A.toUpperCase()}),xx=XE("toUpperCase");function jM(w,A,U){return w=Bn(w),A=U?n:A,A===n?Mg(w)?wp(w):bg(w):w.match(A)||[]}var ZM=sn(function(w,A){try{return Mn(w,n,A)}catch(U){return gx(U)?U:new en(U)}}),VO=al(function(w,A){return un(A,function(U){U=us(U),Mt(w,U,px(w[U],w))}),w});function jO(w){var A=w==null?0:w.length,U=Wt();return w=A?jn(w,function(te){if(typeof te[1]!="function")throw new mi(i);return[U(te[0]),te[1]]}):[],sn(function(te){for(var _e=-1;++_e<A;){var Re=w[_e];if(Mn(Re[0],this,te))return Mn(Re[1],this,te)}})}function ZO(w){return as(ur(w,c))}function wx(w){return function(){return w}}function XO(w,A){return w==null||w!==w?A:w}var YO=qE(),qO=qE(!0);function $i(w){return w}function bx(w){return Ga(typeof w=="function"?w:ur(w,c))}function QO(w){return So(ur(w,c))}function JO(w,A){return Hg(w,ur(A,c))}var KO=sn(function(w,A){return function(U){return tl(U,w,A)}}),$O=sn(function(w,A){return function(U){return tl(w,U,A)}});function Sx(w,A,U){var te=Zr(A),_e=Yi(A,te);U==null&&!(fr(A)&&(_e.length||!te.length))&&(U=A,A=w,w=this,_e=Yi(A,Zr(A)));var Re=!(fr(U)&&"chain"in U)||!!U.chain,ze=sl(w);return un(_e,function(Xe){var tt=A[Xe];w[Xe]=tt,ze&&(w.prototype[Xe]=function(){var dt=this.__chain__;if(Re||dt){var pt=w(this.__wrapped__),mt=pt.__actions__=vn(this.__actions__);return mt.push({func:tt,args:arguments,thisArg:w}),pt.__chain__=dt,pt}return tt.apply(w,Vi([this.value()],arguments))})}),w}function ek(){return gn._===this&&(gn._=Ep),this}function Ex(){}function tk(w){return w=ln(w),sn(function(A){return Of(A,w)})}var nk=tx(jn),rk=tx(zs),ik=tx(Hl);function XM(w){return lx(w)?Vl(us(w)):jg(w)}function ak(w){return function(A){return w==null?n:za(w,A)}}var ok=JE(),sk=JE(!0);function Mx(){return[]}function Tx(){return!1}function lk(){return{}}function uk(){return""}function fk(){return!0}function ck(w,A){if(w=ln(w),w<1||w>H)return[];var U=V,te=Yn(w,V);A=Wt(A),w-=V;for(var _e=Ko(te,A);++U<w;)A(U);return _e}function hk(w){return on(w)?jn(w,us):ma(w)?[w]:vn(dM(Bn(w)))}function dk(w){var A=++bp;return Bn(w)+A}var pk=Jg(function(w,A){return w+A},0),mk=nx("ceil"),gk=Jg(function(w,A){return w/A},1),vk=nx("floor");function _k(w){return w&&w.length?au(w,$i,os):n}function yk(w,A){return w&&w.length?au(w,Wt(A,2),os):n}function xk(w){return yp(w,$i)}function wk(w,A){return yp(w,Wt(A,2))}function bk(w){return w&&w.length?au(w,$i,Wp):n}function Sk(w,A){return w&&w.length?au(w,Wt(A,2),Wp):n}var Ek=Jg(function(w,A){return w*A},1),Mk=nx("round"),Tk=Jg(function(w,A){return w-A},0);function Ak(w){return w&&w.length?Gs(w,$i):0}function Ck(w,A){return w&&w.length?Gs(w,Wt(A,2)):0}return Ee.after=QD,Ee.ary=EM,Ee.assign=N6,Ee.assignIn=BM,Ee.assignInWith=fv,Ee.assignWith=B6,Ee.at=U6,Ee.before=MM,Ee.bind=px,Ee.bindAll=VO,Ee.bindKey=TM,Ee.castArray=l6,Ee.chain=wM,Ee.chunk=vI,Ee.compact=_I,Ee.concat=yI,Ee.cond=jO,Ee.conforms=ZO,Ee.constant=wx,Ee.countBy=AD,Ee.create=z6,Ee.curry=AM,Ee.curryRight=CM,Ee.debounce=RM,Ee.defaults=G6,Ee.defaultsDeep=H6,Ee.defer=JD,Ee.delay=KD,Ee.difference=xI,Ee.differenceBy=wI,Ee.differenceWith=bI,Ee.drop=SI,Ee.dropRight=EI,Ee.dropRightWhile=MI,Ee.dropWhile=TI,Ee.fill=AI,Ee.filter=RD,Ee.flatMap=ID,Ee.flatMapDeep=DD,Ee.flatMapDepth=OD,Ee.flatten=vM,Ee.flattenDeep=CI,Ee.flattenDepth=RI,Ee.flip=$D,Ee.flow=YO,Ee.flowRight=qO,Ee.fromPairs=PI,Ee.functions=q6,Ee.functionsIn=Q6,Ee.groupBy=kD,Ee.initial=II,Ee.intersection=DI,Ee.intersectionBy=OI,Ee.intersectionWith=kI,Ee.invert=K6,Ee.invertBy=$6,Ee.invokeMap=ND,Ee.iteratee=bx,Ee.keyBy=BD,Ee.keys=Zr,Ee.keysIn=Ki,Ee.map=iv,Ee.mapKeys=tO,Ee.mapValues=nO,Ee.matches=QO,Ee.matchesProperty=JO,Ee.memoize=ov,Ee.merge=rO,Ee.mergeWith=UM,Ee.method=KO,Ee.methodOf=$O,Ee.mixin=Sx,Ee.negate=sv,Ee.nthArg=tk,Ee.omit=iO,Ee.omitBy=aO,Ee.once=e6,Ee.orderBy=UD,Ee.over=nk,Ee.overArgs=t6,Ee.overEvery=rk,Ee.overSome=ik,Ee.partial=mx,Ee.partialRight=PM,Ee.partition=zD,Ee.pick=oO,Ee.pickBy=zM,Ee.property=XM,Ee.propertyOf=ak,Ee.pull=UI,Ee.pullAll=yM,Ee.pullAllBy=zI,Ee.pullAllWith=GI,Ee.pullAt=HI,Ee.range=ok,Ee.rangeRight=sk,Ee.rearg=n6,Ee.reject=WD,Ee.remove=WI,Ee.rest=r6,Ee.reverse=hx,Ee.sampleSize=jD,Ee.set=lO,Ee.setWith=uO,Ee.shuffle=ZD,Ee.slice=VI,Ee.sortBy=qD,Ee.sortedUniq=JI,Ee.sortedUniqBy=KI,Ee.split=IO,Ee.spread=i6,Ee.tail=$I,Ee.take=eD,Ee.takeRight=tD,Ee.takeRightWhile=nD,Ee.takeWhile=rD,Ee.tap=_D,Ee.throttle=a6,Ee.thru=rv,Ee.toArray=kM,Ee.toPairs=GM,Ee.toPairsIn=HM,Ee.toPath=hk,Ee.toPlainObject=NM,Ee.transform=fO,Ee.unary=o6,Ee.union=iD,Ee.unionBy=aD,Ee.unionWith=oD,Ee.uniq=sD,Ee.uniqBy=lD,Ee.uniqWith=uD,Ee.unset=cO,Ee.unzip=dx,Ee.unzipWith=xM,Ee.update=hO,Ee.updateWith=dO,Ee.values=Eh,Ee.valuesIn=pO,Ee.without=fD,Ee.words=jM,Ee.wrap=s6,Ee.xor=cD,Ee.xorBy=hD,Ee.xorWith=dD,Ee.zip=pD,Ee.zipObject=mD,Ee.zipObjectDeep=gD,Ee.zipWith=vD,Ee.entries=GM,Ee.entriesIn=HM,Ee.extend=BM,Ee.extendWith=fv,Sx(Ee,Ee),Ee.add=pk,Ee.attempt=ZM,Ee.camelCase=_O,Ee.capitalize=WM,Ee.ceil=mk,Ee.clamp=mO,Ee.clone=u6,Ee.cloneDeep=c6,Ee.cloneDeepWith=h6,Ee.cloneWith=f6,Ee.conformsTo=d6,Ee.deburr=VM,Ee.defaultTo=XO,Ee.divide=gk,Ee.endsWith=yO,Ee.eq=Eo,Ee.escape=xO,Ee.escapeRegExp=wO,Ee.every=CD,Ee.find=PD,Ee.findIndex=mM,Ee.findKey=W6,Ee.findLast=LD,Ee.findLastIndex=gM,Ee.findLastKey=V6,Ee.floor=vk,Ee.forEach=bM,Ee.forEachRight=SM,Ee.forIn=j6,Ee.forInRight=Z6,Ee.forOwn=X6,Ee.forOwnRight=Y6,Ee.get=_x,Ee.gt=p6,Ee.gte=m6,Ee.has=J6,Ee.hasIn=yx,Ee.head=_M,Ee.identity=$i,Ee.includes=FD,Ee.indexOf=LI,Ee.inRange=gO,Ee.invoke=eO,Ee.isArguments=Uf,Ee.isArray=on,Ee.isArrayBuffer=g6,Ee.isArrayLike=Ji,Ee.isArrayLikeObject=Mr,Ee.isBoolean=v6,Ee.isBuffer=uu,Ee.isDate=_6,Ee.isElement=y6,Ee.isEmpty=x6,Ee.isEqual=w6,Ee.isEqualWith=b6,Ee.isError=gx,Ee.isFinite=S6,Ee.isFunction=sl,Ee.isInteger=LM,Ee.isLength=lv,Ee.isMap=IM,Ee.isMatch=E6,Ee.isMatchWith=M6,Ee.isNaN=T6,Ee.isNative=A6,Ee.isNil=R6,Ee.isNull=C6,Ee.isNumber=DM,Ee.isObject=fr,Ee.isObjectLike=vr,Ee.isPlainObject=Kp,Ee.isRegExp=vx,Ee.isSafeInteger=P6,Ee.isSet=OM,Ee.isString=uv,Ee.isSymbol=ma,Ee.isTypedArray=Sh,Ee.isUndefined=L6,Ee.isWeakMap=I6,Ee.isWeakSet=D6,Ee.join=FI,Ee.kebabCase=bO,Ee.last=Wa,Ee.lastIndexOf=NI,Ee.lowerCase=SO,Ee.lowerFirst=EO,Ee.lt=O6,Ee.lte=k6,Ee.max=_k,Ee.maxBy=yk,Ee.mean=xk,Ee.meanBy=wk,Ee.min=bk,Ee.minBy=Sk,Ee.stubArray=Mx,Ee.stubFalse=Tx,Ee.stubObject=lk,Ee.stubString=uk,Ee.stubTrue=fk,Ee.multiply=Ek,Ee.nth=BI,Ee.noConflict=ek,Ee.noop=Ex,Ee.now=av,Ee.pad=MO,Ee.padEnd=TO,Ee.padStart=AO,Ee.parseInt=CO,Ee.random=vO,Ee.reduce=GD,Ee.reduceRight=HD,Ee.repeat=RO,Ee.replace=PO,Ee.result=sO,Ee.round=Mk,Ee.runInContext=Je,Ee.sample=VD,Ee.size=XD,Ee.snakeCase=LO,Ee.some=YD,Ee.sortedIndex=jI,Ee.sortedIndexBy=ZI,Ee.sortedIndexOf=XI,Ee.sortedLastIndex=YI,Ee.sortedLastIndexBy=qI,Ee.sortedLastIndexOf=QI,Ee.startCase=DO,Ee.startsWith=OO,Ee.subtract=Tk,Ee.sum=Ak,Ee.sumBy=Ck,Ee.template=kO,Ee.times=ck,Ee.toFinite=ll,Ee.toInteger=ln,Ee.toLength=FM,Ee.toLower=FO,Ee.toNumber=Va,Ee.toSafeInteger=F6,Ee.toString=Bn,Ee.toUpper=NO,Ee.trim=BO,Ee.trimEnd=UO,Ee.trimStart=zO,Ee.truncate=GO,Ee.unescape=HO,Ee.uniqueId=dk,Ee.upperCase=WO,Ee.upperFirst=xx,Ee.each=bM,Ee.eachRight=SM,Ee.first=_M,Sx(Ee,function(){var w={};return er(Ee,function(A,U){In.call(Ee.prototype,U)||(w[U]=A)}),w}(),{chain:!1}),Ee.VERSION=e,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(w){Ee[w].placeholder=Ee}),un(["drop","take"],function(w,A){hn.prototype[w]=function(U){U=U===n?1:mr(ln(U),0);var te=this.__filtered__&&!A?new hn(this):this.clone();return te.__filtered__?te.__takeCount__=Yn(U,te.__takeCount__):te.__views__.push({size:Yn(U,V),type:w+(te.__dir__<0?"Right":"")}),te},hn.prototype[w+"Right"]=function(U){return this.reverse()[w](U).reverse()}}),un(["filter","map","takeWhile"],function(w,A){var U=A+1,te=U==k||U==N;hn.prototype[w]=function(_e){var Re=this.clone();return Re.__iteratees__.push({iteratee:Wt(_e,3),type:U}),Re.__filtered__=Re.__filtered__||te,Re}}),un(["head","last"],function(w,A){var U="take"+(A?"Right":"");hn.prototype[w]=function(){return this[U](1).value()[0]}}),un(["initial","tail"],function(w,A){var U="drop"+(A?"":"Right");hn.prototype[w]=function(){return this.__filtered__?new hn(this):this[U](1)}}),hn.prototype.compact=function(){return this.filter($i)},hn.prototype.find=function(w){return this.filter(w).head()},hn.prototype.findLast=function(w){return this.reverse().find(w)},hn.prototype.invokeMap=sn(function(w,A){return typeof w=="function"?new hn(this):this.map(function(U){return tl(U,w,A)})}),hn.prototype.reject=function(w){return this.filter(sv(Wt(w)))},hn.prototype.slice=function(w,A){w=ln(w);var U=this;return U.__filtered__&&(w>0||A<0)?new hn(U):(w<0?U=U.takeRight(-w):w&&(U=U.drop(w)),A!==n&&(A=ln(A),U=A<0?U.dropRight(-A):U.take(A-w)),U)},hn.prototype.takeRightWhile=function(w){return this.reverse().takeWhile(w).reverse()},hn.prototype.toArray=function(){return this.take(V)},er(hn.prototype,function(w,A){var U=/^(?:filter|find|map|reject)|While$/.test(A),te=/^(?:head|last)$/.test(A),_e=Ee[te?"take"+(A=="last"?"Right":""):A],Re=te||/^find/.test(A);!_e||(Ee.prototype[A]=function(){var ze=this.__wrapped__,Xe=te?[1]:arguments,tt=ze instanceof hn,dt=Xe[0],pt=tt||on(ze),mt=function(mn){var _n=_e.apply(Ee,Vi([mn],Xe));return te&&Tt?_n[0]:_n};pt&&U&&typeof dt=="function"&&dt.length!=1&&(tt=pt=!1);var Tt=this.__chain__,Nt=!!this.__actions__.length,jt=Re&&!Tt,fn=tt&&!Nt;if(!Re&&pt){ze=fn?ze:new hn(this);var Zt=w.apply(ze,Xe);return Zt.__actions__.push({func:rv,args:[mt],thisArg:n}),new Ii(Zt,Tt)}return jt&&fn?w.apply(this,Xe):(Zt=this.thru(mt),jt?te?Zt.value()[0]:Zt.value():Zt)})}),un(["pop","push","shift","sort","splice","unshift"],function(w){var A=Zl[w],U=/^(?:push|sort|unshift)$/.test(w)?"tap":"thru",te=/^(?:pop|shift)$/.test(w);Ee.prototype[w]=function(){var _e=arguments;if(te&&!this.__chain__){var Re=this.value();return A.apply(on(Re)?Re:[],_e)}return this[U](function(ze){return A.apply(on(ze)?ze:[],_e)})}}),er(hn.prototype,function(w,A){var U=Ee[A];if(U){var te=U.name+"";In.call($l,te)||($l[te]=[]),$l[te].push({name:A,func:U})}}),$l[Qg(n,v).name]=[{name:"wrapper",func:n}],hn.prototype.clone=Lp,hn.prototype.reverse=Ip,hn.prototype.value=kg,Ee.prototype.at=yD,Ee.prototype.chain=xD,Ee.prototype.commit=wD,Ee.prototype.next=bD,Ee.prototype.plant=ED,Ee.prototype.reverse=MD,Ee.prototype.toJSON=Ee.prototype.valueOf=Ee.prototype.value=TD,Ee.prototype.first=Ee.prototype.head,Zs&&(Ee.prototype[Zs]=SD),Ee},pi=js();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(gn._=pi,define(function(){return pi})):Li?((Li.exports=pi)._=pi,mo._=pi):gn._=pi}).call(vp)});var G5=ea((z5,HE)=>{(function(){"use strict";var n=Math.PI,e=Math.sin,t=Math.cos,r=Math.tan,i=Math.asin,a=Math.atan2,o=Math.acos,s=n/180,l=1e3*60*60*24,c=2440588,d=2451545;function m(z){return z.valueOf()/l-.5+c}function f(z){return new Date((z+.5-c)*l)}function h(z){return m(z)-d}var u=s*23.4397;function v(z,V){return a(e(z)*t(u)-r(V)*e(u),t(z))}function y(z,V){return i(e(V)*t(u)+t(V)*e(u)*e(z))}function p(z,V,J){return a(e(z),t(z)*e(V)-r(J)*t(V))}function g(z,V,J){return i(e(V)*e(J)+t(V)*t(J)*t(z))}function _(z,V){return s*(280.16+360.9856235*z)-V}function x(z){return z<0&&(z=0),2967e-7/Math.tan(z+.00312536/(z+.08901179))}function b(z){return s*(357.5291+.98560028*z)}function M(z){var V=s*(1.9148*e(z)+.02*e(2*z)+3e-4*e(3*z)),J=s*102.9372;return z+V+J+n}function E(z){var V=b(z),J=M(V);return{dec:y(J,0),ra:v(J,0)}}var C={};C.getPosition=function(z,V,J){var ne=s*-J,le=s*V,ue=h(z),K=E(ue),ae=_(ue,ne)-K.ra;return{azimuth:p(ae,le,K.dec),altitude:g(ae,le,K.dec)}};var R=C.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];C.addTime=function(z,V,J){R.push([z,V,J])};var I=9e-4;function O(z,V){return Math.round(z-I-V/(2*n))}function k(z,V,J){return I+(z+V)/(2*n)+J}function G(z,V,J){return d+z+.0053*e(V)-.0069*e(2*J)}function N(z,V,J){return o((e(z)-e(V)*e(J))/(t(V)*t(J)))}function Z(z,V,J,ne,le,ue,K){var ae=N(z,J,ne),se=k(ae,V,le);return G(se,ue,K)}C.getTimes=function(z,V,J){var ne=s*-J,le=s*V,ue=h(z),K=O(ue,ne),ae=k(0,ne,K),se=b(ae),fe=M(se),he=y(fe,0),we=G(ae,se,fe),xe,Ie,ge,Oe,me,pe={solarNoon:f(we),nadir:f(we-.5)};for(xe=0,Ie=R.length;xe<Ie;xe+=1)ge=R[xe],Oe=Z(ge[0]*s,ne,le,he,K,se,fe),me=we-(Oe-we),pe[ge[1]]=f(me),pe[ge[2]]=f(Oe);return pe};function H(z){var V=s*(218.316+13.176396*z),J=s*(134.963+13.064993*z),ne=s*(93.272+13.22935*z),le=V+s*6.289*e(J),ue=s*5.128*e(ne),K=385001-20905*t(J);return{ra:v(le,ue),dec:y(le,ue),dist:K}}C.getMoonPosition=function(z,V,J){var ne=s*-J,le=s*V,ue=h(z),K=H(ue),ae=_(ue,ne)-K.ra,se=g(ae,le,K.dec),fe=a(e(ae),r(le)*t(K.dec)-e(K.dec)*t(ae));return se=se+x(se),{azimuth:p(ae,le,K.dec),altitude:se,distance:K.dist,parallacticAngle:fe}},C.getMoonIllumination=function(z){var V=h(z||new Date),J=E(V),ne=H(V),le=149598e3,ue=o(e(J.dec)*e(ne.dec)+t(J.dec)*t(ne.dec)*t(J.ra-ne.ra)),K=a(le*e(ue),ne.dist-le*t(ue)),ae=a(t(J.dec)*e(J.ra-ne.ra),e(J.dec)*t(ne.dec)-t(J.dec)*e(ne.dec)*t(J.ra-ne.ra));return{fraction:(1+t(K))/2,phase:.5+.5*K*(ae<0?-1:1)/Math.PI,angle:ae}};function j(z,V){return new Date(z.valueOf()+V*l/24)}C.getMoonTimes=function(z,V,J,ne){var le=new Date(z);ne?le.setUTCHours(0,0,0,0):le.setHours(0,0,0,0);for(var ue=.133*s,K=C.getMoonPosition(le,V,J).altitude-ue,ae,se,fe,he,we,xe,Ie,ge,Oe,me,pe,re,ie,Y=1;Y<=24&&(ae=C.getMoonPosition(j(le,Y),V,J).altitude-ue,se=C.getMoonPosition(j(le,Y+1),V,J).altitude-ue,we=(K+se)/2-ae,xe=(se-K)/2,Ie=-xe/(2*we),ge=(we*Ie+xe)*Ie+ae,Oe=xe*xe-4*we*ae,me=0,Oe>=0&&(ie=Math.sqrt(Oe)/(Math.abs(we)*2),pe=Ie-ie,re=Ie+ie,Math.abs(pe)<=1&&me++,Math.abs(re)<=1&&me++,pe<-1&&(pe=re)),me===1?K<0?fe=Y+pe:he=Y+pe:me===2&&(fe=Y+(ge<0?re:pe),he=Y+(ge<0?pe:re)),!(fe&&he));Y+=2)K=se;var ee={};return fe&&(ee.rise=j(le,fe)),he&&(ee.set=j(le,he)),!fe&&!he&&(ee[ge>0?"alwaysUp":"alwaysDown"]=!0),ee},typeof z5=="object"&&typeof HE!="undefined"?HE.exports=C:typeof define=="function"&&define.amd?define(C):window.SunCalc=C})()});var W5=ea((H5,WE)=>{if((typeof Gt=="undefined"||!Gt)&&typeof self!="undefined")var Gt=self;(function(n){if(typeof H5=="object"&&typeof WE!="undefined")WE.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var e;typeof Gt!="undefined"?e=Gt:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.jimp=n()}})(function(){var n,e,t;return function(){function r(i,a,o){function s(d,m){if(!a[d]){if(!i[d]){var f=typeof $p=="function"&&$p;if(!m&&f)return f(d,!0);if(l)return l(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var u=a[d]={exports:{}};i[d][0].call(u.exports,function(v){var y=i[d][1][v];return s(y||v)},u,u.exports,r,i,a,o)}return a[d].exports}for(var l=typeof $p=="function"&&$p,c=0;c<o.length;c++)s(o[c]);return s}return r}()({1:[function(r,i,a){function o(s){if(Array.isArray(s))return s}i.exports=o},{}],2:[function(r,i,a){function o(s){if(Array.isArray(s)){for(var l=0,c=new Array(s.length);l<s.length;l++)c[l]=s[l];return c}}i.exports=o},{}],3:[function(r,i,a){function o(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}i.exports=o},{}],4:[function(r,i,a){function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}i.exports=o},{}],5:[function(r,i,a){var o=r("./setPrototypeOf");function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(c,d,m){return s()?i.exports=l=Reflect.construct:i.exports=l=function(h,u,v){var y=[null];y.push.apply(y,u);var p=Function.bind.apply(h,y),g=new p;return v&&o(g,v.prototype),g},l.apply(null,arguments)}i.exports=l},{"./setPrototypeOf":18}],6:[function(r,i,a){function o(l,c){for(var d=0;d<c.length;d++){var m=c[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}function s(l,c,d){return c&&o(l.prototype,c),d&&o(l,d),l}i.exports=s},{}],7:[function(r,i,a){function o(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}i.exports=o},{}],8:[function(r,i,a){function o(){return i.exports=o=Object.assign||function(s){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},o.apply(this,arguments)}i.exports=o},{}],9:[function(r,i,a){function o(s){return i.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},o(s)}i.exports=o},{}],10:[function(r,i,a){var o=r("./setPrototypeOf");function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&o(l,c)}i.exports=s},{"./setPrototypeOf":18}],11:[function(r,i,a){function o(s){return s&&s.__esModule?s:{default:s}}i.exports=o},{}],12:[function(r,i,a){var o=r("../helpers/typeof");function s(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return s=function(){return c},c}function l(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var d=s();if(d&&d.has(c))return d.get(c);var m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var u=f?Object.getOwnPropertyDescriptor(c,h):null;u&&(u.get||u.set)?Object.defineProperty(m,h,u):m[h]=c[h]}return m.default=c,d&&d.set(c,m),m}i.exports=l},{"../helpers/typeof":21}],13:[function(r,i,a){function o(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}i.exports=o},{}],14:[function(r,i,a){function o(s,l){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]"){var c=[],d=!0,m=!1,f=void 0;try{for(var h=s[Symbol.iterator](),u;!(d=(u=h.next()).done)&&(c.push(u.value),!(l&&c.length===l));d=!0);}catch(v){m=!0,f=v}finally{try{!d&&h.return!=null&&h.return()}finally{if(m)throw f}}return c}}i.exports=o},{}],15:[function(r,i,a){function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i.exports=o},{}],16:[function(r,i,a){function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i.exports=o},{}],17:[function(r,i,a){var o=r("../helpers/typeof"),s=r("./assertThisInitialized");function l(c,d){return d&&(o(d)==="object"||typeof d=="function")?d:s(c)}i.exports=l},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(r,i,a){function o(s,l){return i.exports=o=Object.setPrototypeOf||function(d,m){return d.__proto__=m,d},o(s,l)}i.exports=o},{}],19:[function(r,i,a){var o=r("./arrayWithHoles"),s=r("./iterableToArrayLimit"),l=r("./nonIterableRest");function c(d,m){return o(d)||s(d,m)||l()}i.exports=c},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(r,i,a){var o=r("./arrayWithoutHoles"),s=r("./iterableToArray"),l=r("./nonIterableSpread");function c(d){return o(d)||s(d)||l()}i.exports=c},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(r,i,a){function o(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(d){return typeof d}:o=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o(l)}function s(l){return typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?i.exports=s=function(d){return o(d)}:i.exports=s=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)},s(l)}i.exports=s},{}],22:[function(r,i,a){i.exports=r("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(r,i,a){var o=r("./src/converter");function s(l,c){var d=new o(l,c);return function(m){return d.convert(m)}}s.BIN="01",s.OCT="01234567",s.DEC="0123456789",s.HEX="0123456789abcdef",i.exports=s},{"./src/converter":24}],24:[function(r,i,a){"use strict";function o(s,l){if(!s||!l||!s.length||!l.length)throw new Error("Bad alphabet");this.srcAlphabet=s,this.dstAlphabet=l}o.prototype.convert=function(s){var l,c,d,m={},f=this.srcAlphabet.length,h=this.dstAlphabet.length,u=s.length,v=typeof s=="string"?"":[];if(!this.isValid(s))throw new Error('Number "'+s+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return s;for(l=0;l<u;l++)m[l]=this.srcAlphabet.indexOf(s[l]);do{for(c=0,d=0,l=0;l<u;l++)c=c*f+m[l],c>=h?(m[d++]=parseInt(c/h,10),c=c%h):d>0&&(m[d++]=0);u=d,v=this.dstAlphabet.slice(c,c+1).concat(v)}while(d!==0);return v},o.prototype.isValid=function(s){for(var l=0;l<s.length;++l)if(this.srcAlphabet.indexOf(s[l])===-1)return!1;return!0},i.exports=o},{}],25:[function(r,i,a){(function(o){"use strict";var s=r("object-assign");function l(j,z){if(j===z)return 0;for(var V=j.length,J=z.length,ne=0,le=Math.min(V,J);ne<le;++ne)if(j[ne]!==z[ne]){V=j[ne],J=z[ne];break}return V<J?-1:J<V?1:0}function c(j){return o.Buffer&&typeof o.Buffer.isBuffer=="function"?o.Buffer.isBuffer(j):!!(j!=null&&j._isBuffer)}var d=r("util/"),m=Object.prototype.hasOwnProperty,f=Array.prototype.slice,h=function(){return function(){}.name==="foo"}();function u(j){return Object.prototype.toString.call(j)}function v(j){return c(j)||typeof o.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(j):j?!!(j instanceof DataView||j.buffer&&j.buffer instanceof ArrayBuffer):!1}var y=i.exports=E,p=/\s*function\s+([^\(\s]*)\s*/;function g(j){if(!!d.isFunction(j)){if(h)return j.name;var z=j.toString(),V=z.match(p);return V&&V[1]}}y.AssertionError=function(z){this.name="AssertionError",this.actual=z.actual,this.expected=z.expected,this.operator=z.operator,z.message?(this.message=z.message,this.generatedMessage=!1):(this.message=b(this),this.generatedMessage=!0);var V=z.stackStartFunction||M;if(Error.captureStackTrace)Error.captureStackTrace(this,V);else{var J=new Error;if(J.stack){var ne=J.stack,le=g(V),ue=ne.indexOf(`
`+le);if(ue>=0){var K=ne.indexOf(`
`,ue+1);ne=ne.substring(K+1)}this.stack=ne}}},d.inherits(y.AssertionError,Error);function _(j,z){return typeof j=="string"?j.length<z?j:j.slice(0,z):j}function x(j){if(h||!d.isFunction(j))return d.inspect(j);var z=g(j),V=z?": "+z:"";return"[Function"+V+"]"}function b(j){return _(x(j.actual),128)+" "+j.operator+" "+_(x(j.expected),128)}function M(j,z,V,J,ne){throw new y.AssertionError({message:V,actual:j,expected:z,operator:J,stackStartFunction:ne})}y.fail=M;function E(j,z){j||M(j,!0,z,"==",y.ok)}y.ok=E,y.equal=function(z,V,J){z!=V&&M(z,V,J,"==",y.equal)},y.notEqual=function(z,V,J){z==V&&M(z,V,J,"!=",y.notEqual)},y.deepEqual=function(z,V,J){C(z,V,!1)||M(z,V,J,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(z,V,J){C(z,V,!0)||M(z,V,J,"deepStrictEqual",y.deepStrictEqual)};function C(j,z,V,J){if(j===z)return!0;if(c(j)&&c(z))return l(j,z)===0;if(d.isDate(j)&&d.isDate(z))return j.getTime()===z.getTime();if(d.isRegExp(j)&&d.isRegExp(z))return j.source===z.source&&j.global===z.global&&j.multiline===z.multiline&&j.lastIndex===z.lastIndex&&j.ignoreCase===z.ignoreCase;if((j===null||typeof j!="object")&&(z===null||typeof z!="object"))return V?j===z:j==z;if(v(j)&&v(z)&&u(j)===u(z)&&!(j instanceof Float32Array||j instanceof Float64Array))return l(new Uint8Array(j.buffer),new Uint8Array(z.buffer))===0;if(c(j)!==c(z))return!1;J=J||{actual:[],expected:[]};var ne=J.actual.indexOf(j);return ne!==-1&&ne===J.expected.indexOf(z)?!0:(J.actual.push(j),J.expected.push(z),I(j,z,V,J))}function R(j){return Object.prototype.toString.call(j)=="[object Arguments]"}function I(j,z,V,J){if(j==null||z===null||z===void 0)return!1;if(d.isPrimitive(j)||d.isPrimitive(z))return j===z;if(V&&Object.getPrototypeOf(j)!==Object.getPrototypeOf(z))return!1;var ne=R(j),le=R(z);if(ne&&!le||!ne&&le)return!1;if(ne)return j=f.call(j),z=f.call(z),C(j,z,V);var ue=H(j),K=H(z),ae,se;if(ue.length!==K.length)return!1;for(ue.sort(),K.sort(),se=ue.length-1;se>=0;se--)if(ue[se]!==K[se])return!1;for(se=ue.length-1;se>=0;se--)if(ae=ue[se],!C(j[ae],z[ae],V,J))return!1;return!0}y.notDeepEqual=function(z,V,J){C(z,V,!1)&&M(z,V,J,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=O;function O(j,z,V){C(j,z,!0)&&M(j,z,V,"notDeepStrictEqual",O)}y.strictEqual=function(z,V,J){z!==V&&M(z,V,J,"===",y.strictEqual)},y.notStrictEqual=function(z,V,J){z===V&&M(z,V,J,"!==",y.notStrictEqual)};function k(j,z){if(!j||!z)return!1;if(Object.prototype.toString.call(z)=="[object RegExp]")return z.test(j);try{if(j instanceof z)return!0}catch{}return Error.isPrototypeOf(z)?!1:z.call({},j)===!0}function G(j){var z;try{j()}catch(V){z=V}return z}function N(j,z,V,J){var ne;if(typeof z!="function")throw new TypeError('"block" argument must be a function');typeof V=="string"&&(J=V,V=null),ne=G(z),J=(V&&V.name?" ("+V.name+").":".")+(J?" "+J:"."),j&&!ne&&M(ne,V,"Missing expected exception"+J);var le=typeof J=="string",ue=!j&&d.isError(ne),K=!j&&ne&&!V;if((ue&&le&&k(ne,V)||K)&&M(ne,V,"Got unwanted exception"+J),j&&ne&&V&&!k(ne,V)||!j&&ne)throw ne}y.throws=function(j,z,V){N(!0,j,z,V)},y.doesNotThrow=function(j,z,V){N(!1,j,z,V)},y.ifError=function(j){if(j)throw j};function Z(j,z){j||M(j,!0,z,"==",Z)}y.strict=s(Z,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict;var H=Object.keys||function(j){var z=[];for(var V in j)m.call(j,V)&&z.push(V);return z}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"object-assign":84,"util/":28}],26:[function(r,i,a){typeof Object.create=="function"?i.exports=function(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,l){s.super_=l;var c=function(){};c.prototype=l.prototype,s.prototype=new c,s.prototype.constructor=s}},{}],27:[function(r,i,a){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],28:[function(r,i,a){(function(o,s){var l=/%[sdj%]/g;a.format=function(K){if(!I(K)){for(var ae=[],se=0;se<arguments.length;se++)ae.push(m(arguments[se]));return ae.join(" ")}for(var se=1,fe=arguments,he=fe.length,we=String(K).replace(l,function(Ie){if(Ie==="%%")return"%";if(se>=he)return Ie;switch(Ie){case"%s":return String(fe[se++]);case"%d":return Number(fe[se++]);case"%j":try{return JSON.stringify(fe[se++])}catch{return"[Circular]"}default:return Ie}}),xe=fe[se];se<he;xe=fe[++se])E(xe)||!N(xe)?we+=" "+xe:we+=" "+m(xe);return we},a.deprecate=function(K,ae){if(k(s.process))return function(){return a.deprecate(K,ae).apply(this,arguments)};if(o.noDeprecation===!0)return K;var se=!1;function fe(){if(!se){if(o.throwDeprecation)throw new Error(ae);o.traceDeprecation?console.trace(ae):console.error(ae),se=!0}return K.apply(this,arguments)}return fe};var c={},d;a.debuglog=function(K){if(k(d)&&(d=o.env.NODE_DEBUG||""),K=K.toUpperCase(),!c[K])if(new RegExp("\\b"+K+"\\b","i").test(d)){var ae=o.pid;c[K]=function(){var se=a.format.apply(a,arguments);console.error("%s %d: %s",K,ae,se)}}else c[K]=function(){};return c[K]};function m(K,ae){var se={seen:[],stylize:h};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),M(ae)?se.showHidden=ae:ae&&a._extend(se,ae),k(se.showHidden)&&(se.showHidden=!1),k(se.depth)&&(se.depth=2),k(se.colors)&&(se.colors=!1),k(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=f),v(se,K,se.depth)}a.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(K,ae){var se=m.styles[ae];return se?"["+m.colors[se][0]+"m"+K+"["+m.colors[se][1]+"m":K}function h(K,ae){return K}function u(K){var ae={};return K.forEach(function(se,fe){ae[se]=!0}),ae}function v(K,ae,se){if(K.customInspect&&ae&&j(ae.inspect)&&ae.inspect!==a.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var fe=ae.inspect(se,K);return I(fe)||(fe=v(K,fe,se)),fe}var he=y(K,ae);if(he)return he;var we=Object.keys(ae),xe=u(we);if(K.showHidden&&(we=Object.getOwnPropertyNames(ae)),H(ae)&&(we.indexOf("message")>=0||we.indexOf("description")>=0))return p(ae);if(we.length===0){if(j(ae)){var Ie=ae.name?": "+ae.name:"";return K.stylize("[Function"+Ie+"]","special")}if(G(ae))return K.stylize(RegExp.prototype.toString.call(ae),"regexp");if(Z(ae))return K.stylize(Date.prototype.toString.call(ae),"date");if(H(ae))return p(ae)}var ge="",Oe=!1,me=["{","}"];if(b(ae)&&(Oe=!0,me=["[","]"]),j(ae)){var pe=ae.name?": "+ae.name:"";ge=" [Function"+pe+"]"}if(G(ae)&&(ge=" "+RegExp.prototype.toString.call(ae)),Z(ae)&&(ge=" "+Date.prototype.toUTCString.call(ae)),H(ae)&&(ge=" "+p(ae)),we.length===0&&(!Oe||ae.length==0))return me[0]+ge+me[1];if(se<0)return G(ae)?K.stylize(RegExp.prototype.toString.call(ae),"regexp"):K.stylize("[Object]","special");K.seen.push(ae);var re;return Oe?re=g(K,ae,se,xe,we):re=we.map(function(ie){return _(K,ae,se,xe,ie,Oe)}),K.seen.pop(),x(re,ge,me)}function y(K,ae){if(k(ae))return K.stylize("undefined","undefined");if(I(ae)){var se="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(se,"string")}if(R(ae))return K.stylize(""+ae,"number");if(M(ae))return K.stylize(""+ae,"boolean");if(E(ae))return K.stylize("null","null")}function p(K){return"["+Error.prototype.toString.call(K)+"]"}function g(K,ae,se,fe,he){for(var we=[],xe=0,Ie=ae.length;xe<Ie;++xe)ue(ae,String(xe))?we.push(_(K,ae,se,fe,String(xe),!0)):we.push("");return he.forEach(function(ge){ge.match(/^\d+$/)||we.push(_(K,ae,se,fe,ge,!0))}),we}function _(K,ae,se,fe,he,we){var xe,Ie,ge;if(ge=Object.getOwnPropertyDescriptor(ae,he)||{value:ae[he]},ge.get?ge.set?Ie=K.stylize("[Getter/Setter]","special"):Ie=K.stylize("[Getter]","special"):ge.set&&(Ie=K.stylize("[Setter]","special")),ue(fe,he)||(xe="["+he+"]"),Ie||(K.seen.indexOf(ge.value)<0?(E(se)?Ie=v(K,ge.value,null):Ie=v(K,ge.value,se-1),Ie.indexOf(`
`)>-1&&(we?Ie=Ie.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).substr(2):Ie=`
`+Ie.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`))):Ie=K.stylize("[Circular]","special")),k(xe)){if(we&&he.match(/^\d+$/))return Ie;xe=JSON.stringify(""+he),xe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.substr(1,xe.length-2),xe=K.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=K.stylize(xe,"string"))}return xe+": "+Ie}function x(K,ae,se){var fe=0,he=K.reduce(function(we,xe){return fe++,xe.indexOf(`
`)>=0&&fe++,we+xe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?se[0]+(ae===""?"":ae+`
 `)+" "+K.join(`,
  `)+" "+se[1]:se[0]+ae+" "+K.join(", ")+" "+se[1]}function b(K){return Array.isArray(K)}a.isArray=b;function M(K){return typeof K=="boolean"}a.isBoolean=M;function E(K){return K===null}a.isNull=E;function C(K){return K==null}a.isNullOrUndefined=C;function R(K){return typeof K=="number"}a.isNumber=R;function I(K){return typeof K=="string"}a.isString=I;function O(K){return typeof K=="symbol"}a.isSymbol=O;function k(K){return K===void 0}a.isUndefined=k;function G(K){return N(K)&&V(K)==="[object RegExp]"}a.isRegExp=G;function N(K){return typeof K=="object"&&K!==null}a.isObject=N;function Z(K){return N(K)&&V(K)==="[object Date]"}a.isDate=Z;function H(K){return N(K)&&(V(K)==="[object Error]"||K instanceof Error)}a.isError=H;function j(K){return typeof K=="function"}a.isFunction=j;function z(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K=="undefined"}a.isPrimitive=z,a.isBuffer=r("./support/isBuffer");function V(K){return Object.prototype.toString.call(K)}function J(K){return K<10?"0"+K.toString(10):K.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var K=new Date,ae=[J(K.getHours()),J(K.getMinutes()),J(K.getSeconds())].join(":");return[K.getDate(),ne[K.getMonth()],ae].join(" ")}a.log=function(){console.log("%s - %s",le(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function(K,ae){if(!ae||!N(ae))return K;for(var se=Object.keys(ae),fe=se.length;fe--;)K[se[fe]]=ae[se[fe]];return K};function ue(K,ae){return Object.prototype.hasOwnProperty.call(K,ae)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(r,i,a){"use strict";a.byteLength=h,a.toByteArray=v,a.fromByteArray=g;for(var o=[],s=[],l=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=c.length;d<m;++d)o[d]=c[d],s[c.charCodeAt(d)]=d;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;function f(_){var x=_.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=_.indexOf("=");b===-1&&(b=x);var M=b===x?0:4-b%4;return[b,M]}function h(_){var x=f(_),b=x[0],M=x[1];return(b+M)*3/4-M}function u(_,x,b){return(x+b)*3/4-b}function v(_){var x,b=f(_),M=b[0],E=b[1],C=new l(u(_,M,E)),R=0,I=E>0?M-4:M,O;for(O=0;O<I;O+=4)x=s[_.charCodeAt(O)]<<18|s[_.charCodeAt(O+1)]<<12|s[_.charCodeAt(O+2)]<<6|s[_.charCodeAt(O+3)],C[R++]=x>>16&255,C[R++]=x>>8&255,C[R++]=x&255;return E===2&&(x=s[_.charCodeAt(O)]<<2|s[_.charCodeAt(O+1)]>>4,C[R++]=x&255),E===1&&(x=s[_.charCodeAt(O)]<<10|s[_.charCodeAt(O+1)]<<4|s[_.charCodeAt(O+2)]>>2,C[R++]=x>>8&255,C[R++]=x&255),C}function y(_){return o[_>>18&63]+o[_>>12&63]+o[_>>6&63]+o[_&63]}function p(_,x,b){for(var M,E=[],C=x;C<b;C+=3)M=(_[C]<<16&16711680)+(_[C+1]<<8&65280)+(_[C+2]&255),E.push(y(M));return E.join("")}function g(_){for(var x,b=_.length,M=b%3,E=[],C=16383,R=0,I=b-M;R<I;R+=C)E.push(p(_,R,R+C>I?I:R+C));return M===1?(x=_[b-1],E.push(o[x>>2]+o[x<<4&63]+"==")):M===2&&(x=(_[b-2]<<8)+_[b-1],E.push(o[x>>10]+o[x>>4&63]+o[x<<2&63]+"=")),E.join("")}},{}],30:[function(r,i,a){var o=r("./lib/encoder"),s=r("./lib/decoder");i.exports={encode:o,decode:s}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(r,i,a){(function(o){function s(l,c){if(this.pos=0,this.buffer=l,this.is_with_alpha=!!c,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}s.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var l=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(l);for(var c=0;c<l;c++){var d=this.buffer.readUInt8(this.pos++),m=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++);this.palette[c]={red:f,green:m,blue:d,quad:h}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},s.prototype.parseRGBA=function(){var l="bit"+this.bitPP,c=this.width*this.height*4;this.data=new o(c),this[l]()},s.prototype.bit1=function(){for(var l=Math.ceil(this.width/8),c=l%4,d=this.height>=0?this.height-1:-this.height,d=this.height-1;d>=0;d--){for(var m=this.bottom_up?d:this.height-1-d,f=0;f<l;f++)for(var h=this.buffer.readUInt8(this.pos++),u=m*this.width*4+f*8*4,v=0;v<8&&f*8+v<this.width;v++){var y=this.palette[h>>7-v&1];this.data[u+v*4]=0,this.data[u+v*4+1]=y.blue,this.data[u+v*4+2]=y.green,this.data[u+v*4+3]=y.red}c!=0&&(this.pos+=4-c)}},s.prototype.bit4=function(){if(this.compress==2){let C=function(R){var I=this.palette[R];this.data[l]=0,this.data[l+1]=I.blue,this.data[l+2]=I.green,this.data[l+3]=I.red,l+=4};var E=C;this.data.fill(255);for(var l=0,c=this.bottom_up?this.height-1:0,d=!1;l<this.data.length;){var m=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++);if(m==0)if(f==0){this.bottom_up?c--:c++,l=c*this.width*4,d=!1;continue}else{if(f==1)break;if(f==2){var h=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++);this.bottom_up?c-=u:c+=u,l+=u*this.width*4+h*4}else{for(var v=this.buffer.readUInt8(this.pos++),y=0;y<f;y++)d?C.call(this,v&15):C.call(this,(v&240)>>4),y&1&&y+1<f&&(v=this.buffer.readUInt8(this.pos++)),d=!d;(f+1>>1&1)==1&&this.pos++}}else for(var y=0;y<m;y++)d?C.call(this,f&15):C.call(this,(f&240)>>4),d=!d}}else for(var p=Math.ceil(this.width/2),g=p%4,u=this.height-1;u>=0;u--){for(var _=this.bottom_up?u:this.height-1-u,h=0;h<p;h++){var f=this.buffer.readUInt8(this.pos++),l=_*this.width*4+h*2*4,x=f>>4,b=f&15,M=this.palette[x];if(this.data[l]=0,this.data[l+1]=M.blue,this.data[l+2]=M.green,this.data[l+3]=M.red,h*2+1>=this.width)break;M=this.palette[b],this.data[l+4]=0,this.data[l+4+1]=M.blue,this.data[l+4+2]=M.green,this.data[l+4+3]=M.red}g!=0&&(this.pos+=4-g)}},s.prototype.bit8=function(){if(this.compress==1){let x=function(b){var M=this.palette[b];this.data[l]=0,this.data[l+1]=M.blue,this.data[l+2]=M.green,this.data[l+3]=M.red,l+=4};var _=x;this.data.fill(255);for(var l=0,c=this.bottom_up?this.height-1:0;l<this.data.length;){var d=this.buffer.readUInt8(this.pos++),m=this.buffer.readUInt8(this.pos++);if(d==0)if(m==0){this.bottom_up?c--:c++,l=c*this.width*4;continue}else{if(m==1)break;if(m==2){var f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++);this.bottom_up?c-=h:c+=h,l+=h*this.width*4+f*4}else{for(var u=0;u<m;u++){var v=this.buffer.readUInt8(this.pos++);x.call(this,v)}m&!0&&this.pos++}}else for(var u=0;u<d;u++)x.call(this,m)}}else for(var y=this.width%4,h=this.height-1;h>=0;h--){for(var p=this.bottom_up?h:this.height-1-h,f=0;f<this.width;f++){var m=this.buffer.readUInt8(this.pos++),l=p*this.width*4+f*4;if(m<this.palette.length){var g=this.palette[m];this.data[l]=0,this.data[l+1]=g.blue,this.data[l+2]=g.green,this.data[l+3]=g.red}else this.data[l]=0,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}y!=0&&(this.pos+=4-y)}},s.prototype.bit15=function(){for(var l=this.width%3,c=parseInt("11111",2),d=c,m=this.height-1;m>=0;m--){for(var f=this.bottom_up?m:this.height-1-m,h=0;h<this.width;h++){var u=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(u&d)/d*255|0,y=(u>>5&d)/d*255|0,p=(u>>10&d)/d*255|0,g=u>>15?255:0,_=f*this.width*4+h*4;this.data[_]=g,this.data[_+1]=v,this.data[_+2]=y,this.data[_+3]=p}this.pos+=l}},s.prototype.bit16=function(){var l=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var c=[0,0,0],d=0;d<16;d++)this.maskRed>>d&1&&c[0]++,this.maskGreen>>d&1&&c[1]++,this.maskBlue>>d&1&&c[2]++;c[1]+=c[0],c[2]+=c[1],c[0]=8-c[0],c[1]-=8,c[2]-=8;for(var m=this.height-1;m>=0;m--){for(var f=this.bottom_up?m:this.height-1-m,h=0;h<this.width;h++){var u=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(u&this.maskBlue)<<c[0],y=(u&this.maskGreen)>>c[1],p=(u&this.maskRed)>>c[2],g=f*this.width*4+h*4;this.data[g]=0,this.data[g+1]=v,this.data[g+2]=y,this.data[g+3]=p}this.pos+=l}},s.prototype.bit24=function(){for(var l=this.height-1;l>=0;l--){for(var c=this.bottom_up?l:this.height-1-l,d=0;d<this.width;d++){var m=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),u=c*this.width*4+d*4;this.data[u]=0,this.data[u+1]=m,this.data[u+2]=f,this.data[u+3]=h}this.pos+=this.width%4}},s.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var l=this.height-1;l>=0;l--)for(var c=this.bottom_up?l:this.height-1-l,d=0;d<this.width;d++){var m=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),v=c*this.width*4+d*4;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=u}}else for(var l=this.height-1;l>=0;l--)for(var c=this.bottom_up?l:this.height-1-l,d=0;d<this.width;d++){var f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),m=this.buffer.readUInt8(this.pos++),v=c*this.width*4+d*4;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=u}},s.prototype.getData=function(){return this.data},i.exports=function(l){var c=new s(l);return c}}).call(this,r("buffer").Buffer)},{buffer:48}],32:[function(r,i,a){(function(o){function s(l){this.buffer=l.data,this.width=l.width,this.height=l.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}s.prototype.encode=function(){var l=new o(this.offset+this.rgbSize);this.pos=0,l.write(this.flag,this.pos,2),this.pos+=2,l.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,l.writeUInt32LE(this.reserved,this.pos),this.pos+=4,l.writeUInt32LE(this.offset,this.pos),this.pos+=4,l.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,l.writeUInt32LE(this.width,this.pos),this.pos+=4,l.writeInt32LE(-this.height,this.pos),this.pos+=4,l.writeUInt16LE(this.planes,this.pos),this.pos+=2,l.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,l.writeUInt32LE(this.compress,this.pos),this.pos+=4,l.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,l.writeUInt32LE(this.hr,this.pos),this.pos+=4,l.writeUInt32LE(this.vr,this.pos),this.pos+=4,l.writeUInt32LE(this.colors,this.pos),this.pos+=4,l.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var c=0,d=3*this.width+this.extraBytes,m=0;m<this.height;m++){for(var f=0;f<this.width;f++){var h=this.pos+m*d+f*3;c++,l[h]=this.buffer[c++],l[h+1]=this.buffer[c++],l[h+2]=this.buffer[c++]}if(this.extraBytes>0){var u=this.pos+m*d+this.width*3;l.fill(0,u,u+this.extraBytes)}}return l},i.exports=function(l,c){typeof c=="undefined"&&(c=100);var d=new s(l),m=d.encode();return{data:m,width:l.width,height:l.height}}}).call(this,r("buffer").Buffer)},{buffer:48}],33:[function(r,i,a){},{}],34:[function(r,i,a){(function(o,s){"use strict";var l=r("assert"),c=r("pako/lib/zlib/zstream"),d=r("pako/lib/zlib/deflate.js"),m=r("pako/lib/zlib/inflate.js"),f=r("pako/lib/zlib/constants");for(var h in f)a[h]=f[h];a.NONE=0,a.DEFLATE=1,a.INFLATE=2,a.GZIP=3,a.GUNZIP=4,a.DEFLATERAW=5,a.INFLATERAW=6,a.UNZIP=7;var u=31,v=139;function y(p){if(typeof p!="number"||p<a.DEFLATE||p>a.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=p,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}y.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,l(this.init_done,"close before init"),l(this.mode<=a.UNZIP),this.mode===a.DEFLATE||this.mode===a.GZIP||this.mode===a.DEFLATERAW?d.deflateEnd(this.strm):(this.mode===a.INFLATE||this.mode===a.GUNZIP||this.mode===a.INFLATERAW||this.mode===a.UNZIP)&&m.inflateEnd(this.strm),this.mode=a.NONE,this.dictionary=null},y.prototype.write=function(p,g,_,x,b,M,E){return this._write(!0,p,g,_,x,b,M,E)},y.prototype.writeSync=function(p,g,_,x,b,M,E){return this._write(!1,p,g,_,x,b,M,E)},y.prototype._write=function(p,g,_,x,b,M,E,C){if(l.equal(arguments.length,8),l(this.init_done,"write before init"),l(this.mode!==a.NONE,"already finalized"),l.equal(!1,this.write_in_progress,"write already in progress"),l.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,l.equal(!1,g===void 0,"must provide flush value"),this.write_in_progress=!0,g!==a.Z_NO_FLUSH&&g!==a.Z_PARTIAL_FLUSH&&g!==a.Z_SYNC_FLUSH&&g!==a.Z_FULL_FLUSH&&g!==a.Z_FINISH&&g!==a.Z_BLOCK)throw new Error("Invalid flush value");if(_==null&&(_=s.alloc(0),b=0,x=0),this.strm.avail_in=b,this.strm.input=_,this.strm.next_in=x,this.strm.avail_out=C,this.strm.output=M,this.strm.next_out=E,this.flush=g,!p)return this._process(),this._checkError()?this._afterSync():void 0;var R=this;return o.nextTick(function(){R._process(),R._after()}),this},y.prototype._afterSync=function(){var p=this.strm.avail_out,g=this.strm.avail_in;return this.write_in_progress=!1,[g,p]},y.prototype._process=function(){var p=null;switch(this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=d.deflate(this.strm,this.flush);break;case a.UNZIP:switch(this.strm.avail_in>0&&(p=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(p===null)break;if(this.strm.input[p]===u){if(this.gzip_id_bytes_read=1,p++,this.strm.avail_in===1)break}else{this.mode=a.INFLATE;break}case 1:if(p===null)break;this.strm.input[p]===v?(this.gzip_id_bytes_read=2,this.mode=a.GUNZIP):this.mode=a.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:for(this.err=m.inflate(this.strm,this.flush),this.err===a.Z_NEED_DICT&&this.dictionary&&(this.err=m.inflateSetDictionary(this.strm,this.dictionary),this.err===a.Z_OK?this.err=m.inflate(this.strm,this.flush):this.err===a.Z_DATA_ERROR&&(this.err=a.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===a.GUNZIP&&this.err===a.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=m.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},y.prototype._checkError=function(){switch(this.err){case a.Z_OK:case a.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===a.Z_FINISH)return this._error("unexpected end of file"),!1;break;case a.Z_STREAM_END:break;case a.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},y.prototype._after=function(){if(!!this._checkError()){var p=this.strm.avail_out,g=this.strm.avail_in;this.write_in_progress=!1,this.callback(g,p),this.pending_close&&this.close()}},y.prototype._error=function(p){this.strm.msg&&(p=this.strm.msg),this.onerror(p,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},y.prototype.init=function(p,g,_,x,b){l(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),l(p>=8&&p<=15,"invalid windowBits"),l(g>=-1&&g<=9,"invalid compression level"),l(_>=1&&_<=9,"invalid memlevel"),l(x===a.Z_FILTERED||x===a.Z_HUFFMAN_ONLY||x===a.Z_RLE||x===a.Z_FIXED||x===a.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(g,p,_,x,b),this._setDictionary()},y.prototype.params=function(){throw new Error("deflateParams Not supported")},y.prototype.reset=function(){this._reset(),this._setDictionary()},y.prototype._init=function(p,g,_,x,b){switch(this.level=p,this.windowBits=g,this.memLevel=_,this.strategy=x,this.flush=a.Z_NO_FLUSH,this.err=a.Z_OK,(this.mode===a.GZIP||this.mode===a.GUNZIP)&&(this.windowBits+=16),this.mode===a.UNZIP&&(this.windowBits+=32),(this.mode===a.DEFLATERAW||this.mode===a.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new c,this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=d.deflateInit2(this.strm,this.level,a.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:case a.UNZIP:this.err=m.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==a.Z_OK&&this._error("Init error"),this.dictionary=b,this.write_in_progress=!1,this.init_done=!0},y.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:this.err=d.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==a.Z_OK&&this._error("Failed to set dictionary")}},y.prototype._reset=function(){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:case a.GZIP:this.err=d.deflateReset(this.strm);break;case a.INFLATE:case a.INFLATERAW:case a.GUNZIP:this.err=m.inflateReset(this.strm);break;default:break}this.err!==a.Z_OK&&this._error("Failed to reset stream")},a.Zlib=y}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(r,i,a){(function(o){"use strict";var s=r("buffer").Buffer,l=r("stream").Transform,c=r("./binding"),d=r("util"),m=r("assert").ok,f=r("buffer").kMaxLength,h="Cannot create final Buffer. It would be larger than 0x"+f.toString(16)+" bytes";c.Z_MIN_WINDOWBITS=8,c.Z_MAX_WINDOWBITS=15,c.Z_DEFAULT_WINDOWBITS=15,c.Z_MIN_CHUNK=64,c.Z_MAX_CHUNK=1/0,c.Z_DEFAULT_CHUNK=16*1024,c.Z_MIN_MEMLEVEL=1,c.Z_MAX_MEMLEVEL=9,c.Z_DEFAULT_MEMLEVEL=8,c.Z_MIN_LEVEL=-1,c.Z_MAX_LEVEL=9,c.Z_DEFAULT_LEVEL=c.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(c),v=0;v<u.length;v++){var y=u[v];y.match(/^Z/)&&Object.defineProperty(a,y,{enumerable:!0,value:c[y],writable:!1})}for(var p={Z_OK:c.Z_OK,Z_STREAM_END:c.Z_STREAM_END,Z_NEED_DICT:c.Z_NEED_DICT,Z_ERRNO:c.Z_ERRNO,Z_STREAM_ERROR:c.Z_STREAM_ERROR,Z_DATA_ERROR:c.Z_DATA_ERROR,Z_MEM_ERROR:c.Z_MEM_ERROR,Z_BUF_ERROR:c.Z_BUF_ERROR,Z_VERSION_ERROR:c.Z_VERSION_ERROR},g=Object.keys(p),_=0;_<g.length;_++){var x=g[_];p[p[x]]=x}Object.defineProperty(a,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),a.Deflate=E,a.Inflate=C,a.Gzip=R,a.Gunzip=I,a.DeflateRaw=O,a.InflateRaw=k,a.Unzip=G,a.createDeflate=function(z){return new E(z)},a.createInflate=function(z){return new C(z)},a.createDeflateRaw=function(z){return new O(z)},a.createInflateRaw=function(z){return new k(z)},a.createGzip=function(z){return new R(z)},a.createGunzip=function(z){return new I(z)},a.createUnzip=function(z){return new G(z)},a.deflate=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new E(V),z,J)},a.deflateSync=function(z,V){return M(new E(V),z)},a.gzip=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new R(V),z,J)},a.gzipSync=function(z,V){return M(new R(V),z)},a.deflateRaw=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new O(V),z,J)},a.deflateRawSync=function(z,V){return M(new O(V),z)},a.unzip=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new G(V),z,J)},a.unzipSync=function(z,V){return M(new G(V),z)},a.inflate=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new C(V),z,J)},a.inflateSync=function(z,V){return M(new C(V),z)},a.gunzip=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new I(V),z,J)},a.gunzipSync=function(z,V){return M(new I(V),z)},a.inflateRaw=function(z,V,J){return typeof V=="function"&&(J=V,V={}),b(new k(V),z,J)},a.inflateRawSync=function(z,V){return M(new k(V),z)};function b(z,V,J){var ne=[],le=0;z.on("error",K),z.on("end",ae),z.end(V),ue();function ue(){for(var se;(se=z.read())!==null;)ne.push(se),le+=se.length;z.once("readable",ue)}function K(se){z.removeListener("end",ae),z.removeListener("readable",ue),J(se)}function ae(){var se,fe=null;le>=f?fe=new RangeError(h):se=s.concat(ne,le),ne=[],z.close(),J(fe,se)}}function M(z,V){if(typeof V=="string"&&(V=s.from(V)),!s.isBuffer(V))throw new TypeError("Not a string or buffer");var J=z._finishFlushFlag;return z._processChunk(V,J)}function E(z){if(!(this instanceof E))return new E(z);Z.call(this,z,c.DEFLATE)}function C(z){if(!(this instanceof C))return new C(z);Z.call(this,z,c.INFLATE)}function R(z){if(!(this instanceof R))return new R(z);Z.call(this,z,c.GZIP)}function I(z){if(!(this instanceof I))return new I(z);Z.call(this,z,c.GUNZIP)}function O(z){if(!(this instanceof O))return new O(z);Z.call(this,z,c.DEFLATERAW)}function k(z){if(!(this instanceof k))return new k(z);Z.call(this,z,c.INFLATERAW)}function G(z){if(!(this instanceof G))return new G(z);Z.call(this,z,c.UNZIP)}function N(z){return z===c.Z_NO_FLUSH||z===c.Z_PARTIAL_FLUSH||z===c.Z_SYNC_FLUSH||z===c.Z_FULL_FLUSH||z===c.Z_FINISH||z===c.Z_BLOCK}function Z(z,V){var J=this;if(this._opts=z=z||{},this._chunkSize=z.chunkSize||a.Z_DEFAULT_CHUNK,l.call(this,z),z.flush&&!N(z.flush))throw new Error("Invalid flush flag: "+z.flush);if(z.finishFlush&&!N(z.finishFlush))throw new Error("Invalid flush flag: "+z.finishFlush);if(this._flushFlag=z.flush||c.Z_NO_FLUSH,this._finishFlushFlag=typeof z.finishFlush!="undefined"?z.finishFlush:c.Z_FINISH,z.chunkSize&&(z.chunkSize<a.Z_MIN_CHUNK||z.chunkSize>a.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+z.chunkSize);if(z.windowBits&&(z.windowBits<a.Z_MIN_WINDOWBITS||z.windowBits>a.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+z.windowBits);if(z.level&&(z.level<a.Z_MIN_LEVEL||z.level>a.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+z.level);if(z.memLevel&&(z.memLevel<a.Z_MIN_MEMLEVEL||z.memLevel>a.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+z.memLevel);if(z.strategy&&z.strategy!=a.Z_FILTERED&&z.strategy!=a.Z_HUFFMAN_ONLY&&z.strategy!=a.Z_RLE&&z.strategy!=a.Z_FIXED&&z.strategy!=a.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+z.strategy);if(z.dictionary&&!s.isBuffer(z.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new c.Zlib(V);var ne=this;this._hadError=!1,this._handle.onerror=function(K,ae){H(ne),ne._hadError=!0;var se=new Error(K);se.errno=ae,se.code=a.codes[ae],ne.emit("error",se)};var le=a.Z_DEFAULT_COMPRESSION;typeof z.level=="number"&&(le=z.level);var ue=a.Z_DEFAULT_STRATEGY;typeof z.strategy=="number"&&(ue=z.strategy),this._handle.init(z.windowBits||a.Z_DEFAULT_WINDOWBITS,le,z.memLevel||a.Z_DEFAULT_MEMLEVEL,ue,z.dictionary),this._buffer=s.allocUnsafe(this._chunkSize),this._offset=0,this._level=le,this._strategy=ue,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!J._handle},configurable:!0,enumerable:!0})}d.inherits(Z,l),Z.prototype.params=function(z,V,J){if(z<a.Z_MIN_LEVEL||z>a.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+z);if(V!=a.Z_FILTERED&&V!=a.Z_HUFFMAN_ONLY&&V!=a.Z_RLE&&V!=a.Z_FIXED&&V!=a.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+V);if(this._level!==z||this._strategy!==V){var ne=this;this.flush(c.Z_SYNC_FLUSH,function(){m(ne._handle,"zlib binding closed"),ne._handle.params(z,V),ne._hadError||(ne._level=z,ne._strategy=V,J&&J())})}else o.nextTick(J)},Z.prototype.reset=function(){return m(this._handle,"zlib binding closed"),this._handle.reset()},Z.prototype._flush=function(z){this._transform(s.alloc(0),"",z)},Z.prototype.flush=function(z,V){var J=this,ne=this._writableState;(typeof z=="function"||z===void 0&&!V)&&(V=z,z=c.Z_FULL_FLUSH),ne.ended?V&&o.nextTick(V):ne.ending?V&&this.once("end",V):ne.needDrain?V&&this.once("drain",function(){return J.flush(z,V)}):(this._flushFlag=z,this.write(s.alloc(0),"",V))},Z.prototype.close=function(z){H(this,z),o.nextTick(j,this)};function H(z,V){V&&o.nextTick(V),!!z._handle&&(z._handle.close(),z._handle=null)}function j(z){z.emit("close")}Z.prototype._transform=function(z,V,J){var ne,le=this._writableState,ue=le.ending||le.ended,K=ue&&(!z||le.length===z.length);if(z!==null&&!s.isBuffer(z))return J(new Error("invalid input"));if(!this._handle)return J(new Error("zlib binding closed"));K?ne=this._finishFlushFlag:(ne=this._flushFlag,z.length>=le.length&&(this._flushFlag=this._opts.flush||c.Z_NO_FLUSH)),this._processChunk(z,ne,J)},Z.prototype._processChunk=function(z,V,J){var ne=z&&z.length,le=this._chunkSize-this._offset,ue=0,K=this,ae=typeof J=="function";if(!ae){var se=[],fe=0,he;this.on("error",function(Oe){he=Oe}),m(this._handle,"zlib binding closed");do var we=this._handle.writeSync(V,z,ue,ne,this._buffer,this._offset,le);while(!this._hadError&&ge(we[0],we[1]));if(this._hadError)throw he;if(fe>=f)throw H(this),new RangeError(h);var xe=s.concat(se,fe);return H(this),xe}m(this._handle,"zlib binding closed");var Ie=this._handle.write(V,z,ue,ne,this._buffer,this._offset,le);Ie.buffer=z,Ie.callback=ge;function ge(Oe,me){if(this&&(this.buffer=null,this.callback=null),!K._hadError){var pe=le-me;if(m(pe>=0,"have should not go down"),pe>0){var re=K._buffer.slice(K._offset,K._offset+pe);K._offset+=pe,ae?K.push(re):(se.push(re),fe+=re.length)}if((me===0||K._offset>=K._chunkSize)&&(le=K._chunkSize,K._offset=0,K._buffer=s.allocUnsafe(K._chunkSize)),me===0){if(ue+=ne-Oe,ne=Oe,!ae)return!0;var ie=K._handle.write(V,z,ue,ne,K._buffer,K._offset,K._chunkSize);ie.callback=ge,ie.buffer=z;return}if(!ae)return!1;J()}}},d.inherits(E,Z),d.inherits(C,Z),d.inherits(R,Z),d.inherits(I,Z),d.inherits(O,Z),d.inherits(k,Z),d.inherits(G,Z)}).call(this,r("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(r,i,a){"use strict";var o=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function s(d,m){return Object.prototype.hasOwnProperty.call(d,m)}a.assign=function(d){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var f=m.shift();if(!!f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)s(f,h)&&(d[h]=f[h])}}return d},a.shrinkBuf=function(d,m){return d.length===m?d:d.subarray?d.subarray(0,m):(d.length=m,d)};var l={arraySet:function(d,m,f,h,u){if(m.subarray&&d.subarray){d.set(m.subarray(f,f+h),u);return}for(var v=0;v<h;v++)d[u+v]=m[f+v]},flattenChunks:function(d){var m,f,h,u,v,y;for(h=0,m=0,f=d.length;m<f;m++)h+=d[m].length;for(y=new Uint8Array(h),u=0,m=0,f=d.length;m<f;m++)v=d[m],y.set(v,u),u+=v.length;return y}},c={arraySet:function(d,m,f,h,u){for(var v=0;v<h;v++)d[u+v]=m[f+v]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(o)},{}],37:[function(r,i,a){"use strict";function o(s,l,c,d){for(var m=s&65535|0,f=s>>>16&65535|0,h=0;c!==0;){h=c>2e3?2e3:c,c-=h;do m=m+l[d++]|0,f=f+m|0;while(--h);m%=65521,f%=65521}return m|f<<16|0}i.exports=o},{}],38:[function(r,i,a){"use strict";i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(r,i,a){"use strict";function o(){for(var c,d=[],m=0;m<256;m++){c=m;for(var f=0;f<8;f++)c=c&1?3988292384^c>>>1:c>>>1;d[m]=c}return d}var s=o();function l(c,d,m,f){var h=s,u=f+m;c^=-1;for(var v=f;v<u;v++)c=c>>>8^h[(c^d[v])&255];return c^-1}i.exports=l},{}],40:[function(r,i,a){"use strict";var o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),m=0,f=1,h=3,u=4,v=5,y=0,p=1,g=-2,_=-3,x=-5,b=-1,M=1,E=2,C=3,R=4,I=0,O=2,k=8,G=9,N=15,Z=8,H=29,j=256,z=j+1+H,V=30,J=19,ne=2*z+1,le=15,ue=3,K=258,ae=K+ue+1,se=32,fe=42,he=69,we=73,xe=91,Ie=103,ge=113,Oe=666,me=1,pe=2,re=3,ie=4,Y=3;function ee(L,Pe){return L.msg=d[Pe],Pe}function W(L){return(L<<1)-(L>4?9:0)}function P(L){for(var Pe=L.length;--Pe>=0;)L[Pe]=0}function D(L){var Pe=L.state,Ue=Pe.pending;Ue>L.avail_out&&(Ue=L.avail_out),Ue!==0&&(o.arraySet(L.output,Pe.pending_buf,Pe.pending_out,Ue,L.next_out),L.next_out+=Ue,Pe.pending_out+=Ue,L.total_out+=Ue,L.avail_out-=Ue,Pe.pending-=Ue,Pe.pending===0&&(Pe.pending_out=0))}function B(L,Pe){s._tr_flush_block(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,Pe),L.block_start=L.strstart,D(L.strm)}function Q(L,Pe){L.pending_buf[L.pending++]=Pe}function de(L,Pe){L.pending_buf[L.pending++]=Pe>>>8&255,L.pending_buf[L.pending++]=Pe&255}function Ce(L,Pe,Ue,q){var Te=L.avail_in;return Te>q&&(Te=q),Te===0?0:(L.avail_in-=Te,o.arraySet(Pe,L.input,L.next_in,Te,Ue),L.state.wrap===1?L.adler=l(L.adler,Pe,Te,Ue):L.state.wrap===2&&(L.adler=c(L.adler,Pe,Te,Ue)),L.next_in+=Te,L.total_in+=Te,Te)}function be(L,Pe){var Ue=L.max_chain_length,q=L.strstart,Te,je,st=L.prev_length,ve=L.nice_match,Be=L.strstart>L.w_size-ae?L.strstart-(L.w_size-ae):0,Ze=L.window,nt=L.w_mask,it=L.prev,gt=L.strstart+K,yt=Ze[q+st-1],Lt=Ze[q+st];L.prev_length>=L.good_match&&(Ue>>=2),ve>L.lookahead&&(ve=L.lookahead);do if(Te=Pe,!(Ze[Te+st]!==Lt||Ze[Te+st-1]!==yt||Ze[Te]!==Ze[q]||Ze[++Te]!==Ze[q+1])){q+=2,Te++;do;while(Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&q<gt);if(je=K-(gt-q),q=gt-K,je>st){if(L.match_start=Pe,st=je,je>=ve)break;yt=Ze[q+st-1],Lt=Ze[q+st]}}while((Pe=it[Pe&nt])>Be&&--Ue!=0);return st<=L.lookahead?st:L.lookahead}function Se(L){var Pe=L.w_size,Ue,q,Te,je,st;do{if(je=L.window_size-L.lookahead-L.strstart,L.strstart>=Pe+(Pe-ae)){o.arraySet(L.window,L.window,Pe,Pe,0),L.match_start-=Pe,L.strstart-=Pe,L.block_start-=Pe,q=L.hash_size,Ue=q;do Te=L.head[--Ue],L.head[Ue]=Te>=Pe?Te-Pe:0;while(--q);q=Pe,Ue=q;do Te=L.prev[--Ue],L.prev[Ue]=Te>=Pe?Te-Pe:0;while(--q);je+=Pe}if(L.strm.avail_in===0)break;if(q=Ce(L.strm,L.window,L.strstart+L.lookahead,je),L.lookahead+=q,L.lookahead+L.insert>=ue)for(st=L.strstart-L.insert,L.ins_h=L.window[st],L.ins_h=(L.ins_h<<L.hash_shift^L.window[st+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[st+ue-1])&L.hash_mask,L.prev[st&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=st,st++,L.insert--,!(L.lookahead+L.insert<ue)););}while(L.lookahead<ae&&L.strm.avail_in!==0)}function ke(L,Pe){var Ue=65535;for(Ue>L.pending_buf_size-5&&(Ue=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Se(L),L.lookahead===0&&Pe===m)return me;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var q=L.block_start+Ue;if((L.strstart===0||L.strstart>=q)&&(L.lookahead=L.strstart-q,L.strstart=q,B(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-ae&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):(L.strstart>L.block_start&&(B(L,!1),L.strm.avail_out===0),me)}function Ye(L,Pe){for(var Ue,q;;){if(L.lookahead<ae){if(Se(L),L.lookahead<ae&&Pe===m)return me;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=ue&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),Ue!==0&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue)),L.match_length>=ue)if(q=s._tr_tally(L,L.strstart-L.match_start,L.match_length-ue),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=ue){L.match_length--;do L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!=0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else q=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(q&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=L.strstart<ue-1?L.strstart:ue-1,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Ve(L,Pe){for(var Ue,q,Te;;){if(L.lookahead<ae){if(Se(L),L.lookahead<ae&&Pe===m)return me;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=ue&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=ue-1,Ue!==0&&L.prev_length<L.max_lazy_match&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue),L.match_length<=5&&(L.strategy===M||L.match_length===ue&&L.strstart-L.match_start>4096)&&(L.match_length=ue-1)),L.prev_length>=ue&&L.match_length<=L.prev_length){Te=L.strstart+L.lookahead-ue,q=s._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-ue),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Te&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!=0);if(L.match_available=0,L.match_length=ue-1,L.strstart++,q&&(B(L,!1),L.strm.avail_out===0))return me}else if(L.match_available){if(q=s._tr_tally(L,0,L.window[L.strstart-1]),q&&B(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return me}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(q=s._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<ue-1?L.strstart:ue-1,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Me(L,Pe){for(var Ue,q,Te,je,st=L.window;;){if(L.lookahead<=K){if(Se(L),L.lookahead<=K&&Pe===m)return me;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=ue&&L.strstart>0&&(Te=L.strstart-1,q=st[Te],q===st[++Te]&&q===st[++Te]&&q===st[++Te])){je=L.strstart+K;do;while(q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&Te<je);L.match_length=K-(je-Te),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=ue?(Ue=s._tr_tally(L,1,L.match_length-ue),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(Ue=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),Ue&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Ge(L,Pe){for(var Ue;;){if(L.lookahead===0&&(Se(L),L.lookahead===0)){if(Pe===m)return me;break}if(L.match_length=0,Ue=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,Ue&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function We(L,Pe,Ue,q,Te){this.good_length=L,this.max_lazy=Pe,this.nice_length=Ue,this.max_chain=q,this.func=Te}var et;et=[new We(0,0,0,0,ke),new We(4,4,8,4,Ye),new We(4,5,16,8,Ye),new We(4,6,32,32,Ye),new We(4,4,16,16,Ve),new We(8,16,32,32,Ve),new We(8,16,128,128,Ve),new We(8,32,128,256,Ve),new We(32,128,258,1024,Ve),new We(32,258,258,4096,Ve)];function ot(L){L.window_size=2*L.w_size,P(L.head),L.max_lazy_match=et[L.level].max_lazy,L.good_match=et[L.level].good_length,L.nice_match=et[L.level].nice_length,L.max_chain_length=et[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=ue-1,L.match_available=0,L.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(ne*2),this.dyn_dtree=new o.Buf16((2*V+1)*2),this.bl_tree=new o.Buf16((2*J+1)*2),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(le+1),this.heap=new o.Buf16(2*z+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(L){var Pe;return!L||!L.state?ee(L,g):(L.total_in=L.total_out=0,L.data_type=O,Pe=L.state,Pe.pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?fe:ge,L.adler=Pe.wrap===2?0:1,Pe.last_flush=m,s._tr_init(Pe),y)}function Fe(L){var Pe=Ae(L);return Pe===y&&ot(L.state),Pe}function qe(L,Pe){return!L||!L.state||L.state.wrap!==2?g:(L.state.gzhead=Pe,y)}function De(L,Pe,Ue,q,Te,je){if(!L)return g;var st=1;if(Pe===b&&(Pe=6),q<0?(st=0,q=-q):q>15&&(st=2,q-=16),Te<1||Te>G||Ue!==k||q<8||q>15||Pe<0||Pe>9||je<0||je>R)return ee(L,g);q===8&&(q=9);var ve=new X;return L.state=ve,ve.strm=L,ve.wrap=st,ve.gzhead=null,ve.w_bits=q,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Te+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+ue-1)/ue),ve.window=new o.Buf8(ve.w_size*2),ve.head=new o.Buf16(ve.hash_size),ve.prev=new o.Buf16(ve.w_size),ve.lit_bufsize=1<<Te+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new o.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Pe,ve.strategy=je,ve.method=Ue,Fe(L)}function He(L,Pe){return De(L,Pe,k,N,Z,I)}function ce(L,Pe){var Ue,q,Te,je;if(!L||!L.state||Pe>v||Pe<0)return L?ee(L,g):g;if(q=L.state,!L.output||!L.input&&L.avail_in!==0||q.status===Oe&&Pe!==u)return ee(L,L.avail_out===0?x:g);if(q.strm=L,Ue=q.last_flush,q.last_flush=Pe,q.status===fe)if(q.wrap===2)L.adler=0,Q(q,31),Q(q,139),Q(q,8),q.gzhead?(Q(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),Q(q,q.gzhead.time&255),Q(q,q.gzhead.time>>8&255),Q(q,q.gzhead.time>>16&255),Q(q,q.gzhead.time>>24&255),Q(q,q.level===9?2:q.strategy>=E||q.level<2?4:0),Q(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length&&(Q(q,q.gzhead.extra.length&255),Q(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(L.adler=c(L.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=he):(Q(q,0),Q(q,0),Q(q,0),Q(q,0),Q(q,0),Q(q,q.level===9?2:q.strategy>=E||q.level<2?4:0),Q(q,Y),q.status=ge);else{var st=k+(q.w_bits-8<<4)<<8,ve=-1;q.strategy>=E||q.level<2?ve=0:q.level<6?ve=1:q.level===6?ve=2:ve=3,st|=ve<<6,q.strstart!==0&&(st|=se),st+=31-st%31,q.status=ge,de(q,st),q.strstart!==0&&(de(q,L.adler>>>16),de(q,L.adler&65535)),L.adler=1}if(q.status===he)if(q.gzhead.extra){for(Te=q.pending;q.gzindex<(q.gzhead.extra.length&65535)&&!(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size));)Q(q,q.gzhead.extra[q.gzindex]&255),q.gzindex++;q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=we)}else q.status=we;if(q.status===we)if(q.gzhead.name){Te=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size)){je=1;break}q.gzindex<q.gzhead.name.length?je=q.gzhead.name.charCodeAt(q.gzindex++)&255:je=0,Q(q,je)}while(je!==0);q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),je===0&&(q.gzindex=0,q.status=xe)}else q.status=xe;if(q.status===xe)if(q.gzhead.comment){Te=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size)){je=1;break}q.gzindex<q.gzhead.comment.length?je=q.gzhead.comment.charCodeAt(q.gzindex++)&255:je=0,Q(q,je)}while(je!==0);q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),je===0&&(q.status=Ie)}else q.status=Ie;if(q.status===Ie&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&D(L),q.pending+2<=q.pending_buf_size&&(Q(q,L.adler&255),Q(q,L.adler>>8&255),L.adler=0,q.status=ge)):q.status=ge),q.pending!==0){if(D(L),L.avail_out===0)return q.last_flush=-1,y}else if(L.avail_in===0&&W(Pe)<=W(Ue)&&Pe!==u)return ee(L,x);if(q.status===Oe&&L.avail_in!==0)return ee(L,x);if(L.avail_in!==0||q.lookahead!==0||Pe!==m&&q.status!==Oe){var Be=q.strategy===E?Ge(q,Pe):q.strategy===C?Me(q,Pe):et[q.level].func(q,Pe);if((Be===re||Be===ie)&&(q.status=Oe),Be===me||Be===re)return L.avail_out===0&&(q.last_flush=-1),y;if(Be===pe&&(Pe===f?s._tr_align(q):Pe!==v&&(s._tr_stored_block(q,0,0,!1),Pe===h&&(P(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),D(L),L.avail_out===0))return q.last_flush=-1,y}return Pe!==u?y:q.wrap<=0?p:(q.wrap===2?(Q(q,L.adler&255),Q(q,L.adler>>8&255),Q(q,L.adler>>16&255),Q(q,L.adler>>24&255),Q(q,L.total_in&255),Q(q,L.total_in>>8&255),Q(q,L.total_in>>16&255),Q(q,L.total_in>>24&255)):(de(q,L.adler>>>16),de(q,L.adler&65535)),D(L),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?y:p)}function Ke(L){var Pe;return!L||!L.state?g:(Pe=L.state.status,Pe!==fe&&Pe!==he&&Pe!==we&&Pe!==xe&&Pe!==Ie&&Pe!==ge&&Pe!==Oe?ee(L,g):(L.state=null,Pe===ge?ee(L,_):y))}function lt(L,Pe){var Ue=Pe.length,q,Te,je,st,ve,Be,Ze,nt;if(!L||!L.state||(q=L.state,st=q.wrap,st===2||st===1&&q.status!==fe||q.lookahead))return g;for(st===1&&(L.adler=l(L.adler,Pe,Ue,0)),q.wrap=0,Ue>=q.w_size&&(st===0&&(P(q.head),q.strstart=0,q.block_start=0,q.insert=0),nt=new o.Buf8(q.w_size),o.arraySet(nt,Pe,Ue-q.w_size,q.w_size,0),Pe=nt,Ue=q.w_size),ve=L.avail_in,Be=L.next_in,Ze=L.input,L.avail_in=Ue,L.next_in=0,L.input=Pe,Se(q);q.lookahead>=ue;){Te=q.strstart,je=q.lookahead-(ue-1);do q.ins_h=(q.ins_h<<q.hash_shift^q.window[Te+ue-1])&q.hash_mask,q.prev[Te&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=Te,Te++;while(--je);q.strstart=Te,q.lookahead=ue-1,Se(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=ue-1,q.match_available=0,L.next_in=Be,L.input=Ze,L.avail_in=ve,q.wrap=st,y}a.deflateInit=He,a.deflateInit2=De,a.deflateReset=Fe,a.deflateResetKeep=Ae,a.deflateSetHeader=qe,a.deflate=ce,a.deflateEnd=Ke,a.deflateSetDictionary=lt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(r,i,a){"use strict";var o=30,s=12;i.exports=function(c,d){var m,f,h,u,v,y,p,g,_,x,b,M,E,C,R,I,O,k,G,N,Z,H,j,z,V;m=c.state,f=c.next_in,z=c.input,h=f+(c.avail_in-5),u=c.next_out,V=c.output,v=u-(d-c.avail_out),y=u+(c.avail_out-257),p=m.dmax,g=m.wsize,_=m.whave,x=m.wnext,b=m.window,M=m.hold,E=m.bits,C=m.lencode,R=m.distcode,I=(1<<m.lenbits)-1,O=(1<<m.distbits)-1;e:do{E<15&&(M+=z[f++]<<E,E+=8,M+=z[f++]<<E,E+=8),k=C[M&I];t:for(;;){if(G=k>>>24,M>>>=G,E-=G,G=k>>>16&255,G===0)V[u++]=k&65535;else if(G&16){N=k&65535,G&=15,G&&(E<G&&(M+=z[f++]<<E,E+=8),N+=M&(1<<G)-1,M>>>=G,E-=G),E<15&&(M+=z[f++]<<E,E+=8,M+=z[f++]<<E,E+=8),k=R[M&O];n:for(;;){if(G=k>>>24,M>>>=G,E-=G,G=k>>>16&255,G&16){if(Z=k&65535,G&=15,E<G&&(M+=z[f++]<<E,E+=8,E<G&&(M+=z[f++]<<E,E+=8)),Z+=M&(1<<G)-1,Z>p){c.msg="invalid distance too far back",m.mode=o;break e}if(M>>>=G,E-=G,G=u-v,Z>G){if(G=Z-G,G>_&&m.sane){c.msg="invalid distance too far back",m.mode=o;break e}if(H=0,j=b,x===0){if(H+=g-G,G<N){N-=G;do V[u++]=b[H++];while(--G);H=u-Z,j=V}}else if(x<G){if(H+=g+x-G,G-=x,G<N){N-=G;do V[u++]=b[H++];while(--G);if(H=0,x<N){G=x,N-=G;do V[u++]=b[H++];while(--G);H=u-Z,j=V}}}else if(H+=x-G,G<N){N-=G;do V[u++]=b[H++];while(--G);H=u-Z,j=V}for(;N>2;)V[u++]=j[H++],V[u++]=j[H++],V[u++]=j[H++],N-=3;N&&(V[u++]=j[H++],N>1&&(V[u++]=j[H++]))}else{H=u-Z;do V[u++]=V[H++],V[u++]=V[H++],V[u++]=V[H++],N-=3;while(N>2);N&&(V[u++]=V[H++],N>1&&(V[u++]=V[H++]))}}else if((G&64)==0){k=R[(k&65535)+(M&(1<<G)-1)];continue n}else{c.msg="invalid distance code",m.mode=o;break e}break}}else if((G&64)==0){k=C[(k&65535)+(M&(1<<G)-1)];continue t}else if(G&32){m.mode=s;break e}else{c.msg="invalid literal/length code",m.mode=o;break e}break}}while(f<h&&u<y);N=E>>3,f-=N,E-=N<<3,M&=(1<<E)-1,c.next_in=f,c.next_out=u,c.avail_in=f<h?5+(h-f):5-(f-h),c.avail_out=u<y?257+(y-u):257-(u-y),m.hold=M,m.bits=E}},{}],42:[function(r,i,a){"use strict";var o=r("../utils/common"),s=r("./adler32"),l=r("./crc32"),c=r("./inffast"),d=r("./inftrees"),m=0,f=1,h=2,u=4,v=5,y=6,p=0,g=1,_=2,x=-2,b=-3,M=-4,E=-5,C=8,R=1,I=2,O=3,k=4,G=5,N=6,Z=7,H=8,j=9,z=10,V=11,J=12,ne=13,le=14,ue=15,K=16,ae=17,se=18,fe=19,he=20,we=21,xe=22,Ie=23,ge=24,Oe=25,me=26,pe=27,re=28,ie=29,Y=30,ee=31,W=32,P=852,D=592,B=15,Q=B;function de(De){return(De>>>24&255)+(De>>>8&65280)+((De&65280)<<8)+((De&255)<<24)}function Ce(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(De){var He;return!De||!De.state?x:(He=De.state,De.total_in=De.total_out=He.total=0,De.msg="",He.wrap&&(De.adler=He.wrap&1),He.mode=R,He.last=0,He.havedict=0,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new o.Buf32(P),He.distcode=He.distdyn=new o.Buf32(D),He.sane=1,He.back=-1,p)}function Se(De){var He;return!De||!De.state?x:(He=De.state,He.wsize=0,He.whave=0,He.wnext=0,be(De))}function ke(De,He){var ce,Ke;return!De||!De.state||(Ke=De.state,He<0?(ce=0,He=-He):(ce=(He>>4)+1,He<48&&(He&=15)),He&&(He<8||He>15))?x:(Ke.window!==null&&Ke.wbits!==He&&(Ke.window=null),Ke.wrap=ce,Ke.wbits=He,Se(De))}function Ye(De,He){var ce,Ke;return De?(Ke=new Ce,De.state=Ke,Ke.window=null,ce=ke(De,He),ce!==p&&(De.state=null),ce):x}function Ve(De){return Ye(De,Q)}var Me=!0,Ge,We;function et(De){if(Me){var He;for(Ge=new o.Buf32(512),We=new o.Buf32(32),He=0;He<144;)De.lens[He++]=8;for(;He<256;)De.lens[He++]=9;for(;He<280;)De.lens[He++]=7;for(;He<288;)De.lens[He++]=8;for(d(f,De.lens,0,288,Ge,0,De.work,{bits:9}),He=0;He<32;)De.lens[He++]=5;d(h,De.lens,0,32,We,0,De.work,{bits:5}),Me=!1}De.lencode=Ge,De.lenbits=9,De.distcode=We,De.distbits=5}function ot(De,He,ce,Ke){var lt,L=De.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new o.Buf8(L.wsize)),Ke>=L.wsize?(o.arraySet(L.window,He,ce-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(lt=L.wsize-L.wnext,lt>Ke&&(lt=Ke),o.arraySet(L.window,He,ce-Ke,lt,L.wnext),Ke-=lt,Ke?(o.arraySet(L.window,He,ce-Ke,Ke,0),L.wnext=Ke,L.whave=L.wsize):(L.wnext+=lt,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=lt))),0}function X(De,He){var ce,Ke,lt,L,Pe,Ue,q,Te,je,st,ve,Be,Ze,nt,it=0,gt,yt,Lt,Ct,Yt,zt,Rt,qt,pn=new o.Buf8(4),Ut,Rn,Ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!De||!De.state||!De.output||!De.input&&De.avail_in!==0)return x;ce=De.state,ce.mode===J&&(ce.mode=ne),Pe=De.next_out,lt=De.output,q=De.avail_out,L=De.next_in,Ke=De.input,Ue=De.avail_in,Te=ce.hold,je=ce.bits,st=Ue,ve=q,qt=p;e:for(;;)switch(ce.mode){case R:if(ce.wrap===0){ce.mode=ne;break}for(;je<16;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(ce.wrap&2&&Te===35615){ce.check=0,pn[0]=Te&255,pn[1]=Te>>>8&255,ce.check=l(ce.check,pn,2,0),Te=0,je=0,ce.mode=I;break}if(ce.flags=0,ce.head&&(ce.head.done=!1),!(ce.wrap&1)||(((Te&255)<<8)+(Te>>8))%31){De.msg="incorrect header check",ce.mode=Y;break}if((Te&15)!==C){De.msg="unknown compression method",ce.mode=Y;break}if(Te>>>=4,je-=4,Rt=(Te&15)+8,ce.wbits===0)ce.wbits=Rt;else if(Rt>ce.wbits){De.msg="invalid window size",ce.mode=Y;break}ce.dmax=1<<Rt,De.adler=ce.check=1,ce.mode=Te&512?z:J,Te=0,je=0;break;case I:for(;je<16;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(ce.flags=Te,(ce.flags&255)!==C){De.msg="unknown compression method",ce.mode=Y;break}if(ce.flags&57344){De.msg="unknown header flags set",ce.mode=Y;break}ce.head&&(ce.head.text=Te>>8&1),ce.flags&512&&(pn[0]=Te&255,pn[1]=Te>>>8&255,ce.check=l(ce.check,pn,2,0)),Te=0,je=0,ce.mode=O;case O:for(;je<32;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.head&&(ce.head.time=Te),ce.flags&512&&(pn[0]=Te&255,pn[1]=Te>>>8&255,pn[2]=Te>>>16&255,pn[3]=Te>>>24&255,ce.check=l(ce.check,pn,4,0)),Te=0,je=0,ce.mode=k;case k:for(;je<16;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.head&&(ce.head.xflags=Te&255,ce.head.os=Te>>8),ce.flags&512&&(pn[0]=Te&255,pn[1]=Te>>>8&255,ce.check=l(ce.check,pn,2,0)),Te=0,je=0,ce.mode=G;case G:if(ce.flags&1024){for(;je<16;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.length=Te,ce.head&&(ce.head.extra_len=Te),ce.flags&512&&(pn[0]=Te&255,pn[1]=Te>>>8&255,ce.check=l(ce.check,pn,2,0)),Te=0,je=0}else ce.head&&(ce.head.extra=null);ce.mode=N;case N:if(ce.flags&1024&&(Be=ce.length,Be>Ue&&(Be=Ue),Be&&(ce.head&&(Rt=ce.head.extra_len-ce.length,ce.head.extra||(ce.head.extra=new Array(ce.head.extra_len)),o.arraySet(ce.head.extra,Ke,L,Be,Rt)),ce.flags&512&&(ce.check=l(ce.check,Ke,Be,L)),Ue-=Be,L+=Be,ce.length-=Be),ce.length))break e;ce.length=0,ce.mode=Z;case Z:if(ce.flags&2048){if(Ue===0)break e;Be=0;do Rt=Ke[L+Be++],ce.head&&Rt&&ce.length<65536&&(ce.head.name+=String.fromCharCode(Rt));while(Rt&&Be<Ue);if(ce.flags&512&&(ce.check=l(ce.check,Ke,Be,L)),Ue-=Be,L+=Be,Rt)break e}else ce.head&&(ce.head.name=null);ce.length=0,ce.mode=H;case H:if(ce.flags&4096){if(Ue===0)break e;Be=0;do Rt=Ke[L+Be++],ce.head&&Rt&&ce.length<65536&&(ce.head.comment+=String.fromCharCode(Rt));while(Rt&&Be<Ue);if(ce.flags&512&&(ce.check=l(ce.check,Ke,Be,L)),Ue-=Be,L+=Be,Rt)break e}else ce.head&&(ce.head.comment=null);ce.mode=j;case j:if(ce.flags&512){for(;je<16;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(Te!==(ce.check&65535)){De.msg="header crc mismatch",ce.mode=Y;break}Te=0,je=0}ce.head&&(ce.head.hcrc=ce.flags>>9&1,ce.head.done=!0),De.adler=ce.check=0,ce.mode=J;break;case z:for(;je<32;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}De.adler=ce.check=de(Te),Te=0,je=0,ce.mode=V;case V:if(ce.havedict===0)return De.next_out=Pe,De.avail_out=q,De.next_in=L,De.avail_in=Ue,ce.hold=Te,ce.bits=je,_;De.adler=ce.check=1,ce.mode=J;case J:if(He===v||He===y)break e;case ne:if(ce.last){Te>>>=je&7,je-=je&7,ce.mode=pe;break}for(;je<3;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}switch(ce.last=Te&1,Te>>>=1,je-=1,Te&3){case 0:ce.mode=le;break;case 1:if(et(ce),ce.mode=he,He===y){Te>>>=2,je-=2;break e}break;case 2:ce.mode=ae;break;case 3:De.msg="invalid block type",ce.mode=Y}Te>>>=2,je-=2;break;case le:for(Te>>>=je&7,je-=je&7;je<32;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if((Te&65535)!=(Te>>>16^65535)){De.msg="invalid stored block lengths",ce.mode=Y;break}if(ce.length=Te&65535,Te=0,je=0,ce.mode=ue,He===y)break e;case ue:ce.mode=K;case K:if(Be=ce.length,Be){if(Be>Ue&&(Be=Ue),Be>q&&(Be=q),Be===0)break e;o.arraySet(lt,Ke,L,Be,Pe),Ue-=Be,L+=Be,q-=Be,Pe+=Be,ce.length-=Be;break}ce.mode=J;break;case ae:for(;je<14;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(ce.nlen=(Te&31)+257,Te>>>=5,je-=5,ce.ndist=(Te&31)+1,Te>>>=5,je-=5,ce.ncode=(Te&15)+4,Te>>>=4,je-=4,ce.nlen>286||ce.ndist>30){De.msg="too many length or distance symbols",ce.mode=Y;break}ce.have=0,ce.mode=se;case se:for(;ce.have<ce.ncode;){for(;je<3;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.lens[Ht[ce.have++]]=Te&7,Te>>>=3,je-=3}for(;ce.have<19;)ce.lens[Ht[ce.have++]]=0;if(ce.lencode=ce.lendyn,ce.lenbits=7,Ut={bits:ce.lenbits},qt=d(m,ce.lens,0,19,ce.lencode,0,ce.work,Ut),ce.lenbits=Ut.bits,qt){De.msg="invalid code lengths set",ce.mode=Y;break}ce.have=0,ce.mode=fe;case fe:for(;ce.have<ce.nlen+ce.ndist;){for(;it=ce.lencode[Te&(1<<ce.lenbits)-1],gt=it>>>24,yt=it>>>16&255,Lt=it&65535,!(gt<=je);){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(Lt<16)Te>>>=gt,je-=gt,ce.lens[ce.have++]=Lt;else{if(Lt===16){for(Rn=gt+2;je<Rn;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(Te>>>=gt,je-=gt,ce.have===0){De.msg="invalid bit length repeat",ce.mode=Y;break}Rt=ce.lens[ce.have-1],Be=3+(Te&3),Te>>>=2,je-=2}else if(Lt===17){for(Rn=gt+3;je<Rn;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}Te>>>=gt,je-=gt,Rt=0,Be=3+(Te&7),Te>>>=3,je-=3}else{for(Rn=gt+7;je<Rn;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}Te>>>=gt,je-=gt,Rt=0,Be=11+(Te&127),Te>>>=7,je-=7}if(ce.have+Be>ce.nlen+ce.ndist){De.msg="invalid bit length repeat",ce.mode=Y;break}for(;Be--;)ce.lens[ce.have++]=Rt}}if(ce.mode===Y)break;if(ce.lens[256]===0){De.msg="invalid code -- missing end-of-block",ce.mode=Y;break}if(ce.lenbits=9,Ut={bits:ce.lenbits},qt=d(f,ce.lens,0,ce.nlen,ce.lencode,0,ce.work,Ut),ce.lenbits=Ut.bits,qt){De.msg="invalid literal/lengths set",ce.mode=Y;break}if(ce.distbits=6,ce.distcode=ce.distdyn,Ut={bits:ce.distbits},qt=d(h,ce.lens,ce.nlen,ce.ndist,ce.distcode,0,ce.work,Ut),ce.distbits=Ut.bits,qt){De.msg="invalid distances set",ce.mode=Y;break}if(ce.mode=he,He===y)break e;case he:ce.mode=we;case we:if(Ue>=6&&q>=258){De.next_out=Pe,De.avail_out=q,De.next_in=L,De.avail_in=Ue,ce.hold=Te,ce.bits=je,c(De,ve),Pe=De.next_out,lt=De.output,q=De.avail_out,L=De.next_in,Ke=De.input,Ue=De.avail_in,Te=ce.hold,je=ce.bits,ce.mode===J&&(ce.back=-1);break}for(ce.back=0;it=ce.lencode[Te&(1<<ce.lenbits)-1],gt=it>>>24,yt=it>>>16&255,Lt=it&65535,!(gt<=je);){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(yt&&(yt&240)==0){for(Ct=gt,Yt=yt,zt=Lt;it=ce.lencode[zt+((Te&(1<<Ct+Yt)-1)>>Ct)],gt=it>>>24,yt=it>>>16&255,Lt=it&65535,!(Ct+gt<=je);){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}Te>>>=Ct,je-=Ct,ce.back+=Ct}if(Te>>>=gt,je-=gt,ce.back+=gt,ce.length=Lt,yt===0){ce.mode=me;break}if(yt&32){ce.back=-1,ce.mode=J;break}if(yt&64){De.msg="invalid literal/length code",ce.mode=Y;break}ce.extra=yt&15,ce.mode=xe;case xe:if(ce.extra){for(Rn=ce.extra;je<Rn;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.length+=Te&(1<<ce.extra)-1,Te>>>=ce.extra,je-=ce.extra,ce.back+=ce.extra}ce.was=ce.length,ce.mode=Ie;case Ie:for(;it=ce.distcode[Te&(1<<ce.distbits)-1],gt=it>>>24,yt=it>>>16&255,Lt=it&65535,!(gt<=je);){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if((yt&240)==0){for(Ct=gt,Yt=yt,zt=Lt;it=ce.distcode[zt+((Te&(1<<Ct+Yt)-1)>>Ct)],gt=it>>>24,yt=it>>>16&255,Lt=it&65535,!(Ct+gt<=je);){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}Te>>>=Ct,je-=Ct,ce.back+=Ct}if(Te>>>=gt,je-=gt,ce.back+=gt,yt&64){De.msg="invalid distance code",ce.mode=Y;break}ce.offset=Lt,ce.extra=yt&15,ce.mode=ge;case ge:if(ce.extra){for(Rn=ce.extra;je<Rn;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}ce.offset+=Te&(1<<ce.extra)-1,Te>>>=ce.extra,je-=ce.extra,ce.back+=ce.extra}if(ce.offset>ce.dmax){De.msg="invalid distance too far back",ce.mode=Y;break}ce.mode=Oe;case Oe:if(q===0)break e;if(Be=ve-q,ce.offset>Be){if(Be=ce.offset-Be,Be>ce.whave&&ce.sane){De.msg="invalid distance too far back",ce.mode=Y;break}Be>ce.wnext?(Be-=ce.wnext,Ze=ce.wsize-Be):Ze=ce.wnext-Be,Be>ce.length&&(Be=ce.length),nt=ce.window}else nt=lt,Ze=Pe-ce.offset,Be=ce.length;Be>q&&(Be=q),q-=Be,ce.length-=Be;do lt[Pe++]=nt[Ze++];while(--Be);ce.length===0&&(ce.mode=we);break;case me:if(q===0)break e;lt[Pe++]=ce.length,q--,ce.mode=we;break;case pe:if(ce.wrap){for(;je<32;){if(Ue===0)break e;Ue--,Te|=Ke[L++]<<je,je+=8}if(ve-=q,De.total_out+=ve,ce.total+=ve,ve&&(De.adler=ce.check=ce.flags?l(ce.check,lt,ve,Pe-ve):s(ce.check,lt,ve,Pe-ve)),ve=q,(ce.flags?Te:de(Te))!==ce.check){De.msg="incorrect data check",ce.mode=Y;break}Te=0,je=0}ce.mode=re;case re:if(ce.wrap&&ce.flags){for(;je<32;){if(Ue===0)break e;Ue--,Te+=Ke[L++]<<je,je+=8}if(Te!==(ce.total&4294967295)){De.msg="incorrect length check",ce.mode=Y;break}Te=0,je=0}ce.mode=ie;case ie:qt=g;break e;case Y:qt=b;break e;case ee:return M;case W:default:return x}return De.next_out=Pe,De.avail_out=q,De.next_in=L,De.avail_in=Ue,ce.hold=Te,ce.bits=je,(ce.wsize||ve!==De.avail_out&&ce.mode<Y&&(ce.mode<pe||He!==u))&&ot(De,De.output,De.next_out,ve-De.avail_out)?(ce.mode=ee,M):(st-=De.avail_in,ve-=De.avail_out,De.total_in+=st,De.total_out+=ve,ce.total+=ve,ce.wrap&&ve&&(De.adler=ce.check=ce.flags?l(ce.check,lt,ve,De.next_out-ve):s(ce.check,lt,ve,De.next_out-ve)),De.data_type=ce.bits+(ce.last?64:0)+(ce.mode===J?128:0)+(ce.mode===he||ce.mode===ue?256:0),(st===0&&ve===0||He===u)&&qt===p&&(qt=E),qt)}function Ae(De){if(!De||!De.state)return x;var He=De.state;return He.window&&(He.window=null),De.state=null,p}function Fe(De,He){var ce;return!De||!De.state||(ce=De.state,(ce.wrap&2)==0)?x:(ce.head=He,He.done=!1,p)}function qe(De,He){var ce=He.length,Ke,lt,L;return!De||!De.state||(Ke=De.state,Ke.wrap!==0&&Ke.mode!==V)?x:Ke.mode===V&&(lt=1,lt=s(lt,He,ce,0),lt!==Ke.check)?b:(L=ot(De,He,ce,ce),L?(Ke.mode=ee,M):(Ke.havedict=1,p))}a.inflateReset=Se,a.inflateReset2=ke,a.inflateResetKeep=be,a.inflateInit=Ve,a.inflateInit2=Ye,a.inflate=X,a.inflateEnd=Ae,a.inflateGetHeader=Fe,a.inflateSetDictionary=qe,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(r,i,a){"use strict";var o=r("../utils/common"),s=15,l=852,c=592,d=0,m=1,f=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,_,x,b,M,E,C,R){var I=R.bits,O=0,k=0,G=0,N=0,Z=0,H=0,j=0,z=0,V=0,J=0,ne,le,ue,K,ae,se=null,fe=0,he,we=new o.Buf16(s+1),xe=new o.Buf16(s+1),Ie=null,ge=0,Oe,me,pe;for(O=0;O<=s;O++)we[O]=0;for(k=0;k<b;k++)we[_[x+k]]++;for(Z=I,N=s;N>=1&&we[N]===0;N--);if(Z>N&&(Z=N),N===0)return M[E++]=1<<24|64<<16|0,M[E++]=1<<24|64<<16|0,R.bits=1,0;for(G=1;G<N&&we[G]===0;G++);for(Z<G&&(Z=G),z=1,O=1;O<=s;O++)if(z<<=1,z-=we[O],z<0)return-1;if(z>0&&(g===d||N!==1))return-1;for(xe[1]=0,O=1;O<s;O++)xe[O+1]=xe[O]+we[O];for(k=0;k<b;k++)_[x+k]!==0&&(C[xe[_[x+k]]++]=k);if(g===d?(se=Ie=C,he=19):g===m?(se=h,fe-=257,Ie=u,ge-=257,he=256):(se=v,Ie=y,he=-1),J=0,k=0,O=G,ae=E,H=Z,j=0,ue=-1,V=1<<Z,K=V-1,g===m&&V>l||g===f&&V>c)return 1;for(;;){Oe=O-j,C[k]<he?(me=0,pe=C[k]):C[k]>he?(me=Ie[ge+C[k]],pe=se[fe+C[k]]):(me=32+64,pe=0),ne=1<<O-j,le=1<<H,G=le;do le-=ne,M[ae+(J>>j)+le]=Oe<<24|me<<16|pe|0;while(le!==0);for(ne=1<<O-1;J&ne;)ne>>=1;if(ne!==0?(J&=ne-1,J+=ne):J=0,k++,--we[O]==0){if(O===N)break;O=_[x+C[k]]}if(O>Z&&(J&K)!==ue){for(j===0&&(j=Z),ae+=G,H=O-j,z=1<<H;H+j<N&&(z-=we[H+j],!(z<=0));)H++,z<<=1;if(V+=1<<H,g===m&&V>l||g===f&&V>c)return 1;ue=J&K,M[ue]=Z<<24|H<<16|ae-E|0}}return J!==0&&(M[ae+J]=O-j<<24|64<<16|0),R.bits=Z,0}},{"../utils/common":36}],44:[function(r,i,a){"use strict";i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(r,i,a){"use strict";var o=r("../utils/common"),s=4,l=0,c=1,d=2;function m(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var f=0,h=1,u=2,v=3,y=258,p=29,g=256,_=g+1+p,x=30,b=19,M=2*_+1,E=15,C=16,R=7,I=256,O=16,k=17,G=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,V=new Array((_+2)*2);m(V);var J=new Array(x*2);m(J);var ne=new Array(z);m(ne);var le=new Array(y-v+1);m(le);var ue=new Array(p);m(ue);var K=new Array(x);m(K);function ae(X,Ae,Fe,qe,De){this.static_tree=X,this.extra_bits=Ae,this.extra_base=Fe,this.elems=qe,this.max_length=De,this.has_stree=X&&X.length}var se,fe,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?ne[X]:ne[256+(X>>>7)]}function Ie(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,Fe){X.bi_valid>C-Fe?(X.bi_buf|=Ae<<X.bi_valid&65535,Ie(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=Fe-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=Fe)}function Oe(X,Ae,Fe){ge(X,Fe[Ae*2],Fe[Ae*2+1])}function me(X,Ae){var Fe=0;do Fe|=X&1,X>>>=1,Fe<<=1;while(--Ae>0);return Fe>>>1}function pe(X){X.bi_valid===16?(Ie(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function re(X,Ae){var Fe=Ae.dyn_tree,qe=Ae.max_code,De=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ce=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,lt=Ae.stat_desc.max_length,L,Pe,Ue,q,Te,je,st=0;for(q=0;q<=E;q++)X.bl_count[q]=0;for(Fe[X.heap[X.heap_max]*2+1]=0,L=X.heap_max+1;L<M;L++)Pe=X.heap[L],q=Fe[Fe[Pe*2+1]*2+1]+1,q>lt&&(q=lt,st++),Fe[Pe*2+1]=q,!(Pe>qe)&&(X.bl_count[q]++,Te=0,Pe>=Ke&&(Te=ce[Pe-Ke]),je=Fe[Pe*2],X.opt_len+=je*(q+Te),He&&(X.static_len+=je*(De[Pe*2+1]+Te)));if(st!==0){do{for(q=lt-1;X.bl_count[q]===0;)q--;X.bl_count[q]--,X.bl_count[q+1]+=2,X.bl_count[lt]--,st-=2}while(st>0);for(q=lt;q!==0;q--)for(Pe=X.bl_count[q];Pe!==0;)Ue=X.heap[--L],!(Ue>qe)&&(Fe[Ue*2+1]!==q&&(X.opt_len+=(q-Fe[Ue*2+1])*Fe[Ue*2],Fe[Ue*2+1]=q),Pe--)}}function ie(X,Ae,Fe){var qe=new Array(E+1),De=0,He,ce;for(He=1;He<=E;He++)qe[He]=De=De+Fe[He-1]<<1;for(ce=0;ce<=Ae;ce++){var Ke=X[ce*2+1];Ke!==0&&(X[ce*2]=me(qe[Ke]++,Ke))}}function Y(){var X,Ae,Fe,qe,De,He=new Array(E+1);for(Fe=0,qe=0;qe<p-1;qe++)for(ue[qe]=Fe,X=0;X<1<<N[qe];X++)le[Fe++]=qe;for(le[Fe-1]=qe,De=0,qe=0;qe<16;qe++)for(K[qe]=De,X=0;X<1<<Z[qe];X++)ne[De++]=qe;for(De>>=7;qe<x;qe++)for(K[qe]=De<<7,X=0;X<1<<Z[qe]-7;X++)ne[256+De++]=qe;for(Ae=0;Ae<=E;Ae++)He[Ae]=0;for(X=0;X<=143;)V[X*2+1]=8,X++,He[8]++;for(;X<=255;)V[X*2+1]=9,X++,He[9]++;for(;X<=279;)V[X*2+1]=7,X++,He[7]++;for(;X<=287;)V[X*2+1]=8,X++,He[8]++;for(ie(V,_+1,He),X=0;X<x;X++)J[X*2+1]=5,J[X*2]=me(X,5);se=new ae(V,N,g+1,_,E),fe=new ae(J,Z,0,x,E),he=new ae(new Array(0),H,0,b,R)}function ee(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<x;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<b;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[I*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function W(X){X.bi_valid>8?Ie(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function P(X,Ae,Fe,qe){W(X),qe&&(Ie(X,Fe),Ie(X,~Fe)),o.arraySet(X.pending_buf,X.window,Ae,Fe,X.pending),X.pending+=Fe}function D(X,Ae,Fe,qe){var De=Ae*2,He=Fe*2;return X[De]<X[He]||X[De]===X[He]&&qe[Ae]<=qe[Fe]}function B(X,Ae,Fe){for(var qe=X.heap[Fe],De=Fe<<1;De<=X.heap_len&&(De<X.heap_len&&D(Ae,X.heap[De+1],X.heap[De],X.depth)&&De++,!D(Ae,qe,X.heap[De],X.depth));)X.heap[Fe]=X.heap[De],Fe=De,De<<=1;X.heap[Fe]=qe}function Q(X,Ae,Fe){var qe,De,He=0,ce,Ke;if(X.last_lit!==0)do qe=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],De=X.pending_buf[X.l_buf+He],He++,qe===0?Oe(X,De,Ae):(ce=le[De],Oe(X,ce+g+1,Ae),Ke=N[ce],Ke!==0&&(De-=ue[ce],ge(X,De,Ke)),qe--,ce=xe(qe),Oe(X,ce,Fe),Ke=Z[ce],Ke!==0&&(qe-=K[ce],ge(X,qe,Ke)));while(He<X.last_lit);Oe(X,I,Ae)}function de(X,Ae){var Fe=Ae.dyn_tree,qe=Ae.stat_desc.static_tree,De=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ce,Ke,lt=-1,L;for(X.heap_len=0,X.heap_max=M,ce=0;ce<He;ce++)Fe[ce*2]!==0?(X.heap[++X.heap_len]=lt=ce,X.depth[ce]=0):Fe[ce*2+1]=0;for(;X.heap_len<2;)L=X.heap[++X.heap_len]=lt<2?++lt:0,Fe[L*2]=1,X.depth[L]=0,X.opt_len--,De&&(X.static_len-=qe[L*2+1]);for(Ae.max_code=lt,ce=X.heap_len>>1;ce>=1;ce--)B(X,Fe,ce);L=He;do ce=X.heap[1],X.heap[1]=X.heap[X.heap_len--],B(X,Fe,1),Ke=X.heap[1],X.heap[--X.heap_max]=ce,X.heap[--X.heap_max]=Ke,Fe[L*2]=Fe[ce*2]+Fe[Ke*2],X.depth[L]=(X.depth[ce]>=X.depth[Ke]?X.depth[ce]:X.depth[Ke])+1,Fe[ce*2+1]=Fe[Ke*2+1]=L,X.heap[1]=L++,B(X,Fe,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],re(X,Ae),ie(Fe,lt,X.bl_count)}function Ce(X,Ae,Fe){var qe,De=-1,He,ce=Ae[0*2+1],Ke=0,lt=7,L=4;for(ce===0&&(lt=138,L=3),Ae[(Fe+1)*2+1]=65535,qe=0;qe<=Fe;qe++)He=ce,ce=Ae[(qe+1)*2+1],!(++Ke<lt&&He===ce)&&(Ke<L?X.bl_tree[He*2]+=Ke:He!==0?(He!==De&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[G*2]++,Ke=0,De=He,ce===0?(lt=138,L=3):He===ce?(lt=6,L=3):(lt=7,L=4))}function be(X,Ae,Fe){var qe,De=-1,He,ce=Ae[0*2+1],Ke=0,lt=7,L=4;for(ce===0&&(lt=138,L=3),qe=0;qe<=Fe;qe++)if(He=ce,ce=Ae[(qe+1)*2+1],!(++Ke<lt&&He===ce)){if(Ke<L)do Oe(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==De&&(Oe(X,He,X.bl_tree),Ke--),Oe(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(Oe(X,k,X.bl_tree),ge(X,Ke-3,3)):(Oe(X,G,X.bl_tree),ge(X,Ke-11,7));Ke=0,De=He,ce===0?(lt=138,L=3):He===ce?(lt=6,L=3):(lt=7,L=4)}}function Se(X){var Ae;for(Ce(X,X.dyn_ltree,X.l_desc.max_code),Ce(X,X.dyn_dtree,X.d_desc.max_code),de(X,X.bl_desc),Ae=b-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ke(X,Ae,Fe,qe){var De;for(ge(X,Ae-257,5),ge(X,Fe-1,5),ge(X,qe-4,4),De=0;De<qe;De++)ge(X,X.bl_tree[j[De]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,Fe-1)}function Ye(X){var Ae=4093624447,Fe;for(Fe=0;Fe<=31;Fe++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[Fe*2]!==0)return l;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return c;for(Fe=32;Fe<g;Fe++)if(X.dyn_ltree[Fe*2]!==0)return c;return l}var Ve=!1;function Me(X){Ve||(Y(),Ve=!0),X.l_desc=new we(X.dyn_ltree,se),X.d_desc=new we(X.dyn_dtree,fe),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,ee(X)}function Ge(X,Ae,Fe,qe){ge(X,(f<<1)+(qe?1:0),3),P(X,Ae,Fe,!0)}function We(X){ge(X,h<<1,3),Oe(X,I,V),pe(X)}function et(X,Ae,Fe,qe){var De,He,ce=0;X.level>0?(X.strm.data_type===d&&(X.strm.data_type=Ye(X)),de(X,X.l_desc),de(X,X.d_desc),ce=Se(X),De=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=De&&(De=He)):De=He=Fe+5,Fe+4<=De&&Ae!==-1?Ge(X,Ae,Fe,qe):X.strategy===s||He===De?(ge(X,(h<<1)+(qe?1:0),3),Q(X,V,J)):(ge(X,(u<<1)+(qe?1:0),3),ke(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ce+1),Q(X,X.dyn_ltree,X.dyn_dtree)),ee(X),qe&&W(X)}function ot(X,Ae,Fe){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=Fe&255,X.last_lit++,Ae===0?X.dyn_ltree[Fe*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[Fe]+g+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=et,a._tr_tally=ot,a._tr_align=We},{"../utils/common":36}],46:[function(r,i,a){"use strict";function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=o},{}],47:[function(r,i,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],48:[function(r,i,a){(function(o){"use strict";var s=r("base64-js"),l=r("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=o,a.SlowBuffer=M,a.INSPECT_MAX_BYTES=50;var d=2147483647;a.kMaxLength=d,o.TYPED_ARRAY_SUPPORT=m(),!o.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var P=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(P,D),P.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.byteOffset}});function f(P){if(P>d)throw new RangeError('The value "'+P+'" is invalid for option "size"');var D=new Uint8Array(P);return Object.setPrototypeOf(D,o.prototype),D}function o(P,D,B){if(typeof P=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(P)}return h(P,D,B)}typeof Symbol!="undefined"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192;function h(P,D,B){if(typeof P=="string")return p(P,D);if(ArrayBuffer.isView(P))return g(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Y(P,ArrayBuffer)||P&&Y(P.buffer,ArrayBuffer))return _(P,D,B);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=P.valueOf&&P.valueOf();if(Q!=null&&Q!==P)return o.from(Q,D,B);var de=x(P);if(de)return de;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return o.from(P[Symbol.toPrimitive]("string"),D,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}o.from=function(P,D,B){return h(P,D,B)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function v(P,D,B){return u(P),P<=0?f(P):D!==void 0?typeof B=="string"?f(P).fill(D,B):f(P).fill(D):f(P)}o.alloc=function(P,D,B){return v(P,D,B)};function y(P){return u(P),f(P<0?0:b(P)|0)}o.allocUnsafe=function(P){return y(P)},o.allocUnsafeSlow=function(P){return y(P)};function p(P,D){if((typeof D!="string"||D==="")&&(D="utf8"),!o.isEncoding(D))throw new TypeError("Unknown encoding: "+D);var B=E(P,D)|0,Q=f(B),de=Q.write(P,D);return de!==B&&(Q=Q.slice(0,de)),Q}function g(P){for(var D=P.length<0?0:b(P.length)|0,B=f(D),Q=0;Q<D;Q+=1)B[Q]=P[Q]&255;return B}function _(P,D,B){if(D<0||P.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<D+(B||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return D===void 0&&B===void 0?Q=new Uint8Array(P):B===void 0?Q=new Uint8Array(P,D):Q=new Uint8Array(P,D,B),Object.setPrototypeOf(Q,o.prototype),Q}function x(P){if(o.isBuffer(P)){var D=b(P.length)|0,B=f(D);return B.length===0||P.copy(B,0,0,D),B}if(P.length!==void 0)return typeof P.length!="number"||ee(P.length)?f(0):g(P);if(P.type==="Buffer"&&Array.isArray(P.data))return g(P.data)}function b(P){if(P>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return P|0}function M(P){return+P!=P&&(P=0),o.alloc(+P)}o.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==o.prototype},o.compare=function(D,B){if(Y(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),Y(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(D)||!o.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;for(var Q=D.length,de=B.length,Ce=0,be=Math.min(Q,de);Ce<be;++Ce)if(D[Ce]!==B[Ce]){Q=D[Ce],de=B[Ce];break}return Q<de?-1:de<Q?1:0},o.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return o.alloc(0);var Q;if(B===void 0)for(B=0,Q=0;Q<D.length;++Q)B+=D[Q].length;var de=o.allocUnsafe(B),Ce=0;for(Q=0;Q<D.length;++Q){var be=D[Q];if(Y(be,Uint8Array)&&(be=o.from(be)),!o.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(de,Ce),Ce+=be.length}return de};function E(P,D){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Y(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var B=P.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&B===0)return 0;for(var de=!1;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Oe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return re(P).length;default:if(de)return Q?-1:Oe(P).length;D=(""+D).toLowerCase(),de=!0}}o.byteLength=E;function C(P,D,B){var Q=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,D>>>=0,B<=D))return"";for(P||(P="utf8");;)switch(P){case"hex":return K(this,D,B);case"utf8":case"utf-8":return V(this,D,B);case"ascii":return le(this,D,B);case"latin1":case"binary":return ue(this,D,B);case"base64":return z(this,D,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,D,B);default:if(Q)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),Q=!0}}o.prototype._isBuffer=!0;function R(P,D,B){var Q=P[D];P[D]=P[B],P[B]=Q}o.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<D;B+=2)R(this,B,B+1);return this},o.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<D;B+=4)R(this,B,B+3),R(this,B+1,B+2);return this},o.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<D;B+=8)R(this,B,B+7),R(this,B+1,B+6),R(this,B+2,B+5),R(this,B+3,B+4);return this},o.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?V(this,0,D):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(D){if(!o.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:o.compare(this,D)===0},o.prototype.inspect=function(){var D="",B=a.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(D,B,Q,de,Ce){if(Y(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),Q===void 0&&(Q=D?D.length:0),de===void 0&&(de=0),Ce===void 0&&(Ce=this.length),B<0||Q>D.length||de<0||Ce>this.length)throw new RangeError("out of range index");if(de>=Ce&&B>=Q)return 0;if(de>=Ce)return-1;if(B>=Q)return 1;if(B>>>=0,Q>>>=0,de>>>=0,Ce>>>=0,this===D)return 0;for(var be=Ce-de,Se=Q-B,ke=Math.min(be,Se),Ye=this.slice(de,Ce),Ve=D.slice(B,Q),Me=0;Me<ke;++Me)if(Ye[Me]!==Ve[Me]){be=Ye[Me],Se=Ve[Me];break}return be<Se?-1:Se<be?1:0};function I(P,D,B,Q,de){if(P.length===0)return-1;if(typeof B=="string"?(Q=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,ee(B)&&(B=de?0:P.length-1),B<0&&(B=P.length+B),B>=P.length){if(de)return-1;B=P.length-1}else if(B<0)if(de)B=0;else return-1;if(typeof D=="string"&&(D=o.from(D,Q)),o.isBuffer(D))return D.length===0?-1:O(P,D,B,Q,de);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(P,D,B):Uint8Array.prototype.lastIndexOf.call(P,D,B):O(P,[D],B,Q,de);throw new TypeError("val must be string, number or Buffer")}function O(P,D,B,Q,de){var Ce=1,be=P.length,Se=D.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(P.length<2||D.length<2)return-1;Ce=2,be/=2,Se/=2,B/=2}function ke(We,et){return Ce===1?We[et]:We.readUInt16BE(et*Ce)}var Ye;if(de){var Ve=-1;for(Ye=B;Ye<be;Ye++)if(ke(P,Ye)===ke(D,Ve===-1?0:Ye-Ve)){if(Ve===-1&&(Ve=Ye),Ye-Ve+1===Se)return Ve*Ce}else Ve!==-1&&(Ye-=Ye-Ve),Ve=-1}else for(B+Se>be&&(B=be-Se),Ye=B;Ye>=0;Ye--){for(var Me=!0,Ge=0;Ge<Se;Ge++)if(ke(P,Ye+Ge)!==ke(D,Ge)){Me=!1;break}if(Me)return Ye}return-1}o.prototype.includes=function(D,B,Q){return this.indexOf(D,B,Q)!==-1},o.prototype.indexOf=function(D,B,Q){return I(this,D,B,Q,!0)},o.prototype.lastIndexOf=function(D,B,Q){return I(this,D,B,Q,!1)};function k(P,D,B,Q){B=Number(B)||0;var de=P.length-B;Q?(Q=Number(Q),Q>de&&(Q=de)):Q=de;var Ce=D.length;Q>Ce/2&&(Q=Ce/2);for(var be=0;be<Q;++be){var Se=parseInt(D.substr(be*2,2),16);if(ee(Se))return be;P[B+be]=Se}return be}function G(P,D,B,Q){return ie(Oe(D,P.length-B),P,B,Q)}function N(P,D,B,Q){return ie(me(D),P,B,Q)}function Z(P,D,B,Q){return N(P,D,B,Q)}function H(P,D,B,Q){return ie(re(D),P,B,Q)}function j(P,D,B,Q){return ie(pe(D,P.length-B),P,B,Q)}o.prototype.write=function(D,B,Q,de){if(B===void 0)de="utf8",Q=this.length,B=0;else if(Q===void 0&&typeof B=="string")de=B,Q=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(Q)?(Q=Q>>>0,de===void 0&&(de="utf8")):(de=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ce=this.length-B;if((Q===void 0||Q>Ce)&&(Q=Ce),D.length>0&&(Q<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");for(var be=!1;;)switch(de){case"hex":return k(this,D,B,Q);case"utf8":case"utf-8":return G(this,D,B,Q);case"ascii":return N(this,D,B,Q);case"latin1":case"binary":return Z(this,D,B,Q);case"base64":return H(this,D,B,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,D,B,Q);default:if(be)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(P,D,B){return D===0&&B===P.length?s.fromByteArray(P):s.fromByteArray(P.slice(D,B))}function V(P,D,B){B=Math.min(P.length,B);for(var Q=[],de=D;de<B;){var Ce=P[de],be=null,Se=Ce>239?4:Ce>223?3:Ce>191?2:1;if(de+Se<=B){var ke,Ye,Ve,Me;switch(Se){case 1:Ce<128&&(be=Ce);break;case 2:ke=P[de+1],(ke&192)==128&&(Me=(Ce&31)<<6|ke&63,Me>127&&(be=Me));break;case 3:ke=P[de+1],Ye=P[de+2],(ke&192)==128&&(Ye&192)==128&&(Me=(Ce&15)<<12|(ke&63)<<6|Ye&63,Me>2047&&(Me<55296||Me>57343)&&(be=Me));break;case 4:ke=P[de+1],Ye=P[de+2],Ve=P[de+3],(ke&192)==128&&(Ye&192)==128&&(Ve&192)==128&&(Me=(Ce&15)<<18|(ke&63)<<12|(Ye&63)<<6|Ve&63,Me>65535&&Me<1114112&&(be=Me))}}be===null?(be=65533,Se=1):be>65535&&(be-=65536,Q.push(be>>>10&1023|55296),be=56320|be&1023),Q.push(be),de+=Se}return ne(Q)}var J=4096;function ne(P){var D=P.length;if(D<=J)return String.fromCharCode.apply(String,P);for(var B="",Q=0;Q<D;)B+=String.fromCharCode.apply(String,P.slice(Q,Q+=J));return B}function le(P,D,B){var Q="";B=Math.min(P.length,B);for(var de=D;de<B;++de)Q+=String.fromCharCode(P[de]&127);return Q}function ue(P,D,B){var Q="";B=Math.min(P.length,B);for(var de=D;de<B;++de)Q+=String.fromCharCode(P[de]);return Q}function K(P,D,B){var Q=P.length;(!D||D<0)&&(D=0),(!B||B<0||B>Q)&&(B=Q);for(var de="",Ce=D;Ce<B;++Ce)de+=W[P[Ce]];return de}function ae(P,D,B){for(var Q=P.slice(D,B),de="",Ce=0;Ce<Q.length;Ce+=2)de+=String.fromCharCode(Q[Ce]+Q[Ce+1]*256);return de}o.prototype.slice=function(D,B){var Q=this.length;D=~~D,B=B===void 0?Q:~~B,D<0?(D+=Q,D<0&&(D=0)):D>Q&&(D=Q),B<0?(B+=Q,B<0&&(B=0)):B>Q&&(B=Q),B<D&&(B=D);var de=this.subarray(D,B);return Object.setPrototypeOf(de,o.prototype),de};function se(P,D,B){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+D>B)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(D,B,Q){D=D>>>0,B=B>>>0,Q||se(D,B,this.length);for(var de=this[D],Ce=1,be=0;++be<B&&(Ce*=256);)de+=this[D+be]*Ce;return de},o.prototype.readUIntBE=function(D,B,Q){D=D>>>0,B=B>>>0,Q||se(D,B,this.length);for(var de=this[D+--B],Ce=1;B>0&&(Ce*=256);)de+=this[D+--B]*Ce;return de},o.prototype.readUInt8=function(D,B){return D=D>>>0,B||se(D,1,this.length),this[D]},o.prototype.readUInt16LE=function(D,B){return D=D>>>0,B||se(D,2,this.length),this[D]|this[D+1]<<8},o.prototype.readUInt16BE=function(D,B){return D=D>>>0,B||se(D,2,this.length),this[D]<<8|this[D+1]},o.prototype.readUInt32LE=function(D,B){return D=D>>>0,B||se(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},o.prototype.readUInt32BE=function(D,B){return D=D>>>0,B||se(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},o.prototype.readIntLE=function(D,B,Q){D=D>>>0,B=B>>>0,Q||se(D,B,this.length);for(var de=this[D],Ce=1,be=0;++be<B&&(Ce*=256);)de+=this[D+be]*Ce;return Ce*=128,de>=Ce&&(de-=Math.pow(2,8*B)),de},o.prototype.readIntBE=function(D,B,Q){D=D>>>0,B=B>>>0,Q||se(D,B,this.length);for(var de=B,Ce=1,be=this[D+--de];de>0&&(Ce*=256);)be+=this[D+--de]*Ce;return Ce*=128,be>=Ce&&(be-=Math.pow(2,8*B)),be},o.prototype.readInt8=function(D,B){return D=D>>>0,B||se(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},o.prototype.readInt16LE=function(D,B){D=D>>>0,B||se(D,2,this.length);var Q=this[D]|this[D+1]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt16BE=function(D,B){D=D>>>0,B||se(D,2,this.length);var Q=this[D+1]|this[D]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt32LE=function(D,B){return D=D>>>0,B||se(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},o.prototype.readInt32BE=function(D,B){return D=D>>>0,B||se(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},o.prototype.readFloatLE=function(D,B){return D=D>>>0,B||se(D,4,this.length),l.read(this,D,!0,23,4)},o.prototype.readFloatBE=function(D,B){return D=D>>>0,B||se(D,4,this.length),l.read(this,D,!1,23,4)},o.prototype.readDoubleLE=function(D,B){return D=D>>>0,B||se(D,8,this.length),l.read(this,D,!0,52,8)},o.prototype.readDoubleBE=function(D,B){return D=D>>>0,B||se(D,8,this.length),l.read(this,D,!1,52,8)};function fe(P,D,B,Q,de,Ce){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>de||D<Ce)throw new RangeError('"value" argument is out of bounds');if(B+Q>P.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(D,B,Q,de){if(D=+D,B=B>>>0,Q=Q>>>0,!de){var Ce=Math.pow(2,8*Q)-1;fe(this,D,B,Q,Ce,0)}var be=1,Se=0;for(this[B]=D&255;++Se<Q&&(be*=256);)this[B+Se]=D/be&255;return B+Q},o.prototype.writeUIntBE=function(D,B,Q,de){if(D=+D,B=B>>>0,Q=Q>>>0,!de){var Ce=Math.pow(2,8*Q)-1;fe(this,D,B,Q,Ce,0)}var be=Q-1,Se=1;for(this[B+be]=D&255;--be>=0&&(Se*=256);)this[B+be]=D/Se&255;return B+Q},o.prototype.writeUInt8=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,1,255,0),this[B]=D&255,B+1},o.prototype.writeUInt16LE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,2,65535,0),this[B]=D&255,this[B+1]=D>>>8,B+2},o.prototype.writeUInt16BE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=D&255,B+2},o.prototype.writeUInt32LE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255,B+4},o.prototype.writeUInt32BE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4},o.prototype.writeIntLE=function(D,B,Q,de){if(D=+D,B=B>>>0,!de){var Ce=Math.pow(2,8*Q-1);fe(this,D,B,Q,Ce-1,-Ce)}var be=0,Se=1,ke=0;for(this[B]=D&255;++be<Q&&(Se*=256);)D<0&&ke===0&&this[B+be-1]!==0&&(ke=1),this[B+be]=(D/Se>>0)-ke&255;return B+Q},o.prototype.writeIntBE=function(D,B,Q,de){if(D=+D,B=B>>>0,!de){var Ce=Math.pow(2,8*Q-1);fe(this,D,B,Q,Ce-1,-Ce)}var be=Q-1,Se=1,ke=0;for(this[B+be]=D&255;--be>=0&&(Se*=256);)D<0&&ke===0&&this[B+be+1]!==0&&(ke=1),this[B+be]=(D/Se>>0)-ke&255;return B+Q},o.prototype.writeInt8=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=D&255,B+1},o.prototype.writeInt16LE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,2,32767,-32768),this[B]=D&255,this[B+1]=D>>>8,B+2},o.prototype.writeInt16BE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=D&255,B+2},o.prototype.writeInt32LE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,4,2147483647,-2147483648),this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},o.prototype.writeInt32BE=function(D,B,Q){return D=+D,B=B>>>0,Q||fe(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4};function he(P,D,B,Q,de,Ce){if(B+Q>P.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function we(P,D,B,Q,de){return D=+D,B=B>>>0,de||he(P,D,B,4,34028234663852886e22,-34028234663852886e22),l.write(P,D,B,Q,23,4),B+4}o.prototype.writeFloatLE=function(D,B,Q){return we(this,D,B,!0,Q)},o.prototype.writeFloatBE=function(D,B,Q){return we(this,D,B,!1,Q)};function xe(P,D,B,Q,de){return D=+D,B=B>>>0,de||he(P,D,B,8,17976931348623157e292,-17976931348623157e292),l.write(P,D,B,Q,52,8),B+8}o.prototype.writeDoubleLE=function(D,B,Q){return xe(this,D,B,!0,Q)},o.prototype.writeDoubleBE=function(D,B,Q){return xe(this,D,B,!1,Q)},o.prototype.copy=function(D,B,Q,de){if(!o.isBuffer(D))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!de&&de!==0&&(de=this.length),B>=D.length&&(B=D.length),B||(B=0),de>0&&de<Q&&(de=Q),de===Q||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),D.length-B<de-Q&&(de=D.length-B+Q);var Ce=de-Q;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,Q,de);else if(this===D&&Q<B&&B<de)for(var be=Ce-1;be>=0;--be)D[be+B]=this[be+Q];else Uint8Array.prototype.set.call(D,this.subarray(Q,de),B);return Ce},o.prototype.fill=function(D,B,Q,de){if(typeof D=="string"){if(typeof B=="string"?(de=B,B=0,Q=this.length):typeof Q=="string"&&(de=Q,Q=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!o.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(D.length===1){var Ce=D.charCodeAt(0);(de==="utf8"&&Ce<128||de==="latin1")&&(D=Ce)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(B<0||this.length<B||this.length<Q)throw new RangeError("Out of range index");if(Q<=B)return this;B=B>>>0,Q=Q===void 0?this.length:Q>>>0,D||(D=0);var be;if(typeof D=="number")for(be=B;be<Q;++be)this[be]=D;else{var Se=o.isBuffer(D)?D:o.from(D,de),ke=Se.length;if(ke===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(be=0;be<Q-B;++be)this[be+B]=Se[be%ke]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function ge(P){if(P=P.split("=")[0],P=P.trim().replace(Ie,""),P.length<2)return"";for(;P.length%4!=0;)P=P+"=";return P}function Oe(P,D){D=D||1/0;for(var B,Q=P.length,de=null,Ce=[],be=0;be<Q;++be){if(B=P.charCodeAt(be),B>55295&&B<57344){if(!de){if(B>56319){(D-=3)>-1&&Ce.push(239,191,189);continue}else if(be+1===Q){(D-=3)>-1&&Ce.push(239,191,189);continue}de=B;continue}if(B<56320){(D-=3)>-1&&Ce.push(239,191,189),de=B;continue}B=(de-55296<<10|B-56320)+65536}else de&&(D-=3)>-1&&Ce.push(239,191,189);if(de=null,B<128){if((D-=1)<0)break;Ce.push(B)}else if(B<2048){if((D-=2)<0)break;Ce.push(B>>6|192,B&63|128)}else if(B<65536){if((D-=3)<0)break;Ce.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((D-=4)<0)break;Ce.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Ce}function me(P){for(var D=[],B=0;B<P.length;++B)D.push(P.charCodeAt(B)&255);return D}function pe(P,D){for(var B,Q,de,Ce=[],be=0;be<P.length&&!((D-=2)<0);++be)B=P.charCodeAt(be),Q=B>>8,de=B%256,Ce.push(de),Ce.push(Q);return Ce}function re(P){return s.toByteArray(ge(P))}function ie(P,D,B,Q){for(var de=0;de<Q&&!(de+B>=D.length||de>=P.length);++de)D[de+B]=P[de];return de}function Y(P,D){return P instanceof D||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===D.name}function ee(P){return P!==P}var W=function(){for(var P="0123456789abcdef",D=new Array(256),B=0;B<16;++B)for(var Q=B*16,de=0;de<16;++de)D[Q+de]=P[B]+P[de];return D}()}).call(this,r("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(r,i,a){var o=r("buffer").Buffer;i.exports=function(s,l){if(!!o.isBuffer(s)&&!!o.isBuffer(l)){if(typeof s.equals=="function")return s.equals(l);if(s.length!==l.length)return!1;for(var c=0;c<s.length;c++)if(s[c]!==l[c])return!1;return!0}}},{buffer:48}],50:[function(r,i,a){i.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},{}],51:[function(r,i,a){(function(o){function s(M){return Array.isArray?Array.isArray(M):b(M)==="[object Array]"}a.isArray=s;function l(M){return typeof M=="boolean"}a.isBoolean=l;function c(M){return M===null}a.isNull=c;function d(M){return M==null}a.isNullOrUndefined=d;function m(M){return typeof M=="number"}a.isNumber=m;function f(M){return typeof M=="string"}a.isString=f;function h(M){return typeof M=="symbol"}a.isSymbol=h;function u(M){return M===void 0}a.isUndefined=u;function v(M){return b(M)==="[object RegExp]"}a.isRegExp=v;function y(M){return typeof M=="object"&&M!==null}a.isObject=y;function p(M){return b(M)==="[object Date]"}a.isDate=p;function g(M){return b(M)==="[object Error]"||M instanceof Error}a.isError=g;function _(M){return typeof M=="function"}a.isFunction=_;function x(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M=="undefined"}a.isPrimitive=x,a.isBuffer=o.isBuffer;function b(M){return Object.prototype.toString.call(M)}}).call(this,{isBuffer:r("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(r,i,a){var o=Object.create||O,s=Object.keys||k,l=Function.prototype.bind||G;function c(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var d=10,m;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),m=f.x===0}catch{m=!1}m?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(N){if(typeof N!="number"||N<0||N!==N)throw new TypeError('"defaultMaxListeners" must be a positive number');d=N}}):c.defaultMaxListeners=d,c.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||isNaN(Z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Z,this};function h(N){return N._maxListeners===void 0?c.defaultMaxListeners:N._maxListeners}c.prototype.getMaxListeners=function(){return h(this)};function u(N,Z,H){if(Z)N.call(H);else for(var j=N.length,z=R(N,j),V=0;V<j;++V)z[V].call(H)}function v(N,Z,H,j){if(Z)N.call(H,j);else for(var z=N.length,V=R(N,z),J=0;J<z;++J)V[J].call(H,j)}function y(N,Z,H,j,z){if(Z)N.call(H,j,z);else for(var V=N.length,J=R(N,V),ne=0;ne<V;++ne)J[ne].call(H,j,z)}function p(N,Z,H,j,z,V){if(Z)N.call(H,j,z,V);else for(var J=N.length,ne=R(N,J),le=0;le<J;++le)ne[le].call(H,j,z,V)}function g(N,Z,H,j){if(Z)N.apply(H,j);else for(var z=N.length,V=R(N,z),J=0;J<z;++J)V[J].apply(H,j)}c.prototype.emit=function(Z){var H,j,z,V,J,ne,le=Z==="error";if(ne=this._events,ne)le=le&&ne.error==null;else if(!le)return!1;if(le){if(arguments.length>1&&(H=arguments[1]),H instanceof Error)throw H;var ue=new Error('Unhandled "error" event. ('+H+")");throw ue.context=H,ue;return!1}if(j=ne[Z],!j)return!1;var K=typeof j=="function";switch(z=arguments.length,z){case 1:u(j,K,this);break;case 2:v(j,K,this,arguments[1]);break;case 3:y(j,K,this,arguments[1],arguments[2]);break;case 4:p(j,K,this,arguments[1],arguments[2],arguments[3]);break;default:for(V=new Array(z-1),J=1;J<z;J++)V[J-1]=arguments[J];g(j,K,this,V)}return!0};function _(N,Z,H,j){var z,V,J;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(V=N._events,V?(V.newListener&&(N.emit("newListener",Z,H.listener?H.listener:H),V=N._events),J=V[Z]):(V=N._events=o(null),N._eventsCount=0),!J)J=V[Z]=H,++N._eventsCount;else if(typeof J=="function"?J=V[Z]=j?[H,J]:[J,H]:j?J.unshift(H):J.push(H),!J.warned&&(z=h(N),z&&z>0&&J.length>z)){J.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+J.length+' "'+String(Z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');ne.name="MaxListenersExceededWarning",ne.emitter=N,ne.type=Z,ne.count=J.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",ne.name,ne.message)}return N}c.prototype.addListener=function(Z,H){return _(this,Z,H,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(Z,H){return _(this,Z,H,!0)};function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var N=new Array(arguments.length),Z=0;Z<N.length;++Z)N[Z]=arguments[Z];this.listener.apply(this.target,N)}}function b(N,Z,H){var j={fired:!1,wrapFn:void 0,target:N,type:Z,listener:H},z=l.call(x,j);return z.listener=H,j.wrapFn=z,z}c.prototype.once=function(Z,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.on(Z,b(this,Z,H)),this},c.prototype.prependOnceListener=function(Z,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Z,b(this,Z,H)),this},c.prototype.removeListener=function(Z,H){var j,z,V,J,ne;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(z=this._events,!z)return this;if(j=z[Z],!j)return this;if(j===H||j.listener===H)--this._eventsCount==0?this._events=o(null):(delete z[Z],z.removeListener&&this.emit("removeListener",Z,j.listener||H));else if(typeof j!="function"){for(V=-1,J=j.length-1;J>=0;J--)if(j[J]===H||j[J].listener===H){ne=j[J].listener,V=J;break}if(V<0)return this;V===0?j.shift():C(j,V),j.length===1&&(z[Z]=j[0]),z.removeListener&&this.emit("removeListener",Z,ne||H)}return this},c.prototype.removeAllListeners=function(Z){var H,j,z;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):j[Z]&&(--this._eventsCount==0?this._events=o(null):delete j[Z]),this;if(arguments.length===0){var V=s(j),J;for(z=0;z<V.length;++z)J=V[z],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(H=j[Z],typeof H=="function")this.removeListener(Z,H);else if(H)for(z=H.length-1;z>=0;z--)this.removeListener(Z,H[z]);return this};function M(N,Z,H){var j=N._events;if(!j)return[];var z=j[Z];return z?typeof z=="function"?H?[z.listener||z]:[z]:H?I(z):R(z,z.length):[]}c.prototype.listeners=function(Z){return M(this,Z,!0)},c.prototype.rawListeners=function(Z){return M(this,Z,!1)},c.listenerCount=function(N,Z){return typeof N.listenerCount=="function"?N.listenerCount(Z):E.call(N,Z)},c.prototype.listenerCount=E;function E(N){var Z=this._events;if(Z){var H=Z[N];if(typeof H=="function")return 1;if(H)return H.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function C(N,Z){for(var H=Z,j=H+1,z=N.length;j<z;H+=1,j+=1)N[H]=N[j];N.pop()}function R(N,Z){for(var H=new Array(Z),j=0;j<Z;++j)H[j]=N[j];return H}function I(N){for(var Z=new Array(N.length),H=0;H<Z.length;++H)Z[H]=N[H].listener||N[H];return Z}function O(N){var Z=function(){};return Z.prototype=N,new Z}function k(N){var Z=[];for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&Z.push(H);return H}function G(N){var Z=this;return function(){return Z.apply(N,arguments)}}},{}],53:[function(r,i,a){var o=r("./lib/parser");function s(){return(0,eval)("this")}i.exports={create:function(l,c){if(c=c||s(),l instanceof c.ArrayBuffer){var d=r("./lib/dom-bufferstream");return new o(new d(l,0,l.byteLength,!0,c))}else{var m=r("./lib/bufferstream");return new o(new m(l,0,l.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(r,i,a){function o(s,l,c,d){this.buffer=s,this.offset=l||0,c=typeof c=="number"?c:s.length,this.endPosition=this.offset+c,this.setBigEndian(d)}o.prototype={setBigEndian:function(s){this.bigEndian=!!s},nextUInt8:function(){var s=this.buffer.readUInt8(this.offset);return this.offset+=1,s},nextInt8:function(){var s=this.buffer.readInt8(this.offset);return this.offset+=1,s},nextUInt16:function(){var s=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,s},nextUInt32:function(){var s=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,s},nextInt16:function(){var s=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,s},nextInt32:function(){var s=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,s},nextFloat:function(){var s=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,s},nextDouble:function(){var s=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,s},nextBuffer:function(s){var l=this.buffer.slice(this.offset,this.offset+s);return this.offset+=s,l},remainingLength:function(){return this.endPosition-this.offset},nextString:function(s){var l=this.buffer.toString("utf8",this.offset,this.offset+s);return this.offset+=s,l},mark:function(){var s=this;return{openWithOffset:function(l){return l=(l||0)+this.offset,new o(s.buffer,l,s.endPosition-l,s.bigEndian)},offset:this.offset}},offsetFrom:function(s){return this.offset-s.offset},skip:function(s){this.offset+=s},branch:function(s,l){return l=typeof l=="number"?l:this.endPosition-(this.offset+s),new o(this.buffer,this.offset+s,l,this.bigEndian)}},i.exports=o},{}],55:[function(r,i,a){function o(h){return parseInt(h,10)}var s=3600,l=60;function c(h,u){h=h.map(o),u=u.map(o);var v=h[0],y=h[1]-1,p=h[2],g=u[0],_=u[1],x=u[2],b=Date.UTC(v,y,p,g,_,x,0),M=b/1e3;return M}function d(h){var u=h.substr(0,10).split("-"),v=h.substr(11,8).split(":"),y=h.substr(19,6),p=y.split(":").map(o),g=p[0]*s+p[1]*l,_=c(u,v);if(_-=g,typeof _=="number"&&!isNaN(_))return _}function m(h){var u=h.split(" "),v=u[0].split(":"),y=u[1].split(":"),p=c(v,y);if(typeof p=="number"&&!isNaN(p))return p}function f(h){var u=h.length===19&&h.charAt(4)===":",v=h.length===25&&h.charAt(10)==="T",y;if(v)return d(h);if(u)return m(h)}i.exports={parseDateWithSpecFormat:m,parseDateWithTimezoneFormat:d,parseExifDate:f}},{}],56:[function(r,i,a){function o(s,l,c,d,m,f){this.global=m,l=l||0,c=c||s.byteLength-l,this.arrayBuffer=s.slice(l,l+c),this.view=new m.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(d),this.offset=0,this.parentOffset=(f||0)+l}o.prototype={setBigEndian:function(s){this.littleEndian=!s},nextUInt8:function(){var s=this.view.getUint8(this.offset);return this.offset+=1,s},nextInt8:function(){var s=this.view.getInt8(this.offset);return this.offset+=1,s},nextUInt16:function(){var s=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,s},nextUInt32:function(){var s=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,s},nextInt16:function(){var s=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,s},nextInt32:function(){var s=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,s},nextFloat:function(){var s=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s},nextDouble:function(){var s=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s},nextBuffer:function(s){var l=this.arrayBuffer.slice(this.offset,this.offset+s);return this.offset+=s,l},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(s){var l=this.arrayBuffer.slice(this.offset,this.offset+s);return l=String.fromCharCode.apply(null,new this.global.Uint8Array(l)),this.offset+=s,l},mark:function(){var s=this;return{openWithOffset:function(l){return l=(l||0)+this.offset,new o(s.arrayBuffer,l,s.arrayBuffer.byteLength-l,!s.littleEndian,s.global,s.parentOffset)},offset:this.offset,getParentOffset:function(){return s.parentOffset}}},offsetFrom:function(s){return this.parentOffset+this.offset-(s.offset+s.getParentOffset())},skip:function(s){this.offset+=s},branch:function(s,l){return l=typeof l=="number"?l:this.arrayBuffer.byteLength-(this.offset+s),new o(this.arrayBuffer,this.offset+s,l,!this.littleEndian,this.global,this.parentOffset)}},i.exports=o},{}],57:[function(r,i,a){i.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(r,i,a){function o(m,f){switch(m){case 1:return f.nextUInt8();case 3:return f.nextUInt16();case 4:return f.nextUInt32();case 5:return[f.nextUInt32(),f.nextUInt32()];case 6:return f.nextInt8();case 8:return f.nextUInt16();case 9:return f.nextUInt32();case 10:return[f.nextInt32(),f.nextInt32()];case 11:return f.nextFloat();case 12:return f.nextDouble();default:throw new Error("Invalid format while decoding: "+m)}}function s(m){switch(m){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function l(m,f){var h=f.nextUInt16(),u=f.nextUInt16(),v=s(u),y=f.nextUInt32(),p=v*y,g,_,x;if(p>4&&(f=m.openWithOffset(f.nextUInt32())),u===2){g=f.nextString(y);var b=g.indexOf("\0");b!==-1&&(g=g.substr(0,b))}else if(u===7)g=f.nextBuffer(y);else if(u!==0)for(g=[],x=0;x<y;++x)g.push(o(u,f));return p<4&&f.skip(4-p),[h,g,u]}function c(m,f,h){var u=f.nextUInt16(),v,y;for(y=0;y<u;++y)v=l(m,f),h(v[0],v[1],v[2])}function d(m){var f=m.nextString(6);if(f!=="Exif\0\0")throw new Error("Invalid EXIF header");var h=m.mark(),u=m.nextUInt16();if(u===18761)m.setBigEndian(!1);else if(u===19789)m.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(m.nextUInt16()!==42)throw new Error("Invalid TIFF data");return h}i.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(m,f){var h;try{h=d(m)}catch{return!1}var u,v,y,p=h.openWithOffset(m.nextUInt32()),g=this.IFD0;c(h,p,function(R,I,O){switch(R){case 34853:v=I[0];break;case 34665:u=I[0];break;default:f(g,R,I,O);break}});var _=p.nextUInt32();if(_!==0){var x=h.openWithOffset(_);c(h,x,f.bind(null,this.IFD1))}if(v){var b=h.openWithOffset(v);c(h,b,f.bind(null,this.GPSIFD))}if(u){var M=h.openWithOffset(u),E=this.InteropIFD;c(h,M,function(R,I,O){R===40965?y=I[0]:f(E,R,I,O)})}if(y){var C=h.openWithOffset(y);c(h,C,f.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(r,i,a){i.exports={parseSections:function(o,s){var l,c;for(o.setBigEndian(!0);o.remainingLength()>0&&c!==218;){if(o.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");c=o.nextUInt8(),c>=208&&c<=217||c===218?l=0:l=o.nextUInt16()-2,s(c,o.branch(0,l)),o.skip(l)}},getSizeFromSOFSection:function(o){return o.skip(1),{height:o.nextUInt16(),width:o.nextUInt16()}},getSectionName:function(o){var s,l;switch(o){case 216:s="SOI";break;case 196:s="DHT";break;case 219:s="DQT";break;case 221:s="DRI";break;case 218:s="SOS";break;case 254:s="COM";break;case 217:s="EOI";break;default:o>=224&&o<=239?(s="APP",l=o-224):o>=192&&o<=207&&o!==196&&o!==200&&o!==204?(s="SOF",l=o-192):o>=208&&o<=215&&(s="RST",l=o-208);break}var c={name:s};return typeof l=="number"&&(c.index=l),c}}},{}],60:[function(r,i,a){var o=r("./jpeg"),s=r("./exif"),l=r("./simplify");function c(m,f,h,u,v,y,p){this.startMarker=m,this.tags=f,this.imageSize=h,this.thumbnailOffset=u,this.thumbnailLength=v,this.thumbnailType=y,this.app1Offset=p}c.prototype={hasThumbnail:function(m){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof m!="string"?!0:m.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:m.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var m=this._getThumbnailStream(),f;return o.parseSections(m,function(h,u){o.getSectionName(h).name==="SOF"&&(f=o.getSizeFromSOFSection(u))}),f}};function d(m){this.stream=m,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}d.prototype={enableBinaryFields:function(m){return this.flags.readBinaryTags=!!m,this},enablePointers:function(m){return this.flags.hidePointers=!m,this},enableTagNames:function(m){return this.flags.resolveTagNames=!!m,this},enableImageSize:function(m){return this.flags.imageSize=!!m,this},enableReturnTags:function(m){return this.flags.returnTags=!!m,this},enableSimpleValues:function(m){return this.flags.simplifyValues=!!m,this},parse:function(){var m=this.stream.mark(),f=m.openWithOffset(0),h=this.flags,u,v,y,p,g,_,x,b,M;return h.resolveTagNames&&(x=r("./exif-tags")),h.resolveTagNames?(u={},b=function(E){return u[E.name]},M=function(E,C){u[E.name]=C}):(u=[],b=function(E){var C;for(C=0;C<u.length;++C)if(u[C].type===E.type&&u[C].section===E.section)return u.value},M=function(E,C){var R;for(R=0;R<u.length;++R)if(u[R].type===E.type&&u[R].section===E.section){u.value=C;return}}),o.parseSections(f,function(E,C){var R,I=C.offsetFrom(m);E===225?(R=s.parseTags(C,function(O,k,G,N){if(!(!h.readBinaryTags&&N===7)){if(k===513){if(y=G[0],h.hidePointers)return}else if(k===514){if(p=G[0],h.hidePointers)return}else if(k===259&&(g=G[0],h.hidePointers))return;if(!!h.returnTags)if(h.simplifyValues&&(G=l.simplifyValue(G,N)),h.resolveTagNames){var Z=O===s.GPSIFD?x.gps:x.exif,H=Z[k];H||(H=x.exif[k]),u.hasOwnProperty(H)||(u[H]=G)}else u.push({section:O,type:k,value:G})}}),R&&(_=I)):h.imageSize&&o.getSectionName(E).name==="SOF"&&(v=o.getSizeFromSOFSection(C))}),h.simplifyValues&&(l.castDegreeValues(b,M),l.castDateValues(b,M)),new c(m,u,v,y,p,g,_)}},i.exports=d},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(r,i,a){var o=r("./exif"),s=r("./date"),l=[{section:o.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:o.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],c=[{section:o.SubIFD,type:306,name:"ModifyDate"},{section:o.SubIFD,type:36867,name:"DateTimeOriginal"},{section:o.SubIFD,type:36868,name:"CreateDate"},{section:o.SubIFD,type:306,name:"ModifyDate"}];i.exports={castDegreeValues:function(d,m){l.forEach(function(f){var h=d(f);if(h){var u=d({section:f.section,type:f.refType,name:f.refName}),v=u===f.posVal?1:-1,y=(h[0]+h[1]/60+h[2]/3600)*v;m(f,y)}})},castDateValues:function(d,m){c.forEach(function(f){var h=d(f);if(h){var u=s.parseExifDate(h);typeof u!="undefined"&&m(f,u)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(f){return m===10||m===5?f[0]/f[1]:f}),d.length===1&&(d=d[0])),d}}},{"./date":55,"./exif":58}],62:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault"),s=o(r("@babel/runtime/helpers/toConsumableArray")),l=function(h){return(0,s.default)(h).map(function(u){return u.charCodeAt(0)})},c=l("META-INF/mozilla.rsa"),d=l("[Content_Types].xml"),m=l("_rels/.rels");i.exports=function(f){var h=f instanceof Uint8Array?f:new Uint8Array(f);if(!(h&&h.length>1))return null;var u=function(O,k){k=Object.assign({offset:0},k);for(var G=0;G<O.length;G++)if(k.mask){if(O[G]!==(k.mask[G]&h[G+k.offset]))return!1}else if(O[G]!==h[G+k.offset])return!1;return!0},v=function(O,k){return u(l(O),k)};if(u([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(u([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(u([71,73,70]))return{ext:"gif",mime:"image/gif"};if(u([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(u([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((u([73,73,42,0])||u([77,77,0,42]))&&u([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(u([73,73,42,0])||u([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(u([66,77]))return{ext:"bmp",mime:"image/bmp"};if(u([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(u([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(u([80,75,3,4])){if(u([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(u(c,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(v("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(v("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(v("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var y=function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return O.findIndex(function(G,N,Z){return N>=k&&Z[N]===80&&Z[N+1]===75&&Z[N+2]===3&&Z[N+3]===4})},p=0,g=!1,_=null;do{var x=p+30;if(g||(g=u(d,{offset:x})||u(m,{offset:x})),_||(v("word/",{offset:x})?_={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:v("ppt/",{offset:x})?_={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:v("xl/",{offset:x})&&(_={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),g&&_)return _;p=y(h,x)}while(p>=0);if(_)return _}if(u([80,75])&&(h[2]===3||h[2]===5||h[2]===7)&&(h[3]===4||h[3]===6||h[3]===8))return{ext:"zip",mime:"application/zip"};if(u([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(u([82,97,114,33,26,7])&&(h[6]===0||h[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(u([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(u([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(u([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(u([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(u([51,103,112,53])||u([0,0,0])&&u([102,116,121,112],{offset:4})&&(u([109,112,52,49],{offset:8})||u([109,112,52,50],{offset:8})||u([105,115,111,109],{offset:8})||u([105,115,111,50],{offset:8})||u([109,109,112,52],{offset:8})||u([77,52,86],{offset:8})||u([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(u([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(u([26,69,223,163])){var b=h.subarray(4,4+4096),M=b.findIndex(function(I,O,k){return k[O]===66&&k[O+1]===130});if(M!==-1){var E=M+3,C=function(O){return(0,s.default)(O).every(function(k,G){return b[E+G]===k.charCodeAt(0)})};if(C("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(C("webm"))return{ext:"webm",mime:"video/webm"}}}if(u([0,0,0,20,102,116,121,112,113,116,32,32])||u([102,114,101,101],{offset:4})||u([102,116,121,112,113,116,32,32],{offset:4})||u([109,100,97,116],{offset:4})||u([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(u([82,73,70,70])){if(u([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(u([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(u([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(u([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(u([0,0,1,186])||u([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(u([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var R=0;R<2&&R<h.length-16;R++){if(u([73,68,51],{offset:R})||u([255,226],{offset:R,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(u([255,228],{offset:R,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(u([255,248],{offset:R,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(u([255,240],{offset:R,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(u([102,116,121,112,77,52,65],{offset:4})||u([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(u([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(u([79,103,103,83]))return u([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:u([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:u([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:u([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:u([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(u([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(u([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(u([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(u([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(u([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(u([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((h[0]===67||h[0]===70)&&u([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(u([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(u([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(u([119,79,70,70])&&(u([0,1,0,0],{offset:4})||u([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(u([119,79,70,50])&&(u([0,1,0,0],{offset:4})||u([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(u([76,80],{offset:34})&&(u([0,0,1],{offset:8})||u([1,0,2],{offset:8})||u([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(u([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(u([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(u([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(u([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(u([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(u([37,33]))return{ext:"ps",mime:"application/postscript"};if(u([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(u([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(u([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(u([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(u([77,83,67,70])||u([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(u([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(u([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(u([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(u([31,160])||u([31,157]))return{ext:"Z",mime:"application/x-compress"};if(u([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(u([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(u([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(u([71],{offset:4})&&(u([71],{offset:192})||u([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(u([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(u([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(u([0,0,0,12,106,80,32,32,13,10,135,10])){if(u([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(u([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(u([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(u([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(u([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(v("<?xml "))return{ext:"xml",mime:"application/xml"};if(u([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(u([102,116,121,112],{offset:4})){if(u([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(u([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(u([104,101,105,99],{offset:8})||u([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(u([104,101,118,99],{offset:8})||u([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return u([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(r,i,a){"use strict";var o=r("is-callable"),s=Object.prototype.toString,l=Object.prototype.hasOwnProperty,c=function(u,v,y){for(var p=0,g=u.length;p<g;p++)l.call(u,p)&&(y==null?v(u[p],p,u):v.call(y,u[p],p,u))},d=function(u,v,y){for(var p=0,g=u.length;p<g;p++)y==null?v(u.charAt(p),p,u):v.call(y,u.charAt(p),p,u)},m=function(u,v,y){for(var p in u)l.call(u,p)&&(y==null?v(u[p],p,u):v.call(y,u[p],p,u))},f=function(u,v,y){if(!o(v))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=y),s.call(u)==="[object Array]"?c(u,v,p):typeof u=="string"?d(u,v,p):m(u,v,p)};i.exports=f},{"is-callable":77}],64:[function(r,i,a){"use strict";function o(d,m,f,h){var u=0,h=h===void 0?{}:h,v=h.loop===void 0?null:h.loop,y=h.palette===void 0?null:h.palette;if(m<=0||f<=0||m>65535||f>65535)throw new Error("Width/Height invalid.");function p(R){var I=R.length;if(I<2||I>256||I&I-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return I}d[u++]=71,d[u++]=73,d[u++]=70,d[u++]=56,d[u++]=57,d[u++]=97;var g=0,_=0;if(y!==null){for(var x=p(y);x>>=1;)++g;if(x=1<<g,--g,h.background!==void 0){if(_=h.background,_>=x)throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(d[u++]=m&255,d[u++]=m>>8&255,d[u++]=f&255,d[u++]=f>>8&255,d[u++]=(y!==null?128:0)|g,d[u++]=_,d[u++]=0,y!==null)for(var b=0,M=y.length;b<M;++b){var E=y[b];d[u++]=E>>16&255,d[u++]=E>>8&255,d[u++]=E&255}if(v!==null){if(v<0||v>65535)throw new Error("Loop count invalid.");d[u++]=33,d[u++]=255,d[u++]=11,d[u++]=78,d[u++]=69,d[u++]=84,d[u++]=83,d[u++]=67,d[u++]=65,d[u++]=80,d[u++]=69,d[u++]=50,d[u++]=46,d[u++]=48,d[u++]=3,d[u++]=1,d[u++]=v&255,d[u++]=v>>8&255,d[u++]=0}var C=!1;this.addFrame=function(R,I,O,k,G,N){if(C===!0&&(--u,C=!1),N=N===void 0?{}:N,R<0||I<0||R>65535||I>65535)throw new Error("x/y invalid.");if(O<=0||k<=0||O>65535||k>65535)throw new Error("Width/Height invalid.");if(G.length<O*k)throw new Error("Not enough pixels for the frame size.");var Z=!0,H=N.palette;if(H==null&&(Z=!1,H=y),H==null)throw new Error("Must supply either a local or global palette.");for(var j=p(H),z=0;j>>=1;)++z;j=1<<z;var V=N.delay===void 0?0:N.delay,J=N.disposal===void 0?0:N.disposal;if(J<0||J>3)throw new Error("Disposal out of range.");var ne=!1,le=0;if(N.transparent!==void 0&&N.transparent!==null&&(ne=!0,le=N.transparent,le<0||le>=j))throw new Error("Transparent color index.");if((J!==0||ne||V!==0)&&(d[u++]=33,d[u++]=249,d[u++]=4,d[u++]=J<<2|(ne===!0?1:0),d[u++]=V&255,d[u++]=V>>8&255,d[u++]=le,d[u++]=0),d[u++]=44,d[u++]=R&255,d[u++]=R>>8&255,d[u++]=I&255,d[u++]=I>>8&255,d[u++]=O&255,d[u++]=O>>8&255,d[u++]=k&255,d[u++]=k>>8&255,d[u++]=Z===!0?128|z-1:0,Z===!0)for(var ue=0,K=H.length;ue<K;++ue){var ae=H[ue];d[u++]=ae>>16&255,d[u++]=ae>>8&255,d[u++]=ae&255}return u=s(d,u,z<2?2:z,G),u},this.end=function(){return C===!1&&(d[u++]=59,C=!0),u},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(R){d=R},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(R){u=R}}function s(d,m,f,h){d[m++]=f;var u=m++,v=1<<f,y=v-1,p=v+1,g=p+1,_=f+1,x=0,b=0;function M(Z){for(;x>=Z;)d[m++]=b&255,b>>=8,x-=8,m===u+256&&(d[u]=255,u=m++)}function E(Z){b|=Z<<x,x+=_,M(8)}var C=h[0]&y,R={};E(v);for(var I=1,O=h.length;I<O;++I){var k=h[I]&y,G=C<<8|k,N=R[G];if(N===void 0){for(b|=C<<x,x+=_;x>=8;)d[m++]=b&255,b>>=8,x-=8,m===u+256&&(d[u]=255,u=m++);g===4096?(E(v),g=p+1,_=f+1,R={}):(g>=1<<_&&++_,R[G]=g++),C=k}else C=N}return E(C),E(p),M(1),u+1===m?d[u]=0:(d[u]=m-u-1,d[m++]=0),m}function l(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=d[m++]|d[m++]<<8,h=d[m++]|d[m++]<<8,u=d[m++],v=u>>7,y=u&7,p=1<<y+1,g=d[m++];d[m++];var _=null,x=null;v&&(_=m,x=p,m+=p*3);var b=!0,M=[],E=0,C=null,R=0,I=null;for(this.width=f,this.height=h;b&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,I=d[m++]|d[m++]<<8,m++;else for(m+=12;;){var O=d[m++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;m+=O}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var k=d[m++];E=d[m++]|d[m++]<<8,C=d[m++],(k&1)==0&&(C=null),R=k>>2&7,m++;break;case 254:for(;;){var O=d[m++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;m+=O}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var G=d[m++]|d[m++]<<8,N=d[m++]|d[m++]<<8,Z=d[m++]|d[m++]<<8,H=d[m++]|d[m++]<<8,j=d[m++],z=j>>7,V=j>>6&1,J=j&7,ne=1<<J+1,le=_,ue=x,K=!1;if(z){var K=!0;le=m,ue=ne,m+=ne*3}var ae=m;for(m++;;){var O=d[m++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;m+=O}M.push({x:G,y:N,width:Z,height:H,has_local_palette:K,palette_offset:le,palette_size:ue,data_offset:ae,data_length:m-ae,transparent_index:C,interlaced:!!V,delay:E,disposal:R});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return M.length},this.loopCount=function(){return I},this.frameInfo=function(se){if(se<0||se>=M.length)throw new Error("Frame index out of range.");return M[se]},this.decodeAndBlitFrameBGRA=function(se,fe){var he=this.frameInfo(se),we=he.width*he.height,xe=new Uint8Array(we);c(d,he.data_offset,xe,we);var Ie=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var Oe=he.width,me=f-Oe,pe=Oe,re=(he.y*f+he.x)*4,ie=((he.y+he.height)*f+he.x)*4,Y=re,ee=me*4;he.interlaced===!0&&(ee+=f*4*7);for(var W=8,P=0,D=xe.length;P<D;++P){var B=xe[P];if(pe===0&&(Y+=ee,pe=Oe,Y>=ie&&(ee=me*4+f*4*(W-1),Y=re+(Oe+me)*(W<<1),W>>=1)),B===ge)Y+=4;else{var Q=d[Ie+B*3],de=d[Ie+B*3+1],Ce=d[Ie+B*3+2];fe[Y++]=Ce,fe[Y++]=de,fe[Y++]=Q,fe[Y++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(se,fe){var he=this.frameInfo(se),we=he.width*he.height,xe=new Uint8Array(we);c(d,he.data_offset,xe,we);var Ie=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var Oe=he.width,me=f-Oe,pe=Oe,re=(he.y*f+he.x)*4,ie=((he.y+he.height)*f+he.x)*4,Y=re,ee=me*4;he.interlaced===!0&&(ee+=f*4*7);for(var W=8,P=0,D=xe.length;P<D;++P){var B=xe[P];if(pe===0&&(Y+=ee,pe=Oe,Y>=ie&&(ee=me*4+f*4*(W-1),Y=re+(Oe+me)*(W<<1),W>>=1)),B===ge)Y+=4;else{var Q=d[Ie+B*3],de=d[Ie+B*3+1],Ce=d[Ie+B*3+2];fe[Y++]=Q,fe[Y++]=de,fe[Y++]=Ce,fe[Y++]=255}--pe}}}function c(d,m,f,h){for(var u=d[m++],v=1<<u,y=v+1,p=y+1,g=u+1,_=(1<<g)-1,x=0,b=0,M=0,E=d[m++],C=new Int32Array(4096),R=null;;){for(;x<16&&E!==0;)b|=d[m++]<<x,x+=8,E===1?E=d[m++]:--E;if(x<g)break;var I=b&_;if(b>>=g,x-=g,I===v){p=y+1,g=u+1,_=(1<<g)-1,R=null;continue}else if(I===y)break;for(var O=I<p?I:R,k=0,G=O;G>v;)G=C[G]>>8,++k;var N=G,Z=M+k+(O!==I?1:0);if(Z>h){console.log("Warning, gif stream longer than expected.");return}f[M++]=N,M+=k;var H=M;for(O!==I&&(f[M++]=N),G=O;k--;)G=C[G],f[--H]=G&255,G>>=8;R!==null&&p<4096&&(C[p++]=R<<8|N,p>=_+1&&g<12&&(++g,_=_<<1|1)),R=I}return M!==h&&console.log("Warning, gif stream shorter than expected."),f}try{a.GifWriter=o,a.GifReader=l}catch{}},{}],65:[function(r,i,a){(function(o){"use strict";class s{constructor(...c){if(c.length===0)throw new Error("constructor requires parameters");let d=c[0];if(d!==null&&typeof d=="object")if(d instanceof s){let m=d.bitmap;this.bitmap={width:m.width,height:m.height,data:new o(m.width*m.height*4)},m.data.copy(this.bitmap.data)}else if(d.width&&d.height&&d.data)this.bitmap=d;else throw new Error("unrecognized constructor parameters");else if(typeof d=="number"&&typeof c[1]=="number"){let m=d,f=c[1],h=c[2];this.bitmap={width:m,height:f},o.isBuffer(h)?this.bitmap.data=h:(this.bitmap.data=new o(m*f*4),typeof h=="number"&&this.fillRGBA(h))}else throw new Error("unrecognized constructor parameters")}blit(c,d,m,f,h,u,v){if(f+u>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(d+u>c.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(h+v>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(m+v>c.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let y=this.bitmap.data,p=c.bitmap.data,g=this.bitmap.width*4,_=c.bitmap.width*4,x=u*4,b=h*g+f*4,M=m*_+d*4;for(;--v>=0;)y.copy(p,M,b,b+x),b+=g,M+=_;return this}fillRGBA(c){let d=this.bitmap.data,m=this.bitmap.height*4,f=0;for(;f<m;)d.writeUInt32BE(c,f),f+=4;for(;f<d.length;)d.copy(d,f,0,m),f+=m;return this}getRGBA(c,d){let m=(d*this.bitmap.width+c)*4;return this.bitmap.data.readUInt32BE(m)}getRGBASet(){let c=new Set,d=this.bitmap.data;for(let m=0;m<d.length;m+=4)c.add(d.readUInt32BE(m,!0));return c}greyscale(){let c=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(d,m,f)=>{let h=Math.round(.299*c[f]+.587*c[f+1]+.114*c[f+2]);c[f]=h,c[f+1]=h,c[f+2]=h}),this}reframe(c,d,m,f,h){let u=c<0?0:c,v=d<0?0:d,y=m+u>this.bitmap.width?this.bitmap.width-u:m,p=f+v>this.bitmap.height?this.bitmap.height-v:f,g=c<0?-c:0,_=d<0?-d:0,x;if(h===void 0){if(u!==c||v!=d||y!==m||p!==f)throw new GifError("fillRGBA required for this reframing");x=new s(m,f)}else x=new s(m,f,h);return this.blit(x,g,_,u,v,y,p),this.bitmap=x.bitmap,this}scale(c){if(c===1)return;if(!Number.isInteger(c)||c<1)throw new Error("the scale must be an integer >= 1");let d=this.bitmap.width,m=this.bitmap.height,f=d*c*4,h=this.bitmap.data,u=new o(m*f*c),v=0,y,p=0;for(let g=0;g<m;++g){y=p;for(let _=0;_<d;++_){let x=h.readUInt32BE(v,!0);for(let b=0;b<c;++b)u.writeUInt32BE(x,p),p+=4;v+=4}for(let _=1;_<c;++_)u.copy(u,p,y,p),p+=f,y+=f}return this.bitmap={width:d*c,height:m*c,data:u},this}scanAllCoords(c){let d=this.bitmap.width,m=this.bitmap.data.length,f=0,h=0;for(let u=0;u<m;u+=4)c(f,h,u),++f===d&&(f=0,++h)}scanAllIndexes(c){let d=this.bitmap.data.length;for(let m=0;m<d;m+=4)c(m)}}i.exports=s}).call(this,r("buffer").Buffer)},{buffer:48}],66:[function(r,i,a){"use strict";class o{constructor(c,d,m){this.width=m.width,this.height=m.height,this.loops=m.loops,this.usesTransparency=m.usesTransparency,this.colorScope=m.colorScope,this.frames=d,this.buffer=c}}o.GlobalColorsPreferred=0,o.GlobalColorsOnly=1,o.LocalColorsOnly=2;class s extends Error{constructor(c){super(c);c instanceof Error&&(this.stack="Gif"+c.stack)}}a.Gif=o,a.GifError=s},{}],67:[function(r,i,a){(function(o,s){"use strict";let l=r("omggif"),{Gif:c,GifError:d}=r("./gif"),m;o.nextTick(()=>{m=r("./gifutil")});let{GifFrame:f}=r("./gifframe"),h=200,u=100;class v{constructor(I={}){this._transparentRGB=null,typeof I.transparentRGB=="number"&&I.transparentRGB!==0&&(this._transparentRGBA=I.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(I){try{let O;try{O=new l.GifReader(I)}catch(Z){throw new d(Z)}let k=O.numFrames(),G=[],N={width:O.width,height:O.height,loops:O.loopCount()};N.usesTransparency=!1;for(let Z=0;Z<k;++Z){let H=this._decodeFrame(O,Z,N.usesTransparency);G.push(H.frame),H.usesTransparency&&(N.usesTransparency=!0)}return Promise.resolve(new c(I,G,N))}catch(O){return Promise.reject(O)}}encodeGif(I,O={}){try{if(I===null||I.length===0)throw new d("there are no frames");let k=m.getMaxDimensions(I);return O=Object.assign({},O),O.width=k.maxWidth,O.height=k.maxHeight,O.loops=O.loops||0,O.colorScope=O.colorScope||c.GlobalColorsPreferred,Promise.resolve(this._encodeGif(I,O))}catch(k){return Promise.reject(k)}}_decodeFrame(I,O,k){let G,N;try{if(G=I.frameInfo(O),N=new s(I.width*I.height*4),I.decodeAndBlitFrameRGBA(O,N),G.width!==I.width||G.height!==I.height){if(G.y&&(N=N.slice(G.y*I.width*4)),I.width>G.width)for(let j=0;j<G.height;++j)N.copy(N,j*G.width*4,(G.x+j*I.width)*4,(G.x+j*I.width)*4+G.width*4);N=N.slice(0,G.width*G.height*4)}}catch(j){throw new d(j)}let Z=!1;if(this._transparentRGBA===null){if(!k)for(let j=3;j<N.length;j+=4)N[j]===0&&(Z=!0,j=N.length)}else for(let j=3;j<N.length;j+=4)N[j]===0&&(N.writeUInt32BE(this._transparentRGBA,j-3),Z=!0);return{frame:new f(G.width,G.height,N,{xOffset:G.x,yOffset:G.y,disposalMethod:G.disposal,interlaced:G.interlaced,delayCentisecs:G.delay}),usesTransparency:Z}}_encodeGif(I,O){let k;if(O.colorScope===c.LocalColorsOnly)k=m.getColorInfo(I,0);else if(k=m.getColorInfo(I,256),!k.colors){if(O.colorScope===c.GlobalColorsOnly)throw new d("Too many color indexes for global color table");O.colorScope=c.LocalColorsOnly}O.usesTransparency=k.usesTransparency;let G=k.palettes;return O.colorScope===c.LocalColorsOnly?_(I,O,2e3,G):g(I,O,2e3,k)}_getSizeEstimateGlobal(I,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=h+3*256,G=E(I);return O.forEach(N=>{k+=b(N,G)}),k}_getSizeEstimateLocal(I,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=h;for(let G=0;G<O.length;++G){let N=I[G],Z=E(N);k+=b(O[G],Z)}return k}}a.GifCodec=v;function y(R,I){let O=R.indexOf(I);return O===-1?null:O}function p(R,I){for(var O=0,k=R.length-1,G;O<=k;)if(G=Math.floor((O+k)/2),R[G]>I)k=G-1;else if(R[G]<I)O=G+1;else return G;return null}function g(R,I,O,k){let G={colors:k.colors.slice(),usesTransparency:k.usesTransparency};x(G);let N={palette:G.colors,loop:I.loops},Z=new s(O),H;try{H=new l.GifWriter(Z,I.width,I.height,N)}catch(j){throw new d(j)}for(let j=0;j<R.length;++j)Z=C(H,j,R[j],k,!1);return new c(Z.slice(0,H.end()),R,I)}function _(R,I,O,k){let G={loop:I.loops},N=new s(O),Z;try{Z=new l.GifWriter(N,I.width,I.height,G)}catch(H){throw new d(H)}for(let H=0;H<R.length;++H)N=C(Z,H,R[H],k[H],!0);return new c(N.slice(0,Z.end()),R,I)}function x(R){let I=R.colors;R.usesTransparency&&I.push(0);let O=I.length,k=2;for(;O>k;)k<<=1;I.length=k,I.fill(0,O)}function b(R,I){let O=R.bitmap.width*R.bitmap.height;return O=Math.ceil(O*I/8),O+=Math.ceil(O/255),u+O+3*256}function M(R,I,O){let k=O.colors,G=k.length<=8?y:p,N=I.bitmap.data,Z=new s(N.length/4),H=k.length,j=0,z=0;for(;j<N.length;){if(N[j+3]!==0){let V=N.readUInt32BE(j,!0)>>8&16777215;Z[z]=G(k,V)}else Z[z]=H;j+=4,++z}if(O.usesTransparency){if(H===256)throw new d(`Frame ${R} already has 256 colorsand so can't use transparency`)}else H=null;return{buffer:Z,transparentIndex:H}}function E(R){let I=R.indexCount,O=0;for(--I;I;)++O,I>>=1;return O>0?O:1}function C(R,I,O,k,G){if(O.interlaced)throw new d("writing interlaced GIFs is not supported");let N=M(I,O,k),Z={delay:O.delayCentisecs,disposal:O.disposalMethod,transparent:N.transparentIndex};G&&(x(k),Z.palette=k.colors);try{let H=R.getOutputBuffer(),j=R.getOutputBufferPosition(),z,V=!0;for(;V;)if(z=R.addFrame(O.xOffset,O.yOffset,O.bitmap.width,O.bitmap.height,N.buffer,Z),V=!1,z>=H.length-1){let J=new s(H.length*1.5);H.copy(J),R.setOutputBuffer(J),R.setOutputBufferPosition(j),H=J,V=!0}return H}catch(H){throw new d(H)}}}).call(this,r("_process"),r("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(r,i,a){"use strict";let o=r("./bitmapimage"),{GifError:s}=r("./gif");class l extends o{constructor(...d){super(...d);if(d[0]instanceof l){let m=d[0];this.xOffset=m.xOffset,this.yOffset=m.yOffset,this.disposalMethod=m.disposalMethod,this.delayCentisecs=m.delayCentisecs,this.interlaced=m.interlaced}else{let m=d[d.length-1],f={};typeof m=="object"&&!(m instanceof o)&&(f=m),this.xOffset=f.xOffset||0,this.yOffset=f.yOffset||0,this.disposalMethod=f.disposalMethod!==void 0?f.disposalMethod:l.DisposeToBackgroundColor,this.delayCentisecs=f.delayCentisecs||8,this.interlaced=f.interlaced||!1}}getPalette(){let d=new Set,m=this.bitmap.data,f=0,h=!1;for(;f<m.length;){if(m[f+3]===0)h=!0;else{let p=m.readUInt32BE(f,!0)>>8&16777215;d.add(p)}f+=4}let u=new Array(d.size),v=d.values();for(f=0;f<u.length;++f)u[f]=v.next().value;u.sort((p,g)=>p-g);let y=u.length;return h&&++y,{colors:u,usesTransparency:h,indexCount:y}}}l.DisposeToAnything=0,l.DisposeNothing=1,l.DisposeToBackgroundColor=2,l.DisposeToPrevious=3,a.GifFrame=l},{"./bitmapimage":65,"./gif":66}],69:[function(r,i,a){(function(o){"use strict";let s=r("fs"),l=r("image-q"),c=r("./bitmapimage"),{GifFrame:d}=r("./gifframe"),{GifError:m}=r("./gif"),{GifCodec:f}=r("./gifcodec"),h=[".jpg",".jpeg",".png",".bmp"],u=new f;a.cloneFrames=function(g){let _=[];return g.forEach(x=>{_.push(new d(x))}),_},a.getColorInfo=function(g,_){let x=!1,b=[];for(let I=0;I<g.length;++I){let O=g[I].getPalette();if(O.usesTransparency&&(x=!0),O.indexCount>256)throw new m(`Frame ${I} uses more than 256 color indexes`);b.push(O)}if(_===0)return{usesTransparency:x,palettes:b};let M=new Set;b.forEach(I=>{I.colors.forEach(O=>{M.add(O)})});let E=M.size;if(x&&++E,_&&E>_)return{usesTransparency:x,palettes:b};let C=new Array(M.size),R=M.values();for(let I=0;I<C.length;++I)C[I]=R.next().value;return C.sort((I,O)=>I-O),{colors:C,indexCount:E,usesTransparency:x,palettes:b}},a.copyAsJimp=function(g,_){return a.shareAsJimp(g,new c(_))},a.getMaxDimensions=function(g){let _=0,x=0;return g.forEach(b=>{let M=b.xOffset+b.bitmap.width;M>_&&(_=M);let E=b.yOffset+b.bitmap.height;E>x&&(x=E)}),{maxWidth:_,maxHeight:x}},a.quantizeDekker=function(g,_,x){_=_||256,v(g,"NeuQuantFloat",_,0,x)},a.quantizeSorokin=function(g,_,x,b){_=_||256,x=x||"min-pop";let M;switch(x){case"min-pop":M=2;break;case"top-pop":M=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${x}'`)}v(g,"RGBQuant",_,M,b)},a.quantizeWu=function(g,_,x,b){if(_=_||256,x=x||5,x<1||x>8)throw new Error("Invalid quantization quality");v(g,"WuQuant",_,x,b)},a.read=function(g,_){return _=_||u,o.isBuffer(g)?_.decodeGif(g):y(g).then(x=>_.decodeGif(x))},a.shareAsJimp=function(g,_){let x=new g(_.bitmap.width,_.bitmap.height,0);return x.bitmap.data=_.bitmap.data,x},a.write=function(g,_,x,b){b=b||u;let M=g.match(/\.[a-zA-Z]+$/);if(M!==null&&h.includes(M[0].toLowerCase()))throw new Error(`GIF '${g}' has an unexpected suffix`);return b.encodeGif(_,x).then(E=>p(g,E.buffer).then(()=>E))};function v(g,_,x,b,M){let E=Array.isArray(g)?g:[g],C=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(M){if(C.indexOf(M.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${M.ditherAlgorithm}'`);M.serpentine===void 0&&(M.serpentine=!0),M.minimumColorDistanceToDither===void 0&&(M.minimumColorDistanceToDither=0),M.calculateErrorLikeGIMP===void 0&&(M.calculateErrorLikeGIMP=!1)}let R=new l.distance.Euclidean,I=new l.palette[_](R,x,b),O;M?O=new l.image.ErrorDiffusionArray(R,l.image.ErrorDiffusionArrayKernel[M.ditherAlgorithm],M.serpentine,M.minimumColorDistanceToDither,M.calculateErrorLikeGIMP):O=new l.image.NearestColor(R);let k=[];E.forEach(N=>{let Z=N.bitmap.data,H=new ArrayBuffer(Z.length),j=new Uint32Array(H);for(let V=0,J=0;V<Z.length;V+=4,++J)j[J]=Z.readUInt32LE(V,!0);let z=l.utils.PointContainer.fromUint32Array(j,N.bitmap.width,N.bitmap.height);I.sample(z),k.push(z)});let G=I.quantize();for(let N=0;N<E.length;++N){let Z=E[N].bitmap.data,j=O.quantize(k[N],G).toUint32Array();for(let z=0,V=0;z<Z.length;z+=4,++V)Z.writeUInt32LE(j[V],z)}}function y(g){return new Promise((_,x)=>{s.readFile(g,(b,M)=>b?x(b):_(M))})}function p(g,_){return new Promise((x,b)=>{s.writeFile(g,_,M=>M?b(M):x())})}}).call(this,{isBuffer:r("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(r,i,a){"use strict";let o=r("./bitmapimage"),{Gif:s,GifError:l}=r("./gif"),{GifCodec:c}=r("./gifcodec"),{GifFrame:d}=r("./gifframe"),m=r("./gifutil");i.exports={BitmapImage:o,Gif:s,GifCodec:c,GifFrame:d,GifUtil:m,GifError:l}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(r,i,a){(function(o){var s;typeof Gt!="undefined"?s=Gt:typeof o!="undefined"?s=o:typeof self!="undefined"?s=self:s={},i.exports=s}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{}],72:[function(r,i,a){var o=r("http"),s=r("url"),l=i.exports;for(var c in o)o.hasOwnProperty(c)&&(l[c]=o[c]);l.request=function(m,f){return m=d(m),o.request.call(this,m,f)},l.get=function(m,f){return m=d(m),o.get.call(this,m,f)};function d(m){if(typeof m=="string"&&(m=s.parse(m)),m.protocol||(m.protocol="https:"),m.protocol!=="https:")throw new Error('Protocol "'+m.protocol+'" not supported. Expected "https:"');return m}},{http:156,url:180}],73:[function(r,i,a){a.read=function(o,s,l,c,d){var m,f,h=d*8-c-1,u=(1<<h)-1,v=u>>1,y=-7,p=l?d-1:0,g=l?-1:1,_=o[s+p];for(p+=g,m=_&(1<<-y)-1,_>>=-y,y+=h;y>0;m=m*256+o[s+p],p+=g,y-=8);for(f=m&(1<<-y)-1,m>>=-y,y+=c;y>0;f=f*256+o[s+p],p+=g,y-=8);if(m===0)m=1-v;else{if(m===u)return f?NaN:(_?-1:1)*(1/0);f=f+Math.pow(2,c),m=m-v}return(_?-1:1)*f*Math.pow(2,m-c)},a.write=function(o,s,l,c,d,m){var f,h,u,v=m*8-d-1,y=(1<<v)-1,p=y>>1,g=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=c?0:m-1,x=c?1:-1,b=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,f=y):(f=Math.floor(Math.log(s)/Math.LN2),s*(u=Math.pow(2,-f))<1&&(f--,u*=2),f+p>=1?s+=g/u:s+=g*Math.pow(2,1-p),s*u>=2&&(f++,u/=2),f+p>=y?(h=0,f=y):f+p>=1?(h=(s*u-1)*Math.pow(2,d),f=f+p):(h=s*Math.pow(2,p-1)*Math.pow(2,d),f=0));d>=8;o[l+_]=h&255,_+=x,h/=256,d-=8);for(f=f<<d|h,v+=d;v>0;o[l+_]=f&255,_+=x,f/=256,v-=8);o[l+_-x]|=b*128}},{}],74:[function(r,i,a){(function(s,l){typeof a=="object"&&typeof i=="object"?i.exports=l():typeof n=="function"&&n.amd?n("iq",[],l):typeof a=="object"?a.iq=l():s.iq=l()})(this,function(){return function(o){var s={};function l(c){if(s[c])return s[c].exports;var d=s[c]={exports:{},id:c,loaded:!1};return o[c].call(d.exports,d,d.exports,l),d.loaded=!0,d.exports}return l.m=o,l.c=s,l.p="",l(0)}([function(o,s,l){"use strict";var c=l(1);s.constants=c;var d=l(3);s.conversion=d;var m=l(12);s.distance=m;var f=l(20);s.palette=f;var h=l(30);s.image=h;var u=l(35);s.quality=u;var v=l(37);s.utils=v},function(o,s,l){"use strict";var c=l(2);s.bt709=c},function(o,s){"use strict";var l;(function(m){m[m.RED=.2126]="RED",m[m.GREEN=.7152]="GREEN",m[m.BLUE=.0722]="BLUE",m[m.WHITE=1]="WHITE"})(l||(l={})),s.Y=l;var c;(function(m){m[m.RED=.64]="RED",m[m.GREEN=.3]="GREEN",m[m.BLUE=.15]="BLUE",m[m.WHITE=.3127]="WHITE"})(c||(c={})),s.x=c;var d;(function(m){m[m.RED=.33]="RED",m[m.GREEN=.6]="GREEN",m[m.BLUE=.06]="BLUE",m[m.WHITE=.329]="WHITE"})(d||(d={})),s.y=d},function(o,s,l){"use strict";var c=l(4);s.rgb2xyz=c.rgb2xyz;var d=l(5);s.rgb2hsl=d.rgb2hsl;var m=l(7);s.rgb2lab=m.rgb2lab;var f=l(9);s.lab2xyz=f.lab2xyz;var h=l(10);s.lab2rgb=h.lab2rgb;var u=l(8);s.xyz2lab=u.xyz2lab;var v=l(11);s.xyz2rgb=v.xyz2rgb},function(o,s){"use strict";function l(d){return d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92}function c(d,m,f){return d=l(d/255),m=l(m/255),f=l(f/255),{x:d*.4124+m*.3576+f*.1805,y:d*.2126+m*.7152+f*.0722,z:d*.0193+m*.1192+f*.9505}}s.rgb2xyz=c},function(o,s,l){"use strict";var c=l(6);function d(m,f,h){var u=c.min3(m,f,h),v=c.max3(m,f,h),y=v-u,p=(u+v)/510,g=0;p>0&&p<1&&(g=y/(p<.5?v+u:510-v-u));var _=0;return y>0&&(v===m?_=(f-h)/y:v===f?_=2+(h-m)/y:_=4+(m-f)/y,_*=60,_<0&&(_+=360)),{h:_,s:g,l:p}}s.rgb2hsl=d},function(o,s){"use strict";function l(v){return v*(Math.PI/180)}s.degrees2radians=l;function c(v,y,p){var g=v;return g<y&&(g=y),g<p&&(g=p),g}s.max3=c;function d(v,y,p){var g=v;return g>y&&(g=y),g>p&&(g=p),g}s.min3=d;function m(v,y,p){return v>p&&(v=p),v<y&&(v=y),v|0}s.intInRange=m;function f(v){return v=Math.round(v),v>255?v=255:v<0&&(v=0),v}s.inRange0to255Rounded=f;function h(v){return v>255?v=255:v<0&&(v=0),v}s.inRange0to255=h;function u(v,y){var p=typeof v[0],g;if(p==="number"||p==="string"){for(var _=Object.create(null),x=0,b=v.length;x<b;x++){var M=v[x];_[M]||_[M]===0||(_[M]=x)}g=v.sort(function(C,R){return y(C,R)||_[C]-_[R]})}else{var E=v.slice(0);g=v.sort(function(C,R){return y(C,R)||E.indexOf(C)-E.indexOf(R)})}return g}s.stableSort=u},function(o,s,l){"use strict";var c=l(4),d=l(8);function m(f,h,u){var v=c.rgb2xyz(f,h,u);return d.xyz2lab(v.x,v.y,v.z)}s.rgb2lab=m},function(o,s){"use strict";var l=.95047,c=1,d=1.08883;function m(h){return h>.008856?Math.pow(h,1/3):7.787*h+16/116}function f(h,u,v){if(h=m(h/l),u=m(u/c),v=m(v/d),116*u-16<0)throw new Error("xxx");return{L:Math.max(0,116*u-16),a:500*(h-u),b:200*(u-v)}}s.xyz2lab=f},function(o,s){"use strict";var l=.95047,c=1,d=1.08883;function m(h){return h>.206893034?Math.pow(h,3):(h-16/116)/7.787}function f(h,u,v){var y=(h+16)/116,p=u/500+y,g=y-v/200;return{x:l*m(p),y:c*m(y),z:d*m(g)}}s.lab2xyz=f},function(o,s,l){"use strict";var c=l(9),d=l(11);function m(f,h,u){var v=c.lab2xyz(f,h,u);return d.xyz2rgb(v.x,v.y,v.z)}s.lab2rgb=m},function(o,s,l){"use strict";var c=l(6);function d(f){return f>.0031308?1.055*Math.pow(f,1/2.4)-.055:12.92*f}function m(f,h,u){var v=d(f*3.2406+h*-1.5372+u*-.4986),y=d(f*-.9689+h*1.8758+u*.0415),p=d(f*.0557+h*-.204+u*1.057);return{r:c.inRange0to255Rounded(v*255),g:c.inRange0to255Rounded(y*255),b:c.inRange0to255Rounded(p*255)}}s.xyz2rgb=m},function(o,s,l){"use strict";var c=l(13);s.AbstractDistanceCalculator=c.AbstractDistanceCalculator;var d=l(14);s.CIE94Textiles=d.CIE94Textiles,s.CIE94GraphicArts=d.CIE94GraphicArts;var m=l(15);s.CIEDE2000=m.CIEDE2000;var f=l(16);s.CMETRIC=f.CMETRIC;var h=l(17);s.AbstractEuclidean=h.AbstractEuclidean,s.Euclidean=h.Euclidean,s.EuclideanRgbQuantWOAlpha=h.EuclideanRgbQuantWOAlpha,s.EuclideanRgbQuantWithAlpha=h.EuclideanRgbQuantWithAlpha;var u=l(18);s.AbstractManhattan=u.AbstractManhattan,s.Manhattan=u.Manhattan,s.ManhattanSRGB=u.ManhattanSRGB,s.ManhattanNommyde=u.ManhattanNommyde;var v=l(19);s.PNGQUANT=v.PNGQUANT},function(o,s){"use strict";var l=function(){function c(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return c.prototype.setWhitePoint=function(d,m,f,h){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:f>0?255/f:0,a:h>0?255/h:0},this._maxDistance=this.calculateRaw(d,m,f,h,0,0,0,0)},c.prototype.calculateNormalized=function(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance},c.prototype._setDefaults=function(){},c}();s.AbstractDistanceCalculator=l},function(o,s,l){"use strict";var c=this&&this.__extends||function(y,p){for(var g in p)p.hasOwnProperty(g)&&(y[g]=p[g]);function _(){this.constructor=y}y.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)};var d=l(13),m=l(7),f=l(6),h=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype.calculateRaw=function(g,_,x,b,M,E,C,R){var I=m.rgb2lab(f.inRange0to255(g*this._whitePoint.r),f.inRange0to255(_*this._whitePoint.g),f.inRange0to255(x*this._whitePoint.b)),O=m.rgb2lab(f.inRange0to255(M*this._whitePoint.r),f.inRange0to255(E*this._whitePoint.g),f.inRange0to255(C*this._whitePoint.b)),k=I.L-O.L,G=I.a-O.a,N=I.b-O.b,Z=Math.sqrt(I.a*I.a+I.b*I.b),H=Math.sqrt(O.a*O.a+O.b*O.b),j=Z-H,z=G*G+N*N-j*j;z=z<0?0:Math.sqrt(z);var V=(R-b)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(k/this._Kl,2)+Math.pow(j/(1+this._K1*Z),2)+Math.pow(z/(1+this._K2*Z),2)+Math.pow(V,2))},p}(d.AbstractDistanceCalculator);s.AbstractCIE94=h;var u=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},p}(h);s.CIE94Textiles=u;var v=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},p}(h);s.CIE94GraphicArts=v},function(o,s,l){"use strict";var c=this&&this.__extends||function(u,v){for(var y in v)v.hasOwnProperty(y)&&(u[y]=v[y]);function p(){this.constructor=u}u.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)};var d=l(13),m=l(7),f=l(6),h=function(u){c(v,u);function v(){u.apply(this,arguments)}return v.prototype.calculateRaw=function(y,p,g,_,x,b,M,E){var C=m.rgb2lab(f.inRange0to255(y*this._whitePoint.r),f.inRange0to255(p*this._whitePoint.g),f.inRange0to255(g*this._whitePoint.b)),R=m.rgb2lab(f.inRange0to255(x*this._whitePoint.r),f.inRange0to255(b*this._whitePoint.g),f.inRange0to255(M*this._whitePoint.b)),I=(E-_)*this._whitePoint.a*v._kA,O=this.calculateRawInLab(C,R);return Math.sqrt(O+I*I)},v.prototype.calculateRawInLab=function(y,p){var g=y.L,_=y.a,x=y.b,b=p.L,M=p.a,E=p.b,C=Math.sqrt(_*_+x*x),R=Math.sqrt(M*M+E*E),I=Math.pow((C+R)/2,7),O=.5*(1-Math.sqrt(I/(I+v._pow25to7))),k=(1+O)*_,G=(1+O)*M,N=Math.sqrt(k*k+x*x),Z=Math.sqrt(G*G+E*E),H=N*Z,j=v._calculatehp(x,k),z=v._calculatehp(E,G),V=Math.abs(j-z),J=b-g,ne=Z-N,le=v._calculate_dHp(H,V,z,j),ue=v._calculate_ahp(H,V,j,z),K=v._calculateT(ue),ae=(N+Z)/2,se=Math.pow((g+b)/2-50,2),fe=1+.015*se/Math.sqrt(20+se),he=1+.045*ae,we=1+.015*K*ae,xe=v._calculateRT(ue,ae),Ie=J/fe,ge=ne/he,Oe=le/we;return Math.pow(Ie,2)+Math.pow(ge,2)+Math.pow(Oe,2)+xe*ge*Oe},v._calculatehp=function(y,p){var g=Math.atan2(y,p);return g>=0?g:g+v._deg360InRad},v._calculateRT=function(y,p){var g=Math.pow(p,7),_=2*Math.sqrt(g/(g+v._pow25to7)),x=v._deg30InRad*Math.exp(-Math.pow((y-v._deg275InRad)/v._deg25InRad,2));return-Math.sin(2*x)*_},v._calculateT=function(y){return 1-.17*Math.cos(y-v._deg30InRad)+.24*Math.cos(y*2)+.32*Math.cos(y*3+v._deg6InRad)-.2*Math.cos(y*4-v._deg63InRad)},v._calculate_ahp=function(y,p,g,_){var x=g+_;return y==0?x:p<=v._deg180InRad?x/2:x<v._deg360InRad?(x+v._deg360InRad)/2:(x-v._deg360InRad)/2},v._calculate_dHp=function(y,p,g,_){var x;return y==0?x=0:p<=v._deg180InRad?x=g-_:g<=_?x=g-_+v._deg360InRad:x=g-_-v._deg360InRad,2*Math.sqrt(y)*Math.sin(x/2)},v._kA=.25*100/255,v._pow25to7=Math.pow(25,7),v._deg360InRad=f.degrees2radians(360),v._deg180InRad=f.degrees2radians(180),v._deg30InRad=f.degrees2radians(30),v._deg6InRad=f.degrees2radians(6),v._deg63InRad=f.degrees2radians(63),v._deg275InRad=f.degrees2radians(275),v._deg25InRad=f.degrees2radians(25),v}(d.AbstractDistanceCalculator);s.CIEDE2000=h},function(o,s,l){"use strict";var c=this&&this.__extends||function(f,h){for(var u in h)h.hasOwnProperty(u)&&(f[u]=h[u]);function v(){this.constructor=f}f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)};var d=l(13),m=function(f){c(h,f);function h(){f.apply(this,arguments)}return h.prototype.calculateRaw=function(u,v,y,p,g,_,x,b){var M=(u+g)/2*this._whitePoint.r,E=(u-g)*this._whitePoint.r,C=(v-_)*this._whitePoint.g,R=(y-x)*this._whitePoint.b,I=((512+M)*E*E>>8)+4*C*C+((767-M)*R*R>>8),O=(b-p)*this._whitePoint.a;return Math.sqrt(I+O*O)},h}(d.AbstractDistanceCalculator);s.CMETRIC=m},function(o,s,l){"use strict";var c=this&&this.__extends||function(y,p){for(var g in p)p.hasOwnProperty(g)&&(y[g]=p[g]);function _(){this.constructor=y}y.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)};var d=l(13),m=l(2),f=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype.calculateRaw=function(g,_,x,b,M,E,C,R){var I=M-g,O=E-_,k=C-x,G=R-b;return Math.sqrt(this._kR*I*I+this._kG*O*O+this._kB*k*k+this._kA*G*G)},p}(d.AbstractDistanceCalculator);s.AbstractEuclidean=f;var h=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},p}(f);s.Euclidean=h;var u=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=m.Y.RED,this._kG=m.Y.GREEN,this._kB=m.Y.BLUE,this._kA=1},p}(f);s.EuclideanRgbQuantWithAlpha=u;var v=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=m.Y.RED,this._kG=m.Y.GREEN,this._kB=m.Y.BLUE,this._kA=0},p}(f);s.EuclideanRgbQuantWOAlpha=v},function(o,s,l){"use strict";var c=this&&this.__extends||function(y,p){for(var g in p)p.hasOwnProperty(g)&&(y[g]=p[g]);function _(){this.constructor=y}y.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)};var d=l(13),m=l(2),f=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype.calculateRaw=function(g,_,x,b,M,E,C,R){var I=M-g,O=E-_,k=C-x,G=R-b;return I<0&&(I=0-I),O<0&&(O=0-O),k<0&&(k=0-k),G<0&&(G=0-G),this._kR*I+this._kG*O+this._kB*k+this._kA*G},p}(d.AbstractDistanceCalculator);s.AbstractManhattan=f;var h=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},p}(f);s.Manhattan=h;var u=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},p}(f);s.ManhattanNommyde=u;var v=function(y){c(p,y);function p(){y.apply(this,arguments)}return p.prototype._setDefaults=function(){this._kR=m.Y.RED,this._kG=m.Y.GREEN,this._kB=m.Y.BLUE,this._kA=1},p}(f);s.ManhattanSRGB=v},function(o,s,l){"use strict";var c=this&&this.__extends||function(f,h){for(var u in h)h.hasOwnProperty(u)&&(f[u]=h[u]);function v(){this.constructor=f}f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)};var d=l(13),m=function(f){c(h,f);function h(){f.apply(this,arguments)}return h.prototype.calculateRaw=function(u,v,y,p,g,_,x,b){var M=(b-p)*this._whitePoint.a;return this._colordifference_ch(u*this._whitePoint.r,g*this._whitePoint.r,M)+this._colordifference_ch(v*this._whitePoint.g,_*this._whitePoint.g,M)+this._colordifference_ch(y*this._whitePoint.b,x*this._whitePoint.b,M)},h.prototype._colordifference_ch=function(u,v,y){var p=u-v,g=p+y;return p*p+g*g},h}(d.AbstractDistanceCalculator);s.PNGQUANT=m},function(o,s,l){"use strict";var c=l(21);s.NeuQuant=c.NeuQuant;var d=l(25);s.NeuQuantFloat=d.NeuQuantFloat;var m=l(26);s.RGBQuant=m.RGBQuant;var f=l(27);s.ColorHistogram=f.ColorHistogram;var h=l(29);s.WuQuant=h.WuQuant,s.WuColorCube=h.WuColorCube},function(o,s,l){"use strict";var c=l(22),d=l(24),m=3,f=function(){function u(v){this.r=this.g=this.b=this.a=v}return u.prototype.toPoint=function(){return d.Point.createByRGBA(this.r>>m,this.g>>m,this.b>>m,this.a>>m)},u.prototype.subtract=function(v,y,p,g){this.r-=v|0,this.g-=y|0,this.b-=p|0,this.a-=g|0},u}(),h=function(){function u(v,y){y===void 0&&(y=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<m,255<<m,255<<m,255<<m)}return u.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},u.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},u.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new f((v<<m+8)/this._networkSize|0),this._freq[v]=u._initialBias/this._networkSize|0,this._bias[v]=0},u.prototype._learn=function(){var v=this._sampleFactor,y=this._pointArray.length;y<u._minpicturebytes&&(v=1);var p=30+(v-1)/3|0,g=y/v|0,_=g/u._nCycles|0,x=u._initAlpha,b=(this._networkSize>>3)*u._radiusBias,M=b>>u._radiusBiasShift;M<=1&&(M=0);for(var E=0;E<M;E++)this._radPower[E]=x*((M*M-E*E)*u._radBias/(M*M))>>>0;var C;y<u._minpicturebytes?C=1:y%u._prime1!=0?C=u._prime1:y%u._prime2!=0?C=u._prime2:y%u._prime3!=0?C=u._prime3:C=u._prime4;for(var E=0,R=0;E<g;){var I=this._pointArray[R],O=I.b<<m,k=I.g<<m,G=I.r<<m,N=I.a<<m,Z=this._contest(O,k,G,N);if(this._alterSingle(x,Z,O,k,G,N),M!==0&&this._alterNeighbour(M,Z,O,k,G,N),R+=C,R>=y&&(R-=y),E++,_===0&&(_=1),E%_==0){x-=x/p|0,b-=b/u._radiusDecrease|0,M=b>>u._radiusBiasShift,M<=1&&(M=0);for(var H=0;H<M;H++)this._radPower[H]=x*((M*M-H*H)*u._radBias/(M*M))>>>0}}},u.prototype._buildPalette=function(){var v=new c.Palette;return this._network.forEach(function(y){v.add(y.toPoint())}),v.sort(),v},u.prototype._alterNeighbour=function(v,y,p,g,_,x){var b=y-v;b<-1&&(b=-1);var M=y+v;M>this._networkSize&&(M=this._networkSize);for(var E=y+1,C=y-1,R=1;E<M||C>b;){var I=this._radPower[R++]/u._alphaRadBias;if(E<M){var O=this._network[E++];O.subtract(I*(O.r-_),I*(O.g-g),I*(O.b-p),I*(O.a-x))}if(C>b){var O=this._network[C--];O.subtract(I*(O.r-_),I*(O.g-g),I*(O.b-p),I*(O.a-x))}}},u.prototype._alterSingle=function(v,y,p,g,_,x){v/=u._initAlpha;var b=this._network[y];b.subtract(v*(b.r-_),v*(b.g-g),v*(b.b-p),v*(b.a-x))},u.prototype._contest=function(v,y,p,g){for(var _=255*4<<m,x=~(1<<31),b=x,M=-1,E=M,C=0;C<this._networkSize;C++){var R=this._network[C],I=this._distance.calculateNormalized(R,{r:p,g:y,b:v,a:g})*_|0;I<x&&(x=I,M=C);var O=I-(this._bias[C]>>u._initialBiasShift-m);O<b&&(b=O,E=C);var k=this._freq[C]>>u._betaShift;this._freq[C]-=k,this._bias[C]+=k<<u._gammaShift}return this._freq[M]+=u._beta,this._bias[M]-=u._betaGamma,E},u._prime1=499,u._prime2=491,u._prime3=487,u._prime4=503,u._minpicturebytes=u._prime4,u._nCycles=100,u._initialBiasShift=16,u._initialBias=1<<u._initialBiasShift,u._gammaShift=10,u._betaShift=10,u._beta=u._initialBias>>u._betaShift,u._betaGamma=u._initialBias<<u._gammaShift-u._betaShift,u._radiusBiasShift=6,u._radiusBias=1<<u._radiusBiasShift,u._radiusDecrease=30,u._alphaBiasShift=10,u._initAlpha=1<<u._alphaBiasShift,u._radBiasShift=8,u._radBias=1<<u._radBiasShift,u._alphaRadBiasShift=u._alphaBiasShift+u._radBiasShift,u._alphaRadBias=1<<u._alphaRadBiasShift,u}();s.NeuQuant=h},function(o,s,l){"use strict";var c=l(23),d=l(5),m=10;function f(u,v){for(var y=360,p=y/v,g=p/2,_=1,x=p-g;_<v;_++,x+=p)if(u>=x&&u<x+p)return _;return 0}s.hueGroup=f;var h=function(){function u(){this._pointArray=[],this._i32idx={},this._pointContainer=new c.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return u.prototype.add=function(v){this._pointArray.push(v),this._pointContainer.setWidth(this._pointArray.length)},u.prototype.has=function(v){for(var y=this._pointArray.length-1;y>=0;y--)if(v.uint32===this._pointArray[y].uint32)return!0;return!1},u.prototype.getNearestColor=function(v,y){return this._pointArray[this.getNearestIndex(v,y)|0]},u.prototype.getPointContainer=function(){return this._pointContainer},u.prototype._nearestPointFromCache=function(v){return typeof this._i32idx[v]=="number"?this._i32idx[v]:-1},u.prototype.getNearestIndex=function(v,y){var p=this._nearestPointFromCache(""+y.uint32);if(p>=0)return p;var g=Number.MAX_VALUE;p=0;for(var _=0,x=this._pointArray.length;_<x;_++){var b=this._pointArray[_],M=v.calculateRaw(y.r,y.g,y.b,y.a,b.r,b.g,b.b,b.a);M<g&&(g=M,p=_)}return this._i32idx[y.uint32]=p,p},u.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(v,y){var p=d.rgb2hsl(v.r,v.g,v.b),g=d.rgb2hsl(y.r,y.g,y.b),_=v.r===v.g&&v.g===v.b?0:1+f(p.h,m),x=y.r===y.g&&y.g===y.b?0:1+f(g.h,m),b=x-_;if(b)return-b;var M=v.getLuminosity(!0),E=y.getLuminosity(!0);if(E-M!=0)return E-M;var C=(g.s*100|0)-(p.s*100|0);return C?-C:0})},u}();s.Palette=h},function(o,s,l){"use strict";var c=l(24),d=function(){function m(){this._width=0,this._height=0,this._pointArray=[]}return m.prototype.getWidth=function(){return this._width},m.prototype.getHeight=function(){return this._height},m.prototype.setWidth=function(f){this._width=f},m.prototype.setHeight=function(f){this._height=f},m.prototype.getPointArray=function(){return this._pointArray},m.prototype.clone=function(){var f=new m;f._width=this._width,f._height=this._height;for(var h=0,u=this._pointArray.length;h<u;h++)f._pointArray[h]=c.Point.createByUint32(this._pointArray[h].uint32|0);return f},m.prototype.toUint32Array=function(){for(var f=this._pointArray.length,h=new Uint32Array(f),u=0;u<f;u++)h[u]=this._pointArray[u].uint32;return h},m.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},m.fromHTMLImageElement=function(f){var h=f.naturalWidth,u=f.naturalHeight,v=document.createElement("canvas");v.width=h,v.height=u;var y=v.getContext("2d");return y.drawImage(f,0,0,h,u,0,0,h,u),m.fromHTMLCanvasElement(v)},m.fromHTMLCanvasElement=function(f){var h=f.width,u=f.height,v=f.getContext("2d"),y=v.getImageData(0,0,h,u);return m.fromImageData(y)},m.fromNodeCanvas=function(f){return m.fromHTMLCanvasElement(f)},m.fromImageData=function(f){var h=f.width,u=f.height;return m.fromCanvasPixelArray(f.data,h,u)},m.fromArray=function(f,h,u){var v=new Uint8Array(f);return m.fromUint8Array(v,h,u)},m.fromCanvasPixelArray=function(f,h,u){return m.fromArray(f,h,u)},m.fromUint8Array=function(f,h,u){return m.fromUint32Array(new Uint32Array(f.buffer),h,u)},m.fromUint32Array=function(f,h,u){var v=new m;v._width=h,v._height=u;for(var y=0,p=f.length;y<p;y++)v._pointArray[y]=c.Point.createByUint32(f[y]|0);return v},m}();s.PointContainer=d},function(o,s,l){"use strict";var c=l(2),d=function(){function m(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return m.createByQuadruplet=function(f){var h=new m;return h.r=f[0]|0,h.g=f[1]|0,h.b=f[2]|0,h.a=f[3]|0,h._loadUINT32(),h._loadQuadruplet(),h},m.createByRGBA=function(f,h,u,v){var y=new m;return y.r=f|0,y.g=h|0,y.b=u|0,y.a=v|0,y._loadUINT32(),y._loadQuadruplet(),y},m.createByUint32=function(f){var h=new m;return h.uint32=f>>>0,h._loadRGBA(),h._loadQuadruplet(),h},m.prototype.from=function(f){this.r=f.r,this.g=f.g,this.b=f.b,this.a=f.a,this.uint32=f.uint32,this.rgba[0]=f.r,this.rgba[1]=f.g,this.rgba[2]=f.b,this.rgba[3]=f.a},m.prototype.getLuminosity=function(f){var h=this.r,u=this.g,v=this.b;return f&&(h=Math.min(255,255-this.a+this.a*h/255),u=Math.min(255,255-this.a+this.a*u/255),v=Math.min(255,255-this.a+this.a*v/255)),h*c.Y.RED+u*c.Y.GREEN+v*c.Y.BLUE},m.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},m.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},m.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},m}();s.Point=d},function(o,s,l){"use strict";var c=l(22),d=l(24),m=3,f=function(){function u(v){this.r=this.g=this.b=this.a=v}return u.prototype.toPoint=function(){return d.Point.createByRGBA(this.r>>m,this.g>>m,this.b>>m,this.a>>m)},u.prototype.subtract=function(v,y,p,g){this.r-=v,this.g-=y,this.b-=p,this.a-=g},u}(),h=function(){function u(v,y){y===void 0&&(y=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<m,255<<m,255<<m,255<<m)}return u.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},u.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},u.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new f((v<<m+8)/this._networkSize),this._freq[v]=u._initialBias/this._networkSize,this._bias[v]=0},u.prototype._learn=function(){var v=this._sampleFactor,y=this._pointArray.length;y<u._minpicturebytes&&(v=1);var p=30+(v-1)/3,g=y/v,_=g/u._nCycles|0,x=u._initAlpha,b=(this._networkSize>>3)*u._radiusBias,M=b>>u._radiusBiasShift;M<=1&&(M=0);for(var E=0;E<M;E++)this._radPower[E]=x*((M*M-E*E)*u._radBias/(M*M));var C;y<u._minpicturebytes?C=1:y%u._prime1!=0?C=u._prime1:y%u._prime2!=0?C=u._prime2:y%u._prime3!=0?C=u._prime3:C=u._prime4;for(var E=0,R=0;E<g;){var I=this._pointArray[R],O=I.b<<m,k=I.g<<m,G=I.r<<m,N=I.a<<m,Z=this._contest(O,k,G,N);if(this._alterSingle(x,Z,O,k,G,N),M!=0&&this._alterNeighbour(M,Z,O,k,G,N),R+=C,R>=y&&(R-=y),E++,_==0&&(_=1),E%_==0){x-=x/p,b-=b/u._radiusDecrease,M=b>>u._radiusBiasShift,M<=1&&(M=0);for(var H=0;H<M;H++)this._radPower[H]=x*((M*M-H*H)*u._radBias/(M*M))}}},u.prototype._buildPalette=function(){var v=new c.Palette;return this._network.forEach(function(y){v.add(y.toPoint())}),v.sort(),v},u.prototype._alterNeighbour=function(v,y,p,g,_,x){var b=y-v;b<-1&&(b=-1);var M=y+v;M>this._networkSize&&(M=this._networkSize);for(var E=y+1,C=y-1,R=1;E<M||C>b;){var I=this._radPower[R++]/u._alphaRadBias;if(E<M){var O=this._network[E++];O.subtract(I*(O.r-_),I*(O.g-g),I*(O.b-p),I*(O.a-x))}if(C>b){var O=this._network[C--];O.subtract(I*(O.r-_),I*(O.g-g),I*(O.b-p),I*(O.a-x))}}},u.prototype._alterSingle=function(v,y,p,g,_,x){v/=u._initAlpha;var b=this._network[y];b.subtract(v*(b.r-_),v*(b.g-g),v*(b.b-p),v*(b.a-x))},u.prototype._contest=function(v,y,p,g){for(var _=255*4<<m,x=~(1<<31),b=x,M=-1,E=M,C=0;C<this._networkSize;C++){var R=this._network[C],I=this._distance.calculateNormalized(R,{r:p,g:y,b:v,a:g})*_;I<x&&(x=I,M=C);var O=I-(this._bias[C]>>u._initialBiasShift-m);O<b&&(b=O,E=C);var k=this._freq[C]>>u._betaShift;this._freq[C]-=k,this._bias[C]+=k<<u._gammaShift}return this._freq[M]+=u._beta,this._bias[M]-=u._betaGamma,E},u._prime1=499,u._prime2=491,u._prime3=487,u._prime4=503,u._minpicturebytes=u._prime4,u._nCycles=100,u._initialBiasShift=16,u._initialBias=1<<u._initialBiasShift,u._gammaShift=10,u._betaShift=10,u._beta=u._initialBias>>u._betaShift,u._betaGamma=u._initialBias<<u._gammaShift-u._betaShift,u._radiusBiasShift=6,u._radiusBias=1<<u._radiusBiasShift,u._radiusDecrease=30,u._alphaBiasShift=10,u._initAlpha=1<<u._alphaBiasShift,u._radBiasShift=8,u._radBias=1<<u._radBiasShift,u._alphaRadBiasShift=u._alphaBiasShift+u._radBiasShift,u._alphaRadBias=1<<u._alphaRadBiasShift,u}();s.NeuQuantFloat=h},function(o,s,l){"use strict";var c=l(22),d=l(24),m=l(27),f=l(6),h=function(){function v(y,p,g){this.index=y,this.color=p,this.distance=g}return v}(),u=function(){function v(y,p,g){p===void 0&&(p=256),g===void 0&&(g=2),this._distance=y,this._colors=p,this._histogram=new m.ColorHistogram(g,p),this._initialDistance=.01,this._distanceIncrement=.005}return v.prototype.sample=function(y){this._histogram.sample(y)},v.prototype.quantize=function(){var y=this._histogram.getImportanceSortedColorsIDXI32();if(y.length===0)throw new Error("No colors in image");var p=this._buildPalette(y);return p.sort(),p},v.prototype._buildPalette=function(y){for(var p=new c.Palette,g=p.getPointContainer().getPointArray(),_=new Array(y.length),x=0;x<y.length;x++)g.push(d.Point.createByUint32(y[x])),_[x]=1;for(var b=g.length,M=[],E=b,C=this._initialDistance;E>this._colors;){M.length=0;for(var x=0;x<b;x++)if(_[x]!==0){for(var R=g[x],I=x+1;I<b;I++)if(_[I]!==0){var O=g[I],k=this._distance.calculateNormalized(R,O);k<C&&(M.push(new h(I,O,k)),_[I]=0,E--)}}C+=E>this._colors*3?this._initialDistance:this._distanceIncrement}if(E<this._colors){f.stableSort(M,function(j,z){return z.distance-j.distance});for(var G=0;E<this._colors&&G<M.length;){var N=M[G];_[N.index]=1,E++,G++}}for(var Z=g.length,H=Z-1;H>=0;H--)_[H]===0&&(H!==Z-1&&(g[H]=g[Z-1]),--Z);return g.length=Z,p},v}();s.RGBQuant=u},function(o,s,l){"use strict";var c=l(28),d=l(6),m=function(){function f(h,u){this._method=h,this._minHueCols=u<<2,this._initColors=u<<2,this._hueStats=new c.HueStatistics(f._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return f.prototype.sample=function(h){switch(this._method){case 1:this._colorStats1D(h);break;case 2:this._colorStats2D(h);break}},f.prototype.getImportanceSortedColorsIDXI32=function(){var h=this,u=d.stableSort(Object.keys(this._histogram),function(b,M){return h._histogram[M]-h._histogram[b]});if(u.length===0)return[];var v;switch(this._method){case 1:var y=Math.min(u.length,this._initColors),p=u[y-1],g=this._histogram[p];v=u.slice(0,y);for(var _=y,x=u.length;_<x&&this._histogram[u[_]]==g;)v.push(u[_++]);this._hueStats.injectIntoArray(v);break;case 2:v=u;break;default:throw new Error("Incorrect method")}return v.map(function(b){return+b})},f.prototype._colorStats1D=function(h){for(var u=this._histogram,v=h.getPointArray(),y=v.length,p=0;p<y;p++){var g=v[p].uint32;this._hueStats.check(g),g in u?u[g]++:u[g]=1}},f.prototype._colorStats2D=function(h){var u=this,v=h.getWidth(),y=h.getHeight(),p=h.getPointArray(),g=f._boxSize[0],_=f._boxSize[1],x=g*_,b=this._makeBoxes(v,y,g,_),M=this._histogram;b.forEach(function(E){var C=Math.round(E.w*E.h/x)*f._boxPixels;C<2&&(C=2);var R={};u._iterateBox(E,v,function(I){var O=p[I].uint32;u._hueStats.check(O),O in M?M[O]++:O in R?++R[O]>=C&&(M[O]=R[O]):R[O]=1})}),this._hueStats.injectIntoDictionary(M)},f.prototype._iterateBox=function(h,u,v){var y=h,p=y.y*u+y.x,g=(y.y+y.h-1)*u+(y.x+y.w-1),_=u-y.w+1,x=0,b=p;do v.call(this,b),b+=++x%y.w==0?_:1;while(b<=g)},f.prototype._makeBoxes=function(h,u,v,y){for(var p=h%v,g=u%y,_=h-p,x=u-g,b=[],M=0;M<u;M+=y)for(var E=0;E<h;E+=v)b.push({x:E,y:M,w:E==_?p:v,h:M==x?g:y});return b},f._boxSize=[64,64],f._boxPixels=2,f._hueGroups=10,f}();s.ColorHistogram=m},function(o,s,l){"use strict";var c=l(5),d=l(22),m=function(){function h(){this.num=0,this.cols=[]}return h}(),f=function(){function h(u,v){this._numGroups=u,this._minCols=v,this._stats=[];for(var y=0;y<=u;y++)this._stats[y]=new m;this._groupsFull=0}return h.prototype.check=function(u){this._groupsFull==this._numGroups+1&&(this.check=function(){});var v=u&255,y=u>>>8&255,p=u>>>16&255,g=v==y&&y==p?0:1+d.hueGroup(c.rgb2hsl(v,y,p).h,this._numGroups),_=this._stats[g],x=this._minCols;_.num++,!(_.num>x)&&(_.num==x&&this._groupsFull++,_.num<=x&&this._stats[g].cols.push(u))},h.prototype.injectIntoDictionary=function(u){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(y){u[y]?u[y]++:u[y]=1})},h.prototype.injectIntoArray=function(u){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(y){u.indexOf(y)==-1&&u.push(y)})},h}();s.HueStatistics=f},function(o,s,l){"use strict";var c=l(22),d=l(24);function m(g){for(var _=[],x=0;x<g;x++)_[x]=0;return _}function f(g,_,x,b){for(var M=new Array(g),E=0;E<g;E++){M[E]=new Array(_);for(var C=0;C<_;C++){M[E][C]=new Array(x);for(var R=0;R<x;R++){M[E][C][R]=new Array(b);for(var I=0;I<b;I++)M[E][C][R][I]=0}}}return M}function h(g,_,x){for(var b=new Array(g),M=0;M<g;M++){b[M]=new Array(_);for(var E=0;E<_;E++){b[M][E]=new Array(x);for(var C=0;C<x;C++)b[M][E][C]=0}}return b}function u(g,_,x,b,M){for(var E=0;E<_;E++){g[E]=[];for(var C=0;C<x;C++){g[E][C]=[];for(var R=0;R<b;R++)g[E][C][R]=M}}}function v(g,_,x){for(var b=0;b<_;b++)g[b]=x}var y=function(){function g(){}return g}();s.WuColorCube=y;var p=function(){function g(_,x,b){x===void 0&&(x=256),b===void 0&&(b=5),this._distance=_,this._setQuality(b),this._initialize(x)}return g.prototype.sample=function(_){for(var x=_.getPointArray(),b=0,M=x.length;b<M;b++)this._addColor(x[b]);this._pixels=this._pixels.concat(x)},g.prototype.quantize=function(){this._preparePalette();for(var _=new c.Palette,x=0;x<this._colors;x++)if(this._sums[x]>0){var b=this._sums[x],M=this._reds[x]/b,E=this._greens[x]/b,C=this._blues[x]/b,R=this._alphas[x]/b,I=d.Point.createByRGBA(M|0,E|0,C|0,R|0);_.add(I)}return _.sort(),_},g.prototype._preparePalette=function(){this._calculateMoments();for(var _=0,x=m(this._colors),b=1;b<this._colors;++b){this._cut(this._cubes[_],this._cubes[b])?(x[_]=this._cubes[_].volume>1?this._calculateVariance(this._cubes[_]):0,x[b]=this._cubes[b].volume>1?this._calculateVariance(this._cubes[b]):0):(x[_]=0,b--),_=0;for(var M=x[0],E=1;E<=b;++E)x[E]>M&&(M=x[E],_=E);if(M<=0){this._colors=b+1;break}}for(var C=[],R=[],I=[],O=[],k=0;k<this._colors;++k){var G=g._volume(this._cubes[k],this._weights);G>0?(C[k]=g._volume(this._cubes[k],this._momentsRed)/G|0,R[k]=g._volume(this._cubes[k],this._momentsGreen)/G|0,I[k]=g._volume(this._cubes[k],this._momentsBlue)/G|0,O[k]=g._volume(this._cubes[k],this._momentsAlpha)/G|0):(C[k]=0,R[k]=0,I[k]=0,O[k]=0)}this._reds=m(this._colors+1),this._greens=m(this._colors+1),this._blues=m(this._colors+1),this._alphas=m(this._colors+1),this._sums=m(this._colors+1);for(var E=0,N=this._pixels.length;E<N;E++){for(var Z=this._pixels[E],H=-1,j=H,z=Number.MAX_VALUE,V=0;V<this._colors;V++){var J=C[V],ne=R[V],le=I[V],ue=O[V],K=this._distance.calculateRaw(J,ne,le,ue,Z.r,Z.g,Z.b,Z.a);K<z&&(z=K,j=V)}this._reds[j]+=Z.r,this._greens[j]+=Z.g,this._blues[j]+=Z.b,this._alphas[j]+=Z.a,this._sums[j]++}},g.prototype._addColor=function(_){var x=8-this._significantBitsPerChannel,b=(_.r>>x)+1,M=(_.g>>x)+1,E=(_.b>>x)+1,C=(_.a>>x)+1;this._weights[C][b][M][E]++,this._momentsRed[C][b][M][E]+=_.r,this._momentsGreen[C][b][M][E]+=_.g,this._momentsBlue[C][b][M][E]+=_.b,this._momentsAlpha[C][b][M][E]+=_.a,this._moments[C][b][M][E]+=this._table[_.r]+this._table[_.g]+this._table[_.b]+this._table[_.a]},g.prototype._calculateMoments=function(){for(var _=[],x=[],b=[],M=[],E=[],C=[],R=h(this._sideSize,this._sideSize,this._sideSize),I=h(this._sideSize,this._sideSize,this._sideSize),O=h(this._sideSize,this._sideSize,this._sideSize),k=h(this._sideSize,this._sideSize,this._sideSize),G=h(this._sideSize,this._sideSize,this._sideSize),N=h(this._sideSize,this._sideSize,this._sideSize),Z=1;Z<=this._alphaMaxSideIndex;++Z){u(R,this._sideSize,this._sideSize,this._sideSize,0),u(I,this._sideSize,this._sideSize,this._sideSize,0),u(O,this._sideSize,this._sideSize,this._sideSize,0),u(k,this._sideSize,this._sideSize,this._sideSize,0),u(G,this._sideSize,this._sideSize,this._sideSize,0),u(N,this._sideSize,this._sideSize,this._sideSize,0);for(var H=1;H<=this._maxSideIndex;++H){v(_,this._sideSize,0),v(x,this._sideSize,0),v(b,this._sideSize,0),v(M,this._sideSize,0),v(E,this._sideSize,0),v(C,this._sideSize,0);for(var j=1;j<=this._maxSideIndex;++j)for(var z=0,V=0,J=0,ne=0,le=0,ue=0,K=1;K<=this._maxSideIndex;++K)z+=this._weights[Z][H][j][K],V+=this._momentsRed[Z][H][j][K],J+=this._momentsGreen[Z][H][j][K],ne+=this._momentsBlue[Z][H][j][K],le+=this._momentsAlpha[Z][H][j][K],ue+=this._moments[Z][H][j][K],_[K]+=z,x[K]+=V,b[K]+=J,M[K]+=ne,E[K]+=le,C[K]+=ue,R[H][j][K]=R[H-1][j][K]+_[K],I[H][j][K]=I[H-1][j][K]+x[K],O[H][j][K]=O[H-1][j][K]+b[K],k[H][j][K]=k[H-1][j][K]+M[K],G[H][j][K]=G[H-1][j][K]+E[K],N[H][j][K]=N[H-1][j][K]+C[K],this._weights[Z][H][j][K]=this._weights[Z-1][H][j][K]+R[H][j][K],this._momentsRed[Z][H][j][K]=this._momentsRed[Z-1][H][j][K]+I[H][j][K],this._momentsGreen[Z][H][j][K]=this._momentsGreen[Z-1][H][j][K]+O[H][j][K],this._momentsBlue[Z][H][j][K]=this._momentsBlue[Z-1][H][j][K]+k[H][j][K],this._momentsAlpha[Z][H][j][K]=this._momentsAlpha[Z-1][H][j][K]+G[H][j][K],this._moments[Z][H][j][K]=this._moments[Z-1][H][j][K]+N[H][j][K]}}},g._volumeFloat=function(_,x){return x[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMaximum]-x[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]-x[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+x[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]-x[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+x[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+x[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-x[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(x[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]-x[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]-x[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+x[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-x[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+x[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]+x[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-x[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum])},g._volume=function(_,x){return g._volumeFloat(_,x)|0},g._top=function(_,x,b,M){var E;switch(x){case g.alpha:E=M[b][_.redMaximum][_.greenMaximum][_.blueMaximum]-M[b][_.redMaximum][_.greenMinimum][_.blueMaximum]-M[b][_.redMinimum][_.greenMaximum][_.blueMaximum]+M[b][_.redMinimum][_.greenMinimum][_.blueMaximum]-(M[b][_.redMaximum][_.greenMaximum][_.blueMinimum]-M[b][_.redMaximum][_.greenMinimum][_.blueMinimum]-M[b][_.redMinimum][_.greenMaximum][_.blueMinimum]+M[b][_.redMinimum][_.greenMinimum][_.blueMinimum]);break;case g.red:E=M[_.alphaMaximum][b][_.greenMaximum][_.blueMaximum]-M[_.alphaMaximum][b][_.greenMinimum][_.blueMaximum]-M[_.alphaMinimum][b][_.greenMaximum][_.blueMaximum]+M[_.alphaMinimum][b][_.greenMinimum][_.blueMaximum]-(M[_.alphaMaximum][b][_.greenMaximum][_.blueMinimum]-M[_.alphaMaximum][b][_.greenMinimum][_.blueMinimum]-M[_.alphaMinimum][b][_.greenMaximum][_.blueMinimum]+M[_.alphaMinimum][b][_.greenMinimum][_.blueMinimum]);break;case g.green:E=M[_.alphaMaximum][_.redMaximum][b][_.blueMaximum]-M[_.alphaMaximum][_.redMinimum][b][_.blueMaximum]-M[_.alphaMinimum][_.redMaximum][b][_.blueMaximum]+M[_.alphaMinimum][_.redMinimum][b][_.blueMaximum]-(M[_.alphaMaximum][_.redMaximum][b][_.blueMinimum]-M[_.alphaMaximum][_.redMinimum][b][_.blueMinimum]-M[_.alphaMinimum][_.redMaximum][b][_.blueMinimum]+M[_.alphaMinimum][_.redMinimum][b][_.blueMinimum]);break;case g.blue:E=M[_.alphaMaximum][_.redMaximum][_.greenMaximum][b]-M[_.alphaMaximum][_.redMaximum][_.greenMinimum][b]-M[_.alphaMaximum][_.redMinimum][_.greenMaximum][b]+M[_.alphaMaximum][_.redMinimum][_.greenMinimum][b]-(M[_.alphaMinimum][_.redMaximum][_.greenMaximum][b]-M[_.alphaMinimum][_.redMaximum][_.greenMinimum][b]-M[_.alphaMinimum][_.redMinimum][_.greenMaximum][b]+M[_.alphaMinimum][_.redMinimum][_.greenMinimum][b]);break;default:throw new Error("impossible")}return E|0},g._bottom=function(_,x,b){switch(x){case g.alpha:return-b[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+b[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+b[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-b[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+b[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+b[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case g.red:return-b[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+b[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+b[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-b[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+b[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+b[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case g.green:return-b[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]+b[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+b[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-b[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+b[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+b[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case g.blue:return-b[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]+b[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+b[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]-b[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-(-b[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+b[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+b[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-b[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);default:return 0}},g.prototype._calculateVariance=function(_){var x=g._volume(_,this._momentsRed),b=g._volume(_,this._momentsGreen),M=g._volume(_,this._momentsBlue),E=g._volume(_,this._momentsAlpha),C=g._volumeFloat(_,this._moments),R=g._volume(_,this._weights),I=x*x+b*b+M*M+E*E;return C-I/R},g.prototype._maximize=function(_,x,b,M,E,C,R,I,O){for(var k=g._bottom(_,x,this._momentsRed)|0,G=g._bottom(_,x,this._momentsGreen)|0,N=g._bottom(_,x,this._momentsBlue)|0,Z=g._bottom(_,x,this._momentsAlpha)|0,H=g._bottom(_,x,this._weights)|0,j=0,z=-1,V=b;V<M;++V){var J=k+g._top(_,x,V,this._momentsRed),ne=G+g._top(_,x,V,this._momentsGreen),le=N+g._top(_,x,V,this._momentsBlue),ue=Z+g._top(_,x,V,this._momentsAlpha),K=H+g._top(_,x,V,this._weights);if(K!=0){var ae=J*J+ne*ne+le*le+ue*ue,se=ae/K;J=E-J,ne=C-ne,le=R-le,ue=I-ue,K=O-K,K!=0&&(ae=J*J+ne*ne+le*le+ue*ue,se+=ae/K,se>j&&(j=se,z=V))}}return{max:j,position:z}},g.prototype._cut=function(_,x){var b,M=g._volume(_,this._momentsRed),E=g._volume(_,this._momentsGreen),C=g._volume(_,this._momentsBlue),R=g._volume(_,this._momentsAlpha),I=g._volume(_,this._weights),O=this._maximize(_,g.red,_.redMinimum+1,_.redMaximum,M,E,C,R,I),k=this._maximize(_,g.green,_.greenMinimum+1,_.greenMaximum,M,E,C,R,I),G=this._maximize(_,g.blue,_.blueMinimum+1,_.blueMaximum,M,E,C,R,I),N=this._maximize(_,g.alpha,_.alphaMinimum+1,_.alphaMaximum,M,E,C,R,I);if(N.max>=O.max&&N.max>=k.max&&N.max>=G.max){if(b=g.alpha,N.position<0)return!1}else O.max>=N.max&&O.max>=k.max&&O.max>=G.max?b=g.red:k.max>=N.max&&k.max>=O.max&&k.max>=G.max?b=g.green:b=g.blue;switch(x.redMaximum=_.redMaximum,x.greenMaximum=_.greenMaximum,x.blueMaximum=_.blueMaximum,x.alphaMaximum=_.alphaMaximum,b){case g.red:x.redMinimum=_.redMaximum=O.position,x.greenMinimum=_.greenMinimum,x.blueMinimum=_.blueMinimum,x.alphaMinimum=_.alphaMinimum;break;case g.green:x.greenMinimum=_.greenMaximum=k.position,x.redMinimum=_.redMinimum,x.blueMinimum=_.blueMinimum,x.alphaMinimum=_.alphaMinimum;break;case g.blue:x.blueMinimum=_.blueMaximum=G.position,x.redMinimum=_.redMinimum,x.greenMinimum=_.greenMinimum,x.alphaMinimum=_.alphaMinimum;break;case g.alpha:x.alphaMinimum=_.alphaMaximum=N.position,x.blueMinimum=_.blueMinimum,x.redMinimum=_.redMinimum,x.greenMinimum=_.greenMinimum;break}return _.volume=(_.redMaximum-_.redMinimum)*(_.greenMaximum-_.greenMinimum)*(_.blueMaximum-_.blueMinimum)*(_.alphaMaximum-_.alphaMinimum),x.volume=(x.redMaximum-x.redMinimum)*(x.greenMaximum-x.greenMinimum)*(x.blueMaximum-x.blueMinimum)*(x.alphaMaximum-x.alphaMinimum),!0},g.prototype._initialize=function(_){this._colors=_,this._cubes=[];for(var x=0;x<_;x++)this._cubes[x]=new y;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=f(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var b=0;b<256;++b)this._table[b]=b*b;this._pixels=[]},g.prototype._setQuality=function(_){_===void 0&&(_=5),this._significantBitsPerChannel=_,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},g.alpha=3,g.red=2,g.green=1,g.blue=0,g}();s.WuQuant=p},function(o,s,l){"use strict";var c=l(31);s.NearestColor=c.NearestColor;var d=l(32);s.ErrorDiffusionArray=d.ErrorDiffusionArray,s.ErrorDiffusionArrayKernel=d.ErrorDiffusionArrayKernel;var m=l(33);s.ErrorDiffusionRiemersma=m.ErrorDiffusionRiemersma},function(o,s){"use strict";var l=function(){function c(d){this._distance=d}return c.prototype.quantize=function(d,m){for(var f=d.getPointArray(),h=d.getWidth(),u=d.getHeight(),v=0;v<u;v++)for(var y=0,p=v*h;y<h;y++,p++){var g=f[p];g.from(m.getNearestColor(this._distance,g))}return d},c}();s.NearestColor=l},function(o,s,l){"use strict";var c=l(24),d=l(6);(function(h){h[h.FloydSteinberg=0]="FloydSteinberg",h[h.FalseFloydSteinberg=1]="FalseFloydSteinberg",h[h.Stucki=2]="Stucki",h[h.Atkinson=3]="Atkinson",h[h.Jarvis=4]="Jarvis",h[h.Burkes=5]="Burkes",h[h.Sierra=6]="Sierra",h[h.TwoSierra=7]="TwoSierra",h[h.SierraLite=8]="SierraLite"})(s.ErrorDiffusionArrayKernel||(s.ErrorDiffusionArrayKernel={}));var m=s.ErrorDiffusionArrayKernel,f=function(){function h(u,v,y,p,g){y===void 0&&(y=!0),p===void 0&&(p=0),g===void 0&&(g=!1),this._setKernel(v),this._distance=u,this._minColorDistance=p,this._serpentine=y,this._calculateErrorLikeGIMP=g}return h.prototype.quantize=function(u,v){for(var y=u.getPointArray(),p=new c.Point,g=u.getWidth(),_=u.getHeight(),x=[],b=1,M=1,E=0;E<this._kernel.length;E++){var C=this._kernel[E][2]+1;M<C&&(M=C)}for(var E=0;E<M;E++)this._fillErrorLine(x[E]=[],g);for(var R=0;R<_;R++){this._serpentine&&(b=b*-1);var I=R*g,O=b==1?0:g-1,k=b==1?g:-1;this._fillErrorLine(x[0],g),x.push(x.shift());for(var G=x[0],N=O,Z=I+O;N!==k;N+=b,Z+=b){var H=y[Z],j=G[N];p.from(H);var z=c.Point.createByRGBA(d.inRange0to255Rounded(H.r+j[0]),d.inRange0to255Rounded(H.g+j[1]),d.inRange0to255Rounded(H.b+j[2]),d.inRange0to255Rounded(H.a+j[3])),V=v.getNearestColor(this._distance,z);if(H.from(V),this._minColorDistance){var J=this._distance.calculateNormalized(H,V);if(J<this._minColorDistance)continue}var ne=void 0,le=void 0,ue=void 0,K=void 0;this._calculateErrorLikeGIMP?(ne=z.r-V.r,le=z.g-V.g,ue=z.b-V.b,K=z.a-V.a):(ne=p.r-V.r,le=p.g-V.g,ue=p.b-V.b,K=p.a-V.a);for(var ae=b==1?0:this._kernel.length-1,se=b==1?this._kernel.length:-1,E=ae;E!==se;E+=b){var fe=this._kernel[E][1]*b,he=this._kernel[E][2];if(fe+N>=0&&fe+N<g&&he+R>=0&&he+R<_){var we=this._kernel[E][0],xe=x[he][fe+N];xe[0]=xe[0]+ne*we,xe[1]=xe[1]+le*we,xe[2]=xe[2]+ue*we,xe[3]=xe[3]+K*we}}}}return u},h.prototype._fillErrorLine=function(u,v){u.length>v&&(u.length=v);for(var y=u.length,p=0;p<y;p++){var g=u[p];g[0]=g[1]=g[2]=g[3]=0}for(var p=y;p<v;p++)u[p]=[0,0,0,0]},h.prototype._setKernel=function(u){switch(u){case m.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case m.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case m.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case m.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case m.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case m.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case m.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case m.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case m.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+u)}},h}();s.ErrorDiffusionArray=f},function(o,s,l){"use strict";var c=l(34),d=l(24),m=l(6),f=function(){function h(u,v,y){v===void 0&&(v=16),y===void 0&&(y=1),this._distance=u,this._errorPropagation=y,this._errorQueueSize=v,this._max=this._errorQueueSize,this._createWeights()}return h.prototype.quantize=function(u,v){for(var y=this,p=new c.HilbertCurveBase,g=u.getPointArray(),_=u.getWidth(),x=u.getHeight(),b=[],M=0,E=0;E<this._errorQueueSize;E++)b[E]={r:0,g:0,b:0,a:0};return p.walk(_,x,function(C,R){for(var I=g[C+R*_],O=I.r,k=I.g,G=I.b,N=I.a,Z=0;Z<y._errorQueueSize;Z++){var H=y._weights[Z],j=b[(Z+M)%y._errorQueueSize];O+=j.r*H,k+=j.g*H,G+=j.b*H,N+=j.a*H}var z=d.Point.createByRGBA(m.inRange0to255Rounded(O),m.inRange0to255Rounded(k),m.inRange0to255Rounded(G),m.inRange0to255Rounded(N)),V=v.getNearestColor(y._distance,z);M=(M+1)%y._errorQueueSize;var J=(M+y._errorQueueSize-1)%y._errorQueueSize;b[J].r=I.r-V.r,b[J].g=I.g-V.g,b[J].b=I.b-V.b,b[J].a=I.a-V.a,I.from(V)}),u},h.prototype._createWeights=function(){this._weights=[];for(var u=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),v=0,y=1;v<this._errorQueueSize;v++)this._weights[v]=(y+.5|0)/this._max*this._errorPropagation,y*=u},h}();s.ErrorDiffusionRiemersma=f},function(o,s){"use strict";var l;(function(d){d[d.NONE=0]="NONE",d[d.UP=1]="UP",d[d.LEFT=2]="LEFT",d[d.RIGHT=3]="RIGHT",d[d.DOWN=4]="DOWN"})(l||(l={}));var c=function(){function d(){}return d.prototype.walk=function(m,f,h){this._x=0,this._y=0,this._d=0,this._width=m,this._height=f,this._callback=h;var u=Math.max(m,f);this._level=Math.log(u)/Math.log(2)+1|0,this._walkHilbert(l.UP),this._visit(l.NONE)},d.prototype._walkHilbert=function(m){if(!(this._level<1)){switch(this._level--,m){case l.LEFT:this._walkHilbert(l.UP),this._visit(l.RIGHT),this._walkHilbert(l.LEFT),this._visit(l.DOWN),this._walkHilbert(l.LEFT),this._visit(l.LEFT),this._walkHilbert(l.DOWN);break;case l.RIGHT:this._walkHilbert(l.DOWN),this._visit(l.LEFT),this._walkHilbert(l.RIGHT),this._visit(l.UP),this._walkHilbert(l.RIGHT),this._visit(l.RIGHT),this._walkHilbert(l.UP);break;case l.UP:this._walkHilbert(l.LEFT),this._visit(l.DOWN),this._walkHilbert(l.UP),this._visit(l.RIGHT),this._walkHilbert(l.UP),this._visit(l.UP),this._walkHilbert(l.RIGHT);break;case l.DOWN:this._walkHilbert(l.RIGHT),this._visit(l.UP),this._walkHilbert(l.DOWN),this._visit(l.LEFT),this._walkHilbert(l.DOWN),this._visit(l.DOWN),this._walkHilbert(l.LEFT);break;default:break}this._level++}},d.prototype._visit=function(m){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),m){case l.LEFT:this._x--;break;case l.RIGHT:this._x++;break;case l.UP:this._y--;break;case l.DOWN:this._y++;break}},d}();s.HilbertCurveBase=c},function(o,s,l){"use strict";var c=l(36);s.SSIM=c.SSIM},function(o,s,l){"use strict";var c=l(2),d=.01,m=.03,f=function(){function h(){}return h.prototype.compare=function(u,v){if(u.getHeight()!==v.getHeight()||u.getWidth()!==v.getWidth())throw new Error("Images have different sizes!");var y=8,p=(1<<y)-1,g=Math.pow(d*p,2),_=Math.pow(m*p,2),x=0,b=0;return this._iterate(u,v,function(M,E,C,R){for(var I=0,O=0,k=0,G=0;G<M.length;G++)O+=Math.pow(M[G]-C,2),k+=Math.pow(E[G]-R,2),I+=(M[G]-C)*(E[G]-R);var N=M.length-1;O/=N,k/=N,I/=N;var Z=(2*C*R+g)*(2*I+_),H=(Math.pow(C,2)+Math.pow(R,2)+g)*(O+k+_),j=Z/H;b+=j,x++}),b/x},h.prototype._iterate=function(u,v,y){for(var p=8,g=u.getWidth(),_=u.getHeight(),x=0;x<_;x+=p)for(var b=0;b<g;b+=p){var M=Math.min(p,g-b),E=Math.min(p,_-x),C=this._calculateLumaValuesForWindow(u,b,x,M,E),R=this._calculateLumaValuesForWindow(v,b,x,M,E),I=this._calculateAverageLuma(C),O=this._calculateAverageLuma(R);y(C,R,I,O)}},h.prototype._calculateLumaValuesForWindow=function(u,v,y,p,g){for(var _=u.getPointArray(),x=[],b=0,M=y;M<y+g;M++)for(var E=M*u.getWidth(),C=v;C<v+p;C++){var R=_[E+C];x[b]=R.r*c.Y.RED+R.g*c.Y.GREEN+R.b*c.Y.BLUE,b++}return x},h.prototype._calculateAverageLuma=function(u){for(var v=0,y=0;y<u.length;y++)v+=u[y];return v/u.length},h}();s.SSIM=f},function(o,s,l){"use strict";var c=l(6);s.arithmetic=c;var d=l(28);s.HueStatistics=d.HueStatistics;var m=l(22);s.Palette=m.Palette;var f=l(24);s.Point=f.Point;var h=l(23);s.PointContainer=h.PointContainer}])})},{}],75:[function(r,i,a){typeof Object.create=="function"?i.exports=function(s,l){l&&(s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,l){if(l){s.super_=l;var c=function(){};c.prototype=l.prototype,s.prototype=new c,s.prototype.constructor=s}}},{}],76:[function(r,i,a){i.exports=function(l){return l!=null&&(o(l)||s(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function s(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},{}],77:[function(r,i,a){"use strict";var o=Function.prototype.toString,s=/^\s*class\b/,l=function(v){try{var y=o.call(v);return s.test(y)}catch{return!1}},c=function(v){try{return l(v)?!1:(o.call(v),!0)}catch{return!1}},d=Object.prototype.toString,m="[object Function]",f="[object GeneratorFunction]",h=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";i.exports=function(v){if(!v||typeof v!="function"&&typeof v!="object")return!1;if(typeof v=="function"&&!v.prototype)return!0;if(h)return c(v);if(l(v))return!1;var y=d.call(v);return y===m||y===f}},{}],78:[function(r,i,a){i.exports=s;var o=Object.prototype.toString;function s(l){var c=o.call(l);return c==="[object Function]"||typeof l=="function"&&c!=="[object RegExp]"||typeof Gt!="undefined"&&(l===Gt.setTimeout||l===Gt.alert||l===Gt.confirm||l===Gt.prompt)}},{}],79:[function(r,i,a){var o={}.toString;i.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},{}],80:[function(r,i,a){var o=r("./lib/encoder"),s=r("./lib/decoder");i.exports={encode:o,decode:s}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(r,i,a){(function(o){var s=function(){"use strict";var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,f=799,h=3406,u=2276,v=1567,y=3784,p=5793,g=2896;function _(){}function x(O,k){for(var G=0,N=[],Z,H,j=16;j>0&&!O[j-1];)j--;N.push({children:[],index:0});var z=N[0],V;for(Z=0;Z<j;Z++){for(H=0;H<O[Z];H++){for(z=N.pop(),z.children[z.index]=k[G];z.index>0;){if(N.length===0)throw new Error("Could not recreate Huffman Table");z=N.pop()}for(z.index++,N.push(z);N.length<=Z;)N.push(V={children:[],index:0}),z.children[z.index]=V.children,z=V;G++}Z+1<j&&(N.push(V={children:[],index:0}),z.children[z.index]=V.children,z=V)}return N[0].children}function b(O,k,G,N,Z,H,j,z,V,J){var ne=G.precision,le=G.samplesPerLine,ue=G.scanLines,K=G.mcusPerLine,ae=G.progressive,se=G.maxH,fe=G.maxV,he=k,we=0,xe=0;function Ie(){if(xe>0)return xe--,we>>xe&1;if(we=O[k++],we==255){var X=O[k++];if(X)throw new Error("unexpected marker: "+(we<<8|X).toString(16))}return xe=7,we>>>7}function ge(X){for(var Ae=X,Fe;(Fe=Ie())!==null;){if(Ae=Ae[Fe],typeof Ae=="number")return Ae;if(typeof Ae!="object")throw new Error("invalid huffman sequence")}return null}function Oe(X){for(var Ae=0;X>0;){var Fe=Ie();if(Fe===null)return;Ae=Ae<<1|Fe,X--}return Ae}function me(X){var Ae=Oe(X);return Ae>=1<<X-1?Ae:Ae+(-1<<X)+1}function pe(X,Ae){var Fe=ge(X.huffmanTableDC),qe=Fe===0?0:me(Fe);Ae[0]=X.pred+=qe;for(var De=1;De<64;){var He=ge(X.huffmanTableAC),ce=He&15,Ke=He>>4;if(ce===0){if(Ke<15)break;De+=16;continue}De+=Ke;var lt=d[De];Ae[lt]=me(ce),De++}}function re(X,Ae){var Fe=ge(X.huffmanTableDC),qe=Fe===0?0:me(Fe)<<V;Ae[0]=X.pred+=qe}function ie(X,Ae){Ae[0]|=Ie()<<V}var Y=0;function ee(X,Ae){if(Y>0){Y--;return}for(var Fe=H,qe=j;Fe<=qe;){var De=ge(X.huffmanTableAC),He=De&15,ce=De>>4;if(He===0){if(ce<15){Y=Oe(ce)+(1<<ce)-1;break}Fe+=16;continue}Fe+=ce;var Ke=d[Fe];Ae[Ke]=me(He)*(1<<V),Fe++}}var W=0,P;function D(X,Ae){for(var Fe=H,qe=j,De=0;Fe<=qe;){var He=d[Fe],ce=Ae[He]<0?-1:1;switch(W){case 0:var Ke=ge(X.huffmanTableAC),lt=Ke&15,De=Ke>>4;if(lt===0)De<15?(Y=Oe(De)+(1<<De),W=4):(De=16,W=1);else{if(lt!==1)throw new Error("invalid ACn encoding");P=me(lt),W=De?2:3}continue;case 1:case 2:Ae[He]?Ae[He]+=(Ie()<<V)*ce:(De--,De===0&&(W=W==2?3:0));break;case 3:Ae[He]?Ae[He]+=(Ie()<<V)*ce:(Ae[He]=P<<V,W=0);break;case 4:Ae[He]&&(Ae[He]+=(Ie()<<V)*ce);break}Fe++}W===4&&(Y--,Y===0&&(W=0))}function B(X,Ae,Fe,qe,De){var He=Fe/K|0,ce=Fe%K,Ke=He*X.v+qe,lt=ce*X.h+De;X.blocks[Ke]===void 0&&J.tolerantDecoding||Ae(X,X.blocks[Ke][lt])}function Q(X,Ae,Fe){var qe=Fe/X.blocksPerLine|0,De=Fe%X.blocksPerLine;X.blocks[qe]===void 0&&J.tolerantDecoding||Ae(X,X.blocks[qe][De])}var de=N.length,Ce,be,Se,ke,Ye,Ve;ae?H===0?Ve=z===0?re:ie:Ve=z===0?ee:D:Ve=pe;var Me=0,Ge,We;de==1?We=N[0].blocksPerLine*N[0].blocksPerColumn:We=K*G.mcusPerColumn,Z||(Z=We);for(var et,ot;Me<We;){for(be=0;be<de;be++)N[be].pred=0;if(Y=0,de==1)for(Ce=N[0],Ye=0;Ye<Z;Ye++)Q(Ce,Ve,Me),Me++;else for(Ye=0;Ye<Z;Ye++){for(be=0;be<de;be++)for(Ce=N[be],et=Ce.h,ot=Ce.v,Se=0;Se<ot;Se++)for(ke=0;ke<et;ke++)B(Ce,Ve,Me,Se,ke);if(Me++,Me===We)break}if(Me===We)do{if(O[k]===255&&O[k+1]!==0)break;k+=1}while(k<O.length-2);if(xe=0,Ge=O[k]<<8|O[k+1],Ge<65280)throw new Error("marker was not found");if(Ge>=65488&&Ge<=65495)k+=2;else break}return k-he}function M(O,k){var G=[],N=k.blocksPerLine,Z=k.blocksPerColumn,H=N<<3,j=new Int32Array(64),z=new Uint8Array(64);function V(he,we,xe){var Ie=k.quantizationTable,ge,Oe,me,pe,re,ie,Y,ee,W,P=xe,D;for(D=0;D<64;D++)P[D]=he[D]*Ie[D];for(D=0;D<8;++D){var B=8*D;if(P[1+B]==0&&P[2+B]==0&&P[3+B]==0&&P[4+B]==0&&P[5+B]==0&&P[6+B]==0&&P[7+B]==0){W=p*P[0+B]+512>>10,P[0+B]=W,P[1+B]=W,P[2+B]=W,P[3+B]=W,P[4+B]=W,P[5+B]=W,P[6+B]=W,P[7+B]=W;continue}ge=p*P[0+B]+128>>8,Oe=p*P[4+B]+128>>8,me=P[2+B],pe=P[6+B],re=g*(P[1+B]-P[7+B])+128>>8,ee=g*(P[1+B]+P[7+B])+128>>8,ie=P[3+B]<<4,Y=P[5+B]<<4,W=ge-Oe+1>>1,ge=ge+Oe+1>>1,Oe=W,W=me*y+pe*v+128>>8,me=me*v-pe*y+128>>8,pe=W,W=re-Y+1>>1,re=re+Y+1>>1,Y=W,W=ee+ie+1>>1,ie=ee-ie+1>>1,ee=W,W=ge-pe+1>>1,ge=ge+pe+1>>1,pe=W,W=Oe-me+1>>1,Oe=Oe+me+1>>1,me=W,W=re*u+ee*h+2048>>12,re=re*h-ee*u+2048>>12,ee=W,W=ie*f+Y*m+2048>>12,ie=ie*m-Y*f+2048>>12,Y=W,P[0+B]=ge+ee,P[7+B]=ge-ee,P[1+B]=Oe+Y,P[6+B]=Oe-Y,P[2+B]=me+ie,P[5+B]=me-ie,P[3+B]=pe+re,P[4+B]=pe-re}for(D=0;D<8;++D){var Q=D;if(P[1*8+Q]==0&&P[2*8+Q]==0&&P[3*8+Q]==0&&P[4*8+Q]==0&&P[5*8+Q]==0&&P[6*8+Q]==0&&P[7*8+Q]==0){W=p*xe[D+0]+8192>>14,P[0*8+Q]=W,P[1*8+Q]=W,P[2*8+Q]=W,P[3*8+Q]=W,P[4*8+Q]=W,P[5*8+Q]=W,P[6*8+Q]=W,P[7*8+Q]=W;continue}ge=p*P[0*8+Q]+2048>>12,Oe=p*P[4*8+Q]+2048>>12,me=P[2*8+Q],pe=P[6*8+Q],re=g*(P[1*8+Q]-P[7*8+Q])+2048>>12,ee=g*(P[1*8+Q]+P[7*8+Q])+2048>>12,ie=P[3*8+Q],Y=P[5*8+Q],W=ge-Oe+1>>1,ge=ge+Oe+1>>1,Oe=W,W=me*y+pe*v+2048>>12,me=me*v-pe*y+2048>>12,pe=W,W=re-Y+1>>1,re=re+Y+1>>1,Y=W,W=ee+ie+1>>1,ie=ee-ie+1>>1,ee=W,W=ge-pe+1>>1,ge=ge+pe+1>>1,pe=W,W=Oe-me+1>>1,Oe=Oe+me+1>>1,me=W,W=re*u+ee*h+2048>>12,re=re*h-ee*u+2048>>12,ee=W,W=ie*f+Y*m+2048>>12,ie=ie*m-Y*f+2048>>12,Y=W,P[0*8+Q]=ge+ee,P[7*8+Q]=ge-ee,P[1*8+Q]=Oe+Y,P[6*8+Q]=Oe-Y,P[2*8+Q]=me+ie,P[5*8+Q]=me-ie,P[3*8+Q]=pe+re,P[4*8+Q]=pe-re}for(D=0;D<64;++D){var de=128+(P[D]+8>>4);we[D]=de<0?0:de>255?255:de}}I(H*Z*8);for(var J,ne,le=0;le<Z;le++){var ue=le<<3;for(J=0;J<8;J++)G.push(new Uint8Array(H));for(var K=0;K<N;K++){V(k.blocks[le][K],z,j);var ae=0,se=K<<3;for(ne=0;ne<8;ne++){var fe=G[ue+ne];for(J=0;J<8;J++)fe[se+J]=z[ae++]}}}return G}function E(O){return O<0?0:O>255?255:O}_.prototype={load:function(k){var G=new XMLHttpRequest;G.open("GET",k,!0),G.responseType="arraybuffer",G.onload=function(){var N=new Uint8Array(G.response||G.mozResponseArrayBuffer);this.parse(N),this.onload&&this.onload()}.bind(this),G.send(null)},parse:function(k){var G=this.opts.maxResolutionInMP*1e3*1e3,N=0,Z=k.length;function H(){var ce=k[N]<<8|k[N+1];return N+=2,ce}function j(){var ce=H(),Ke=k.subarray(N,N+ce-2);return N+=Ke.length,Ke}function z(ce){var Ke=0,lt=0,L,Pe;for(Pe in ce.components)ce.components.hasOwnProperty(Pe)&&(L=ce.components[Pe],Ke<L.h&&(Ke=L.h),lt<L.v&&(lt=L.v));var Ue=Math.ceil(ce.samplesPerLine/8/Ke),q=Math.ceil(ce.scanLines/8/lt);for(Pe in ce.components)if(ce.components.hasOwnProperty(Pe)){L=ce.components[Pe];var Te=Math.ceil(Math.ceil(ce.samplesPerLine/8)*L.h/Ke),je=Math.ceil(Math.ceil(ce.scanLines/8)*L.v/lt),st=Ue*L.h,ve=q*L.v,Be=ve*st,Ze=[];I(Be*256);for(var nt=0;nt<ve;nt++){for(var it=[],gt=0;gt<st;gt++)it.push(new Int32Array(64));Ze.push(it)}L.blocksPerLine=Te,L.blocksPerColumn=je,L.blocks=Ze}ce.maxH=Ke,ce.maxV=lt,ce.mcusPerLine=Ue,ce.mcusPerColumn=q}var V=null,J=null,ne=null,le,ue,K=[],ae=[],se=[],fe=[],he=H();if(this.comments=[],he!=65496)throw new Error("SOI not found");for(he=H();he!=65497;){var we,xe,Ie;switch(he){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ge=j();if(he===65534){var Oe=String.fromCharCode.apply(null,ge);this.comments.push(Oe)}he===65504&&ge[0]===74&&ge[1]===70&&ge[2]===73&&ge[3]===70&&ge[4]===0&&(V={version:{major:ge[5],minor:ge[6]},densityUnits:ge[7],xDensity:ge[8]<<8|ge[9],yDensity:ge[10]<<8|ge[11],thumbWidth:ge[12],thumbHeight:ge[13],thumbData:ge.subarray(14,14+3*ge[12]*ge[13])}),he===65505&&ge[0]===69&&ge[1]===120&&ge[2]===105&&ge[3]===102&&ge[4]===0&&(this.exifBuffer=ge.subarray(5,ge.length)),he===65518&&ge[0]===65&&ge[1]===100&&ge[2]===111&&ge[3]===98&&ge[4]===101&&ge[5]===0&&(J={version:ge[6],flags0:ge[7]<<8|ge[8],flags1:ge[9]<<8|ge[10],transformCode:ge[11]});break;case 65499:for(var me=H(),pe=me+N-2;N<pe;){var re=k[N++];I(64*4);var ie=new Int32Array(64);if(re>>4==0)for(xe=0;xe<64;xe++){var Y=d[xe];ie[Y]=k[N++]}else if(re>>4==1)for(xe=0;xe<64;xe++){var Y=d[xe];ie[Y]=H()}else throw new Error("DQT: invalid table spec");K[re&15]=ie}break;case 65472:case 65473:case 65474:H(),le={},le.extended=he===65473,le.progressive=he===65474,le.precision=k[N++],le.scanLines=H(),le.samplesPerLine=H(),le.components={},le.componentsOrder=[];var ee=le.scanLines*le.samplesPerLine;if(ee>G){var W=Math.ceil((ee-G)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${W}MP`)}var P=k[N++],D,B=0,Q=0;for(we=0;we<P;we++){D=k[N];var de=k[N+1]>>4,Ce=k[N+1]&15,be=k[N+2];le.componentsOrder.push(D),le.components[D]={h:de,v:Ce,quantizationIdx:be},N+=3}z(le),ae.push(le);break;case 65476:var Se=H();for(we=2;we<Se;){var ke=k[N++],Ye=new Uint8Array(16),Ve=0;for(xe=0;xe<16;xe++,N++)Ve+=Ye[xe]=k[N];I(16+Ve);var Me=new Uint8Array(Ve);for(xe=0;xe<Ve;xe++,N++)Me[xe]=k[N];we+=17+Ve,(ke>>4==0?fe:se)[ke&15]=x(Ye,Me)}break;case 65501:H(),ue=H();break;case 65500:H(),H();break;case 65498:var Ge=H(),We=k[N++],et=[],ot;for(we=0;we<We;we++){ot=le.components[k[N++]];var X=k[N++];ot.huffmanTableDC=fe[X>>4],ot.huffmanTableAC=se[X&15],et.push(ot)}var Ae=k[N++],Fe=k[N++],qe=k[N++],De=b(k,N,le,et,ue,Ae,Fe,qe>>4,qe&15,this.opts);N+=De;break;case 65535:k[N]!==255&&N--;break;default:if(k[N-3]==255&&k[N-2]>=192&&k[N-2]<=254){N-=3;break}throw new Error("unknown JPEG marker "+he.toString(16))}he=H()}if(ae.length!=1)throw new Error("only single frame JPEGs supported");for(var we=0;we<ae.length;we++){var He=ae[we].components;for(var xe in He)He[xe].quantizationTable=K[He[xe].quantizationIdx],delete He[xe].quantizationIdx}this.width=le.samplesPerLine,this.height=le.scanLines,this.jfif=V,this.adobe=J,this.components=[];for(var we=0;we<le.componentsOrder.length;we++){var ot=le.components[le.componentsOrder[we]];this.components.push({lines:M(le,ot),scaleX:ot.h/le.maxH,scaleY:ot.v/le.maxV})}},getData:function(k,G){var N=this.width/k,Z=this.height/G,H,j,z,V,J,ne,le,ue,K,ae,se=0,fe,he,we,xe,Ie,ge,Oe,me,pe,re,ie,Y=k*G*this.components.length;I(Y);var ee=new Uint8Array(Y);switch(this.components.length){case 1:for(H=this.components[0],ae=0;ae<G;ae++)for(J=H.lines[0|ae*H.scaleY*Z],K=0;K<k;K++)fe=J[0|K*H.scaleX*N],ee[se++]=fe;break;case 2:for(H=this.components[0],j=this.components[1],ae=0;ae<G;ae++)for(J=H.lines[0|ae*H.scaleY*Z],ne=j.lines[0|ae*j.scaleY*Z],K=0;K<k;K++)fe=J[0|K*H.scaleX*N],ee[se++]=fe,fe=ne[0|K*j.scaleX*N],ee[se++]=fe;break;case 3:for(ie=!0,this.adobe&&this.adobe.transformCode?ie=!0:typeof this.opts.colorTransform!="undefined"&&(ie=!!this.opts.colorTransform),H=this.components[0],j=this.components[1],z=this.components[2],ae=0;ae<G;ae++)for(J=H.lines[0|ae*H.scaleY*Z],ne=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],K=0;K<k;K++)ie?(fe=J[0|K*H.scaleX*N],he=ne[0|K*j.scaleX*N],we=le[0|K*z.scaleX*N],me=E(fe+1.402*(we-128)),pe=E(fe-.3441363*(he-128)-.71413636*(we-128)),re=E(fe+1.772*(he-128))):(me=J[0|K*H.scaleX*N],pe=ne[0|K*j.scaleX*N],re=le[0|K*z.scaleX*N]),ee[se++]=me,ee[se++]=pe,ee[se++]=re;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ie=!1,this.adobe&&this.adobe.transformCode?ie=!0:typeof this.opts.colorTransform!="undefined"&&(ie=!!this.opts.colorTransform),H=this.components[0],j=this.components[1],z=this.components[2],V=this.components[3],ae=0;ae<G;ae++)for(J=H.lines[0|ae*H.scaleY*Z],ne=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],ue=V.lines[0|ae*V.scaleY*Z],K=0;K<k;K++)ie?(fe=J[0|K*H.scaleX*N],he=ne[0|K*j.scaleX*N],we=le[0|K*z.scaleX*N],xe=ue[0|K*V.scaleX*N],Ie=255-E(fe+1.402*(we-128)),ge=255-E(fe-.3441363*(he-128)-.71413636*(we-128)),Oe=255-E(fe+1.772*(he-128))):(Ie=J[0|K*H.scaleX*N],ge=ne[0|K*j.scaleX*N],Oe=le[0|K*z.scaleX*N],xe=ue[0|K*V.scaleX*N]),ee[se++]=255-Ie,ee[se++]=255-ge,ee[se++]=255-Oe,ee[se++]=255-xe;break;default:throw new Error("Unsupported color mode")}return ee},copyToImageData:function(k,G){var N=k.width,Z=k.height,H=k.data,j=this.getData(N,Z),z=0,V=0,J,ne,le,ue,K,ae,se,fe,he;switch(this.components.length){case 1:for(ne=0;ne<Z;ne++)for(J=0;J<N;J++)le=j[z++],H[V++]=le,H[V++]=le,H[V++]=le,G&&(H[V++]=255);break;case 3:for(ne=0;ne<Z;ne++)for(J=0;J<N;J++)se=j[z++],fe=j[z++],he=j[z++],H[V++]=se,H[V++]=fe,H[V++]=he,G&&(H[V++]=255);break;case 4:for(ne=0;ne<Z;ne++)for(J=0;J<N;J++)K=j[z++],ae=j[z++],le=j[z++],ue=j[z++],se=255-E(K*(1-ue/255)+ue),fe=255-E(ae*(1-ue/255)+ue),he=255-E(le*(1-ue/255)+ue),H[V++]=se,H[V++]=fe,H[V++]=he,G&&(H[V++]=255);break;default:throw new Error("Unsupported color mode")}}};var C=0,R=0;function I(O=0){var k=C+O;if(k>R){var G=Math.ceil((k-R)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${G}MB`)}C=k}return _.resetMaxMemoryUsage=function(O){C=0,R=O},_.getBytesAllocated=function(){return C},_.requestMemoryAllocation=I,_}();typeof i!="undefined"?i.exports=l:typeof Gt!="undefined"&&(Gt["jpeg-js"]=Gt["jpeg-js"]||{},Gt["jpeg-js"].decode=l);function l(c,d={}){var m={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},f={...m,...d},h=new Uint8Array(c),u=new s;u.opts=f,s.resetMaxMemoryUsage(f.maxMemoryUsageInMB*1024*1024),u.parse(h);var v=f.formatAsRGBA?4:3,y=u.width*u.height*v;try{s.requestMemoryAllocation(y);var p={width:u.width,height:u.height,exifBuffer:u.exifBuffer,data:f.useTArray?new Uint8Array(y):o.alloc(y)};u.comments.length>0&&(p.comments=u.comments)}catch(g){throw g instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+y):g}return u.copyToImageData(p,f.formatAsRGBA),p}}).call(this,r("buffer").Buffer)},{buffer:48}],82:[function(r,i,a){(function(o){var s=s||function(m){return o.from(m).toString("base64")};function l(m){var f=this,h=Math.round,u=Math.floor,v=new Array(64),y=new Array(64),p=new Array(64),g=new Array(64),_,x,b,M,E=new Array(65535),C=new Array(65535),R=new Array(64),I=new Array(64),O=[],k=0,G=7,N=new Array(64),Z=new Array(64),H=new Array(64),j=new Array(256),z=new Array(2048),V,J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ae=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(Se){for(var ke=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ye=0;Ye<64;Ye++){var Ve=u((ke[Ye]*Se+50)/100);Ve<1?Ve=1:Ve>255&&(Ve=255),v[J[Ye]]=Ve}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ge=0;Ge<64;Ge++){var We=u((Me[Ge]*Se+50)/100);We<1?We=1:We>255&&(We=255),y[J[Ge]]=We}for(var et=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,X=0;X<8;X++)for(var Ae=0;Ae<8;Ae++)p[ot]=1/(v[J[ot]]*et[X]*et[Ae]*8),g[ot]=1/(y[J[ot]]*et[X]*et[Ae]*8),ot++}function xe(Se,ke){for(var Ye=0,Ve=0,Me=new Array,Ge=1;Ge<=16;Ge++){for(var We=1;We<=Se[Ge];We++)Me[ke[Ve]]=[],Me[ke[Ve]][0]=Ye,Me[ke[Ve]][1]=Ge,Ve++,Ye++;Ye*=2}return Me}function Ie(){_=xe(ne,le),x=xe(ae,se),b=xe(ue,K),M=xe(fe,he)}function ge(){for(var Se=1,ke=2,Ye=1;Ye<=15;Ye++){for(var Ve=Se;Ve<ke;Ve++)C[32767+Ve]=Ye,E[32767+Ve]=[],E[32767+Ve][1]=Ye,E[32767+Ve][0]=Ve;for(var Me=-(ke-1);Me<=-Se;Me++)C[32767+Me]=Ye,E[32767+Me]=[],E[32767+Me][1]=Ye,E[32767+Me][0]=ke-1+Me;Se<<=1,ke<<=1}}function Oe(){for(var Se=0;Se<256;Se++)z[Se]=19595*Se,z[Se+256>>0]=38470*Se,z[Se+512>>0]=7471*Se+32768,z[Se+768>>0]=-11059*Se,z[Se+1024>>0]=-21709*Se,z[Se+1280>>0]=32768*Se+8421375,z[Se+1536>>0]=-27439*Se,z[Se+1792>>0]=-5329*Se}function me(Se){for(var ke=Se[0],Ye=Se[1]-1;Ye>=0;)ke&1<<Ye&&(k|=1<<G),Ye--,G--,G<0&&(k==255?(pe(255),pe(0)):pe(k),G=7,k=0)}function pe(Se){O.push(Se)}function re(Se){pe(Se>>8&255),pe(Se&255)}function ie(Se,ke){var Ye,Ve,Me,Ge,We,et,ot,X,Ae=0,Fe,qe=8,De=64;for(Fe=0;Fe<qe;++Fe){Ye=Se[Ae],Ve=Se[Ae+1],Me=Se[Ae+2],Ge=Se[Ae+3],We=Se[Ae+4],et=Se[Ae+5],ot=Se[Ae+6],X=Se[Ae+7];var He=Ye+X,ce=Ye-X,Ke=Ve+ot,lt=Ve-ot,L=Me+et,Pe=Me-et,Ue=Ge+We,q=Ge-We,Te=He+Ue,je=He-Ue,st=Ke+L,ve=Ke-L;Se[Ae]=Te+st,Se[Ae+4]=Te-st;var Be=(ve+je)*.707106781;Se[Ae+2]=je+Be,Se[Ae+6]=je-Be,Te=q+Pe,st=Pe+lt,ve=lt+ce;var Ze=(Te-ve)*.382683433,nt=.5411961*Te+Ze,it=1.306562965*ve+Ze,gt=st*.707106781,yt=ce+gt,Lt=ce-gt;Se[Ae+5]=Lt+nt,Se[Ae+3]=Lt-nt,Se[Ae+1]=yt+it,Se[Ae+7]=yt-it,Ae+=8}for(Ae=0,Fe=0;Fe<qe;++Fe){Ye=Se[Ae],Ve=Se[Ae+8],Me=Se[Ae+16],Ge=Se[Ae+24],We=Se[Ae+32],et=Se[Ae+40],ot=Se[Ae+48],X=Se[Ae+56];var Ct=Ye+X,Yt=Ye-X,zt=Ve+ot,Rt=Ve-ot,qt=Me+et,pn=Me-et,Ut=Ge+We,Rn=Ge-We,Ht=Ct+Ut,an=Ct-Ut,vt=zt+qt,zn=zt-qt;Se[Ae]=Ht+vt,Se[Ae+32]=Ht-vt;var Sn=(zn+an)*.707106781;Se[Ae+16]=an+Sn,Se[Ae+48]=an-Sn,Ht=Rn+pn,vt=pn+Rt,zn=Rt+Yt;var Qt=(Ht-zn)*.382683433,pr=.5411961*Ht+Qt,Vn=1.306562965*zn+Qt,ir=vt*.707106781,zi=Yt+ir,Vo=Yt-ir;Se[Ae+40]=Vo+pr,Se[Ae+24]=Vo-pr,Se[Ae+8]=zi+Vn,Se[Ae+56]=zi-Vn,Ae++}var Ri;for(Fe=0;Fe<De;++Fe)Ri=Se[Fe]*ke[Fe],R[Fe]=Ri>0?Ri+.5|0:Ri-.5|0;return R}function Y(){re(65504),re(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),re(1),re(1),pe(0),pe(0)}function ee(Se){if(!!Se){re(65505),Se[0]===69&&Se[1]===120&&Se[2]===105&&Se[3]===102?re(Se.length+2):(re(Se.length+5+2),pe(69),pe(120),pe(105),pe(102),pe(0));for(var ke=0;ke<Se.length;ke++)pe(Se[ke])}}function W(Se,ke){re(65472),re(17),pe(8),re(ke),re(Se),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)}function P(){re(65499),re(132),pe(0);for(var Se=0;Se<64;Se++)pe(v[Se]);pe(1);for(var ke=0;ke<64;ke++)pe(y[ke])}function D(){re(65476),re(418),pe(0);for(var Se=0;Se<16;Se++)pe(ne[Se+1]);for(var ke=0;ke<=11;ke++)pe(le[ke]);pe(16);for(var Ye=0;Ye<16;Ye++)pe(ue[Ye+1]);for(var Ve=0;Ve<=161;Ve++)pe(K[Ve]);pe(1);for(var Me=0;Me<16;Me++)pe(ae[Me+1]);for(var Ge=0;Ge<=11;Ge++)pe(se[Ge]);pe(17);for(var We=0;We<16;We++)pe(fe[We+1]);for(var et=0;et<=161;et++)pe(he[et])}function B(){re(65498),re(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0)}function Q(Se,ke,Ye,Ve,Me){for(var Ge=Me[0],We=Me[240],et,ot=16,X=63,Ae=64,Fe=ie(Se,ke),qe=0;qe<Ae;++qe)I[J[qe]]=Fe[qe];var De=I[0]-Ye;Ye=I[0],De==0?me(Ve[0]):(et=32767+De,me(Ve[C[et]]),me(E[et]));for(var He=63;He>0&&I[He]==0;He--);if(He==0)return me(Ge),Ye;for(var ce=1,Ke;ce<=He;){for(var lt=ce;I[ce]==0&&ce<=He;++ce);var L=ce-lt;if(L>=ot){Ke=L>>4;for(var Pe=1;Pe<=Ke;++Pe)me(We);L=L&15}et=32767+I[ce],me(Me[(L<<4)+C[et]]),me(E[et]),ce++}return He!=X&&me(Ge),Ye}function de(){for(var Se=String.fromCharCode,ke=0;ke<256;ke++)j[ke]=Se(ke)}this.encode=function(Se,ke){var Ye=new Date().getTime();ke&&Ce(ke),O=new Array,k=0,G=7,re(65496),Y(),ee(Se.exifBuffer),P(),W(Se.width,Se.height),D(),B();var Ve=0,Me=0,Ge=0;k=0,G=7,this.encode.displayName="_encode_";for(var We=Se.data,et=Se.width,ot=Se.height,X=et*4,Ae=et*3,Fe,qe=0,De,He,ce,Ke,lt,L,Pe,Ue;qe<ot;){for(Fe=0;Fe<X;){for(Ke=X*qe+Fe,lt=Ke,L=-1,Pe=0,Ue=0;Ue<64;Ue++)Pe=Ue>>3,L=(Ue&7)*4,lt=Ke+Pe*X+L,qe+Pe>=ot&&(lt-=X*(qe+1+Pe-ot)),Fe+L>=X&&(lt-=Fe+L-X+4),De=We[lt++],He=We[lt++],ce=We[lt++],N[Ue]=(z[De]+z[He+256>>0]+z[ce+512>>0]>>16)-128,Z[Ue]=(z[De+768>>0]+z[He+1024>>0]+z[ce+1280>>0]>>16)-128,H[Ue]=(z[De+1280>>0]+z[He+1536>>0]+z[ce+1792>>0]>>16)-128;Ve=Q(N,p,Ve,_,b),Me=Q(Z,g,Me,x,M),Ge=Q(H,g,Ge,x,M),Fe+=32}qe+=8}if(G>=0){var q=[];q[1]=G+1,q[0]=(1<<G+1)-1,me(q)}if(re(65497),typeof i=="undefined")return new Uint8Array(O);return o.from(O);var Te,je};function Ce(Se){if(Se<=0&&(Se=1),Se>100&&(Se=100),V!=Se){var ke=0;Se<50?ke=Math.floor(5e3/Se):ke=Math.floor(200-Se*2),we(ke),V=Se}}function be(){var Se=new Date().getTime();m||(m=50),de(),Ie(),ge(),Oe(),Ce(m);var ke=new Date().getTime()-Se}be()}typeof i!="undefined"?i.exports=c:typeof Gt!="undefined"&&(Gt["jpeg-js"]=Gt["jpeg-js"]||{},Gt["jpeg-js"].encode=c);function c(m,f){typeof f=="undefined"&&(f=50);var h=new l(f),u=h.encode(m,f);return{data:u,width:m.width,height:m.height}}function d(m){var f=typeof m=="string"?document.getElementById(m):m,h=document.createElement("canvas");h.width=f.width,h.height=f.height;var u=h.getContext("2d");return u.drawImage(f,0,0),u.getImageData(0,0,h.width,h.height)}}).call(this,r("buffer").Buffer)},{buffer:48}],83:[function(r,i,a){(function(o){var s=r("path"),l=r("fs"),c=parseInt("0777",8);i.exports=d.mkdirp=d.mkdirP=d;function d(m,f,h,u){typeof f=="function"?(h=f,f={}):(!f||typeof f!="object")&&(f={mode:f});var v=f.mode,y=f.fs||l;v===void 0&&(v=c&~o.umask()),u||(u=null);var p=h||function(){};m=s.resolve(m),y.mkdir(m,v,function(g){if(!g)return u=u||m,p(null,u);switch(g.code){case"ENOENT":d(s.dirname(m),f,function(_,x){_?p(_,x):d(m,f,p,x)});break;default:y.stat(m,function(_,x){_||!x.isDirectory()?p(g,u):p(null,u)});break}})}d.sync=function m(f,h,u){(!h||typeof h!="object")&&(h={mode:h});var v=h.mode,y=h.fs||l;v===void 0&&(v=c&~o.umask()),u||(u=null),f=s.resolve(f);try{y.mkdirSync(f,v),u=u||f}catch(g){switch(g.code){case"ENOENT":u=m(s.dirname(f),h,u),m(f,h,u);break;default:var p;try{p=y.statSync(f)}catch{throw g}if(!p.isDirectory())throw g;break}}return u}}).call(this,r("_process"))},{_process:133,fs:47,path:107}],84:[function(r,i,a){"use strict";var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function d(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var f={},h=0;h<10;h++)f["_"+String.fromCharCode(h)]=h;var u=Object.getOwnPropertyNames(f).map(function(y){return f[y]});if(u.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(y){v[y]=y}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=d()?Object.assign:function(m,f){for(var h,u=c(m),v,y=1;y<arguments.length;y++){h=Object(arguments[y]);for(var p in h)s.call(h,p)&&(u[p]=h[p]);if(o){v=o(h);for(var g=0;g<v.length;g++)l.call(h,v[g])&&(u[v[g]]=h[v[g]])}}return u}},{}],85:[function(r,i,a){arguments[4][64][0].apply(a,arguments)},{dup:64}],86:[function(r,i,a){"use strict";var o=r("./lib/utils/common").assign,s=r("./lib/deflate"),l=r("./lib/inflate"),c=r("./lib/zlib/constants"),d={};o(d,s,l,c),i.exports=d},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(r,i,a){"use strict";var o=r("./zlib/deflate"),s=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),d=r("./zlib/zstream"),m=Object.prototype.toString,f=0,h=4,u=0,v=1,y=2,p=-1,g=0,_=8;function x(C){if(!(this instanceof x))return new x(C);this.options=s.assign({level:p,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},C||{});var R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(I!==u)throw new Error(c[I]);if(R.header&&o.deflateSetHeader(this.strm,R.header),R.dictionary){var O;if(typeof R.dictionary=="string"?O=l.string2buf(R.dictionary):m.call(R.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(R.dictionary):O=R.dictionary,I=o.deflateSetDictionary(this.strm,O),I!==u)throw new Error(c[I]);this._dict_set=!0}}x.prototype.push=function(C,R){var I=this.strm,O=this.options.chunkSize,k,G;if(this.ended)return!1;G=R===~~R?R:R===!0?h:f,typeof C=="string"?I.input=l.string2buf(C):m.call(C)==="[object ArrayBuffer]"?I.input=new Uint8Array(C):I.input=C,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(O),I.next_out=0,I.avail_out=O),k=o.deflate(I,G),k!==v&&k!==u)return this.onEnd(k),this.ended=!0,!1;(I.avail_out===0||I.avail_in===0&&(G===h||G===y))&&(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(I.output,I.next_out))):this.onData(s.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&k!==v);return G===h?(k=o.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===u):(G===y&&(this.onEnd(u),I.avail_out=0),!0)},x.prototype.onData=function(C){this.chunks.push(C)},x.prototype.onEnd=function(C){C===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function b(C,R){var I=new x(R);if(I.push(C,!0),I.err)throw I.msg||c[I.err];return I.result}function M(C,R){return R=R||{},R.raw=!0,b(C,R)}function E(C,R){return R=R||{},R.gzip=!0,b(C,R)}a.Deflate=x,a.deflate=b,a.deflateRaw=M,a.gzip=E},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(r,i,a){"use strict";var o=r("./zlib/inflate"),s=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),d=r("./zlib/messages"),m=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function u(p){if(!(this instanceof u))return new u(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(p&&p.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,g.windowBits);if(_!==c.Z_OK)throw new Error(d[_]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}u.prototype.push=function(p,g){var _=this.strm,x=this.options.chunkSize,b=this.options.dictionary,M,E,C,R,I,O,k=!1;if(this.ended)return!1;E=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?_.input=l.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?_.input=new Uint8Array(p):_.input=p,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(x),_.next_out=0,_.avail_out=x),M=o.inflate(_,c.Z_NO_FLUSH),M===c.Z_NEED_DICT&&b&&(typeof b=="string"?O=l.string2buf(b):h.call(b)==="[object ArrayBuffer]"?O=new Uint8Array(b):O=b,M=o.inflateSetDictionary(this.strm,O)),M===c.Z_BUF_ERROR&&k===!0&&(M=c.Z_OK,k=!1),M!==c.Z_STREAM_END&&M!==c.Z_OK)return this.onEnd(M),this.ended=!0,!1;_.next_out&&(_.avail_out===0||M===c.Z_STREAM_END||_.avail_in===0&&(E===c.Z_FINISH||E===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=l.utf8border(_.output,_.next_out),R=_.next_out-C,I=l.buf2string(_.output,C),_.next_out=R,_.avail_out=x-R,R&&s.arraySet(_.output,_.output,C,R,0),this.onData(I)):this.onData(s.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(k=!0)}while((_.avail_in>0||_.avail_out===0)&&M!==c.Z_STREAM_END);return M===c.Z_STREAM_END&&(E=c.Z_FINISH),E===c.Z_FINISH?(M=o.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===c.Z_OK):(E===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),_.avail_out=0),!0)},u.prototype.onData=function(p){this.chunks.push(p)},u.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function v(p,g){var _=new u(g);if(_.push(p,!0),_.err)throw _.msg||d[_.err];return _.result}function y(p,g){return g=g||{},g.raw=!0,v(p,g)}a.Inflate=u,a.inflate=v,a.inflateRaw=y,a.ungzip=v},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(r,i,a){arguments[4][36][0].apply(a,arguments)},{dup:36}],90:[function(r,i,a){"use strict";var o=r("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new o.Buf8(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1,a.string2buf=function(f){var h,u,v,y,p,g=f.length,_=0;for(y=0;y<g;y++)u=f.charCodeAt(y),(u&64512)==55296&&y+1<g&&(v=f.charCodeAt(y+1),(v&64512)==56320&&(u=65536+(u-55296<<10)+(v-56320),y++)),_+=u<128?1:u<2048?2:u<65536?3:4;for(h=new o.Buf8(_),p=0,y=0;p<_;y++)u=f.charCodeAt(y),(u&64512)==55296&&y+1<g&&(v=f.charCodeAt(y+1),(v&64512)==56320&&(u=65536+(u-55296<<10)+(v-56320),y++)),u<128?h[p++]=u:u<2048?(h[p++]=192|u>>>6,h[p++]=128|u&63):u<65536?(h[p++]=224|u>>>12,h[p++]=128|u>>>6&63,h[p++]=128|u&63):(h[p++]=240|u>>>18,h[p++]=128|u>>>12&63,h[p++]=128|u>>>6&63,h[p++]=128|u&63);return h};function m(f,h){if(h<65537&&(f.subarray&&l||!f.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(f,h));for(var u="",v=0;v<h;v++)u+=String.fromCharCode(f[v]);return u}a.buf2binstring=function(f){return m(f,f.length)},a.binstring2buf=function(f){for(var h=new o.Buf8(f.length),u=0,v=h.length;u<v;u++)h[u]=f.charCodeAt(u);return h},a.buf2string=function(f,h){var u,v,y,p,g=h||f.length,_=new Array(g*2);for(v=0,u=0;u<g;){if(y=f[u++],y<128){_[v++]=y;continue}if(p=c[y],p>4){_[v++]=65533,u+=p-1;continue}for(y&=p===2?31:p===3?15:7;p>1&&u<g;)y=y<<6|f[u++]&63,p--;if(p>1){_[v++]=65533;continue}y<65536?_[v++]=y:(y-=65536,_[v++]=55296|y>>10&1023,_[v++]=56320|y&1023)}return m(_,v)},a.utf8border=function(f,h){var u;for(h=h||f.length,h>f.length&&(h=f.length),u=h-1;u>=0&&(f[u]&192)==128;)u--;return u<0||u===0?h:u+c[f[u]]>h?u:h}},{"./common":89}],91:[function(r,i,a){arguments[4][37][0].apply(a,arguments)},{dup:37}],92:[function(r,i,a){arguments[4][38][0].apply(a,arguments)},{dup:38}],93:[function(r,i,a){arguments[4][39][0].apply(a,arguments)},{dup:39}],94:[function(r,i,a){"use strict";var o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),m=0,f=1,h=3,u=4,v=5,y=0,p=1,g=-2,_=-3,x=-5,b=-1,M=1,E=2,C=3,R=4,I=0,O=2,k=8,G=9,N=15,Z=8,H=29,j=256,z=j+1+H,V=30,J=19,ne=2*z+1,le=15,ue=3,K=258,ae=K+ue+1,se=32,fe=42,he=69,we=73,xe=91,Ie=103,ge=113,Oe=666,me=1,pe=2,re=3,ie=4,Y=3;function ee(L,Pe){return L.msg=d[Pe],Pe}function W(L){return(L<<1)-(L>4?9:0)}function P(L){for(var Pe=L.length;--Pe>=0;)L[Pe]=0}function D(L){var Pe=L.state,Ue=Pe.pending;Ue>L.avail_out&&(Ue=L.avail_out),Ue!==0&&(o.arraySet(L.output,Pe.pending_buf,Pe.pending_out,Ue,L.next_out),L.next_out+=Ue,Pe.pending_out+=Ue,L.total_out+=Ue,L.avail_out-=Ue,Pe.pending-=Ue,Pe.pending===0&&(Pe.pending_out=0))}function B(L,Pe){s._tr_flush_block(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,Pe),L.block_start=L.strstart,D(L.strm)}function Q(L,Pe){L.pending_buf[L.pending++]=Pe}function de(L,Pe){L.pending_buf[L.pending++]=Pe>>>8&255,L.pending_buf[L.pending++]=Pe&255}function Ce(L,Pe,Ue,q){var Te=L.avail_in;return Te>q&&(Te=q),Te===0?0:(L.avail_in-=Te,o.arraySet(Pe,L.input,L.next_in,Te,Ue),L.state.wrap===1?L.adler=l(L.adler,Pe,Te,Ue):L.state.wrap===2&&(L.adler=c(L.adler,Pe,Te,Ue)),L.next_in+=Te,L.total_in+=Te,Te)}function be(L,Pe){var Ue=L.max_chain_length,q=L.strstart,Te,je,st=L.prev_length,ve=L.nice_match,Be=L.strstart>L.w_size-ae?L.strstart-(L.w_size-ae):0,Ze=L.window,nt=L.w_mask,it=L.prev,gt=L.strstart+K,yt=Ze[q+st-1],Lt=Ze[q+st];L.prev_length>=L.good_match&&(Ue>>=2),ve>L.lookahead&&(ve=L.lookahead);do if(Te=Pe,!(Ze[Te+st]!==Lt||Ze[Te+st-1]!==yt||Ze[Te]!==Ze[q]||Ze[++Te]!==Ze[q+1])){q+=2,Te++;do;while(Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&Ze[++q]===Ze[++Te]&&q<gt);if(je=K-(gt-q),q=gt-K,je>st){if(L.match_start=Pe,st=je,je>=ve)break;yt=Ze[q+st-1],Lt=Ze[q+st]}}while((Pe=it[Pe&nt])>Be&&--Ue!=0);return st<=L.lookahead?st:L.lookahead}function Se(L){var Pe=L.w_size,Ue,q,Te,je,st;do{if(je=L.window_size-L.lookahead-L.strstart,L.strstart>=Pe+(Pe-ae)){o.arraySet(L.window,L.window,Pe,Pe,0),L.match_start-=Pe,L.strstart-=Pe,L.block_start-=Pe,q=L.hash_size,Ue=q;do Te=L.head[--Ue],L.head[Ue]=Te>=Pe?Te-Pe:0;while(--q);q=Pe,Ue=q;do Te=L.prev[--Ue],L.prev[Ue]=Te>=Pe?Te-Pe:0;while(--q);je+=Pe}if(L.strm.avail_in===0)break;if(q=Ce(L.strm,L.window,L.strstart+L.lookahead,je),L.lookahead+=q,L.lookahead+L.insert>=ue)for(st=L.strstart-L.insert,L.ins_h=L.window[st],L.ins_h=(L.ins_h<<L.hash_shift^L.window[st+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[st+ue-1])&L.hash_mask,L.prev[st&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=st,st++,L.insert--,!(L.lookahead+L.insert<ue)););}while(L.lookahead<ae&&L.strm.avail_in!==0)}function ke(L,Pe){var Ue=65535;for(Ue>L.pending_buf_size-5&&(Ue=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Se(L),L.lookahead===0&&Pe===m)return me;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var q=L.block_start+Ue;if((L.strstart===0||L.strstart>=q)&&(L.lookahead=L.strstart-q,L.strstart=q,B(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-ae&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):(L.strstart>L.block_start&&(B(L,!1),L.strm.avail_out===0),me)}function Ye(L,Pe){for(var Ue,q;;){if(L.lookahead<ae){if(Se(L),L.lookahead<ae&&Pe===m)return me;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=ue&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),Ue!==0&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue)),L.match_length>=ue)if(q=s._tr_tally(L,L.strstart-L.match_start,L.match_length-ue),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=ue){L.match_length--;do L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!=0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else q=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(q&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=L.strstart<ue-1?L.strstart:ue-1,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Ve(L,Pe){for(var Ue,q,Te;;){if(L.lookahead<ae){if(Se(L),L.lookahead<ae&&Pe===m)return me;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=ue&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=ue-1,Ue!==0&&L.prev_length<L.max_lazy_match&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue),L.match_length<=5&&(L.strategy===M||L.match_length===ue&&L.strstart-L.match_start>4096)&&(L.match_length=ue-1)),L.prev_length>=ue&&L.match_length<=L.prev_length){Te=L.strstart+L.lookahead-ue,q=s._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-ue),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Te&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+ue-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!=0);if(L.match_available=0,L.match_length=ue-1,L.strstart++,q&&(B(L,!1),L.strm.avail_out===0))return me}else if(L.match_available){if(q=s._tr_tally(L,0,L.window[L.strstart-1]),q&&B(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return me}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(q=s._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<ue-1?L.strstart:ue-1,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Me(L,Pe){for(var Ue,q,Te,je,st=L.window;;){if(L.lookahead<=K){if(Se(L),L.lookahead<=K&&Pe===m)return me;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=ue&&L.strstart>0&&(Te=L.strstart-1,q=st[Te],q===st[++Te]&&q===st[++Te]&&q===st[++Te])){je=L.strstart+K;do;while(q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&q===st[++Te]&&Te<je);L.match_length=K-(je-Te),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=ue?(Ue=s._tr_tally(L,1,L.match_length-ue),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(Ue=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),Ue&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function Ge(L,Pe){for(var Ue;;){if(L.lookahead===0&&(Se(L),L.lookahead===0)){if(Pe===m)return me;break}if(L.match_length=0,Ue=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,Ue&&(B(L,!1),L.strm.avail_out===0))return me}return L.insert=0,Pe===u?(B(L,!0),L.strm.avail_out===0?re:ie):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?me:pe}function We(L,Pe,Ue,q,Te){this.good_length=L,this.max_lazy=Pe,this.nice_length=Ue,this.max_chain=q,this.func=Te}var et;et=[new We(0,0,0,0,ke),new We(4,4,8,4,Ye),new We(4,5,16,8,Ye),new We(4,6,32,32,Ye),new We(4,4,16,16,Ve),new We(8,16,32,32,Ve),new We(8,16,128,128,Ve),new We(8,32,128,256,Ve),new We(32,128,258,1024,Ve),new We(32,258,258,4096,Ve)];function ot(L){L.window_size=2*L.w_size,P(L.head),L.max_lazy_match=et[L.level].max_lazy,L.good_match=et[L.level].good_length,L.nice_match=et[L.level].nice_length,L.max_chain_length=et[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=ue-1,L.match_available=0,L.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(ne*2),this.dyn_dtree=new o.Buf16((2*V+1)*2),this.bl_tree=new o.Buf16((2*J+1)*2),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(le+1),this.heap=new o.Buf16(2*z+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(L){var Pe;return!L||!L.state?ee(L,g):(L.total_in=L.total_out=0,L.data_type=O,Pe=L.state,Pe.pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?fe:ge,L.adler=Pe.wrap===2?0:1,Pe.last_flush=m,s._tr_init(Pe),y)}function Fe(L){var Pe=Ae(L);return Pe===y&&ot(L.state),Pe}function qe(L,Pe){return!L||!L.state||L.state.wrap!==2?g:(L.state.gzhead=Pe,y)}function De(L,Pe,Ue,q,Te,je){if(!L)return g;var st=1;if(Pe===b&&(Pe=6),q<0?(st=0,q=-q):q>15&&(st=2,q-=16),Te<1||Te>G||Ue!==k||q<8||q>15||Pe<0||Pe>9||je<0||je>R)return ee(L,g);q===8&&(q=9);var ve=new X;return L.state=ve,ve.strm=L,ve.wrap=st,ve.gzhead=null,ve.w_bits=q,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Te+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+ue-1)/ue),ve.window=new o.Buf8(ve.w_size*2),ve.head=new o.Buf16(ve.hash_size),ve.prev=new o.Buf16(ve.w_size),ve.lit_bufsize=1<<Te+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new o.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Pe,ve.strategy=je,ve.method=Ue,Fe(L)}function He(L,Pe){return De(L,Pe,k,N,Z,I)}function ce(L,Pe){var Ue,q,Te,je;if(!L||!L.state||Pe>v||Pe<0)return L?ee(L,g):g;if(q=L.state,!L.output||!L.input&&L.avail_in!==0||q.status===Oe&&Pe!==u)return ee(L,L.avail_out===0?x:g);if(q.strm=L,Ue=q.last_flush,q.last_flush=Pe,q.status===fe)if(q.wrap===2)L.adler=0,Q(q,31),Q(q,139),Q(q,8),q.gzhead?(Q(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),Q(q,q.gzhead.time&255),Q(q,q.gzhead.time>>8&255),Q(q,q.gzhead.time>>16&255),Q(q,q.gzhead.time>>24&255),Q(q,q.level===9?2:q.strategy>=E||q.level<2?4:0),Q(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length&&(Q(q,q.gzhead.extra.length&255),Q(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(L.adler=c(L.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=he):(Q(q,0),Q(q,0),Q(q,0),Q(q,0),Q(q,0),Q(q,q.level===9?2:q.strategy>=E||q.level<2?4:0),Q(q,Y),q.status=ge);else{var st=k+(q.w_bits-8<<4)<<8,ve=-1;q.strategy>=E||q.level<2?ve=0:q.level<6?ve=1:q.level===6?ve=2:ve=3,st|=ve<<6,q.strstart!==0&&(st|=se),st+=31-st%31,q.status=ge,de(q,st),q.strstart!==0&&(de(q,L.adler>>>16),de(q,L.adler&65535)),L.adler=1}if(q.status===he)if(q.gzhead.extra){for(Te=q.pending;q.gzindex<(q.gzhead.extra.length&65535)&&!(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size));)Q(q,q.gzhead.extra[q.gzindex]&255),q.gzindex++;q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=we)}else q.status=we;if(q.status===we)if(q.gzhead.name){Te=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size)){je=1;break}q.gzindex<q.gzhead.name.length?je=q.gzhead.name.charCodeAt(q.gzindex++)&255:je=0,Q(q,je)}while(je!==0);q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),je===0&&(q.gzindex=0,q.status=xe)}else q.status=xe;if(q.status===xe)if(q.gzhead.comment){Te=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),D(L),Te=q.pending,q.pending===q.pending_buf_size)){je=1;break}q.gzindex<q.gzhead.comment.length?je=q.gzhead.comment.charCodeAt(q.gzindex++)&255:je=0,Q(q,je)}while(je!==0);q.gzhead.hcrc&&q.pending>Te&&(L.adler=c(L.adler,q.pending_buf,q.pending-Te,Te)),je===0&&(q.status=Ie)}else q.status=Ie;if(q.status===Ie&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&D(L),q.pending+2<=q.pending_buf_size&&(Q(q,L.adler&255),Q(q,L.adler>>8&255),L.adler=0,q.status=ge)):q.status=ge),q.pending!==0){if(D(L),L.avail_out===0)return q.last_flush=-1,y}else if(L.avail_in===0&&W(Pe)<=W(Ue)&&Pe!==u)return ee(L,x);if(q.status===Oe&&L.avail_in!==0)return ee(L,x);if(L.avail_in!==0||q.lookahead!==0||Pe!==m&&q.status!==Oe){var Be=q.strategy===E?Ge(q,Pe):q.strategy===C?Me(q,Pe):et[q.level].func(q,Pe);if((Be===re||Be===ie)&&(q.status=Oe),Be===me||Be===re)return L.avail_out===0&&(q.last_flush=-1),y;if(Be===pe&&(Pe===f?s._tr_align(q):Pe!==v&&(s._tr_stored_block(q,0,0,!1),Pe===h&&(P(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),D(L),L.avail_out===0))return q.last_flush=-1,y}return Pe!==u?y:q.wrap<=0?p:(q.wrap===2?(Q(q,L.adler&255),Q(q,L.adler>>8&255),Q(q,L.adler>>16&255),Q(q,L.adler>>24&255),Q(q,L.total_in&255),Q(q,L.total_in>>8&255),Q(q,L.total_in>>16&255),Q(q,L.total_in>>24&255)):(de(q,L.adler>>>16),de(q,L.adler&65535)),D(L),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?y:p)}function Ke(L){var Pe;return!L||!L.state?g:(Pe=L.state.status,Pe!==fe&&Pe!==he&&Pe!==we&&Pe!==xe&&Pe!==Ie&&Pe!==ge&&Pe!==Oe?ee(L,g):(L.state=null,Pe===ge?ee(L,_):y))}function lt(L,Pe){var Ue=Pe.length,q,Te,je,st,ve,Be,Ze,nt;if(!L||!L.state||(q=L.state,st=q.wrap,st===2||st===1&&q.status!==fe||q.lookahead))return g;for(st===1&&(L.adler=l(L.adler,Pe,Ue,0)),q.wrap=0,Ue>=q.w_size&&(st===0&&(P(q.head),q.strstart=0,q.block_start=0,q.insert=0),nt=new o.Buf8(q.w_size),o.arraySet(nt,Pe,Ue-q.w_size,q.w_size,0),Pe=nt,Ue=q.w_size),ve=L.avail_in,Be=L.next_in,Ze=L.input,L.avail_in=Ue,L.next_in=0,L.input=Pe,Se(q);q.lookahead>=ue;){Te=q.strstart,je=q.lookahead-(ue-1);do q.ins_h=(q.ins_h<<q.hash_shift^q.window[Te+ue-1])&q.hash_mask,q.prev[Te&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=Te,Te++;while(--je);q.strstart=Te,q.lookahead=ue-1,Se(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=ue-1,q.match_available=0,L.next_in=Be,L.input=Ze,L.avail_in=ve,q.wrap=st,y}a.deflateInit=He,a.deflateInit2=De,a.deflateReset=Fe,a.deflateResetKeep=Ae,a.deflateSetHeader=qe,a.deflate=ce,a.deflateEnd=Ke,a.deflateSetDictionary=lt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(r,i,a){"use strict";function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=o},{}],96:[function(r,i,a){arguments[4][41][0].apply(a,arguments)},{dup:41}],97:[function(r,i,a){arguments[4][42][0].apply(a,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(r,i,a){arguments[4][43][0].apply(a,arguments)},{"../utils/common":89,dup:43}],99:[function(r,i,a){arguments[4][44][0].apply(a,arguments)},{dup:44}],100:[function(r,i,a){"use strict";var o=r("../utils/common"),s=4,l=0,c=1,d=2;function m(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var f=0,h=1,u=2,v=3,y=258,p=29,g=256,_=g+1+p,x=30,b=19,M=2*_+1,E=15,C=16,R=7,I=256,O=16,k=17,G=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,V=new Array((_+2)*2);m(V);var J=new Array(x*2);m(J);var ne=new Array(z);m(ne);var le=new Array(y-v+1);m(le);var ue=new Array(p);m(ue);var K=new Array(x);m(K);function ae(X,Ae,Fe,qe,De){this.static_tree=X,this.extra_bits=Ae,this.extra_base=Fe,this.elems=qe,this.max_length=De,this.has_stree=X&&X.length}var se,fe,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?ne[X]:ne[256+(X>>>7)]}function Ie(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,Fe){X.bi_valid>C-Fe?(X.bi_buf|=Ae<<X.bi_valid&65535,Ie(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=Fe-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=Fe)}function Oe(X,Ae,Fe){ge(X,Fe[Ae*2],Fe[Ae*2+1])}function me(X,Ae){var Fe=0;do Fe|=X&1,X>>>=1,Fe<<=1;while(--Ae>0);return Fe>>>1}function pe(X){X.bi_valid===16?(Ie(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function re(X,Ae){var Fe=Ae.dyn_tree,qe=Ae.max_code,De=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ce=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,lt=Ae.stat_desc.max_length,L,Pe,Ue,q,Te,je,st=0;for(q=0;q<=E;q++)X.bl_count[q]=0;for(Fe[X.heap[X.heap_max]*2+1]=0,L=X.heap_max+1;L<M;L++)Pe=X.heap[L],q=Fe[Fe[Pe*2+1]*2+1]+1,q>lt&&(q=lt,st++),Fe[Pe*2+1]=q,!(Pe>qe)&&(X.bl_count[q]++,Te=0,Pe>=Ke&&(Te=ce[Pe-Ke]),je=Fe[Pe*2],X.opt_len+=je*(q+Te),He&&(X.static_len+=je*(De[Pe*2+1]+Te)));if(st!==0){do{for(q=lt-1;X.bl_count[q]===0;)q--;X.bl_count[q]--,X.bl_count[q+1]+=2,X.bl_count[lt]--,st-=2}while(st>0);for(q=lt;q!==0;q--)for(Pe=X.bl_count[q];Pe!==0;)Ue=X.heap[--L],!(Ue>qe)&&(Fe[Ue*2+1]!==q&&(X.opt_len+=(q-Fe[Ue*2+1])*Fe[Ue*2],Fe[Ue*2+1]=q),Pe--)}}function ie(X,Ae,Fe){var qe=new Array(E+1),De=0,He,ce;for(He=1;He<=E;He++)qe[He]=De=De+Fe[He-1]<<1;for(ce=0;ce<=Ae;ce++){var Ke=X[ce*2+1];Ke!==0&&(X[ce*2]=me(qe[Ke]++,Ke))}}function Y(){var X,Ae,Fe,qe,De,He=new Array(E+1);for(Fe=0,qe=0;qe<p-1;qe++)for(ue[qe]=Fe,X=0;X<1<<N[qe];X++)le[Fe++]=qe;for(le[Fe-1]=qe,De=0,qe=0;qe<16;qe++)for(K[qe]=De,X=0;X<1<<Z[qe];X++)ne[De++]=qe;for(De>>=7;qe<x;qe++)for(K[qe]=De<<7,X=0;X<1<<Z[qe]-7;X++)ne[256+De++]=qe;for(Ae=0;Ae<=E;Ae++)He[Ae]=0;for(X=0;X<=143;)V[X*2+1]=8,X++,He[8]++;for(;X<=255;)V[X*2+1]=9,X++,He[9]++;for(;X<=279;)V[X*2+1]=7,X++,He[7]++;for(;X<=287;)V[X*2+1]=8,X++,He[8]++;for(ie(V,_+1,He),X=0;X<x;X++)J[X*2+1]=5,J[X*2]=me(X,5);se=new ae(V,N,g+1,_,E),fe=new ae(J,Z,0,x,E),he=new ae(new Array(0),H,0,b,R)}function ee(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<x;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<b;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[I*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function W(X){X.bi_valid>8?Ie(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function P(X,Ae,Fe,qe){W(X),qe&&(Ie(X,Fe),Ie(X,~Fe)),o.arraySet(X.pending_buf,X.window,Ae,Fe,X.pending),X.pending+=Fe}function D(X,Ae,Fe,qe){var De=Ae*2,He=Fe*2;return X[De]<X[He]||X[De]===X[He]&&qe[Ae]<=qe[Fe]}function B(X,Ae,Fe){for(var qe=X.heap[Fe],De=Fe<<1;De<=X.heap_len&&(De<X.heap_len&&D(Ae,X.heap[De+1],X.heap[De],X.depth)&&De++,!D(Ae,qe,X.heap[De],X.depth));)X.heap[Fe]=X.heap[De],Fe=De,De<<=1;X.heap[Fe]=qe}function Q(X,Ae,Fe){var qe,De,He=0,ce,Ke;if(X.last_lit!==0)do qe=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],De=X.pending_buf[X.l_buf+He],He++,qe===0?Oe(X,De,Ae):(ce=le[De],Oe(X,ce+g+1,Ae),Ke=N[ce],Ke!==0&&(De-=ue[ce],ge(X,De,Ke)),qe--,ce=xe(qe),Oe(X,ce,Fe),Ke=Z[ce],Ke!==0&&(qe-=K[ce],ge(X,qe,Ke)));while(He<X.last_lit);Oe(X,I,Ae)}function de(X,Ae){var Fe=Ae.dyn_tree,qe=Ae.stat_desc.static_tree,De=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ce,Ke,lt=-1,L;for(X.heap_len=0,X.heap_max=M,ce=0;ce<He;ce++)Fe[ce*2]!==0?(X.heap[++X.heap_len]=lt=ce,X.depth[ce]=0):Fe[ce*2+1]=0;for(;X.heap_len<2;)L=X.heap[++X.heap_len]=lt<2?++lt:0,Fe[L*2]=1,X.depth[L]=0,X.opt_len--,De&&(X.static_len-=qe[L*2+1]);for(Ae.max_code=lt,ce=X.heap_len>>1;ce>=1;ce--)B(X,Fe,ce);L=He;do ce=X.heap[1],X.heap[1]=X.heap[X.heap_len--],B(X,Fe,1),Ke=X.heap[1],X.heap[--X.heap_max]=ce,X.heap[--X.heap_max]=Ke,Fe[L*2]=Fe[ce*2]+Fe[Ke*2],X.depth[L]=(X.depth[ce]>=X.depth[Ke]?X.depth[ce]:X.depth[Ke])+1,Fe[ce*2+1]=Fe[Ke*2+1]=L,X.heap[1]=L++,B(X,Fe,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],re(X,Ae),ie(Fe,lt,X.bl_count)}function Ce(X,Ae,Fe){var qe,De=-1,He,ce=Ae[0*2+1],Ke=0,lt=7,L=4;for(ce===0&&(lt=138,L=3),Ae[(Fe+1)*2+1]=65535,qe=0;qe<=Fe;qe++)He=ce,ce=Ae[(qe+1)*2+1],!(++Ke<lt&&He===ce)&&(Ke<L?X.bl_tree[He*2]+=Ke:He!==0?(He!==De&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[G*2]++,Ke=0,De=He,ce===0?(lt=138,L=3):He===ce?(lt=6,L=3):(lt=7,L=4))}function be(X,Ae,Fe){var qe,De=-1,He,ce=Ae[0*2+1],Ke=0,lt=7,L=4;for(ce===0&&(lt=138,L=3),qe=0;qe<=Fe;qe++)if(He=ce,ce=Ae[(qe+1)*2+1],!(++Ke<lt&&He===ce)){if(Ke<L)do Oe(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==De&&(Oe(X,He,X.bl_tree),Ke--),Oe(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(Oe(X,k,X.bl_tree),ge(X,Ke-3,3)):(Oe(X,G,X.bl_tree),ge(X,Ke-11,7));Ke=0,De=He,ce===0?(lt=138,L=3):He===ce?(lt=6,L=3):(lt=7,L=4)}}function Se(X){var Ae;for(Ce(X,X.dyn_ltree,X.l_desc.max_code),Ce(X,X.dyn_dtree,X.d_desc.max_code),de(X,X.bl_desc),Ae=b-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ke(X,Ae,Fe,qe){var De;for(ge(X,Ae-257,5),ge(X,Fe-1,5),ge(X,qe-4,4),De=0;De<qe;De++)ge(X,X.bl_tree[j[De]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,Fe-1)}function Ye(X){var Ae=4093624447,Fe;for(Fe=0;Fe<=31;Fe++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[Fe*2]!==0)return l;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return c;for(Fe=32;Fe<g;Fe++)if(X.dyn_ltree[Fe*2]!==0)return c;return l}var Ve=!1;function Me(X){Ve||(Y(),Ve=!0),X.l_desc=new we(X.dyn_ltree,se),X.d_desc=new we(X.dyn_dtree,fe),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,ee(X)}function Ge(X,Ae,Fe,qe){ge(X,(f<<1)+(qe?1:0),3),P(X,Ae,Fe,!0)}function We(X){ge(X,h<<1,3),Oe(X,I,V),pe(X)}function et(X,Ae,Fe,qe){var De,He,ce=0;X.level>0?(X.strm.data_type===d&&(X.strm.data_type=Ye(X)),de(X,X.l_desc),de(X,X.d_desc),ce=Se(X),De=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=De&&(De=He)):De=He=Fe+5,Fe+4<=De&&Ae!==-1?Ge(X,Ae,Fe,qe):X.strategy===s||He===De?(ge(X,(h<<1)+(qe?1:0),3),Q(X,V,J)):(ge(X,(u<<1)+(qe?1:0),3),ke(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ce+1),Q(X,X.dyn_ltree,X.dyn_dtree)),ee(X),qe&&W(X)}function ot(X,Ae,Fe){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=Fe&255,X.last_lit++,Ae===0?X.dyn_ltree[Fe*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[Fe]+g+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=et,a._tr_tally=ot,a._tr_align=We},{"../utils/common":89}],101:[function(r,i,a){arguments[4][46][0].apply(a,arguments)},{dup:46}],102:[function(r,i,a){i.exports=function(d){if(!d)throw new Error("no data provided");d=d.toString().trim();var m={pages:[],chars:[],kernings:[]},f=d.split(/\r\n?|\n/g);if(f.length===0)throw new Error("no data in BMFont file");for(var h=0;h<f.length;h++){var u=o(f[h],h);if(!!u)if(u.key==="page"){if(typeof u.data.id!="number")throw new Error("malformed file at line "+h+" -- needs page id=N");if(typeof u.data.file!="string")throw new Error("malformed file at line "+h+' -- needs page file="path"');m.pages[u.data.id]=u.data.file}else u.key==="chars"||u.key==="kernings"||(u.key==="char"?m.chars.push(u.data):u.key==="kerning"?m.kernings.push(u.data):m[u.key]=u.data)}return m};function o(c,d){if(c=c.replace(/\t+/g," ").trim(),!c)return null;var m=c.indexOf(" ");if(m===-1)throw new Error("no named row at line "+d);var f=c.substring(0,m);c=c.substring(m+1),c=c.replace(/letter=[\'\"]\S+[\'\"]/gi,""),c=c.split("="),c=c.map(function(p){return p.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var h=[],u=0;u<c.length;u++){var v=c[u];u===0?h.push({key:v[0],data:""}):u===c.length-1?h[h.length-1].data=s(v[0]):(h[h.length-1].data=s(v[0]),h.push({key:v[1],data:""}))}var y={key:f,data:{}};return h.forEach(function(p){y.data[p.key]=p.data}),y}function s(c){return!c||c.length===0?"":c.indexOf('"')===0||c.indexOf("'")===0?c.substring(1,c.length-1):c.indexOf(",")!==-1?l(c):parseInt(c,10)}function l(c){return c.split(",").map(function(d){return parseInt(d,10)})}},{}],103:[function(r,i,a){var o=[66,77,70];i.exports=function(y){if(y.length<6)throw new Error("invalid buffer length for BMFont");var p=o.every(function(M,E){return y.readUInt8(E)===M});if(!p)throw new Error("BMFont missing BMF byte header");var g=3,_=y.readUInt8(g++);if(_>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var x={kernings:[],chars:[]},b=0;b<5;b++)g+=s(x,y,g);return x};function s(v,y,p){if(p>y.length-1)return 0;var g=y.readUInt8(p++),_=y.readInt32LE(p);switch(p+=4,g){case 1:v.info=l(y,p);break;case 2:v.common=c(y,p);break;case 3:v.pages=d(y,p,_);break;case 4:v.chars=m(y,p,_);break;case 5:v.kernings=f(y,p,_);break}return 5+_}function l(v,y){var p={};p.size=v.readInt16LE(y);var g=v.readUInt8(y+2);return p.smooth=g>>7&1,p.unicode=g>>6&1,p.italic=g>>5&1,p.bold=g>>4&1,g>>3&1&&(p.fixedHeight=1),p.charset=v.readUInt8(y+3)||"",p.stretchH=v.readUInt16LE(y+4),p.aa=v.readUInt8(y+6),p.padding=[v.readInt8(y+7),v.readInt8(y+8),v.readInt8(y+9),v.readInt8(y+10)],p.spacing=[v.readInt8(y+11),v.readInt8(y+12)],p.outline=v.readUInt8(y+13),p.face=u(v,y+14),p}function c(v,y){var p={};p.lineHeight=v.readUInt16LE(y),p.base=v.readUInt16LE(y+2),p.scaleW=v.readUInt16LE(y+4),p.scaleH=v.readUInt16LE(y+6),p.pages=v.readUInt16LE(y+8);var g=v.readUInt8(y+10);return p.packed=0,p.alphaChnl=v.readUInt8(y+11),p.redChnl=v.readUInt8(y+12),p.greenChnl=v.readUInt8(y+13),p.blueChnl=v.readUInt8(y+14),p}function d(v,y,p){for(var g=[],_=h(v,y),x=_.length+1,b=p/x,M=0;M<b;M++)g[M]=v.slice(y,y+_.length).toString("utf8"),y+=x;return g}function m(v,y,p){for(var g=[],_=p/20,x=0;x<_;x++){var b={},M=x*20;b.id=v.readUInt32LE(y+0+M),b.x=v.readUInt16LE(y+4+M),b.y=v.readUInt16LE(y+6+M),b.width=v.readUInt16LE(y+8+M),b.height=v.readUInt16LE(y+10+M),b.xoffset=v.readInt16LE(y+12+M),b.yoffset=v.readInt16LE(y+14+M),b.xadvance=v.readInt16LE(y+16+M),b.page=v.readUInt8(y+18+M),b.chnl=v.readUInt8(y+19+M),g[x]=b}return g}function f(v,y,p){for(var g=[],_=p/10,x=0;x<_;x++){var b={},M=x*10;b.first=v.readUInt32LE(y+0+M),b.second=v.readUInt32LE(y+4+M),b.amount=v.readInt16LE(y+8+M),g[x]=b}return g}function h(v,y){for(var p=y;p<v.length&&v[p]!==0;p++);return v.slice(y,p)}function u(v,y){return h(v,y).toString("utf8")}},{}],104:[function(r,i,a){var o=r("./parse-attribs"),s=r("xml-parse-from-string"),l={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};i.exports=function(h){h=h.toString();var u=s(h),v={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(M){var E=u.getElementsByTagName(M)[0];E&&(v[M]=o(c(E)))});var y=u.getElementsByTagName("pages")[0];if(!y)throw new Error("malformed file -- no <pages> element");for(var p=y.getElementsByTagName("page"),g=0;g<p.length;g++){var _=p[g],x=parseInt(_.getAttribute("id"),10),b=_.getAttribute("file");if(isNaN(x))throw new Error('malformed file -- page "id" attribute is NaN');if(!b)throw new Error('malformed file -- needs page "file" attribute');v.pages[parseInt(x,10)]=b}return["chars","kernings"].forEach(function(M){var E=u.getElementsByTagName(M)[0];if(!!E)for(var C=M.substring(0,M.length-1),R=E.getElementsByTagName(C),I=0;I<R.length;I++){var O=R[I];v[M].push(o(c(O)))}}),v};function c(f){var h=d(f);return h.reduce(function(u,v){var y=m(v.nodeName);return u[y]=v.nodeValue,u},{})}function d(f){for(var h=[],u=0;u<f.attributes.length;u++)h.push(f.attributes[u]);return h}function m(f){return l[f.toLowerCase()]||f}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(r,i,a){var o="chasrset";i.exports=function(c){o in c&&(c.charset=c[o],delete c[o]);for(var d in c)d==="face"||d==="charset"||(d==="padding"||d==="spacing"?c[d]=s(c[d]):c[d]=parseInt(c[d],10));return c};function s(l){return l.split(",").map(function(c){return parseInt(c,10)})}},{}],106:[function(r,i,a){var o=r("trim"),s=r("for-each"),l=function(c){return Object.prototype.toString.call(c)==="[object Array]"};i.exports=function(c){if(!c)return{};var d={};return s(o(c).split(`
`),function(m){var f=m.indexOf(":"),h=o(m.slice(0,f)).toLowerCase(),u=o(m.slice(f+1));typeof d[h]=="undefined"?d[h]=u:l(d[h])?d[h].push(u):d[h]=[d[h],u]}),d}},{"for-each":63,trim:179}],107:[function(r,i,a){(function(o){function s(m,f){for(var h=0,u=m.length-1;u>=0;u--){var v=m[u];v==="."?m.splice(u,1):v===".."?(m.splice(u,1),h++):h&&(m.splice(u,1),h--)}if(f)for(;h--;h)m.unshift("..");return m}a.resolve=function(){for(var m="",f=!1,h=arguments.length-1;h>=-1&&!f;h--){var u=h>=0?arguments[h]:o.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)continue;m=u+"/"+m,f=u.charAt(0)==="/"}return m=s(c(m.split("/"),function(v){return!!v}),!f).join("/"),(f?"/":"")+m||"."},a.normalize=function(m){var f=a.isAbsolute(m),h=d(m,-1)==="/";return m=s(c(m.split("/"),function(u){return!!u}),!f).join("/"),!m&&!f&&(m="."),m&&h&&(m+="/"),(f?"/":"")+m},a.isAbsolute=function(m){return m.charAt(0)==="/"},a.join=function(){var m=Array.prototype.slice.call(arguments,0);return a.normalize(c(m,function(f,h){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},a.relative=function(m,f){m=a.resolve(m).substr(1),f=a.resolve(f).substr(1);function h(x){for(var b=0;b<x.length&&x[b]==="";b++);for(var M=x.length-1;M>=0&&x[M]==="";M--);return b>M?[]:x.slice(b,M-b+1)}for(var u=h(m.split("/")),v=h(f.split("/")),y=Math.min(u.length,v.length),p=y,g=0;g<y;g++)if(u[g]!==v[g]){p=g;break}for(var _=[],g=p;g<u.length;g++)_.push("..");return _=_.concat(v.slice(p)),_.join("/")},a.sep="/",a.delimiter=":",a.dirname=function(m){if(typeof m!="string"&&(m=m+""),m.length===0)return".";for(var f=m.charCodeAt(0),h=f===47,u=-1,v=!0,y=m.length-1;y>=1;--y)if(f=m.charCodeAt(y),f===47){if(!v){u=y;break}}else v=!1;return u===-1?h?"/":".":h&&u===1?"/":m.slice(0,u)};function l(m){typeof m!="string"&&(m=m+"");var f=0,h=-1,u=!0,v;for(v=m.length-1;v>=0;--v)if(m.charCodeAt(v)===47){if(!u){f=v+1;break}}else h===-1&&(u=!1,h=v+1);return h===-1?"":m.slice(f,h)}a.basename=function(m,f){var h=l(m);return f&&h.substr(-1*f.length)===f&&(h=h.substr(0,h.length-f.length)),h},a.extname=function(m){typeof m!="string"&&(m=m+"");for(var f=-1,h=0,u=-1,v=!0,y=0,p=m.length-1;p>=0;--p){var g=m.charCodeAt(p);if(g===47){if(!v){h=p+1;break}continue}u===-1&&(v=!1,u=p+1),g===46?f===-1?f=p:y!==1&&(y=1):f!==-1&&(y=-1)}return f===-1||u===-1||y===0||y===1&&f===u-1&&f===h+1?"":m.slice(f,u)};function c(m,f){if(m.filter)return m.filter(f);for(var h=[],u=0;u<m.length;u++)f(m[u],u,m)&&h.push(m[u]);return h}var d="ab".substr(-1)==="b"?function(m,f,h){return m.substr(f,h)}:function(m,f,h){return f<0&&(f=m.length+f),m.substr(f,h)}}).call(this,r("_process"))},{_process:133}],108:[function(r,i,a){(function(o){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=r("http"),c=r("https"),d=r("url"),m=r("querystring"),f=r("zlib"),h=r("util"),u=function(y,p){if(typeof y!="string"&&!y.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var g=(typeof y=="undefined"?"undefined":s(y))==="object"?d.parse(y.url):d.parse(y),_={hostname:g.hostname,port:g.port||(g.protocol.toLowerCase()==="http:"?80:443),path:g.path,method:"GET",headers:{},auth:g.auth||null,parse:"none",stream:!1};if((typeof y=="undefined"?"undefined":s(y))==="object"&&(_=Object.assign(_,y)),_.port=Number(_.port),_.hasOwnProperty("timeout")&&delete _.timeout,_.compressed===!0&&(_.headers["accept-encoding"]="gzip, deflate"),y.hasOwnProperty("form")){if(s(y.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var x=m.stringify(y.form);_.headers["Content-Type"]="application/x-www-form-urlencoded",_.headers["Content-Length"]=o.byteLength(x),y.data=x}var b=void 0,M=function(I){var O=I;_.compressed===!0&&(I.headers["content-encoding"]==="gzip"?O=I.pipe(f.createGunzip()):I.headers["content-encoding"]==="deflate"&&(O=I.pipe(f.createInflate()))),_.stream===!0?(I.stream=O,p(null,I)):(I.body=new o([]),O.on("data",function(k){I.body=o.concat([I.body,k])}),O.on("end",function(){if(p){if(_.parse==="json")try{I.body=JSON.parse(I.body.toString())}catch{p("Invalid JSON received.",I);return}p(null,I)}}))};switch(g.protocol.toLowerCase()){case"http:":b=l.request(_,M);break;case"https:":b=c.request(_,M);break;default:p&&p(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof y.timeout=="number"&&b.setTimeout(y.timeout,function(){b.abort(),p(new Error("Timeout has been reached."),null),p=null}),b.on("error",function(R){p&&p(R,null)}),y.hasOwnProperty("data")){var E=y.data;if(!(y.data instanceof o)&&s(y.data)==="object"){var C=_.headers["content-type"]||_.headers["Content-Type"];if(C==="application/x-www-form-urlencoded")E=m.stringify(y.data);else try{E=JSON.stringify(y.data)}catch{p(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}b.write(E)}b.end()};u.promisified=function(v,y){return new Promise(function(p,g){u(v,function(_,x){_?g(_):p(x)},y)})},h.promisify&&(u[h.promisify.custom]=u.promisified),i.exports=u}).call(this,r("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(r,i,a){"use strict";i.exports=o;function o(v,y,p,g,_,x){x||(x={});for(var b=x.threshold===void 0?.1:x.threshold,M=35215*b*b,E=0,C=0;C<_;C++)for(var R=0;R<g;R++){var I=(C*g+R)*4,O=l(v,y,I,I);if(O>M)!x.includeAA&&(s(v,R,C,g,_,y)||s(y,R,C,g,_,v))?p&&h(p,I,255,255,0):(p&&h(p,I,255,0,0),E++);else if(p){var k=f(u(v,I),.1);h(p,I,k,k,k)}}return E}function s(v,y,p,g,_,x){for(var b=Math.max(y-1,0),M=Math.max(p-1,0),E=Math.min(y+1,g-1),C=Math.min(p+1,_-1),R=(p*g+y)*4,I=0,O=0,k=0,G=0,N=0,Z,H,j,z,V=b;V<=E;V++)for(var J=M;J<=C;J++)if(!(V===y&&J===p)){var ne=l(v,v,R,(J*g+V)*4,!0);if(ne===0?I++:ne<0?k++:ne>0&&O++,I>2)return!1;!x||(ne<G&&(G=ne,Z=V,H=J),ne>N&&(N=ne,j=V,z=J))}return x?k===0||O===0?!1:!s(v,Z,H,g,_)&&!s(x,Z,H,g,_)||!s(v,j,z,g,_)&&!s(x,j,z,g,_):!0}function l(v,y,p,g,_){var x=v[p+3]/255,b=y[g+3]/255,M=f(v[p+0],x),E=f(v[p+1],x),C=f(v[p+2],x),R=f(y[g+0],b),I=f(y[g+1],b),O=f(y[g+2],b),k=c(M,E,C)-c(R,I,O);if(_)return k;var G=d(M,E,C)-d(R,I,O),N=m(M,E,C)-m(R,I,O);return .5053*k*k+.299*G*G+.1957*N*N}function c(v,y,p){return v*.29889531+y*.58662247+p*.11448223}function d(v,y,p){return v*.59597799-y*.2741761-p*.32180189}function m(v,y,p){return v*.21147017-y*.52261711+p*.31114694}function f(v,y){return 255+(v-255)*y}function h(v,y,p,g,_){v[y+0]=p,v[y+1]=g,v[y+2]=_,v[y+3]=255}function u(v,y){var p=v[y+3]/255,g=f(v[y+0],p),_=f(v[y+1],p),x=f(v[y+2],p);return c(g,_,x)}},{}],110:[function(r,i,a){(function(o){"use strict";var s=r("./interlace"),l={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function c(f,h){var u=[],v=0;function y(){if(v===f.length)throw new Error("Ran out of data");var p=f[v];v++;var g,_,x,b,M,E,C,R;switch(h){default:throw new Error("unrecognised depth");case 16:C=f[v],v++,u.push((p<<8)+C);break;case 4:C=p&15,R=p>>4,u.push(R,C);break;case 2:M=p&3,E=p>>2&3,C=p>>4&3,R=p>>6&3,u.push(R,C,E,M);break;case 1:g=p&1,_=p>>1&1,x=p>>2&1,b=p>>3&1,M=p>>4&1,E=p>>5&1,C=p>>6&1,R=p>>7&1,u.push(R,C,E,M,b,x,_,g);break}}return{get:function(p){for(;u.length<p;)y();var g=u.slice(0,p);return u=u.slice(p),g},resetAfterLine:function(){u.length=0},end:function(){if(v!==f.length)throw new Error("extra data found")}}}function d(f,h,u,v,y,p){for(var g=f.width,_=f.height,x=f.index,b=0;b<_;b++)for(var M=0;M<g;M++){for(var E=u(M,b,x),C=0;C<4;C++){var R=l[v][C];if(R===255)h[E+C]=255;else{var I=R+p;if(I===y.length)throw new Error("Ran out of data");h[E+C]=y[I]}}p+=v}return p}function m(f,h,u,v,y,p){for(var g=f.width,_=f.height,x=f.index,b=0;b<_;b++){for(var M=0;M<g;M++)for(var E=y.get(v),C=u(M,b,x),R=0;R<4;R++){var I=l[v][R];h[C+R]=I!==255?E[I]:p}y.resetAfterLine()}}a.dataToBitMap=function(f,h){var u=h.width,v=h.height,y=h.depth,p=h.bpp,g=h.interlace;if(y!==8)var _=c(f,y);var x;y<=8?x=new o(u*v*4):x=new Uint16Array(u*v*4);var b=Math.pow(2,y)-1,M=0,E,C;if(g)E=s.getImagePasses(u,v),C=s.getInterlaceIterator(u,v);else{var R=0;C=function(){var O=R;return R+=4,O},E=[{width:u,height:v}]}for(var I=0;I<E.length;I++)y===8?M=d(E[I],x,C,p,f,M):m(E[I],x,C,p,_,b);if(y===8){if(M!==f.length)throw new Error("extra data found")}else _.end();return x}}).call(this,r("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(r,i,a){(function(o){"use strict";var s=r("./constants");i.exports=function(l,c,d,m){var f=[s.COLORTYPE_COLOR_ALPHA,s.COLORTYPE_ALPHA].indexOf(m.colorType)!==-1;if(m.colorType===m.inputColorType){var h=function(){var O=new ArrayBuffer(2);return new DataView(O).setInt16(0,256,!0),new Int16Array(O)[0]!==256}();if(m.bitDepth===8||m.bitDepth===16&&h)return l}var u=m.bitDepth!==16?l:new Uint16Array(l.buffer),v=255,y=s.COLORTYPE_TO_BPP_MAP[m.inputColorType];y==4&&!m.inputHasAlpha&&(y=3);var p=s.COLORTYPE_TO_BPP_MAP[m.colorType];m.bitDepth===16&&(v=65535,p*=2);var g=new o(c*d*p),_=0,x=0,b=m.bgColor||{};b.red===void 0&&(b.red=v),b.green===void 0&&(b.green=v),b.blue===void 0&&(b.blue=v);function M(O,k){var G,N,Z,H=v;switch(m.inputColorType){case s.COLORTYPE_COLOR_ALPHA:H=O[k+3],G=O[k],N=O[k+1],Z=O[k+2];break;case s.COLORTYPE_COLOR:G=O[k],N=O[k+1],Z=O[k+2];break;case s.COLORTYPE_ALPHA:H=O[k+1],G=O[k],N=G,Z=G;break;case s.COLORTYPE_GRAYSCALE:G=O[k],N=G,Z=G;break;default:throw new Error("input color type:"+m.inputColorType+" is not supported at present")}return m.inputHasAlpha&&(f||(H/=v,G=Math.min(Math.max(Math.round((1-H)*b.red+H*G),0),v),N=Math.min(Math.max(Math.round((1-H)*b.green+H*N),0),v),Z=Math.min(Math.max(Math.round((1-H)*b.blue+H*Z),0),v))),{red:G,green:N,blue:Z,alpha:H}}for(var E=0;E<d;E++)for(var C=0;C<c;C++){var R=M(u,_);switch(m.colorType){case s.COLORTYPE_COLOR_ALPHA:case s.COLORTYPE_COLOR:m.bitDepth===8?(g[x]=R.red,g[x+1]=R.green,g[x+2]=R.blue,f&&(g[x+3]=R.alpha)):(g.writeUInt16BE(R.red,x),g.writeUInt16BE(R.green,x+2),g.writeUInt16BE(R.blue,x+4),f&&g.writeUInt16BE(R.alpha,x+6));break;case s.COLORTYPE_ALPHA:case s.COLORTYPE_GRAYSCALE:var I=(R.red+R.green+R.blue)/3;m.bitDepth===8?(g[x]=I,f&&(g[x+1]=R.alpha)):(g.writeUInt16BE(I,x),f&&g.writeUInt16BE(R.alpha,x+2));break}_+=y,x+=p}return g}}).call(this,r("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(r,i,a){(function(o,s){"use strict";var l=r("util"),c=r("stream"),d=i.exports=function(){c.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};l.inherits(d,c),d.prototype.read=function(m,f){this._reads.push({length:Math.abs(m),allowLess:m<0,func:f}),o.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},d.prototype.write=function(m,f){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var h;return s.isBuffer(m)?h=m:h=new s(m,f||this._encoding),this._buffers.push(h),this._buffered+=h.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},d.prototype.end=function(m,f){m&&this.write(m,f),this.writable=!1,!!this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},d.prototype.destroySoon=d.prototype.end,d.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},d.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},d.prototype._processReadAllowingLess=function(m){this._reads.shift();var f=this._buffers[0];f.length>m.length?(this._buffered-=m.length,this._buffers[0]=f.slice(m.length),m.func.call(this,f.slice(0,m.length))):(this._buffered-=f.length,this._buffers.shift(),m.func.call(this,f))},d.prototype._processRead=function(m){this._reads.shift();for(var f=0,h=0,u=new s(m.length);f<m.length;){var v=this._buffers[h++],y=Math.min(v.length,m.length-f);v.copy(u,f,0,y),f+=y,y!==v.length&&(this._buffers[--h]=v.slice(y))}h>0&&this._buffers.splice(0,h),this._buffered-=m.length,m.func.call(this,u)},d.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var m=this._reads[0];if(m.allowLess)this._processReadAllowingLess(m);else if(this._buffered>=m.length)this._processRead(m);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(f){this.emit("error",f)}}}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(r,i,a){"use strict";i.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(r,i,a){"use strict";var o=[];(function(){for(var l=0;l<256;l++){for(var c=l,d=0;d<8;d++)c&1?c=3988292384^c>>>1:c=c>>>1;o[l]=c}})();var s=i.exports=function(){this._crc=-1};s.prototype.write=function(l){for(var c=0;c<l.length;c++)this._crc=o[(this._crc^l[c])&255]^this._crc>>>8;return!0},s.prototype.crc32=function(){return this._crc^-1},s.crc32=function(l){for(var c=-1,d=0;d<l.length;d++)c=o[(c^l[d])&255]^c>>>8;return c^-1}},{}],115:[function(r,i,a){(function(o){"use strict";var s=r("./paeth-predictor");function l(x,b,M,E,C){for(var R=0;R<M;R++)E[C+R]=x[b+R]}function c(x,b,M){for(var E=0,C=b+M,R=b;R<C;R++)E+=Math.abs(x[R]);return E}function d(x,b,M,E,C,R){for(var I=0;I<M;I++){var O=I>=R?x[b+I-R]:0,k=x[b+I]-O;E[C+I]=k}}function m(x,b,M,E){for(var C=0,R=0;R<M;R++){var I=R>=E?x[b+R-E]:0,O=x[b+R]-I;C+=Math.abs(O)}return C}function f(x,b,M,E,C){for(var R=0;R<M;R++){var I=b>0?x[b+R-M]:0,O=x[b+R]-I;E[C+R]=O}}function h(x,b,M){for(var E=0,C=b+M,R=b;R<C;R++){var I=b>0?x[R-M]:0,O=x[R]-I;E+=Math.abs(O)}return E}function u(x,b,M,E,C,R){for(var I=0;I<M;I++){var O=I>=R?x[b+I-R]:0,k=b>0?x[b+I-M]:0,G=x[b+I]-(O+k>>1);E[C+I]=G}}function v(x,b,M,E){for(var C=0,R=0;R<M;R++){var I=R>=E?x[b+R-E]:0,O=b>0?x[b+R-M]:0,k=x[b+R]-(I+O>>1);C+=Math.abs(k)}return C}function y(x,b,M,E,C,R){for(var I=0;I<M;I++){var O=I>=R?x[b+I-R]:0,k=b>0?x[b+I-M]:0,G=b>0&&I>=R?x[b+I-(M+R)]:0,N=x[b+I]-s(O,k,G);E[C+I]=N}}function p(x,b,M,E){for(var C=0,R=0;R<M;R++){var I=R>=E?x[b+R-E]:0,O=b>0?x[b+R-M]:0,k=b>0&&R>=E?x[b+R-(M+E)]:0,G=x[b+R]-s(I,O,k);C+=Math.abs(G)}return C}var g={0:l,1:d,2:f,3:u,4:y},_={0:c,1:m,2:h,3:v,4:p};i.exports=function(x,b,M,E,C){var R;if(!("filterType"in E)||E.filterType===-1)R=[0,1,2,3,4];else if(typeof E.filterType=="number")R=[E.filterType];else throw new Error("unrecognised filter types");E.bitDepth===16&&(C*=2);for(var I=b*C,O=0,k=0,G=new o((I+1)*M),N=R[0],Z=0;Z<M;Z++){if(R.length>1)for(var H=1/0,j=0;j<R.length;j++){var z=_[R[j]](x,k,I,C);z<H&&(N=R[j],H=z)}G[O]=N,O++,g[N](x,k,I,G,O,C),O+=I,k+=I}return G}}).call(this,r("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(r,i,a){(function(o){"use strict";var s=r("util"),l=r("./chunkstream"),c=r("./filter-parse"),d=i.exports=function(m){l.call(this);var f=[],h=this;this._filter=new c(m,{read:this.read.bind(this),write:function(u){f.push(u)},complete:function(){h.emit("complete",o.concat(f))}}),this._filter.start()};s.inherits(d,l)}).call(this,r("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(r,i,a){(function(o){"use strict";var s=r("./sync-reader"),l=r("./filter-parse");a.process=function(c,d){var m=[],f=new s(c),h=new l(d,{read:f.read.bind(f),write:function(u){m.push(u)},complete:function(){}});return h.start(),f.process(),o.concat(m)}}).call(this,r("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(r,i,a){(function(o){"use strict";var s=r("./interlace"),l=r("./paeth-predictor");function c(m,f,h){var u=m*f;return h!==8&&(u=Math.ceil(u/(8/h))),u}var d=i.exports=function(m,f){var h=m.width,u=m.height,v=m.interlace,y=m.bpp,p=m.depth;if(this.read=f.read,this.write=f.write,this.complete=f.complete,this._imageIndex=0,this._images=[],v)for(var g=s.getImagePasses(h,u),_=0;_<g.length;_++)this._images.push({byteWidth:c(g[_].width,y,p),height:g[_].height,lineIndex:0});else this._images.push({byteWidth:c(h,y,p),height:u,lineIndex:0});p===8?this._xComparison=y:p===16?this._xComparison=y*2:this._xComparison=1};d.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},d.prototype._unFilterType1=function(m,f,h){for(var u=this._xComparison,v=u-1,y=0;y<h;y++){var p=m[1+y],g=y>v?f[y-u]:0;f[y]=p+g}},d.prototype._unFilterType2=function(m,f,h){for(var u=this._lastLine,v=0;v<h;v++){var y=m[1+v],p=u?u[v]:0;f[v]=y+p}},d.prototype._unFilterType3=function(m,f,h){for(var u=this._xComparison,v=u-1,y=this._lastLine,p=0;p<h;p++){var g=m[1+p],_=y?y[p]:0,x=p>v?f[p-u]:0,b=Math.floor((x+_)/2);f[p]=g+b}},d.prototype._unFilterType4=function(m,f,h){for(var u=this._xComparison,v=u-1,y=this._lastLine,p=0;p<h;p++){var g=m[1+p],_=y?y[p]:0,x=p>v?f[p-u]:0,b=p>v&&y?y[p-u]:0,M=l(x,_,b);f[p]=g+M}},d.prototype._reverseFilterLine=function(m){var f=m[0],h,u=this._images[this._imageIndex],v=u.byteWidth;if(f===0)h=m.slice(1,v+1);else switch(h=new o(v),f){case 1:this._unFilterType1(m,h,v);break;case 2:this._unFilterType2(m,h,v);break;case 3:this._unFilterType3(m,h,v);break;case 4:this._unFilterType4(m,h,v);break;default:throw new Error("Unrecognised filter type - "+f)}this.write(h),u.lineIndex++,u.lineIndex>=u.height?(this._lastLine=null,this._imageIndex++,u=this._images[this._imageIndex]):this._lastLine=h,u?this.read(u.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,r("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(r,i,a){(function(o){"use strict";function s(d,m,f,h,u){for(var v=0,y=0;y<h;y++)for(var p=0;p<f;p++){var g=u[d[v]];if(!g)throw new Error("index "+d[v]+" not in palette");for(var _=0;_<4;_++)m[v+_]=g[_];v+=4}}function l(d,m,f,h,u){for(var v=0,y=0;y<h;y++)for(var p=0;p<f;p++){var g=!1;if(u.length===1?u[0]===d[v]&&(g=!0):u[0]===d[v]&&u[1]===d[v+1]&&u[2]===d[v+2]&&(g=!0),g)for(var _=0;_<4;_++)m[v+_]=0;v+=4}}function c(d,m,f,h,u){for(var v=255,y=Math.pow(2,u)-1,p=0,g=0;g<h;g++)for(var _=0;_<f;_++){for(var x=0;x<4;x++)m[p+x]=Math.floor(d[p+x]*v/y+.5);p+=4}}i.exports=function(d,m){var f=m.depth,h=m.width,u=m.height,v=m.colorType,y=m.transColor,p=m.palette,g=d;return v===3?s(d,g,h,u,p):(y&&l(d,g,h,u,y),f!==8&&(f===16&&(g=new o(h*u*4)),c(d,g,h,u,f))),g}}).call(this,r("buffer").Buffer)},{buffer:48}],120:[function(r,i,a){"use strict";var o=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];a.getImagePasses=function(s,l){for(var c=[],d=s%8,m=l%8,f=(s-d)/8,h=(l-m)/8,u=0;u<o.length;u++){for(var v=o[u],y=f*v.x.length,p=h*v.y.length,g=0;g<v.x.length&&v.x[g]<d;g++)y++;for(g=0;g<v.y.length&&v.y[g]<m;g++)p++;y>0&&p>0&&c.push({width:y,height:p,index:u})}return c},a.getInterlaceIterator=function(s){return function(l,c,d){var m=l%o[d].x.length,f=(l-m)/o[d].x.length*8+o[d].x[m],h=c%o[d].y.length,u=(c-h)/o[d].y.length*8+o[d].y[h];return f*4+u*s*4}}},{}],121:[function(r,i,a){(function(o){"use strict";var s=r("util"),l=r("stream"),c=r("./constants"),d=r("./packer"),m=i.exports=function(f){l.call(this);var h=f||{};this._packer=new d(h),this._deflate=this._packer.createDeflate(),this.readable=!0};s.inherits(m,l),m.prototype.pack=function(f,h,u,v){this.emit("data",new o(c.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(h,u)),v&&this.emit("data",this._packer.packGAMA(v));var y=this._packer.filterData(f,h,u);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(p){this.emit("data",this._packer.packIDAT(p))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(y)}}).call(this,r("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(r,i,a){(function(o){"use strict";var s=!0,l=r("zlib");l.deflateSync||(s=!1);var c=r("./constants"),d=r("./packer");i.exports=function(m,f){if(!s)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var h=f||{},u=new d(h),v=[];v.push(new o(c.PNG_SIGNATURE)),v.push(u.packIHDR(m.width,m.height)),m.gamma&&v.push(u.packGAMA(m.gamma));var y=u.filterData(m.data,m.width,m.height),p=l.deflateSync(y,u.getDeflateOptions());if(y=null,!p||!p.length)throw new Error("bad png - invalid compressed data response");return v.push(u.packIDAT(p)),v.push(u.packIEND()),o.concat(v)}}).call(this,r("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(r,i,a){(function(o){"use strict";var s=r("./constants"),l=r("./crc"),c=r("./bitpacker"),d=r("./filter-pack"),m=r("zlib"),f=i.exports=function(h){if(this._options=h,h.deflateChunkSize=h.deflateChunkSize||32*1024,h.deflateLevel=h.deflateLevel!=null?h.deflateLevel:9,h.deflateStrategy=h.deflateStrategy!=null?h.deflateStrategy:3,h.inputHasAlpha=h.inputHasAlpha!=null?h.inputHasAlpha:!0,h.deflateFactory=h.deflateFactory||m.createDeflate,h.bitDepth=h.bitDepth||8,h.colorType=typeof h.colorType=="number"?h.colorType:s.COLORTYPE_COLOR_ALPHA,h.inputColorType=typeof h.inputColorType=="number"?h.inputColorType:s.COLORTYPE_COLOR_ALPHA,[s.COLORTYPE_GRAYSCALE,s.COLORTYPE_COLOR,s.COLORTYPE_COLOR_ALPHA,s.COLORTYPE_ALPHA].indexOf(h.colorType)===-1)throw new Error("option color type:"+h.colorType+" is not supported at present");if([s.COLORTYPE_GRAYSCALE,s.COLORTYPE_COLOR,s.COLORTYPE_COLOR_ALPHA,s.COLORTYPE_ALPHA].indexOf(h.inputColorType)===-1)throw new Error("option input color type:"+h.inputColorType+" is not supported at present");if(h.bitDepth!==8&&h.bitDepth!==16)throw new Error("option bit depth:"+h.bitDepth+" is not supported at present")};f.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},f.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},f.prototype.filterData=function(h,u,v){var y=c(h,u,v,this._options),p=s.COLORTYPE_TO_BPP_MAP[this._options.colorType],g=d(y,u,v,this._options,p);return g},f.prototype._packChunk=function(h,u){var v=u?u.length:0,y=new o(v+12);return y.writeUInt32BE(v,0),y.writeUInt32BE(h,4),u&&u.copy(y,8),y.writeInt32BE(l.crc32(y.slice(4,y.length-4)),y.length-4),y},f.prototype.packGAMA=function(h){var u=new o(4);return u.writeUInt32BE(Math.floor(h*s.GAMMA_DIVISION),0),this._packChunk(s.TYPE_gAMA,u)},f.prototype.packIHDR=function(h,u){var v=new o(13);return v.writeUInt32BE(h,0),v.writeUInt32BE(u,4),v[8]=this._options.bitDepth,v[9]=this._options.colorType,v[10]=0,v[11]=0,v[12]=0,this._packChunk(s.TYPE_IHDR,v)},f.prototype.packIDAT=function(h){return this._packChunk(s.TYPE_IDAT,h)},f.prototype.packIEND=function(){return this._packChunk(s.TYPE_IEND,null)}}).call(this,r("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(r,i,a){"use strict";i.exports=function(s,l,c){var d=s+l-c,m=Math.abs(d-s),f=Math.abs(d-l),h=Math.abs(d-c);return m<=f&&m<=h?s:f<=h?l:c}},{}],125:[function(r,i,a){"use strict";var o=r("util"),s=r("zlib"),l=r("./chunkstream"),c=r("./filter-parse-async"),d=r("./parser"),m=r("./bitmapper"),f=r("./format-normaliser"),h=i.exports=function(u){l.call(this),this._parser=new d(u,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=u,this.writable=!0,this._parser.start()};o.inherits(h,l),h.prototype._handleError=function(u){this.emit("error",u),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},h.prototype._inflateData=function(u){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=s.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var v=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,y=v*this._bitmapInfo.height,p=Math.max(y,s.Z_MIN_CHUNK);this._inflate=s.createInflate({chunkSize:p});var g=y,_=this.emit.bind(this,"error");this._inflate.on("error",function(b){!g||_(b)}),this._filter.on("complete",this._complete.bind(this));var x=this._filter.write.bind(this._filter);this._inflate.on("data",function(b){!g||(b.length>g&&(b=b.slice(0,g)),g-=b.length,x(b))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(u)},h.prototype._handleMetaData=function(u){this.emit("metadata",u),this._bitmapInfo=Object.create(u),this._filter=new c(this._bitmapInfo)},h.prototype._handleTransColor=function(u){this._bitmapInfo.transColor=u},h.prototype._handlePalette=function(u){this._bitmapInfo.palette=u},h.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},h.prototype._complete=function(u){if(!this.errord){try{var v=m.dataToBitMap(u,this._bitmapInfo),y=f(v,this._bitmapInfo);v=null}catch(p){this._handleError(p);return}this.emit("parsed",y)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(r,i,a){(function(o){"use strict";var s=!0,l=r("zlib"),c=r("./sync-inflate");l.deflateSync||(s=!1);var d=r("./sync-reader"),m=r("./filter-parse-sync"),f=r("./parser"),h=r("./bitmapper"),u=r("./format-normaliser");i.exports=function(v,y){if(!s)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var p;function g(J){p=J}var _;function x(J){_=J}function b(J){_.transColor=J}function M(J){_.palette=J}var E;function C(J){E=J}var R=[];function I(J){R.push(J)}var O=new d(v),k=new f(y,{read:O.read.bind(O),error:g,metadata:x,gamma:C,palette:M,transColor:b,inflateData:I});if(k.start(),O.process(),p)throw p;var G=o.concat(R);R.length=0;var N;if(_.interlace)N=l.inflateSync(G);else{var Z=(_.width*_.bpp*_.depth+7>>3)+1,H=Z*_.height;N=c(G,{chunkSize:H,maxLength:H})}if(G=null,!N||!N.length)throw new Error("bad png - invalid inflate data response");var j=m.process(N,_);G=null;var z=h.dataToBitMap(j,_);j=null;var V=u(z,_);return _.data=V,_.gamma=E||0,_}}).call(this,r("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(r,i,a){(function(o){"use strict";var s=r("./constants"),l=r("./crc"),c=i.exports=function(d,m){this._options=d,d.checkCRC=d.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[s.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[s.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[s.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[s.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[s.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[s.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=m.read,this.error=m.error,this.metadata=m.metadata,this.gamma=m.gamma,this.transColor=m.transColor,this.palette=m.palette,this.parsed=m.parsed,this.inflateData=m.inflateData,this.finished=m.finished};c.prototype.start=function(){this.read(s.PNG_SIGNATURE.length,this._parseSignature.bind(this))},c.prototype._parseSignature=function(d){for(var m=s.PNG_SIGNATURE,f=0;f<m.length;f++)if(d[f]!==m[f]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},c.prototype._parseChunkBegin=function(d){for(var m=d.readUInt32BE(0),f=d.readUInt32BE(4),h="",u=4;u<8;u++)h+=String.fromCharCode(d[u]);var v=Boolean(d[4]&32);if(!this._hasIHDR&&f!==s.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new l,this._crc.write(new o(h)),this._chunks[f])return this._chunks[f](m);if(!v){this.error(new Error("Unsupported critical chunk type "+h));return}this.read(m+4,this._skipChunk.bind(this))},c.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},c.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},c.prototype._parseChunkEnd=function(d){var m=d.readInt32BE(0),f=this._crc.crc32();if(this._options.checkCRC&&f!==m){this.error(new Error("Crc error - "+m+" - "+f));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},c.prototype._handleIHDR=function(d){this.read(d,this._parseIHDR.bind(this))},c.prototype._parseIHDR=function(d){this._crc.write(d);var m=d.readUInt32BE(0),f=d.readUInt32BE(4),h=d[8],u=d[9],v=d[10],y=d[11],p=d[12];if(h!==8&&h!==4&&h!==2&&h!==1&&h!==16){this.error(new Error("Unsupported bit depth "+h));return}if(!(u in s.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(v!==0){this.error(new Error("Unsupported compression method"));return}if(y!==0){this.error(new Error("Unsupported filter method"));return}if(p!==0&&p!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=u;var g=s.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:m,height:f,depth:h,interlace:Boolean(p),palette:Boolean(u&s.COLORTYPE_PALETTE),color:Boolean(u&s.COLORTYPE_COLOR),alpha:Boolean(u&s.COLORTYPE_ALPHA),bpp:g,colorType:u}),this._handleChunkEnd()},c.prototype._handlePLTE=function(d){this.read(d,this._parsePLTE.bind(this))},c.prototype._parsePLTE=function(d){this._crc.write(d);for(var m=Math.floor(d.length/3),f=0;f<m;f++)this._palette.push([d[f*3],d[f*3+1],d[f*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},c.prototype._handleTRNS=function(d){this.read(d,this._parseTRNS.bind(this))},c.prototype._parseTRNS=function(d){if(this._crc.write(d),this._colorType===s.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(d.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var m=0;m<d.length;m++)this._palette[m][3]=d[m];this.palette(this._palette)}this._colorType===s.COLORTYPE_GRAYSCALE&&this.transColor([d.readUInt16BE(0)]),this._colorType===s.COLORTYPE_COLOR&&this.transColor([d.readUInt16BE(0),d.readUInt16BE(2),d.readUInt16BE(4)]),this._handleChunkEnd()},c.prototype._handleGAMA=function(d){this.read(d,this._parseGAMA.bind(this))},c.prototype._parseGAMA=function(d){this._crc.write(d),this.gamma(d.readUInt32BE(0)/s.GAMMA_DIVISION),this._handleChunkEnd()},c.prototype._handleIDAT=function(d){this.read(-d,this._parseIDAT.bind(this,d))},c.prototype._parseIDAT=function(d,m){if(this._crc.write(m),this._colorType===s.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(m);var f=d-m.length;f>0?this._handleIDAT(f):this._handleChunkEnd()},c.prototype._handleIEND=function(d){this.read(d,this._parseIEND.bind(this))},c.prototype._parseIEND=function(d){this._crc.write(d),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,r("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(r,i,a){"use strict";var o=r("./parser-sync"),s=r("./packer-sync");a.read=function(l,c){return o(l,c||{})},a.write=function(l,c){return s(l,c)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(r,i,a){(function(o,s){"use strict";var l=r("util"),c=r("stream"),d=r("./parser-async"),m=r("./packer-async"),f=r("./png-sync"),h=a.PNG=function(u){c.call(this),u=u||{},this.width=u.width|0,this.height=u.height|0,this.data=this.width>0&&this.height>0?new s(4*this.width*this.height):null,u.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new d(u),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(v){this.data=v,this.emit("parsed",v)}.bind(this)),this._packer=new m(u),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};l.inherits(h,c),h.sync=f,h.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(o.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},h.prototype.parse=function(u,v){if(v){var y,p;y=function(g){this.removeListener("error",p),this.data=g,v(null,this)}.bind(this),p=function(g){this.removeListener("parsed",y),v(g,null)}.bind(this),this.once("parsed",y),this.once("error",p)}return this.end(u),this},h.prototype.write=function(u){return this._parser.write(u),!0},h.prototype.end=function(u){this._parser.end(u)},h.prototype._metadata=function(u){this.width=u.width,this.height=u.height,this.emit("metadata",u)},h.prototype._gamma=function(u){this.gamma=u},h.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},h.bitblt=function(u,v,y,p,g,_,x,b){if(y|=0,p|=0,g|=0,_|=0,x|=0,b|=0,y>u.width||p>u.height||y+g>u.width||p+_>u.height)throw new Error("bitblt reading outside image");if(x>v.width||b>v.height||x+g>v.width||b+_>v.height)throw new Error("bitblt writing outside image");for(var M=0;M<_;M++)u.data.copy(v.data,(b+M)*v.width+x<<2,(p+M)*u.width+y<<2,(p+M)*u.width+y+g<<2)},h.prototype.bitblt=function(u,v,y,p,g,_,x){return h.bitblt(this,u,v,y,p,g,_,x),this},h.adjustGamma=function(u){if(u.gamma){for(var v=0;v<u.height;v++)for(var y=0;y<u.width;y++)for(var p=u.width*v+y<<2,g=0;g<3;g++){var _=u.data[p+g]/255;_=Math.pow(_,1/2.2/u.gamma),u.data[p+g]=Math.round(_*255)}u.gamma=0}},h.prototype.adjustGamma=function(){h.adjustGamma(this)}}).call(this,r("_process"),r("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(r,i,a){(function(o,s){"use strict";var l=r("assert").ok,c=r("zlib"),d=r("util"),m=r("buffer").kMaxLength;function f(p){if(!(this instanceof f))return new f(p);p&&p.chunkSize<c.Z_MIN_CHUNK&&(p.chunkSize=c.Z_MIN_CHUNK),c.Inflate.call(this,p),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,p&&p.maxLength!=null&&(this._maxLength=p.maxLength)}function h(p){return new f(p)}function u(p,g){g&&o.nextTick(g),!!p._handle&&(p._handle.close(),p._handle=null)}f.prototype._processChunk=function(p,g,_){if(typeof _=="function")return c.Inflate._processChunk.call(this,p,g,_);var x=this,b=p&&p.length,M=this._chunkSize-this._offset,E=this._maxLength,C=0,R=[],I=0,O;this.on("error",function(Z){O=Z});function k(Z,H){if(!x._hadError){var j=M-H;if(l(j>=0,"have should not go down"),j>0){var z=x._buffer.slice(x._offset,x._offset+j);if(x._offset+=j,z.length>E&&(z=z.slice(0,E)),R.push(z),I+=z.length,E-=z.length,E===0)return!1}return(H===0||x._offset>=x._chunkSize)&&(M=x._chunkSize,x._offset=0,x._buffer=s.allocUnsafe(x._chunkSize)),H===0?(C+=b-Z,b=Z,!0):!1}}l(this._handle,"zlib binding closed");do{var G=this._handle.writeSync(g,p,C,b,this._buffer,this._offset,M);G=G||this._writeState}while(!this._hadError&&k(G[0],G[1]));if(this._hadError)throw O;if(I>=m)throw u(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+m.toString(16)+" bytes");var N=s.concat(R,I);return u(this),N},d.inherits(f,c.Inflate);function v(p,g){if(typeof g=="string"&&(g=s.from(g)),!(g instanceof s))throw new TypeError("Not a string or buffer");var _=p._finishFlushFlag;return _==null&&(_=c.Z_FINISH),p._processChunk(g,_)}function y(p,g){return v(new f(g),p)}i.exports=a=y,a.Inflate=f,a.createInflate=h,a.inflateSync=y}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(r,i,a){"use strict";var o=i.exports=function(s){this._buffer=s,this._reads=[]};o.prototype.read=function(s,l){this._reads.push({length:Math.abs(s),allowLess:s<0,func:l})},o.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var s=this._reads[0];if(this._buffer.length&&(this._buffer.length>=s.length||s.allowLess)){this._reads.shift();var l=this._buffer;this._buffer=l.slice(s.length),s.func.call(this,l.slice(0,s.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(r,i,a){(function(o){"use strict";typeof o=="undefined"||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?i.exports={nextTick:s}:i.exports=o;function s(l,c,d,m){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var f=arguments.length,h,u;switch(f){case 0:case 1:return o.nextTick(l);case 2:return o.nextTick(function(){l.call(null,c)});case 3:return o.nextTick(function(){l.call(null,c,d)});case 4:return o.nextTick(function(){l.call(null,c,d,m)});default:for(h=new Array(f-1),u=0;u<h.length;)h[u++]=arguments[u];return o.nextTick(function(){l.apply(null,h)})}}}).call(this,r("_process"))},{_process:133}],133:[function(r,i,a){var o=i.exports={},s,l;function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=c}catch{s=c}try{typeof clearTimeout=="function"?l=clearTimeout:l=d}catch{l=d}})();function m(b){if(s===setTimeout)return setTimeout(b,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}function f(b){if(l===clearTimeout)return clearTimeout(b);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(b);try{return l(b)}catch{try{return l.call(null,b)}catch{return l.call(this,b)}}}var h=[],u=!1,v,y=-1;function p(){!u||!v||(u=!1,v.length?h=v.concat(h):y=-1,h.length&&g())}function g(){if(!u){var b=m(p);u=!0;for(var M=h.length;M;){for(v=h,h=[];++y<M;)v&&v[y].run();y=-1,M=h.length}v=null,u=!1,f(b)}}o.nextTick=function(b){var M=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)M[E-1]=arguments[E];h.push(new _(b,M)),h.length===1&&!u&&m(g)};function _(b,M){this.fun=b,this.array=M}_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function x(){}o.on=x,o.addListener=x,o.once=x,o.off=x,o.removeListener=x,o.removeAllListeners=x,o.emit=x,o.prependListener=x,o.prependOnceListener=x,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],134:[function(r,i,a){(function(o){(function(s){var l=typeof a=="object"&&a&&!a.nodeType&&a,c=typeof i=="object"&&i&&!i.nodeType&&i,d=typeof o=="object"&&o;(d.global===d||d.window===d||d.self===d)&&(s=d);var m,f=2147483647,h=36,u=1,v=26,y=38,p=700,g=72,_=128,x="-",b=/^xn--/,M=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=h-u,I=Math.floor,O=String.fromCharCode,k;function G(ae){throw new RangeError(C[ae])}function N(ae,se){for(var fe=ae.length,he=[];fe--;)he[fe]=se(ae[fe]);return he}function Z(ae,se){var fe=ae.split("@"),he="";fe.length>1&&(he=fe[0]+"@",ae=fe[1]),ae=ae.replace(E,".");var we=ae.split("."),xe=N(we,se).join(".");return he+xe}function H(ae){for(var se=[],fe=0,he=ae.length,we,xe;fe<he;)we=ae.charCodeAt(fe++),we>=55296&&we<=56319&&fe<he?(xe=ae.charCodeAt(fe++),(xe&64512)==56320?se.push(((we&1023)<<10)+(xe&1023)+65536):(se.push(we),fe--)):se.push(we);return se}function j(ae){return N(ae,function(se){var fe="";return se>65535&&(se-=65536,fe+=O(se>>>10&1023|55296),se=56320|se&1023),fe+=O(se),fe}).join("")}function z(ae){return ae-48<10?ae-22:ae-65<26?ae-65:ae-97<26?ae-97:h}function V(ae,se){return ae+22+75*(ae<26)-((se!=0)<<5)}function J(ae,se,fe){var he=0;for(ae=fe?I(ae/p):ae>>1,ae+=I(ae/se);ae>R*v>>1;he+=h)ae=I(ae/R);return I(he+(R+1)*ae/(ae+y))}function ne(ae){var se=[],fe=ae.length,he,we=0,xe=_,Ie=g,ge,Oe,me,pe,re,ie,Y,ee,W;for(ge=ae.lastIndexOf(x),ge<0&&(ge=0),Oe=0;Oe<ge;++Oe)ae.charCodeAt(Oe)>=128&&G("not-basic"),se.push(ae.charCodeAt(Oe));for(me=ge>0?ge+1:0;me<fe;){for(pe=we,re=1,ie=h;me>=fe&&G("invalid-input"),Y=z(ae.charCodeAt(me++)),(Y>=h||Y>I((f-we)/re))&&G("overflow"),we+=Y*re,ee=ie<=Ie?u:ie>=Ie+v?v:ie-Ie,!(Y<ee);ie+=h)W=h-ee,re>I(f/W)&&G("overflow"),re*=W;he=se.length+1,Ie=J(we-pe,he,pe==0),I(we/he)>f-xe&&G("overflow"),xe+=I(we/he),we%=he,se.splice(we++,0,xe)}return j(se)}function le(ae){var se,fe,he,we,xe,Ie,ge,Oe,me,pe,re,ie=[],Y,ee,W,P;for(ae=H(ae),Y=ae.length,se=_,fe=0,xe=g,Ie=0;Ie<Y;++Ie)re=ae[Ie],re<128&&ie.push(O(re));for(he=we=ie.length,we&&ie.push(x);he<Y;){for(ge=f,Ie=0;Ie<Y;++Ie)re=ae[Ie],re>=se&&re<ge&&(ge=re);for(ee=he+1,ge-se>I((f-fe)/ee)&&G("overflow"),fe+=(ge-se)*ee,se=ge,Ie=0;Ie<Y;++Ie)if(re=ae[Ie],re<se&&++fe>f&&G("overflow"),re==se){for(Oe=fe,me=h;pe=me<=xe?u:me>=xe+v?v:me-xe,!(Oe<pe);me+=h)P=Oe-pe,W=h-pe,ie.push(O(V(pe+P%W,0))),Oe=I(P/W);ie.push(O(V(Oe,0))),xe=J(fe,ee,he==we),fe=0,++he}++fe,++se}return ie.join("")}function ue(ae){return Z(ae,function(se){return b.test(se)?ne(se.slice(4).toLowerCase()):se})}function K(ae){return Z(ae,function(se){return M.test(se)?"xn--"+le(se):se})}if(m={version:"1.4.1",ucs2:{decode:H,encode:j},decode:ne,encode:le,toASCII:K,toUnicode:ue},typeof n=="function"&&typeof n.amd=="object"&&n.amd)n("punycode",function(){return m});else if(l&&c)if(i.exports==l)c.exports=m;else for(k in m)m.hasOwnProperty(k)&&(l[k]=m[k]);else s.punycode=m})(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{}],135:[function(r,i,a){"use strict";function o(l,c){return Object.prototype.hasOwnProperty.call(l,c)}i.exports=function(l,c,d,m){c=c||"&",d=d||"=";var f={};if(typeof l!="string"||l.length===0)return f;var h=/\+/g;l=l.split(c);var u=1e3;m&&typeof m.maxKeys=="number"&&(u=m.maxKeys);var v=l.length;u>0&&v>u&&(v=u);for(var y=0;y<v;++y){var p=l[y].replace(h,"%20"),g=p.indexOf(d),_,x,b,M;g>=0?(_=p.substr(0,g),x=p.substr(g+1)):(_=p,x=""),b=decodeURIComponent(_),M=decodeURIComponent(x),o(f,b)?s(f[b])?f[b].push(M):f[b]=[f[b],M]:f[b]=M}return f};var s=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},{}],136:[function(r,i,a){"use strict";var o=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};i.exports=function(d,m,f,h){return m=m||"&",f=f||"=",d===null&&(d=void 0),typeof d=="object"?l(c(d),function(u){var v=encodeURIComponent(o(u))+f;return s(d[u])?l(d[u],function(y){return v+encodeURIComponent(o(y))}).join(m):v+encodeURIComponent(o(d[u]))}).join(m):h?encodeURIComponent(o(h))+f+encodeURIComponent(o(d)):""};var s=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function l(d,m){if(d.map)return d.map(m);for(var f=[],h=0;h<d.length;h++)f.push(m(d[h],h));return f}var c=Object.keys||function(d){var m=[];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&m.push(f);return m}},{}],137:[function(r,i,a){"use strict";a.decode=a.parse=r("./decode"),a.encode=a.stringify=r("./encode")},{"./decode":135,"./encode":136}],138:[function(r,i,a){i.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(r,i,a){"use strict";var o=r("process-nextick-args"),s=Object.keys||function(p){var g=[];for(var _ in p)g.push(_);return g};i.exports=u;var l=r("core-util-is");l.inherits=r("inherits");var c=r("./_stream_readable"),d=r("./_stream_writable");l.inherits(u,c);for(var m=s(d.prototype),f=0;f<m.length;f++){var h=m[f];u.prototype[h]||(u.prototype[h]=d.prototype[h])}function u(p){if(!(this instanceof u))return new u(p);c.call(this,p),d.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(){this.allowHalfOpen||this._writableState.ended||o.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),u.prototype._destroy=function(p,g){this.push(null),this.end(),o.nextTick(g,p)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(r,i,a){"use strict";i.exports=l;var o=r("./_stream_transform"),s=r("core-util-is");s.inherits=r("inherits"),s.inherits(l,o);function l(c){if(!(this instanceof l))return new l(c);o.call(this,c)}l.prototype._transform=function(c,d,m){m(null,c)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(r,i,a){(function(o,s){"use strict";var l=r("process-nextick-args");i.exports=O;var c=r("isarray"),d;O.ReadableState=I;var m=r("events").EventEmitter,f=function(re,ie){return re.listeners(ie).length},h=r("./internal/streams/stream"),u=r("safe-buffer").Buffer,v=s.Uint8Array||function(){};function y(re){return u.from(re)}function p(re){return u.isBuffer(re)||re instanceof v}var g=r("core-util-is");g.inherits=r("inherits");var _=r("util"),x=void 0;_&&_.debuglog?x=_.debuglog("stream"):x=function(){};var b=r("./internal/streams/BufferList"),M=r("./internal/streams/destroy"),E;g.inherits(O,h);var C=["error","close","destroy","pause","resume"];function R(re,ie,Y){if(typeof re.prependListener=="function")return re.prependListener(ie,Y);!re._events||!re._events[ie]?re.on(ie,Y):c(re._events[ie])?re._events[ie].unshift(Y):re._events[ie]=[Y,re._events[ie]]}function I(re,ie){d=d||r("./_stream_duplex"),re=re||{};var Y=ie instanceof d;this.objectMode=!!re.objectMode,Y&&(this.objectMode=this.objectMode||!!re.readableObjectMode);var ee=re.highWaterMark,W=re.readableHighWaterMark,P=this.objectMode?16:16*1024;ee||ee===0?this.highWaterMark=ee:Y&&(W||W===0)?this.highWaterMark=W:this.highWaterMark=P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(E||(E=r("string_decoder/").StringDecoder),this.decoder=new E(re.encoding),this.encoding=re.encoding)}function O(re){if(d=d||r("./_stream_duplex"),!(this instanceof O))return new O(re);this._readableState=new I(re,this),this.readable=!0,re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy)),h.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){!this._readableState||(this._readableState.destroyed=re)}}),O.prototype.destroy=M.destroy,O.prototype._undestroy=M.undestroy,O.prototype._destroy=function(re,ie){this.push(null),ie(re)},O.prototype.push=function(re,ie){var Y=this._readableState,ee;return Y.objectMode?ee=!0:typeof re=="string"&&(ie=ie||Y.defaultEncoding,ie!==Y.encoding&&(re=u.from(re,ie),ie=""),ee=!0),k(this,re,ie,!1,ee)},O.prototype.unshift=function(re){return k(this,re,null,!0,!1)};function k(re,ie,Y,ee,W){var P=re._readableState;if(ie===null)P.reading=!1,V(re,P);else{var D;W||(D=N(P,ie)),D?re.emit("error",D):P.objectMode||ie&&ie.length>0?(typeof ie!="string"&&!P.objectMode&&Object.getPrototypeOf(ie)!==u.prototype&&(ie=y(ie)),ee?P.endEmitted?re.emit("error",new Error("stream.unshift() after end event")):G(re,P,ie,!0):P.ended?re.emit("error",new Error("stream.push() after EOF")):(P.reading=!1,P.decoder&&!Y?(ie=P.decoder.write(ie),P.objectMode||ie.length!==0?G(re,P,ie,!1):le(re,P)):G(re,P,ie,!1))):ee||(P.reading=!1)}return Z(P)}function G(re,ie,Y,ee){ie.flowing&&ie.length===0&&!ie.sync?(re.emit("data",Y),re.read(0)):(ie.length+=ie.objectMode?1:Y.length,ee?ie.buffer.unshift(Y):ie.buffer.push(Y),ie.needReadable&&J(re)),le(re,ie)}function N(re,ie){var Y;return!p(ie)&&typeof ie!="string"&&ie!==void 0&&!re.objectMode&&(Y=new TypeError("Invalid non-string/buffer chunk")),Y}function Z(re){return!re.ended&&(re.needReadable||re.length<re.highWaterMark||re.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(re){return E||(E=r("string_decoder/").StringDecoder),this._readableState.decoder=new E(re),this._readableState.encoding=re,this};var H=8388608;function j(re){return re>=H?re=H:(re--,re|=re>>>1,re|=re>>>2,re|=re>>>4,re|=re>>>8,re|=re>>>16,re++),re}function z(re,ie){return re<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:re!==re?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(re>ie.highWaterMark&&(ie.highWaterMark=j(re)),re<=ie.length?re:ie.ended?ie.length:(ie.needReadable=!0,0))}O.prototype.read=function(re){x("read",re),re=parseInt(re,10);var ie=this._readableState,Y=re;if(re!==0&&(ie.emittedReadable=!1),re===0&&ie.needReadable&&(ie.length>=ie.highWaterMark||ie.ended))return x("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?Oe(this):J(this),null;if(re=z(re,ie),re===0&&ie.ended)return ie.length===0&&Oe(this),null;var ee=ie.needReadable;x("need readable",ee),(ie.length===0||ie.length-re<ie.highWaterMark)&&(ee=!0,x("length less than watermark",ee)),ie.ended||ie.reading?(ee=!1,x("reading or ended",ee)):ee&&(x("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(re=z(Y,ie)));var W;return re>0?W=we(re,ie):W=null,W===null?(ie.needReadable=!0,re=0):ie.length-=re,ie.length===0&&(ie.ended||(ie.needReadable=!0),Y!==re&&ie.ended&&Oe(this)),W!==null&&this.emit("data",W),W};function V(re,ie){if(!ie.ended){if(ie.decoder){var Y=ie.decoder.end();Y&&Y.length&&(ie.buffer.push(Y),ie.length+=ie.objectMode?1:Y.length)}ie.ended=!0,J(re)}}function J(re){var ie=re._readableState;ie.needReadable=!1,ie.emittedReadable||(x("emitReadable",ie.flowing),ie.emittedReadable=!0,ie.sync?l.nextTick(ne,re):ne(re))}function ne(re){x("emit readable"),re.emit("readable"),he(re)}function le(re,ie){ie.readingMore||(ie.readingMore=!0,l.nextTick(ue,re,ie))}function ue(re,ie){for(var Y=ie.length;!ie.reading&&!ie.flowing&&!ie.ended&&ie.length<ie.highWaterMark&&(x("maybeReadMore read 0"),re.read(0),Y!==ie.length);)Y=ie.length;ie.readingMore=!1}O.prototype._read=function(re){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(re,ie){var Y=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=re;break;case 1:ee.pipes=[ee.pipes,re];break;default:ee.pipes.push(re);break}ee.pipesCount+=1,x("pipe count=%d opts=%j",ee.pipesCount,ie);var W=(!ie||ie.end!==!1)&&re!==o.stdout&&re!==o.stderr,P=W?B:Me;ee.endEmitted?l.nextTick(P):Y.once("end",P),re.on("unpipe",D);function D(Ge,We){x("onunpipe"),Ge===Y&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,Ce())}function B(){x("onend"),re.end()}var Q=K(Y);re.on("drain",Q);var de=!1;function Ce(){x("cleanup"),re.removeListener("close",Ye),re.removeListener("finish",Ve),re.removeListener("drain",Q),re.removeListener("error",ke),re.removeListener("unpipe",D),Y.removeListener("end",B),Y.removeListener("end",Me),Y.removeListener("data",Se),de=!0,ee.awaitDrain&&(!re._writableState||re._writableState.needDrain)&&Q()}var be=!1;Y.on("data",Se);function Se(Ge){x("ondata"),be=!1;var We=re.write(Ge);We===!1&&!be&&((ee.pipesCount===1&&ee.pipes===re||ee.pipesCount>1&&pe(ee.pipes,re)!==-1)&&!de&&(x("false write response, pause",Y._readableState.awaitDrain),Y._readableState.awaitDrain++,be=!0),Y.pause())}function ke(Ge){x("onerror",Ge),Me(),re.removeListener("error",ke),f(re,"error")===0&&re.emit("error",Ge)}R(re,"error",ke);function Ye(){re.removeListener("finish",Ve),Me()}re.once("close",Ye);function Ve(){x("onfinish"),re.removeListener("close",Ye),Me()}re.once("finish",Ve);function Me(){x("unpipe"),Y.unpipe(re)}return re.emit("pipe",Y),ee.flowing||(x("pipe resume"),Y.resume()),re};function K(re){return function(){var ie=re._readableState;x("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&f(re,"data")&&(ie.flowing=!0,he(re))}}O.prototype.unpipe=function(re){var ie=this._readableState,Y={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return re&&re!==ie.pipes?this:(re||(re=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,re&&re.emit("unpipe",this,Y),this);if(!re){var ee=ie.pipes,W=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var P=0;P<W;P++)ee[P].emit("unpipe",this,Y);return this}var D=pe(ie.pipes,re);return D===-1?this:(ie.pipes.splice(D,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),re.emit("unpipe",this,Y),this)},O.prototype.on=function(re,ie){var Y=h.prototype.on.call(this,re,ie);if(re==="data")this._readableState.flowing!==!1&&this.resume();else if(re==="readable"){var ee=this._readableState;!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.emittedReadable=!1,ee.reading?ee.length&&J(this):l.nextTick(ae,this))}return Y},O.prototype.addListener=O.prototype.on;function ae(re){x("readable nexttick read 0"),re.read(0)}O.prototype.resume=function(){var re=this._readableState;return re.flowing||(x("resume"),re.flowing=!0,se(this,re)),this};function se(re,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,l.nextTick(fe,re,ie))}function fe(re,ie){ie.reading||(x("resume read 0"),re.read(0)),ie.resumeScheduled=!1,ie.awaitDrain=0,re.emit("resume"),he(re),ie.flowing&&!ie.reading&&re.read(0)}O.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function he(re){var ie=re._readableState;for(x("flow",ie.flowing);ie.flowing&&re.read()!==null;);}O.prototype.wrap=function(re){var ie=this,Y=this._readableState,ee=!1;re.on("end",function(){if(x("wrapped end"),Y.decoder&&!Y.ended){var D=Y.decoder.end();D&&D.length&&ie.push(D)}ie.push(null)}),re.on("data",function(D){if(x("wrapped data"),Y.decoder&&(D=Y.decoder.write(D)),!(Y.objectMode&&D==null)&&!(!Y.objectMode&&(!D||!D.length))){var B=ie.push(D);B||(ee=!0,re.pause())}});for(var W in re)this[W]===void 0&&typeof re[W]=="function"&&(this[W]=function(D){return function(){return re[D].apply(re,arguments)}}(W));for(var P=0;P<C.length;P++)re.on(C[P],this.emit.bind(this,C[P]));return this._read=function(D){x("wrapped _read",D),ee&&(ee=!1,re.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=we;function we(re,ie){if(ie.length===0)return null;var Y;return ie.objectMode?Y=ie.buffer.shift():!re||re>=ie.length?(ie.decoder?Y=ie.buffer.join(""):ie.buffer.length===1?Y=ie.buffer.head.data:Y=ie.buffer.concat(ie.length),ie.buffer.clear()):Y=xe(re,ie.buffer,ie.decoder),Y}function xe(re,ie,Y){var ee;return re<ie.head.data.length?(ee=ie.head.data.slice(0,re),ie.head.data=ie.head.data.slice(re)):re===ie.head.data.length?ee=ie.shift():ee=Y?Ie(re,ie):ge(re,ie),ee}function Ie(re,ie){var Y=ie.head,ee=1,W=Y.data;for(re-=W.length;Y=Y.next;){var P=Y.data,D=re>P.length?P.length:re;if(D===P.length?W+=P:W+=P.slice(0,re),re-=D,re===0){D===P.length?(++ee,Y.next?ie.head=Y.next:ie.head=ie.tail=null):(ie.head=Y,Y.data=P.slice(D));break}++ee}return ie.length-=ee,W}function ge(re,ie){var Y=u.allocUnsafe(re),ee=ie.head,W=1;for(ee.data.copy(Y),re-=ee.data.length;ee=ee.next;){var P=ee.data,D=re>P.length?P.length:re;if(P.copy(Y,Y.length-re,0,D),re-=D,re===0){D===P.length?(++W,ee.next?ie.head=ee.next:ie.head=ie.tail=null):(ie.head=ee,ee.data=P.slice(D));break}++W}return ie.length-=W,Y}function Oe(re){var ie=re._readableState;if(ie.length>0)throw new Error('"endReadable()" called on non-empty stream');ie.endEmitted||(ie.ended=!0,l.nextTick(me,ie,re))}function me(re,ie){!re.endEmitted&&re.length===0&&(re.endEmitted=!0,ie.readable=!1,ie.emit("end"))}function pe(re,ie){for(var Y=0,ee=re.length;Y<ee;Y++)if(re[Y]===ie)return Y;return-1}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(r,i,a){"use strict";i.exports=c;var o=r("./_stream_duplex"),s=r("core-util-is");s.inherits=r("inherits"),s.inherits(c,o);function l(f,h){var u=this._transformState;u.transforming=!1;var v=u.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,h!=null&&this.push(h),v(f);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);o.call(this,f),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush=="function"?this._flush(function(h,u){m(f,h,u)}):m(this,null,null)}c.prototype.push=function(f,h){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,h)},c.prototype._transform=function(f,h,u){throw new Error("_transform() is not implemented")},c.prototype._write=function(f,h,u){var v=this._transformState;if(v.writecb=u,v.writechunk=f,v.writeencoding=h,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},c.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(f,h){var u=this;o.prototype._destroy.call(this,f,function(v){h(v),u.emit("close")})};function m(f,h,u){if(h)return f.emit("error",h);if(u!=null&&f.push(u),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(r,i,a){(function(o,s,l){"use strict";var c=r("process-nextick-args");i.exports=R;function d(fe,he,we){this.chunk=fe,this.encoding=he,this.callback=we,this.next=null}function m(fe){var he=this;this.next=null,this.entry=null,this.finish=function(){se(he,fe)}}var f=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?l:c.nextTick,h;R.WritableState=E;var u=r("core-util-is");u.inherits=r("inherits");var v={deprecate:r("util-deprecate")},y=r("./internal/streams/stream"),p=r("safe-buffer").Buffer,g=s.Uint8Array||function(){};function _(fe){return p.from(fe)}function x(fe){return p.isBuffer(fe)||fe instanceof g}var b=r("./internal/streams/destroy");u.inherits(R,y);function M(){}function E(fe,he){h=h||r("./_stream_duplex"),fe=fe||{};var we=he instanceof h;this.objectMode=!!fe.objectMode,we&&(this.objectMode=this.objectMode||!!fe.writableObjectMode);var xe=fe.highWaterMark,Ie=fe.writableHighWaterMark,ge=this.objectMode?16:16*1024;xe||xe===0?this.highWaterMark=xe:we&&(Ie||Ie===0)?this.highWaterMark=Ie:this.highWaterMark=ge,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Oe=fe.decodeStrings===!1;this.decodeStrings=!Oe,this.defaultEncoding=fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){j(he,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new m(this)}E.prototype.getBuffer=function(){for(var he=this.bufferedRequest,we=[];he;)we.push(he),he=he.next;return we},function(){try{Object.defineProperty(E.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(fe){return C.call(this,fe)?!0:this!==R?!1:fe&&fe._writableState instanceof E}})):C=function(fe){return fe instanceof this};function R(fe){if(h=h||r("./_stream_duplex"),!C.call(R,this)&&!(this instanceof h))return new R(fe);this._writableState=new E(fe,this),this.writable=!0,fe&&(typeof fe.write=="function"&&(this._write=fe.write),typeof fe.writev=="function"&&(this._writev=fe.writev),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.final=="function"&&(this._final=fe.final)),y.call(this)}R.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(fe,he){var we=new Error("write after end");fe.emit("error",we),c.nextTick(he,we)}function O(fe,he,we,xe){var Ie=!0,ge=!1;return we===null?ge=new TypeError("May not write null values to stream"):typeof we!="string"&&we!==void 0&&!he.objectMode&&(ge=new TypeError("Invalid non-string/buffer chunk")),ge&&(fe.emit("error",ge),c.nextTick(xe,ge),Ie=!1),Ie}R.prototype.write=function(fe,he,we){var xe=this._writableState,Ie=!1,ge=!xe.objectMode&&x(fe);return ge&&!p.isBuffer(fe)&&(fe=_(fe)),typeof he=="function"&&(we=he,he=null),ge?he="buffer":he||(he=xe.defaultEncoding),typeof we!="function"&&(we=M),xe.ended?I(this,we):(ge||O(this,xe,fe,we))&&(xe.pendingcb++,Ie=G(this,xe,ge,fe,he,we)),Ie},R.prototype.cork=function(){var fe=this._writableState;fe.corked++},R.prototype.uncork=function(){var fe=this._writableState;fe.corked&&(fe.corked--,!fe.writing&&!fe.corked&&!fe.finished&&!fe.bufferProcessing&&fe.bufferedRequest&&J(this,fe))},R.prototype.setDefaultEncoding=function(he){if(typeof he=="string"&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+he);return this._writableState.defaultEncoding=he,this};function k(fe,he,we){return!fe.objectMode&&fe.decodeStrings!==!1&&typeof he=="string"&&(he=p.from(he,we)),he}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function G(fe,he,we,xe,Ie,ge){if(!we){var Oe=k(he,xe,Ie);xe!==Oe&&(we=!0,Ie="buffer",xe=Oe)}var me=he.objectMode?1:xe.length;he.length+=me;var pe=he.length<he.highWaterMark;if(pe||(he.needDrain=!0),he.writing||he.corked){var re=he.lastBufferedRequest;he.lastBufferedRequest={chunk:xe,encoding:Ie,isBuf:we,callback:ge,next:null},re?re.next=he.lastBufferedRequest:he.bufferedRequest=he.lastBufferedRequest,he.bufferedRequestCount+=1}else N(fe,he,!1,me,xe,Ie,ge);return pe}function N(fe,he,we,xe,Ie,ge,Oe){he.writelen=xe,he.writecb=Oe,he.writing=!0,he.sync=!0,we?fe._writev(Ie,he.onwrite):fe._write(Ie,ge,he.onwrite),he.sync=!1}function Z(fe,he,we,xe,Ie){--he.pendingcb,we?(c.nextTick(Ie,xe),c.nextTick(K,fe,he),fe._writableState.errorEmitted=!0,fe.emit("error",xe)):(Ie(xe),fe._writableState.errorEmitted=!0,fe.emit("error",xe),K(fe,he))}function H(fe){fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0}function j(fe,he){var we=fe._writableState,xe=we.sync,Ie=we.writecb;if(H(we),he)Z(fe,we,xe,he,Ie);else{var ge=ne(we);!ge&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&J(fe,we),xe?f(z,fe,we,ge,Ie):z(fe,we,ge,Ie)}}function z(fe,he,we,xe){we||V(fe,he),he.pendingcb--,xe(),K(fe,he)}function V(fe,he){he.length===0&&he.needDrain&&(he.needDrain=!1,fe.emit("drain"))}function J(fe,he){he.bufferProcessing=!0;var we=he.bufferedRequest;if(fe._writev&&we&&we.next){var xe=he.bufferedRequestCount,Ie=new Array(xe),ge=he.corkedRequestsFree;ge.entry=we;for(var Oe=0,me=!0;we;)Ie[Oe]=we,we.isBuf||(me=!1),we=we.next,Oe+=1;Ie.allBuffers=me,N(fe,he,!0,he.length,Ie,"",ge.finish),he.pendingcb++,he.lastBufferedRequest=null,ge.next?(he.corkedRequestsFree=ge.next,ge.next=null):he.corkedRequestsFree=new m(he),he.bufferedRequestCount=0}else{for(;we;){var pe=we.chunk,re=we.encoding,ie=we.callback,Y=he.objectMode?1:pe.length;if(N(fe,he,!1,Y,pe,re,ie),we=we.next,he.bufferedRequestCount--,he.writing)break}we===null&&(he.lastBufferedRequest=null)}he.bufferedRequest=we,he.bufferProcessing=!1}R.prototype._write=function(fe,he,we){we(new Error("_write() is not implemented"))},R.prototype._writev=null,R.prototype.end=function(fe,he,we){var xe=this._writableState;typeof fe=="function"?(we=fe,fe=null,he=null):typeof he=="function"&&(we=he,he=null),fe!=null&&this.write(fe,he),xe.corked&&(xe.corked=1,this.uncork()),!xe.ending&&!xe.finished&&ae(this,xe,we)};function ne(fe){return fe.ending&&fe.length===0&&fe.bufferedRequest===null&&!fe.finished&&!fe.writing}function le(fe,he){fe._final(function(we){he.pendingcb--,we&&fe.emit("error",we),he.prefinished=!0,fe.emit("prefinish"),K(fe,he)})}function ue(fe,he){!he.prefinished&&!he.finalCalled&&(typeof fe._final=="function"?(he.pendingcb++,he.finalCalled=!0,c.nextTick(le,fe,he)):(he.prefinished=!0,fe.emit("prefinish")))}function K(fe,he){var we=ne(he);return we&&(ue(fe,he),he.pendingcb===0&&(he.finished=!0,fe.emit("finish"))),we}function ae(fe,he,we){he.ending=!0,K(fe,he),we&&(he.finished?c.nextTick(we):fe.once("finish",we)),he.ended=!0,fe.writable=!1}function se(fe,he,we){var xe=fe.entry;for(fe.entry=null;xe;){var Ie=xe.callback;he.pendingcb--,Ie(we),xe=xe.next}he.corkedRequestsFree?he.corkedRequestsFree.next=fe:he.corkedRequestsFree=fe}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(fe){!this._writableState||(this._writableState.destroyed=fe)}}),R.prototype.destroy=b.destroy,R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(fe,he){this.end(),he(fe)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{},r("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(r,i,a){"use strict";function o(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}var s=r("safe-buffer").Buffer,l=r("util");function c(d,m,f){d.copy(m,f)}i.exports=function(){function d(){o(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(f){var h={data:f,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length},d.prototype.unshift=function(f){var h={data:f,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length},d.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(f){if(this.length===0)return"";for(var h=this.head,u=""+h.data;h=h.next;)u+=f+h.data;return u},d.prototype.concat=function(f){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var h=s.allocUnsafe(f>>>0),u=this.head,v=0;u;)c(u.data,h,v),v+=u.data.length,u=u.next;return h},d}(),l&&l.inspect&&l.inspect.custom&&(i.exports.prototype[l.inspect.custom]=function(){var d=l.inspect({length:this.length});return this.constructor.name+" "+d})},{"safe-buffer":147,util:33}],145:[function(r,i,a){"use strict";var o=r("process-nextick-args");function s(d,m){var f=this,h=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return h||u?(m?m(d):d&&(!this._writableState||!this._writableState.errorEmitted)&&o.nextTick(c,this,d),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(v){!m&&v?(o.nextTick(c,f,v),f._writableState&&(f._writableState.errorEmitted=!0)):m&&m(v)}),this)}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(d,m){d.emit("error",m)}i.exports={destroy:s,undestroy:l}},{"process-nextick-args":132}],146:[function(r,i,a){i.exports=r("events").EventEmitter},{events:52}],147:[function(r,i,a){var o=r("buffer"),s=o.Buffer;function l(d,m){for(var f in d)m[f]=d[f]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=o:(l(o,a),a.Buffer=c);function c(d,m,f){return s(d,m,f)}l(s,c),c.from=function(d,m,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return s(d,m,f)},c.alloc=function(d,m,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=s(d);return m!==void 0?typeof f=="string"?h.fill(m,f):h.fill(m):h.fill(0),h},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return s(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},{buffer:48}],148:[function(r,i,a){"use strict";var o=r("safe-buffer").Buffer,s=o.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(E){if(!E)return"utf8";for(var C;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(C)return;E=(""+E).toLowerCase(),C=!0}}function c(E){var C=l(E);if(typeof C!="string"&&(o.isEncoding===s||!s(E)))throw new Error("Unknown encoding: "+E);return C||E}a.StringDecoder=d;function d(E){this.encoding=c(E);var C;switch(this.encoding){case"utf16le":this.text=p,this.end=g,C=4;break;case"utf8":this.fillLast=u,C=4;break;case"base64":this.text=_,this.end=x,C=3;break;default:this.write=b,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(C)}d.prototype.write=function(E){if(E.length===0)return"";var C,R;if(this.lastNeed){if(C=this.fillLast(E),C===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<E.length?C?C+this.text(E,R):this.text(E,R):C||""},d.prototype.end=y,d.prototype.text=v,d.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function m(E){return E<=127?0:E>>5==6?2:E>>4==14?3:E>>3==30?4:E>>6==2?-1:-2}function f(E,C,R){var I=C.length-1;if(I<R)return 0;var O=m(C[I]);return O>=0?(O>0&&(E.lastNeed=O-1),O):--I<R||O===-2?0:(O=m(C[I]),O>=0?(O>0&&(E.lastNeed=O-2),O):--I<R||O===-2?0:(O=m(C[I]),O>=0?(O>0&&(O===2?O=0:E.lastNeed=O-3),O):0))}function h(E,C,R){if((C[0]&192)!=128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&C.length>1){if((C[1]&192)!=128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&C.length>2&&(C[2]&192)!=128)return E.lastNeed=2,"\uFFFD"}}function u(E){var C=this.lastTotal-this.lastNeed,R=h(this,E,C);if(R!==void 0)return R;if(this.lastNeed<=E.length)return E.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,C,0,E.length),this.lastNeed-=E.length}function v(E,C){var R=f(this,E,C);if(!this.lastNeed)return E.toString("utf8",C);this.lastTotal=R;var I=E.length-(R-this.lastNeed);return E.copy(this.lastChar,0,I),E.toString("utf8",C,I)}function y(E){var C=E&&E.length?this.write(E):"";return this.lastNeed?C+"\uFFFD":C}function p(E,C){if((E.length-C)%2==0){var R=E.toString("utf16le",C);if(R){var I=R.charCodeAt(R.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",C,E.length-1)}function g(E){var C=E&&E.length?this.write(E):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,R)}return C}function _(E,C){var R=(E.length-C)%3;return R===0?E.toString("base64",C):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",C,E.length-R))}function x(E){var C=E&&E.length?this.write(E):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function b(E){return E.toString(this.encoding)}function M(E){return E&&E.length?this.write(E):""}},{"safe-buffer":147}],149:[function(r,i,a){i.exports=r("./readable").PassThrough},{"./readable":150}],150:[function(r,i,a){a=i.exports=r("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=r("./lib/_stream_writable.js"),a.Duplex=r("./lib/_stream_duplex.js"),a.Transform=r("./lib/_stream_transform.js"),a.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(r,i,a){i.exports=r("./readable").Transform},{"./readable":150}],152:[function(r,i,a){i.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(r,i,a){var o=function(s){"use strict";var l=Object.prototype,c=l.hasOwnProperty,d,m=typeof Symbol=="function"?Symbol:{},f=m.iterator||"@@iterator",h=m.asyncIterator||"@@asyncIterator",u=m.toStringTag||"@@toStringTag";function v(le,ue,K,ae){var se=ue&&ue.prototype instanceof M?ue:M,fe=Object.create(se.prototype),he=new V(ae||[]);return fe._invoke=Z(le,K,he),fe}s.wrap=v;function y(le,ue,K){try{return{type:"normal",arg:le.call(ue,K)}}catch(ae){return{type:"throw",arg:ae}}}var p="suspendedStart",g="suspendedYield",_="executing",x="completed",b={};function M(){}function E(){}function C(){}var R={};R[f]=function(){return this};var I=Object.getPrototypeOf,O=I&&I(I(J([])));O&&O!==l&&c.call(O,f)&&(R=O);var k=C.prototype=M.prototype=Object.create(R);E.prototype=k.constructor=C,C.constructor=E,C[u]=E.displayName="GeneratorFunction";function G(le){["next","throw","return"].forEach(function(ue){le[ue]=function(K){return this._invoke(ue,K)}})}s.isGeneratorFunction=function(le){var ue=typeof le=="function"&&le.constructor;return ue?ue===E||(ue.displayName||ue.name)==="GeneratorFunction":!1},s.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,C):(le.__proto__=C,u in le||(le[u]="GeneratorFunction")),le.prototype=Object.create(k),le},s.awrap=function(le){return{__await:le}};function N(le){function ue(se,fe,he,we){var xe=y(le[se],le,fe);if(xe.type==="throw")we(xe.arg);else{var Ie=xe.arg,ge=Ie.value;return ge&&typeof ge=="object"&&c.call(ge,"__await")?Promise.resolve(ge.__await).then(function(Oe){ue("next",Oe,he,we)},function(Oe){ue("throw",Oe,he,we)}):Promise.resolve(ge).then(function(Oe){Ie.value=Oe,he(Ie)},function(Oe){return ue("throw",Oe,he,we)})}}var K;function ae(se,fe){function he(){return new Promise(function(we,xe){ue(se,fe,we,xe)})}return K=K?K.then(he,he):he()}this._invoke=ae}G(N.prototype),N.prototype[h]=function(){return this},s.AsyncIterator=N,s.async=function(le,ue,K,ae){var se=new N(v(le,ue,K,ae));return s.isGeneratorFunction(ue)?se:se.next().then(function(fe){return fe.done?fe.value:se.next()})};function Z(le,ue,K){var ae=p;return function(fe,he){if(ae===_)throw new Error("Generator is already running");if(ae===x){if(fe==="throw")throw he;return ne()}for(K.method=fe,K.arg=he;;){var we=K.delegate;if(we){var xe=H(we,K);if(xe){if(xe===b)continue;return xe}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(ae===p)throw ae=x,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);ae=_;var Ie=y(le,ue,K);if(Ie.type==="normal"){if(ae=K.done?x:g,Ie.arg===b)continue;return{value:Ie.arg,done:K.done}}else Ie.type==="throw"&&(ae=x,K.method="throw",K.arg=Ie.arg)}}}function H(le,ue){var K=le.iterator[ue.method];if(K===d){if(ue.delegate=null,ue.method==="throw"){if(le.iterator.return&&(ue.method="return",ue.arg=d,H(le,ue),ue.method==="throw"))return b;ue.method="throw",ue.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var ae=y(K,le.iterator,ue.arg);if(ae.type==="throw")return ue.method="throw",ue.arg=ae.arg,ue.delegate=null,b;var se=ae.arg;if(!se)return ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,b;if(se.done)ue[le.resultName]=se.value,ue.next=le.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=d);else return se;return ue.delegate=null,b}G(k),k[u]="Generator",k[f]=function(){return this},k.toString=function(){return"[object Generator]"};function j(le){var ue={tryLoc:le[0]};1 in le&&(ue.catchLoc=le[1]),2 in le&&(ue.finallyLoc=le[2],ue.afterLoc=le[3]),this.tryEntries.push(ue)}function z(le){var ue=le.completion||{};ue.type="normal",delete ue.arg,le.completion=ue}function V(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(j,this),this.reset(!0)}s.keys=function(le){var ue=[];for(var K in le)ue.push(K);return ue.reverse(),function ae(){for(;ue.length;){var se=ue.pop();if(se in le)return ae.value=se,ae.done=!1,ae}return ae.done=!0,ae}};function J(le){if(le){var ue=le[f];if(ue)return ue.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var K=-1,ae=function se(){for(;++K<le.length;)if(c.call(le,K))return se.value=le[K],se.done=!1,se;return se.value=d,se.done=!0,se};return ae.next=ae}}return{next:ne}}s.values=J;function ne(){return{value:d,done:!0}}return V.prototype={constructor:V,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(z),!le)for(var ue in this)ue.charAt(0)==="t"&&c.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=d)},stop:function(){this.done=!0;var le=this.tryEntries[0],ue=le.completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var ue=this;function K(xe,Ie){return fe.type="throw",fe.arg=le,ue.next=xe,Ie&&(ue.method="next",ue.arg=d),!!Ie}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var se=this.tryEntries[ae],fe=se.completion;if(se.tryLoc==="root")return K("end");if(se.tryLoc<=this.prev){var he=c.call(se,"catchLoc"),we=c.call(se,"finallyLoc");if(he&&we){if(this.prev<se.catchLoc)return K(se.catchLoc,!0);if(this.prev<se.finallyLoc)return K(se.finallyLoc)}else if(he){if(this.prev<se.catchLoc)return K(se.catchLoc,!0)}else if(we){if(this.prev<se.finallyLoc)return K(se.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(le,ue){for(var K=this.tryEntries.length-1;K>=0;--K){var ae=this.tryEntries[K];if(ae.tryLoc<=this.prev&&c.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var se=ae;break}}se&&(le==="break"||le==="continue")&&se.tryLoc<=ue&&ue<=se.finallyLoc&&(se=null);var fe=se?se.completion:{};return fe.type=le,fe.arg=ue,se?(this.method="next",this.next=se.finallyLoc,b):this.complete(fe)},complete:function(le,ue){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&ue&&(this.next=ue),b},finish:function(le){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var K=this.tryEntries[ue];if(K.finallyLoc===le)return this.complete(K.completion,K.afterLoc),z(K),b}},catch:function(le){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var K=this.tryEntries[ue];if(K.tryLoc===le){var ae=K.completion;if(ae.type==="throw"){var se=ae.arg;z(K)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(le,ue,K){return this.delegate={iterator:J(le),resultName:ue,nextLoc:K},this.method==="next"&&(this.arg=d),b}},s}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],154:[function(r,i,a){var o=r("buffer"),s=o.Buffer;function l(d,m){for(var f in d)m[f]=d[f]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=o:(l(o,a),a.Buffer=c);function c(d,m,f){return s(d,m,f)}c.prototype=Object.create(s.prototype),l(s,c),c.from=function(d,m,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return s(d,m,f)},c.alloc=function(d,m,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=s(d);return m!==void 0?typeof f=="string"?h.fill(m,f):h.fill(m):h.fill(0),h},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return s(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},{buffer:48}],155:[function(r,i,a){i.exports=l;var o=r("events").EventEmitter,s=r("inherits");s(l,o),l.Readable=r("readable-stream/readable.js"),l.Writable=r("readable-stream/writable.js"),l.Duplex=r("readable-stream/duplex.js"),l.Transform=r("readable-stream/transform.js"),l.PassThrough=r("readable-stream/passthrough.js"),l.Stream=l;function l(){o.call(this)}l.prototype.pipe=function(c,d){var m=this;function f(_){c.writable&&c.write(_)===!1&&m.pause&&m.pause()}m.on("data",f);function h(){m.readable&&m.resume&&m.resume()}c.on("drain",h),!c._isStdio&&(!d||d.end!==!1)&&(m.on("end",v),m.on("close",y));var u=!1;function v(){u||(u=!0,c.end())}function y(){u||(u=!0,typeof c.destroy=="function"&&c.destroy())}function p(_){if(g(),o.listenerCount(this,"error")===0)throw _}m.on("error",p),c.on("error",p);function g(){m.removeListener("data",f),c.removeListener("drain",h),m.removeListener("end",v),m.removeListener("close",y),m.removeListener("error",p),c.removeListener("error",p),m.removeListener("end",g),m.removeListener("close",g),c.removeListener("close",g)}return m.on("end",g),m.on("close",g),c.on("close",g),c.emit("pipe",m),c}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(r,i,a){(function(o){var s=r("./lib/request"),l=r("./lib/response"),c=r("xtend"),d=r("builtin-status-codes"),m=r("url"),f=a;f.request=function(h,u){typeof h=="string"?h=m.parse(h):h=c(h);var v=o.location.protocol.search(/^https?:$/)===-1?"http:":"",y=h.protocol||v,p=h.hostname||h.host,g=h.port,_=h.path||"/";p&&p.indexOf(":")!==-1&&(p="["+p+"]"),h.url=(p?y+"//"+p:"")+(g?":"+g:"")+_,h.method=(h.method||"GET").toUpperCase(),h.headers=h.headers||{};var x=new s(h);return u&&x.on("response",u),x},f.get=function(u,v){var y=f.request(u,v);return y.end(),y},f.ClientRequest=s,f.IncomingMessage=l.IncomingMessage,f.Agent=function(){},f.Agent.defaultMaxSockets=4,f.globalAgent=new f.Agent,f.STATUS_CODES=d,f.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(r,i,a){(function(o){a.fetch=d(o.fetch)&&d(o.ReadableStream),a.writableStream=d(o.WritableStream),a.abortController=d(o.AbortController);var s;function l(){if(s!==void 0)return s;if(o.XMLHttpRequest){s=new o.XMLHttpRequest;try{s.open("GET",o.XDomainRequest?"/":"https://example.com")}catch{s=null}}else s=null;return s}function c(m){var f=l();if(!f)return!1;try{return f.responseType=m,f.responseType===m}catch{}return!1}a.arraybuffer=a.fetch||c("arraybuffer"),a.msstream=!a.fetch&&c("ms-stream"),a.mozchunkedarraybuffer=!a.fetch&&c("moz-chunked-arraybuffer"),a.overrideMimeType=a.fetch||(l()?d(l().overrideMimeType):!1);function d(m){return typeof m=="function"}s=null}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{}],158:[function(r,i,a){(function(o,s,l){var c=r("./capability"),d=r("inherits"),m=r("./response"),f=r("readable-stream"),h=m.IncomingMessage,u=m.readyStates;function v(_,x){return c.fetch&&x?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&_?"arraybuffer":"text"}var y=i.exports=function(_){var x=this;f.Writable.call(x),x._opts=_,x._body=[],x._headers={},_.auth&&x.setHeader("Authorization","Basic "+l.from(_.auth).toString("base64")),Object.keys(_.headers).forEach(function(E){x.setHeader(E,_.headers[E])});var b,M=!0;if(_.mode==="disable-fetch"||"requestTimeout"in _&&!c.abortController)M=!1,b=!0;else if(_.mode==="prefer-streaming")b=!1;else if(_.mode==="allow-wrong-content-type")b=!c.overrideMimeType;else if(!_.mode||_.mode==="default"||_.mode==="prefer-fast")b=!0;else throw new Error("Invalid value for opts.mode");x._mode=v(b,M),x._fetchTimer=null,x.on("finish",function(){x._onFinish()})};d(y,f.Writable),y.prototype.setHeader=function(_,x){var b=this,M=_.toLowerCase();g.indexOf(M)===-1&&(b._headers[M]={name:_,value:x})},y.prototype.getHeader=function(_){var x=this._headers[_.toLowerCase()];return x?x.value:null},y.prototype.removeHeader=function(_){var x=this;delete x._headers[_.toLowerCase()]},y.prototype._onFinish=function(){var _=this;if(!_._destroyed){var x=_._opts,b=_._headers,M=null;x.method!=="GET"&&x.method!=="HEAD"&&(M=new Blob(_._body,{type:(b["content-type"]||{}).value||""}));var E=[];if(Object.keys(b).forEach(function(k){var G=b[k].name,N=b[k].value;Array.isArray(N)?N.forEach(function(Z){E.push([G,Z])}):E.push([G,N])}),_._mode==="fetch"){var C=null,R=null;if(c.abortController){var I=new AbortController;C=I.signal,_._fetchAbortController=I,"requestTimeout"in x&&x.requestTimeout!==0&&(_._fetchTimer=s.setTimeout(function(){_.emit("requestTimeout"),_._fetchAbortController&&_._fetchAbortController.abort()},x.requestTimeout))}s.fetch(_._opts.url,{method:_._opts.method,headers:E,body:M||void 0,mode:"cors",credentials:x.withCredentials?"include":"same-origin",signal:C}).then(function(k){_._fetchResponse=k,_._connect()},function(k){s.clearTimeout(_._fetchTimer),_._destroyed||_.emit("error",k)})}else{var O=_._xhr=new s.XMLHttpRequest;try{O.open(_._opts.method,_._opts.url,!0)}catch(k){o.nextTick(function(){_.emit("error",k)});return}"responseType"in O&&(O.responseType=_._mode),"withCredentials"in O&&(O.withCredentials=!!x.withCredentials),_._mode==="text"&&"overrideMimeType"in O&&O.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in x&&(O.timeout=x.requestTimeout,O.ontimeout=function(){_.emit("requestTimeout")}),E.forEach(function(k){O.setRequestHeader(k[0],k[1])}),_._response=null,O.onreadystatechange=function(){switch(O.readyState){case u.LOADING:case u.DONE:_._onXHRProgress();break}},_._mode==="moz-chunked-arraybuffer"&&(O.onprogress=function(){_._onXHRProgress()}),O.onerror=function(){_._destroyed||_.emit("error",new Error("XHR error"))};try{O.send(M)}catch(k){o.nextTick(function(){_.emit("error",k)});return}}}};function p(_){try{var x=_.status;return x!==null&&x!==0}catch{return!1}}y.prototype._onXHRProgress=function(){var _=this;!p(_._xhr)||_._destroyed||(_._response||_._connect(),_._response._onXHRProgress())},y.prototype._connect=function(){var _=this;_._destroyed||(_._response=new h(_._xhr,_._fetchResponse,_._mode,_._fetchTimer),_._response.on("error",function(x){_.emit("error",x)}),_.emit("response",_._response))},y.prototype._write=function(_,x,b){var M=this;M._body.push(_),b()},y.prototype.abort=y.prototype.destroy=function(){var _=this;_._destroyed=!0,s.clearTimeout(_._fetchTimer),_._response&&(_._response._destroyed=!0),_._xhr?_._xhr.abort():_._fetchAbortController&&_._fetchAbortController.abort()},y.prototype.end=function(_,x,b){var M=this;typeof _=="function"&&(b=_,_=void 0),f.Writable.prototype.end.call(M,_,x,b)},y.prototype.flushHeaders=function(){},y.prototype.setTimeout=function(){},y.prototype.setNoDelay=function(){},y.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{},r("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(r,i,a){(function(o,s,l){var c=r("./capability"),d=r("inherits"),m=r("readable-stream"),f=a.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},h=a.IncomingMessage=function(u,v,y,p){var g=this;if(m.Readable.call(g),g._mode=y,g.headers={},g.rawHeaders=[],g.trailers={},g.rawTrailers=[],g.on("end",function(){o.nextTick(function(){g.emit("close")})}),y==="fetch"){let R=function(){x.read().then(function(I){if(!g._destroyed){if(I.done){s.clearTimeout(p),g.push(null);return}g.push(l.from(I.value)),R()}}).catch(function(I){s.clearTimeout(p),g._destroyed||g.emit("error",I)})};var C=R;if(g._fetchResponse=v,g.url=v.url,g.statusCode=v.status,g.statusMessage=v.statusText,v.headers.forEach(function(I,O){g.headers[O.toLowerCase()]=I,g.rawHeaders.push(O,I)}),c.writableStream){var _=new WritableStream({write:function(I){return new Promise(function(O,k){g._destroyed?k():g.push(l.from(I))?O():g._resumeFetch=O})},close:function(){s.clearTimeout(p),g._destroyed||g.push(null)},abort:function(I){g._destroyed||g.emit("error",I)}});try{v.body.pipeTo(_).catch(function(I){s.clearTimeout(p),g._destroyed||g.emit("error",I)});return}catch{}}var x=v.body.getReader();R()}else{g._xhr=u,g._pos=0,g.url=u.responseURL,g.statusCode=u.status,g.statusMessage=u.statusText;var b=u.getAllResponseHeaders().split(/\r?\n/);if(b.forEach(function(R){var I=R.match(/^([^:]+):\s*(.*)/);if(I){var O=I[1].toLowerCase();O==="set-cookie"?(g.headers[O]===void 0&&(g.headers[O]=[]),g.headers[O].push(I[2])):g.headers[O]!==void 0?g.headers[O]+=", "+I[2]:g.headers[O]=I[2],g.rawHeaders.push(I[1],I[2])}}),g._charset="x-user-defined",!c.overrideMimeType){var M=g.rawHeaders["mime-type"];if(M){var E=M.match(/;\s*charset=([^;])(;|$)/);E&&(g._charset=E[1].toLowerCase())}g._charset||(g._charset="utf-8")}}};d(h,m.Readable),h.prototype._read=function(){var u=this,v=u._resumeFetch;v&&(u._resumeFetch=null,v())},h.prototype._onXHRProgress=function(){var u=this,v=u._xhr,y=null;switch(u._mode){case"text":if(y=v.responseText,y.length>u._pos){var p=y.substr(u._pos);if(u._charset==="x-user-defined"){for(var g=l.alloc(p.length),_=0;_<p.length;_++)g[_]=p.charCodeAt(_)&255;u.push(g)}else u.push(p,u._charset);u._pos=y.length}break;case"arraybuffer":if(v.readyState!==f.DONE||!v.response)break;y=v.response,u.push(l.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=v.response,v.readyState!==f.LOADING||!y)break;u.push(l.from(new Uint8Array(y)));break;case"ms-stream":if(y=v.response,v.readyState!==f.LOADING)break;var x=new s.MSStreamReader;x.onprogress=function(){x.result.byteLength>u._pos&&(u.push(l.from(new Uint8Array(x.result.slice(u._pos)))),u._pos=x.result.byteLength)},x.onload=function(){u.push(null)},x.readAsArrayBuffer(y);break}u._xhr.readyState===f.DONE&&u._mode!=="ms-stream"&&u.push(null)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{},r("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(r,i,a){"use strict";function o(h,u){h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.__proto__=u}var s={};function l(h,u,v){v||(v=Error);function y(g,_,x){return typeof u=="string"?u:u(g,_,x)}var p=function(g){o(_,g);function _(x,b,M){return g.call(this,y(x,b,M))||this}return _}(v);p.prototype.name=v.name,p.prototype.code=h,s[h]=p}function c(h,u){if(Array.isArray(h)){var v=h.length;return h=h.map(function(y){return String(y)}),v>2?"one of ".concat(u," ").concat(h.slice(0,v-1).join(", "),", or ")+h[v-1]:v===2?"one of ".concat(u," ").concat(h[0]," or ").concat(h[1]):"of ".concat(u," ").concat(h[0])}else return"of ".concat(u," ").concat(String(h))}function d(h,u,v){return h.substr(!v||v<0?0:+v,u.length)===u}function m(h,u,v){return(v===void 0||v>h.length)&&(v=h.length),h.substring(v-u.length,v)===u}function f(h,u,v){return typeof v!="number"&&(v=0),v+u.length>h.length?!1:h.indexOf(u,v)!==-1}l("ERR_INVALID_OPT_VALUE",function(h,u){return'The value "'+u+'" is invalid for option "'+h+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(h,u,v){var y;typeof u=="string"&&d(u,"not ")?(y="must not be",u=u.replace(/^not /,"")):y="must be";var p;if(m(h," argument"))p="The ".concat(h," ").concat(y," ").concat(c(u,"type"));else{var g=f(h,".")?"property":"argument";p='The "'.concat(h,'" ').concat(g," ").concat(y," ").concat(c(u,"type"))}return p+=". Received type ".concat(typeof v),p},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=s},{}],161:[function(r,i,a){(function(o){"use strict";var s=new Set;function l(d){if(!s.has(d)){var m=d+" is an experimental feature. This feature could change at any time";s.add(d),o.emitWarning(m,"ExperimentalWarning")}}function c(){}i.exports.emitExperimentalWarning=o.emitWarning?l:c}).call(this,r("_process"))},{_process:133}],162:[function(r,i,a){(function(o){"use strict";var s=Object.keys||function(y){var p=[];for(var g in y)p.push(g);return p};i.exports=h;var l=r("./_stream_readable"),c=r("./_stream_writable");r("inherits")(h,l);for(var d=s(c.prototype),m=0;m<d.length;m++){var f=d[m];h.prototype[f]||(h.prototype[f]=c.prototype[f])}function h(y){if(!(this instanceof h))return new h(y);l.call(this,y),c.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||o.nextTick(v,this)}function v(y){y.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this,r("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(r,i,a){"use strict";i.exports=s;var o=r("./_stream_transform");r("inherits")(s,o);function s(l){if(!(this instanceof s))return new s(l);o.call(this,l)}s.prototype._transform=function(l,c,d){d(null,l)}},{"./_stream_transform":165,inherits:75}],164:[function(r,i,a){(function(o,s){"use strict";i.exports=z;var l;z.ReadableState=j;var c=r("events").EventEmitter,d=function(P,D){return P.listeners(D).length},m=r("./internal/streams/stream"),f=r("buffer").Buffer,h=s.Uint8Array||function(){};function u(W){return f.from(W)}function v(W){return f.isBuffer(W)||W instanceof h}var y=r("util"),p;y&&y.debuglog?p=y.debuglog("stream"):p=function(){};var g=r("./internal/streams/buffer_list"),_=r("./internal/streams/destroy"),x=r("./internal/streams/state"),b=x.getHighWaterMark,M=r("../errors").codes,E=M.ERR_INVALID_ARG_TYPE,C=M.ERR_STREAM_PUSH_AFTER_EOF,R=M.ERR_METHOD_NOT_IMPLEMENTED,I=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O=r("../experimentalWarning"),k=O.emitExperimentalWarning,G,N;r("inherits")(z,m);var Z=["error","close","destroy","pause","resume"];function H(W,P,D){if(typeof W.prependListener=="function")return W.prependListener(P,D);!W._events||!W._events[P]?W.on(P,D):Array.isArray(W._events[P])?W._events[P].unshift(D):W._events[P]=[D,W._events[P]]}function j(W,P,D){l=l||r("./_stream_duplex"),W=W||{},typeof D!="boolean"&&(D=P instanceof l),this.objectMode=!!W.objectMode,D&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=b(this,W,"readableHighWaterMark",D),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(G||(G=r("string_decoder/").StringDecoder),this.decoder=new G(W.encoding),this.encoding=W.encoding)}function z(W){if(l=l||r("./_stream_duplex"),!(this instanceof z))return new z(W);var P=this instanceof l;this._readableState=new j(W,this,P),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),m.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){!this._readableState||(this._readableState.destroyed=P)}}),z.prototype.destroy=_.destroy,z.prototype._undestroy=_.undestroy,z.prototype._destroy=function(W,P){P(W)},z.prototype.push=function(W,P){var D=this._readableState,B;return D.objectMode?B=!0:typeof W=="string"&&(P=P||D.defaultEncoding,P!==D.encoding&&(W=f.from(W,P),P=""),B=!0),V(this,W,P,!1,B)},z.prototype.unshift=function(W){return V(this,W,null,!0,!1)};function V(W,P,D,B,Q){p("readableAddChunk",P);var de=W._readableState;if(P===null)de.reading=!1,ae(W,de);else{var Ce;if(Q||(Ce=ne(de,P)),Ce)W.emit("error",Ce);else if(de.objectMode||P&&P.length>0)if(typeof P!="string"&&!de.objectMode&&Object.getPrototypeOf(P)!==f.prototype&&(P=u(P)),B)de.endEmitted?W.emit("error",new I):J(W,de,P,!0);else if(de.ended)W.emit("error",new C);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!D?(P=de.decoder.write(P),de.objectMode||P.length!==0?J(W,de,P,!1):he(W,de)):J(W,de,P,!1)}else B||(de.reading=!1,he(W,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function J(W,P,D,B){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,W.emit("data",D)):(P.length+=P.objectMode?1:D.length,B?P.buffer.unshift(D):P.buffer.push(D),P.needReadable&&se(W)),he(W,P)}function ne(W,P){var D;return!v(P)&&typeof P!="string"&&P!==void 0&&!W.objectMode&&(D=new E("chunk",["string","Buffer","Uint8Array"],P)),D}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(W){return G||(G=r("string_decoder/").StringDecoder),this._readableState.decoder=new G(W),this._readableState.encoding=this._readableState.decoder.encoding,this};var le=8388608;function ue(W){return W>=le?W=le:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}function K(W,P){return W<=0||P.length===0&&P.ended?0:P.objectMode?1:W!==W?P.flowing&&P.length?P.buffer.head.data.length:P.length:(W>P.highWaterMark&&(P.highWaterMark=ue(W)),W<=P.length?W:P.ended?P.length:(P.needReadable=!0,0))}z.prototype.read=function(W){p("read",W),W=parseInt(W,10);var P=this._readableState,D=W;if(W!==0&&(P.emittedReadable=!1),W===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return p("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?ie(this):se(this),null;if(W=K(W,P),W===0&&P.ended)return P.length===0&&ie(this),null;var B=P.needReadable;p("need readable",B),(P.length===0||P.length-W<P.highWaterMark)&&(B=!0,p("length less than watermark",B)),P.ended||P.reading?(B=!1,p("reading or ended",B)):B&&(p("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(W=K(D,P)));var Q;return W>0?Q=re(W,P):Q=null,Q===null?(P.needReadable=!0,W=0):(P.length-=W,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),D!==W&&P.ended&&ie(this)),Q!==null&&this.emit("data",Q),Q};function ae(W,P){if(!P.ended){if(P.decoder){var D=P.decoder.end();D&&D.length&&(P.buffer.push(D),P.length+=P.objectMode?1:D.length)}P.ended=!0,P.sync?se(W):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,fe(W)))}}function se(W){var P=W._readableState;P.needReadable=!1,P.emittedReadable||(p("emitReadable",P.flowing),P.emittedReadable=!0,o.nextTick(fe,W))}function fe(W){var P=W._readableState;p("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&W.emit("readable"),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,pe(W)}function he(W,P){P.readingMore||(P.readingMore=!0,o.nextTick(we,W,P))}function we(W,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var D=P.length;if(p("maybeReadMore read 0"),W.read(0),D===P.length)break}P.readingMore=!1}z.prototype._read=function(W){this.emit("error",new R("_read()"))},z.prototype.pipe=function(W,P){var D=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=W;break;case 1:B.pipes=[B.pipes,W];break;default:B.pipes.push(W);break}B.pipesCount+=1,p("pipe count=%d opts=%j",B.pipesCount,P);var Q=(!P||P.end!==!1)&&W!==o.stdout&&W!==o.stderr,de=Q?be:et;B.endEmitted?o.nextTick(de):D.once("end",de),W.on("unpipe",Ce);function Ce(ot,X){p("onunpipe"),ot===D&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,Ye())}function be(){p("onend"),W.end()}var Se=xe(D);W.on("drain",Se);var ke=!1;function Ye(){p("cleanup"),W.removeListener("close",Ge),W.removeListener("finish",We),W.removeListener("drain",Se),W.removeListener("error",Me),W.removeListener("unpipe",Ce),D.removeListener("end",be),D.removeListener("end",et),D.removeListener("data",Ve),ke=!0,B.awaitDrain&&(!W._writableState||W._writableState.needDrain)&&Se()}D.on("data",Ve);function Ve(ot){p("ondata");var X=W.write(ot);p("dest.write",X),X===!1&&((B.pipesCount===1&&B.pipes===W||B.pipesCount>1&&ee(B.pipes,W)!==-1)&&!ke&&(p("false write response, pause",B.awaitDrain),B.awaitDrain++),D.pause())}function Me(ot){p("onerror",ot),et(),W.removeListener("error",Me),d(W,"error")===0&&W.emit("error",ot)}H(W,"error",Me);function Ge(){W.removeListener("finish",We),et()}W.once("close",Ge);function We(){p("onfinish"),W.removeListener("close",Ge),et()}W.once("finish",We);function et(){p("unpipe"),D.unpipe(W)}return W.emit("pipe",D),B.flowing||(p("pipe resume"),D.resume()),W};function xe(W){return function(){var D=W._readableState;p("pipeOnDrain",D.awaitDrain),D.awaitDrain&&D.awaitDrain--,D.awaitDrain===0&&d(W,"data")&&(D.flowing=!0,pe(W))}}z.prototype.unpipe=function(W){var P=this._readableState,D={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return W&&W!==P.pipes?this:(W||(W=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,W&&W.emit("unpipe",this,D),this);if(!W){var B=P.pipes,Q=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var de=0;de<Q;de++)B[de].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=ee(P.pipes,W);return Ce===-1?this:(P.pipes.splice(Ce,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),W.emit("unpipe",this,D),this)},z.prototype.on=function(W,P){var D=m.prototype.on.call(this,W,P),B=this._readableState;return W==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):W==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,p("on readable",B.length,B.reading),B.length?se(this):B.reading||o.nextTick(ge,this)),D},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(W,P){var D=m.prototype.removeListener.call(this,W,P);return W==="readable"&&o.nextTick(Ie,this),D},z.prototype.removeAllListeners=function(W){var P=m.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&o.nextTick(Ie,this),P};function Ie(W){var P=W._readableState;P.readableListening=W.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:W.listenerCount("data")>0&&W.resume()}function ge(W){p("readable nexttick read 0"),W.read(0)}z.prototype.resume=function(){var W=this._readableState;return W.flowing||(p("resume"),W.flowing=!W.readableListening,Oe(this,W)),W.paused=!1,this};function Oe(W,P){P.resumeScheduled||(P.resumeScheduled=!0,o.nextTick(me,W,P))}function me(W,P){p("resume",P.reading),P.reading||W.read(0),P.resumeScheduled=!1,W.emit("resume"),pe(W),P.flowing&&!P.reading&&W.read(0)}z.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function pe(W){var P=W._readableState;for(p("flow",P.flowing);P.flowing&&W.read()!==null;);}z.prototype.wrap=function(W){var P=this,D=this._readableState,B=!1;W.on("end",function(){if(p("wrapped end"),D.decoder&&!D.ended){var Ce=D.decoder.end();Ce&&Ce.length&&P.push(Ce)}P.push(null)}),W.on("data",function(Ce){if(p("wrapped data"),D.decoder&&(Ce=D.decoder.write(Ce)),!(D.objectMode&&Ce==null)&&!(!D.objectMode&&(!Ce||!Ce.length))){var be=P.push(Ce);be||(B=!0,W.pause())}});for(var Q in W)this[Q]===void 0&&typeof W[Q]=="function"&&(this[Q]=function(be){return function(){return W[be].apply(W,arguments)}}(Q));for(var de=0;de<Z.length;de++)W.on(Z[de],this.emit.bind(this,Z[de]));return this._read=function(Ce){p("wrapped _read",Ce),B&&(B=!1,W.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return k("Readable[Symbol.asyncIterator]"),N===void 0&&(N=r("./internal/streams/async_iterator")),N(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),z._fromList=re,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(W,P){if(P.length===0)return null;var D;return P.objectMode?D=P.buffer.shift():!W||W>=P.length?(P.decoder?D=P.buffer.join(""):P.buffer.length===1?D=P.buffer.first():D=P.buffer.concat(P.length),P.buffer.clear()):D=P.buffer.consume(W,P.decoder),D}function ie(W){var P=W._readableState;p("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,o.nextTick(Y,P,W))}function Y(W,P){p("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,P.readable=!1,P.emit("end"))}function ee(W,P){for(var D=0,B=W.length;D<B;D++)if(W[D]===P)return D;return-1}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(r,i,a){"use strict";i.exports=h;var o=r("../errors").codes,s=o.ERR_METHOD_NOT_IMPLEMENTED,l=o.ERR_MULTIPLE_CALLBACK,c=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=o.ERR_TRANSFORM_WITH_LENGTH_0,m=r("./_stream_duplex");r("inherits")(h,m);function f(y,p){var g=this._transformState;g.transforming=!1;var _=g.writecb;if(_===null)return this.emit("error",new l);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),_(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);m.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",u)}function u(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){v(y,p,g)}):v(this,null,null)}h.prototype.push=function(y,p){return this._transformState.needTransform=!1,m.prototype.push.call(this,y,p)},h.prototype._transform=function(y,p,g){g(new s("_transform()"))},h.prototype._write=function(y,p,g){var _=this._transformState;if(_.writecb=g,_.writechunk=y,_.writeencoding=p,!_.transforming){var x=this._readableState;(_.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},h.prototype._read=function(y){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},h.prototype._destroy=function(y,p){m.prototype._destroy.call(this,y,function(g){p(g)})};function v(y,p,g){if(p)return y.emit("error",p);if(g!=null&&y.push(g),y._writableState.length)throw new d;if(y._transformState.transforming)throw new c;return y.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(r,i,a){(function(o,s){"use strict";i.exports=H;function l(me,pe,re){this.chunk=me,this.encoding=pe,this.callback=re,this.next=null}function c(me){var pe=this;this.next=null,this.entry=null,this.finish=function(){Oe(pe,me)}}var d;H.WritableState=N;var m={deprecate:r("util-deprecate")},f=r("./internal/streams/stream"),h=r("buffer").Buffer,u=s.Uint8Array||function(){};function v(me){return h.from(me)}function y(me){return h.isBuffer(me)||me instanceof u}var p=r("./internal/streams/destroy"),g=r("./internal/streams/state"),_=g.getHighWaterMark,x=r("../errors").codes,b=x.ERR_INVALID_ARG_TYPE,M=x.ERR_METHOD_NOT_IMPLEMENTED,E=x.ERR_MULTIPLE_CALLBACK,C=x.ERR_STREAM_CANNOT_PIPE,R=x.ERR_STREAM_DESTROYED,I=x.ERR_STREAM_NULL_VALUES,O=x.ERR_STREAM_WRITE_AFTER_END,k=x.ERR_UNKNOWN_ENCODING;r("inherits")(H,f);function G(){}function N(me,pe,re){d=d||r("./_stream_duplex"),me=me||{},typeof re!="boolean"&&(re=pe instanceof d),this.objectMode=!!me.objectMode,re&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=_(this,me,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=me.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){K(pe,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}N.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,re=[];pe;)re.push(pe),pe=pe.next;return re},function(){try{Object.defineProperty(N.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(pe){return Z.call(this,pe)?!0:this!==H?!1:pe&&pe._writableState instanceof N}})):Z=function(pe){return pe instanceof this};function H(me){d=d||r("./_stream_duplex");var pe=this instanceof d;if(!pe&&!Z.call(H,this))return new H(me);this._writableState=new N(me,this,pe),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),f.call(this)}H.prototype.pipe=function(){this.emit("error",new C)};function j(me,pe){var re=new O;me.emit("error",re),o.nextTick(pe,re)}function z(me,pe,re,ie){var Y;return re===null?Y=new I:typeof re!="string"&&!pe.objectMode&&(Y=new b("chunk",["string","Buffer"],re)),Y?(me.emit("error",Y),o.nextTick(ie,Y),!1):!0}H.prototype.write=function(me,pe,re){var ie=this._writableState,Y=!1,ee=!ie.objectMode&&y(me);return ee&&!h.isBuffer(me)&&(me=v(me)),typeof pe=="function"&&(re=pe,pe=null),ee?pe="buffer":pe||(pe=ie.defaultEncoding),typeof re!="function"&&(re=G),ie.ending?j(this,re):(ee||z(this,ie,me,re))&&(ie.pendingcb++,Y=J(this,ie,ee,me,pe,re)),Y},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&fe(this,me))},H.prototype.setDefaultEncoding=function(pe){if(typeof pe=="string"&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new k(pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function V(me,pe,re){return!me.objectMode&&me.decodeStrings!==!1&&typeof pe=="string"&&(pe=h.from(pe,re)),pe}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function J(me,pe,re,ie,Y,ee){if(!re){var W=V(pe,ie,Y);ie!==W&&(re=!0,Y="buffer",ie=W)}var P=pe.objectMode?1:ie.length;pe.length+=P;var D=pe.length<pe.highWaterMark;if(D||(pe.needDrain=!0),pe.writing||pe.corked){var B=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:ie,encoding:Y,isBuf:re,callback:ee,next:null},B?B.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else ne(me,pe,!1,P,ie,Y,ee);return D}function ne(me,pe,re,ie,Y,ee,W){pe.writelen=ie,pe.writecb=W,pe.writing=!0,pe.sync=!0,pe.destroyed?pe.onwrite(new R("write")):re?me._writev(Y,pe.onwrite):me._write(Y,ee,pe.onwrite),pe.sync=!1}function le(me,pe,re,ie,Y){--pe.pendingcb,re?(o.nextTick(Y,ie),o.nextTick(Ie,me,pe),me._writableState.errorEmitted=!0,me.emit("error",ie)):(Y(ie),me._writableState.errorEmitted=!0,me.emit("error",ie),Ie(me,pe))}function ue(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}function K(me,pe){var re=me._writableState,ie=re.sync,Y=re.writecb;if(typeof Y!="function")throw new E;if(ue(re),pe)le(me,re,ie,pe,Y);else{var ee=he(re)||me.destroyed;!ee&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&fe(me,re),ie?o.nextTick(ae,me,re,ee,Y):ae(me,re,ee,Y)}}function ae(me,pe,re,ie){re||se(me,pe),pe.pendingcb--,ie(),Ie(me,pe)}function se(me,pe){pe.length===0&&pe.needDrain&&(pe.needDrain=!1,me.emit("drain"))}function fe(me,pe){pe.bufferProcessing=!0;var re=pe.bufferedRequest;if(me._writev&&re&&re.next){var ie=pe.bufferedRequestCount,Y=new Array(ie),ee=pe.corkedRequestsFree;ee.entry=re;for(var W=0,P=!0;re;)Y[W]=re,re.isBuf||(P=!1),re=re.next,W+=1;Y.allBuffers=P,ne(me,pe,!0,pe.length,Y,"",ee.finish),pe.pendingcb++,pe.lastBufferedRequest=null,ee.next?(pe.corkedRequestsFree=ee.next,ee.next=null):pe.corkedRequestsFree=new c(pe),pe.bufferedRequestCount=0}else{for(;re;){var D=re.chunk,B=re.encoding,Q=re.callback,de=pe.objectMode?1:D.length;if(ne(me,pe,!1,de,D,B,Q),re=re.next,pe.bufferedRequestCount--,pe.writing)break}re===null&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=re,pe.bufferProcessing=!1}H.prototype._write=function(me,pe,re){re(new M("_write()"))},H.prototype._writev=null,H.prototype.end=function(me,pe,re){var ie=this._writableState;return typeof me=="function"?(re=me,me=null,pe=null):typeof pe=="function"&&(re=pe,pe=null),me!=null&&this.write(me,pe),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||ge(this,ie,re),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function we(me,pe){me._final(function(re){pe.pendingcb--,re&&me.emit("error",re),pe.prefinished=!0,me.emit("prefinish"),Ie(me,pe)})}function xe(me,pe){!pe.prefinished&&!pe.finalCalled&&(typeof me._final=="function"&&!pe.destroyed?(pe.pendingcb++,pe.finalCalled=!0,o.nextTick(we,me,pe)):(pe.prefinished=!0,me.emit("prefinish")))}function Ie(me,pe){var re=he(pe);return re&&(xe(me,pe),pe.pendingcb===0&&(pe.finished=!0,me.emit("finish"))),re}function ge(me,pe,re){pe.ending=!0,Ie(me,pe),re&&(pe.finished?o.nextTick(re):me.once("finish",re)),pe.ended=!0,me.writable=!1}function Oe(me,pe,re){var ie=me.entry;for(me.entry=null;ie;){var Y=ie.callback;pe.pendingcb--,Y(re),ie=ie.next}pe.corkedRequestsFree.next=me}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(pe){!this._writableState||(this._writableState.destroyed=pe)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(me,pe){pe(me)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(r,i,a){(function(o){"use strict";var s;function l(C,R,I){return R in C?Object.defineProperty(C,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[R]=I,C}var c=r("./end-of-stream"),d=Symbol("lastResolve"),m=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),u=Symbol("lastPromise"),v=Symbol("handlePromise"),y=Symbol("stream");function p(C,R){return{value:C,done:R}}function g(C){var R=C[d];if(R!==null){var I=C[y].read();I!==null&&(C[u]=null,C[d]=null,C[m]=null,R(p(I,!1)))}}function _(C){o.nextTick(g,C)}function x(C,R){return function(I,O){C.then(function(){if(R[h]){I(p(void 0,!0));return}R[v](I,O)},O)}}var b=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((s={get stream(){return this[y]},next:function(){var R=this,I=this[f];if(I!==null)return Promise.reject(I);if(this[h])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(N,Z){o.nextTick(function(){R[f]?Z(R[f]):N(p(void 0,!0))})});var O=this[u],k;if(O)k=new Promise(x(O,this));else{var G=this[y].read();if(G!==null)return Promise.resolve(p(G,!1));k=new Promise(this[v])}return this[u]=k,k}},l(s,Symbol.asyncIterator,function(){return this}),l(s,"return",function(){var R=this;return new Promise(function(I,O){R[y].destroy(null,function(k){if(k){O(k);return}I(p(void 0,!0))})})}),s),b),E=function(R){var I,O=Object.create(M,(I={},l(I,y,{value:R,writable:!0}),l(I,d,{value:null,writable:!0}),l(I,m,{value:null,writable:!0}),l(I,f,{value:null,writable:!0}),l(I,h,{value:R._readableState.endEmitted,writable:!0}),l(I,v,{value:function(G,N){var Z=O[y].read();Z?(O[u]=null,O[d]=null,O[m]=null,G(p(Z,!1))):(O[d]=G,O[m]=N)},writable:!0}),I));return O[u]=null,c(R,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=O[m];G!==null&&(O[u]=null,O[d]=null,O[m]=null,G(k)),O[f]=k;return}var N=O[d];N!==null&&(O[u]=null,O[d]=null,O[m]=null,N(p(void 0,!0))),O[h]=!0}),R.on("readable",_.bind(null,O)),O};i.exports=E}).call(this,r("_process"))},{"./end-of-stream":170,_process:133}],168:[function(r,i,a){"use strict";function o(u){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{},p=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(y).filter(function(g){return Object.getOwnPropertyDescriptor(y,g).enumerable}))),p.forEach(function(g){s(u,g,y[g])})}return u}function s(u,v,y){return v in u?Object.defineProperty(u,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):u[v]=y,u}var l=r("buffer"),c=l.Buffer,d=r("util"),m=d.inspect,f=m&&m.custom||"inspect";function h(u,v,y){c.prototype.copy.call(u,v,y)}i.exports=function(){function u(){this.head=null,this.tail=null,this.length=0}var v=u.prototype;return v.push=function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length},v.unshift=function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length},v.shift=function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}},v.clear=function(){this.head=this.tail=null,this.length=0},v.join=function(p){if(this.length===0)return"";for(var g=this.head,_=""+g.data;g=g.next;)_+=p+g.data;return _},v.concat=function(p){if(this.length===0)return c.alloc(0);for(var g=c.allocUnsafe(p>>>0),_=this.head,x=0;_;)h(_.data,g,x),x+=_.data.length,_=_.next;return g},v.consume=function(p,g){var _;return p<this.head.data.length?(_=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?_=this.shift():_=g?this._getString(p):this._getBuffer(p),_},v.first=function(){return this.head.data},v._getString=function(p){var g=this.head,_=1,x=g.data;for(p-=x.length;g=g.next;){var b=g.data,M=p>b.length?b.length:p;if(M===b.length?x+=b:x+=b.slice(0,p),p-=M,p===0){M===b.length?(++_,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=b.slice(M));break}++_}return this.length-=_,x},v._getBuffer=function(p){var g=c.allocUnsafe(p),_=this.head,x=1;for(_.data.copy(g),p-=_.data.length;_=_.next;){var b=_.data,M=p>b.length?b.length:p;if(b.copy(g,g.length-p,0,M),p-=M,p===0){M===b.length?(++x,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=b.slice(M));break}++x}return this.length-=x,g},v[f]=function(y,p){return m(this,o({},p,{depth:0,customInspect:!1}))},u}()},{buffer:48,util:33}],169:[function(r,i,a){(function(o){"use strict";function s(f,h){var u=this,v=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return v||y?(h?h(f):f&&(!this._writableState||!this._writableState.errorEmitted)&&o.nextTick(m,this,f),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(p){!h&&p?(o.nextTick(l,u,p),u._writableState&&(u._writableState.errorEmitted=!0)):h?(o.nextTick(c,u),h(p)):o.nextTick(c,u)}),this)}function l(f,h){m(f,h),c(f)}function c(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(f,h){f.emit("error",h)}i.exports={destroy:s,undestroy:d}}).call(this,r("_process"))},{_process:133}],170:[function(r,i,a){"use strict";var o=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(m){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,u=new Array(h),v=0;v<h;v++)u[v]=arguments[v];m.apply(this,u)}}}function l(){}function c(m){return m.setHeader&&typeof m.abort=="function"}function d(m,f,h){if(typeof f=="function")return d(m,null,f);f||(f={}),h=s(h||l);var u=f.readable||f.readable!==!1&&m.readable,v=f.writable||f.writable!==!1&&m.writable,y=function(){m.writable||g()},p=m._writableState&&m._writableState.finished,g=function(){v=!1,p=!0,u||h.call(m)},_=m._readableState&&m._readableState.endEmitted,x=function(){u=!1,_=!0,v||h.call(m)},b=function(R){h.call(m,R)},M=function(){var R;if(u&&!_)return(!m._readableState||!m._readableState.ended)&&(R=new o),h.call(m,R);if(v&&!p)return(!m._writableState||!m._writableState.ended)&&(R=new o),h.call(m,R)},E=function(){m.req.on("finish",g)};return c(m)?(m.on("complete",g),m.on("abort",M),m.req?E():m.on("request",E)):v&&!m._writableState&&(m.on("end",y),m.on("close",y)),m.on("end",x),m.on("finish",g),f.error!==!1&&m.on("error",b),m.on("close",M),function(){m.removeListener("complete",g),m.removeListener("abort",M),m.removeListener("request",E),m.req&&m.req.removeListener("finish",g),m.removeListener("end",y),m.removeListener("close",y),m.removeListener("finish",g),m.removeListener("end",x),m.removeListener("error",b),m.removeListener("close",M)}}i.exports=d},{"../../../errors":160}],171:[function(r,i,a){"use strict";var o;function s(g){var _=!1;return function(){_||(_=!0,g.apply(void 0,arguments))}}var l=r("../../../errors").codes,c=l.ERR_MISSING_ARGS,d=l.ERR_STREAM_DESTROYED;function m(g){if(g)throw g}function f(g){return g.setHeader&&typeof g.abort=="function"}function h(g,_,x,b){b=s(b);var M=!1;g.on("close",function(){M=!0}),o===void 0&&(o=r("./end-of-stream")),o(g,{readable:_,writable:x},function(C){if(C)return b(C);M=!0,b()});var E=!1;return function(C){if(!M&&!E){if(E=!0,f(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();b(C||new d("pipe"))}}}function u(g){g()}function v(g,_){return g.pipe(_)}function y(g){return!g.length||typeof g[g.length-1]!="function"?m:g.pop()}function p(){for(var g=arguments.length,_=new Array(g),x=0;x<g;x++)_[x]=arguments[x];var b=y(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new c("streams");var M,E=_.map(function(C,R){var I=R<_.length-1,O=R>0;return h(C,I,O,function(k){M||(M=k),k&&E.forEach(u),!I&&(E.forEach(u),b(M))})});return _.reduce(v)}i.exports=p},{"../../../errors":160,"./end-of-stream":170}],172:[function(r,i,a){"use strict";var o=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;function s(c,d,m){return c.highWaterMark!=null?c.highWaterMark:d?c[m]:null}function l(c,d,m,f){var h=s(d,f,m);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var u=f?m:"highWaterMark";throw new o(u,h)}return Math.floor(h)}return c.objectMode?16:16*1024}i.exports={getHighWaterMark:l}},{"../../../errors":160}],173:[function(r,i,a){arguments[4][146][0].apply(a,arguments)},{dup:146,events:52}],174:[function(r,i,a){a=i.exports=r("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=r("./lib/_stream_writable.js"),a.Duplex=r("./lib/_stream_duplex.js"),a.Transform=r("./lib/_stream_transform.js"),a.PassThrough=r("./lib/_stream_passthrough.js"),a.finished=r("./lib/internal/streams/end-of-stream.js"),a.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(r,i,a){arguments[4][148][0].apply(a,arguments)},{dup:148,"safe-buffer":154}],176:[function(r,i,a){(function(o,s){var l=r("process/browser.js").nextTick,c=Function.prototype.apply,d=Array.prototype.slice,m={},f=0;a.setTimeout=function(){return new h(c.call(setTimeout,Gt,arguments),clearTimeout)},a.setInterval=function(){return new h(c.call(setInterval,Gt,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(u){u.close()};function h(u,v){this._id=u,this._clearFn=v}h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(Gt,this._id)},a.enroll=function(u,v){clearTimeout(u._idleTimeoutId),u._idleTimeout=v},a.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},a._unrefActive=a.active=function(u){clearTimeout(u._idleTimeoutId);var v=u._idleTimeout;v>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},v))},a.setImmediate=typeof o=="function"?o:function(u){var v=f++,y=arguments.length<2?!1:d.call(arguments,1);return m[v]=!0,l(function(){m[v]&&(y?u.apply(null,y):u.call(null),a.clearImmediate(v))}),v},a.clearImmediate=typeof s=="function"?s:function(u){delete m[u]}}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(r,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z};a.clone=f,a.addLast=v,a.addFirst=y,a.removeLast=p,a.removeFirst=g,a.insert=_,a.removeAt=x,a.replaceAt=b,a.getIn=M,a.set=E,a.setIn=R,a.update=I,a.updateIn=O,a.merge=k,a.mergeDeep=G,a.mergeIn=N,a.omit=Z,a.addDefaults=H;var l="INVALID_ARGS";function c(z){throw new Error(z)}function d(z){var V=Object.keys(z);return Object.getOwnPropertySymbols?V.concat(Object.getOwnPropertySymbols(z)):V}var m={}.hasOwnProperty;function f(z){if(Array.isArray(z))return z.slice();for(var V=d(z),J={},ne=0;ne<V.length;ne++){var le=V[ne];J[le]=z[le]}return J}function h(z,V,J){var ne=J;ne==null&&c(o.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":l);for(var le=!1,ue=arguments.length,K=Array(ue>3?ue-3:0),ae=3;ae<ue;ae++)K[ae-3]=arguments[ae];for(var se=0;se<K.length;se++){var fe=K[se];if(fe!=null){var he=d(fe);if(!!he.length)for(var we=0;we<=he.length;we++){var xe=he[we];if(!(z&&ne[xe]!==void 0)){var Ie=fe[xe];V&&u(ne[xe])&&u(Ie)&&(Ie=h(z,V,ne[xe],Ie)),!(Ie===void 0||Ie===ne[xe])&&(le||(le=!0,ne=f(ne)),ne[xe]=Ie)}}}}return ne}function u(z){var V=typeof z=="undefined"?"undefined":s(z);return z!=null&&V==="object"}function v(z,V){return Array.isArray(V)?z.concat(V):z.concat([V])}function y(z,V){return Array.isArray(V)?V.concat(z):[V].concat(z)}function p(z){return z.length?z.slice(0,z.length-1):z}function g(z){return z.length?z.slice(1):z}function _(z,V,J){return z.slice(0,V).concat(Array.isArray(J)?J:[J]).concat(z.slice(V))}function x(z,V){return V>=z.length||V<0?z:z.slice(0,V).concat(z.slice(V+1))}function b(z,V,J){if(z[V]===J)return z;for(var ne=z.length,le=Array(ne),ue=0;ue<ne;ue++)le[ue]=z[ue];return le[V]=J,le}function M(z,V){if(!Array.isArray(V)&&c(o.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":l),z!=null){for(var J=z,ne=0;ne<V.length;ne++){var le=V[ne];if(J=J!=null?J[le]:void 0,J===void 0)return J}return J}}function E(z,V,J){var ne=typeof V=="number"?[]:{},le=z??ne;if(le[V]===J)return le;var ue=f(le);return ue[V]=J,ue}function C(z,V,J,ne){var le=void 0,ue=V[ne];if(ne===V.length-1)le=J;else{var K=u(z)&&u(z[ue])?z[ue]:typeof V[ne+1]=="number"?[]:{};le=C(K,V,J,ne+1)}return E(z,ue,le)}function R(z,V,J){return V.length?C(z,V,J,0):J}function I(z,V,J){var ne=z==null?void 0:z[V],le=J(ne);return E(z,V,le)}function O(z,V,J){var ne=M(z,V),le=J(ne);return R(z,V,le)}function k(z,V,J,ne,le,ue){for(var K=arguments.length,ae=Array(K>6?K-6:0),se=6;se<K;se++)ae[se-6]=arguments[se];return ae.length?h.call.apply(h,[null,!1,!1,z,V,J,ne,le,ue].concat(ae)):h(!1,!1,z,V,J,ne,le,ue)}function G(z,V,J,ne,le,ue){for(var K=arguments.length,ae=Array(K>6?K-6:0),se=6;se<K;se++)ae[se-6]=arguments[se];return ae.length?h.call.apply(h,[null,!1,!0,z,V,J,ne,le,ue].concat(ae)):h(!1,!0,z,V,J,ne,le,ue)}function N(z,V,J,ne,le,ue,K){var ae=M(z,V);ae==null&&(ae={});for(var se=void 0,fe=arguments.length,he=Array(fe>7?fe-7:0),we=7;we<fe;we++)he[we-7]=arguments[we];return he.length?se=h.call.apply(h,[null,!1,!1,ae,J,ne,le,ue,K].concat(he)):se=h(!1,!1,ae,J,ne,le,ue,K),R(z,V,se)}function Z(z,V){for(var J=Array.isArray(V)?V:[V],ne=!1,le=0;le<J.length;le++)if(m.call(z,J[le])){ne=!0;break}if(!ne)return z;for(var ue={},K=d(z),ae=0;ae<K.length;ae++){var se=K[ae];J.indexOf(se)>=0||(ue[se]=z[se])}return ue}function H(z,V,J,ne,le,ue){for(var K=arguments.length,ae=Array(K>6?K-6:0),se=6;se<K;se++)ae[se-6]=arguments[se];return ae.length?h.call.apply(h,[null,!0,!1,z,V,J,ne,le,ue].concat(ae)):h(!0,!1,z,V,J,ne,le,ue)}var j={clone:f,addLast:v,addFirst:y,removeLast:p,removeFirst:g,insert:_,removeAt:x,replaceAt:b,getIn:M,set:E,setIn:R,update:I,updateIn:O,merge:k,mergeDeep:G,mergeIn:N,omit:Z,addDefaults:H};a.default=j}).call(this,r("_process"))},{_process:133}],178:[function(r,i,a){(function(o){var s=/^\s+/,l=/\s+$/,c=0,d=o.round,m=o.min,f=o.max,h=o.random;function u(Y,ee){if(Y=Y||"",ee=ee||{},Y instanceof u)return Y;if(!(this instanceof u))return new u(Y,ee);var W=v(Y);this._originalInput=Y,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=d(100*this._a)/100,this._format=ee.format||W.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=W.ok,this._tc_id=c++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},getLuminance:function(){var Y=this.toRgb(),ee,W,P,D,B,Q;return ee=Y.r/255,W=Y.g/255,P=Y.b/255,ee<=.03928?D=ee/12.92:D=o.pow((ee+.055)/1.055,2.4),W<=.03928?B=W/12.92:B=o.pow((W+.055)/1.055,2.4),P<=.03928?Q=P/12.92:Q=o.pow((P+.055)/1.055,2.4),.2126*D+.7152*B+.0722*Q},setAlpha:function(Y){return this._a=K(Y),this._roundA=d(100*this._a)/100,this},toHsv:function(){var Y=_(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=_(this._r,this._g,this._b),ee=d(Y.h*360),W=d(Y.s*100),P=d(Y.v*100);return this._a==1?"hsv("+ee+", "+W+"%, "+P+"%)":"hsva("+ee+", "+W+"%, "+P+"%, "+this._roundA+")"},toHsl:function(){var Y=p(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=p(this._r,this._g,this._b),ee=d(Y.h*360),W=d(Y.s*100),P=d(Y.l*100);return this._a==1?"hsl("+ee+", "+W+"%, "+P+"%)":"hsla("+ee+", "+W+"%, "+P+"%, "+this._roundA+")"},toHex:function(Y){return b(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return M(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(ae(this._r,255)*100)+"%",g:d(ae(this._g,255)*100)+"%",b:d(ae(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(ae(this._r,255)*100)+"%, "+d(ae(this._g,255)*100)+"%, "+d(ae(this._b,255)*100)+"%)":"rgba("+d(ae(this._r,255)*100)+"%, "+d(ae(this._g,255)*100)+"%, "+d(ae(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:le[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var ee="#"+E(this._r,this._g,this._b,this._a),W=ee,P=this._gradientType?"GradientType = 1, ":"";if(Y){var D=u(Y);W="#"+E(D._r,D._g,D._b,D._a)}return"progid:DXImageTransform.Microsoft.gradient("+P+"startColorstr="+ee+",endColorstr="+W+")"},toString:function(Y){var ee=!!Y;Y=Y||this._format;var W=!1,P=this._a<1&&this._a>=0,D=!ee&&P&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="hex4"||Y==="hex8"||Y==="name");return D?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(W=this.toRgbString()),Y==="prgb"&&(W=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(W=this.toHexString()),Y==="hex3"&&(W=this.toHexString(!0)),Y==="hex4"&&(W=this.toHex8String(!0)),Y==="hex8"&&(W=this.toHex8String()),Y==="name"&&(W=this.toName()),Y==="hsl"&&(W=this.toHslString()),Y==="hsv"&&(W=this.toHsvString()),W||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(Y,ee){var W=Y.apply(null,[this].concat([].slice.call(ee)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(G,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(R,arguments)},greyscale:function(){return this._applyModification(I,arguments)},spin:function(){return this._applyModification(N,arguments)},_applyCombination:function(Y,ee){return Y.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(V,arguments)},complement:function(){return this._applyCombination(Z,arguments)},monochromatic:function(){return this._applyCombination(J,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(H,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},u.fromRatio=function(Y,ee){if(typeof Y=="object"){var W={};for(var P in Y)Y.hasOwnProperty(P)&&(P==="a"?W[P]=Y[P]:W[P]=Ie(Y[P]));Y=W}return u(Y,ee)};function v(Y){var ee={r:0,g:0,b:0},W=1,P=null,D=null,B=null,Q=!1,de=!1;return typeof Y=="string"&&(Y=re(Y)),typeof Y=="object"&&(pe(Y.r)&&pe(Y.g)&&pe(Y.b)?(ee=y(Y.r,Y.g,Y.b),Q=!0,de=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):pe(Y.h)&&pe(Y.s)&&pe(Y.v)?(P=Ie(Y.s),D=Ie(Y.v),ee=x(Y.h,P,D),Q=!0,de="hsv"):pe(Y.h)&&pe(Y.s)&&pe(Y.l)&&(P=Ie(Y.s),B=Ie(Y.l),ee=g(Y.h,P,B),Q=!0,de="hsl"),Y.hasOwnProperty("a")&&(W=Y.a)),W=K(W),{ok:Q,format:Y.format||de,r:m(255,f(ee.r,0)),g:m(255,f(ee.g,0)),b:m(255,f(ee.b,0)),a:W}}function y(Y,ee,W){return{r:ae(Y,255)*255,g:ae(ee,255)*255,b:ae(W,255)*255}}function p(Y,ee,W){Y=ae(Y,255),ee=ae(ee,255),W=ae(W,255);var P=f(Y,ee,W),D=m(Y,ee,W),B,Q,de=(P+D)/2;if(P==D)B=Q=0;else{var Ce=P-D;switch(Q=de>.5?Ce/(2-P-D):Ce/(P+D),P){case Y:B=(ee-W)/Ce+(ee<W?6:0);break;case ee:B=(W-Y)/Ce+2;break;case W:B=(Y-ee)/Ce+4;break}B/=6}return{h:B,s:Q,l:de}}function g(Y,ee,W){var P,D,B;Y=ae(Y,360),ee=ae(ee,100),W=ae(W,100);function Q(be,Se,ke){return ke<0&&(ke+=1),ke>1&&(ke-=1),ke<1/6?be+(Se-be)*6*ke:ke<1/2?Se:ke<2/3?be+(Se-be)*(2/3-ke)*6:be}if(ee===0)P=D=B=W;else{var de=W<.5?W*(1+ee):W+ee-W*ee,Ce=2*W-de;P=Q(Ce,de,Y+1/3),D=Q(Ce,de,Y),B=Q(Ce,de,Y-1/3)}return{r:P*255,g:D*255,b:B*255}}function _(Y,ee,W){Y=ae(Y,255),ee=ae(ee,255),W=ae(W,255);var P=f(Y,ee,W),D=m(Y,ee,W),B,Q,de=P,Ce=P-D;if(Q=P===0?0:Ce/P,P==D)B=0;else{switch(P){case Y:B=(ee-W)/Ce+(ee<W?6:0);break;case ee:B=(W-Y)/Ce+2;break;case W:B=(Y-ee)/Ce+4;break}B/=6}return{h:B,s:Q,v:de}}function x(Y,ee,W){Y=ae(Y,360)*6,ee=ae(ee,100),W=ae(W,100);var P=o.floor(Y),D=Y-P,B=W*(1-ee),Q=W*(1-D*ee),de=W*(1-(1-D)*ee),Ce=P%6,be=[W,Q,B,B,de,W][Ce],Se=[de,W,W,Q,B,B][Ce],ke=[B,B,de,W,W,Q][Ce];return{r:be*255,g:Se*255,b:ke*255}}function b(Y,ee,W,P){var D=[xe(d(Y).toString(16)),xe(d(ee).toString(16)),xe(d(W).toString(16))];return P&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function M(Y,ee,W,P,D){var B=[xe(d(Y).toString(16)),xe(d(ee).toString(16)),xe(d(W).toString(16)),xe(ge(P))];return D&&B[0].charAt(0)==B[0].charAt(1)&&B[1].charAt(0)==B[1].charAt(1)&&B[2].charAt(0)==B[2].charAt(1)&&B[3].charAt(0)==B[3].charAt(1)?B[0].charAt(0)+B[1].charAt(0)+B[2].charAt(0)+B[3].charAt(0):B.join("")}function E(Y,ee,W,P){var D=[xe(ge(P)),xe(d(Y).toString(16)),xe(d(ee).toString(16)),xe(d(W).toString(16))];return D.join("")}u.equals=function(Y,ee){return!Y||!ee?!1:u(Y).toRgbString()==u(ee).toRgbString()},u.random=function(){return u.fromRatio({r:h(),g:h(),b:h()})};function C(Y,ee){ee=ee===0?0:ee||10;var W=u(Y).toHsl();return W.s-=ee/100,W.s=se(W.s),u(W)}function R(Y,ee){ee=ee===0?0:ee||10;var W=u(Y).toHsl();return W.s+=ee/100,W.s=se(W.s),u(W)}function I(Y){return u(Y).desaturate(100)}function O(Y,ee){ee=ee===0?0:ee||10;var W=u(Y).toHsl();return W.l+=ee/100,W.l=se(W.l),u(W)}function k(Y,ee){ee=ee===0?0:ee||10;var W=u(Y).toRgb();return W.r=f(0,m(255,W.r-d(255*-(ee/100)))),W.g=f(0,m(255,W.g-d(255*-(ee/100)))),W.b=f(0,m(255,W.b-d(255*-(ee/100)))),u(W)}function G(Y,ee){ee=ee===0?0:ee||10;var W=u(Y).toHsl();return W.l-=ee/100,W.l=se(W.l),u(W)}function N(Y,ee){var W=u(Y).toHsl(),P=(W.h+ee)%360;return W.h=P<0?360+P:P,u(W)}function Z(Y){var ee=u(Y).toHsl();return ee.h=(ee.h+180)%360,u(ee)}function H(Y){var ee=u(Y).toHsl(),W=ee.h;return[u(Y),u({h:(W+120)%360,s:ee.s,l:ee.l}),u({h:(W+240)%360,s:ee.s,l:ee.l})]}function j(Y){var ee=u(Y).toHsl(),W=ee.h;return[u(Y),u({h:(W+90)%360,s:ee.s,l:ee.l}),u({h:(W+180)%360,s:ee.s,l:ee.l}),u({h:(W+270)%360,s:ee.s,l:ee.l})]}function z(Y){var ee=u(Y).toHsl(),W=ee.h;return[u(Y),u({h:(W+72)%360,s:ee.s,l:ee.l}),u({h:(W+216)%360,s:ee.s,l:ee.l})]}function V(Y,ee,W){ee=ee||6,W=W||30;var P=u(Y).toHsl(),D=360/W,B=[u(Y)];for(P.h=(P.h-(D*ee>>1)+720)%360;--ee;)P.h=(P.h+D)%360,B.push(u(P));return B}function J(Y,ee){ee=ee||6;for(var W=u(Y).toHsv(),P=W.h,D=W.s,B=W.v,Q=[],de=1/ee;ee--;)Q.push(u({h:P,s:D,v:B})),B=(B+de)%1;return Q}u.mix=function(Y,ee,W){W=W===0?0:W||50;var P=u(Y).toRgb(),D=u(ee).toRgb(),B=W/100,Q={r:(D.r-P.r)*B+P.r,g:(D.g-P.g)*B+P.g,b:(D.b-P.b)*B+P.b,a:(D.a-P.a)*B+P.a};return u(Q)},u.readability=function(Y,ee){var W=u(Y),P=u(ee);return(o.max(W.getLuminance(),P.getLuminance())+.05)/(o.min(W.getLuminance(),P.getLuminance())+.05)},u.isReadable=function(Y,ee,W){var P=u.readability(Y,ee),D,B;switch(B=!1,D=ie(W),D.level+D.size){case"AAsmall":case"AAAlarge":B=P>=4.5;break;case"AAlarge":B=P>=3;break;case"AAAsmall":B=P>=7;break}return B},u.mostReadable=function(Y,ee,W){var P=null,D=0,B,Q,de,Ce;W=W||{},Q=W.includeFallbackColors,de=W.level,Ce=W.size;for(var be=0;be<ee.length;be++)B=u.readability(Y,ee[be]),B>D&&(D=B,P=u(ee[be]));return u.isReadable(Y,P,{level:de,size:Ce})||!Q?P:(W.includeFallbackColors=!1,u.mostReadable(Y,["#fff","#000"],W))};var ne=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},le=u.hexNames=ue(ne);function ue(Y){var ee={};for(var W in Y)Y.hasOwnProperty(W)&&(ee[Y[W]]=W);return ee}function K(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function ae(Y,ee){he(Y)&&(Y="100%");var W=we(Y);return Y=m(ee,f(0,parseFloat(Y))),W&&(Y=parseInt(Y*ee,10)/100),o.abs(Y-ee)<1e-6?1:Y%ee/parseFloat(ee)}function se(Y){return m(1,f(0,Y))}function fe(Y){return parseInt(Y,16)}function he(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function we(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function xe(Y){return Y.length==1?"0"+Y:""+Y}function Ie(Y){return Y<=1&&(Y=Y*100+"%"),Y}function ge(Y){return o.round(parseFloat(Y)*255).toString(16)}function Oe(Y){return fe(Y)/255}var me=function(){var Y="[-\\+]?\\d+%?",ee="[-\\+]?\\d*\\.\\d+%?",W="(?:"+ee+")|(?:"+Y+")",P="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",D="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";return{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function pe(Y){return!!me.CSS_UNIT.exec(Y)}function re(Y){Y=Y.replace(s,"").replace(l,"").toLowerCase();var ee=!1;if(ne[Y])Y=ne[Y],ee=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W;return(W=me.rgb.exec(Y))?{r:W[1],g:W[2],b:W[3]}:(W=me.rgba.exec(Y))?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=me.hsl.exec(Y))?{h:W[1],s:W[2],l:W[3]}:(W=me.hsla.exec(Y))?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=me.hsv.exec(Y))?{h:W[1],s:W[2],v:W[3]}:(W=me.hsva.exec(Y))?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=me.hex8.exec(Y))?{r:fe(W[1]),g:fe(W[2]),b:fe(W[3]),a:Oe(W[4]),format:ee?"name":"hex8"}:(W=me.hex6.exec(Y))?{r:fe(W[1]),g:fe(W[2]),b:fe(W[3]),format:ee?"name":"hex"}:(W=me.hex4.exec(Y))?{r:fe(W[1]+""+W[1]),g:fe(W[2]+""+W[2]),b:fe(W[3]+""+W[3]),a:Oe(W[4]+""+W[4]),format:ee?"name":"hex8"}:(W=me.hex3.exec(Y))?{r:fe(W[1]+""+W[1]),g:fe(W[2]+""+W[2]),b:fe(W[3]+""+W[3]),format:ee?"name":"hex"}:!1}function ie(Y){var ee,W;return Y=Y||{level:"AA",size:"small"},ee=(Y.level||"AA").toUpperCase(),W=(Y.size||"small").toLowerCase(),ee!=="AA"&&ee!=="AAA"&&(ee="AA"),W!=="small"&&W!=="large"&&(W="small"),{level:ee,size:W}}typeof i!="undefined"&&i.exports?i.exports=u:typeof n=="function"&&n.amd?n(function(){return u}):Gt.tinycolor=u})(Math)},{}],179:[function(r,i,a){a=i.exports=o;function o(s){return s.replace(/^\s*|\s*$/g,"")}a.left=function(s){return s.replace(/^\s*/,"")},a.right=function(s){return s.replace(/\s*$/,"")}},{}],180:[function(r,i,a){"use strict";var o=r("punycode"),s=r("./util");a.parse=C,a.resolve=I,a.resolveObject=O,a.format=R,a.Url=l;function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(f),u=["'"].concat(h),v=["%","/","?",";","#"].concat(u),y=["/","?","#"],p=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=r("querystring");function C(k,G,N){if(k&&s.isObject(k)&&k instanceof l)return k;var Z=new l;return Z.parse(k,G,N),Z}l.prototype.parse=function(k,G,N){if(!s.isString(k))throw new TypeError("Parameter 'url' must be a string, not "+typeof k);var Z=k.indexOf("?"),H=Z!==-1&&Z<k.indexOf("#")?"?":"#",j=k.split(H),z=/\\/g;j[0]=j[0].replace(z,"/"),k=j.join(H);var V=k;if(V=V.trim(),!N&&k.split("#").length===1){var J=m.exec(V);if(J)return this.path=V,this.href=V,this.pathname=J[1],J[2]?(this.search=J[2],G?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):G&&(this.search="",this.query={}),this}var ne=c.exec(V);if(ne){ne=ne[0];var le=ne.toLowerCase();this.protocol=le,V=V.substr(ne.length)}if(N||ne||V.match(/^\/\/[^@\/]+@[^@\/]+/)){var ue=V.substr(0,2)==="//";ue&&!(ne&&b[ne])&&(V=V.substr(2),this.slashes=!0)}if(!b[ne]&&(ue||ne&&!M[ne])){for(var K=-1,ae=0;ae<y.length;ae++){var se=V.indexOf(y[ae]);se!==-1&&(K===-1||se<K)&&(K=se)}var fe,he;K===-1?he=V.lastIndexOf("@"):he=V.lastIndexOf("@",K),he!==-1&&(fe=V.slice(0,he),V=V.slice(he+1),this.auth=decodeURIComponent(fe)),K=-1;for(var ae=0;ae<v.length;ae++){var se=V.indexOf(v[ae]);se!==-1&&(K===-1||se<K)&&(K=se)}K===-1&&(K=V.length),this.host=V.slice(0,K),V=V.slice(K),this.parseHost(),this.hostname=this.hostname||"";var we=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!we)for(var xe=this.hostname.split(/\./),ae=0,Ie=xe.length;ae<Ie;ae++){var ge=xe[ae];if(!!ge&&!ge.match(g)){for(var Oe="",me=0,pe=ge.length;me<pe;me++)ge.charCodeAt(me)>127?Oe+="x":Oe+=ge[me];if(!Oe.match(g)){var re=xe.slice(0,ae),ie=xe.slice(ae+1),Y=ge.match(_);Y&&(re.push(Y[1]),ie.unshift(Y[2])),ie.length&&(V="/"+ie.join(".")+V),this.hostname=re.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),we||(this.hostname=o.toASCII(this.hostname));var ee=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+ee,this.href+=this.host,we&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),V[0]!=="/"&&(V="/"+V))}if(!x[le])for(var ae=0,Ie=u.length;ae<Ie;ae++){var P=u[ae];if(V.indexOf(P)!==-1){var D=encodeURIComponent(P);D===P&&(D=escape(P)),V=V.split(P).join(D)}}var B=V.indexOf("#");B!==-1&&(this.hash=V.substr(B),V=V.slice(0,B));var Q=V.indexOf("?");if(Q!==-1?(this.search=V.substr(Q),this.query=V.substr(Q+1),G&&(this.query=E.parse(this.query)),V=V.slice(0,Q)):G&&(this.search="",this.query={}),V&&(this.pathname=V),M[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ee=this.pathname||"",de=this.search||"";this.path=ee+de}return this.href=this.format(),this};function R(k){return s.isString(k)&&(k=C(k)),k instanceof l?k.format():l.prototype.format.call(k)}l.prototype.format=function(){var k=this.auth||"";k&&(k=encodeURIComponent(k),k=k.replace(/%3A/i,":"),k+="@");var G=this.protocol||"",N=this.pathname||"",Z=this.hash||"",H=!1,j="";this.host?H=k+this.host:this.hostname&&(H=k+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(j=E.stringify(this.query));var z=this.search||j&&"?"+j||"";return G&&G.substr(-1)!==":"&&(G+=":"),this.slashes||(!G||M[G])&&H!==!1?(H="//"+(H||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):H||(H=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),z&&z.charAt(0)!=="?"&&(z="?"+z),N=N.replace(/[?#]/g,function(V){return encodeURIComponent(V)}),z=z.replace("#","%23"),G+H+N+z+Z};function I(k,G){return C(k,!1,!0).resolve(G)}l.prototype.resolve=function(k){return this.resolveObject(C(k,!1,!0)).format()};function O(k,G){return k?C(k,!1,!0).resolveObject(G):G}l.prototype.resolveObject=function(k){if(s.isString(k)){var G=new l;G.parse(k,!1,!0),k=G}for(var N=new l,Z=Object.keys(this),H=0;H<Z.length;H++){var j=Z[H];N[j]=this[j]}if(N.hash=k.hash,k.href==="")return N.href=N.format(),N;if(k.slashes&&!k.protocol){for(var z=Object.keys(k),V=0;V<z.length;V++){var J=z[V];J!=="protocol"&&(N[J]=k[J])}return M[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N}if(k.protocol&&k.protocol!==N.protocol){if(!M[k.protocol]){for(var ne=Object.keys(k),le=0;le<ne.length;le++){var ue=ne[le];N[ue]=k[ue]}return N.href=N.format(),N}if(N.protocol=k.protocol,!k.host&&!b[k.protocol]){for(var Ie=(k.pathname||"").split("/");Ie.length&&!(k.host=Ie.shift()););k.host||(k.host=""),k.hostname||(k.hostname=""),Ie[0]!==""&&Ie.unshift(""),Ie.length<2&&Ie.unshift(""),N.pathname=Ie.join("/")}else N.pathname=k.pathname;if(N.search=k.search,N.query=k.query,N.host=k.host||"",N.auth=k.auth,N.hostname=k.hostname||k.host,N.port=k.port,N.pathname||N.search){var K=N.pathname||"",ae=N.search||"";N.path=K+ae}return N.slashes=N.slashes||k.slashes,N.href=N.format(),N}var se=N.pathname&&N.pathname.charAt(0)==="/",fe=k.host||k.pathname&&k.pathname.charAt(0)==="/",he=fe||se||N.host&&k.pathname,we=he,xe=N.pathname&&N.pathname.split("/")||[],Ie=k.pathname&&k.pathname.split("/")||[],ge=N.protocol&&!M[N.protocol];if(ge&&(N.hostname="",N.port=null,N.host&&(xe[0]===""?xe[0]=N.host:xe.unshift(N.host)),N.host="",k.protocol&&(k.hostname=null,k.port=null,k.host&&(Ie[0]===""?Ie[0]=k.host:Ie.unshift(k.host)),k.host=null),he=he&&(Ie[0]===""||xe[0]==="")),fe)N.host=k.host||k.host===""?k.host:N.host,N.hostname=k.hostname||k.hostname===""?k.hostname:N.hostname,N.search=k.search,N.query=k.query,xe=Ie;else if(Ie.length)xe||(xe=[]),xe.pop(),xe=xe.concat(Ie),N.search=k.search,N.query=k.query;else if(!s.isNullOrUndefined(k.search)){if(ge){N.hostname=N.host=xe.shift();var Oe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Oe&&(N.auth=Oe.shift(),N.host=N.hostname=Oe.shift())}return N.search=k.search,N.query=k.query,(!s.isNull(N.pathname)||!s.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!xe.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var me=xe.slice(-1)[0],pe=(N.host||k.host||xe.length>1)&&(me==="."||me==="..")||me==="",re=0,ie=xe.length;ie>=0;ie--)me=xe[ie],me==="."?xe.splice(ie,1):me===".."?(xe.splice(ie,1),re++):re&&(xe.splice(ie,1),re--);if(!he&&!we)for(;re--;re)xe.unshift("..");he&&xe[0]!==""&&(!xe[0]||xe[0].charAt(0)!=="/")&&xe.unshift(""),pe&&xe.join("/").substr(-1)!=="/"&&xe.push("");var Y=xe[0]===""||xe[0]&&xe[0].charAt(0)==="/";if(ge){N.hostname=N.host=Y?"":xe.length?xe.shift():"";var Oe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Oe&&(N.auth=Oe.shift(),N.host=N.hostname=Oe.shift())}return he=he||N.host&&xe.length,he&&!Y&&xe.unshift(""),xe.length?N.pathname=xe.join("/"):(N.pathname=null,N.path=null),(!s.isNull(N.pathname)||!s.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=k.auth||N.auth,N.slashes=N.slashes||k.slashes,N.href=N.format(),N},l.prototype.parseHost=function(){var k=this.host,G=d.exec(k);G&&(G=G[0],G!==":"&&(this.port=G.substr(1)),k=k.substr(0,k.length-G.length)),k&&(this.hostname=k)}},{"./util":181,punycode:134,querystring:137}],181:[function(r,i,a){"use strict";i.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},{}],182:[function(r,i,a){(function(o){(function(){var s={};typeof i=="object"?i.exports=s:self.UTIF=s;var l;typeof r=="function"?l=r("pako"):l=self.pako;function c(){(typeof o=="undefined"||o.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(d,m){(function(){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},h=function(){function v(y){this.message="JPEG error: "+y}return v.prototype=Error(),v.prototype.name="JpegError",v.constructor=v}(),u=function(){function v(y,p){this.message=y,this.g=p}return v.prototype=Error(),v.prototype.name="DNLMarkerError",v.constructor=v}();(function(){function v(){this.M=null,this.B=-1}function y(b,M){for(var E=0,C=[],R,I,O=16;0<O&&!b[O-1];)O--;C.push({children:[],index:0});var k=C[0],G;for(R=0;R<O;R++){for(I=0;I<b[R];I++){for(k=C.pop(),k.children[k.index]=M[E];0<k.index;)k=C.pop();for(k.index++,C.push(k);C.length<=R;)C.push(G={children:[],index:0}),k.children[k.index]=G.children,k=G;E++}R+1<O&&(C.push(G={children:[],index:0}),k.children[k.index]=G.children,k=G)}return C[0].children}function p(b,M,E,C,R,I,O,k,G){function N(){if(0<fe)return fe--,se>>fe&1;if(se=b[M++],se===255){var B=b[M++];if(B){if(B===220&&ue){M+=2;var Q=b[M++]<<8|b[M++];if(0<Q&&Q!==E.g)throw new u("Found DNL marker (0xFFDC) while parsing scan data",Q)}throw new h("unexpected marker "+(se<<8|B).toString(16))}}return fe=7,se>>>7}function Z(B){for(;;){if(B=B[N()],typeof B=="number")return B;if((typeof B=="undefined"?"undefined":f(B))!=="object")throw new h("invalid huffman sequence")}}function H(B){for(var Q=0;0<B;)Q=Q<<1|N(),B--;return Q}function j(B){if(B===1)return N()===1?1:-1;var Q=H(B);return Q>=1<<B-1?Q:Q+(-1<<B)+1}function z(B,Q){var de=Z(B.D);for(de=de===0?0:j(de),B.a[Q]=B.m+=de,de=1;64>de;){var Ce=Z(B.o),be=Ce&15;if(Ce>>=4,be===0){if(15>Ce)break;de+=16}else de+=Ce,B.a[Q+x[de]]=j(be),de++}}function V(B,Q){var de=Z(B.D);de=de===0?0:j(de)<<G,B.a[Q]=B.m+=de}function J(B,Q){B.a[Q]|=N()<<G}function ne(B,Q){if(0<he)he--;else for(var de=I;de<=O;){var Ce=Z(B.o),be=Ce&15;if(Ce>>=4,be===0){if(15>Ce){he=H(Ce)+(1<<Ce)-1;break}de+=16}else de+=Ce,B.a[Q+x[de]]=j(be)*(1<<G),de++}}function le(B,Q){for(var de=I,Ce=0,be;de<=O;){be=Q+x[de];var Se=0>B.a[be]?-1:1;switch(we){case 0:if(Ce=Z(B.o),be=Ce&15,Ce>>=4,be===0)15>Ce?(he=H(Ce)+(1<<Ce),we=4):(Ce=16,we=1);else{if(be!==1)throw new h("invalid ACn encoding");xe=j(be),we=Ce?2:3}continue;case 1:case 2:B.a[be]?B.a[be]+=Se*(N()<<G):(Ce--,Ce===0&&(we=we===2?3:0));break;case 3:B.a[be]?B.a[be]+=Se*(N()<<G):(B.a[be]=xe<<G,we=0);break;case 4:B.a[be]&&(B.a[be]+=Se*(N()<<G))}de++}we===4&&(he--,he===0&&(we=0))}for(var ue=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,K=E.P,ae=M,se=0,fe=0,he=0,we=0,xe,Ie=C.length,ge,Oe,me,pe,re=E.S?I===0?k===0?V:J:k===0?ne:le:z,ie=0,Y=Ie===1?C[0].c*C[0].l:K*E.O,ee,W;ie<Y;){var P=R?Math.min(Y-ie,R):Y;for(ge=0;ge<Ie;ge++)C[ge].m=0;if(he=0,Ie===1){var D=C[0];for(pe=0;pe<P;pe++)re(D,64*((D.c+1)*(ie/D.c|0)+ie%D.c)),ie++}else for(pe=0;pe<P;pe++){for(ge=0;ge<Ie;ge++)for(D=C[ge],ee=D.h,W=D.j,Oe=0;Oe<W;Oe++)for(me=0;me<ee;me++)re(D,64*((D.c+1)*((ie/K|0)*D.j+Oe)+(ie%K*D.h+me)));ie++}if(fe=0,(D=_(b,M))&&D.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+D.f),M=D.offset),D=D&&D.F,!D||65280>=D)throw new h("marker was not found");if(65488<=D&&65495>=D)M+=2;else break}return(D=_(b,M))&&D.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+D.f),M=D.offset),M-ae}function g(b,M){for(var E=M.c,C=M.l,R=new Int16Array(64),I=0;I<C;I++)for(var O=0;O<E;O++){var k=64*((M.c+1)*I+O),G=R,N=M.G,Z=M.a;if(!N)throw new h("missing required Quantization Table.");for(var H=0;64>H;H+=8){var j=Z[k+H],z=Z[k+H+1],V=Z[k+H+2],J=Z[k+H+3],ne=Z[k+H+4],le=Z[k+H+5],ue=Z[k+H+6],K=Z[k+H+7];if(j*=N[H],(z|V|J|ne|le|ue|K)==0)j=5793*j+512>>10,G[H]=j,G[H+1]=j,G[H+2]=j,G[H+3]=j,G[H+4]=j,G[H+5]=j,G[H+6]=j,G[H+7]=j;else{z*=N[H+1],V*=N[H+2],J*=N[H+3],ne*=N[H+4],le*=N[H+5],ue*=N[H+6],K*=N[H+7];var ae=5793*j+128>>8,se=5793*ne+128>>8,fe=V,he=ue;ne=2896*(z-K)+128>>8,K=2896*(z+K)+128>>8,J<<=4,le<<=4,ae=ae+se+1>>1,se=ae-se,j=3784*fe+1567*he+128>>8,fe=1567*fe-3784*he+128>>8,he=j,ne=ne+le+1>>1,le=ne-le,K=K+J+1>>1,J=K-J,ae=ae+he+1>>1,he=ae-he,se=se+fe+1>>1,fe=se-fe,j=2276*ne+3406*K+2048>>12,ne=3406*ne-2276*K+2048>>12,K=j,j=799*J+4017*le+2048>>12,J=4017*J-799*le+2048>>12,le=j,G[H]=ae+K,G[H+7]=ae-K,G[H+1]=se+le,G[H+6]=se-le,G[H+2]=fe+J,G[H+5]=fe-J,G[H+3]=he+ne,G[H+4]=he-ne}}for(N=0;8>N;++N)j=G[N],z=G[N+8],V=G[N+16],J=G[N+24],ne=G[N+32],le=G[N+40],ue=G[N+48],K=G[N+56],(z|V|J|ne|le|ue|K)==0?(j=5793*j+8192>>14,j=-2040>j?0:2024<=j?255:j+2056>>4,Z[k+N]=j,Z[k+N+8]=j,Z[k+N+16]=j,Z[k+N+24]=j,Z[k+N+32]=j,Z[k+N+40]=j,Z[k+N+48]=j,Z[k+N+56]=j):(ae=5793*j+2048>>12,se=5793*ne+2048>>12,fe=V,he=ue,ne=2896*(z-K)+2048>>12,K=2896*(z+K)+2048>>12,ae=(ae+se+1>>1)+4112,se=ae-se,j=3784*fe+1567*he+2048>>12,fe=1567*fe-3784*he+2048>>12,he=j,ne=ne+le+1>>1,le=ne-le,K=K+J+1>>1,J=K-J,ae=ae+he+1>>1,he=ae-he,se=se+fe+1>>1,fe=se-fe,j=2276*ne+3406*K+2048>>12,ne=3406*ne-2276*K+2048>>12,K=j,j=799*J+4017*le+2048>>12,J=4017*J-799*le+2048>>12,le=j,j=ae+K,K=ae-K,z=se+le,ue=se-le,V=fe+J,le=fe-J,J=he+ne,ne=he-ne,j=16>j?0:4080<=j?255:j>>4,z=16>z?0:4080<=z?255:z>>4,V=16>V?0:4080<=V?255:V>>4,J=16>J?0:4080<=J?255:J>>4,ne=16>ne?0:4080<=ne?255:ne>>4,le=16>le?0:4080<=le?255:le>>4,ue=16>ue?0:4080<=ue?255:ue>>4,K=16>K?0:4080<=K?255:K>>4,Z[k+N]=j,Z[k+N+8]=z,Z[k+N+16]=V,Z[k+N+24]=J,Z[k+N+32]=ne,Z[k+N+40]=le,Z[k+N+48]=ue,Z[k+N+56]=K)}return M.a}function _(b,M){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:M,C=b.length-1;if(E=E<M?E:M,M>=C)return null;var R=b[M]<<8|b[M+1];if(65472<=R&&65534>=R)return{f:null,F:R,offset:M};for(var I=b[E]<<8|b[E+1];!(65472<=I&&65534>=I);){if(++E>=C)return null;I=b[E]<<8|b[E+1]}return{f:R.toString(16),F:I,offset:E}}var x=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);v.prototype={parse:function(b){function M(){var fe=b[O]<<8|b[O+1];return O+=2,fe}function E(){var fe=M();fe=O+fe-2;var he=_(b,fe,O);return he&&he.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+he.f),fe=he.offset),fe=b.subarray(O,fe),O+=fe.length,fe}function C(fe){for(var he=Math.ceil(fe.v/8/fe.s),we=Math.ceil(fe.g/8/fe.u),xe=0;xe<fe.b.length;xe++){ae=fe.b[xe];var Ie=Math.ceil(Math.ceil(fe.v/8)*ae.h/fe.s),ge=Math.ceil(Math.ceil(fe.g/8)*ae.j/fe.u);ae.a=new Int16Array(64*we*ae.j*(he*ae.h+1)),ae.c=Ie,ae.l=ge}fe.P=he,fe.O=we}var R=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,I=R===void 0?null:R,O=0,k=null,G=0;R=[];var N=[],Z=[],H=M();if(H!==65496)throw new h("SOI not found");for(H=M();H!==65497;){switch(H){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var j=E();H===65518&&j[0]===65&&j[1]===100&&j[2]===111&&j[3]===98&&j[4]===101&&(k={version:j[5]<<8|j[6],Y:j[7]<<8|j[8],Z:j[9]<<8|j[10],W:j[11]});break;case 65499:H=M()+O-2;for(var z;O<H;){var V=b[O++],J=new Uint16Array(64);if(V>>4==0)for(j=0;64>j;j++)z=x[j],J[z]=b[O++];else if(V>>4==1)for(j=0;64>j;j++)z=x[j],J[z]=M();else throw new h("DQT - invalid table spec");R[V&15]=J}break;case 65472:case 65473:case 65474:if(ne)throw new h("Only single frame JPEGs supported");M();var ne={};for(ne.X=H===65473,ne.S=H===65474,ne.precision=b[O++],H=M(),ne.g=I||H,ne.v=M(),ne.b=[],ne.C={},j=b[O++],H=J=V=0;H<j;H++){z=b[O];var le=b[O+1]>>4,ue=b[O+1]&15;V<le&&(V=le),J<ue&&(J=ue),le=ne.b.push({h:le,j:ue,T:b[O+2],G:null}),ne.C[z]=le-1,O+=3}ne.s=V,ne.u=J,C(ne);break;case 65476:for(z=M(),H=2;H<z;){for(V=b[O++],J=new Uint8Array(16),j=le=0;16>j;j++,O++)le+=J[j]=b[O];for(ue=new Uint8Array(le),j=0;j<le;j++,O++)ue[j]=b[O];H+=17+le,(V>>4==0?Z:N)[V&15]=y(J,ue)}break;case 65501:M();var K=M();break;case 65498:for(j=++G==1&&!I,M(),V=b[O++],z=[],H=0;H<V;H++){J=ne.C[b[O++]];var ae=ne.b[J];J=b[O++],ae.D=Z[J>>4],ae.o=N[J&15],z.push(ae)}H=b[O++],V=b[O++],J=b[O++];try{var se=p(b,O,ne,z,K,H,V,J>>4,J&15,j);O+=se}catch(fe){if(fe instanceof u)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(b,{N:fe.g});throw fe}break;case 65500:O+=4;break;case 65535:b[O]!==255&&O--;break;default:if(b[O-3]===255&&192<=b[O-2]&&254>=b[O-2])O-=3;else if((j=_(b,O-2))&&j.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+j.f),O=j.offset;else throw new h("unknown marker "+H.toString(16))}H=M()}for(this.width=ne.v,this.height=ne.g,this.A=k,this.b=[],H=0;H<ne.b.length;H++)ae=ne.b[H],(K=R[ae.T])&&(ae.G=K),this.b.push({R:g(ne,ae),U:ae.h/ne.s,V:ae.j/ne.u,c:ae.c,l:ae.l});this.i=this.b.length},L:function(b,M){var E=this.width/b,C=this.height/M,R,I,O=this.b.length,k=b*M*O,G=new Uint8ClampedArray(k),N=new Uint32Array(b);for(I=0;I<O;I++){var Z=this.b[I],H=Z.U*E,j=Z.V*C,z=I,V=Z.R,J=Z.c+1<<3;for(R=0;R<b;R++)Z=0|R*H,N[R]=(Z&4294967288)<<3|Z&7;for(H=0;H<M;H++)for(Z=0|H*j,Z=J*(Z&4294967288)|(Z&7)<<3,R=0;R<b;R++)G[z]=V[Z+N[R]],z+=O}if(C=this.M)for(I=0;I<k;)for(E=Z=0;Z<O;Z++,I++,E+=2)G[I]=(G[I]*C[E]>>8)+C[E+1];return G},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(b){for(var M,E,C,R=0,I=b.length;R<I;R+=3)M=b[R],E=b[R+1],C=b[R+2],b[R]=M-179.456+1.402*C,b[R+1]=M+135.459-.344*E-.714*C,b[R+2]=M-226.816+1.772*E;return b},K:function(b){for(var M,E,C,R,I=0,O=0,k=b.length;O<k;O+=4)M=b[O],E=b[O+1],C=b[O+2],R=b[O+3],b[I++]=-122.67195406894+E*(-660635669420364e-19*E+.000437130475926232*C-54080610064599e-18*M+.00048449797120281*R-.154362151871126)+C*(-.000957964378445773*C+.000817076911346625*M-.00477271405408747*R+1.53380253221734)+M*(.000961250184130688*M-.00266257332283933*R+.48357088451265)+R*(-.000336197177618394*R+.484791561490776),b[I++]=107.268039397724+E*(219927104525741e-19*E-.000640992018297945*C+.000659397001245577*M+.000426105652938837*R-.176491792462875)+C*(-.000778269941513683*C+.00130872261408275*M+.000770482631801132*R-.151051492775562)+M*(.00126935368114843*M-.00265090189010898*R+.25802910206845)+R*(-.000318913117588328*R-.213742400323665),b[I++]=-20.810012546947+E*(-.000570115196973677*E-263409051004589e-19*C+.0020741088115012*M-.00288260236853442*R+.814272968359295)+C*(-153496057440975e-19*C-.000132689043961446*M+.000560833691242812*R-.195152027534049)+M*(.00174418132927582*M-.00255243321439347*R+.116935020465145)+R*(-.000343531996510555*R+.24165260232407);return b.subarray(0,I)},J:function(b){for(var M,E,C,R=0,I=b.length;R<I;R+=4)M=b[R],E=b[R+1],C=b[R+2],b[R]=434.456-M-1.402*C,b[R+1]=119.541-M+.344*E+.714*C,b[R+2]=481.816-M-1.772*E;return b},H:function(b){for(var M,E,C,R,I=0,O=1/255,k=0,G=b.length;k<G;k+=4)M=b[k]*O,E=b[k+1]*O,C=b[k+2]*O,R=b[k+3]*O,b[I++]=255+M*(-4.387332384609988*M+54.48615194189176*E+18.82290502165302*C+212.25662451639585*R-285.2331026137004)+E*(1.7149763477362134*E-5.6096736904047315*C-17.873870861415444*R-5.497006427196366)+C*(-2.5217340131683033*C-21.248923337353073*R+17.5119270841813)-R*(21.86122147463605*R+189.48180835922747),b[I++]=255+M*(8.841041422036149*M+60.118027045597366*E+6.871425592049007*C+31.159100130055922*R-79.2970844816548)+E*(-15.310361306967817*E+17.575251261109482*C+131.35250912493976*R-190.9453302588951)+C*(4.444339102852739*C+9.8632861493405*R-24.86741582555878)-R*(20.737325471181034*R+187.80453709719578),b[I++]=255+M*(.8842522430003296*M+8.078677503112928*E+30.89978309703729*C-.23883238689178934*R-14.183576799673286)+E*(10.49593273432072*E+63.02378494754052*C+50.606957656360734*R-112.23884253719248)+C*(.03296041114873217*C+115.60384449646641*R-193.58209356861505)-R*(22.33816807309886*R+180.12613974708367);return b.subarray(0,I)},getData:function(b,M,E){if(4<this.i)throw new h("Unsupported color mode");if(b=this.L(b,M),this.i===1&&E){E=b.length,M=new Uint8ClampedArray(3*E);for(var C=0,R=0;R<E;R++){var I=b[R];M[C++]=I,M[C++]=I,M[C++]=I}return M}if(this.i===3&&this.w())return this.I(b);if(this.i===4){if(this.w())return E?this.K(b):this.J(b);if(E)return this.H(b)}return b}},d.JpegDecoder=v})()})(),d.encodeImage=function(f,h,u,v){var y={t256:[h],t257:[u],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[u],t279:[h*u*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(v)for(var p in v)y[p]=v[p];for(var g=new Uint8Array(d.encode([y])),_=new Uint8Array(f),x=new Uint8Array(1e3+h*u*4),p=0;p<g.length;p++)x[p]=g[p];for(var p=0;p<_.length;p++)x[1e3+p]=_[p];return x.buffer},d.encode=function(f){var h=new Uint8Array(2e4),u=4,v=d._binBE;h[0]=77,h[1]=77,h[3]=42;var y=8;v.writeUint(h,u,y),u+=4;for(var p=0;p<f.length;p++){var g=d._writeIFD(v,h,y,f[p]);y=g[1],p<f.length-1&&v.writeUint(h,g[0],y)}return h.slice(0,y).buffer},d.decode=function(f){d.decode._decodeG3.allow2D=null;var h=new Uint8Array(f),u=0,v=d._binBE.readASCII(h,u,2);u+=2;var y=v=="II"?d._binLE:d._binBE,p=y.readUshort(h,u);u+=2;var g=y.readUint(h,u);u+=4;for(var _=[];;){var x=d._readIFD(y,h,g,_);if(g=y.readUint(h,x),g==0)break}return _},d.decodeImages=function(f,h){for(var u=new Uint8Array(f),v=d._binBE.readASCII(u,0,2),y=0;y<h.length;y++){var p=h[y];if(p.t256!=null){p.isLE=v=="II",p.width=p.t256[0],p.height=p.t257[0];var g=p.t259?p.t259[0]:1,_=p.t266?p.t266[0]:1;p.t284&&p.t284[0]==2&&c("PlanarConfiguration 2 should not be used!");var x=(p.t258?Math.min(32,p.t258[0]):1)*(p.t277?p.t277[0]:1),b=Math.ceil(p.width*x/8)*8,M=p.t273;M==null&&(M=p.t324);var E=p.t279;g==1&&M.length==1&&(E=[p.height*(b>>>3)]),E==null&&(E=p.t325);var C=new Uint8Array(p.height*(b>>>3)),R=0;if(p.t322!=null){for(var I=p.t322[0],O=p.t323[0],k=Math.floor((p.width+I-1)/I),G=Math.floor((p.height+O-1)/O),N=new Uint8Array(Math.ceil(I*O*x/8)|0),Z=0;Z<G;Z++)for(var H=0;H<k;H++){for(var j=Z*k+H,z=0;z<N.length;z++)N[z]=0;d.decode._decompress(p,u,M[j],E[j],g,N,0,_),g==6?C=N:d._copyTile(N,Math.ceil(I*x/8)|0,O,C,Math.ceil(p.width*x/8)|0,p.height,Math.ceil(H*I*x/8)|0,Z*O)}R=C.length*8}else{var V=p.t278?p.t278[0]:p.height;V=Math.min(V,p.height);for(var j=0;j<M.length;j++)d.decode._decompress(p,u,M[j],E[j],g,C,Math.ceil(R/8)|0,_),R+=b*V;R=Math.min(R,C.length*8)}p.data=new Uint8Array(C.buffer,0,Math.ceil(R/8)|0)}}},d.decode._decompress=function(f,h,u,v,y,p,g,_){if(y==1)for(var x=0;x<v;x++)p[g+x]=h[u+x];else if(y==3)d.decode._decodeG3(h,u,v,p,g,f.width,_);else if(y==4)d.decode._decodeG4(h,u,v,p,g,f.width,_);else if(y==5)d.decode._decodeLZW(h,u,p,g);else if(y==6)d.decode._decodeOldJPEG(f,h,u,v,p,g);else if(y==7)d.decode._decodeNewJPEG(f,h,u,v,p,g);else if(y==8)for(var b=new Uint8Array(h.buffer,u,v),M=m.inflate(b),E=0;E<M.length;E++)p[g+E]=M[E];else y==32773?d.decode._decodePackBits(h,u,v,p,g):y==32809?d.decode._decodeThunder(h,u,v,p,g):c("Unknown compression",y);if(f.t317&&f.t317[0]==2)for(var C=f.t277?f.t277[0]:1,R=f.t278?f.t278[0]:f.height,I=f.width*C,O=0;O<R;O++){var k=g+O*I;if(C==3)for(var x=3;x<I;x+=3)p[k+x]=p[k+x]+p[k+x-3]&255,p[k+x+1]=p[k+x+1]+p[k+x-2]&255,p[k+x+2]=p[k+x+2]+p[k+x-1]&255;else for(var x=C;x<I;x++)p[k+x]=p[k+x]+p[k+x-C]&255}},d.decode._decodeNikon=function(f,h,u,v,y){var p=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],g,_,x,b,M,E,C,R,I=0,O=0,k=0,G,N,u,Z,H;c(f.slice(h,h+100)),g=f[h],h++,_=f[h],h++,c(g.toString(16),_.toString(16),u)},d.decode._decodeNewJPEG=function(f,h,u,v,y,p){var g=f.t347,_=g?g.length:0,x=new Uint8Array(_+v);if(g){for(var b=216,M=217,E=0,C=0;C<_-1&&!(g[C]==255&&g[C+1]==M);C++)x[E++]=g[C];var R=h[u],I=h[u+1];(R!=255||I!=b)&&(x[E++]=R,x[E++]=I);for(var C=2;C<v;C++)x[E++]=h[u+C]}else for(var C=0;C<v;C++)x[C]=h[u+C];if(f.t262==32803){var O=f.t258[0],k=new LosslessJpegDecoder,G=k.decode(x),N=G.length;if(O==16)for(var C=0;C<N;C++)y[p++]=G[C]&255,y[p++]=G[C]>>>8;else if(O==12)for(var C=0;C<N;C+=2)y[p++]=G[C]>>>4,y[p++]=(G[C]<<4|G[C+1]>>>8)&255,y[p++]=G[C+1]&255;else throw new Error("unsupported bit depth "+O)}else{var Z=new d.JpegDecoder;Z.parse(x);for(var H=Z.getData(Z.width,Z.height),C=0;C<H.length;C++)y[p+C]=H[C]}f.t262[0]==6&&(f.t262[0]=2)},d.decode._decodeOldJPEGInit=function(f,h,u,v){var y=216,p=217,g=219,_=196,x=221,b=192,M=218,E=0,C=0,R,I,O=!1,k,G,N,Z=f.t513,H=Z?Z[0]:0,j=f.t514,z=j?j[0]:0,V=f.t324||f.t273||Z,J=f.t530,ne=0,le=0,ue=f.t277?f.t277[0]:1,K=f.t515;if(V&&(C=V[0],O=V.length>1),!O){if(h[u]==255&&h[u+1]==y)return{jpegOffset:u};if(Z!=null&&(h[u+H]==255&&h[u+H+1]==y?E=u+H:c("JPEGInterchangeFormat does not point to SOI"),j==null?c("JPEGInterchangeFormatLength field is missing"):(H>=C||H+z<=C)&&c("JPEGInterchangeFormatLength field value is invalid"),E!=null))return{jpegOffset:E}}if(J!=null&&(ne=J[0],le=J[1]),Z!=null&&j!=null)if(z>=2&&H+z<=C){for(h[u+H+z-2]==255&&h[u+H+z-1]==y?R=new Uint8Array(z-2):R=new Uint8Array(z),k=0;k<R.length;k++)R[k]=h[u+H+k];c("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else c("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(R==null){var ae=0,se=[];se[ae++]=255,se[ae++]=y;var fe=f.t519;if(fe==null)throw new Error("JPEGQTables tag is missing");for(k=0;k<fe.length;k++)for(se[ae++]=255,se[ae++]=g,se[ae++]=0,se[ae++]=67,se[ae++]=k,G=0;G<64;G++)se[ae++]=h[u+fe[k]+G];for(N=0;N<2;N++){var he=f[N==0?"t520":"t521"];if(he==null)throw new Error((N==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(k=0;k<he.length;k++){se[ae++]=255,se[ae++]=_;var we=19;for(G=0;G<16;G++)we+=h[u+he[k]+G];for(se[ae++]=we>>>8,se[ae++]=we&255,se[ae++]=k|N<<4,G=0;G<16;G++)se[ae++]=h[u+he[k]+G];for(G=0;G<we;G++)se[ae++]=h[u+he[k]+16+G]}}if(se[ae++]=255,se[ae++]=b,se[ae++]=0,se[ae++]=8+3*ue,se[ae++]=8,se[ae++]=f.height>>>8&255,se[ae++]=f.height&255,se[ae++]=f.width>>>8&255,se[ae++]=f.width&255,se[ae++]=ue,ue==1)se[ae++]=1,se[ae++]=17,se[ae++]=0;else for(k=0;k<3;k++)se[ae++]=k+1,se[ae++]=k!=0?17:(ne&15)<<4|le&15,se[ae++]=k;K!=null&&K[0]!=0&&(se[ae++]=255,se[ae++]=x,se[ae++]=0,se[ae++]=4,se[ae++]=K[0]>>>8&255,se[ae++]=K[0]&255),R=new Uint8Array(se)}var xe=-1;for(k=0;k<R.length-1;){if(R[k]==255&&R[k+1]==b){xe=k;break}k++}if(xe==-1){var Ie=new Uint8Array(R.length+10+3*ue);Ie.set(R);var ge=R.length;if(xe=R.length,R=Ie,R[ge++]=255,R[ge++]=b,R[ge++]=0,R[ge++]=8+3*ue,R[ge++]=8,R[ge++]=f.height>>>8&255,R[ge++]=f.height&255,R[ge++]=f.width>>>8&255,R[ge++]=f.width&255,R[ge++]=ue,ue==1)R[ge++]=1,R[ge++]=17,R[ge++]=0;else for(k=0;k<3;k++)R[ge++]=k+1,R[ge++]=k!=0?17:(ne&15)<<4|le&15,R[ge++]=k}if(h[C]==255&&h[C+1]==M){var Oe=h[C+2]<<8|h[C+3];for(I=new Uint8Array(Oe+2),I[0]=h[C],I[1]=h[C+1],I[2]=h[C+2],I[3]=h[C+3],k=0;k<Oe-2;k++)I[k+4]=h[C+k+4]}else{I=new Uint8Array(2+6+2*ue);var me=0;if(I[me++]=255,I[me++]=M,I[me++]=0,I[me++]=6+2*ue,I[me++]=ue,ue==1)I[me++]=1,I[me++]=0;else for(k=0;k<3;k++)I[me++]=k+1,I[me++]=k<<4|k;I[me++]=0,I[me++]=63,I[me++]=0}return{jpegOffset:u,tables:R,sosMarker:I,sofPosition:xe}},d.decode._decodeOldJPEG=function(f,h,u,v,y,p){var g,_,x,b,M,E=d.decode._decodeOldJPEGInit(f,h,u,v);if(E.jpegOffset!=null)for(_=u+v-E.jpegOffset,b=new Uint8Array(_),g=0;g<_;g++)b[g]=h[E.jpegOffset+g];else{for(x=E.tables.length,b=new Uint8Array(x+E.sosMarker.length+v+2),b.set(E.tables),M=x,b[E.sofPosition+5]=f.height>>>8&255,b[E.sofPosition+6]=f.height&255,b[E.sofPosition+7]=f.width>>>8&255,b[E.sofPosition+8]=f.width&255,(h[u]!=255||h[u+1]!=SOS)&&(b.set(E.sosMarker,bufoff),bufoff+=sosMarker.length),g=0;g<v;g++)b[bufoff++]=h[u+g];b[bufoff++]=255,b[bufoff++]=EOI}var C=new d.JpegDecoder;C.parse(b);for(var R=C.getData(C.width,C.height),g=0;g<R.length;g++)y[p+g]=R[g];f.t262[0]==6&&(f.t262[0]=2)},d.decode._decodePackBits=function(f,h,u,v,y){for(var p=new Int8Array(f.buffer),g=new Int8Array(v.buffer),_=h+u;h<_;){var x=p[h];if(h++,x>=0&&x<128)for(var b=0;b<x+1;b++)g[y]=p[h],y++,h++;if(x>=-127&&x<0){for(var b=0;b<-x+1;b++)g[y]=p[h],y++;h++}}},d.decode._decodeThunder=function(f,h,u,v,y){for(var p=[0,1,0,-1],g=[0,1,2,3,0,-3,-2,-1],_=h+u,x=y*2,b=0;h<_;){var M=f[h],E=M>>>6,C=M&63;if(h++,E==3&&(b=C&15,v[x>>>1]|=b<<4*(1-x&1),x++),E==0)for(var R=0;R<C;R++)v[x>>>1]|=b<<4*(1-x&1),x++;if(E==2)for(var R=0;R<2;R++){var I=C>>>3*(1-R)&7;I!=4&&(b+=g[I],v[x>>>1]|=b<<4*(1-x&1),x++)}if(E==1)for(var R=0;R<3;R++){var I=C>>>2*(2-R)&3;I!=2&&(b+=p[I],v[x>>>1]|=b<<4*(1-x&1),x++)}}},d.decode._dmap={"1":0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},d.decode._lens=function(){var f=function(x,b,M,E){for(var C=0;C<b.length;C++)x[b[C]]=M+C*E},h="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",u="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",v="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",y="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",p="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";h=h.split(","),u=u.split(","),v=v.split(","),y=y.split(","),p=p.split(",");var g={},_={};return f(g,h,0,1),f(g,v,64,64),f(g,p,1792,64),f(_,u,0,1),f(_,y,64,64),f(_,p,1792,64),[g,_]}(),d.decode._decodeG4=function(f,h,u,v,y,p,g){for(var _=d.decode,x=h<<3,b=0,M="",E=[],C=[],R=0;R<p;R++)C.push(0);C=_._makeDiff(C);for(var I=0,O=0,k=0,G=0,N=0,Z=0,H=0,j="",z=0,V=Math.ceil(p/8)*8;x>>>3<h+u;){G=_._findDiff(C,I+(I==0?0:1),1-Z),N=_._findDiff(C,G,Z);var J=0;if(g==1&&(J=f[x>>>3]>>>7-(x&7)&1),g==2&&(J=f[x>>>3]>>>(x&7)&1),x++,M+=J,j=="H"){if(_._lens[Z][M]!=null){var ne=_._lens[Z][M];M="",b+=ne,ne<64&&(_._addNtimes(E,b,Z),I+=b,Z=1-Z,b=0,z--,z==0&&(j=""))}}else M=="0001"&&(M="",_._addNtimes(E,N-I,Z),I=N),M=="001"&&(M="",j="H",z=2),_._dmap[M]!=null&&(O=G+_._dmap[M],_._addNtimes(E,O-I,Z),I=O,M="",Z=1-Z);E.length==p&&j==""&&(_._writeBits(E,v,y*8+H*V),Z=0,H++,I=0,C=_._makeDiff(E),E=[])}},d.decode._findDiff=function(f,h,u){for(var v=0;v<f.length;v+=2)if(f[v]>=h&&f[v+1]==u)return f[v]},d.decode._makeDiff=function(f){var h=[];f[0]==1&&h.push(0,1);for(var u=1;u<f.length;u++)f[u-1]!=f[u]&&h.push(u,f[u]);return h.push(f.length,0,f.length,1),h},d.decode._decodeG3=function(f,h,u,v,y,p,g){for(var _=d.decode,x=h<<3,b=0,M="",E=[],C=[],R=0;R<p;R++)E.push(0);for(var I=0,O=0,k=0,G=0,N=0,Z=0,H=-1,j="",z=0,V=!1,J=Math.ceil(p/8)*8;x>>>3<h+u;){G=_._findDiff(C,I+(I==0?0:1),1-Z),N=_._findDiff(C,G,Z);var ne=0;if(g==1&&(ne=f[x>>>3]>>>7-(x&7)&1),g==2&&(ne=f[x>>>3]>>>(x&7)&1),x++,M+=ne,V){if(_._lens[Z][M]!=null){var le=_._lens[Z][M];M="",b+=le,le<64&&(_._addNtimes(E,b,Z),Z=1-Z,b=0)}}else if(j=="H"){if(_._lens[Z][M]!=null){var le=_._lens[Z][M];M="",b+=le,le<64&&(_._addNtimes(E,b,Z),I+=b,Z=1-Z,b=0,z--,z==0&&(j=""))}}else M=="0001"&&(M="",_._addNtimes(E,N-I,Z),I=N),M=="001"&&(M="",j="H",z=2),_._dmap[M]!=null&&(O=G+_._dmap[M],_._addNtimes(E,O-I,Z),I=O,M="",Z=1-Z);M.endsWith("000000000001")&&(H>=0&&_._writeBits(E,v,y*8+H*J),g==1&&(V=(f[x>>>3]>>>7-(x&7)&1)==1),g==2&&(V=(f[x>>>3]>>>(x&7)&1)==1),x++,_._decodeG3.allow2D==null&&(_._decodeG3.allow2D=V),_._decodeG3.allow2D||(V=!0,x--),M="",Z=0,H++,I=0,C=_._makeDiff(E),E=[])}E.length==p&&_._writeBits(E,v,y*8+H*J)},d.decode._addNtimes=function(f,h,u){for(var v=0;v<h;v++)f.push(u)},d.decode._writeBits=function(f,h,u){for(var v=0;v<f.length;v++)h[u+v>>>3]|=f[v]<<7-(u+v&7)},d.decode._decodeLZW=function(f,h,u,v){if(d.decode._lzwTab==null){for(var y=new Uint32Array(65535),p=new Uint16Array(65535),M=new Uint8Array(2e6),g=0;g<256;g++)M[g<<2]=g,y[g]=g<<2,p[g]=1;d.decode._lzwTab=[y,p,M]}for(var _=d.decode._copyData,x=d.decode._lzwTab[0],b=d.decode._lzwTab[1],M=d.decode._lzwTab[2],E=258,C=258<<2,R=9,I=h<<3,O=256,k=257,G=0,N=0,Z=0;G=f[I>>>3]<<16|f[I+8>>>3]<<8|f[I+16>>>3],N=G>>24-(I&7)-R&(1<<R)-1,I+=R,N!=k;){if(N==O){if(R=9,E=258,C=258<<2,G=f[I>>>3]<<16|f[I+8>>>3]<<8|f[I+16>>>3],N=G>>24-(I&7)-R&(1<<R)-1,I+=R,N==k)break;u[v]=N,v++}else if(N<E){var H=x[N],j=b[N];if(_(M,H,u,v,j),v+=j,Z>=E)x[E]=C,M[x[E]]=H[0],b[E]=1,C=C+1+3&~3,E++;else{x[E]=C;var z=x[Z],V=b[Z];_(M,z,M,C,V),M[C+V]=M[H],V++,b[E]=V,E++,C=C+V+3&~3}E+1==1<<R&&R++}else{if(Z>=E)x[E]=C,b[E]=0,E++;else{x[E]=C;var z=x[Z],V=b[Z];_(M,z,M,C,V),M[C+V]=M[C],V++,b[E]=V,E++,_(M,C,u,v,V),v+=V,C=C+V+3&~3}E+1==1<<R&&R++}Z=N}},d.decode._copyData=function(f,h,u,v,y){for(var p=0;p<y;p+=4)u[v+p]=f[h+p],u[v+p+1]=f[h+p+1],u[v+p+2]=f[h+p+2],u[v+p+3]=f[h+p+3]},d.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},d.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},d._readIFD=function(f,h,u,v){var y=f.readUshort(h,u);u+=2;var p={};v.push(p);for(var g=0;g<y;g++){var _=f.readUshort(h,u);u+=2;var x=f.readUshort(h,u);u+=2;var b=f.readUint(h,u);u+=4;var M=f.readUint(h,u);u+=4;var E=[];if(p["t"+_]=E,x==1||x==7)for(var C=0;C<b;C++)E.push(h[(b<5?u-4:M)+C]);if(x==2&&E.push(f.readASCII(h,b<5?u-4:M,b-1)),x==3)for(var C=0;C<b;C++)E.push(f.readUshort(h,(b<3?u-4:M)+2*C));if(x==4)for(var C=0;C<b;C++)E.push(f.readUint(h,(b<2?u-4:M)+4*C));if(x==5)for(var C=0;C<b;C++)E.push(f.readUint(h,M+C*8)/f.readUint(h,M+C*8+4));if(x==8)for(var C=0;C<b;C++)E.push(f.readShort(h,(b<3?u-4:M)+2*C));if(x==9)for(var C=0;C<b;C++)E.push(f.readInt(h,(b<2?u-4:M)+4*C));if(x==10)for(var C=0;C<b;C++)E.push(f.readInt(h,M+C*8)/f.readInt(h,M+C*8+4));if(x==11)for(var C=0;C<b;C++)E.push(f.readFloat(h,M+C*4));if(x==12)for(var C=0;C<b;C++)E.push(f.readDouble(h,M+C*8));if(b!=0&&E.length==0&&c("unknown TIFF tag type: ",x,"num:",b),_==330)for(var C=0;C<b;C++)d._readIFD(f,h,E[C],v)}return u},d._writeIFD=function(f,h,u,v){var y=Object.keys(v);f.writeUshort(h,u,y.length),u+=2;for(var p=u+y.length*12+4,g=0;g<y.length;g++){var _=y[g],x=parseInt(_.slice(1)),b=d.ttypes[x];if(b==null)throw new Error("unknown type of tag: "+x);var M=v[_];b==2&&(M=M[0]+"\0");var E=M.length;f.writeUshort(h,u,x),u+=2,f.writeUshort(h,u,b),u+=2,f.writeUint(h,u,E),u+=4;var C=[-1,1,1,2,4,8,0,0,0,0,0,0,8][b]*E,R=u;if(C>4&&(f.writeUint(h,u,p),R=p),b==2&&f.writeASCII(h,R,M),b==3)for(var I=0;I<E;I++)f.writeUshort(h,R+2*I,M[I]);if(b==4)for(var I=0;I<E;I++)f.writeUint(h,R+4*I,M[I]);if(b==5)for(var I=0;I<E;I++)f.writeUint(h,R+8*I,Math.round(M[I]*1e4)),f.writeUint(h,R+8*I+4,1e4);if(b==12)for(var I=0;I<E;I++)f.writeDouble(h,R+8*I,M[I]);C>4&&(C+=C&1,p+=C),u+=4}return[u,p]},d.toRGBA8=function(f){var h=f.width,u=f.height,v=h*u,y=v*4,p=f.data,g=new Uint8Array(v*4),_=f.t262[0],x=f.t258?Math.min(32,f.t258[0]):1,b=f.isLE?1:0;if(_==0)for(var M=Math.ceil(x*h/8),E=0;E<u;E++){var C=E*M,R=E*h;if(x==1)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+(I>>3)]>>7-(I&7)&1;g[O]=g[O+1]=g[O+2]=(1-k)*255,g[O+3]=255}if(x==4)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+(I>>1)]>>4-4*(I&1)&15;g[O]=g[O+1]=g[O+2]=(15-k)*17,g[O+3]=255}if(x==8)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+I];g[O]=g[O+1]=g[O+2]=255-k,g[O+3]=255}}else if(_==1)for(var M=Math.ceil(x*h/8),E=0;E<u;E++){var C=E*M,R=E*h;if(x==1)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+(I>>3)]>>7-(I&7)&1;g[O]=g[O+1]=g[O+2]=k*255,g[O+3]=255}if(x==2)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+(I>>2)]>>6-2*(I&3)&3;g[O]=g[O+1]=g[O+2]=k*85,g[O+3]=255}if(x==8)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+I];g[O]=g[O+1]=g[O+2]=k,g[O+3]=255}if(x==16)for(var I=0;I<h;I++){var O=R+I<<2,k=p[C+(2*I+b)];g[O]=g[O+1]=g[O+2]=Math.min(255,k),g[O+3]=255}}else if(_==2)if(x==8)if(f.t338)if(f.t338[0]>0)for(var I=0;I<y;I++)g[I]=p[I];else for(var I=0;I<y;I+=4)g[I]=p[I],g[I+1]=p[I+1],g[I+2]=p[I+2],g[I+3]=255;else{var G=f.t258?f.t258.length:3;if(G==4)for(var I=0;I<y;I++)g[I]=p[I];if(G==3)for(var I=0;I<v;I++){var O=I<<2,N=I*3;g[O]=p[N],g[O+1]=p[N+1],g[O+2]=p[N+2],g[O+3]=255}}else for(var I=0;I<v;I++){var O=I<<2,N=I*6;g[O]=p[N],g[O+1]=p[N+2],g[O+2]=p[N+4],g[O+3]=255}else if(_==3)for(var Z=f.t320,I=0;I<v;I++){var O=I<<2,H=p[I];g[O]=Z[H]>>8,g[O+1]=Z[256+H]>>8,g[O+2]=Z[512+H]>>8,g[O+3]=255}else if(_==5)for(var G=f.t258?f.t258.length:4,j=G>4?1:0,I=0;I<v;I++){var O=I<<2,z=I*G,V=255-p[z],J=255-p[z+1],ne=255-p[z+2],le=(255-p[z+3])*(1/255);g[O]=~~(V*le+.5),g[O+1]=~~(J*le+.5),g[O+2]=~~(ne*le+.5),g[O+3]=255*(1-j)+p[z+4]*j}else c("Unknown Photometric interpretation: "+_);return g},d.replaceIMG=function(){for(var f=document.getElementsByTagName("img"),h=0;h<f.length;h++){var u=f[h],v=u.getAttribute("src");if(v!=null){var y=v.split(".").pop().toLowerCase();if(!(y!="tif"&&y!="tiff")){var p=new XMLHttpRequest;d._xhrs.push(p),d._imgs.push(u),p.open("GET",v),p.responseType="arraybuffer",p.onload=d._imgLoaded,p.send()}}}},d._xhrs=[],d._imgs=[],d._imgLoaded=function(f){var h=f.target.response,u=d.decode(h),v=u[0];d.decodeImages(h,u);var y=d.toRGBA8(v),p=v.width,g=v.height,_=d._xhrs.indexOf(f.target),x=d._imgs[_];d._xhrs.splice(_,1),d._imgs.splice(_,1);var b=document.createElement("canvas");b.width=p,b.height=g;for(var M=b.getContext("2d"),E=M.createImageData(p,g),C=0;C<y.length;C++)E.data[C]=y[C];M.putImageData(E,0,0);for(var R=["style","class","id"],C=0;C<R.length;C++)b.setAttribute(R[C],x.getAttribute(R[C]));x.parentNode.replaceChild(b,x)},d._binBE={nextZero:function(f,h){for(;f[h]!=0;)h++;return h},readUshort:function(f,h){return f[h]<<8|f[h+1]},readShort:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+1],u[1]=f[h+0],d._binBE.i16[0]},readInt:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+3],u[1]=f[h+2],u[2]=f[h+1],u[3]=f[h+0],d._binBE.i32[0]},readUint:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+3],u[1]=f[h+2],u[2]=f[h+1],u[3]=f[h+0],d._binBE.ui32[0]},readASCII:function(f,h,u){for(var v="",y=0;y<u;y++)v+=String.fromCharCode(f[h+y]);return v},readFloat:function(f,h){for(var u=d._binBE.ui8,v=0;v<4;v++)u[v]=f[h+3-v];return d._binBE.fl32[0]},readDouble:function(f,h){for(var u=d._binBE.ui8,v=0;v<8;v++)u[v]=f[h+7-v];return d._binBE.fl64[0]},writeUshort:function(f,h,u){f[h]=u>>8&255,f[h+1]=u&255},writeUint:function(f,h,u){f[h]=u>>24&255,f[h+1]=u>>16&255,f[h+2]=u>>8&255,f[h+3]=u>>0&255},writeASCII:function(f,h,u){for(var v=0;v<u.length;v++)f[h+v]=u.charCodeAt(v)},writeDouble:function(f,h,u){d._binBE.fl64[0]=u;for(var v=0;v<8;v++)f[h+v]=d._binBE.ui8[7-v]}},d._binBE.ui8=new Uint8Array(8),d._binBE.i16=new Int16Array(d._binBE.ui8.buffer),d._binBE.i32=new Int32Array(d._binBE.ui8.buffer),d._binBE.ui32=new Uint32Array(d._binBE.ui8.buffer),d._binBE.fl32=new Float32Array(d._binBE.ui8.buffer),d._binBE.fl64=new Float64Array(d._binBE.ui8.buffer),d._binLE={nextZero:d._binBE.nextZero,readUshort:function(f,h){return f[h+1]<<8|f[h]},readShort:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+0],u[1]=f[h+1],d._binBE.i16[0]},readInt:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+0],u[1]=f[h+1],u[2]=f[h+2],u[3]=f[h+3],d._binBE.i32[0]},readUint:function(f,h){var u=d._binBE.ui8;return u[0]=f[h+0],u[1]=f[h+1],u[2]=f[h+2],u[3]=f[h+3],d._binBE.ui32[0]},readASCII:d._binBE.readASCII,readFloat:function(f,h){for(var u=d._binBE.ui8,v=0;v<4;v++)u[v]=f[h+v];return d._binBE.fl32[0]},readDouble:function(f,h){for(var u=d._binBE.ui8,v=0;v<8;v++)u[v]=f[h+v];return d._binBE.fl64[0]}},d._copyTile=function(f,h,u,v,y,p,g,_){for(var x=Math.min(h,y-g),b=Math.min(u,p-_),M=0;M<b;M++)for(var E=(_+M)*y+g,C=M*h,R=0;R<x;R++)v[E+R]=f[C+R]}})(s,l)})()}).call(this,r("_process"))},{_process:133,pako:86}],183:[function(r,i,a){(function(o){i.exports=s;function s(c,d){if(l("noDeprecation"))return c;var m=!1;function f(){if(!m){if(l("throwDeprecation"))throw new Error(d);l("traceDeprecation")?console.trace(d):console.warn(d),m=!0}return c.apply(this,arguments)}return f}function l(c){try{if(!o.localStorage)return!1}catch{return!1}var d=o.localStorage[c];return d==null?!1:String(d).toLowerCase()==="true"}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Gt!="undefined"?Gt:{})},{}],184:[function(r,i,a){arguments[4][26][0].apply(a,arguments)},{dup:26}],185:[function(r,i,a){arguments[4][27][0].apply(a,arguments)},{dup:27}],186:[function(r,i,a){arguments[4][28][0].apply(a,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(r,i,a){"use strict";var o=r("global/window"),s=r("is-function"),l=r("parse-headers"),c=r("xtend");i.exports=h,i.exports.default=h,h.XMLHttpRequest=o.XMLHttpRequest||y,h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:o.XDomainRequest,d(["get","put","post","patch","head","delete"],function(p){h[p==="delete"?"del":p]=function(g,_,x){return _=f(g,_,x),_.method=p.toUpperCase(),u(_)}});function d(p,g){for(var _=0;_<p.length;_++)g(p[_])}function m(p){for(var g in p)if(p.hasOwnProperty(g))return!1;return!0}function f(p,g,_){var x=p;return s(g)?(_=g,typeof p=="string"&&(x={uri:p})):x=c(g,{uri:p}),x.callback=_,x}function h(p,g,_){return g=f(p,g,_),u(g)}function u(p){if(typeof p.callback=="undefined")throw new Error("callback argument missing");var g=!1,_=function(J,ne,le){g||(g=!0,p.callback(J,ne,le))};function x(){C.readyState===4&&setTimeout(E,0)}function b(){var V=void 0;if(C.response?V=C.response:V=C.responseText||v(C),H)try{V=JSON.parse(V)}catch{}return V}function M(V){return clearTimeout(j),V instanceof Error||(V=new Error(""+(V||"Unknown XMLHttpRequest Error"))),V.statusCode=0,_(V,z)}function E(){if(!I){var V;clearTimeout(j),p.useXDR&&C.status===void 0?V=200:V=C.status===1223?204:C.status;var J=z,ne=null;return V!==0?(J={body:b(),statusCode:V,method:k,headers:{},url:O,rawRequest:C},C.getAllResponseHeaders&&(J.headers=l(C.getAllResponseHeaders()))):ne=new Error("Internal XMLHttpRequest Error"),_(ne,J,J.body)}}var C=p.xhr||null;C||(p.cors||p.useXDR?C=new h.XDomainRequest:C=new h.XMLHttpRequest);var R,I,O=C.url=p.uri||p.url,k=C.method=p.method||"GET",G=p.body||p.data,N=C.headers=p.headers||{},Z=!!p.sync,H=!1,j,z={body:void 0,headers:{},statusCode:0,method:k,url:O,rawRequest:C};if("json"in p&&p.json!==!1&&(H=!0,N.accept||N.Accept||(N.Accept="application/json"),k!=="GET"&&k!=="HEAD"&&(N["content-type"]||N["Content-Type"]||(N["Content-Type"]="application/json"),G=JSON.stringify(p.json===!0?G:p.json))),C.onreadystatechange=x,C.onload=E,C.onerror=M,C.onprogress=function(){},C.onabort=function(){I=!0},C.ontimeout=M,C.open(k,O,!Z,p.username,p.password),Z||(C.withCredentials=!!p.withCredentials),!Z&&p.timeout>0&&(j=setTimeout(function(){if(!I){I=!0,C.abort("timeout");var V=new Error("XMLHttpRequest timeout");V.code="ETIMEDOUT",M(V)}},p.timeout)),C.setRequestHeader)for(R in N)N.hasOwnProperty(R)&&C.setRequestHeader(R,N[R]);else if(p.headers&&!m(p.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in p&&(C.responseType=p.responseType),"beforeSend"in p&&typeof p.beforeSend=="function"&&p.beforeSend(C),C.send(G||null),C}function v(p){try{if(p.responseType==="document")return p.responseXML;var g=p.responseXML&&p.responseXML.documentElement.nodeName==="parsererror";if(p.responseType===""&&!g)return p.responseXML}catch{}return null}function y(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(r,i,a){i.exports=function(){return typeof self.DOMParser!="undefined"?function(s){var l=new self.DOMParser;return l.parseFromString(s,"application/xml")}:typeof self.ActiveXObject!="undefined"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(s){var l=new self.ActiveXObject("Microsoft.XMLDOM");return l.async="false",l.loadXML(s),l}:function(s){var l=document.createElement("div");return l.innerHTML=s,l}}()},{}],189:[function(r,i,a){i.exports=s;var o=Object.prototype.hasOwnProperty;function s(){for(var l={},c=0;c<arguments.length;c++){var d=arguments[c];for(var m in d)o.call(d,m)&&(l[m]=d[m])}return l}},{}],190:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.srcOver=o,a.dstOver=s,a.multiply=l,a.add=c,a.screen=d,a.overlay=m,a.darken=f,a.lighten=h,a.hardLight=u,a.difference=v,a.exclusion=y;function o(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=(p.r*p.a+g.r*g.a*(1-p.a))/x,M=(p.g*p.a+g.g*g.a*(1-p.a))/x,E=(p.b*p.a+g.b*g.a*(1-p.a))/x;return{r:b,g:M,b:E,a:x}}function s(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=(g.r*g.a+p.r*p.a*(1-g.a))/x,M=(g.g*g.a+p.g*p.a*(1-g.a))/x,E=(g.b*g.a+p.b*p.a*(1-g.a))/x;return{r:b,g:M,b:E,a:x}}function l(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(b*C+b*(1-g.a)+C*(1-p.a))/x,k=(M*R+M*(1-g.a)+R*(1-p.a))/x,G=(E*I+E*(1-g.a)+I*(1-p.a))/x;return{r:O,g:k,b:G,a:x}}function c(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(b+C)/x,k=(M+R)/x,G=(E+I)/x;return{r:O,g:k,b:G,a:x}}function d(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(b*g.a+C*p.a-b*C+b*(1-g.a)+C*(1-p.a))/x,k=(M*g.a+R*p.a-M*R+M*(1-g.a)+R*(1-p.a))/x,G=(E*g.a+I*p.a-E*I+E*(1-g.a)+I*(1-p.a))/x;return{r:O,g:k,b:G,a:x}}function m(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(2*C<=g.a?2*b*C+b*(1-g.a)+C*(1-p.a):b*(1+g.a)+C*(1+p.a)-2*C*b-g.a*p.a)/x,k=(2*R<=g.a?2*M*R+M*(1-g.a)+R*(1-p.a):M*(1+g.a)+R*(1+p.a)-2*R*M-g.a*p.a)/x,G=(2*I<=g.a?2*E*I+E*(1-g.a)+I*(1-p.a):E*(1+g.a)+I*(1+p.a)-2*I*E-g.a*p.a)/x;return{r:O,g:k,b:G,a:x}}function f(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(Math.min(b*g.a,C*p.a)+b*(1-g.a)+C*(1-p.a))/x,k=(Math.min(M*g.a,R*p.a)+M*(1-g.a)+R*(1-p.a))/x,G=(Math.min(E*g.a,I*p.a)+E*(1-g.a)+I*(1-p.a))/x;return{r:O,g:k,b:G,a:x}}function h(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(Math.max(b*g.a,C*p.a)+b*(1-g.a)+C*(1-p.a))/x,k=(Math.max(M*g.a,R*p.a)+M*(1-g.a)+R*(1-p.a))/x,G=(Math.max(E*g.a,I*p.a)+E*(1-g.a)+I*(1-p.a))/x;return{r:O,g:k,b:G,a:x}}function u(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(2*b<=p.a?2*b*C+b*(1-g.a)+C*(1-p.a):b*(1+g.a)+C*(1+p.a)-2*C*b-g.a*p.a)/x,k=(2*M<=p.a?2*M*R+M*(1-g.a)+R*(1-p.a):M*(1+g.a)+R*(1+p.a)-2*R*M-g.a*p.a)/x,G=(2*E<=p.a?2*E*I+E*(1-g.a)+I*(1-p.a):E*(1+g.a)+I*(1+p.a)-2*I*E-g.a*p.a)/x;return{r:O,g:k,b:G,a:x}}function v(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(b+C-2*Math.min(b*g.a,C*p.a))/x,k=(M+R-2*Math.min(M*g.a,R*p.a))/x,G=(E+I-2*Math.min(E*g.a,I*p.a))/x;return{r:O,g:k,b:G,a:x}}function y(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;p.a*=_;var x=g.a+p.a-g.a*p.a,b=p.r*p.a,M=p.g*p.a,E=p.b*p.a,C=g.r*g.a,R=g.g*g.a,I=g.b*g.a,O=(b*g.a+C*p.a-2*b*C+b*(1-g.a)+C*(1-p.a))/x,k=(M*g.a+R*p.a-2*M*R+M*(1-g.a)+R*(1-p.a))/x,G=(E*g.a+I*p.a-2*E*I+E*(1-g.a)+I*(1-p.a))/x;return{r:O,g:k,b:G,a:x}}},{}],191:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var s=r("@jimp/utils"),l=o(r("../constants")),c=o(r("./composite-modes"));function d(m,f,h){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=arguments.length>4?arguments[4]:void 0;if(typeof u=="function"&&(v=u,u={}),!(m instanceof this.constructor))return s.throwError.call(this,"The source must be a Jimp image",v);if(typeof f!="number"||typeof h!="number")return s.throwError.call(this,"x and y must be numbers",v);var y=u,p=y.mode,g=y.opacitySource,_=y.opacityDest;p||(p=l.BLEND_SOURCE_OVER),(typeof g!="number"||g<0||g>1)&&(g=1),(typeof _!="number"||_<0||_>1)&&(_=1);var x=c[p];f=Math.round(f),h=Math.round(h);var b=this;return _!==1&&b.opacity(_),m.scanQuiet(0,0,m.bitmap.width,m.bitmap.height,function(M,E,C){var R=b.getPixelIndex(f+M,h+E,l.EDGE_CROP),I=x({r:this.bitmap.data[C+0]/255,g:this.bitmap.data[C+1]/255,b:this.bitmap.data[C+2]/255,a:this.bitmap.data[C+3]/255},{r:b.bitmap.data[R+0]/255,g:b.bitmap.data[R+1]/255,b:b.bitmap.data[R+2]/255,a:b.bitmap.data[R+3]/255},g);b.bitmap.data[R+0]=this.constructor.limit255(I.r*255),b.bitmap.data[R+1]=this.constructor.limit255(I.g*255),b.bitmap.data[R+2]=this.constructor.limit255(I.b*255),b.bitmap.data[R+3]=this.constructor.limit255(I.a*255)}),(0,s.isNodePattern)(v)&&v.call(this,null,this),this}i.exports=a.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.EDGE_CROP=a.EDGE_WRAP=a.EDGE_EXTEND=a.BLEND_EXCLUSION=a.BLEND_DIFFERENCE=a.BLEND_HARDLIGHT=a.BLEND_LIGHTEN=a.BLEND_DARKEN=a.BLEND_OVERLAY=a.BLEND_SCREEN=a.BLEND_ADD=a.BLEND_MULTIPLY=a.BLEND_DESTINATION_OVER=a.BLEND_SOURCE_OVER=a.VERTICAL_ALIGN_BOTTOM=a.VERTICAL_ALIGN_MIDDLE=a.VERTICAL_ALIGN_TOP=a.HORIZONTAL_ALIGN_RIGHT=a.HORIZONTAL_ALIGN_CENTER=a.HORIZONTAL_ALIGN_LEFT=a.AUTO=void 0;var o=-1;a.AUTO=o;var s=1;a.HORIZONTAL_ALIGN_LEFT=s;var l=2;a.HORIZONTAL_ALIGN_CENTER=l;var c=4;a.HORIZONTAL_ALIGN_RIGHT=c;var d=8;a.VERTICAL_ALIGN_TOP=d;var m=16;a.VERTICAL_ALIGN_MIDDLE=m;var f=32;a.VERTICAL_ALIGN_BOTTOM=f;var h="srcOver";a.BLEND_SOURCE_OVER=h;var u="dstOver";a.BLEND_DESTINATION_OVER=u;var v="multiply";a.BLEND_MULTIPLY=v;var y="add";a.BLEND_ADD=y;var p="screen";a.BLEND_SCREEN=p;var g="overlay";a.BLEND_OVERLAY=g;var _="darken";a.BLEND_DARKEN=_;var x="lighten";a.BLEND_LIGHTEN=x;var b="hardLight";a.BLEND_HARDLIGHT=b;var M="difference";a.BLEND_DIFFERENCE=M;var E="exclusion";a.BLEND_EXCLUSION=E;var C=1;a.EDGE_EXTEND=C;var R=2;a.EDGE_WRAP=R;var I=3;a.EDGE_CROP=I},{}],193:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireWildcard"),l=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.addConstants=Ie,a.addJimpMethods=ge,a.jimpEvMethod=Oe,a.jimpEvChange=me,Object.defineProperty(a,"addType",{enumerable:!0,get:function(){return Z.addType}}),a.default=void 0;for(var c=l(r("@babel/runtime/helpers/construct")),d=l(r("@babel/runtime/helpers/slicedToArray")),m=l(r("@babel/runtime/helpers/classCallCheck")),f=l(r("@babel/runtime/helpers/createClass")),h=l(r("@babel/runtime/helpers/possibleConstructorReturn")),u=l(r("@babel/runtime/helpers/getPrototypeOf")),v=l(r("@babel/runtime/helpers/assertThisInitialized")),y=l(r("@babel/runtime/helpers/inherits")),p=l(r("@babel/runtime/helpers/defineProperty")),g=l(r("@babel/runtime/helpers/typeof")),_=l(r("fs")),x=l(r("path")),b=l(r("events")),M=r("@jimp/utils"),E=l(r("any-base")),C=l(r("mkdirp")),R=l(r("pixelmatch")),I=l(r("tinycolor2")),O=l(r("./modules/phash")),k=l(r("./request")),G=l(r("./composite")),N=l(r("./utils/promisify")),Z=s(r("./utils/mime")),H=r("./utils/image-bitmap"),j=s(r("./constants")),z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",V=[NaN,NaN],J=2;J<65;J++){var ne=(0,E.default)(E.default.BIN,z.slice(0,J))(new Array(64+1).join("1"));V.push(ne.length)}function le(){}function ue(ie){return Object.prototype.toString.call(ie).toLowerCase().indexOf("arraybuffer")>-1}function K(ie){for(var Y=o.alloc(ie.byteLength),ee=new Uint8Array(ie),W=0;W<Y.length;++W)Y[W]=ee[W];return Y}function ae(ie,Y){(0,k.default)(ie,function(ee,W,P){if(ee)return Y(ee);if("headers"in W&&"location"in W.headers)return ie.url=W.headers.location,ae(ie,Y);if((0,g.default)(P)==="object"&&o.isBuffer(P))return Y(null,P);var D="Could not load Buffer from <"+ie.url+"> (HTTP: "+W.statusCode+")";return new Error(D)})}function se(ie,Y){_.default&&typeof _.default.readFile=="function"&&!ie.match(/^(http|ftp)s?:\/\/./)?_.default.readFile(ie,Y):ae({url:ie},Y)}function fe(ie){return ie&&(0,g.default)(ie)==="object"&&typeof ie.width=="number"&&typeof ie.height=="number"&&(o.isBuffer(ie.data)||ie.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&ie.data instanceof Uint8ClampedArray)&&(ie.data.length===ie.width*ie.height*4||ie.data.length===ie.width*ie.height*3)}function he(ie){if(ie.length%3!=0)throw new Error("Buffer length is incorrect");for(var Y=o.allocUnsafe(ie.length/3*4),ee=0,W=0;W<ie.length;W++)Y[ee]=ie[W],(W+1)%3==0&&(Y[++ee]=255),ee++;return Y}var we={data:null,width:null,height:null},xe=function(ie){(0,y.default)(Y,ie);function Y(){for(var ee,W=arguments.length,P=new Array(W),D=0;D<W;D++)P[D]=arguments[D];(0,m.default)(this,Y),ee=(0,h.default)(this,(0,u.default)(Y).call(this)),(0,p.default)((0,v.default)(ee),"bitmap",we),(0,p.default)((0,v.default)(ee),"_background",0),(0,p.default)((0,v.default)(ee),"_originalMime",Y.MIME_PNG),(0,p.default)((0,v.default)(ee),"_exif",null),(0,p.default)((0,v.default)(ee),"_rgba",!0),(0,p.default)((0,v.default)(ee),"writeAsync",function(ot){return(0,N.default)(ee.write,(0,v.default)(ee),ot)}),(0,p.default)((0,v.default)(ee),"getBase64Async",function(ot){return(0,N.default)(ee.getBase64,(0,v.default)(ee),ot)}),(0,p.default)((0,v.default)(ee),"getBuffer",H.getBuffer),(0,p.default)((0,v.default)(ee),"getBufferAsync",H.getBufferAsync),(0,p.default)((0,v.default)(ee),"getPixelColour",ee.getPixelColor),(0,p.default)((0,v.default)(ee),"setPixelColour",ee.setPixelColor);var B=(0,v.default)(ee),Q=le;ue(P[0])&&(P[0]=K(P[0]));function de(){for(var ot=arguments.length,X=new Array(ot),Ae=0;Ae<ot;Ae++)X[Ae]=arguments[Ae];var Fe=X[0],qe=Fe||{};qe.methodName="constructor",setTimeout(function(){var De;Fe&&Q===le?B.emitError("constructor",Fe):Fe||B.emitMulti("constructor","initialized"),(De=Q).call.apply(De,[B].concat(X))},1)}if(typeof P[0]=="number"&&typeof P[1]=="number"||parseInt(P[0],10)&&parseInt(P[1],10)){var Ce=parseInt(P[0],10),be=parseInt(P[1],10);if(Q=P[2],typeof P[2]=="number"&&(ee._background=P[2],Q=P[3]),typeof P[2]=="string"&&(ee._background=Y.cssColorToHex(P[2]),Q=P[3]),typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"cb must be a function",de));ee.bitmap={data:o.alloc(Ce*be*4),width:Ce,height:be};for(var Se=0;Se<ee.bitmap.data.length;Se+=4)ee.bitmap.data.writeUInt32BE(ee._background,Se);de(null,(0,v.default)(ee))}else if((0,g.default)(P[0])==="object"&&P[0].url){if(Q=P[1]||le,typeof Q!="function")return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"cb must be a function",de));ae(P[0],function(ot,X){if(ot)return M.throwError.call((0,v.default)(ee),ot,de);ee.parseBitmap(X,P[0].url,de)})}else if(P[0]instanceof Y){var ke=P[0];if(Q=P[1],typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"cb must be a function",de));ee.bitmap={data:o.from(ke.bitmap.data),width:ke.bitmap.width,height:ke.bitmap.height},ee._quality=ke._quality,ee._deflateLevel=ke._deflateLevel,ee._deflateStrategy=ke._deflateStrategy,ee._filterType=ke._filterType,ee._rgba=ke._rgba,ee._background=ke._background,ee._originalMime=ke._originalMime,de(null,(0,v.default)(ee))}else if(fe(P[0])){var Ye=P[0];Q=P[1]||le;var Ve=Ye.width*Ye.height*4===Ye.data.length,Me=Ve?o.from(Ye.data):he(Ye.data);ee.bitmap={data:Me,width:Ye.width,height:Ye.height},de(null,(0,v.default)(ee))}else if(typeof P[0]=="string"){var Ge=P[0];if(Q=P[1],typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"cb must be a function",de));se(Ge,function(ot,X){if(ot)return M.throwError.call((0,v.default)(ee),ot,de);ee.parseBitmap(X,Ge,de)})}else if((0,g.default)(P[0])==="object"&&o.isBuffer(P[0])){var We=P[0];if(Q=P[1],typeof Q!="function")return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"cb must be a function",de));ee.parseBitmap(We,null,de)}else{Q=P[P.length-1],typeof Q!="function"&&(Q=P[P.length-2],typeof Q!="function"&&(Q=le));var et=Y.__extraConstructors.find(function(ot){return ot.test.apply(ot,P)});if(et)new Promise(function(ot,X){var Ae;return(Ae=et.run).call.apply(Ae,[(0,v.default)(ee),ot,X].concat(P))}).then(function(){return de(null,(0,v.default)(ee))}).catch(de);else return(0,h.default)(ee,M.throwError.call((0,v.default)(ee),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",de))}return ee}return(0,f.default)(Y,[{key:"parseBitmap",value:function(W,P,D){H.parseBitmap.call(this,W,null,D)}},{key:"rgba",value:function(W,P){return typeof W!="boolean"?M.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",P):(this._rgba=W,(0,M.isNodePattern)(P)&&P.call(this,null,this),this)}},{key:"emitMulti",value:function(W,P){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D=Object.assign(D,{methodName:W,eventName:P}),this.emit("any",D),W&&this.emit(W,D),this.emit(P,D)}},{key:"emitError",value:function(W,P){this.emitMulti(W,"error",P)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===we?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var W=this._originalMime||Y.MIME_PNG;return W}},{key:"getExtension",value:function(){var W=this.getMIME();return Z.getExtension(W)}},{key:"write",value:function(W,P){var D=this;if(!_.default||!_.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof W!="string")return M.throwError.call(this,"path must be a string",P);if(typeof P=="undefined"&&(P=le),typeof P!="function")return M.throwError.call(this,"cb must be a function",P);var B=Z.getType(W)||this.getMIME(),Q=x.default.parse(W);return Q.dir&&C.default.sync(Q.dir),this.getBuffer(B,function(de,Ce){if(de)return M.throwError.call(D,de,P);var be=_.default.createWriteStream(W);be.on("open",function(){be.write(Ce),be.end()}).on("error",function(Se){return M.throwError.call(D,Se,P)}),be.on("finish",function(){P.call(D,null,D)})}),this}},{key:"getBase64",value:function(W,P){return W===Y.AUTO&&(W=this.getMIME()),typeof W!="string"?M.throwError.call(this,"mime must be a string",P):typeof P!="function"?M.throwError.call(this,"cb must be a function",P):(this.getBuffer(W,function(D,B){if(D)return M.throwError.call(this,D,P);var Q="data:"+W+";base64,"+B.toString("base64");P.call(this,null,Q)}),this)}},{key:"hash",value:function(W,P){if(W=W||64,typeof W=="function"&&(P=W,W=64),typeof W!="number")return M.throwError.call(this,"base must be a number",P);if(W<2||W>64)return M.throwError.call(this,"base must be a number between 2 and 64",P);var D=this.pHash();for(D=(0,E.default)(E.default.BIN,z.slice(0,W))(D);D.length<V[W];)D="0"+D;return(0,M.isNodePattern)(P)&&P.call(this,null,D),D}},{key:"pHash",value:function(){var W=new O.default;return W.getHash(this)}},{key:"distanceFromHash",value:function(W){var P=new O.default,D=P.getHash(this);return P.distance(D,W)}},{key:"getPixelIndex",value:function(W,P,D,B){var Q,de;if(typeof D=="function"&&typeof B=="undefined"&&(B=D,D=null),D||(D=Y.EDGE_EXTEND),typeof W!="number"||typeof P!="number")return M.throwError.call(this,"x and y must be numbers",B);W=Math.round(W),P=Math.round(P),Q=W,de=P,D===Y.EDGE_EXTEND&&(W<0&&(Q=0),W>=this.bitmap.width&&(Q=this.bitmap.width-1),P<0&&(de=0),P>=this.bitmap.height&&(de=this.bitmap.height-1)),D===Y.EDGE_WRAP&&(W<0&&(Q=this.bitmap.width+W),W>=this.bitmap.width&&(Q=W%this.bitmap.width),P<0&&(Q=this.bitmap.height+P),P>=this.bitmap.height&&(de=P%this.bitmap.height));var Ce=this.bitmap.width*de+Q<<2;return(Q<0||Q>=this.bitmap.width)&&(Ce=-1),(de<0||de>=this.bitmap.height)&&(Ce=-1),(0,M.isNodePattern)(B)&&B.call(this,null,Ce),Ce}},{key:"getPixelColor",value:function(W,P,D){if(typeof W!="number"||typeof P!="number")return M.throwError.call(this,"x and y must be numbers",D);W=Math.round(W),P=Math.round(P);var B=this.getPixelIndex(W,P),Q=this.bitmap.data.readUInt32BE(B);return(0,M.isNodePattern)(D)&&D.call(this,null,Q),Q}},{key:"setPixelColor",value:function(W,P,D,B){if(typeof W!="number"||typeof P!="number"||typeof D!="number")return M.throwError.call(this,"hex, x and y must be numbers",B);P=Math.round(P),D=Math.round(D);var Q=this.getPixelIndex(P,D);return this.bitmap.data.writeUInt32BE(W,Q),(0,M.isNodePattern)(B)&&B.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var W=0;W<this.bitmap.height;W++)for(var P=0;P<this.bitmap.width;P++){var D=this.bitmap.width*W+P<<2,B=this.bitmap.data[D+3];if(B!==255)return!0}return!1}},{key:"scanIterator",value:function(W,P,D,B){return typeof W!="number"||typeof P!="number"?M.throwError.call(this,"x and y must be numbers"):typeof D!="number"||typeof B!="number"?M.throwError.call(this,"w and h must be numbers"):(0,M.scanIterator)(this,W,P,D,B)}}]),Y}(b.default);function Ie(ie){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(ie).forEach(function(ee){var W=(0,d.default)(ee,2),P=W[0],D=W[1];Y[P]=D})}function ge(ie){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(ie).forEach(function(ee){var W=(0,d.default)(ee,2),P=W[0],D=W[1];Y.prototype[P]=D})}Ie(j),ge({composite:G.default}),xe.__extraConstructors=[],xe.appendConstructorOption=function(ie,Y,ee){xe.__extraConstructors.push({name:ie,test:Y,run:ee})},xe.read=function(){for(var ie=arguments.length,Y=new Array(ie),ee=0;ee<ie;ee++)Y[ee]=arguments[ee];return new Promise(function(W,P){(0,c.default)(xe,Y.concat([function(D,B){D?P(D):W(B)}]))})},xe.create=xe.read,xe.rgbaToInt=function(ie,Y,ee,W,P){if(typeof ie!="number"||typeof Y!="number"||typeof ee!="number"||typeof W!="number")return M.throwError.call(this,"r, g, b and a must be numbers",P);if(ie<0||ie>255)return M.throwError.call(this,"r must be between 0 and 255",P);if((Y<0||Y>255)&&M.throwError.call(this,"g must be between 0 and 255",P),ee<0||ee>255)return M.throwError.call(this,"b must be between 0 and 255",P);if(W<0||W>255)return M.throwError.call(this,"a must be between 0 and 255",P);ie=Math.round(ie),ee=Math.round(ee),Y=Math.round(Y),W=Math.round(W);var D=ie*Math.pow(256,3)+Y*Math.pow(256,2)+ee*Math.pow(256,1)+W*Math.pow(256,0);return(0,M.isNodePattern)(P)&&P.call(this,null,D),D},xe.intToRGBA=function(ie,Y){if(typeof ie!="number")return M.throwError.call(this,"i must be a number",Y);var ee={};return ee.r=Math.floor(ie/Math.pow(256,3)),ee.g=Math.floor((ie-ee.r*Math.pow(256,3))/Math.pow(256,2)),ee.b=Math.floor((ie-ee.r*Math.pow(256,3)-ee.g*Math.pow(256,2))/Math.pow(256,1)),ee.a=Math.floor((ie-ee.r*Math.pow(256,3)-ee.g*Math.pow(256,2)-ee.b*Math.pow(256,1))/Math.pow(256,0)),(0,M.isNodePattern)(Y)&&Y.call(this,null,ee),ee},xe.cssColorToHex=function(ie){return ie=ie||0,typeof ie=="number"?Number(ie):parseInt((0,I.default)(ie).toHex8(),16)},xe.limit255=function(ie){return ie=Math.max(ie,0),ie=Math.min(ie,255),ie},xe.diff=function(ie,Y){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(ie instanceof xe)||!(Y instanceof xe))return M.throwError.call(this,"img1 and img2 must be an Jimp images");var W=ie.bitmap,P=Y.bitmap;if((W.width!==P.width||W.height!==P.height)&&(W.width*W.height>P.width*P.height?ie=ie.cloneQuiet().resize(P.width,P.height):Y=Y.cloneQuiet().resize(W.width,W.height)),typeof ee!="number"||ee<0||ee>1)return M.throwError.call(this,"threshold must be a number between 0 and 1");var D=new xe(W.width,W.height,4294967295),B=(0,R.default)(W.data,P.data,D.bitmap.data,D.bitmap.width,D.bitmap.height,{threshold:ee});return{percent:B/(D.bitmap.width*D.bitmap.height),image:D}},xe.distance=function(ie,Y){var ee=new O.default,W=ee.getHash(ie),P=ee.getHash(Y);return ee.distance(W,P)},xe.compareHashes=function(ie,Y){var ee=new O.default;return ee.distance(ie,Y)},xe.colorDiff=function(ie,Y){var ee=function(B){return Math.pow(B,2)},W=Math.max,P=255*255*3;return ie.a!==0&&!ie.a&&(ie.a=255),Y.a!==0&&!Y.a&&(Y.a=255),(W(ee(ie.r-Y.r),ee(ie.r-Y.r-ie.a+Y.a))+W(ee(ie.g-Y.g),ee(ie.g-Y.g-ie.a+Y.a))+W(ee(ie.b-Y.b),ee(ie.b-Y.b-ie.a+Y.a)))/P};function Oe(ie,Y,ee){var W="before-"+Y,P=Y.replace(/e$/,"")+"ed";xe.prototype[ie]=function(){for(var D,B=arguments.length,Q=new Array(B),de=0;de<B;de++)Q[de]=arguments[de];var Ce=Q[ee.length-1],be=this;typeof Ce=="function"?(D=function(){for(var Ye=arguments.length,Ve=new Array(Ye),Me=0;Me<Ye;Me++)Ve[Me]=arguments[Me];var Ge=Ve[0],We=Ve[1];Ge?be.emitError(ie,Ge):be.emitMulti(ie,P,(0,p.default)({},ie,We)),Ce.apply(this,Ve)},Q[Q.length-1]=D):D=!1,this.emitMulti(ie,W);var Se;try{Se=ee.apply(this,Q),D||this.emitMulti(ie,P,(0,p.default)({},ie,Se))}catch(ke){ke.methodName=ie,this.emitError(ie,ke)}return Se},xe.prototype[ie+"Quiet"]=ee}Oe("clone","clone",function(ie){var Y=new xe(this);return(0,M.isNodePattern)(ie)&&ie.call(Y,null,Y),Y});function me(ie,Y){Oe(ie,"change",Y)}me("background",function(ie,Y){return typeof ie!="number"?M.throwError.call(this,"hex must be a hexadecimal rgba value",Y):(this._background=ie,(0,M.isNodePattern)(Y)&&Y.call(this,null,this),this)}),me("scan",function(ie,Y,ee,W,P,D){if(typeof ie!="number"||typeof Y!="number")return M.throwError.call(this,"x and y must be numbers",D);if(typeof ee!="number"||typeof W!="number")return M.throwError.call(this,"w and h must be numbers",D);if(typeof P!="function")return M.throwError.call(this,"f must be a function",D);var B=(0,M.scan)(this,ie,Y,ee,W,P);return(0,M.isNodePattern)(D)&&D.call(this,null,B),B});var pe;typeof Gt!="undefined"&&(typeof Gt=="undefined"?"undefined":(0,g.default)(Gt))==="object"&&(pe=Gt),typeof self!="undefined"&&(typeof self=="undefined"?"undefined":(0,g.default)(self))==="object"&&(pe=self),pe.Jimp=xe,pe.Buffer=o;var re=xe;a.default=re}).call(this,r("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(r,i,a){"use strict";function o(m,f){this.size=this.size||m,this.smallerSize=this.smallerSize||f,c(this.size)}o.prototype.size=32,o.prototype.smallerSize=8,o.prototype.distance=function(m,f){for(var h=0,u=0;u<m.length;u++)m[u]!==f[u]&&h++;return h/m.length},o.prototype.getHash=function(m){m=m.clone().resize(this.size,this.size),m.grayscale();for(var f=[],h=0;h<m.bitmap.width;h++){f[h]=[];for(var u=0;u<m.bitmap.height;u++)f[h][u]=s(m.getPixelColor(h,u)).b}for(var v=d(f,this.size),y=0,p=0;p<this.smallerSize;p++)for(var g=0;g<this.smallerSize;g++)y+=v[p][g];for(var _=y/(this.smallerSize*this.smallerSize),x="",b=0;b<this.smallerSize;b++)for(var M=0;M<this.smallerSize;M++)x+=v[b][M]>_?"1":"0";return x};function s(m){var f={};return f.r=Math.floor(m/Math.pow(256,3)),f.g=Math.floor((m-f.r*Math.pow(256,3))/Math.pow(256,2)),f.b=Math.floor((m-f.r*Math.pow(256,3)-f.g*Math.pow(256,2))/Math.pow(256,1)),f.a=Math.floor((m-f.r*Math.pow(256,3)-f.g*Math.pow(256,2)-f.b*Math.pow(256,1))/Math.pow(256,0)),f}var l=[];function c(m){for(var f=1;f<m;f++)l[f]=1;l[0]=1/Math.sqrt(2)}function d(m,f){for(var h=f,u=[],v=0;v<h;v++){u[v]=[];for(var y=0;y<h;y++){for(var p=0,g=0;g<h;g++)for(var _=0;_<h;_++)p+=Math.cos((2*g+1)/(2*h)*v*Math.PI)*Math.cos((2*_+1)/(2*h)*y*Math.PI)*m[g][_];p*=l[v]*l[y]/4,u[v][y]=p}}return u}i.exports=o},{}],195:[function(r,i,a){(function(o,s){"use strict";var l=r("@babel/runtime/helpers/interopRequireDefault"),c=l(r("@babel/runtime/helpers/defineProperty")),d=l(r("@babel/runtime/helpers/extends"));function m(h,u){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);u&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable})),v.push.apply(v,y)}return v}function f(h){for(var u=1;u<arguments.length;u++){var v=arguments[u]!=null?arguments[u]:{};u%2?m(v,!0).forEach(function(y){(0,c.default)(h,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):m(v).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(v,y))})}return h}o.browser,i.exports=function(h,u){var v=new XMLHttpRequest;v.open("GET",h.url,!0),v.responseType="arraybuffer",v.addEventListener("load",function(){if(v.status<400)try{var y=s.from(this.response);u(null,v,y)}catch(p){return u(new Error("Response is not a buffer for url "+h.url+". Error: "+p.message))}else u(new Error("HTTP Status "+v.status+" for url "+h.url))}),v.addEventListener("error",function(y){u(y)}),v.send()}}).call(this,r("_process"),r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireWildcard"),l=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.parseBitmap=b,a.getBuffer=E,a.getBufferAsync=C;var c=l(r("@babel/runtime/helpers/slicedToArray")),d=l(r("file-type")),m=l(r("exif-parser")),f=r("@jimp/utils"),h=s(r("../constants")),u=s(r("./mime")),v=l(r("./promisify"));function y(R,I){var O=(0,d.default)(R);return O?O.mime:I?u.getType(I):null}function p(R){return R._exif&&R._exif.tags&&R._exif.tags.Orientation||1}function g(R){var I=R.getWidth(),O=R.getHeight();switch(p(R)){case 1:return null;case 2:return function(k,G){return[I-k-1,G]};case 3:return function(k,G){return[I-k-1,O-G-1]};case 4:return function(k,G){return[k,O-G-1]};case 5:return function(k,G){return[G,k]};case 6:return function(k,G){return[G,O-k-1]};case 7:return function(k,G){return[I-G-1,O-k-1]};case 8:return function(k,G){return[I-G-1,k]};default:return null}}function _(R,I,O,k){for(var G=R.bitmap.data,N=R.bitmap.width,Z=o.alloc(G.length),H=0;H<I;H++)for(var j=0;j<O;j++){var z=k(H,j),V=(0,c.default)(z,2),J=V[0],ne=V[1],le=I*j+H<<2,ue=N*ne+J<<2,K=G.readUInt32BE(ue);Z.writeUInt32BE(K,le)}R.bitmap.data=Z,R.bitmap.width=I,R.bitmap.height=O}function x(R){if(!(p(R)<2)){var I=g(R),O=p(R)>4,k=O?R.bitmap.height:R.bitmap.width,G=O?R.bitmap.width:R.bitmap.height;_(R,k,G,I)}}function b(R,I,O){var k=y(R,I);if(typeof k!="string")return O(new Error("Could not find MIME for Buffer <"+I+">"));this._originalMime=k.toLowerCase();try{var G=this.getMIME();if(this.constructor.decoders[G])this.bitmap=this.constructor.decoders[G](R);else return f.throwError.call(this,"Unsupported MIME type: "+G,O)}catch(N){return O.call(this,N,this)}try{this._exif=m.default.create(R).parse(),x(this)}catch{}return O.call(this,null,this),this}function M(R,I){return new R(I.bitmap.width,I.bitmap.height,I._background).composite(I,0,0).bitmap}function E(R,I){if(R===h.AUTO&&(R=this.getMIME()),typeof R!="string")return f.throwError.call(this,"mime must be a string",I);if(typeof I!="function")return f.throwError.call(this,"cb must be a function",I);if(R=R.toLowerCase(),this._rgba&&this.constructor.hasAlpha[R]?this.bitmap.data=o.from(this.bitmap.data):this.bitmap.data=M(this.constructor,this).data,this.constructor.encoders[R]){var O=this.constructor.encoders[R](this);I.call(this,null,O)}else I.call(this,"Unsupported MIME type: "+R);return this}function C(R){return(0,v.default)(E,this,R)}}).call(this,r("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getExtension=a.getType=a.addType=void 0;var o={},s=function(f){return Object.entries(o).find(function(h){return h[1].includes(f)})||[]},l=function(f,h){o[f]=h};a.addType=l;var c=function(f){var h=f.split("/").slice(-1),u=h[h.length-1].split(".").pop(),v=s(u);return v[0]};a.getType=c;var d=function(f){return(o[f.toLowerCase()]||[])[0]};a.getExtension=d},{}],198:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(c,d){for(var m=arguments.length,f=new Array(m>2?m-2:0),h=2;h<m;h++)f[h-2]=arguments[h];return new Promise(function(u,v){f.push(function(y,p){y&&v(y),u(p)}),c.bind(d).apply(void 0,f)})},s=o;a.default=s,i.exports=a.default},{}],199:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireWildcard"),s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var l=s(r("@babel/runtime/helpers/toConsumableArray")),c=s(r("@babel/runtime/helpers/defineProperty")),d=s(r("@babel/runtime/helpers/slicedToArray")),m=o(r("@jimp/core"));function f(v,y){var p=Object.keys(v);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(v);y&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),p.push.apply(p,g)}return p}function h(v){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?f(p,!0).forEach(function(g){(0,c.default)(v,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(p)):f(p).forEach(function(g){Object.defineProperty(v,g,Object.getOwnPropertyDescriptor(p,g))})}return v}function u(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default,p={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function g(b){Object.entries(b).forEach(function(M){var E=(0,d.default)(M,2),C=E[0],R=E[1];p[C]=h({},p[C],{},R)})}function _(b){var M=b();Array.isArray(M.mime)?m.addType.apply(void 0,(0,l.default)(M.mime)):Object.entries(M.mime).forEach(function(E){return m.addType.apply(void 0,(0,l.default)(E))}),delete M.mime,g(M)}function x(b){var M=b(m.jimpEvChange)||{};!M.class&&!M.constants?g({class:M}):g(M)}return v.types&&(v.types.forEach(_),y.decoders=h({},y.decoders,{},p.decoders),y.encoders=h({},y.encoders,{},p.encoders),y.hasAlpha=h({},y.hasAlpha,{},p.hasAlpha)),v.plugins&&v.plugins.forEach(x),(0,m.addJimpMethods)(p.class,y),(0,m.addConstants)(p.constants,y),m.default}i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@jimp/custom")),l=o(r("@jimp/types")),c=o(r("@jimp/plugins")),d=(0,s.default)({types:[l.default],plugins:[c.default]});a.default=d,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/typeof")),l=r("@jimp/utils"),c=function(){return{blit:function(f,h,u,v,y,p,g,_){if(!(f instanceof this.constructor))return l.throwError.call(this,"The source must be a Jimp image",_);if(typeof h!="number"||typeof u!="number")return l.throwError.call(this,"x and y must be numbers",_);if(typeof v=="function")_=v,v=0,y=0,p=f.bitmap.width,g=f.bitmap.height;else if((0,s.default)(v)===(0,s.default)(y)&&(0,s.default)(y)===(0,s.default)(p)&&(0,s.default)(p)===(0,s.default)(g))v=v||0,y=y||0,p=p||f.bitmap.width,g=g||f.bitmap.height;else return l.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",_);h=Math.round(h),u=Math.round(u),v=Math.round(v),y=Math.round(y),p=Math.round(p),g=Math.round(g);var x=this.bitmap.width,b=this.bitmap.height,M=this;return f.scanQuiet(v,y,p,g,function(E,C,R){var I=h+E-v,O=u+C-y;if(I>=0&&O>=0&&x-I>0&&b-O>0){var k=M.getPixelIndex(I,O),G={r:this.bitmap.data[R],g:this.bitmap.data[R+1],b:this.bitmap.data[R+2],a:this.bitmap.data[R+3]},N={r:M.bitmap.data[k],g:M.bitmap.data[k+1],b:M.bitmap.data[k+2],a:M.bitmap.data[k+3]};M.bitmap.data[k]=(G.a*(G.r-N.r)-N.r+255>>8)+N.r,M.bitmap.data[k+1]=(G.a*(G.g-N.g)-N.g+255>>8)+N.g,M.bitmap.data[k+2]=(G.a*(G.b-N.b)-N.b+255>>8)+N.b,M.bitmap.data[k+3]=this.constructor.limit255(N.a+G.a)}}),(0,l.isNodePattern)(_)&&_.call(this,null,this),this}}};a.default=c,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shgTable=a.mulTable=void 0;var o=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];a.mulTable=o;var s=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];a.shgTable=s},{}],203:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=r("./blur-tables"),l=function(){return{blur:function(m,f){if(typeof m!="number")return o.throwError.call(this,"r must be a number",f);if(m<1)return o.throwError.call(this,"r must be greater than 0",f);for(var h,u,v,y,p,g,_,x,b,M,E,C,R,I,O=this.bitmap.width-1,k=this.bitmap.height-1,G=m+1,N=s.mulTable[m],Z=s.shgTable[m],H=[],j=[],z=[],V=[],J=[],ne=[],le=2;le-- >0;){for(C=0,R=0,g=0;g<this.bitmap.height;g++){for(h=this.bitmap.data[R]*G,u=this.bitmap.data[R+1]*G,v=this.bitmap.data[R+2]*G,y=this.bitmap.data[R+3]*G,_=1;_<=m;_++)x=R+((_>O?O:_)<<2),h+=this.bitmap.data[x++],u+=this.bitmap.data[x++],v+=this.bitmap.data[x++],y+=this.bitmap.data[x];for(p=0;p<this.bitmap.width;p++)H[C]=h,j[C]=u,z[C]=v,V[C]=y,g===0&&(J[p]=((x=p+G)<O?x:O)<<2,ne[p]=(x=p-m)>0?x<<2:0),b=R+J[p],M=R+ne[p],h+=this.bitmap.data[b++]-this.bitmap.data[M++],u+=this.bitmap.data[b++]-this.bitmap.data[M++],v+=this.bitmap.data[b++]-this.bitmap.data[M++],y+=this.bitmap.data[b]-this.bitmap.data[M],C++;R+=this.bitmap.width<<2}for(p=0;p<this.bitmap.width;p++){for(E=p,h=H[E]*G,u=j[E]*G,v=z[E]*G,y=V[E]*G,_=1;_<=m;_++)E+=_>k?0:this.bitmap.width,h+=H[E],u+=j[E],v+=z[E],y+=V[E];for(C=p<<2,g=0;g<this.bitmap.height;g++)I=y*N>>>Z,this.bitmap.data[C+3]=I,I>255&&(this.bitmap.data[C+3]=255),I>0?(I=255/I,this.bitmap.data[C]=(h*N>>>Z)*I,this.bitmap.data[C+1]=(u*N>>>Z)*I,this.bitmap.data[C+2]=(v*N>>>Z)*I):(this.bitmap.data[C+2]=0,this.bitmap.data[C+1]=0,this.bitmap.data[C]=0),p===0&&(J[g]=((x=g+G)<k?x:k)*this.bitmap.width,ne[g]=(x=g-m)>0?x*this.bitmap.width:0),b=p+J[g],M=p+ne[g],h+=H[b]-H[M],u+=j[b]-j[M],v+=z[b]-z[M],y+=V[b]-V[M],C+=this.bitmap.width<<2}}return(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{circle:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(m=d,d={});var f=d.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,h={x:typeof d.x=="number"?d.x:this.bitmap.width/2,y:typeof d.y=="number"?d.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,v,y){var p=Math.sqrt(Math.pow(u-h.x,2)+Math.pow(v-h.y,2));f-p<=0?this.bitmap.data[y+3]=0:f-p<1&&(this.bitmap.data[y+3]=255*(f-p))}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],205:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=s(r("@babel/runtime/helpers/toConsumableArray")),c=s(r("tinycolor2")),d=r("@jimp/utils");function m(p,g,_,x){for(var b=[0,0,0],M=(g.length-1)/2,E=0;E<g.length;E+=1)for(var C=0;C<g[E].length;C+=1){var R=p.getPixelIndex(_+E-M,x+C-M);b[0]+=p.bitmap.data[R]*g[E][C],b[1]+=p.bitmap.data[R+1]*g[E][C],b[2]+=p.bitmap.data[R+2]*g[E][C]}return b}var f=function(g){return typeof g!="undefined"&&g!==null};function h(p){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,_,x){var b=parseInt(.2126*this.bitmap.data[x]+.7152*this.bitmap.data[x+1]+.0722*this.bitmap.data[x+2],10);this.bitmap.data[x]=b,this.bitmap.data[x+1]=b,this.bitmap.data[x+2]=b}),(0,d.isNodePattern)(p)&&p.call(this,null,this),this}function u(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(g.r-p.r)*(_/100)+p.r,g:(g.g-p.g)*(_/100)+p.g,b:(g.b-p.b)*(_/100)+p.b}}function v(p,g){var _=this;return!p||!Array.isArray(p)?d.throwError.call(this,"actions must be an array",g):(p=p.map(function(x){return(x.apply==="xor"||x.apply==="mix")&&(x.params[0]=(0,c.default)(x.params[0]).toRgb()),x}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,b,M){var E={r:_.bitmap.data[M],g:_.bitmap.data[M+1],b:_.bitmap.data[M+2]},C=function(I,O){return _.constructor.limit255(E[I]+O)};p.forEach(function(R){if(R.apply==="mix")E=u(E,R.params[0],R.params[1]);else if(R.apply==="tint")E=u(E,{r:255,g:255,b:255},R.params[0]);else if(R.apply==="shade")E=u(E,{r:0,g:0,b:0},R.params[0]);else if(R.apply==="xor")E={r:E.r^R.params[0].r,g:E.g^R.params[0].g,b:E.b^R.params[0].b};else if(R.apply==="red")E.r=C("r",R.params[0]);else if(R.apply==="green")E.g=C("g",R.params[0]);else if(R.apply==="blue")E.b=C("b",R.params[0]);else{var I;if(R.apply==="hue"&&(R.apply="spin"),E=(0,c.default)(E),!E[R.apply])return d.throwError.call(_,"action "+R.apply+" not supported",g);E=(I=E)[R.apply].apply(I,(0,l.default)(R.params)).toRgb()}}),_.bitmap.data[M]=E.r,_.bitmap.data[M+1]=E.g,_.bitmap.data[M+2]=E.b}),(0,d.isNodePattern)(g)&&g.call(this,null,this),this)}var y=function(){return{brightness:function(_,x){return typeof _!="number"?d.throwError.call(this,"val must be numbers",x):_<-1||_>1?d.throwError.call(this,"val must be a number between -1 and +1",x):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,M,E){_<0?(this.bitmap.data[E]=this.bitmap.data[E]*(1+_),this.bitmap.data[E+1]=this.bitmap.data[E+1]*(1+_),this.bitmap.data[E+2]=this.bitmap.data[E+2]*(1+_)):(this.bitmap.data[E]=this.bitmap.data[E]+(255-this.bitmap.data[E])*_,this.bitmap.data[E+1]=this.bitmap.data[E+1]+(255-this.bitmap.data[E+1])*_,this.bitmap.data[E+2]=this.bitmap.data[E+2]+(255-this.bitmap.data[E+2])*_)}),(0,d.isNodePattern)(x)&&x.call(this,null,this),this)},contrast:function(_,x){if(typeof _!="number")return d.throwError.call(this,"val must be numbers",x);if(_<-1||_>1)return d.throwError.call(this,"val must be a number between -1 and +1",x);var b=(_+1)/(1-_);function M(E){return E=Math.floor(b*(E-127)+127),E<0?0:E>255?255:E}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,C,R){this.bitmap.data[R]=M(this.bitmap.data[R]),this.bitmap.data[R+1]=M(this.bitmap.data[R+1]),this.bitmap.data[R+2]=M(this.bitmap.data[R+2])}),(0,d.isNodePattern)(x)&&x.call(this,null,this),this},posterize:function(_,x){return typeof _!="number"?d.throwError.call(this,"n must be numbers",x):(_<2&&(_=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,M,E){this.bitmap.data[E]=Math.floor(this.bitmap.data[E]/255*(_-1))/(_-1)*255,this.bitmap.data[E+1]=Math.floor(this.bitmap.data[E+1]/255*(_-1))/(_-1)*255,this.bitmap.data[E+2]=Math.floor(this.bitmap.data[E+2]/255*(_-1))/(_-1)*255}),(0,d.isNodePattern)(x)&&x.call(this,null,this),this)},greyscale:h,grayscale:h,opacity:function(_,x){return typeof _!="number"?d.throwError.call(this,"f must be a number",x):_<0||_>1?d.throwError.call(this,"f must be a number from 0 to 1",x):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,M,E){var C=this.bitmap.data[E+3]*_;this.bitmap.data[E+3]=C}),(0,d.isNodePattern)(x)&&x.call(this,null,this),this)},sepia:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,b,M){var E=this.bitmap.data[M],C=this.bitmap.data[M+1],R=this.bitmap.data[M+2];E=E*.393+C*.769+R*.189,C=E*.349+C*.686+R*.168,R=E*.272+C*.534+R*.131,this.bitmap.data[M]=E<255?E:255,this.bitmap.data[M+1]=C<255?C:255,this.bitmap.data[M+2]=R<255?R:255}),(0,d.isNodePattern)(_)&&_.call(this,null,this),this},fade:function(_,x){return typeof _!="number"?d.throwError.call(this,"f must be a number",x):_<0||_>1?d.throwError.call(this,"f must be a number from 0 to 1",x):(this.opacity(1-_),(0,d.isNodePattern)(x)&&x.call(this,null,this),this)},convolution:function(_,x,b){typeof x=="function"&&typeof b=="undefined"&&(b=x,x=null),x||(x=this.constructor.EDGE_EXTEND);var M=o.from(this.bitmap.data),E=_.length,C=_[0].length,R=Math.floor(E/2),I=Math.floor(C/2),O=-R,k=-I,G,N,Z,H,j,z,V,J,ne,le;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ue,K,ae){H=0,Z=0,N=0;for(var se=O;se<=R;se++)for(var fe=k;fe<=I;fe++)J=ue+fe,ne=K+se,G=_[se+R][fe+I],le=this.getPixelIndex(J,ne,x),le===-1?(V=0,z=0,j=0):(j=this.bitmap.data[le+0],z=this.bitmap.data[le+1],V=this.bitmap.data[le+2]),N+=G*j,Z+=G*z,H+=G*V;N<0&&(N=0),Z<0&&(Z=0),H<0&&(H=0),N>255&&(N=255),Z>255&&(Z=255),H>255&&(H=255),M[ae+0]=N,M[ae+1]=Z,M[ae+2]=H}),this.bitmap.data=M,(0,d.isNodePattern)(b)&&b.call(this,null,this),this},opaque:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,b,M){this.bitmap.data[M+3]=255}),(0,d.isNodePattern)(_)&&_.call(this,null,this),this},pixelate:function(_,x,b,M,E,C){if(typeof x=="function")C=x,E=null,M=null,b=null,x=null;else{if(typeof _!="number")return d.throwError.call(this,"size must be a number",C);if(f(x)&&typeof x!="number")return d.throwError.call(this,"x must be a number",C);if(f(b)&&typeof b!="number")return d.throwError.call(this,"y must be a number",C);if(f(M)&&typeof M!="number")return d.throwError.call(this,"w must be a number",C);if(f(E)&&typeof E!="number")return d.throwError.call(this,"h must be a number",C)}var R=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];x=x||0,b=b||0,M=f(M)?M:this.bitmap.width-x,E=f(E)?E:this.bitmap.height-b;var I=this.cloneQuiet();return this.scanQuiet(x,b,M,E,function(O,k,G){O=_*Math.floor(O/_),k=_*Math.floor(k/_);var N=m(I,R,O,k);this.bitmap.data[G]=N[0],this.bitmap.data[G+1]=N[1],this.bitmap.data[G+2]=N[2]}),(0,d.isNodePattern)(C)&&C.call(this,null,this),this},convolute:function(_,x,b,M,E,C){if(!Array.isArray(_))return d.throwError.call(this,"the kernel must be an array",C);if(typeof x=="function")C=x,x=null,b=null,M=null,E=null;else{if(f(x)&&typeof x!="number")return d.throwError.call(this,"x must be a number",C);if(f(b)&&typeof b!="number")return d.throwError.call(this,"y must be a number",C);if(f(M)&&typeof M!="number")return d.throwError.call(this,"w must be a number",C);if(f(E)&&typeof E!="number")return d.throwError.call(this,"h must be a number",C)}var R=(_.length-1)/2;x=f(x)?x:R,b=f(b)?b:R,M=f(M)?M:this.bitmap.width-x,E=f(E)?E:this.bitmap.height-b;var I=this.cloneQuiet();return this.scanQuiet(x,b,M,E,function(O,k,G){var N=m(I,_,O,k);this.bitmap.data[G]=this.constructor.limit255(N[0]),this.bitmap.data[G+1]=this.constructor.limit255(N[1]),this.bitmap.data[G+2]=this.constructor.limit255(N[2])}),(0,d.isNodePattern)(C)&&C.call(this,null,this),this},color:v,colour:v}};a.default=y,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{contain:function(d,m,f,h,u){if(typeof d!="number"||typeof m!="number")return o.throwError.call(this,"w and h must be numbers",u);typeof f=="string"&&(typeof h=="function"&&typeof u=="undefined"&&(u=h),h=f,f=null),typeof f=="function"&&(typeof u=="undefined"&&(u=f),h=null,f=null),typeof h=="function"&&typeof u=="undefined"&&(u=h,h=null),f=f||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=f&(1<<3)-1,y=f>>3;if(!(v!==0&&!(v&v-1)||y!==0&&!(y&y-1)))return o.throwError.call(this,"only use one flag per alignment direction",u);var p=v>>1,g=y>>1,_=d/m>this.bitmap.width/this.bitmap.height?m/this.bitmap.height:d/this.bitmap.width,x=this.cloneQuiet().scale(_,h);return this.resize(d,m,h),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,M,E){this.bitmap.data.writeUInt32BE(this._background,E)}),this.blit(x,(this.bitmap.width-x.bitmap.width)/2*p,(this.bitmap.height-x.bitmap.height)/2*g),(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],207:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{cover:function(d,m,f,h,u){if(typeof d!="number"||typeof m!="number")return o.throwError.call(this,"w and h must be numbers",u);f&&typeof f=="function"&&typeof u=="undefined"?(u=f,f=null,h=null):typeof h=="function"&&typeof u=="undefined"&&(u=h,h=null),f=f||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=f&(1<<3)-1,y=f>>3;if(!(v!==0&&!(v&v-1)||y!==0&&!(y&y-1)))return o.throwError.call(this,"only use one flag per alignment direction",u);var p=v>>1,g=y>>1,_=d/m>this.bitmap.width/this.bitmap.height?d/this.bitmap.width:m/this.bitmap.height;return this.scale(_,h),this.crop((this.bitmap.width-d)/2*p,(this.bitmap.height-m)/2*g,d,m),(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],208:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var l=s(r("@babel/runtime/helpers/typeof")),c=r("@jimp/utils");function d(m){return m("crop",function(f,h,u,v,y){if(typeof f!="number"||typeof h!="number")return c.throwError.call(this,"x and y must be numbers",y);if(typeof u!="number"||typeof v!="number")return c.throwError.call(this,"w and h must be numbers",y);if(f=Math.round(f),h=Math.round(h),u=Math.round(u),v=Math.round(v),f===0&&u===this.bitmap.width){var p=u*h+f<<2,g=p+v*u<<2;this.bitmap.data=this.bitmap.data.slice(p,g)}else{var _=o.allocUnsafe(u*v*4),x=0;this.scanQuiet(f,h,u,v,function(b,M,E){var C=this.bitmap.data.readUInt32BE(E,!0);_.writeUInt32BE(C,x,!0),x+=4}),this.bitmap.data=_}return this.bitmap.width=u,this.bitmap.height=v,(0,c.isNodePattern)(y)&&y.call(this,null,this),this}),{class:{autocrop:function(){for(var h=this.bitmap.width,u=this.bitmap.height,v=1,y,p=0,g=2e-4,_=!0,x=!1,b={north:!1,south:!1,east:!1,west:!1},M=arguments.length,E=new Array(M),C=0;C<M;C++)E[C]=arguments[C];for(var R=0,I=E.length;R<I;R++)if(typeof E[R]=="number"&&(g=E[R]),typeof E[R]=="boolean"&&(_=E[R]),typeof E[R]=="function"&&(y=E[R]),(0,l.default)(E[R])==="object"){var O=E[R];typeof O.tolerance!="undefined"&&(g=O.tolerance),typeof O.cropOnlyFrames!="undefined"&&(_=O.cropOnlyFrames),typeof O.cropSymmetric!="undefined"&&(x=O.cropSymmetric),typeof O.leaveBorder!="undefined"&&(p=O.leaveBorder),typeof O.ignoreSides!="undefined"&&(b=O.ignoreSides)}var k=this.getPixelColor(0,0),G=this.constructor.intToRGBA(k),N=0,Z=0,H=0,j=0;if(k=this.getPixelColor(0,0),!b.north){e:for(var z=0;z<u-v;z++){for(var V=0;V<h;V++){var J=this.getPixelColor(V,z),ne=this.constructor.intToRGBA(J);if(this.constructor.colorDiff(G,ne)>g)break e}N++}}if(k=this.getPixelColor(h,0),!b.east){e:for(var le=0;le<h-v;le++){for(var ue=0+N;ue<u;ue++){var K=this.getPixelColor(le,ue),ae=this.constructor.intToRGBA(K);if(this.constructor.colorDiff(G,ae)>g)break e}Z++}}if(k=this.getPixelColor(0,u),!b.south){e:for(var se=u-1;se>=N+v;se--){for(var fe=h-Z-1;fe>=0;fe--){var he=this.getPixelColor(fe,se),we=this.constructor.intToRGBA(he);if(this.constructor.colorDiff(G,we)>g)break e}H++}}if(k=this.getPixelColor(h,u),!b.west){e:for(var xe=h-1;xe>=0+Z+v;xe--){for(var Ie=u-1;Ie>=0+N;Ie--){var ge=this.getPixelColor(xe,Ie),Oe=this.constructor.intToRGBA(ge);if(this.constructor.colorDiff(G,Oe)>g)break e}j++}}var me=!1;if(j-=p,Z-=p,N-=p,H-=p,x){var pe=Math.min(Z,j),re=Math.min(N,H);j=pe,Z=pe,N=re,H=re}j=j>=0?j:0,Z=Z>=0?Z:0,N=N>=0?N:0,H=H>=0?H:0;var ie=h-(j+Z),Y=u-(H+N);return _?me=Z!==0&&N!==0&&j!==0&&H!==0:me=Z!==0||N!==0||j!==0||H!==0,me&&this.crop(Z,N,ie,Y),(0,c.isNodePattern)(y)&&y.call(this,null,this),this}}}}i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/typeof")),l=r("@jimp/utils"),c=function(){return{displace:function(f,h,u){if((0,s.default)(f)!=="object"||f.constructor!==this.constructor)return l.throwError.call(this,"The source must be a Jimp image",u);if(typeof h!="number")return l.throwError.call(this,"factor must be a number",u);var v=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,p,g){var _=f.bitmap.data[g]/256*h;_=Math.round(_);var x=this.getPixelIndex(y+_,p);this.bitmap.data[x]=v.bitmap.data[g],this.bitmap.data[x+1]=v.bitmap.data[g+1],this.bitmap.data[x+2]=v.bitmap.data[g+2]}),(0,l.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=c,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils");function s(c){var d=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,f,h){var u=((f&3)<<2)+m%4,v=d[u];this.bitmap.data[h]=Math.min(this.bitmap.data[h]+v,255),this.bitmap.data[h+1]=Math.min(this.bitmap.data[h+1]+v,255),this.bitmap.data[h+2]=Math.min(this.bitmap.data[h+2]+v,255)}),(0,o.isNodePattern)(c)&&c.call(this,null,this),this}var l=function(){return{dither565:s,dither16:s}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],211:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{fisheye:function(){var d=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},f=arguments.length>1?arguments[1]:void 0;typeof m=="function"&&(f=m,m={r:2.5});var h=this.cloneQuiet(),u=h.bitmap,v=u.width,y=u.height;return h.scanQuiet(0,0,v,y,function(p,g){var _=p/v,x=g/y,b=Math.sqrt(Math.pow(_-.5,2)+Math.pow(x-.5,2)),M=2*Math.pow(b,m.r),E=(_-.5)/b,C=(x-.5)/b,R=Math.round((M*E+.5)*v),I=Math.round((M*C+.5)*y),O=h.getPixelColor(R,I);d.setPixelColor(O,p,g)}),this.setPixelColor(h.getPixelColor(v/2,y/2),v/2,y/2),(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],212:[function(r,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils");function l(d,m,f){if(typeof d!="boolean"||typeof m!="boolean")return s.throwError.call(this,"horizontal and vertical must be Booleans",f);var h=o.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,v,y){var p=d?this.bitmap.width-1-u:u,g=m?this.bitmap.height-1-v:v,_=this.bitmap.width*g+p<<2,x=this.bitmap.data.readUInt32BE(y);h.writeUInt32BE(x,_)}),this.bitmap.data=o.from(h),(0,s.isNodePattern)(f)&&f.call(this,null,this),this}var c=function(){return{flip:l,mirror:l}};a.default=c,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{gaussian:function(d,m){if(typeof d!="number")return o.throwError.call(this,"r must be a number",m);if(d<1)return o.throwError.call(this,"r must be greater than 0",m);for(var f=Math.ceil(d*2.57),h=f*2+1,u=d*d*2,v=u*Math.PI,y=[],p=0;p<h;p++){y[p]=[];for(var g=0;g<h;g++){var _=Math.pow(g-f,2)+Math.pow(p-f,2);y[p][g]=Math.exp(-_/u)/v}}for(var x=0;x<this.bitmap.height;x++)for(var b=0;b<this.bitmap.width;b++)for(var M=0,E=0,C=0,R=0,I=0,O=0;O<h;O++){for(var k=0;k<h;k++){var G=Math.min(this.bitmap.width-1,Math.max(0,k+b-f)),N=Math.min(this.bitmap.height-1,Math.max(0,O+x-f)),Z=y[O][k],H=N*this.bitmap.width+G<<2;M+=this.bitmap.data[H]*Z,E+=this.bitmap.data[H+1]*Z,C+=this.bitmap.data[H+2]*Z,R+=this.bitmap.data[H+3]*Z,I+=Z}var j=x*this.bitmap.width+b<<2;this.bitmap.data[j]=Math.round(M/I),this.bitmap.data[j+1]=Math.round(E/I),this.bitmap.data[j+2]=Math.round(C/I),this.bitmap.data[j+3]=Math.round(R/I)}return(0,o.isNodePattern)(m)&&m.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],214:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{invert:function(d){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,f,h){this.bitmap.data[h]=255-this.bitmap.data[h],this.bitmap.data[h+1]=255-this.bitmap.data[h+1],this.bitmap.data[h+2]=255-this.bitmap.data[h+2]}),(0,o.isNodePattern)(d)&&d.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],215:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{mask:function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3?arguments[3]:void 0;if(!(d instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",h);if(typeof m!="number"||typeof f!="number")return o.throwError.call(this,"x and y must be numbers",h);m=Math.round(m),f=Math.round(f);var u=this.bitmap.width,v=this.bitmap.height,y=this;return d.scanQuiet(0,0,d.bitmap.width,d.bitmap.height,function(p,g,_){var x=m+p,b=f+g;if(x>=0&&b>=0&&x<u&&b<v){var M=y.getPixelIndex(x,b),E=this.bitmap.data,C=(E[_+0]+E[_+1]+E[_+2])/3;y.bitmap.data[M+3]*=C/255}}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],216:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils");function s(){var m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,h,u){m.r[this.bitmap.data[u+0]]++,m.g[this.bitmap.data[u+1]]++,m.b[this.bitmap.data[u+2]]++}),m}var l=function(f,h,u){return(f-h)*255/(u-h)},c=function(f){return[f.findIndex(function(h){return h>0}),255-f.slice().reverse().findIndex(function(h){return h>0})]},d=function(){return{normalize:function(h){var u=s.call(this),v={r:c(u.r),g:c(u.g),b:c(u.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,p,g){var _=this.bitmap.data[g+0],x=this.bitmap.data[g+1],b=this.bitmap.data[g+2];this.bitmap.data[g+0]=l(_,v.r[0],v.r[1]),this.bitmap.data[g+1]=l(x,v.g[0],v.g[1]),this.bitmap.data[g+2]=l(b,v.b[0],v.b[1])}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this}}};a.default=d,i.exports=a.default},{"@jimp/utils":235}],217:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=s(r("@babel/runtime/helpers/typeof")),c=s(r("@babel/runtime/helpers/toConsumableArray")),d=s(r("path")),m=s(r("load-bmfont")),f=r("@jimp/utils"),h=r("./measure-text");function u(b,M,E,C,R){return R===b.HORIZONTAL_ALIGN_LEFT?0:R===b.HORIZONTAL_ALIGN_CENTER?(C-(0,h.measureText)(M,E))/2:C-(0,h.measureText)(M,E)}function v(b,M,E,C,R){if(R.width>0&&R.height>0){var I=M.pages[R.page];b.blit(I,E+R.xoffset,C+R.yoffset,R.x,R.y,R.width,R.height)}return b}function y(b,M,E,C,R){for(var I=0;I<C.length;I++){var O=void 0;b.chars[C[I]]?O=C[I]:/\s/.test(C[I])?O="":O="?";var k=b.chars[O]||{},G=b.kernings[O];v(this,b,M,E,k||{});var N=G&&G[C[I+1]]?G[C[I+1]]:0;M+=N+(k.xadvance||R)}}function p(b,M,E){var C=M.split(" "),R=[],I=[],O=0;return C.forEach(function(k){var G=[].concat((0,c.default)(I),[k]).join(" "),N=(0,h.measureText)(b,G);N<=E?(N>O&&(O=N),I.push(k)):(R.push(I),I=[k])}),R.push(I),{lines:R,longestLine:O}}function g(b,M,E){var C=E.map(function(R){return b.read(M+"/"+R)});return Promise.all(C)}var _="browser/lib/",x=function(){return{constants:{measureText:h.measureText,measureTextHeight:h.measureTextHeight,FONT_SANS_8_BLACK:d.default.join(_,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:d.default.join(_,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:d.default.join(_,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:d.default.join(_,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:d.default.join(_,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:d.default.join(_,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:d.default.join(_,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:d.default.join(_,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:d.default.join(_,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:d.default.join(_,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:d.default.join(_,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:d.default.join(_,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:d.default.join(_,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(E,C){var R=this;return typeof E!="string"?f.throwError.call(this,"file must be a string",C):new Promise(function(I,O){C=C||function(k,G){k?O(k):I(G)},(0,m.default)(E,function(k,G){var N={},Z={};if(k)return f.throwError.call(R,k,C);for(var H=0;H<G.chars.length;H++)N[String.fromCharCode(G.chars[H].id)]=G.chars[H];for(var j=0;j<G.kernings.length;j++){var z=String.fromCharCode(G.kernings[j].first);Z[z]=Z[z]||{},Z[z][String.fromCharCode(G.kernings[j].second)]=G.kernings[j].amount}g(R,d.default.dirname(E),G.pages).then(function(V){C(null,{chars:N,kernings:Z,pages:V,common:G.common,info:G.info})})})})}},class:{print:function(E,C,R,I,O,k,G){var N=this;if(typeof O=="function"&&typeof G=="undefined"&&(G=O,O=1/0),typeof O=="undefined"&&(O=1/0),typeof k=="function"&&typeof G=="undefined"&&(G=k,k=1/0),typeof k=="undefined"&&(k=1/0),(0,l.default)(E)!=="object")return f.throwError.call(this,"font must be a Jimp loadFont",G);if(typeof C!="number"||typeof R!="number"||typeof O!="number")return f.throwError.call(this,"x, y and maxWidth must be numbers",G);if(typeof O!="number")return f.throwError.call(this,"maxWidth must be a number",G);if(typeof k!="number")return f.throwError.call(this,"maxHeight must be a number",G);var Z,H;if((0,l.default)(I)==="object"&&I.text!==null&&I.text!==void 0){Z=I.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,H=I.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var j=I;I=j.text}else Z=this.constructor.HORIZONTAL_ALIGN_LEFT,H=this.constructor.VERTICAL_ALIGN_TOP,I=I.toString();k!==1/0&&H===this.constructor.VERTICAL_ALIGN_BOTTOM?R+=k-(0,h.measureTextHeight)(E,I,O):k!==1/0&&H===this.constructor.VERTICAL_ALIGN_MIDDLE&&(R+=k/2-(0,h.measureTextHeight)(E,I,O)/2);var z=Object.entries(E.chars)[0][1].xadvance,V=p(E,I,O),J=V.lines,ne=V.longestLine;return J.forEach(function(le){var ue=le.join(" "),K=u(N.constructor,E,ue,O,Z);y.call(N,E,C+K,R,ue,z),R+=E.common.lineHeight}),(0,f.isNodePattern)(G)&&G.call(this,null,this,{x:C+ne,y:R}),this}}}};a.default=x,i.exports=a.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.measureText=o,a.measureTextHeight=s;function o(l,c){for(var d=0,m=0;m<c.length;m++)if(l.chars[c[m]]){var f=l.kernings[c[m]]&&l.kernings[c[m]][c[m+1]]?l.kernings[c[m]][c[m+1]]:0;d+=(l.chars[c[m]].xadvance||0)+f}return d}function s(l,c,d){for(var m=c.split(" "),f="",h=l.common.lineHeight,u=0;u<m.length;u++){var v=f+m[u]+" ",y=o(l,v);y>d&&u>0?(h+=l.common.lineHeight,f=m[u]+" "):f=v}return h}},{}],219:[function(r,i,a){(function(o){var s=r("xhr"),l=function(){},c=r("parse-bmfont-ascii"),d=r("parse-bmfont-xml"),m=r("parse-bmfont-binary"),f=r("./lib/is-binary"),h=r("xtend"),u=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();i.exports=function(p,g){g=typeof g=="function"?g:l,typeof p=="string"?p={uri:p}:p||(p={});var _=p.binary;_&&(p=y(p)),s(p,function(x,b,M){if(x)return g(x);if(!/^2/.test(b.statusCode))return g(new Error("http status code: "+b.statusCode));if(!M)return g(new Error("no body result"));var E=!1;if(v(M)){var C=new Uint8Array(M);M=new o(C,"binary")}f(M)&&(E=!0,typeof M=="string"&&(M=new o(M,"binary"))),E||(o.isBuffer(M)&&(M=M.toString(p.encoding)),M=M.trim());var R;try{var I=b.headers["content-type"];E?R=m(M):/json/.test(I)||M.charAt(0)==="{"?R=JSON.parse(M):/xml/.test(I)||M.charAt(0)==="<"?R=d(M):R=c(M)}catch(O){g(new Error("error parsing font "+O.message)),g=l}g(null,R)})};function v(p){var g=Object.prototype.toString;return g.call(p)==="[object ArrayBuffer]"}function y(p){if(u)return h(p,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest=="undefined")throw new Error("your browser does not support XHR loading");var g=new self.XMLHttpRequest;return g.overrideMimeType("text/plain; charset=x-user-defined"),h({xhr:g},p)}}).call(this,r("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(r,i,a){(function(o){var s=r("buffer-equal"),l=new o([66,77,70,3]);i.exports=function(c){return typeof c=="string"?c.substring(0,3)==="BMF":c.length>4&&s(c.slice(0,4),l)}}).call(this,r("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r("@jimp/utils"),c=s(r("./modules/resize")),d=s(r("./modules/resize2")),m=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(u,v,y,p){if(typeof u!="number"||typeof v!="number")return l.throwError.call(this,"w and h must be numbers",p);if(typeof y=="function"&&typeof p=="undefined"&&(p=y,y=null),u===this.constructor.AUTO&&v===this.constructor.AUTO)return l.throwError.call(this,"w and h cannot both be set to auto",p);if(u===this.constructor.AUTO&&(u=this.bitmap.width*(v/this.bitmap.height)),v===this.constructor.AUTO&&(v=this.bitmap.height*(u/this.bitmap.width)),u<0||v<0)return l.throwError.call(this,"w and h must be positive numbers",p);if(u=Math.round(u),v=Math.round(v),typeof d.default[y]=="function"){var g={data:o.alloc(u*v*4),width:u,height:v};d.default[y](this.bitmap,g),this.bitmap=g}else{var _=this,x=new c.default(this.bitmap.width,this.bitmap.height,u,v,!0,!0,function(b){_.bitmap.data=o.from(b),_.bitmap.width=u,_.bitmap.height=v});x.resize(this.bitmap.data)}return(0,l.isNodePattern)(p)&&p.call(this,null,this),this}}}};a.default=m,i.exports=a.default}).call(this,r("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(r,i,a){"use strict";function o(s,l,c,d,m,f,h){this.widthOriginal=Math.abs(Math.floor(s)||0),this.heightOriginal=Math.abs(Math.floor(l)||0),this.targetWidth=Math.abs(Math.floor(c)||0),this.targetHeight=Math.abs(Math.floor(d)||0),this.colorChannels=m?4:3,this.interpolationPass=Boolean(f),this.resizeCallback=typeof h=="function"?h:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}o.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},o.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},o.prototype._resizeWidthInterpolatedRGBChannels=function(s,l){var c=l?4:3,d=this.ratioWeightWidthPass,m=this.widthBuffer,f=0,h=0,u=0,v=0,y=0,p;for(p=0;f<1/3;p+=c,f+=d)for(h=p,u=0;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)m[h]=s[u],m[h+1]=s[u+1],m[h+2]=s[u+2],l&&(m[h+3]=s[u+3]);f-=1/3;var g;for(g=this.widthOriginal-1;f<g;p+=c,f+=d)for(y=f%1,v=1-y,h=p,u=Math.floor(f)*c;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)m[h+0]=s[u+0]*v+s[u+c+0]*y,m[h+1]=s[u+1]*v+s[u+c+1]*y,m[h+2]=s[u+2]*v+s[u+c+2]*y,l&&(m[h+3]=s[u+3]*v+s[u+c+3]*y);for(g=this.originalWidthMultipliedByChannels-c;p<this.targetWidthMultipliedByChannels;p+=c)for(h=p,u=g;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)m[h]=s[u],m[h+1]=s[u+1],m[h+2]=s[u+2],l&&(m[h+3]=s[u+3]);return m},o.prototype._resizeWidthRGBChannels=function(s,l){var c=l?4:3,d=this.ratioWeightWidthPass,m=1/d,f=this.originalWidthMultipliedByChannels-c+1,h=this.targetWidthMultipliedByChannels-c+1,u=this.outputWidthWorkBench,v=this.widthBuffer,y=this.outputWidthWorkBenchOpaquePixelsCount,p=0,g=0,_=0,x=0,b=0,M=0,E=0,C=1,R=0,I=0,O=0,k=0;do{for(b=0;b<this.originalHeightMultipliedByChannels;)u[b++]=0,u[b++]=0,u[b++]=0,l&&(u[b++]=0,y[b/c-1]=0);p=d;do{for(g=1+_-x,C=Math.min(p,g),b=0,M=_;b<this.originalHeightMultipliedByChannels;M+=f)R=s[M],I=s[++M],O=s[++M],k=l?s[++M]:255,u[b++]+=(k?R:0)*C,u[b++]+=(k?I:0)*C,u[b++]+=(k?O:0)*C,l&&(u[b++]+=k*C,y[b/c-1]+=k?C:0);if(p>=g)_+=c,x=_,p-=g;else{x+=p;break}}while(p>0&&_<this.originalWidthMultipliedByChannels);for(b=0,M=E;b<this.originalHeightMultipliedByChannels;M+=h)p=l?y[b/c]:1,C=l?p?1/p:0:m,v[M]=u[b++]*C,v[++M]=u[b++]*C,v[++M]=u[b++]*C,l&&(v[++M]=u[b++]*m);E+=c}while(E<this.targetWidthMultipliedByChannels);return v},o.prototype._resizeHeightRGBChannels=function(s,l){var c=this.ratioWeightHeightPass,d=1/c,m=this.outputHeightWorkBench,f=this.heightBuffer,h=this.outputHeightWorkBenchOpaquePixelsCount,u=0,v=0,y=0,p=0,g=0,_=0,x=0,b=1,M=0,E=0,C=0,R=0;do{for(g=0;g<this.targetWidthMultipliedByChannels;)m[g++]=0,m[g++]=0,m[g++]=0,l&&(m[g++]=0,h[g/4-1]=0);u=c;do{for(v=1+y-p,b=Math.min(u,v),x=y,g=0;g<this.targetWidthMultipliedByChannels;)M=s[x++],E=s[x++],C=s[x++],R=l?s[x++]:255,m[g++]+=(R?M:0)*b,m[g++]+=(R?E:0)*b,m[g++]+=(R?C:0)*b,l&&(m[g++]+=R*b,h[g/4-1]+=R?b:0);if(u>=v)y=x,p=y,u-=v;else{p+=u;break}}while(u>0&&y<this.widthPassResultSize);for(g=0;g<this.targetWidthMultipliedByChannels;)u=l?h[g/4]:1,b=l?u?1/u:0:d,f[_++]=Math.round(m[g++]*b),f[_++]=Math.round(m[g++]*b),f[_++]=Math.round(m[g++]*b),l&&(f[_++]=Math.round(m[g++]*d))}while(_<this.finalResultSize);return f},o.prototype.resizeWidthInterpolatedRGB=function(s){return this._resizeWidthInterpolatedRGBChannels(s,!1)},o.prototype.resizeWidthInterpolatedRGBA=function(s){return this._resizeWidthInterpolatedRGBChannels(s,!0)},o.prototype.resizeWidthRGB=function(s){return this._resizeWidthRGBChannels(s,!1)},o.prototype.resizeWidthRGBA=function(s){return this._resizeWidthRGBChannels(s,!0)},o.prototype.resizeHeightInterpolated=function(s){for(var l=this.ratioWeightHeightPass,c=this.heightBuffer,d=0,m=0,f=0,h=0,u=0,v=0,y=0,p;d<1/3;d+=l)for(f=0;f<this.targetWidthMultipliedByChannels;)c[m++]=Math.round(s[f++]);for(d-=1/3,p=this.heightOriginal-1;d<p;d+=l)for(y=d%1,v=1-y,h=Math.floor(d)*this.targetWidthMultipliedByChannels,u=h+this.targetWidthMultipliedByChannels,f=0;f<this.targetWidthMultipliedByChannels;++f)c[m++]=Math.round(s[h++]*v+s[u++]*y);for(;m<this.finalResultSize;)for(f=0,h=p*this.targetWidthMultipliedByChannels;f<this.targetWidthMultipliedByChannels;++f)c[m++]=Math.round(s[h++]);return c},o.prototype.resizeHeightRGB=function(s){return this._resizeHeightRGBChannels(s,!1)},o.prototype.resizeHeightRGBA=function(s){return this._resizeHeightRGBChannels(s,!0)},o.prototype.resize=function(s){this.resizeCallback(this.resizeHeight(this.resizeWidth(s)))},o.prototype.bypassResizer=function(s){return s},o.prototype.initializeFirstPassBuffers=function(s){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),s||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},o.prototype.initializeSecondPassBuffers=function(s){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),s||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},o.prototype.generateFloatBuffer=function(s){try{return new Float32Array(s)}catch{return[]}},o.prototype.generateFloat64Buffer=function(s){try{return new Float64Array(s)}catch{return[]}},o.prototype.generateUint8Buffer=function(s){try{return new Uint8Array(s)}catch{return[]}},i.exports=o},{}],223:[function(r,i,a){(function(o){"use strict";i.exports={nearestNeighbor:function(l,c){for(var d=l.width,m=l.height,f=c.width,h=c.height,u=l.data,v=c.data,y=0;y<h;y++)for(var p=0;p<f;p++){var g=(y*f+p)*4,_=Math.floor(y*m/h),x=Math.floor(p*d/f),b=(_*d+x)*4;v[g++]=u[b++],v[g++]=u[b++],v[g++]=u[b++],v[g++]=u[b++]}},bilinearInterpolation:function(l,c){for(var d=l.width,m=l.height,f=c.width,h=c.height,u=l.data,v=c.data,y=function(k,G,N,Z,H){return G===Z?N:Math.round((k-G)*H+(Z-k)*N)},p=function(k,G,N,Z,H,j,z,V){var J=(z*d+Z)*4+G,ne=(z*d+H)*4+G,le=y(N,Z,u[J],H,u[ne]);if(V===z)v[k+G]=le;else{J=(V*d+Z)*4+G,ne=(V*d+H)*4+G;var ue=y(N,Z,u[J],H,u[ne]);v[k+G]=y(j,z,le,V,ue)}},g=0;g<h;g++)for(var _=0;_<f;_++){var x=(g*f+_)*4,b=_*d/f,M=Math.floor(b),E=Math.min(Math.ceil(b),d-1),C=g*m/h,R=Math.floor(C),I=Math.min(Math.ceil(C),m-1);p(x,0,b,M,E,C,R,I),p(x,1,b,M,E,C,R,I),p(x,2,b,M,E,C,R,I),p(x,3,b,M,E,C,R,I)}},_interpolate2D:function(l,c,d,m){for(var f=l.data,h=c.data,u=l.width,v=l.height,y=c.width,p=c.height,g=Math.max(1,Math.floor(u/y)),_=y*g,x=Math.max(1,Math.floor(v/p)),b=p*x,M=o.alloc(_*v*4),E=0;E<v;E++)for(var C=0;C<_;C++)for(var R=C*(u-1)/_,I=Math.floor(R),O=R-I,k=(E*u+I)*4,G=(E*_+C)*4,N=0;N<4;N++){var Z=k+N,H=I>0?f[Z-4]:2*f[Z]-f[Z+4],j=f[Z],z=f[Z+4],V=I<u-2?f[Z+8]:2*f[Z+4]-f[Z];M[G+N]=m(H,j,z,V,O)}for(var J=o.alloc(_*b*4),ne=0;ne<b;ne++)for(var le=0;le<_;le++)for(var ue=ne*(v-1)/b,K=Math.floor(ue),ae=ue-K,se=(K*_+le)*4,fe=(ne*_+le)*4,he=0;he<4;he++){var we=se+he,xe=K>0?M[we-_*4]:2*M[we]-M[we+_*4],Ie=M[we],ge=M[we+_*4],Oe=K<v-2?M[we+_*8]:2*M[we+_*4]-M[we];J[fe+he]=m(xe,Ie,ge,Oe,ae)}var me=g*x;if(me>1)for(var pe=0;pe<p;pe++)for(var re=0;re<y;re++){for(var ie=0,Y=0,ee=0,W=0,P=0,D=0;D<x;D++)for(var B=pe*x+D,Q=0;Q<g;Q++){var de=re*g+Q,Ce=(B*_+de)*4,be=J[Ce+3];be&&(ie+=J[Ce],Y+=J[Ce+1],ee+=J[Ce+2],P++),W+=be}var Se=(pe*y+re)*4;h[Se]=P?Math.round(ie/P):0,h[Se+1]=P?Math.round(Y/P):0,h[Se+2]=P?Math.round(ee/P):0,h[Se+3]=Math.round(W/me)}else c.data=J},bicubicInterpolation:function(l,c,d){var m=function(h,u,v,y,p){var g=y-v-h+u,_=h-u-g,x=v-h,b=u;return Math.max(0,Math.min(255,g*(p*p*p)+_*(p*p)+x*p+b))};return this._interpolate2D(l,c,d,m)},hermiteInterpolation:function(l,c,d){var m=function(h,u,v,y,p){var g=u,_=.5*(v-h),x=h-2.5*u+2*v-.5*y,b=.5*(y-h)+1.5*(u-v);return Math.max(0,Math.min(255,Math.round(((b*p+x)*p+_)*p+g)))};return this._interpolate2D(l,c,d,m)},bezierInterpolation:function(l,c,d){var m=function(h,u,v,y,p){var g=u+(v-h)/4,_=v-(y-u)/4,x=1-p,b=u*x*x*x,M=3*g*x*x*p,E=3*_*x*p*p,C=v*p*p*p;return Math.max(0,Math.min(255,Math.round(b+M+E+C)))};return this._interpolate2D(l,c,d,m)}}}).call(this,r("buffer").Buffer)},{buffer:48}],224:[function(r,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils");function l(d,m){d%=360;var f=d*Math.PI/180,h=Math.cos(f),u=Math.sin(f),v=this.bitmap.width,y=this.bitmap.height;if(m===!0||typeof m=="string"){v=Math.ceil(Math.abs(this.bitmap.width*h)+Math.abs(this.bitmap.height*u))+1,y=Math.ceil(Math.abs(this.bitmap.width*u)+Math.abs(this.bitmap.height*h))+1,v%2!=0&&v++,y%2!=0&&y++;var p=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,V,J){this.bitmap.data.writeUInt32BE(this._background,J)});var g=Math.max(v,y,this.bitmap.width,this.bitmap.height);this.resize(g,g,m),this.blit(p,this.bitmap.width/2-p.bitmap.width/2,this.bitmap.height/2-p.bitmap.height/2)}var _=this.bitmap.width,x=this.bitmap.height,b=o.alloc(this.bitmap.data.length);function M(z,V){return function(J,ne){return{x:J+z,y:ne+V}}}for(var E=M(-(_/2),-(x/2)),C=M(_/2+.5,x/2+.5),R=1;R<=x;R++)for(var I=1;I<=_;I++){var O=E(I,R),k=C(h*O.x-u*O.y,h*O.y+u*O.x),G=_*(R-1)+I-1<<2;if(k.x>=0&&k.x<_&&k.y>=0&&k.y<x){var N=(_*(k.y|0)+k.x|0)<<2,Z=this.bitmap.data.readUInt32BE(N);b.writeUInt32BE(Z,G)}else b.writeUInt32BE(this._background,G)}if(this.bitmap.data=b,m===!0||typeof m=="string"){var H=_/2-v/2,j=x/2-y/2;this.crop(H,j,v,y)}}var c=function(){return{rotate:function(f,h,u){return(typeof h=="undefined"||h===null)&&(h=!0),typeof h=="function"&&typeof u=="undefined"&&(u=h,h=!0),typeof f!="number"?s.throwError.call(this,"deg must be a number",u):typeof h!="boolean"&&typeof h!="string"?s.throwError.call(this,"mode must be a boolean or a string",u):(l.call(this,f,h,u),(0,s.isNodePattern)(u)&&u.call(this,null,this),this)}}};a.default=c,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{scale:function(d,m,f){if(typeof d!="number")return o.throwError.call(this,"f must be a number",f);if(d<0)return o.throwError.call(this,"f must be a positive number",f);typeof m=="function"&&typeof f=="undefined"&&(f=m,m=null);var h=this.bitmap.width*d,u=this.bitmap.height*d;return this.resize(h,u,m),(0,o.isNodePattern)(f)&&f.call(this,null,this),this},scaleToFit:function(d,m,f,h){if(typeof d!="number"||typeof m!="number")return o.throwError.call(this,"w and h must be numbers",h);typeof f=="function"&&typeof h=="undefined"&&(h=f,f=null);var u=d/m>this.bitmap.width/this.bitmap.height?m/this.bitmap.height:d/this.bitmap.width;return this.scale(u,f),(0,o.isNodePattern)(h)&&h.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],226:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{shadow:function(){var d=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;typeof m=="function"&&(f=m,m={});var h=m,u=h.opacity,v=u===void 0?.7:u,y=h.size,p=y===void 0?1.1:y,g=h.x,_=g===void 0?-25:g,x=h.y,b=x===void 0?25:x,M=h.blur,E=M===void 0?5:M,C=this.clone(),R=this.clone();return R.scan(0,0,R.bitmap.width,R.bitmap.height,function(I,O,k){R.bitmap.data[k]=0,R.bitmap.data[k+1]=0,R.bitmap.data[k+2]=0,R.bitmap.data[k+3]=R.constructor.limit255(R.bitmap.data[k+3]*v),d.bitmap.data[k]=0,d.bitmap.data[k+1]=0,d.bitmap.data[k+2]=0,d.bitmap.data[k+3]=0}),R.resize(R.bitmap.width*p,R.bitmap.height*p).blur(E),this.composite(R,_,b),this.composite(C,0,0),(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],227:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils"),s=function(){return{threshold:function(d,m){var f=this,h=d.max,u=d.replace,v=u===void 0?255:u,y=d.autoGreyscale,p=y===void 0?!0:y;return typeof h!="number"?o.throwError.call(this,"max must be a number",m):typeof v!="number"?o.throwError.call(this,"replace must be a number",m):typeof p!="boolean"?o.throwError.call(this,"autoGreyscale must be a boolean",m):(h=this.constructor.limit255(h),v=this.constructor.limit255(v),p&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,_,x){var b=f.bitmap.data[x]<h?f.bitmap.data[x]:v;f.bitmap.data[x]=b,f.bitmap.data[x+1]=b,f.bitmap.data[x+2]=b}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this)}}};a.default=s,i.exports=a.default},{"@jimp/utils":235}],228:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/toConsumableArray")),l=r("timm"),c=o(r("@jimp/plugin-blit")),d=o(r("@jimp/plugin-blur")),m=o(r("@jimp/plugin-circle")),f=o(r("@jimp/plugin-color")),h=o(r("@jimp/plugin-contain")),u=o(r("@jimp/plugin-cover")),v=o(r("@jimp/plugin-crop")),y=o(r("@jimp/plugin-displace")),p=o(r("@jimp/plugin-dither")),g=o(r("@jimp/plugin-fisheye")),_=o(r("@jimp/plugin-flip")),x=o(r("@jimp/plugin-gaussian")),b=o(r("@jimp/plugin-invert")),M=o(r("@jimp/plugin-mask")),E=o(r("@jimp/plugin-normalize")),C=o(r("@jimp/plugin-print")),R=o(r("@jimp/plugin-resize")),I=o(r("@jimp/plugin-rotate")),O=o(r("@jimp/plugin-scale")),k=o(r("@jimp/plugin-shadow")),G=o(r("@jimp/plugin-threshold")),N=[c.default,d.default,m.default,f.default,h.default,u.default,v.default,y.default,p.default,g.default,_.default,x.default,b.default,M.default,E.default,C.default,R.default,I.default,O.default,k.default,G.default],Z=function(j){var z=N.map(function(V){var J=V(j)||{};return!J.class&&!J.constants&&(J={class:J}),J});return l.mergeDeep.apply(void 0,(0,s.default)(z))};a.default=Z,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/defineProperty")),l=o(r("bmp-js")),c=r("@jimp/utils"),d="image/bmp",m="image/x-ms-bmp";function f(p){return(0,c.scan)(p,0,0,p.bitmap.width,p.bitmap.height,function(g,_,x){var b=this.bitmap.data[x+0],M=this.bitmap.data[x+1],E=this.bitmap.data[x+2],C=this.bitmap.data[x+3];this.bitmap.data[x+0]=C,this.bitmap.data[x+1]=E,this.bitmap.data[x+2]=M,this.bitmap.data[x+3]=b}).bitmap}function h(p){return(0,c.scan)({bitmap:p},0,0,p.width,p.height,function(g,_,x){var b=this.bitmap.data[x+0],M=this.bitmap.data[x+1],E=this.bitmap.data[x+2],C=this.bitmap.data[x+3];this.bitmap.data[x+0]=C,this.bitmap.data[x+1]=E,this.bitmap.data[x+2]=M,this.bitmap.data[x+3]=p.is_with_alpha?b:255}).bitmap}var u=function(g){return h(l.default.decode(g))},v=function(g){return l.default.encode(f(g)).data},y=function(){var g,_;return{mime:(0,s.default)({},d,["bmp"]),constants:{MIME_BMP:d,MIME_X_MS_BMP:m},decoders:(g={},(0,s.default)(g,d,u),(0,s.default)(g,m,u),g),encoders:(_={},(0,s.default)(_,d,v),(0,s.default)(_,m,v),_)}};a.default=y,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=s(r("@babel/runtime/helpers/defineProperty")),c=s(r("omggif")),d=r("gifwrap"),m="image/gif",f=function(){return{mime:(0,l.default)({},m,["gif"]),constants:{MIME_GIF:m},decoders:(0,l.default)({},m,function(u){var v=new c.default.GifReader(u),y=o.alloc(v.width*v.height*4);return v.decodeAndBlitFrameRGBA(0,y),{data:y,width:v.width,height:v.height}}),encoders:(0,l.default)({},m,function(u){var v=new d.BitmapImage(u.bitmap);d.GifUtil.quantizeDekker(v,256);var y=new d.GifFrame(v),p=new d.GifCodec;return p.encodeGif([y],{}).then(function(g){return g.buffer})})}};a.default=f,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/defineProperty")),l=o(r("jpeg-js")),c=r("@jimp/utils"),d="image/jpeg",m=function(){return{mime:(0,s.default)({},d,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:d},decoders:(0,s.default)({},d,l.default.decode),encoders:(0,s.default)({},d,function(h){return l.default.encode(h.bitmap,h._quality).data}),class:{_quality:100,quality:function(u,v){return typeof u!="number"?c.throwError.call(this,"n must be a number",v):u<0||u>100?c.throwError.call(this,"n must be a number 0 - 100",v):(this._quality=Math.round(u),(0,c.isNodePattern)(v)&&v.call(this,null,this),this)}}}};a.default=m,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=o(r("@babel/runtime/helpers/defineProperty")),l=r("pngjs"),c=r("@jimp/utils"),d="image/png",m=-1,f=0,h=1,u=2,v=3,y=4,p=function(){return{mime:(0,s.default)({},d,["png"]),constants:{MIME_PNG:d,PNG_FILTER_AUTO:m,PNG_FILTER_NONE:f,PNG_FILTER_SUB:h,PNG_FILTER_UP:u,PNG_FILTER_AVERAGE:v,PNG_FILTER_PATH:y},hasAlpha:(0,s.default)({},d,!0),decoders:(0,s.default)({},d,l.PNG.sync.read),encoders:(0,s.default)({},d,function(_){var x=new l.PNG({width:_.bitmap.width,height:_.bitmap.height});return x.data=_.bitmap.data,l.PNG.sync.write(x,{width:_.bitmap.width,height:_.bitmap.height,deflateLevel:_._deflateLevel,deflateStrategy:_._deflateStrategy,filterType:_._filterType,colorType:typeof _._colorType=="number"?_._colorType:_._rgba?6:2,inputHasAlpha:_._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:m,_colorType:null,deflateLevel:function(x,b){return typeof x!="number"?c.throwError.call(this,"l must be a number",b):x<0||x>9?c.throwError.call(this,"l must be a number 0 - 9",b):(this._deflateLevel=Math.round(x),(0,c.isNodePattern)(b)&&b.call(this,null,this),this)},deflateStrategy:function(x,b){return typeof x!="number"?c.throwError.call(this,"s must be a number",b):x<0||x>3?c.throwError.call(this,"s must be a number 0 - 3",b):(this._deflateStrategy=Math.round(x),(0,c.isNodePattern)(b)&&b.call(this,null,this),this)},filterType:function(x,b){return typeof x!="number"?c.throwError.call(this,"n must be a number",b):x<-1||x>4?c.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",b):(this._filterType=Math.round(x),(0,c.isNodePattern)(b)&&b.call(this,null,this),this)},colorType:function(x,b){return typeof x!="number"?c.throwError.call(this,"s must be a number",b):x!==0&&x!==2&&x!==4&&x!==6?c.throwError.call(this,"s must be a number 0, 2, 4, 6.",b):(this._colorType=Math.round(x),(0,c.isNodePattern)(b)&&b.call(this,null,this),this)}}}};a.default=p,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(r,i,a){(function(o){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=s(r("@babel/runtime/helpers/defineProperty")),c=s(r("utif")),d="image/tiff",m=function(){return{mime:(0,l.default)({},d,["tiff","tif"]),constants:{MIME_TIFF:d},decoders:(0,l.default)({},d,function(h){var u=c.default.decode(h),v=u[0];c.default.decodeImages(h,u);var y=c.default.toRGBA8(v);return{data:o.from(y),width:v.t256[0],height:v.t257[0]}}),encoders:(0,l.default)({},d,function(h){var u=c.default.encodeImage(h.bitmap.data,h.bitmap.width,h.bitmap.height);return o.from(u)})}};a.default=m,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("timm"),l=o(r("@jimp/jpeg")),c=o(r("@jimp/png")),d=o(r("@jimp/bmp")),m=o(r("@jimp/tiff")),f=o(r("@jimp/gif")),h=function(){return(0,s.mergeDeep)((0,l.default)(),(0,c.default)(),(0,d.default)(),(0,m.default)(),(0,f.default)())};a.default=h,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(r,i,a){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.isNodePattern=c,a.throwError=d,a.scan=m,a.scanIterator=f;var s=o(r("@babel/runtime/regenerator")),l=s.default.mark(f);function c(h){if(typeof h=="undefined")return!1;if(typeof h!="function")throw new TypeError("Callback must be a function");return!0}function d(h,u){if(typeof h=="string"&&(h=new Error(h)),typeof u=="function")return u.call(this,h);throw h}function m(h,u,v,y,p,g){u=Math.round(u),v=Math.round(v),y=Math.round(y),p=Math.round(p);for(var _=v;_<v+p;_++)for(var x=u;x<u+y;x++){var b=h.bitmap.width*_+x<<2;g.call(h,x,_,b)}return h}function f(h,u,v,y,p){var g,_,x;return s.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u=Math.round(u),v=Math.round(v),y=Math.round(y),p=Math.round(p),g=v;case 5:if(!(g<v+p)){M.next=17;break}_=u;case 7:if(!(_<u+y)){M.next=14;break}return x=h.bitmap.width*g+_<<2,M.next=11,{x:_,y:g,idx:x,image:h};case 11:_++,M.next=7;break;case 14:g++,M.next=5;break;case 17:case"end":return M.stop()}},l)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})});var V5=cr(uC()),Fn=cr(Xr());var qm={};kk(qm,{ACESFilmicToneMapping:()=>L1,AddEquation:()=>tc,AddOperation:()=>IC,AdditiveAnimationBlendMode:()=>fb,AdditiveBlending:()=>$0,AlphaFormat:()=>WC,AlwaysDepth:()=>MC,AlwaysStencilFunc:()=>kR,AmbientLight:()=>K_,AmbientLightProbe:()=>IS,AnimationClip:()=>ep,AnimationLoader:()=>sP,AnimationMixer:()=>BS,AnimationObjectGroup:()=>NS,AnimationUtils:()=>rr,ArcCurve:()=>C_,ArrayCamera:()=>c_,ArrowHelper:()=>jP,Audio:()=>ny,AudioAnalyser:()=>DS,AudioContext:()=>RS,AudioListener:()=>wP,AudioLoader:()=>PS,AxesHelper:()=>YS,AxisHelper:()=>SG,BackSide:()=>hr,BasicDepthPacking:()=>DR,BasicShadowMap:()=>WF,BinaryTextureLoader:()=>CG,Bone:()=>Lm,BooleanKeyframeTrack:()=>Ju,BoundingBoxHelper:()=>EG,Box2:()=>Oc,Box3:()=>Mi,Box3Helper:()=>HP,BoxBufferGeometry:()=>Tl,BoxGeometry:()=>Tl,BoxHelper:()=>ZS,BufferAttribute:()=>yn,BufferGeometry:()=>Vt,BufferGeometryLoader:()=>AS,ByteType:()=>NC,Cache:()=>Tc,Camera:()=>Al,CameraHelper:()=>GP,CanvasRenderer:()=>PG,CanvasTexture:()=>Om,CatmullRomCurve3:()=>P_,CineonToneMapping:()=>kC,CircleBufferGeometry:()=>Nd,CircleGeometry:()=>Nd,ClampToEdgeWrapping:()=>ni,Clock:()=>Zm,Color:()=>bt,ColorKeyframeTrack:()=>j_,CompressedTexture:()=>S_,CompressedTextureLoader:()=>lP,ConeBufferGeometry:()=>Bd,ConeGeometry:()=>Bd,CubeCamera:()=>ym,CubeReflectionMapping:()=>nc,CubeRefractionMapping:()=>rc,CubeTexture:()=>pc,CubeTextureLoader:()=>xS,CubeUVReflectionMapping:()=>od,CubeUVRefractionMapping:()=>rm,CubicBezierCurve:()=>Nm,CubicBezierCurve3:()=>L_,CubicInterpolant:()=>vS,CullFaceBack:()=>V2,CullFaceFront:()=>cC,CullFaceFrontBack:()=>HF,CullFaceNone:()=>fC,Curve:()=>oa,CurvePath:()=>pS,CustomBlending:()=>hC,CustomToneMapping:()=>FC,CylinderBufferGeometry:()=>Rl,CylinderGeometry:()=>Rl,Cylindrical:()=>AP,DataTexture:()=>bs,DataTexture2DArray:()=>bm,DataTexture3D:()=>u_,DataTextureLoader:()=>wS,DataUtils:()=>YP,DecrementStencilOp:()=>eN,DecrementWrapStencilOp:()=>nN,DefaultLoadingManager:()=>Ac,DepthFormat:()=>Du,DepthStencilFormat:()=>sc,DepthTexture:()=>Em,DirectionalLight:()=>J_,DirectionalLightHelper:()=>zP,DiscreteInterpolant:()=>_S,DodecahedronBufferGeometry:()=>Ud,DodecahedronGeometry:()=>Ud,DoubleSide:()=>vs,DstAlphaFactor:()=>yC,DstColorFactor:()=>wC,DynamicBufferAttribute:()=>dG,DynamicCopyUsage:()=>gN,DynamicDrawUsage:()=>ud,DynamicReadUsage:()=>dN,EdgesGeometry:()=>A_,EdgesHelper:()=>MG,EllipseCurve:()=>zd,EqualDepth:()=>AC,EqualStencilFunc:()=>oN,EquirectangularReflectionMapping:()=>tm,EquirectangularRefractionMapping:()=>nm,Euler:()=>zu,EventDispatcher:()=>Ro,ExtrudeBufferGeometry:()=>Ts,ExtrudeGeometry:()=>Ts,FaceColors:()=>nG,FileLoader:()=>Bo,FlatShading:()=>Z2,Float16BufferAttribute:()=>Ub,Float32Attribute:()=>wG,Float32BufferAttribute:()=>Ft,Float64Attribute:()=>bG,Float64BufferAttribute:()=>zb,FloatType:()=>ys,Fog:()=>Ld,FogExp2:()=>Pd,Font:()=>NG,FontLoader:()=>FG,FrontSide:()=>vl,Frustum:()=>Md,GLBufferAttribute:()=>zS,GLSL1:()=>_N,GLSL3:()=>pb,GammaEncoding:()=>N1,GreaterDepth:()=>RC,GreaterEqualDepth:()=>CC,GreaterEqualStencilFunc:()=>fN,GreaterStencilFunc:()=>lN,GridHelper:()=>jS,Group:()=>Xu,HalfFloatType:()=>ac,HemisphereLight:()=>X_,HemisphereLightHelper:()=>FP,HemisphereLightProbe:()=>LS,IcosahedronBufferGeometry:()=>Vd,IcosahedronGeometry:()=>Vd,ImageBitmapLoader:()=>CS,ImageLoader:()=>tp,ImageUtils:()=>ku,ImmediateRenderObject:()=>BG,IncrementStencilOp:()=>$F,IncrementWrapStencilOp:()=>tN,InstancedBufferAttribute:()=>Ss,InstancedBufferGeometry:()=>rp,InstancedInterleavedBuffer:()=>US,InstancedMesh:()=>__,Int16Attribute:()=>vG,Int16BufferAttribute:()=>Nb,Int32Attribute:()=>yG,Int32BufferAttribute:()=>Bb,Int8Attribute:()=>pG,Int8BufferAttribute:()=>Ob,IntType:()=>UC,InterleavedBuffer:()=>Yu,InterleavedBufferAttribute:()=>Cl,Interpolant:()=>As,InterpolateDiscrete:()=>sm,InterpolateLinear:()=>lm,InterpolateSmooth:()=>k1,InvertStencilOp:()=>rN,JSONLoader:()=>LG,KeepStencilOp:()=>z1,KeyframeTrack:()=>io,LOD:()=>rS,LatheBufferGeometry:()=>jd,LatheGeometry:()=>jd,Layers:()=>Gu,LensFlare:()=>DG,LessDepth:()=>TC,LessEqualDepth:()=>P1,LessEqualStencilFunc:()=>sN,LessStencilFunc:()=>aN,Light:()=>ao,LightProbe:()=>np,Line:()=>Es,Line3:()=>HS,LineBasicMaterial:()=>Hr,LineCurve:()=>Gd,LineCurve3:()=>hS,LineDashedMaterial:()=>W_,LineLoop:()=>x_,LinePieces:()=>eG,LineSegments:()=>Bi,LineStrip:()=>$9,LinearEncoding:()=>ri,LinearFilter:()=>xr,LinearInterpolant:()=>V_,LinearMipMapLinearFilter:()=>YF,LinearMipMapNearestFilter:()=>XF,LinearMipmapLinearFilter:()=>ic,LinearMipmapNearestFilter:()=>$2,LinearToneMapping:()=>DC,Loader:()=>Ci,LoaderUtils:()=>jm,LoadingManager:()=>Z_,LoopOnce:()=>RR,LoopPingPong:()=>LR,LoopRepeat:()=>PR,LuminanceAlphaFormat:()=>jC,LuminanceFormat:()=>VC,MOUSE:()=>$a,Material:()=>Gr,MaterialLoader:()=>TS,Math:()=>IN,MathUtils:()=>IN,Matrix3:()=>wr,Matrix4:()=>Dt,MaxEquation:()=>Q2,Mesh:()=>Jn,MeshBasicMaterial:()=>eo,MeshDepthMaterial:()=>yc,MeshDistanceMaterial:()=>xc,MeshFaceMaterial:()=>iG,MeshLambertMaterial:()=>G_,MeshMatcapMaterial:()=>H_,MeshNormalMaterial:()=>z_,MeshPhongMaterial:()=>B_,MeshPhysicalMaterial:()=>N_,MeshStandardMaterial:()=>Jd,MeshToonMaterial:()=>U_,MinEquation:()=>q2,MirroredRepeatWrapping:()=>am,MixOperation:()=>LC,MultiMaterial:()=>aG,MultiplyBlending:()=>Y2,MultiplyOperation:()=>em,NearestFilter:()=>Fr,NearestMipMapLinearFilter:()=>ZF,NearestMipMapNearestFilter:()=>jF,NearestMipmapLinearFilter:()=>O1,NearestMipmapNearestFilter:()=>D1,NeverDepth:()=>EC,NeverStencilFunc:()=>iN,NoBlending:()=>_l,NoColors:()=>tG,NoToneMapping:()=>_s,NormalAnimationBlendMode:()=>F1,NormalBlending:()=>ad,NotEqualDepth:()=>PC,NotEqualStencilFunc:()=>uN,NumberKeyframeTrack:()=>Kd,Object3D:()=>dn,ObjectLoader:()=>dP,ObjectSpaceNormalMap:()=>OR,OctahedronBufferGeometry:()=>bc,OctahedronGeometry:()=>bc,OneFactor:()=>gC,OneMinusDstAlphaFactor:()=>xC,OneMinusDstColorFactor:()=>bC,OneMinusSrcAlphaFactor:()=>K2,OneMinusSrcColorFactor:()=>_C,OrthographicCamera:()=>ro,PCFShadowMap:()=>j2,PCFSoftShadowMap:()=>R1,PMREMGenerator:()=>Qb,ParametricGeometry:()=>OG,Particle:()=>sG,ParticleBasicMaterial:()=>fG,ParticleSystem:()=>lG,ParticleSystemMaterial:()=>cG,Path:()=>Hd,PerspectiveCamera:()=>Wn,Plane:()=>Oo,PlaneBufferGeometry:()=>ko,PlaneGeometry:()=>ko,PlaneHelper:()=>WP,PointCloud:()=>oG,PointCloudMaterial:()=>uG,PointLight:()=>Q_,PointLightHelper:()=>DP,Points:()=>Fd,PointsMaterial:()=>qu,PolarGridHelper:()=>NP,PolyhedronBufferGeometry:()=>Ms,PolyhedronGeometry:()=>Ms,PositionalAudio:()=>SP,PropertyBinding:()=>wn,PropertyMixer:()=>OS,QuadraticBezierCurve:()=>Bm,QuadraticBezierCurve3:()=>Um,Quaternion:()=>Cr,QuaternionKeyframeTrack:()=>Mc,QuaternionLinearInterpolant:()=>yS,REVISION:()=>C1,RGBADepthPacking:()=>U1,RGBAFormat:()=>zr,RGBAIntegerFormat:()=>KC,RGBA_ASTC_10x10_Format:()=>cR,RGBA_ASTC_10x5_Format:()=>lR,RGBA_ASTC_10x6_Format:()=>uR,RGBA_ASTC_10x8_Format:()=>fR,RGBA_ASTC_12x10_Format:()=>hR,RGBA_ASTC_12x12_Format:()=>dR,RGBA_ASTC_4x4_Format:()=>eR,RGBA_ASTC_5x4_Format:()=>tR,RGBA_ASTC_5x5_Format:()=>nR,RGBA_ASTC_6x5_Format:()=>rR,RGBA_ASTC_6x6_Format:()=>iR,RGBA_ASTC_8x5_Format:()=>aR,RGBA_ASTC_8x6_Format:()=>oR,RGBA_ASTC_8x8_Format:()=>sR,RGBA_BPTC_Format:()=>pR,RGBA_ETC2_EAC_Format:()=>ub,RGBA_PVRTC_2BPPV1_Format:()=>sb,RGBA_PVRTC_4BPPV1_Format:()=>ob,RGBA_S3TC_DXT1_Format:()=>tb,RGBA_S3TC_DXT3_Format:()=>nb,RGBA_S3TC_DXT5_Format:()=>rb,RGBDEncoding:()=>db,RGBEEncoding:()=>B1,RGBEFormat:()=>ZC,RGBFormat:()=>Iu,RGBIntegerFormat:()=>JC,RGBM16Encoding:()=>hb,RGBM7Encoding:()=>cb,RGB_ETC1_Format:()=>$C,RGB_ETC2_Format:()=>lb,RGB_PVRTC_2BPPV1_Format:()=>ab,RGB_PVRTC_4BPPV1_Format:()=>ib,RGB_S3TC_DXT1_Format:()=>eb,RGFormat:()=>qC,RGIntegerFormat:()=>QC,RawShaderMaterial:()=>mc,Ray:()=>bl,Raycaster:()=>ry,RectAreaLight:()=>$_,RedFormat:()=>XC,RedIntegerFormat:()=>YC,ReinhardToneMapping:()=>OC,RepeatWrapping:()=>im,ReplaceStencilOp:()=>KF,ReverseSubtractEquation:()=>pC,RingBufferGeometry:()=>Zd,RingGeometry:()=>Zd,SRGB8_ALPHA8_ASTC_10x10_Format:()=>TR,SRGB8_ALPHA8_ASTC_10x5_Format:()=>SR,SRGB8_ALPHA8_ASTC_10x6_Format:()=>ER,SRGB8_ALPHA8_ASTC_10x8_Format:()=>MR,SRGB8_ALPHA8_ASTC_12x10_Format:()=>AR,SRGB8_ALPHA8_ASTC_12x12_Format:()=>CR,SRGB8_ALPHA8_ASTC_4x4_Format:()=>mR,SRGB8_ALPHA8_ASTC_5x4_Format:()=>gR,SRGB8_ALPHA8_ASTC_5x5_Format:()=>vR,SRGB8_ALPHA8_ASTC_6x5_Format:()=>_R,SRGB8_ALPHA8_ASTC_6x6_Format:()=>yR,SRGB8_ALPHA8_ASTC_8x5_Format:()=>xR,SRGB8_ALPHA8_ASTC_8x6_Format:()=>wR,SRGB8_ALPHA8_ASTC_8x8_Format:()=>bR,Scene:()=>wc,SceneUtils:()=>IG,ShaderChunk:()=>cn,ShaderLib:()=>no,ShaderMaterial:()=>xs,ShadowMaterial:()=>F_,Shape:()=>Fo,ShapeBufferGeometry:()=>Sc,ShapeGeometry:()=>Sc,ShapePath:()=>ZP,ShapeUtils:()=>No,ShortType:()=>BC,Skeleton:()=>Im,SkeletonHelper:()=>VS,SkinnedMesh:()=>Pm,SmoothShading:()=>VF,Sphere:()=>Po,SphereBufferGeometry:()=>Ec,SphereGeometry:()=>Ec,Spherical:()=>Ym,SphericalHarmonics3:()=>ey,SplineCurve:()=>zm,SpotLight:()=>q_,SpotLightHelper:()=>LP,Sprite:()=>Rm,SpriteMaterial:()=>Mm,SrcAlphaFactor:()=>J2,SrcAlphaSaturateFactor:()=>SC,SrcColorFactor:()=>vC,StaticCopyUsage:()=>mN,StaticDrawUsage:()=>ld,StaticReadUsage:()=>hN,StereoCamera:()=>_P,StreamCopyUsage:()=>vN,StreamDrawUsage:()=>cN,StreamReadUsage:()=>pN,StringKeyframeTrack:()=>Ku,SubtractEquation:()=>dC,SubtractiveBlending:()=>X2,TOUCH:()=>Lu,TangentSpaceNormalMap:()=>fc,TetrahedronBufferGeometry:()=>Xd,TetrahedronGeometry:()=>Xd,TextGeometry:()=>kG,Texture:()=>or,TextureLoader:()=>Cc,TorusBufferGeometry:()=>Yd,TorusGeometry:()=>Yd,TorusKnotBufferGeometry:()=>qd,TorusKnotGeometry:()=>qd,Triangle:()=>br,TriangleFanDrawMode:()=>QF,TriangleStripDrawMode:()=>qF,TrianglesDrawMode:()=>IR,TubeBufferGeometry:()=>Qd,TubeGeometry:()=>Qd,UVMapping:()=>I1,Uint16Attribute:()=>_G,Uint16BufferAttribute:()=>gm,Uint32Attribute:()=>xG,Uint32BufferAttribute:()=>vm,Uint8Attribute:()=>mG,Uint8BufferAttribute:()=>kb,Uint8ClampedAttribute:()=>gG,Uint8ClampedBufferAttribute:()=>Fb,Uniform:()=>Xm,UniformsLib:()=>Et,UniformsUtils:()=>a_,UnsignedByteType:()=>yl,UnsignedInt248Type:()=>oc,UnsignedIntType:()=>om,UnsignedShort4444Type:()=>zC,UnsignedShort5551Type:()=>GC,UnsignedShort565Type:()=>HC,UnsignedShortType:()=>sd,VSMShadowMap:()=>id,Vector2:()=>ht,Vector3:()=>Le,Vector4:()=>Cn,VectorKeyframeTrack:()=>$d,Vertex:()=>hG,VertexColors:()=>rG,VideoTexture:()=>oS,WebGL1Renderer:()=>tS,WebGLCubeRenderTarget:()=>xm,WebGLMultipleRenderTargets:()=>_b,WebGLMultisampleRenderTarget:()=>hm,WebGLRenderTarget:()=>aa,WebGLRenderTargetCube:()=>RG,WebGLRenderer:()=>kn,WebGLUtils:()=>I4,WireframeGeometry:()=>k_,WireframeHelper:()=>TG,WrapAroundEnding:()=>um,XHRLoader:()=>AG,ZeroCurvatureEnding:()=>lc,ZeroFactor:()=>mC,ZeroSlopeEnding:()=>uc,ZeroStencilOp:()=>JF,sRGBEncoding:()=>Ou});var C1="135",$a={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fC=0,V2=1,cC=2,HF=3,WF=0,j2=1,R1=2,id=3,vl=0,hr=1,vs=2,Z2=1,VF=2,_l=0,ad=1,$0=2,X2=3,Y2=4,hC=5,tc=100,dC=101,pC=102,q2=103,Q2=104,mC=200,gC=201,vC=202,_C=203,J2=204,K2=205,yC=206,xC=207,wC=208,bC=209,SC=210,EC=0,MC=1,TC=2,P1=3,AC=4,CC=5,RC=6,PC=7,em=0,LC=1,IC=2,_s=0,DC=1,OC=2,kC=3,L1=4,FC=5,I1=300,nc=301,rc=302,tm=303,nm=304,od=306,rm=307,im=1e3,ni=1001,am=1002,Fr=1003,D1=1004,jF=1004,O1=1005,ZF=1005,xr=1006,$2=1007,XF=1007,ic=1008,YF=1008,yl=1009,NC=1010,BC=1011,sd=1012,UC=1013,om=1014,ys=1015,ac=1016,zC=1017,GC=1018,HC=1019,oc=1020,WC=1021,Iu=1022,zr=1023,VC=1024,jC=1025,ZC=zr,Du=1026,sc=1027,XC=1028,YC=1029,qC=1030,QC=1031,JC=1032,KC=1033,eb=33776,tb=33777,nb=33778,rb=33779,ib=35840,ab=35841,ob=35842,sb=35843,$C=36196,lb=37492,ub=37496,eR=37808,tR=37809,nR=37810,rR=37811,iR=37812,aR=37813,oR=37814,sR=37815,lR=37816,uR=37817,fR=37818,cR=37819,hR=37820,dR=37821,pR=36492,mR=37840,gR=37841,vR=37842,_R=37843,yR=37844,xR=37845,wR=37846,bR=37847,SR=37848,ER=37849,MR=37850,TR=37851,AR=37852,CR=37853,RR=2200,PR=2201,LR=2202,sm=2300,lm=2301,k1=2302,lc=2400,uc=2401,um=2402,F1=2500,fb=2501,IR=0,qF=1,QF=2,ri=3e3,Ou=3001,N1=3007,B1=3002,cb=3004,hb=3005,db=3006,DR=3200,U1=3201,fc=0,OR=1,JF=0,z1=7680,KF=7681,$F=7682,eN=7683,tN=34055,nN=34056,rN=5386,iN=512,aN=513,oN=514,sN=515,lN=516,uN=517,fN=518,kR=519,ld=35044,ud=35048,cN=35040,hN=35045,dN=35049,pN=35041,mN=35046,gN=35050,vN=35042,_N="100",pb="300 es",Ro=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let r=this._listeners[e.type];if(r!==void 0){e.target=this;let i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}},ii=[];for(let n=0;n<256;n++)ii[n]=(n<16?"0":"")+n.toString(16);var G1=1234567,cc=Math.PI/180,fm=180/Math.PI;function xa(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ii[n&255]+ii[n>>8&255]+ii[n>>16&255]+ii[n>>24&255]+"-"+ii[e&255]+ii[e>>8&255]+"-"+ii[e>>16&15|64]+ii[e>>24&255]+"-"+ii[t&63|128]+ii[t>>8&255]+"-"+ii[t>>16&255]+ii[t>>24&255]+ii[r&255]+ii[r>>8&255]+ii[r>>16&255]+ii[r>>24&255]).toUpperCase()}function ai(n,e,t){return Math.max(e,Math.min(t,n))}function mb(n,e){return(n%e+e)%e}function yN(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function xN(n,e,t){return n!==e?(t-n)/(e-n):0}function cm(n,e,t){return(1-t)*n+t*e}function wN(n,e,t,r){return cm(n,e,1-Math.exp(-t*r))}function bN(n,e=1){return e-Math.abs(mb(n,e*2)-e)}function SN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function EN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function MN(n,e){return n+Math.floor(Math.random()*(e-n+1))}function TN(n,e){return n+Math.random()*(e-n)}function AN(n){return n*(.5-Math.random())}function CN(n){return n!==void 0&&(G1=n%2147483647),G1=G1*16807%2147483647,(G1-1)/2147483646}function RN(n){return n*cc}function PN(n){return n*fm}function gb(n){return(n&n-1)==0&&n!==0}function FR(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function NR(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function LN(n,e,t,r,i){let a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),c=a((e+r)/2),d=o((e+r)/2),m=a((e-r)/2),f=o((e-r)/2),h=a((r-e)/2),u=o((r-e)/2);switch(i){case"XYX":n.set(s*d,l*m,l*f,s*c);break;case"YZY":n.set(l*f,s*d,l*m,s*c);break;case"ZXZ":n.set(l*m,l*f,s*d,s*c);break;case"XZX":n.set(s*d,l*u,l*h,s*c);break;case"YXY":n.set(l*h,s*d,l*u,s*c);break;case"ZYZ":n.set(l*u,l*h,s*d,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var IN=Object.freeze({__proto__:null,DEG2RAD:cc,RAD2DEG:fm,generateUUID:xa,clamp:ai,euclideanModulo:mb,mapLinear:yN,inverseLerp:xN,lerp:cm,damp:wN,pingpong:bN,smoothstep:SN,smootherstep:EN,randInt:MN,randFloat:TN,randFloatSpread:AN,seededRandom:CN,degToRad:RN,radToDeg:PN,isPowerOfTwo:gb,ceilPowerOfTwo:FR,floorPowerOfTwo:NR,setQuaternionFromProperEuler:LN}),ht=class{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};ht.prototype.isVector2=!0;var wr=class{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,a,o,s,l,c){let d=this.elements;return d[0]=e,d[1]=i,d[2]=s,d[3]=t,d[4]=a,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],l=r[6],c=r[1],d=r[4],m=r[7],f=r[2],h=r[5],u=r[8],v=i[0],y=i[3],p=i[6],g=i[1],_=i[4],x=i[7],b=i[2],M=i[5],E=i[8];return a[0]=o*v+s*g+l*b,a[3]=o*y+s*_+l*M,a[6]=o*p+s*x+l*E,a[1]=c*v+d*g+m*b,a[4]=c*y+d*_+m*M,a[7]=c*p+d*x+m*E,a[2]=f*v+h*g+u*b,a[5]=f*y+h*_+u*M,a[8]=f*p+h*x+u*E,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*s*c-r*a*d+r*s*l+i*a*c-i*o*l}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8],m=d*o-s*c,f=s*l-d*a,h=c*a-o*l,u=t*m+r*f+i*h;if(u===0)return this.set(0,0,0,0,0,0,0,0,0);let v=1/u;return e[0]=m*v,e[1]=(i*c-d*r)*v,e[2]=(s*r-i*o)*v,e[3]=f*v,e[4]=(d*t-i*l)*v,e[5]=(i*a-s*t)*v,e[6]=h*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*a)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){let l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*o+c*s)+o+e,-i*c,i*l,-i*(-c*o+l*s)+s+t,0,0,1),this}scale(e,t){let r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],c=i[4],d=i[7];return i[0]=t*a+r*l,i[3]=t*o+r*c,i[6]=t*s+r*d,i[1]=-r*a+t*l,i[4]=-r*o+t*c,i[7]=-r*s+t*d,this}translate(e,t){let r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};wr.prototype.isMatrix3=!0;function BR(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}var DN={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fd(n,e){return new DN[n](e)}function H1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function UR(n,e=0){let t=3735928559^e,r=1103547991^e;for(let i=0,a;i<n.length;i++)a=n.charCodeAt(i),t=Math.imul(t^a,2654435761),r=Math.imul(r^a,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&r)+(t>>>0)}var cd,ku=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{cd===void 0&&(cd=H1("canvas")),cd.width=e.width,cd.height=e.height;let r=cd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=cd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},ON=0,or=class extends Ro{constructor(e=or.DEFAULT_IMAGE,t=or.DEFAULT_MAPPING,r=ni,i=ni,a=xr,o=ic,s=zr,l=yl,c=1,d=ri){super();Object.defineProperty(this,"id",{value:ON++}),this.uuid=xa(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new ht(0,0),this.repeat=new ht(1,1),this.center=new ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let i=this.image;if(i.uuid===void 0&&(i.uuid=xa()),!t&&e.images[i.uuid]===void 0){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(vb(i[o].image)):a.push(vb(i[o]))}else a=vb(i);e.images[i.uuid]={uuid:i.uuid,url:a}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==I1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case im:e.x=e.x-Math.floor(e.x);break;case ni:e.x=e.x<0?0:1;break;case am:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case im:e.y=e.y-Math.floor(e.y);break;case ni:e.y=e.y<0?0:1;break;case am:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};or.DEFAULT_IMAGE=void 0;or.DEFAULT_MAPPING=I1;or.prototype.isTexture=!0;function vb(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?ku.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Cn=class{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a,o=.01,s=.1,l=e.elements,c=l[0],d=l[4],m=l[8],f=l[1],h=l[5],u=l[9],v=l[2],y=l[6],p=l[10];if(Math.abs(d-f)<o&&Math.abs(m-v)<o&&Math.abs(u-y)<o){if(Math.abs(d+f)<s&&Math.abs(m+v)<s&&Math.abs(u+y)<s&&Math.abs(c+h+p-3)<s)return this.set(1,0,0,0),this;t=Math.PI;let _=(c+1)/2,x=(h+1)/2,b=(p+1)/2,M=(d+f)/4,E=(m+v)/4,C=(u+y)/4;return _>x&&_>b?_<o?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=M/r,a=E/r):x>b?x<o?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(x),r=M/i,a=C/i):b<o?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(b),r=E/a,i=C/a),this.set(r,i,a,t),this}let g=Math.sqrt((y-u)*(y-u)+(m-v)*(m-v)+(f-d)*(f-d));return Math.abs(g)<.001&&(g=1),this.x=(y-u)/g,this.y=(m-v)/g,this.z=(f-d)/g,this.w=Math.acos((c+h+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};Cn.prototype.isVector4=!0;var aa=class extends Ro{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Cn(0,0,e,t),this.scissorTest=!1,this.viewport=new Cn(0,0,e,t),this.texture=new or(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:xr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}};aa.prototype.isWebGLRenderTarget=!0;var _b=class extends aa{constructor(e,t,r){super(e,t);let i=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}};_b.prototype.isWebGLMultipleRenderTargets=!0;var hm=class extends aa{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}};hm.prototype.isWebGLMultisampleRenderTarget=!0;var Cr=class{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,a,o,s){let l=r[i+0],c=r[i+1],d=r[i+2],m=r[i+3],f=a[o+0],h=a[o+1],u=a[o+2],v=a[o+3];if(s===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=m;return}if(s===1){e[t+0]=f,e[t+1]=h,e[t+2]=u,e[t+3]=v;return}if(m!==v||l!==f||c!==h||d!==u){let y=1-s,p=l*f+c*h+d*u+m*v,g=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){let b=Math.sqrt(_),M=Math.atan2(b,p*g);y=Math.sin(y*M)/b,s=Math.sin(s*M)/b}let x=s*g;if(l=l*y+f*x,c=c*y+h*x,d=d*y+u*x,m=m*y+v*x,y===1-s){let b=1/Math.sqrt(l*l+c*c+d*d+m*m);l*=b,c*=b,d*=b,m*=b}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=m}static multiplyQuaternionsFlat(e,t,r,i,a,o){let s=r[i],l=r[i+1],c=r[i+2],d=r[i+3],m=a[o],f=a[o+1],h=a[o+2],u=a[o+3];return e[t]=s*u+d*m+l*h-c*f,e[t+1]=l*u+d*f+c*m-s*h,e[t+2]=c*u+d*h+s*f-l*m,e[t+3]=d*u-s*m-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(r/2),d=s(i/2),m=s(a/2),f=l(r/2),h=l(i/2),u=l(a/2);switch(o){case"XYZ":this._x=f*d*m+c*h*u,this._y=c*h*m-f*d*u,this._z=c*d*u+f*h*m,this._w=c*d*m-f*h*u;break;case"YXZ":this._x=f*d*m+c*h*u,this._y=c*h*m-f*d*u,this._z=c*d*u-f*h*m,this._w=c*d*m+f*h*u;break;case"ZXY":this._x=f*d*m-c*h*u,this._y=c*h*m+f*d*u,this._z=c*d*u+f*h*m,this._w=c*d*m-f*h*u;break;case"ZYX":this._x=f*d*m-c*h*u,this._y=c*h*m+f*d*u,this._z=c*d*u-f*h*m,this._w=c*d*m+f*h*u;break;case"YZX":this._x=f*d*m+c*h*u,this._y=c*h*m+f*d*u,this._z=c*d*u-f*h*m,this._w=c*d*m-f*h*u;break;case"XZY":this._x=f*d*m-c*h*u,this._y=c*h*m-f*d*u,this._z=c*d*u+f*h*m,this._w=c*d*m+f*h*u;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],l=t[9],c=t[2],d=t[6],m=t[10],f=r+s+m;if(f>0){let h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(d-l)*h,this._y=(a-c)*h,this._z=(o-i)*h}else if(r>s&&r>m){let h=2*Math.sqrt(1+r-s-m);this._w=(d-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(a+c)/h}else if(s>m){let h=2*Math.sqrt(1+s-r-m);this._w=(a-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+d)/h}else{let h=2*Math.sqrt(1+m-r-s);this._w=(o-i)/h,this._x=(a+c)/h,this._y=(l+d)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ai(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,l=t._y,c=t._z,d=t._w;return this._x=r*d+o*s+i*c-a*l,this._y=i*d+o*l+a*s-r*c,this._z=a*d+o*c+r*l-i*s,this._w=o*d-r*s-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,a=this._z,o=this._w,s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;let l=1-s*s;if(l<=Number.EPSILON){let h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),d=Math.atan2(c,s),m=Math.sin((1-t)*d)/c,f=Math.sin(t*d)/c;return this._w=o*m+this._w*f,this._x=r*m+this._x*f,this._y=i*m+this._y*f,this._z=a*m+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Cr.prototype.isQuaternion=!0;var Le=class{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(zR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zR.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,c=l*t+o*i-s*r,d=l*r+s*t-a*i,m=l*i+a*r-o*t,f=-a*t-o*r-s*i;return this.x=c*l+f*-a+d*-s-m*-o,this.y=d*l+f*-o+m*-a-c*-s,this.z=m*l+f*-s+c*-o-d*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return yb.copy(this).projectOnVector(e),this.sub(yb)}reflect(e){return this.sub(yb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos(ai(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};Le.prototype.isVector3=!0;var yb=new Le,zR=new Cr,Mi=class{constructor(e=new Le(1/0,1/0,1/0),t=new Le(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.length;l<c;l+=3){let d=e[l],m=e[l+1],f=e[l+2];d<t&&(t=d),m<r&&(r=m),f<i&&(i=f),d>a&&(a=d),m>o&&(o=m),f>s&&(s=f)}return this.min.set(t,r,i),this.max.set(a,o,s),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.count;l<c;l++){let d=e.getX(l),m=e.getY(l),f=e.getZ(l);d<t&&(t=d),m<r&&(r=m),f<i&&(i=f),d>a&&(a=d),m>o&&(o=m),f>s&&(s=f)}return this.min.set(t,r,i),this.max.set(a,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=dm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);let t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),xb.copy(t.boundingBox),xb.applyMatrix4(e.matrixWorld),this.union(xb));let r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,dm),dm.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pm),W1.subVectors(this.max,pm),hd.subVectors(e.a,pm),dd.subVectors(e.b,pm),pd.subVectors(e.c,pm),Fu.subVectors(dd,hd),Nu.subVectors(pd,dd),hc.subVectors(hd,pd);let t=[0,-Fu.z,Fu.y,0,-Nu.z,Nu.y,0,-hc.z,hc.y,Fu.z,0,-Fu.x,Nu.z,0,-Nu.x,hc.z,0,-hc.x,-Fu.y,Fu.x,0,-Nu.y,Nu.x,0,-hc.y,hc.x,0];return!wb(t,hd,dd,pd,W1)||(t=[1,0,0,0,1,0,0,0,1],!wb(t,hd,dd,pd,W1))?!1:(V1.crossVectors(Fu,Nu),t=[V1.x,V1.y,V1.z],wb(t,hd,dd,pd,W1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dm.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(dm).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Mi.prototype.isBox3=!0;var xl=[new Le,new Le,new Le,new Le,new Le,new Le,new Le,new Le],dm=new Le,xb=new Mi,hd=new Le,dd=new Le,pd=new Le,Fu=new Le,Nu=new Le,hc=new Le,pm=new Le,W1=new Le,V1=new Le,dc=new Le;function wb(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){dc.fromArray(n,a);let s=i.x*Math.abs(dc.x)+i.y*Math.abs(dc.y)+i.z*Math.abs(dc.z),l=e.dot(dc),c=t.dot(dc),d=r.dot(dc);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>s)return!1}return!0}var kN=new Mi,GR=new Le,bb=new Le,Sb=new Le,Po=class{constructor(e=new Le,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):kN.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Sb.subVectors(e,this.center);let t=Sb.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(Sb.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return bb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(GR.copy(e.center).add(bb)),this.expandByPoint(GR.copy(e.center).sub(bb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},wl=new Le,Eb=new Le,j1=new Le,Bu=new Le,Mb=new Le,Z1=new Le,Tb=new Le,bl=class{constructor(e=new Le,t=new Le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=wl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wl.copy(this.direction).multiplyScalar(t).add(this.origin),wl.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Eb.copy(e).add(t).multiplyScalar(.5),j1.copy(t).sub(e).normalize(),Bu.copy(this.origin).sub(Eb);let a=e.distanceTo(t)*.5,o=-this.direction.dot(j1),s=Bu.dot(this.direction),l=-Bu.dot(j1),c=Bu.lengthSq(),d=Math.abs(1-o*o),m,f,h,u;if(d>0)if(m=o*l-s,f=o*s-l,u=a*d,m>=0)if(f>=-u)if(f<=u){let v=1/d;m*=v,f*=v,h=m*(m+o*f+2*s)+f*(o*m+f+2*l)+c}else f=a,m=Math.max(0,-(o*f+s)),h=-m*m+f*(f+2*l)+c;else f=-a,m=Math.max(0,-(o*f+s)),h=-m*m+f*(f+2*l)+c;else f<=-u?(m=Math.max(0,-(-o*a+s)),f=m>0?-a:Math.min(Math.max(-a,-l),a),h=-m*m+f*(f+2*l)+c):f<=u?(m=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(m=Math.max(0,-(o*a+s)),f=m>0?a:Math.min(Math.max(-a,-l),a),h=-m*m+f*(f+2*l)+c);else f=o>0?-a:a,m=Math.max(0,-(o*f+s)),h=-m*m+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(m).add(this.origin),i&&i.copy(j1).multiplyScalar(f).add(Eb),h}intersectSphere(e,t){wl.subVectors(e.center,this.origin);let r=wl.dot(this.direction),i=wl.dot(wl)-r*r,a=e.radius*e.radius;if(i>a)return null;let o=Math.sqrt(a-i),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,l,c=1/this.direction.x,d=1/this.direction.y,m=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),d>=0?(a=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(a=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||a>i||((a>r||r!==r)&&(r=a),(o<i||i!==i)&&(i=o),m>=0?(s=(e.min.z-f.z)*m,l=(e.max.z-f.z)*m):(s=(e.max.z-f.z)*m,l=(e.min.z-f.z)*m),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,wl)!==null}intersectTriangle(e,t,r,i,a){Mb.subVectors(t,e),Z1.subVectors(r,e),Tb.crossVectors(Mb,Z1);let o=this.direction.dot(Tb),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Bu.subVectors(this.origin,e);let l=s*this.direction.dot(Z1.crossVectors(Bu,Z1));if(l<0)return null;let c=s*this.direction.dot(Mb.cross(Bu));if(c<0||l+c>o)return null;let d=-s*Bu.dot(Tb);return d<0?null:this.at(d/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Dt=class{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,a,o,s,l,c,d,m,f,h,u,v,y){let p=this.elements;return p[0]=e,p[4]=t,p[8]=r,p[12]=i,p[1]=a,p[5]=o,p[9]=s,p[13]=l,p[2]=c,p[6]=d,p[10]=m,p[14]=f,p[3]=h,p[7]=u,p[11]=v,p[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Dt().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,i=1/md.setFromMatrixColumn(e,0).length(),a=1/md.setFromMatrixColumn(e,1).length(),o=1/md.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(a),m=Math.sin(a);if(e.order==="XYZ"){let f=o*d,h=o*m,u=s*d,v=s*m;t[0]=l*d,t[4]=-l*m,t[8]=c,t[1]=h+u*c,t[5]=f-v*c,t[9]=-s*l,t[2]=v-f*c,t[6]=u+h*c,t[10]=o*l}else if(e.order==="YXZ"){let f=l*d,h=l*m,u=c*d,v=c*m;t[0]=f+v*s,t[4]=u*s-h,t[8]=o*c,t[1]=o*m,t[5]=o*d,t[9]=-s,t[2]=h*s-u,t[6]=v+f*s,t[10]=o*l}else if(e.order==="ZXY"){let f=l*d,h=l*m,u=c*d,v=c*m;t[0]=f-v*s,t[4]=-o*m,t[8]=u+h*s,t[1]=h+u*s,t[5]=o*d,t[9]=v-f*s,t[2]=-o*c,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){let f=o*d,h=o*m,u=s*d,v=s*m;t[0]=l*d,t[4]=u*c-h,t[8]=f*c+v,t[1]=l*m,t[5]=v*c+f,t[9]=h*c-u,t[2]=-c,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){let f=o*l,h=o*c,u=s*l,v=s*c;t[0]=l*d,t[4]=v-f*m,t[8]=u*m+h,t[1]=m,t[5]=o*d,t[9]=-s*d,t[2]=-c*d,t[6]=h*m+u,t[10]=f-v*m}else if(e.order==="XZY"){let f=o*l,h=o*c,u=s*l,v=s*c;t[0]=l*d,t[4]=-m,t[8]=c*d,t[1]=f*m+v,t[5]=o*d,t[9]=h*m-u,t[2]=u*m-h,t[6]=s*d,t[10]=v*m+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(FN,e,NN)}lookAt(e,t,r){let i=this.elements;return wa.subVectors(e,t),wa.lengthSq()===0&&(wa.z=1),wa.normalize(),Uu.crossVectors(r,wa),Uu.lengthSq()===0&&(Math.abs(r.z)===1?wa.x+=1e-4:wa.z+=1e-4,wa.normalize(),Uu.crossVectors(r,wa)),Uu.normalize(),X1.crossVectors(wa,Uu),i[0]=Uu.x,i[4]=X1.x,i[8]=wa.x,i[1]=Uu.y,i[5]=X1.y,i[9]=wa.y,i[2]=Uu.z,i[6]=X1.z,i[10]=wa.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],l=r[8],c=r[12],d=r[1],m=r[5],f=r[9],h=r[13],u=r[2],v=r[6],y=r[10],p=r[14],g=r[3],_=r[7],x=r[11],b=r[15],M=i[0],E=i[4],C=i[8],R=i[12],I=i[1],O=i[5],k=i[9],G=i[13],N=i[2],Z=i[6],H=i[10],j=i[14],z=i[3],V=i[7],J=i[11],ne=i[15];return a[0]=o*M+s*I+l*N+c*z,a[4]=o*E+s*O+l*Z+c*V,a[8]=o*C+s*k+l*H+c*J,a[12]=o*R+s*G+l*j+c*ne,a[1]=d*M+m*I+f*N+h*z,a[5]=d*E+m*O+f*Z+h*V,a[9]=d*C+m*k+f*H+h*J,a[13]=d*R+m*G+f*j+h*ne,a[2]=u*M+v*I+y*N+p*z,a[6]=u*E+v*O+y*Z+p*V,a[10]=u*C+v*k+y*H+p*J,a[14]=u*R+v*G+y*j+p*ne,a[3]=g*M+_*I+x*N+b*z,a[7]=g*E+_*O+x*Z+b*V,a[11]=g*C+_*k+x*H+b*J,a[15]=g*R+_*G+x*j+b*ne,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],c=e[13],d=e[2],m=e[6],f=e[10],h=e[14],u=e[3],v=e[7],y=e[11],p=e[15];return u*(+a*l*m-i*c*m-a*s*f+r*c*f+i*s*h-r*l*h)+v*(+t*l*h-t*c*f+a*o*f-i*o*h+i*c*d-a*l*d)+y*(+t*c*m-t*s*h-a*o*m+r*o*h+a*s*d-r*c*d)+p*(-i*s*d-t*l*m+t*s*f+i*o*m-r*o*f+r*l*d)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8],m=e[9],f=e[10],h=e[11],u=e[12],v=e[13],y=e[14],p=e[15],g=m*y*c-v*f*c+v*l*h-s*y*h-m*l*p+s*f*p,_=u*f*c-d*y*c-u*l*h+o*y*h+d*l*p-o*f*p,x=d*v*c-u*m*c+u*s*h-o*v*h-d*s*p+o*m*p,b=u*m*l-d*v*l-u*s*f+o*v*f+d*s*y-o*m*y,M=t*g+r*_+i*x+a*b;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let E=1/M;return e[0]=g*E,e[1]=(v*f*a-m*y*a-v*i*h+r*y*h+m*i*p-r*f*p)*E,e[2]=(s*y*a-v*l*a+v*i*c-r*y*c-s*i*p+r*l*p)*E,e[3]=(m*l*a-s*f*a-m*i*c+r*f*c+s*i*h-r*l*h)*E,e[4]=_*E,e[5]=(d*y*a-u*f*a+u*i*h-t*y*h-d*i*p+t*f*p)*E,e[6]=(u*l*a-o*y*a-u*i*c+t*y*c+o*i*p-t*l*p)*E,e[7]=(o*f*a-d*l*a+d*i*c-t*f*c-o*i*h+t*l*h)*E,e[8]=x*E,e[9]=(u*m*a-d*v*a-u*r*h+t*v*h+d*r*p-t*m*p)*E,e[10]=(o*v*a-u*s*a+u*r*c-t*v*c-o*r*p+t*s*p)*E,e[11]=(d*s*a-o*m*a-d*r*c+t*m*c+o*r*h-t*s*h)*E,e[12]=b*E,e[13]=(d*v*i-u*m*i+u*r*f-t*v*f-d*r*y+t*m*y)*E,e[14]=(u*s*i-o*v*i-u*r*l+t*v*l+o*r*y-t*s*y)*E,e[15]=(o*m*i-d*s*i+d*r*l-t*m*l-o*r*f+t*s*f)*E,this}scale(e){let t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,l=e.z,c=a*o,d=a*s;return this.set(c*o+r,c*s-i*l,c*l+i*s,0,c*s+i*l,d*s+r,d*l-i*o,0,c*l-i*s,d*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,c=a+a,d=o+o,m=s+s,f=a*c,h=a*d,u=a*m,v=o*d,y=o*m,p=s*m,g=l*c,_=l*d,x=l*m,b=r.x,M=r.y,E=r.z;return i[0]=(1-(v+p))*b,i[1]=(h+x)*b,i[2]=(u-_)*b,i[3]=0,i[4]=(h-x)*M,i[5]=(1-(f+p))*M,i[6]=(y+g)*M,i[7]=0,i[8]=(u+_)*E,i[9]=(y-g)*E,i[10]=(1-(f+v))*E,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements,a=md.set(i[0],i[1],i[2]).length(),o=md.set(i[4],i[5],i[6]).length(),s=md.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Lo.copy(this);let c=1/a,d=1/o,m=1/s;return Lo.elements[0]*=c,Lo.elements[1]*=c,Lo.elements[2]*=c,Lo.elements[4]*=d,Lo.elements[5]*=d,Lo.elements[6]*=d,Lo.elements[8]*=m,Lo.elements[9]*=m,Lo.elements[10]*=m,t.setFromRotationMatrix(Lo),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let s=this.elements,l=2*a/(t-e),c=2*a/(r-i),d=(t+e)/(t-e),m=(r+i)/(r-i),f=-(o+a)/(o-a),h=-2*o*a/(o-a);return s[0]=l,s[4]=0,s[8]=d,s[12]=0,s[1]=0,s[5]=c,s[9]=m,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,r,i,a,o){let s=this.elements,l=1/(t-e),c=1/(r-i),d=1/(o-a),m=(t+e)*l,f=(r+i)*c,h=(o+a)*d;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-m,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=-2*d,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};Dt.prototype.isMatrix4=!0;var md=new Le,Lo=new Dt,FN=new Le(0,0,0),NN=new Le(1,1,1),Uu=new Le,X1=new Le,wa=new Le,HR=new Dt,WR=new Cr,zu=class{constructor(e=0,t=0,r=0,i=zu.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],d=i[9],m=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(ai(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,h),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ai(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-m,a),this._z=0);break;case"ZXY":this._x=Math.asin(ai(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-m,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-ai(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ai(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-m,a)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-ai(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-d,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return HR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return WR.setFromEuler(this),this.setFromQuaternion(WR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Le(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};zu.prototype.isEuler=!0;zu.DefaultOrder="XYZ";zu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Gu=class{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},BN=0,VR=new Le,gd=new Cr,Sl=new Dt,Y1=new Le,mm=new Le,UN=new Le,zN=new Cr,jR=new Le(1,0,0),ZR=new Le(0,1,0),XR=new Le(0,0,1),GN={type:"added"},YR={type:"removed"},dn=class extends Ro{constructor(){super();Object.defineProperty(this,"id",{value:BN++}),this.uuid=xa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DefaultUp.clone();let e=new Le,t=new zu,r=new Cr,i=new Le(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Dt},normalMatrix:{value:new wr}}),this.matrix=new Dt,this.matrixWorld=new Dt,this.matrixAutoUpdate=dn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Gu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gd.setFromAxisAngle(e,t),this.quaternion.multiply(gd),this}rotateOnWorldAxis(e,t){return gd.setFromAxisAngle(e,t),this.quaternion.premultiply(gd),this}rotateX(e){return this.rotateOnAxis(jR,e)}rotateY(e){return this.rotateOnAxis(ZR,e)}rotateZ(e){return this.rotateOnAxis(XR,e)}translateOnAxis(e,t){return VR.copy(e).applyQuaternion(this.quaternion),this.position.add(VR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jR,e)}translateY(e){return this.translateOnAxis(ZR,e)}translateZ(e){return this.translateOnAxis(XR,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Sl.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Y1.copy(e):Y1.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),mm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sl.lookAt(mm,Y1,this.up):Sl.lookAt(Y1,mm,this.up),this.quaternion.setFromRotationMatrix(Sl),i&&(Sl.extractRotation(i.matrixWorld),gd.setFromRotationMatrix(Sl),this.quaternion.premultiply(gd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(GN)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(YR)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(YR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Sl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mm,e,UN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mm,zN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);let s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){let l=s.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){let m=l[c];a(e.shapes,m)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){let l=this.animations[s];i.animations.push(a(e.animations,l))}}if(t){let s=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),m=o(e.shapes),f=o(e.skeletons),h=o(e.animations);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),m.length>0&&(r.shapes=m),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h)}return r.object=i,r;function o(s){let l=[];for(let c in s){let d=s[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};dn.DefaultUp=new Le(0,1,0);dn.DefaultMatrixAutoUpdate=!0;dn.prototype.isObject3D=!0;var Io=new Le,El=new Le,Ab=new Le,Ml=new Le,vd=new Le,_d=new Le,qR=new Le,Cb=new Le,Rb=new Le,Pb=new Le,br=class{constructor(e=new Le,t=new Le,r=new Le){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Io.subVectors(e,t),i.cross(Io);let a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Io.subVectors(i,t),El.subVectors(r,t),Ab.subVectors(e,t);let o=Io.dot(Io),s=Io.dot(El),l=Io.dot(Ab),c=El.dot(El),d=El.dot(Ab),m=o*c-s*s;if(m===0)return a.set(-2,-1,-1);let f=1/m,h=(c*l-s*d)*f,u=(o*d-s*l)*f;return a.set(1-h-u,u,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ml),Ml.x>=0&&Ml.y>=0&&Ml.x+Ml.y<=1}static getUV(e,t,r,i,a,o,s,l){return this.getBarycoord(e,t,r,i,Ml),l.set(0,0),l.addScaledVector(a,Ml.x),l.addScaledVector(o,Ml.y),l.addScaledVector(s,Ml.z),l}static isFrontFacing(e,t,r,i){return Io.subVectors(r,t),El.subVectors(e,t),Io.cross(El).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Io.subVectors(this.c,this.b),El.subVectors(this.a,this.b),Io.cross(El).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return br.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return br.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return br.getUV(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return br.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return br.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,i=this.b,a=this.c,o,s;vd.subVectors(i,r),_d.subVectors(a,r),Cb.subVectors(e,r);let l=vd.dot(Cb),c=_d.dot(Cb);if(l<=0&&c<=0)return t.copy(r);Rb.subVectors(e,i);let d=vd.dot(Rb),m=_d.dot(Rb);if(d>=0&&m<=d)return t.copy(i);let f=l*m-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(vd,o);Pb.subVectors(e,a);let h=vd.dot(Pb),u=_d.dot(Pb);if(u>=0&&h<=u)return t.copy(a);let v=h*c-l*u;if(v<=0&&c>=0&&u<=0)return s=c/(c-u),t.copy(r).addScaledVector(_d,s);let y=d*u-h*m;if(y<=0&&m-d>=0&&h-u>=0)return qR.subVectors(a,i),s=(m-d)/(m-d+(h-u)),t.copy(i).addScaledVector(qR,s);let p=1/(y+v+f);return o=v*p,s=f*p,t.copy(r).addScaledVector(vd,o).addScaledVector(_d,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},HN=0,Gr=class extends Ro{constructor(){super();Object.defineProperty(this,"id",{value:HN++}),this.uuid=xa(),this.name="",this.type="Material",this.fog=!0,this.blending=ad,this.side=vl,this.vertexColors=!1,this.opacity=1,this.format=zr,this.transparent=!1,this.blendSrc=J2,this.blendDst=K2,this.blendEquation=tc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=P1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=z1,this.stencilZFail=z1,this.stencilZPass=z1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===Z2;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ad&&(r.blending=this.blending),this.side!==vl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==zr&&(r.format=this.format),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(a){let o=[];for(let s in a){let l=a[s];delete l.metadata,o.push(l)}return o}if(t){let a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};Gr.prototype.isMaterial=!0;var QR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Do={h:0,s:0,l:0},q1={h:0,s:0,l:0};function Lb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Ib(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Db(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var bt=class{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=mb(e,1),t=ai(t,0,1),r=ai(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,a=2*r-i;this.r=Lb(a,i,e+1/3),this.g=Lb(a,i,e),this.b=Lb(a,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){let s=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(s,l,c)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=r[1],a=i.length;if(a===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(a===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){let t=QR[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){let r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Ib(e.r),this.g=Ib(e.g),this.b=Ib(e.b),this}copyLinearToSRGB(e){return this.r=Db(e.r),this.g=Db(e.g),this.b=Db(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){let t=this.r,r=this.g,i=this.b,a=Math.max(t,r,i),o=Math.min(t,r,i),s,l,c=(o+a)/2;if(o===a)s=0,l=0;else{let d=a-o;switch(l=c<=.5?d/(a+o):d/(2-a-o),a){case t:s=(r-i)/d+(r<i?6:0);break;case r:s=(i-t)/d+2;break;case i:s=(t-r)/d+4;break}s/=6}return e.h=s,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(Do),Do.h+=e,Do.s+=t,Do.l+=r,this.setHSL(Do.h,Do.s,Do.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Do),e.getHSL(q1);let r=cm(Do.h,q1.h,t),i=cm(Do.s,q1.s,t),a=cm(Do.l,q1.l,t);return this.setHSL(r,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};bt.NAMES=QR;bt.prototype.isColor=!0;bt.prototype.r=1;bt.prototype.g=1;bt.prototype.b=1;var eo=class extends Gr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};eo.prototype.isMeshBasicMaterial=!0;var Qn=new Le,Q1=new ht,yn=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=ld,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new bt),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ht),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Le),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Cn),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Q1.fromBufferAttribute(this,t),Q1.applyMatrix3(e),this.setXY(t,Q1.x,Q1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix3(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.applyMatrix4(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.applyNormalMatrix(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.transformDirection(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ld&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};yn.prototype.isBufferAttribute=!0;var Ob=class extends yn{constructor(e,t,r){super(new Int8Array(e),t,r)}},kb=class extends yn{constructor(e,t,r){super(new Uint8Array(e),t,r)}},Fb=class extends yn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}},Nb=class extends yn{constructor(e,t,r){super(new Int16Array(e),t,r)}},gm=class extends yn{constructor(e,t,r){super(new Uint16Array(e),t,r)}},Bb=class extends yn{constructor(e,t,r){super(new Int32Array(e),t,r)}},vm=class extends yn{constructor(e,t,r){super(new Uint32Array(e),t,r)}},Ub=class extends yn{constructor(e,t,r){super(new Uint16Array(e),t,r)}};Ub.prototype.isFloat16BufferAttribute=!0;var Ft=class extends yn{constructor(e,t,r){super(new Float32Array(e),t,r)}},zb=class extends yn{constructor(e,t,r){super(new Float64Array(e),t,r)}},WN=0,to=new Dt,Gb=new dn,yd=new Le,ba=new Mi,_m=new Mi,qr=new Le,Vt=class extends Ro{constructor(){super();Object.defineProperty(this,"id",{value:WN++}),this.uuid=xa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(BR(e)>65535?vm:gm)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let a=new wr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return to.makeRotationFromQuaternion(e),this.applyMatrix4(to),this}rotateX(e){return to.makeRotationX(e),this.applyMatrix4(to),this}rotateY(e){return to.makeRotationY(e),this.applyMatrix4(to),this}rotateZ(e){return to.makeRotationZ(e),this.applyMatrix4(to),this}translate(e,t,r){return to.makeTranslation(e,t,r),this.applyMatrix4(to),this}scale(e,t,r){return to.makeScale(e,t,r),this.applyMatrix4(to),this}lookAt(e){return Gb.lookAt(e),Gb.updateMatrix(),this.applyMatrix4(Gb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yd).negate(),this.translate(yd.x,yd.y,yd.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Ft(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Le(-1/0,-1/0,-1/0),new Le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let a=t[r];ba.setFromBufferAttribute(a),this.morphTargetsRelative?(qr.addVectors(this.boundingBox.min,ba.min),this.boundingBox.expandByPoint(qr),qr.addVectors(this.boundingBox.max,ba.max),this.boundingBox.expandByPoint(qr)):(this.boundingBox.expandByPoint(ba.min),this.boundingBox.expandByPoint(ba.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Le,1/0);return}if(e){let r=this.boundingSphere.center;if(ba.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){let s=t[a];_m.setFromBufferAttribute(s),this.morphTargetsRelative?(qr.addVectors(ba.min,_m.min),ba.expandByPoint(qr),qr.addVectors(ba.max,_m.max),ba.expandByPoint(qr)):(ba.expandByPoint(_m.min),ba.expandByPoint(_m.max))}ba.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)qr.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(qr));if(t)for(let a=0,o=t.length;a<o;a++){let s=t[a],l=this.morphTargetsRelative;for(let c=0,d=s.count;c<d;c++)qr.fromBufferAttribute(s,c),l&&(yd.fromBufferAttribute(e,c),qr.add(yd)),i=Math.max(i,r.distanceToSquared(qr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,a=t.normal.array,o=t.uv.array,s=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new yn(new Float32Array(4*s),4));let l=t.tangent.array,c=[],d=[];for(let I=0;I<s;I++)c[I]=new Le,d[I]=new Le;let m=new Le,f=new Le,h=new Le,u=new ht,v=new ht,y=new ht,p=new Le,g=new Le;function _(I,O,k){m.fromArray(i,I*3),f.fromArray(i,O*3),h.fromArray(i,k*3),u.fromArray(o,I*2),v.fromArray(o,O*2),y.fromArray(o,k*2),f.sub(m),h.sub(m),v.sub(u),y.sub(u);let G=1/(v.x*y.y-y.x*v.y);!isFinite(G)||(p.copy(f).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(G),g.copy(h).multiplyScalar(v.x).addScaledVector(f,-y.x).multiplyScalar(G),c[I].add(p),c[O].add(p),c[k].add(p),d[I].add(g),d[O].add(g),d[k].add(g))}let x=this.groups;x.length===0&&(x=[{start:0,count:r.length}]);for(let I=0,O=x.length;I<O;++I){let k=x[I],G=k.start,N=k.count;for(let Z=G,H=G+N;Z<H;Z+=3)_(r[Z+0],r[Z+1],r[Z+2])}let b=new Le,M=new Le,E=new Le,C=new Le;function R(I){E.fromArray(a,I*3),C.copy(E);let O=c[I];b.copy(O),b.sub(E.multiplyScalar(E.dot(O))).normalize(),M.crossVectors(C,O);let G=M.dot(d[I])<0?-1:1;l[I*4]=b.x,l[I*4+1]=b.y,l[I*4+2]=b.z,l[I*4+3]=G}for(let I=0,O=x.length;I<O;++I){let k=x[I],G=k.start,N=k.count;for(let Z=G,H=G+N;Z<H;Z+=3)R(r[Z+0]),R(r[Z+1]),R(r[Z+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new yn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);let i=new Le,a=new Le,o=new Le,s=new Le,l=new Le,c=new Le,d=new Le,m=new Le;if(e)for(let f=0,h=e.count;f<h;f+=3){let u=e.getX(f+0),v=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(t,u),a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),d.subVectors(o,a),m.subVectors(i,a),d.cross(m),s.fromBufferAttribute(r,u),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),s.add(d),l.add(d),c.add(d),r.setXYZ(u,s.x,s.y,s.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),d.subVectors(o,a),m.subVectors(i,a),d.cross(m),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let r=this.attributes;for(let i in r){if(e.attributes[i]===void 0)continue;let o=r[i].array,s=e.attributes[i],l=s.array,c=s.itemSize*t,d=Math.min(l.length,o.length-c);for(let m=0,f=c;m<d;m++,f++)o[f]=l[m]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qr.fromBufferAttribute(e,t),qr.normalize(),e.setXYZ(t,qr.x,qr.y,qr.z)}toNonIndexed(){function e(s,l){let c=s.array,d=s.itemSize,m=s.normalized,f=new c.constructor(l.length*d),h=0,u=0;for(let v=0,y=l.length;v<y;v++){s.isInterleavedBufferAttribute?h=l[v]*s.data.stride+s.offset:h=l[v]*d;for(let p=0;p<d;p++)f[u++]=c[h++]}return new yn(f,d,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Vt,r=this.index.array,i=this.attributes;for(let s in i){let l=i[s],c=e(l,r);t.setAttribute(s,c)}let a=this.morphAttributes;for(let s in a){let l=[],c=a[s];for(let d=0,m=c.length;d<m;d++){let f=c[d],h=e(f,r);l.push(h)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let s=0,l=o.length;s<l;s++){let c=o[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let l in r){let c=r[l];e.data.attributes[l]=c.toJSON(e.data)}let i={},a=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],d=[];for(let m=0,f=c.length;m<f;m++){let h=c[m];d.push(h.toJSON(e.data))}d.length>0&&(i[l]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let c in i){let d=i[c];this.setAttribute(c,d.clone(t))}let a=e.morphAttributes;for(let c in a){let d=[],m=a[c];for(let f=0,h=m.length;f<h;f++)d.push(m[f].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let c=0,d=o.length;c<d;c++){let m=o[c];this.addGroup(m.start,m.count,m.materialIndex)}let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};Vt.prototype.isBufferGeometry=!0;var JR=new Dt,xd=new bl,Hb=new Po,Hu=new Le,Wu=new Le,Vu=new Le,Wb=new Le,Vb=new Le,jb=new Le,J1=new Le,K1=new Le,$1=new Le,e_=new ht,t_=new ht,n_=new ht,Zb=new Le,r_=new Le,Jn=class extends dn{constructor(e=new Vt,t=new eo){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){let r=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Hb.copy(r.boundingSphere),Hb.applyMatrix4(a),e.ray.intersectsSphere(Hb)===!1)||(JR.copy(a).invert(),xd.copy(e.ray).applyMatrix4(JR),r.boundingBox!==null&&xd.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){let s=r.index,l=r.attributes.position,c=r.morphAttributes.position,d=r.morphTargetsRelative,m=r.attributes.uv,f=r.attributes.uv2,h=r.groups,u=r.drawRange;if(s!==null)if(Array.isArray(i))for(let v=0,y=h.length;v<y;v++){let p=h[v],g=i[p.materialIndex],_=Math.max(p.start,u.start),x=Math.min(s.count,Math.min(p.start+p.count,u.start+u.count));for(let b=_,M=x;b<M;b+=3){let E=s.getX(b),C=s.getX(b+1),R=s.getX(b+2);o=i_(this,g,e,xd,l,c,d,m,f,E,C,R),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{let v=Math.max(0,u.start),y=Math.min(s.count,u.start+u.count);for(let p=v,g=y;p<g;p+=3){let _=s.getX(p),x=s.getX(p+1),b=s.getX(p+2);o=i_(this,i,e,xd,l,c,d,m,f,_,x,b),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=h.length;v<y;v++){let p=h[v],g=i[p.materialIndex],_=Math.max(p.start,u.start),x=Math.min(l.count,Math.min(p.start+p.count,u.start+u.count));for(let b=_,M=x;b<M;b+=3){let E=b,C=b+1,R=b+2;o=i_(this,g,e,xd,l,c,d,m,f,E,C,R),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{let v=Math.max(0,u.start),y=Math.min(l.count,u.start+u.count);for(let p=v,g=y;p<g;p+=3){let _=p,x=p+1,b=p+2;o=i_(this,i,e,xd,l,c,d,m,f,_,x,b),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};Jn.prototype.isMesh=!0;function VN(n,e,t,r,i,a,o,s){let l;if(e.side===hr?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side!==vs,s),l===null)return null;r_.copy(s),r_.applyMatrix4(n.matrixWorld);let c=t.ray.origin.distanceTo(r_);return c<t.near||c>t.far?null:{distance:c,point:r_.clone(),object:n}}function i_(n,e,t,r,i,a,o,s,l,c,d,m){Hu.fromBufferAttribute(i,c),Wu.fromBufferAttribute(i,d),Vu.fromBufferAttribute(i,m);let f=n.morphTargetInfluences;if(a&&f){J1.set(0,0,0),K1.set(0,0,0),$1.set(0,0,0);for(let u=0,v=a.length;u<v;u++){let y=f[u],p=a[u];y!==0&&(Wb.fromBufferAttribute(p,c),Vb.fromBufferAttribute(p,d),jb.fromBufferAttribute(p,m),o?(J1.addScaledVector(Wb,y),K1.addScaledVector(Vb,y),$1.addScaledVector(jb,y)):(J1.addScaledVector(Wb.sub(Hu),y),K1.addScaledVector(Vb.sub(Wu),y),$1.addScaledVector(jb.sub(Vu),y)))}Hu.add(J1),Wu.add(K1),Vu.add($1)}n.isSkinnedMesh&&(n.boneTransform(c,Hu),n.boneTransform(d,Wu),n.boneTransform(m,Vu));let h=VN(n,e,t,r,Hu,Wu,Vu,Zb);if(h){s&&(e_.fromBufferAttribute(s,c),t_.fromBufferAttribute(s,d),n_.fromBufferAttribute(s,m),h.uv=br.getUV(Zb,Hu,Wu,Vu,e_,t_,n_,new ht)),l&&(e_.fromBufferAttribute(l,c),t_.fromBufferAttribute(l,d),n_.fromBufferAttribute(l,m),h.uv2=br.getUV(Zb,Hu,Wu,Vu,e_,t_,n_,new ht));let u={a:c,b:d,c:m,normal:new Le,materialIndex:0};br.getNormal(Hu,Wu,Vu,u.normal),h.face=u}return h}var Tl=class extends Vt{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};let s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);let l=[],c=[],d=[],m=[],f=0,h=0;u("z","y","x",-1,-1,r,t,e,o,a,0),u("z","y","x",1,-1,r,t,-e,o,a,1),u("x","z","y",1,1,e,r,t,i,o,2),u("x","z","y",1,-1,e,r,-t,i,o,3),u("x","y","z",1,-1,e,t,r,i,a,4),u("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Ft(c,3)),this.setAttribute("normal",new Ft(d,3)),this.setAttribute("uv",new Ft(m,2));function u(v,y,p,g,_,x,b,M,E,C,R){let I=x/E,O=b/C,k=x/2,G=b/2,N=M/2,Z=E+1,H=C+1,j=0,z=0,V=new Le;for(let J=0;J<H;J++){let ne=J*O-G;for(let le=0;le<Z;le++){let ue=le*I-k;V[v]=ue*g,V[y]=ne*_,V[p]=N,c.push(V.x,V.y,V.z),V[v]=0,V[y]=0,V[p]=M>0?1:-1,d.push(V.x,V.y,V.z),m.push(le/E),m.push(1-J/C),j+=1}}for(let J=0;J<C;J++)for(let ne=0;ne<E;ne++){let le=f+ne+Z*J,ue=f+ne+Z*(J+1),K=f+(ne+1)+Z*(J+1),ae=f+(ne+1)+Z*J;l.push(le,ue,ae),l.push(ue,K,ae),z+=6}s.addGroup(h,z,R),h+=z,f+=j}}static fromJSON(e){return new Tl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function wd(n){let e={};for(let t in n){e[t]={};for(let r in n[t]){let i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ti(n){let e={};for(let t=0;t<n.length;t++){let r=wd(n[t]);for(let i in r)e[i]=r[i]}return e}var a_={clone:wd,merge:Ti},jN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ZN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,xs=class extends Gr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=jN,this.fragmentShader=ZN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wd(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}};xs.prototype.isShaderMaterial=!0;var Al=class extends dn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Dt,this.projectionMatrix=new Dt,this.projectionMatrixInverse=new Dt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};Al.prototype.isCamera=!0;var Wn=class extends Al{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=fm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(cc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fm*2*Math.atan(Math.tan(cc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(cc*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i,o=this.view;if(this.view!==null&&this.view.enabled){let l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}let s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};Wn.prototype.isPerspectiveCamera=!0;var bd=90,Sd=1,ym=class extends dn{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;let i=new Wn(bd,Sd,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Le(1,0,0)),this.add(i);let a=new Wn(bd,Sd,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Le(-1,0,0)),this.add(a);let o=new Wn(bd,Sd,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Le(0,1,0)),this.add(o);let s=new Wn(bd,Sd,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new Le(0,-1,0)),this.add(s);let l=new Wn(bd,Sd,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Le(0,0,1)),this.add(l);let c=new Wn(bd,Sd,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Le(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,a,o,s,l,c]=this.children,d=e.xr.enabled,m=e.getRenderTarget();e.xr.enabled=!1;let f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(m),e.xr.enabled=d}},pc=class extends or{constructor(e,t,r,i,a,o,s,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:nc;super(e,t,r,i,a,o,s,l,c,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};pc.prototype.isCubeTexture=!0;var xm=class extends aa{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r);super(e,e,t);t=t||{},this.texture=new pc(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:xr,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=zr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tl(5,5,5),a=new xs({name:"CubemapFromEquirect",uniforms:wd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:hr,blending:_l});a.uniforms.tEquirect.value=t;let o=new Jn(i,a),s=t.minFilter;return t.minFilter===ic&&(t.minFilter=xr),new ym(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){let a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}};xm.prototype.isWebGLCubeRenderTarget=!0;var Xb=new Le,XN=new Le,YN=new wr,Oo=class{constructor(e=new Le(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=Xb.subVectors(r,t).cross(XN.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(Xb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(r).multiplyScalar(a).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||YN.getNormalMatrix(e),i=this.coplanarPoint(Xb).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};Oo.prototype.isPlane=!0;var Ed=new Po,o_=new Le,Md=class{constructor(e=new Oo,t=new Oo,r=new Oo,i=new Oo,a=new Oo,o=new Oo){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],d=r[6],m=r[7],f=r[8],h=r[9],u=r[10],v=r[11],y=r[12],p=r[13],g=r[14],_=r[15];return t[0].setComponents(s-i,m-l,v-f,_-y).normalize(),t[1].setComponents(s+i,m+l,v+f,_+y).normalize(),t[2].setComponents(s+a,m+c,v+h,_+p).normalize(),t[3].setComponents(s-a,m-c,v-h,_-p).normalize(),t[4].setComponents(s-o,m-d,v-u,_-g).normalize(),t[5].setComponents(s+o,m+d,v+u,_+g).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ed.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ed)}intersectsSprite(e){return Ed.center.set(0,0,0),Ed.radius=.7071067811865476,Ed.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ed)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(o_.x=i.normal.x>0?e.max.x:e.min.x,o_.y=i.normal.y>0?e.max.y:e.min.y,o_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(o_)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function KR(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function qN(n,e){let t=e.isWebGL2,r=new WeakMap;function i(c,d){let m=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(d,h),n.bufferData(d,m,f),c.onUploadCallback();let u=5126;return m instanceof Float32Array?u=5126:m instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):m instanceof Uint16Array?c.isFloat16BufferAttribute?t?u=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):u=5123:m instanceof Int16Array?u=5122:m instanceof Uint32Array?u=5125:m instanceof Int32Array?u=5124:m instanceof Int8Array?u=5120:(m instanceof Uint8Array||m instanceof Uint8ClampedArray)&&(u=5121),{buffer:h,type:u,bytesPerElement:m.BYTES_PER_ELEMENT,version:c.version}}function a(c,d,m){let f=d.array,h=d.updateRange;n.bindBuffer(m,c),h.count===-1?n.bufferSubData(m,0,f):(t?n.bufferSubData(m,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(m,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);let d=r.get(c);d&&(n.deleteBuffer(d.buffer),r.delete(c))}function l(c,d){if(c.isGLBufferAttribute){let f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let m=r.get(c);m===void 0?r.set(c,i(c,d)):m.version<c.version&&(a(m.buffer,c,d),m.version=c.version)}return{get:o,remove:s,update:l}}var ko=class extends Vt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let a=e/2,o=t/2,s=Math.floor(r),l=Math.floor(i),c=s+1,d=l+1,m=e/s,f=t/l,h=[],u=[],v=[],y=[];for(let p=0;p<d;p++){let g=p*f-o;for(let _=0;_<c;_++){let x=_*m-a;u.push(x,-g,0),v.push(0,0,1),y.push(_/s),y.push(1-p/l)}}for(let p=0;p<l;p++)for(let g=0;g<s;g++){let _=g+c*p,x=g+c*(p+1),b=g+1+c*(p+1),M=g+1+c*p;h.push(_,x,M),h.push(x,b,M)}this.setIndex(h),this.setAttribute("position",new Ft(u,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2))}static fromJSON(e){return new ko(e.width,e.height,e.widthSegments,e.heightSegments)}},QN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,JN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KN=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,$N=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,eB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nB="vec3 transformed = vec3( position );",rB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iB=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,aB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,hB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,mB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gB=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_B=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,yB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wB="gl_FragColor = linearToOutputTexel( gl_FragColor );",bB=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,SB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,EB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,MB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,TB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,CB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,RB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,PB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,IB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,DB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,OB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kB=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,FB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NB=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,BB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,UB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,zB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,GB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,HB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,WB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,VB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,XB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,YB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,QB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,JB=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,KB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$B=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,eU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,iU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,oU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,sU=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,hU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,dU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,pU=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,mU=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gU=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,vU=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_U=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,bU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,SU=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,EU=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,MU=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,TU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,CU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,RU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,LU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,IU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,DU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,OU=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,kU=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,FU=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,NU=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,BU=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,UU=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,zU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,GU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,HU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,WU=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,VU=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,jU=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ZU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,XU=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YU=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qU=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,QU=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,JU=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,KU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,$U=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ez=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iz=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,az=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,fz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_z=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cn={alphamap_fragment:QN,alphamap_pars_fragment:JN,alphatest_fragment:KN,alphatest_pars_fragment:$N,aomap_fragment:eB,aomap_pars_fragment:tB,begin_vertex:nB,beginnormal_vertex:rB,bsdfs:iB,bumpmap_pars_fragment:aB,clipping_planes_fragment:oB,clipping_planes_pars_fragment:sB,clipping_planes_pars_vertex:lB,clipping_planes_vertex:uB,color_fragment:fB,color_pars_fragment:cB,color_pars_vertex:hB,color_vertex:dB,common:pB,cube_uv_reflection_fragment:mB,defaultnormal_vertex:gB,displacementmap_pars_vertex:vB,displacementmap_vertex:_B,emissivemap_fragment:yB,emissivemap_pars_fragment:xB,encodings_fragment:wB,encodings_pars_fragment:bB,envmap_fragment:SB,envmap_common_pars_fragment:EB,envmap_pars_fragment:MB,envmap_pars_vertex:TB,envmap_physical_pars_fragment:NB,envmap_vertex:AB,fog_vertex:CB,fog_pars_vertex:RB,fog_fragment:PB,fog_pars_fragment:LB,gradientmap_pars_fragment:IB,lightmap_fragment:DB,lightmap_pars_fragment:OB,lights_lambert_vertex:kB,lights_pars_begin:FB,lights_toon_fragment:BB,lights_toon_pars_fragment:UB,lights_phong_fragment:zB,lights_phong_pars_fragment:GB,lights_physical_fragment:HB,lights_physical_pars_fragment:WB,lights_fragment_begin:VB,lights_fragment_maps:jB,lights_fragment_end:ZB,logdepthbuf_fragment:XB,logdepthbuf_pars_fragment:YB,logdepthbuf_pars_vertex:qB,logdepthbuf_vertex:QB,map_fragment:JB,map_pars_fragment:KB,map_particle_fragment:$B,map_particle_pars_fragment:eU,metalnessmap_fragment:tU,metalnessmap_pars_fragment:nU,morphnormal_vertex:rU,morphtarget_pars_vertex:iU,morphtarget_vertex:aU,normal_fragment_begin:oU,normal_fragment_maps:sU,normal_pars_fragment:lU,normal_pars_vertex:uU,normal_vertex:fU,normalmap_pars_fragment:cU,clearcoat_normal_fragment_begin:hU,clearcoat_normal_fragment_maps:dU,clearcoat_pars_fragment:pU,output_fragment:mU,packing:gU,premultiplied_alpha_fragment:vU,project_vertex:_U,dithering_fragment:yU,dithering_pars_fragment:xU,roughnessmap_fragment:wU,roughnessmap_pars_fragment:bU,shadowmap_pars_fragment:SU,shadowmap_pars_vertex:EU,shadowmap_vertex:MU,shadowmask_pars_fragment:TU,skinbase_vertex:AU,skinning_pars_vertex:CU,skinning_vertex:RU,skinnormal_vertex:PU,specularmap_fragment:LU,specularmap_pars_fragment:IU,tonemapping_fragment:DU,tonemapping_pars_fragment:OU,transmission_fragment:kU,transmission_pars_fragment:FU,uv_pars_fragment:NU,uv_pars_vertex:BU,uv_vertex:UU,uv2_pars_fragment:zU,uv2_pars_vertex:GU,uv2_vertex:HU,worldpos_vertex:WU,background_vert:VU,background_frag:jU,cube_vert:ZU,cube_frag:XU,depth_vert:YU,depth_frag:qU,distanceRGBA_vert:QU,distanceRGBA_frag:JU,equirect_vert:KU,equirect_frag:$U,linedashed_vert:ez,linedashed_frag:tz,meshbasic_vert:nz,meshbasic_frag:rz,meshlambert_vert:iz,meshlambert_frag:az,meshmatcap_vert:oz,meshmatcap_frag:sz,meshnormal_vert:lz,meshnormal_frag:uz,meshphong_vert:fz,meshphong_frag:cz,meshphysical_vert:hz,meshphysical_frag:dz,meshtoon_vert:pz,meshtoon_frag:mz,points_vert:gz,points_frag:vz,shadow_vert:_z,shadow_frag:yz,sprite_vert:xz,sprite_frag:wz},Et={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new wr},uv2Transform:{value:new wr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wr}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new ht(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wr}}},no={basic:{uniforms:Ti([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:Ti([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.fog,Et.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:Ti([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:Ti([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:Ti([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:Ti([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:Ti([Et.points,Et.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:Ti([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:Ti([Et.common,Et.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:Ti([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:Ti([Et.sprite,Et.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new wr},t2D:{value:null}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},cube:{uniforms:Ti([Et.envmap,{opacity:{value:1}}]),vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:Ti([Et.common,Et.displacementmap,{referencePosition:{value:new Le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:Ti([Et.lights,Et.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};no.physical={uniforms:Ti([no.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ht(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};function bz(n,e,t,r,i){let a=new bt(0),o=0,s,l,c=null,d=0,m=null;function f(u,v){let y=!1,p=v.isScene===!0?v.background:null;p&&p.isTexture&&(p=e.get(p));let g=n.xr,_=g.getSession&&g.getSession();_&&_.environmentBlendMode==="additive"&&(p=null),p===null?h(a,o):p&&p.isColor&&(h(p,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),p&&(p.isCubeTexture||p.mapping===od)?(l===void 0&&(l=new Jn(new Tl(1,1,1),new xs({name:"BackgroundCubeMaterial",uniforms:wd(no.cube.uniforms),vertexShader:no.cube.vertexShader,fragmentShader:no.cube.fragmentShader,side:hr,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(x,b,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=p,l.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p.isRenderTargetTexture===!1?-1:1,(c!==p||d!==p.version||m!==n.toneMapping)&&(l.material.needsUpdate=!0,c=p,d=p.version,m=n.toneMapping),u.unshift(l,l.geometry,l.material,0,0,null)):p&&p.isTexture&&(s===void 0&&(s=new Jn(new ko(2,2),new xs({name:"BackgroundMaterial",uniforms:wd(no.background.uniforms),vertexShader:no.background.vertexShader,fragmentShader:no.background.fragmentShader,side:vl,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=p,p.matrixAutoUpdate===!0&&p.updateMatrix(),s.material.uniforms.uvTransform.value.copy(p.matrix),(c!==p||d!==p.version||m!==n.toneMapping)&&(s.material.needsUpdate=!0,c=p,d=p.version,m=n.toneMapping),u.unshift(s,s.geometry,s.material,0,0,null))}function h(u,v){t.buffers.color.setClear(u.r,u.g,u.b,v,i)}return{getClearColor:function(){return a},setClearColor:function(u,v=1){a.set(u),o=v,h(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(u){o=u,h(a,o)},render:f}}function Sz(n,e,t,r){let i=n.getParameter(34921),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||a!==null,s={},l=v(null),c=l;function d(G,N,Z,H,j){let z=!1;if(o){let V=u(H,Z,N);c!==V&&(c=V,f(c.object)),z=y(H,j),z&&p(H,j)}else{let V=N.wireframe===!0;(c.geometry!==H.id||c.program!==Z.id||c.wireframe!==V)&&(c.geometry=H.id,c.program=Z.id,c.wireframe=V,z=!0)}G.isInstancedMesh===!0&&(z=!0),j!==null&&t.update(j,34963),z&&(E(G,N,Z,H),j!==null&&n.bindBuffer(34963,t.get(j).buffer))}function m(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function f(G){return r.isWebGL2?n.bindVertexArray(G):a.bindVertexArrayOES(G)}function h(G){return r.isWebGL2?n.deleteVertexArray(G):a.deleteVertexArrayOES(G)}function u(G,N,Z){let H=Z.wireframe===!0,j=s[G.id];j===void 0&&(j={},s[G.id]=j);let z=j[N.id];z===void 0&&(z={},j[N.id]=z);let V=z[H];return V===void 0&&(V=v(m()),z[H]=V),V}function v(G){let N=[],Z=[],H=[];for(let j=0;j<i;j++)N[j]=0,Z[j]=0,H[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:Z,attributeDivisors:H,object:G,attributes:{},index:null}}function y(G,N){let Z=c.attributes,H=G.attributes,j=0;for(let z in H){let V=Z[z],J=H[z];if(V===void 0||V.attribute!==J||V.data!==J.data)return!0;j++}return c.attributesNum!==j||c.index!==N}function p(G,N){let Z={},H=G.attributes,j=0;for(let z in H){let V=H[z],J={};J.attribute=V,V.data&&(J.data=V.data),Z[z]=J,j++}c.attributes=Z,c.attributesNum=j,c.index=N}function g(){let G=c.newAttributes;for(let N=0,Z=G.length;N<Z;N++)G[N]=0}function _(G){x(G,0)}function x(G,N){let Z=c.newAttributes,H=c.enabledAttributes,j=c.attributeDivisors;Z[G]=1,H[G]===0&&(n.enableVertexAttribArray(G),H[G]=1),j[G]!==N&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,N),j[G]=N)}function b(){let G=c.newAttributes,N=c.enabledAttributes;for(let Z=0,H=N.length;Z<H;Z++)N[Z]!==G[Z]&&(n.disableVertexAttribArray(Z),N[Z]=0)}function M(G,N,Z,H,j,z){r.isWebGL2===!0&&(Z===5124||Z===5125)?n.vertexAttribIPointer(G,N,Z,j,z):n.vertexAttribPointer(G,N,Z,H,j,z)}function E(G,N,Z,H){if(r.isWebGL2===!1&&(G.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;g();let j=H.attributes,z=Z.getAttributes(),V=N.defaultAttributeValues;for(let J in z){let ne=z[J];if(ne.location>=0){let le=j[J];if(le===void 0&&(J==="instanceMatrix"&&G.instanceMatrix&&(le=G.instanceMatrix),J==="instanceColor"&&G.instanceColor&&(le=G.instanceColor)),le!==void 0){let ue=le.normalized,K=le.itemSize,ae=t.get(le);if(ae===void 0)continue;let se=ae.buffer,fe=ae.type,he=ae.bytesPerElement;if(le.isInterleavedBufferAttribute){let we=le.data,xe=we.stride,Ie=le.offset;if(we&&we.isInstancedInterleavedBuffer){for(let ge=0;ge<ne.locationSize;ge++)x(ne.location+ge,we.meshPerAttribute);G.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ge=0;ge<ne.locationSize;ge++)_(ne.location+ge);n.bindBuffer(34962,se);for(let ge=0;ge<ne.locationSize;ge++)M(ne.location+ge,K/ne.locationSize,fe,ue,xe*he,(Ie+K/ne.locationSize*ge)*he)}else{if(le.isInstancedBufferAttribute){for(let we=0;we<ne.locationSize;we++)x(ne.location+we,le.meshPerAttribute);G.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let we=0;we<ne.locationSize;we++)_(ne.location+we);n.bindBuffer(34962,se);for(let we=0;we<ne.locationSize;we++)M(ne.location+we,K/ne.locationSize,fe,ue,K*he,K/ne.locationSize*we*he)}}else if(V!==void 0){let ue=V[J];if(ue!==void 0)switch(ue.length){case 2:n.vertexAttrib2fv(ne.location,ue);break;case 3:n.vertexAttrib3fv(ne.location,ue);break;case 4:n.vertexAttrib4fv(ne.location,ue);break;default:n.vertexAttrib1fv(ne.location,ue)}}}}b()}function C(){O();for(let G in s){let N=s[G];for(let Z in N){let H=N[Z];for(let j in H)h(H[j].object),delete H[j];delete N[Z]}delete s[G]}}function R(G){if(s[G.id]===void 0)return;let N=s[G.id];for(let Z in N){let H=N[Z];for(let j in H)h(H[j].object),delete H[j];delete N[Z]}delete s[G.id]}function I(G){for(let N in s){let Z=s[N];if(Z[G.id]===void 0)continue;let H=Z[G.id];for(let j in H)h(H[j].object),delete H[j];delete Z[G.id]}}function O(){k(),c!==l&&(c=l,f(c.object))}function k(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:O,resetDefaultState:k,dispose:C,releaseStatesOfGeometry:R,releaseStatesOfProgram:I,initAttributes:g,enableAttribute:_,disableUnusedAttributes:b}}function Ez(n,e,t,r){let i=r.isWebGL2,a;function o(c){a=c}function s(c,d){n.drawArrays(a,c,d),t.update(d,a,1)}function l(c,d,m){if(m===0)return;let f,h;if(i)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](a,c,d,m),t.update(d,a,m)}this.setMode=o,this.render=s,this.renderInstances=l}function Mz(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let E=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(E){if(E==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext,s=t.precision!==void 0?t.precision:"highp",l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);let c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,m=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),u=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),p=n.getParameter(36348),g=n.getParameter(36349),_=f>0,x=o||e.has("OES_texture_float"),b=_&&x,M=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:d,maxTextures:m,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:u,maxAttributes:v,maxVertexUniforms:y,maxVaryings:p,maxFragmentUniforms:g,vertexTextures:_,floatFragmentTextures:x,floatVertexTextures:b,maxSamples:M}}function Tz(n){let e=this,t=null,r=0,i=!1,a=!1,o=new Oo,s=new wr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(m,f,h){let u=m.length!==0||f||r!==0||i;return i=f,t=d(m,h,0),r=m.length,u},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1,c()},this.setState=function(m,f,h){let u=m.clippingPlanes,v=m.clipIntersection,y=m.clipShadows,p=n.get(m);if(!i||u===null||u.length===0||a&&!y)a?d(null):c();else{let g=a?0:r,_=g*4,x=p.clippingState||null;l.value=x,x=d(u,f,_,h);for(let b=0;b!==_;++b)x[b]=t[b];p.clippingState=x,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=g}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(m,f,h,u){let v=m!==null?m.length:0,y=null;if(v!==0){if(y=l.value,u!==!0||y===null){let p=h+v*4,g=f.matrixWorldInverse;s.getNormalMatrix(g),(y===null||y.length<p)&&(y=new Float32Array(p));for(let _=0,x=h;_!==v;++_,x+=4)o.copy(m[_]).applyMatrix4(g,s),o.normal.toArray(y,x),y[x+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function Az(n){let e=new WeakMap;function t(o,s){return s===tm?o.mapping=nc:s===nm&&(o.mapping=rc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){let s=o.mapping;if(s===tm||s===nm)if(e.has(o)){let l=e.get(o).texture;return t(l,o.mapping)}else{let l=o.image;if(l&&l.height>0){let c=n.getRenderTarget(),d=new xm(l.height/2);return d.fromEquirectangularTexture(n,o),e.set(o,d),n.setRenderTarget(c),o.addEventListener("dispose",i),t(d.texture,o.mapping)}else return null}}return o}function i(o){let s=o.target;s.removeEventListener("dispose",i);let l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}var ro=class extends Al{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,a=r-e,o=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=d*this.view.offsetY,l=s-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};ro.prototype.isOrthographicCamera=!0;var mc=class extends xs{constructor(e){super(e);this.type="RawShaderMaterial"}};mc.prototype.isRawShaderMaterial=!0;var Td=4,ju=8,ws=Math.pow(2,ju),$R=[.125,.215,.35,.446,.526,.582],e4=ju-Td+1+$R.length,Ad=20,gc={[ri]:0,[Ou]:1,[B1]:2,[cb]:3,[hb]:4,[db]:5,[N1]:6},Yb=new ro,{_lodPlanes:wm,_sizeLods:t4,_sigmas:s_}=Rz(),n4=new bt,qb=null,vc=(1+Math.sqrt(5))/2,Cd=1/vc,r4=[new Le(1,1,1),new Le(-1,1,1),new Le(1,1,-1),new Le(-1,1,-1),new Le(0,vc,Cd),new Le(0,vc,-Cd),new Le(Cd,0,vc),new Le(-Cd,0,vc),new Le(vc,Cd,0),new Le(-vc,Cd,0)],Qb=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Pz(Ad),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){qb=this._renderer.getRenderTarget();let a=this._allocateTargets();return this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=o4(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=a4(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<wm.length;e++)wm[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(qb),e.scissorTest=!1,l_(e,0,0,e.width,e.height)}_fromTexture(e){qb=this._renderer.getRenderTarget();let t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){let t={magFilter:Fr,minFilter:Fr,generateMipmaps:!1,type:yl,format:ZC,encoding:Cz(e)?e.encoding:B1,depthBuffer:!1},r=i4(t);return r.depthBuffer=!e,this._pingPongRenderTarget=i4(t),r}_compileMaterial(e){let t=new Jn(wm[0],e);this._renderer.compile(t,Yb)}_sceneToCubeUV(e,t,r,i){let a=90,o=1,s=new Wn(a,o,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,m=d.autoClear,f=d.outputEncoding,h=d.toneMapping;d.getClearColor(n4),d.toneMapping=_s,d.outputEncoding=ri,d.autoClear=!1;let u=new eo({name:"PMREM.Background",side:hr,depthWrite:!1,depthTest:!1}),v=new Jn(new Tl,u),y=!1,p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,y=!0):(u.color.copy(n4),y=!0);for(let g=0;g<6;g++){let _=g%3;_==0?(s.up.set(0,l[g],0),s.lookAt(c[g],0,0)):_==1?(s.up.set(0,0,l[g]),s.lookAt(0,c[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,c[g])),l_(i,_*ws,g>2?ws:0,ws,ws),d.setRenderTarget(i),y&&d.render(v,s),d.render(e,s)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=h,d.outputEncoding=f,d.autoClear=m,e.background=p}_setEncoding(e,t){e.value=gc[t.encoding]}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===nc||e.mapping===rc;i?this._cubemapShader==null&&(this._cubemapShader=o4()):this._equirectShader==null&&(this._equirectShader=a4());let a=i?this._cubemapShader:this._equirectShader,o=new Jn(wm[0],a),s=a.uniforms;s.envMap.value=e,i||s.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(s.inputEncoding,e),this._setEncoding(s.outputEncoding,t.texture),l_(t,0,0,3*ws,2*ws),r.setRenderTarget(t),r.render(o,Yb)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<e4;i++){let a=Math.sqrt(s_[i]*s_[i]-s_[i-1]*s_[i-1]),o=r4[(i-1)%r4.length];this._blur(e,i-1,i,a,o)}t.autoClear=r}_blur(e,t,r,i,a){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){let l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let d=3,m=new Jn(wm[i],c),f=c.uniforms,h=t4[r]-1,u=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Ad-1),v=a/u,y=isFinite(a)?1+Math.floor(d*v):Ad;y>Ad&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ad}`);let p=[],g=0;for(let M=0;M<Ad;++M){let E=M/v,C=Math.exp(-E*E/2);p.push(C),M==0?g+=C:M<y&&(g+=2*C)}for(let M=0;M<p.length;M++)p[M]=p[M]/g;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=p,f.latitudinal.value=o==="latitudinal",s&&(f.poleAxis.value=s),f.dTheta.value=u,f.mipInt.value=ju-r,this._setEncoding(f.inputEncoding,e.texture),this._setEncoding(f.outputEncoding,e.texture);let _=t4[i],x=3*Math.max(0,ws-2*_),b=(i===0?0:2*ws)+2*_*(i>ju-Td?i-ju+Td:0);l_(t,x,b,3*_,2*_),l.setRenderTarget(t),l.render(m,Yb)}};function Cz(n){return n===void 0||n.type!==yl?!1:n.encoding===ri||n.encoding===Ou||n.encoding===N1}function Rz(){let n=[],e=[],t=[],r=ju;for(let i=0;i<e4;i++){let a=Math.pow(2,r);e.push(a);let o=1/a;i>ju-Td?o=$R[i-ju+Td-1]:i==0&&(o=0),t.push(o);let s=1/(a-1),l=-s/2,c=1+s/2,d=[l,l,c,l,c,c,l,l,c,c,l,c],m=6,f=6,h=3,u=2,v=1,y=new Float32Array(h*f*m),p=new Float32Array(u*f*m),g=new Float32Array(v*f*m);for(let x=0;x<m;x++){let b=x%3*2/3-1,M=x>2?0:-1,E=[b,M,0,b+2/3,M,0,b+2/3,M+1,0,b,M,0,b+2/3,M+1,0,b,M+1,0];y.set(E,h*f*x),p.set(d,u*f*x);let C=[x,x,x,x,x,x];g.set(C,v*f*x)}let _=new Vt;_.setAttribute("position",new yn(y,h)),_.setAttribute("uv",new yn(p,u)),_.setAttribute("faceIndex",new yn(g,v)),n.push(_),r>Td&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function i4(n){let e=new aa(3*ws,3*ws,n);return e.texture.mapping=od,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function l_(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Pz(n){let e=new Float32Array(n),t=new Le(0,1,0);return new mc({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:gc[ri]},outputEncoding:{value:gc[ri]}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Kb()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function a4(){let n=new ht(1,1);return new mc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:gc[ri]},outputEncoding:{value:gc[ri]}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Kb()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function o4(){return new mc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:gc[ri]},outputEncoding:{value:gc[ri]}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Kb()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function Jb(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Kb(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function Lz(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let l=s.mapping,c=l===tm||l===nm,d=l===nc||l===rc;if(c||d){if(e.has(s))return e.get(s).texture;{let m=s.image;if(c&&m&&m.height>0||d&&m&&i(m)){let f=n.getRenderTarget();t===null&&(t=new Qb(n));let h=c?t.fromEquirectangular(s):t.fromCubemap(s);return e.set(s,h),n.setRenderTarget(f),s.addEventListener("dispose",a),h.texture}else return null}}}return s}function i(s){let l=0,c=6;for(let d=0;d<c;d++)s[d]!==void 0&&l++;return l===c}function a(s){let l=s.target;l.removeEventListener("dispose",a);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Iz(n){let e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){let i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Dz(n,e,t,r){let i={},a=new WeakMap;function o(m){let f=m.target;f.index!==null&&e.remove(f.index);for(let u in f.attributes)e.remove(f.attributes[u]);f.removeEventListener("dispose",o),delete i[f.id];let h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function s(m,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(m){let f=m.attributes;for(let u in f)e.update(f[u],34962);let h=m.morphAttributes;for(let u in h){let v=h[u];for(let y=0,p=v.length;y<p;y++)e.update(v[y],34962)}}function c(m){let f=[],h=m.index,u=m.attributes.position,v=0;if(h!==null){let g=h.array;v=h.version;for(let _=0,x=g.length;_<x;_+=3){let b=g[_+0],M=g[_+1],E=g[_+2];f.push(b,M,M,E,E,b)}}else{let g=u.array;v=u.version;for(let _=0,x=g.length/3-1;_<x;_+=3){let b=_+0,M=_+1,E=_+2;f.push(b,M,M,E,E,b)}}let y=new(BR(f)>65535?vm:gm)(f,1);y.version=v;let p=a.get(m);p&&e.remove(p),a.set(m,y)}function d(m){let f=a.get(m);if(f){let h=m.index;h!==null&&f.version<h.version&&c(m)}else c(m);return a.get(m)}return{get:s,update:l,getWireframeAttribute:d}}function Oz(n,e,t,r){let i=r.isWebGL2,a;function o(f){a=f}let s,l;function c(f){s=f.type,l=f.bytesPerElement}function d(f,h){n.drawElements(a,h,s,f*l),t.update(h,a,1)}function m(f,h,u){if(u===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](a,h,s,f*l,u),t.update(h,a,u)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=m}function kz(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case 4:t.triangles+=s*(a/3);break;case 1:t.lines+=s*(a/2);break;case 3:t.lines+=s*(a-1);break;case 2:t.lines+=s*a;break;case 0:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}var bm=class extends or{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Fr,this.minFilter=Fr,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};bm.prototype.isDataTexture2DArray=!0;function Fz(n,e){return n[0]-e[0]}function Nz(n,e){return Math.abs(e[1])-Math.abs(n[1])}function s4(n,e){let t=1,r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function Bz(n,e,t){let r={},i=new Float32Array(8),a=new WeakMap,o=new Le,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,d,m,f){let h=c.morphTargetInfluences;if(e.isWebGL2===!0){let u=d.morphAttributes.position.length,v=a.get(d);if(v===void 0||v.count!==u){v!==void 0&&v.texture.dispose();let g=d.morphAttributes.normal!==void 0,_=d.morphAttributes.position,x=d.morphAttributes.normal||[],b=d.attributes.position.count,M=g===!0?2:1,E=b*M,C=1;E>e.maxTextureSize&&(C=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);let R=new Float32Array(E*C*4*u),I=new bm(R,E,C,u);I.format=zr,I.type=ys;let O=M*4;for(let k=0;k<u;k++){let G=_[k],N=x[k],Z=E*C*4*k;for(let H=0;H<G.count;H++){o.fromBufferAttribute(G,H),G.normalized===!0&&s4(o,G);let j=H*O;R[Z+j+0]=o.x,R[Z+j+1]=o.y,R[Z+j+2]=o.z,R[Z+j+3]=0,g===!0&&(o.fromBufferAttribute(N,H),N.normalized===!0&&s4(o,N),R[Z+j+4]=o.x,R[Z+j+5]=o.y,R[Z+j+6]=o.z,R[Z+j+7]=0)}}v={count:u,texture:I,size:new ht(E,C)},a.set(d,v)}let y=0;for(let g=0;g<h.length;g++)y+=h[g];let p=d.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",p),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{let u=h===void 0?0:h.length,v=r[d.id];if(v===void 0||v.length!==u){v=[];for(let x=0;x<u;x++)v[x]=[x,0];r[d.id]=v}for(let x=0;x<u;x++){let b=v[x];b[0]=x,b[1]=h[x]}v.sort(Nz);for(let x=0;x<8;x++)x<u&&v[x][1]?(s[x][0]=v[x][0],s[x][1]=v[x][1]):(s[x][0]=Number.MAX_SAFE_INTEGER,s[x][1]=0);s.sort(Fz);let y=d.morphAttributes.position,p=d.morphAttributes.normal,g=0;for(let x=0;x<8;x++){let b=s[x],M=b[0],E=b[1];M!==Number.MAX_SAFE_INTEGER&&E?(y&&d.getAttribute("morphTarget"+x)!==y[M]&&d.setAttribute("morphTarget"+x,y[M]),p&&d.getAttribute("morphNormal"+x)!==p[M]&&d.setAttribute("morphNormal"+x,p[M]),i[x]=E,g+=E):(y&&d.hasAttribute("morphTarget"+x)===!0&&d.deleteAttribute("morphTarget"+x),p&&d.hasAttribute("morphNormal"+x)===!0&&d.deleteAttribute("morphNormal"+x),i[x]=0)}let _=d.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Uz(n,e,t,r){let i=new WeakMap;function a(l){let c=r.render.frame,d=l.geometry,m=e.get(l,d);return i.get(m)!==c&&(e.update(m),i.set(m,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),m}function o(){i=new WeakMap}function s(l){let c=l.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:o}}var u_=class extends or{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Fr,this.minFilter=Fr,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};u_.prototype.isDataTexture3D=!0;var l4=new or,u4=new bm,f4=new u_,c4=new pc,h4=[],d4=[],p4=new Float32Array(16),m4=new Float32Array(9),g4=new Float32Array(4);function Rd(n,e,t){let r=n[0];if(r<=0||r>0)return n;let i=e*t,a=h4[i];if(a===void 0&&(a=new Float32Array(i),h4[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function Ni(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ai(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function f_(n,e){let t=d4[e];t===void 0&&(t=new Int32Array(e),d4[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function zz(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Gz(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ni(t,e))return;n.uniform2fv(this.addr,e),Ai(t,e)}}function Hz(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ni(t,e))return;n.uniform3fv(this.addr,e),Ai(t,e)}}function Wz(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ni(t,e))return;n.uniform4fv(this.addr,e),Ai(t,e)}}function Vz(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ai(t,e)}else{if(Ni(t,r))return;g4.set(r),n.uniformMatrix2fv(this.addr,!1,g4),Ai(t,r)}}function jz(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ai(t,e)}else{if(Ni(t,r))return;m4.set(r),n.uniformMatrix3fv(this.addr,!1,m4),Ai(t,r)}}function Zz(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ai(t,e)}else{if(Ni(t,r))return;p4.set(r),n.uniformMatrix4fv(this.addr,!1,p4),Ai(t,r)}}function Xz(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Yz(n,e){let t=this.cache;Ni(t,e)||(n.uniform2iv(this.addr,e),Ai(t,e))}function qz(n,e){let t=this.cache;Ni(t,e)||(n.uniform3iv(this.addr,e),Ai(t,e))}function Qz(n,e){let t=this.cache;Ni(t,e)||(n.uniform4iv(this.addr,e),Ai(t,e))}function Jz(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Kz(n,e){let t=this.cache;Ni(t,e)||(n.uniform2uiv(this.addr,e),Ai(t,e))}function $z(n,e){let t=this.cache;Ni(t,e)||(n.uniform3uiv(this.addr,e),Ai(t,e))}function e7(n,e){let t=this.cache;Ni(t,e)||(n.uniform4uiv(this.addr,e),Ai(t,e))}function t7(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||l4,i)}function n7(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||f4,i)}function r7(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||c4,i)}function i7(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||u4,i)}function a7(n){switch(n){case 5126:return zz;case 35664:return Gz;case 35665:return Hz;case 35666:return Wz;case 35674:return Vz;case 35675:return jz;case 35676:return Zz;case 5124:case 35670:return Xz;case 35667:case 35671:return Yz;case 35668:case 35672:return qz;case 35669:case 35673:return Qz;case 5125:return Jz;case 36294:return Kz;case 36295:return $z;case 36296:return e7;case 35678:case 36198:case 36298:case 36306:case 35682:return t7;case 35679:case 36299:case 36307:return n7;case 35680:case 36300:case 36308:case 36293:return r7;case 36289:case 36303:case 36311:case 36292:return i7}}function o7(n,e){n.uniform1fv(this.addr,e)}function s7(n,e){let t=Rd(e,this.size,2);n.uniform2fv(this.addr,t)}function l7(n,e){let t=Rd(e,this.size,3);n.uniform3fv(this.addr,t)}function u7(n,e){let t=Rd(e,this.size,4);n.uniform4fv(this.addr,t)}function f7(n,e){let t=Rd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function c7(n,e){let t=Rd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function h7(n,e){let t=Rd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function d7(n,e){n.uniform1iv(this.addr,e)}function p7(n,e){n.uniform2iv(this.addr,e)}function m7(n,e){n.uniform3iv(this.addr,e)}function g7(n,e){n.uniform4iv(this.addr,e)}function v7(n,e){n.uniform1uiv(this.addr,e)}function _7(n,e){n.uniform2uiv(this.addr,e)}function y7(n,e){n.uniform3uiv(this.addr,e)}function x7(n,e){n.uniform4uiv(this.addr,e)}function w7(n,e,t){let r=e.length,i=f_(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.safeSetTexture2D(e[a]||l4,i[a])}function b7(n,e,t){let r=e.length,i=f_(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture3D(e[a]||f4,i[a])}function S7(n,e,t){let r=e.length,i=f_(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.safeSetTextureCube(e[a]||c4,i[a])}function E7(n,e,t){let r=e.length,i=f_(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||u4,i[a])}function M7(n){switch(n){case 5126:return o7;case 35664:return s7;case 35665:return l7;case 35666:return u7;case 35674:return f7;case 35675:return c7;case 35676:return h7;case 5124:case 35670:return d7;case 35667:case 35671:return p7;case 35668:case 35672:return m7;case 35669:case 35673:return g7;case 5125:return v7;case 36294:return _7;case 36295:return y7;case 36296:return x7;case 35678:case 36198:case 36298:case 36306:case 35682:return w7;case 35679:case 36299:case 36307:return b7;case 35680:case 36300:case 36308:case 36293:return S7;case 36289:case 36303:case 36311:case 36292:return E7}}function T7(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=a7(e.type)}function v4(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=M7(e.type)}v4.prototype.updateCache=function(n){let e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Ai(e,n)};function _4(n){this.id=n,this.seq=[],this.map={}}_4.prototype.setValue=function(n,e,t){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let o=r[i];o.setValue(n,e[o.id],t)}};var $b=/(\w+)(\])?(\[|\.)?/g;function y4(n,e){n.seq.push(e),n.map[e.id]=e}function A7(n,e,t){let r=n.name,i=r.length;for($b.lastIndex=0;;){let a=$b.exec(r),o=$b.lastIndex,s=a[1],l=a[2]==="]",c=a[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===i){y4(t,c===void 0?new T7(s,n,e):new v4(s,n,e));break}else{let m=t.map[s];m===void 0&&(m=new _4(s),y4(t,m)),t=m}}}function Zu(n,e){this.seq=[],this.map={};let t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){let i=n.getActiveUniform(e,r),a=n.getUniformLocation(e,i.name);A7(i,a,this)}}Zu.prototype.setValue=function(n,e,t,r){let i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Zu.prototype.setOptional=function(n,e,t){let r=e[t];r!==void 0&&this.setValue(n,t,r)};Zu.upload=function(n,e,t,r){for(let i=0,a=e.length;i!==a;++i){let o=e[i],s=t[o.id];s.needsUpdate!==!1&&o.setValue(n,s.value,r)}};Zu.seqWithValue=function(n,e){let t=[];for(let r=0,i=n.length;r!==i;++r){let a=n[r];a.id in e&&t.push(a)}return t};function x4(n,e,t){let r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}var C7=0;function R7(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function w4(n){switch(n){case ri:return["Linear","( value )"];case Ou:return["sRGB","( value )"];case B1:return["RGBE","( value )"];case cb:return["RGBM","( value, 7.0 )"];case hb:return["RGBM","( value, 16.0 )"];case db:return["RGBD","( value, 256.0 )"];case N1:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function b4(n,e,t){let r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+R7(n.getShaderSource(e))}function _c(n,e){let t=w4(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function P7(n,e){let t=w4(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function L7(n,e){let t;switch(e){case DC:t="Linear";break;case OC:t="Reinhard";break;case kC:t="OptimizedCineon";break;case L1:t="ACESFilmic";break;case FC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function I7(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Sm).join(`
`)}function D7(n){let e=[];for(let t in n){let r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function O7(n,e){let t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){let a=n.getActiveAttrib(e,i),o=a.name,s=1;a.type===35674&&(s=2),a.type===35675&&(s=3),a.type===35676&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function Sm(n){return n!==""}function S4(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function E4(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var k7=/^[ \t]*#include +<([\w\d./]+)>/gm;function eS(n){return n.replace(k7,F7)}function F7(n,e){let t=cn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return eS(t)}var N7=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,B7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function M4(n){return n.replace(B7,T4).replace(N7,U7)}function U7(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),T4(n,e,t,r)}function T4(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function A4(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function z7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===j2?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===R1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===id&&(e="SHADOWMAP_TYPE_VSM"),e}function G7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case nc:case rc:e="ENVMAP_TYPE_CUBE";break;case od:case rm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function H7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case rc:case rm:e="ENVMAP_MODE_REFRACTION";break}return e}function W7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case em:e="ENVMAP_BLENDING_MULTIPLY";break;case LC:e="ENVMAP_BLENDING_MIX";break;case IC:e="ENVMAP_BLENDING_ADD";break}return e}function V7(n,e,t,r){let i=n.getContext(),a=t.defines,o=t.vertexShader,s=t.fragmentShader,l=z7(t),c=G7(t),d=H7(t),m=W7(t),f=n.gammaFactor>0?n.gammaFactor:1,h=t.isWebGL2?"":I7(t),u=D7(a),v=i.createProgram(),y,p,g=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[u].filter(Sm).join(`
`),y.length>0&&(y+=`
`),p=[h,u].filter(Sm).join(`
`),p.length>0&&(p+=`
`)):(y=[A4(t),"#define SHADER_NAME "+t.shaderName,u,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sm).join(`
`),p=[h,A4(t),"#define SHADER_NAME "+t.shaderName,u,"#define GAMMA_FACTOR "+f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==_s?"#define TONE_MAPPING":"",t.toneMapping!==_s?cn.tonemapping_pars_fragment:"",t.toneMapping!==_s?L7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Iu?"#define OPAQUE":"",cn.encodings_pars_fragment,t.map?_c("mapTexelToLinear",t.mapEncoding):"",t.matcap?_c("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?_c("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?_c("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?_c("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?_c("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?_c("lightMapTexelToLinear",t.lightMapEncoding):"",P7("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Sm).join(`
`)),o=eS(o),o=S4(o,t),o=E4(o,t),s=eS(s),s=S4(s,t),s=E4(s,t),o=M4(o),s=M4(s),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(g=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,p=["#define varying in",t.glslVersion===pb?"":"out highp vec4 pc_fragColor;",t.glslVersion===pb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);let _=g+y+o,x=g+p+s,b=x4(i,35633,_),M=x4(i,35632,x);if(i.attachShader(v,b),i.attachShader(v,M),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){let R=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(b).trim(),O=i.getShaderInfoLog(M).trim(),k=!0,G=!0;if(i.getProgramParameter(v,35714)===!1){k=!1;let N=b4(i,b,"vertex"),Z=b4(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+N+`
`+Z)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(I===""||O==="")&&(G=!1);G&&(this.diagnostics={runnable:k,programLog:R,vertexShader:{log:I,prefix:y},fragmentShader:{log:O,prefix:p}})}i.deleteShader(b),i.deleteShader(M);let E;this.getUniforms=function(){return E===void 0&&(E=new Zu(i,v)),E};let C;return this.getAttributes=function(){return C===void 0&&(C=O7(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=C7++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=M,this}function j7(n,e,t,r,i,a,o){let s=[],l=i.isWebGL2,c=i.logarithmicDepthBuffer,d=i.floatVertexTextures,m=i.maxVertexUniforms,f=i.vertexTextures,h=i.precision,u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function y(E){let R=E.skeleton.bones;if(d)return 1024;{let O=Math.floor((m-20)/4),k=Math.min(O,R.length);return k<R.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+R.length+" bones. This GPU supports "+k+"."),0):k}}function p(E){let C;return E&&E.isTexture?C=E.encoding:E&&E.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=E.texture.encoding):C=ri,C}function g(E,C,R,I,O){let k=I.fog,G=E.isMeshStandardMaterial?I.environment:null,N=(E.isMeshStandardMaterial?t:e).get(E.envMap||G),Z=u[E.type],H=O.isSkinnedMesh?y(O):0;E.precision!==null&&(h=i.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));let j,z;if(Z){let ue=no[Z];j=ue.vertexShader,z=ue.fragmentShader}else j=E.vertexShader,z=E.fragmentShader;let V=n.getRenderTarget(),J=E.alphaTest>0,ne=E.clearcoat>0;return{isWebGL2:l,shaderID:Z,shaderName:E.type,vertexShader:j,fragmentShader:z,defines:E.defines,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:f,outputEncoding:V!==null?p(V.texture):n.outputEncoding,map:!!E.map,mapEncoding:p(E.map),matcap:!!E.matcap,matcapEncoding:p(E.matcap),envMap:!!N,envMapMode:N&&N.mapping,envMapEncoding:p(N),envMapCubeUV:!!N&&(N.mapping===od||N.mapping===rm),lightMap:!!E.lightMap,lightMapEncoding:p(E.lightMap),aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,emissiveMapEncoding:p(E.emissiveMap),bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===OR,tangentSpaceNormalMap:E.normalMapType===fc,clearcoat:ne,clearcoatMap:ne&&!!E.clearcoatMap,clearcoatRoughnessMap:ne&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:ne&&!!E.clearcoatNormalMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,specularColorMapEncoding:p(E.specularColorMap),alphaMap:!!E.alphaMap,alphaTest:J,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenColorMapEncoding:p(E.sheenColorMap),sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!O.geometry&&!!O.geometry.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!O.geometry&&!!O.geometry.attributes.color&&O.geometry.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||E.sheenRoughnessMap,uvsVertexOnly:!(!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatNormalMap||E.transmission>0||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||E.sheen>0||!!E.sheenColorMap||!!E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!k,useFog:E.fog,fogExp2:k&&k.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:c,skinning:O.isSkinnedMesh===!0&&H>0,maxBones:H,useVertexTexture:d,morphTargets:!!O.geometry&&!!O.geometry.morphAttributes.position,morphNormals:!!O.geometry&&!!O.geometry.morphAttributes.normal,morphTargetsCount:!!O.geometry&&!!O.geometry.morphAttributes.position?O.geometry.morphAttributes.position.length:0,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:E.format,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&R.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:_s,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===vs,flipSided:E.side===hr,depthPacking:E.depthPacking!==void 0?E.depthPacking:!1,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function _(E){let C=[];if(E.shaderID?C.push(E.shaderID):(C.push(UR(E.fragmentShader)),C.push(UR(E.vertexShader))),E.defines!==void 0)for(let R in E.defines)C.push(R),C.push(E.defines[R]);if(E.isRawShaderMaterial===!1){for(let R=0;R<v.length;R++)C.push(E[v[R]]);C.push(n.outputEncoding),C.push(n.gammaFactor)}return C.push(E.customProgramCacheKey),C.join()}function x(E){let C=u[E.type],R;if(C){let I=no[C];R=a_.clone(I.uniforms)}else R=E.uniforms;return R}function b(E,C){let R;for(let I=0,O=s.length;I<O;I++){let k=s[I];if(k.cacheKey===C){R=k,++R.usedTimes;break}}return R===void 0&&(R=new V7(n,C,E,a),s.push(R)),R}function M(E){if(--E.usedTimes==0){let C=s.indexOf(E);s[C]=s[s.length-1],s.pop(),E.destroy()}}return{getParameters:g,getProgramCacheKey:_,getUniforms:x,acquireProgram:b,releaseProgram:M,programs:s}}function Z7(){let n=new WeakMap;function e(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function t(a){n.delete(a)}function r(a,o,s){n.get(a)[o]=s}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function X7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function C4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function R4(n){let e=[],t=0,r=[],i=[],a=[],o={id:-1};function s(){t=0,r.length=0,i.length=0,a.length=0}function l(h,u,v,y,p,g){let _=e[t],x=n.get(v);return _===void 0?(_={id:h.id,object:h,geometry:u,material:v,program:x.program||o,groupOrder:y,renderOrder:h.renderOrder,z:p,group:g},e[t]=_):(_.id=h.id,_.object=h,_.geometry=u,_.material=v,_.program=x.program||o,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=p,_.group=g),t++,_}function c(h,u,v,y,p,g){let _=l(h,u,v,y,p,g);v.transmission>0?i.push(_):v.transparent===!0?a.push(_):r.push(_)}function d(h,u,v,y,p,g){let _=l(h,u,v,y,p,g);v.transmission>0?i.unshift(_):v.transparent===!0?a.unshift(_):r.unshift(_)}function m(h,u){r.length>1&&r.sort(h||X7),i.length>1&&i.sort(u||C4),a.length>1&&a.sort(u||C4)}function f(){for(let h=t,u=e.length;h<u;h++){let v=e[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}}return{opaque:r,transmissive:i,transparent:a,init:s,push:c,unshift:d,finish:f,sort:m}}function Y7(n){let e=new WeakMap;function t(i,a){let o;return e.has(i)===!1?(o=new R4(n),e.set(i,[o])):a>=e.get(i).length?(o=new R4(n),e.get(i).push(o)):o=e.get(i)[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}function q7(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Le,color:new bt};break;case"SpotLight":t={position:new Le,direction:new Le,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Le,color:new bt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Le,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":t={color:new bt,position:new Le,halfWidth:new Le,halfHeight:new Le};break}return n[e.id]=t,t}}}function Q7(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var J7=0;function K7(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function $7(n,e){let t=new q7,r=Q7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)i.probe.push(new Le);let a=new Le,o=new Dt,s=new Dt;function l(d,m){let f=0,h=0,u=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let v=0,y=0,p=0,g=0,_=0,x=0,b=0,M=0;d.sort(K7);let E=m!==!0?Math.PI:1;for(let R=0,I=d.length;R<I;R++){let O=d[R],k=O.color,G=O.intensity,N=O.distance,Z=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)f+=k.r*G*E,h+=k.g*G*E,u+=k.b*G*E;else if(O.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(O.sh.coefficients[H],G);else if(O.isDirectionalLight){let H=t.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*E),O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.directionalShadow[v]=z,i.directionalShadowMap[v]=Z,i.directionalShadowMatrix[v]=O.shadow.matrix,x++}i.directional[v]=H,v++}else if(O.isSpotLight){let H=t.get(O);if(H.position.setFromMatrixPosition(O.matrixWorld),H.color.copy(k).multiplyScalar(G*E),H.distance=N,H.coneCos=Math.cos(O.angle),H.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),H.decay=O.decay,O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.spotShadow[p]=z,i.spotShadowMap[p]=Z,i.spotShadowMatrix[p]=O.shadow.matrix,M++}i.spot[p]=H,p++}else if(O.isRectAreaLight){let H=t.get(O);H.color.copy(k).multiplyScalar(G),H.halfWidth.set(O.width*.5,0,0),H.halfHeight.set(0,O.height*.5,0),i.rectArea[g]=H,g++}else if(O.isPointLight){let H=t.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*E),H.distance=O.distance,H.decay=O.decay,O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,z.shadowCameraNear=j.camera.near,z.shadowCameraFar=j.camera.far,i.pointShadow[y]=z,i.pointShadowMap[y]=Z,i.pointShadowMatrix[y]=O.shadow.matrix,b++}i.point[y]=H,y++}else if(O.isHemisphereLight){let H=t.get(O);H.skyColor.copy(O.color).multiplyScalar(G*E),H.groundColor.copy(O.groundColor).multiplyScalar(G*E),i.hemi[_]=H,_++}}g>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_FLOAT_1,i.rectAreaLTC2=Et.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_HALF_1,i.rectAreaLTC2=Et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=u;let C=i.hash;(C.directionalLength!==v||C.pointLength!==y||C.spotLength!==p||C.rectAreaLength!==g||C.hemiLength!==_||C.numDirectionalShadows!==x||C.numPointShadows!==b||C.numSpotShadows!==M)&&(i.directional.length=v,i.spot.length=p,i.rectArea.length=g,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=b,i.spotShadowMatrix.length=M,C.directionalLength=v,C.pointLength=y,C.spotLength=p,C.rectAreaLength=g,C.hemiLength=_,C.numDirectionalShadows=x,C.numPointShadows=b,C.numSpotShadows=M,i.version=J7++)}function c(d,m){let f=0,h=0,u=0,v=0,y=0,p=m.matrixWorldInverse;for(let g=0,_=d.length;g<_;g++){let x=d[g];if(x.isDirectionalLight){let b=i.directional[f];b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(p),f++}else if(x.isSpotLight){let b=i.spot[u];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(p),u++}else if(x.isRectAreaLight){let b=i.rectArea[v];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),s.identity(),o.copy(x.matrixWorld),o.premultiply(p),s.extractRotation(o),b.halfWidth.set(x.width*.5,0,0),b.halfHeight.set(0,x.height*.5,0),b.halfWidth.applyMatrix4(s),b.halfHeight.applyMatrix4(s),v++}else if(x.isPointLight){let b=i.point[h];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),h++}else if(x.isHemisphereLight){let b=i.hemi[y];b.direction.setFromMatrixPosition(x.matrixWorld),b.direction.transformDirection(p),b.direction.normalize(),y++}}}return{setup:l,setupView:c,state:i}}function P4(n,e){let t=new $7(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function o(m){r.push(m)}function s(m){i.push(m)}function l(m){t.setup(r,m)}function c(m){t.setupView(r,m)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:s}}function e9(n,e){let t=new WeakMap;function r(a,o=0){let s;return t.has(a)===!1?(s=new P4(n,e),t.set(a,[s])):o>=t.get(a).length?(s=new P4(n,e),t.get(a).push(s)):s=t.get(a)[o],s}function i(){t=new WeakMap}return{get:r,dispose:i}}var yc=class extends Gr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=DR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}};yc.prototype.isMeshDepthMaterial=!0;var xc=class extends Gr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Le,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};xc.prototype.isMeshDistanceMaterial=!0;var t9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,n9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function L4(n,e,t){let r=new Md,i=new ht,a=new ht,o=new Cn,s=new yc({depthPacking:U1}),l=new xc,c={},d=t.maxTextureSize,m={0:hr,1:vl,2:vs},f=new xs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ht},radius:{value:4}},vertexShader:t9,fragmentShader:n9}),h=f.clone();h.defines.HORIZONTAL_PASS=1;let u=new Vt;u.setAttribute("position",new yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let v=new Jn(u,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j2,this.render=function(x,b,M){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||x.length===0)return;let E=n.getRenderTarget(),C=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),I=n.state;I.setBlending(_l),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let O=0,k=x.length;O<k;O++){let G=x[O],N=G.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);let Z=N.getFrameExtents();if(i.multiply(Z),a.copy(N.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/Z.x),i.x=a.x*Z.x,N.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/Z.y),i.y=a.y*Z.y,N.mapSize.y=a.y)),N.map===null&&!N.isPointLightShadow&&this.type===id){let j={minFilter:xr,magFilter:xr,format:zr};N.map=new aa(i.x,i.y,j),N.map.texture.name=G.name+".shadowMap",N.mapPass=new aa(i.x,i.y,j),N.camera.updateProjectionMatrix()}if(N.map===null){let j={minFilter:Fr,magFilter:Fr,format:zr};N.map=new aa(i.x,i.y,j),N.map.texture.name=G.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();let H=N.getViewportCount();for(let j=0;j<H;j++){let z=N.getViewport(j);o.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),I.viewport(o),N.updateMatrices(G,j),r=N.getFrustum(),_(b,M,N.camera,G,this.type)}!N.isPointLightShadow&&this.type===id&&p(N,M),N.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(E,C,R)};function p(x,b){let M=e.update(v);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,h.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(b,null,M,f,v,null),h.uniforms.shadow_pass.value=x.mapPass.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(b,null,M,h,v,null)}function g(x,b,M,E,C,R,I){let O=null,k=E.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(k!==void 0?O=k:O=E.isPointLight===!0?l:s,n.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){let G=O.uuid,N=M.uuid,Z=c[G];Z===void 0&&(Z={},c[G]=Z);let H=Z[N];H===void 0&&(H=O.clone(),Z[N]=H),O=H}return O.visible=M.visible,O.wireframe=M.wireframe,I===id?O.side=M.shadowSide!==null?M.shadowSide:M.side:O.side=M.shadowSide!==null?M.shadowSide:m[M.side],O.alphaMap=M.alphaMap,O.alphaTest=M.alphaTest,O.clipShadows=M.clipShadows,O.clippingPlanes=M.clippingPlanes,O.clipIntersection=M.clipIntersection,O.displacementMap=M.displacementMap,O.displacementScale=M.displacementScale,O.displacementBias=M.displacementBias,O.wireframeLinewidth=M.wireframeLinewidth,O.linewidth=M.linewidth,E.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(E.matrixWorld),O.nearDistance=C,O.farDistance=R),O}function _(x,b,M,E,C){if(x.visible===!1)return;if(x.layers.test(b.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&C===id)&&(!x.frustumCulled||r.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,x.matrixWorld);let O=e.update(x),k=x.material;if(Array.isArray(k)){let G=O.groups;for(let N=0,Z=G.length;N<Z;N++){let H=G[N],j=k[H.materialIndex];if(j&&j.visible){let z=g(x,O,j,E,M.near,M.far,C);n.renderBufferDirect(M,null,O,z,x,H)}}}else if(k.visible){let G=g(x,O,k,E,M.near,M.far,C);n.renderBufferDirect(M,null,O,G,x,null)}}let I=x.children;for(let O=0,k=I.length;O<k;O++)_(I[O],b,M,E,C)}}function r9(n,e,t){let r=t.isWebGL2;function i(){let be=!1,Se=new Cn,ke=null,Ye=new Cn(0,0,0,0);return{setMask:function(Ve){ke!==Ve&&!be&&(n.colorMask(Ve,Ve,Ve,Ve),ke=Ve)},setLocked:function(Ve){be=Ve},setClear:function(Ve,Me,Ge,We,et){et===!0&&(Ve*=We,Me*=We,Ge*=We),Se.set(Ve,Me,Ge,We),Ye.equals(Se)===!1&&(n.clearColor(Ve,Me,Ge,We),Ye.copy(Se))},reset:function(){be=!1,ke=null,Ye.set(-1,0,0,0)}}}function a(){let be=!1,Se=null,ke=null,Ye=null;return{setTest:function(Ve){Ve?ue(2929):K(2929)},setMask:function(Ve){Se!==Ve&&!be&&(n.depthMask(Ve),Se=Ve)},setFunc:function(Ve){if(ke!==Ve){if(Ve)switch(Ve){case EC:n.depthFunc(512);break;case MC:n.depthFunc(519);break;case TC:n.depthFunc(513);break;case P1:n.depthFunc(515);break;case AC:n.depthFunc(514);break;case CC:n.depthFunc(518);break;case RC:n.depthFunc(516);break;case PC:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ke=Ve}},setLocked:function(Ve){be=Ve},setClear:function(Ve){Ye!==Ve&&(n.clearDepth(Ve),Ye=Ve)},reset:function(){be=!1,Se=null,ke=null,Ye=null}}}function o(){let be=!1,Se=null,ke=null,Ye=null,Ve=null,Me=null,Ge=null,We=null,et=null;return{setTest:function(ot){be||(ot?ue(2960):K(2960))},setMask:function(ot){Se!==ot&&!be&&(n.stencilMask(ot),Se=ot)},setFunc:function(ot,X,Ae){(ke!==ot||Ye!==X||Ve!==Ae)&&(n.stencilFunc(ot,X,Ae),ke=ot,Ye=X,Ve=Ae)},setOp:function(ot,X,Ae){(Me!==ot||Ge!==X||We!==Ae)&&(n.stencilOp(ot,X,Ae),Me=ot,Ge=X,We=Ae)},setLocked:function(ot){be=ot},setClear:function(ot){et!==ot&&(n.clearStencil(ot),et=ot)},reset:function(){be=!1,Se=null,ke=null,Ye=null,Ve=null,Me=null,Ge=null,We=null,et=null}}}let s=new i,l=new a,c=new o,d={},m={},f=null,h=!1,u=null,v=null,y=null,p=null,g=null,_=null,x=null,b=!1,M=null,E=null,C=null,R=null,I=null,O=n.getParameter(35661),k=!1,G=0,N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(N)[1]),k=G>=1):N.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),k=G>=2);let Z=null,H={},j=n.getParameter(3088),z=n.getParameter(2978),V=new Cn().fromArray(j),J=new Cn().fromArray(z);function ne(be,Se,ke){let Ye=new Uint8Array(4),Ve=n.createTexture();n.bindTexture(be,Ve),n.texParameteri(be,10241,9728),n.texParameteri(be,10240,9728);for(let Me=0;Me<ke;Me++)n.texImage2D(Se+Me,0,6408,1,1,0,6408,5121,Ye);return Ve}let le={};le[3553]=ne(3553,3553,1),le[34067]=ne(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ue(2929),l.setFunc(P1),Ie(!1),ge(V2),ue(2884),we(_l);function ue(be){d[be]!==!0&&(n.enable(be),d[be]=!0)}function K(be){d[be]!==!1&&(n.disable(be),d[be]=!1)}function ae(be,Se){return m[be]!==Se?(n.bindFramebuffer(be,Se),m[be]=Se,r&&(be===36009&&(m[36160]=Se),be===36160&&(m[36009]=Se)),!0):!1}function se(be){return f!==be?(n.useProgram(be),f=be,!0):!1}let fe={[tc]:32774,[dC]:32778,[pC]:32779};if(r)fe[q2]=32775,fe[Q2]=32776;else{let be=e.get("EXT_blend_minmax");be!==null&&(fe[q2]=be.MIN_EXT,fe[Q2]=be.MAX_EXT)}let he={[mC]:0,[gC]:1,[vC]:768,[J2]:770,[SC]:776,[wC]:774,[yC]:772,[_C]:769,[K2]:771,[bC]:775,[xC]:773};function we(be,Se,ke,Ye,Ve,Me,Ge,We){if(be===_l){h===!0&&(K(3042),h=!1);return}if(h===!1&&(ue(3042),h=!0),be!==hC){if(be!==u||We!==b){if((v!==tc||g!==tc)&&(n.blendEquation(32774),v=tc,g=tc),We)switch(be){case ad:n.blendFuncSeparate(1,771,1,771);break;case $0:n.blendFunc(1,1);break;case X2:n.blendFuncSeparate(0,0,769,771);break;case Y2:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case ad:n.blendFuncSeparate(770,771,1,771);break;case $0:n.blendFunc(770,1);break;case X2:n.blendFunc(0,769);break;case Y2:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}y=null,p=null,_=null,x=null,u=be,b=We}return}Ve=Ve||Se,Me=Me||ke,Ge=Ge||Ye,(Se!==v||Ve!==g)&&(n.blendEquationSeparate(fe[Se],fe[Ve]),v=Se,g=Ve),(ke!==y||Ye!==p||Me!==_||Ge!==x)&&(n.blendFuncSeparate(he[ke],he[Ye],he[Me],he[Ge]),y=ke,p=Ye,_=Me,x=Ge),u=be,b=null}function xe(be,Se){be.side===vs?K(2884):ue(2884);let ke=be.side===hr;Se&&(ke=!ke),Ie(ke),be.blending===ad&&be.transparent===!1?we(_l):we(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),l.setFunc(be.depthFunc),l.setTest(be.depthTest),l.setMask(be.depthWrite),s.setMask(be.colorWrite);let Ye=be.stencilWrite;c.setTest(Ye),Ye&&(c.setMask(be.stencilWriteMask),c.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),c.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),me(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?ue(32926):K(32926)}function Ie(be){M!==be&&(be?n.frontFace(2304):n.frontFace(2305),M=be)}function ge(be){be!==fC?(ue(2884),be!==E&&(be===V2?n.cullFace(1029):be===cC?n.cullFace(1028):n.cullFace(1032))):K(2884),E=be}function Oe(be){be!==C&&(k&&n.lineWidth(be),C=be)}function me(be,Se,ke){be?(ue(32823),(R!==Se||I!==ke)&&(n.polygonOffset(Se,ke),R=Se,I=ke)):K(32823)}function pe(be){be?ue(3089):K(3089)}function re(be){be===void 0&&(be=33984+O-1),Z!==be&&(n.activeTexture(be),Z=be)}function ie(be,Se){Z===null&&re();let ke=H[Z];ke===void 0&&(ke={type:void 0,texture:void 0},H[Z]=ke),(ke.type!==be||ke.texture!==Se)&&(n.bindTexture(be,Se||le[be]),ke.type=be,ke.texture=Se)}function Y(){let be=H[Z];be!==void 0&&be.type!==void 0&&(n.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function ee(){try{n.compressedTexImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function W(){try{n.texSubImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function P(){try{n.texStorage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function D(){try{n.texImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function B(){try{n.texImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Q(be){V.equals(be)===!1&&(n.scissor(be.x,be.y,be.z,be.w),V.copy(be))}function de(be){J.equals(be)===!1&&(n.viewport(be.x,be.y,be.z,be.w),J.copy(be))}function Ce(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Z=null,H={},m={},f=null,h=!1,u=null,v=null,y=null,p=null,g=null,_=null,x=null,b=!1,M=null,E=null,C=null,R=null,I=null,V.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ue,disable:K,bindFramebuffer:ae,useProgram:se,setBlending:we,setMaterial:xe,setFlipSided:Ie,setCullFace:ge,setLineWidth:Oe,setPolygonOffset:me,setScissorTest:pe,activeTexture:re,bindTexture:ie,unbindTexture:Y,compressedTexImage2D:ee,texImage2D:D,texImage3D:B,texStorage2D:P,texSubImage2D:W,scissor:Q,viewport:de,reset:Ce}}function i9(n,e,t,r,i,a,o){let s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,d=i.maxTextureSize,m=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,u=new WeakMap,v,y=!1;try{y=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(P,D){return y?new OffscreenCanvas(P,D):H1("canvas")}function g(P,D,B,Q){let de=1;if((P.width>Q||P.height>Q)&&(de=Q/Math.max(P.width,P.height)),de<1||D===!0)if(typeof HTMLImageElement!="undefined"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&P instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&P instanceof ImageBitmap){let Ce=D?NR:Math.floor,be=Ce(de*P.width),Se=Ce(de*P.height);v===void 0&&(v=p(be,Se));let ke=B?p(be,Se):v;return ke.width=be,ke.height=Se,ke.getContext("2d").drawImage(P,0,0,be,Se),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+be+"x"+Se+")."),ke}else return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P;return P}function _(P){return gb(P.width)&&gb(P.height)}function x(P){return s?!1:P.wrapS!==ni||P.wrapT!==ni||P.minFilter!==Fr&&P.minFilter!==xr}function b(P,D){return P.generateMipmaps&&D&&P.minFilter!==Fr&&P.minFilter!==xr}function M(P){n.generateMipmap(P)}function E(P,D,B){if(s===!1)return D;if(P!==null){if(n[P]!==void 0)return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Q=D;return D===6403&&(B===5126&&(Q=33326),B===5131&&(Q=33325),B===5121&&(Q=33321)),D===6407&&(B===5126&&(Q=34837),B===5131&&(Q=34843),B===5121&&(Q=32849)),D===6408&&(B===5126&&(Q=34836),B===5131&&(Q=34842),B===5121&&(Q=32856)),(Q===33325||Q===33326||Q===34842||Q===34836)&&e.get("EXT_color_buffer_float"),Q}function C(P,D,B){return b(P,B)===!0?Math.log2(Math.max(D.width,D.height))+1:P.mipmaps.length>0?P.mipmaps.length:1}function R(P){return P===Fr||P===D1||P===O1?9728:9729}function I(P){let D=P.target;D.removeEventListener("dispose",I),k(D),D.isVideoTexture&&u.delete(D),o.memory.textures--}function O(P){let D=P.target;D.removeEventListener("dispose",O),G(D)}function k(P){let D=r.get(P);D.__webglInit!==void 0&&(n.deleteTexture(D.__webglTexture),r.remove(P))}function G(P){let D=P.texture,B=r.get(P),Q=r.get(D);if(!!P){if(Q.__webglTexture!==void 0&&(n.deleteTexture(Q.__webglTexture),o.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let de=0;de<6;de++)n.deleteFramebuffer(B.__webglFramebuffer[de]),B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer[de]);else n.deleteFramebuffer(B.__webglFramebuffer),B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&n.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer&&n.deleteRenderbuffer(B.__webglColorRenderbuffer),B.__webglDepthRenderbuffer&&n.deleteRenderbuffer(B.__webglDepthRenderbuffer);if(P.isWebGLMultipleRenderTargets)for(let de=0,Ce=D.length;de<Ce;de++){let be=r.get(D[de]);be.__webglTexture&&(n.deleteTexture(be.__webglTexture),o.memory.textures--),r.remove(D[de])}r.remove(D),r.remove(P)}}let N=0;function Z(){N=0}function H(){let P=N;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),N+=1,P}function j(P,D){let B=r.get(P);if(P.isVideoTexture&&re(P),P.version>0&&B.__version!==P.version){let Q=P.image;if(Q===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Q.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(B,P,D);return}}t.activeTexture(33984+D),t.bindTexture(3553,B.__webglTexture)}function z(P,D){let B=r.get(P);if(P.version>0&&B.__version!==P.version){ae(B,P,D);return}t.activeTexture(33984+D),t.bindTexture(35866,B.__webglTexture)}function V(P,D){let B=r.get(P);if(P.version>0&&B.__version!==P.version){ae(B,P,D);return}t.activeTexture(33984+D),t.bindTexture(32879,B.__webglTexture)}function J(P,D){let B=r.get(P);if(P.version>0&&B.__version!==P.version){se(B,P,D);return}t.activeTexture(33984+D),t.bindTexture(34067,B.__webglTexture)}let ne={[im]:10497,[ni]:33071,[am]:33648},le={[Fr]:9728,[D1]:9984,[O1]:9986,[xr]:9729,[$2]:9985,[ic]:9987};function ue(P,D,B){if(B?(n.texParameteri(P,10242,ne[D.wrapS]),n.texParameteri(P,10243,ne[D.wrapT]),(P===32879||P===35866)&&n.texParameteri(P,32882,ne[D.wrapR]),n.texParameteri(P,10240,le[D.magFilter]),n.texParameteri(P,10241,le[D.minFilter])):(n.texParameteri(P,10242,33071),n.texParameteri(P,10243,33071),(P===32879||P===35866)&&n.texParameteri(P,32882,33071),(D.wrapS!==ni||D.wrapT!==ni)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,10240,R(D.magFilter)),n.texParameteri(P,10241,R(D.minFilter)),D.minFilter!==Fr&&D.minFilter!==xr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let Q=e.get("EXT_texture_filter_anisotropic");if(D.type===ys&&e.has("OES_texture_float_linear")===!1||s===!1&&D.type===ac&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(n.texParameterf(P,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function K(P,D){P.__webglInit===void 0&&(P.__webglInit=!0,D.addEventListener("dispose",I),P.__webglTexture=n.createTexture(),o.memory.textures++)}function ae(P,D,B){let Q=3553;D.isDataTexture2DArray&&(Q=35866),D.isDataTexture3D&&(Q=32879),K(P,D),t.activeTexture(33984+B),t.bindTexture(Q,P.__webglTexture),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);let de=x(D)&&_(D.image)===!1,Ce=g(D.image,de,!1,d),be=_(Ce)||s,Se=a.convert(D.format),ke=a.convert(D.type),Ye=E(D.internalFormat,Se,ke,D.encoding);ue(Q,D,be);let Ve,Me=D.mipmaps;if(D.isDepthTexture)Ye=6402,s?D.type===ys?Ye=36012:D.type===om?Ye=33190:D.type===oc?Ye=35056:Ye=33189:D.type===ys&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Du&&Ye===6402&&D.type!==sd&&D.type!==om&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=sd,ke=a.convert(D.type)),D.format===sc&&Ye===6402&&(Ye=34041,D.type!==oc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=oc,ke=a.convert(D.type))),t.texImage2D(3553,0,Ye,Ce.width,Ce.height,0,Se,ke,null);else if(D.isDataTexture)if(Me.length>0&&be){for(let Ge=0,We=Me.length;Ge<We;Ge++)Ve=Me[Ge],t.texImage2D(3553,Ge,Ye,Ve.width,Ve.height,0,Se,ke,Ve.data);D.generateMipmaps=!1}else t.texImage2D(3553,0,Ye,Ce.width,Ce.height,0,Se,ke,Ce.data);else if(D.isCompressedTexture)for(let Ge=0,We=Me.length;Ge<We;Ge++)Ve=Me[Ge],D.format!==zr&&D.format!==Iu?Se!==null?t.compressedTexImage2D(3553,Ge,Ye,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Ge,Ye,Ve.width,Ve.height,0,Se,ke,Ve.data);else if(D.isDataTexture2DArray)t.texImage3D(35866,0,Ye,Ce.width,Ce.height,Ce.depth,0,Se,ke,Ce.data);else if(D.isDataTexture3D)t.texImage3D(32879,0,Ye,Ce.width,Ce.height,Ce.depth,0,Se,ke,Ce.data);else{let Ge=C(D,Ce,be),We=s&&D.isVideoTexture!==!0,et=P.__version===void 0;if(Me.length>0&&be){We&&et&&t.texStorage2D(3553,Ge,Ye,Me[0].width,Me[0].height);for(let ot=0,X=Me.length;ot<X;ot++)Ve=Me[ot],We?t.texSubImage2D(3553,ot,0,0,Se,ke,Ve):t.texImage2D(3553,ot,Ye,Se,ke,Ve);D.generateMipmaps=!1}else We?(et&&t.texStorage2D(3553,Ge,Ye,Ce.width,Ce.height),t.texSubImage2D(3553,0,0,0,Se,ke,Ce)):t.texImage2D(3553,0,Ye,Se,ke,Ce)}b(D,be)&&M(Q),P.__version=D.version,D.onUpdate&&D.onUpdate(D)}function se(P,D,B){if(D.image.length!==6)return;K(P,D),t.activeTexture(33984+B),t.bindTexture(34067,P.__webglTexture),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);let Q=D&&(D.isCompressedTexture||D.image[0].isCompressedTexture),de=D.image[0]&&D.image[0].isDataTexture,Ce=[];for(let Ge=0;Ge<6;Ge++)!Q&&!de?Ce[Ge]=g(D.image[Ge],!1,!0,c):Ce[Ge]=de?D.image[Ge].image:D.image[Ge];let be=Ce[0],Se=_(be)||s,ke=a.convert(D.format),Ye=a.convert(D.type),Ve=E(D.internalFormat,ke,Ye,D.encoding);ue(34067,D,Se);let Me;if(Q)for(let Ge=0;Ge<6;Ge++){Me=Ce[Ge].mipmaps;for(let We=0;We<Me.length;We++){let et=Me[We];D.format!==zr&&D.format!==Iu?ke!==null?t.compressedTexImage2D(34069+Ge,We,Ve,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Ge,We,Ve,et.width,et.height,0,ke,Ye,et.data)}}else{Me=D.mipmaps;for(let Ge=0;Ge<6;Ge++)if(de){t.texImage2D(34069+Ge,0,Ve,Ce[Ge].width,Ce[Ge].height,0,ke,Ye,Ce[Ge].data);for(let We=0;We<Me.length;We++){let ot=Me[We].image[Ge].image;t.texImage2D(34069+Ge,We+1,Ve,ot.width,ot.height,0,ke,Ye,ot.data)}}else{t.texImage2D(34069+Ge,0,Ve,ke,Ye,Ce[Ge]);for(let We=0;We<Me.length;We++){let et=Me[We];t.texImage2D(34069+Ge,We+1,Ve,ke,Ye,et.image[Ge])}}}b(D,Se)&&M(34067),P.__version=D.version,D.onUpdate&&D.onUpdate(D)}function fe(P,D,B,Q,de){let Ce=a.convert(B.format),be=a.convert(B.type),Se=E(B.internalFormat,Ce,be,B.encoding);r.get(D).__hasExternalTextures||(de===32879||de===35866?t.texImage3D(de,0,Se,D.width,D.height,D.depth,0,Ce,be,null):t.texImage2D(de,0,Se,D.width,D.height,0,Ce,be,null)),t.bindFramebuffer(36160,P),D.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,Q,de,r.get(B).__webglTexture,0,pe(D)):n.framebufferTexture2D(36160,Q,de,r.get(B).__webglTexture,0),t.bindFramebuffer(36160,null)}function he(P,D,B){if(n.bindRenderbuffer(36161,P),D.depthBuffer&&!D.stencilBuffer){let Q=33189;if(B||D.useRenderToTexture){let de=D.depthTexture;de&&de.isDepthTexture&&(de.type===ys?Q=36012:de.type===om&&(Q=33190));let Ce=pe(D);D.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,Ce,Q,D.width,D.height):n.renderbufferStorageMultisample(36161,Ce,Q,D.width,D.height)}else n.renderbufferStorage(36161,Q,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,P)}else if(D.depthBuffer&&D.stencilBuffer){let Q=pe(D);B&&D.useRenderbuffer?n.renderbufferStorageMultisample(36161,Q,35056,D.width,D.height):D.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,Q,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,P)}else{let Q=D.isWebGLMultipleRenderTargets===!0?D.texture[0]:D.texture,de=a.convert(Q.format),Ce=a.convert(Q.type),be=E(Q.internalFormat,de,Ce,Q.encoding),Se=pe(D);B&&D.useRenderbuffer?n.renderbufferStorageMultisample(36161,Se,be,D.width,D.height):D.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,Se,be,D.width,D.height):n.renderbufferStorage(36161,be,D.width,D.height)}n.bindRenderbuffer(36161,null)}function we(P,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,P),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),j(D.depthTexture,0);let Q=r.get(D.depthTexture).__webglTexture,de=pe(D);if(D.depthTexture.format===Du)D.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Q,0,de):n.framebufferTexture2D(36160,36096,3553,Q,0);else if(D.depthTexture.format===sc)D.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Q,0,de):n.framebufferTexture2D(36160,33306,3553,Q,0);else throw new Error("Unknown depthTexture format")}function xe(P){let D=r.get(P),B=P.isWebGLCubeRenderTarget===!0;if(P.depthTexture&&!D.__autoAllocateDepthBuffer){if(B)throw new Error("target.depthTexture not supported in Cube render targets");we(D.__webglFramebuffer,P)}else if(B){D.__webglDepthbuffer=[];for(let Q=0;Q<6;Q++)t.bindFramebuffer(36160,D.__webglFramebuffer[Q]),D.__webglDepthbuffer[Q]=n.createRenderbuffer(),he(D.__webglDepthbuffer[Q],P,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),he(D.__webglDepthbuffer,P,!1);t.bindFramebuffer(36160,null)}function Ie(P,D,B){let Q=r.get(P);D!==void 0&&fe(Q.__webglFramebuffer,P,P.texture,36064,3553),B!==void 0&&xe(P)}function ge(P){let D=P.texture,B=r.get(P),Q=r.get(D);P.addEventListener("dispose",O),P.isWebGLMultipleRenderTargets!==!0&&(Q.__webglTexture===void 0&&(Q.__webglTexture=n.createTexture()),Q.__version=D.version,o.memory.textures++);let de=P.isWebGLCubeRenderTarget===!0,Ce=P.isWebGLMultipleRenderTargets===!0,be=D.isDataTexture3D||D.isDataTexture2DArray,Se=_(P)||s;if(s&&D.format===Iu&&(D.type===ys||D.type===ac)&&(D.format=zr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),de){B.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)B.__webglFramebuffer[ke]=n.createFramebuffer()}else if(B.__webglFramebuffer=n.createFramebuffer(),Ce)if(i.drawBuffers){let ke=P.texture;for(let Ye=0,Ve=ke.length;Ye<Ve;Ye++){let Me=r.get(ke[Ye]);Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(P.useRenderbuffer)if(s){B.__webglMultisampledFramebuffer=n.createFramebuffer(),B.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,B.__webglColorRenderbuffer);let ke=a.convert(D.format),Ye=a.convert(D.type),Ve=E(D.internalFormat,ke,Ye,D.encoding),Me=pe(P);n.renderbufferStorageMultisample(36161,Me,Ve,P.width,P.height),t.bindFramebuffer(36160,B.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,B.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),P.depthBuffer&&(B.__webglDepthRenderbuffer=n.createRenderbuffer(),he(B.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(de){t.bindTexture(34067,Q.__webglTexture),ue(34067,D,Se);for(let ke=0;ke<6;ke++)fe(B.__webglFramebuffer[ke],P,D,36064,34069+ke);b(D,Se)&&M(34067),t.unbindTexture()}else if(Ce){let ke=P.texture;for(let Ye=0,Ve=ke.length;Ye<Ve;Ye++){let Me=ke[Ye],Ge=r.get(Me);t.bindTexture(3553,Ge.__webglTexture),ue(3553,Me,Se),fe(B.__webglFramebuffer,P,Me,36064+Ye,3553),b(Me,Se)&&M(3553)}t.unbindTexture()}else{let ke=3553;be&&(s?ke=D.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(ke,Q.__webglTexture),ue(ke,D,Se),fe(B.__webglFramebuffer,P,D,36064,ke),b(D,Se)&&M(ke),t.unbindTexture()}P.depthBuffer&&xe(P)}function Oe(P){let D=_(P)||s,B=P.isWebGLMultipleRenderTargets===!0?P.texture:[P.texture];for(let Q=0,de=B.length;Q<de;Q++){let Ce=B[Q];if(b(Ce,D)){let be=P.isWebGLCubeRenderTarget?34067:3553,Se=r.get(Ce).__webglTexture;t.bindTexture(be,Se),M(be),t.unbindTexture()}}}function me(P){if(P.useRenderbuffer)if(s){let D=P.width,B=P.height,Q=16384,de=[36064],Ce=P.stencilBuffer?33306:36096;P.depthBuffer&&de.push(Ce),P.ignoreDepthForMultisampleCopy||(P.depthBuffer&&(Q|=256),P.stencilBuffer&&(Q|=1024));let be=r.get(P);t.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,be.__webglFramebuffer),P.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[Ce]),n.invalidateFramebuffer(36009,[Ce])),n.blitFramebuffer(0,0,D,B,0,0,D,B,Q,9728),n.invalidateFramebuffer(36008,de),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function pe(P){return s&&(P.useRenderbuffer||P.useRenderToTexture)?Math.min(m,P.samples):0}function re(P){let D=o.render.frame;u.get(P)!==D&&(u.set(P,D),P.update())}let ie=!1,Y=!1;function ee(P,D){P&&P.isWebGLRenderTarget&&(ie===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ie=!0),P=P.texture),j(P,D)}function W(P,D){P&&P.isWebGLCubeRenderTarget&&(Y===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Y=!0),P=P.texture),J(P,D)}this.allocateTextureUnit=H,this.resetTextureUnits=Z,this.setTexture2D=j,this.setTexture2DArray=z,this.setTexture3D=V,this.setTextureCube=J,this.rebindTextures=Ie,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=Oe,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=fe,this.safeSetTexture2D=ee,this.safeSetTextureCube=W}function I4(n,e,t){let r=t.isWebGL2;function i(a){let o;if(a===yl)return 5121;if(a===zC)return 32819;if(a===GC)return 32820;if(a===HC)return 33635;if(a===NC)return 5120;if(a===BC)return 5122;if(a===sd)return 5123;if(a===UC)return 5124;if(a===om)return 5125;if(a===ys)return 5126;if(a===ac)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===WC)return 6406;if(a===Iu)return 6407;if(a===zr)return 6408;if(a===VC)return 6409;if(a===jC)return 6410;if(a===Du)return 6402;if(a===sc)return 34041;if(a===XC)return 6403;if(a===YC)return 36244;if(a===qC)return 33319;if(a===QC)return 33320;if(a===JC)return 36248;if(a===KC)return 36249;if(a===eb||a===tb||a===nb||a===rb)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===eb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===tb)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===nb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===rb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===ib||a===ab||a===ob||a===sb)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===ib)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===ab)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===ob)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===sb)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===$C)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((a===lb||a===ub)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(a===lb)return o.COMPRESSED_RGB8_ETC2;if(a===ub)return o.COMPRESSED_RGBA8_ETC2_EAC}if(a===eR||a===tR||a===nR||a===rR||a===iR||a===aR||a===oR||a===sR||a===lR||a===uR||a===fR||a===cR||a===hR||a===dR||a===mR||a===gR||a===vR||a===_R||a===yR||a===xR||a===wR||a===bR||a===SR||a===ER||a===MR||a===TR||a===AR||a===CR)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?a:null;if(a===pR)return o=e.get("EXT_texture_compression_bptc"),o!==null?a:null;if(a===oc)return r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}var c_=class extends Wn{constructor(e=[]){super();this.cameras=e}};c_.prototype.isArrayCamera=!0;var Xu=class extends dn{constructor(){super();this.type="Group"}};Xu.prototype.isGroup=!0;var a9={type:"move"},h_=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null,s=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(s!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(a9))),c&&e.hand){o=!0;for(let v of e.hand.values()){let y=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){let g=new Xu;g.matrixAutoUpdate=!1,g.visible=!1,c.joints[v.jointName]=g,c.add(g)}let p=c.joints[v.jointName];y!==null&&(p.matrix.fromArray(y.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=y.radius),p.visible=y!==null}let d=c.joints["index-finger-tip"],m=c.joints["thumb-tip"],f=d.position.distanceTo(m.position),h=.02,u=.005;c.inputState.pinching&&f>h+u?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-u&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=o!==null),this}},Em=class extends or{constructor(e,t,r,i,a,o,s,l,c,d){if(d=d!==void 0?d:Du,d!==Du&&d!==sc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Du&&(r=sd),r===void 0&&d===sc&&(r=oc);super(null,i,a,o,s,l,d,r,c);this.image={width:e,height:t},this.magFilter=s!==void 0?s:Fr,this.minFilter=l!==void 0?l:Fr,this.flipY=!1,this.generateMipmaps=!1}};Em.prototype.isDepthTexture=!0;var D4=class extends Ro{constructor(e,t){super();let r=this,i=null,a=1,o=null,s="local-floor",l=e.extensions.has("WEBGL_multisampled_render_to_texture"),c=null,d=null,m=null,f=null,h=!1,u=null,v=t.getContextAttributes(),y=null,p=null,g=[],_=new Map,x=new Wn;x.layers.enable(1),x.viewport=new Cn;let b=new Wn;b.layers.enable(2),b.viewport=new Cn;let M=[x,b],E=new c_;E.layers.enable(1),E.layers.enable(2);let C=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ne=g[J];return ne===void 0&&(ne=new h_,g[J]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(J){let ne=g[J];return ne===void 0&&(ne=new h_,g[J]=ne),ne.getGripSpace()},this.getHand=function(J){let ne=g[J];return ne===void 0&&(ne=new h_,g[J]=ne),ne.getHandSpace()};function I(J){let ne=_.get(J.inputSource);ne&&ne.dispatchEvent({type:J.type,data:J.inputSource})}function O(){_.forEach(function(J,ne){J.disconnect(ne)}),_.clear(),C=null,R=null,e.setRenderTarget(y),f=null,m=null,d=null,i=null,p=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return m!==null?m:f},this.getBinding=function(){return d},this.getFrame=function(){return u},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",O),i.addEventListener("inputsourceschange",k),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let ne={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(i,t,ne),i.updateRenderState({baseLayer:f}),p=new aa(f.framebufferWidth,f.framebufferHeight)}else{h=v.antialias;let ne=null,le=null,ue=null;v.depth&&(ue=v.stencil?35056:33189,ne=v.stencil?sc:Du,le=v.stencil?oc:sd);let K={colorFormat:v.alpha||h?32856:32849,depthFormat:ue,scaleFactor:a};d=new XRWebGLBinding(i,t),m=d.createProjectionLayer(K),i.updateRenderState({layers:[m]}),h?p=new hm(m.textureWidth,m.textureHeight,{format:zr,type:yl,depthTexture:new Em(m.textureWidth,m.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:v.stencil,ignoreDepth:m.ignoreDepthValues,useRenderToTexture:l}):p=new aa(m.textureWidth,m.textureHeight,{format:v.alpha?zr:Iu,type:yl,depthTexture:new Em(m.textureWidth,m.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:v.stencil,ignoreDepth:m.ignoreDepthValues})}this.setFoveation(0),o=await i.requestReferenceSpace(s),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function k(J){let ne=i.inputSources;for(let le=0;le<g.length;le++)_.set(ne[le],g[le]);for(let le=0;le<J.removed.length;le++){let ue=J.removed[le],K=_.get(ue);K&&(K.dispatchEvent({type:"disconnected",data:ue}),_.delete(ue))}for(let le=0;le<J.added.length;le++){let ue=J.added[le],K=_.get(ue);K&&K.dispatchEvent({type:"connected",data:ue})}}let G=new Le,N=new Le;function Z(J,ne,le){G.setFromMatrixPosition(ne.matrixWorld),N.setFromMatrixPosition(le.matrixWorld);let ue=G.distanceTo(N),K=ne.projectionMatrix.elements,ae=le.projectionMatrix.elements,se=K[14]/(K[10]-1),fe=K[14]/(K[10]+1),he=(K[9]+1)/K[5],we=(K[9]-1)/K[5],xe=(K[8]-1)/K[0],Ie=(ae[8]+1)/ae[0],ge=se*xe,Oe=se*Ie,me=ue/(-xe+Ie),pe=me*-xe;ne.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(pe),J.translateZ(me),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();let re=se+me,ie=fe+me,Y=ge-pe,ee=Oe+(ue-pe),W=he*fe/ie*re,P=we*fe/ie*re;J.projectionMatrix.makePerspective(Y,ee,W,P,re,ie)}function H(J,ne){ne===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ne.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;E.near=b.near=x.near=J.near,E.far=b.far=x.far=J.far,(C!==E.near||R!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,R=E.far);let ne=J.parent,le=E.cameras;H(E,ne);for(let K=0;K<le.length;K++)H(le[K],ne);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),J.position.copy(E.position),J.quaternion.copy(E.quaternion),J.scale.copy(E.scale),J.matrix.copy(E.matrix),J.matrixWorld.copy(E.matrixWorld);let ue=J.children;for(let K=0,ae=ue.length;K<ae;K++)ue[K].updateMatrixWorld(!0);le.length===2?Z(E,x,b):E.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(J){m!==null&&(m.fixedFoveation=J),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=J)};let j=null;function z(J,ne){if(c=ne.getViewerPose(o),u=ne,c!==null){let ue=c.views;f!==null&&(e.setRenderTargetFramebuffer(p,f.framebuffer),e.setRenderTarget(p));let K=!1;ue.length!==E.cameras.length&&(E.cameras.length=0,K=!0);for(let ae=0;ae<ue.length;ae++){let se=ue[ae],fe=null;if(f!==null)fe=f.getViewport(se);else{let we=d.getViewSubImage(m,se);fe=we.viewport,ae===0&&(e.setRenderTargetTextures(p,we.colorTexture,m.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(p))}let he=M[ae];he.matrix.fromArray(se.transform.matrix),he.projectionMatrix.fromArray(se.projectionMatrix),he.viewport.set(fe.x,fe.y,fe.width,fe.height),ae===0&&E.matrix.copy(he.matrix),K===!0&&E.cameras.push(he)}}let le=i.inputSources;for(let ue=0;ue<g.length;ue++){let K=g[ue],ae=le[ue];K.update(ae,ne,o)}j&&j(J,ne),u=null}let V=new KR;V.setAnimationLoop(z),this.setAnimationLoop=function(J){j=J},this.dispose=function(){}}};function o9(n){function e(p,g){p.fogColor.value.copy(g.color),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function t(p,g,_,x,b){g.isMeshBasicMaterial?r(p,g):g.isMeshLambertMaterial?(r(p,g),l(p,g)):g.isMeshToonMaterial?(r(p,g),d(p,g)):g.isMeshPhongMaterial?(r(p,g),c(p,g)):g.isMeshStandardMaterial?(r(p,g),g.isMeshPhysicalMaterial?f(p,g,b):m(p,g)):g.isMeshMatcapMaterial?(r(p,g),h(p,g)):g.isMeshDepthMaterial?(r(p,g),u(p,g)):g.isMeshDistanceMaterial?(r(p,g),v(p,g)):g.isMeshNormalMaterial?(r(p,g),y(p,g)):g.isLineBasicMaterial?(i(p,g),g.isLineDashedMaterial&&a(p,g)):g.isPointsMaterial?o(p,g,_,x):g.isSpriteMaterial?s(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.specularMap&&(p.specularMap.value=g.specularMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let _=n.get(g).envMap;_&&(p.envMap.value=_,p.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity);let x;g.map?x=g.map:g.specularMap?x=g.specularMap:g.displacementMap?x=g.displacementMap:g.normalMap?x=g.normalMap:g.bumpMap?x=g.bumpMap:g.roughnessMap?x=g.roughnessMap:g.metalnessMap?x=g.metalnessMap:g.alphaMap?x=g.alphaMap:g.emissiveMap?x=g.emissiveMap:g.clearcoatMap?x=g.clearcoatMap:g.clearcoatNormalMap?x=g.clearcoatNormalMap:g.clearcoatRoughnessMap?x=g.clearcoatRoughnessMap:g.specularIntensityMap?x=g.specularIntensityMap:g.specularColorMap?x=g.specularColorMap:g.transmissionMap?x=g.transmissionMap:g.thicknessMap?x=g.thicknessMap:g.sheenColorMap?x=g.sheenColorMap:g.sheenRoughnessMap&&(x=g.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),p.uvTransform.value.copy(x.matrix));let b;g.aoMap?b=g.aoMap:g.lightMap&&(b=g.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),p.uv2Transform.value.copy(b.matrix))}function i(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}function a(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function o(p,g,_,x){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*_,p.scale.value=x*.5,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let b;g.map?b=g.map:g.alphaMap&&(b=g.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),p.uvTransform.value.copy(b.matrix))}function s(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let _;g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function l(p,g){g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap)}function c(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===hr&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===hr&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function d(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===hr&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===hr&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function m(p,g){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===hr&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===hr&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),n.get(g).envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function f(p,g,_){m(p,g),p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===hr&&p.clearcoatNormalScale.value.negate())),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=_.texture,p.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap)}function h(p,g){g.matcap&&(p.matcap.value=g.matcap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===hr&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===hr&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function u(p,g){g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function v(p,g){g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}function y(p,g){g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===hr&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===hr&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function s9(){let n=H1("canvas");return n.style.display="block",n}function kn(n={}){let e=n.canvas!==void 0?n.canvas:s9(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,a=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,s=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",d=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,m=null,f=null,h=[],u=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ri,this.physicallyCorrectLights=!1,this.toneMapping=_s,this.toneMappingExposure=1;let v=this,y=!1,p=0,g=0,_=null,x=-1,b=null,M=new Cn,E=new Cn,C=null,R=e.width,I=e.height,O=1,k=null,G=null,N=new Cn(0,0,R,I),Z=new Cn(0,0,R,I),H=!1,j=[],z=new Md,V=!1,J=!1,ne=null,le=new Dt,ue=new Le,K={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ae(){return _===null?O:1}let se=t;function fe(ve,Be){for(let Ze=0;Ze<ve.length;Ze++){let nt=ve[Ze],it=e.getContext(nt,Be);if(it!==null)return it}return null}try{let ve={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${C1}`),e.addEventListener("webglcontextlost",Ge,!1),e.addEventListener("webglcontextrestored",We,!1),se===null){let Be=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Be.shift(),se=fe(Be,ve),se===null)throw fe(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}se.getShaderPrecisionFormat===void 0&&(se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ve){throw console.error("THREE.WebGLRenderer: "+ve.message),ve}let he,we,xe,Ie,ge,Oe,me,pe,re,ie,Y,ee,W,P,D,B,Q,de,Ce,be,Se,ke,Ye;function Ve(){he=new Iz(se),we=new Mz(se,he,n),he.init(we),ke=new I4(se,he,we),xe=new r9(se,he,we),j[0]=1029,Ie=new kz(se),ge=new Z7,Oe=new i9(se,he,xe,ge,we,ke,Ie),me=new Az(v),pe=new Lz(v),re=new qN(se,we),Ye=new Sz(se,he,re,we),ie=new Dz(se,re,Ie,Ye),Y=new Uz(se,ie,re,Ie),Ce=new Bz(se,we,Oe),B=new Tz(ge),ee=new j7(v,me,pe,he,we,Ye,B),W=new o9(ge),P=new Y7(ge),D=new e9(he,we),de=new bz(v,me,xe,Y,s),Q=new L4(v,Y,we),be=new Ez(se,he,Ie,we),Se=new Oz(se,he,Ie,we),Ie.programs=ee.programs,v.capabilities=we,v.extensions=he,v.properties=ge,v.renderLists=P,v.shadowMap=Q,v.state=xe,v.info=Ie}Ve();let Me=new D4(v,se);this.xr=Me,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.loseContext()},this.forceContextRestore=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ve){ve!==void 0&&(O=ve,this.setSize(R,I,!1))},this.getSize=function(ve){return ve.set(R,I)},this.setSize=function(ve,Be,Ze){if(Me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=ve,I=Be,e.width=Math.floor(ve*O),e.height=Math.floor(Be*O),Ze!==!1&&(e.style.width=ve+"px",e.style.height=Be+"px"),this.setViewport(0,0,ve,Be)},this.getDrawingBufferSize=function(ve){return ve.set(R*O,I*O).floor()},this.setDrawingBufferSize=function(ve,Be,Ze){R=ve,I=Be,O=Ze,e.width=Math.floor(ve*Ze),e.height=Math.floor(Be*Ze),this.setViewport(0,0,ve,Be)},this.getCurrentViewport=function(ve){return ve.copy(M)},this.getViewport=function(ve){return ve.copy(N)},this.setViewport=function(ve,Be,Ze,nt){ve.isVector4?N.set(ve.x,ve.y,ve.z,ve.w):N.set(ve,Be,Ze,nt),xe.viewport(M.copy(N).multiplyScalar(O).floor())},this.getScissor=function(ve){return ve.copy(Z)},this.setScissor=function(ve,Be,Ze,nt){ve.isVector4?Z.set(ve.x,ve.y,ve.z,ve.w):Z.set(ve,Be,Ze,nt),xe.scissor(E.copy(Z).multiplyScalar(O).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(ve){xe.setScissorTest(H=ve)},this.setOpaqueSort=function(ve){k=ve},this.setTransparentSort=function(ve){G=ve},this.getClearColor=function(ve){return ve.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(ve,Be,Ze){let nt=0;(ve===void 0||ve)&&(nt|=16384),(Be===void 0||Be)&&(nt|=256),(Ze===void 0||Ze)&&(nt|=1024),se.clear(nt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ge,!1),e.removeEventListener("webglcontextrestored",We,!1),P.dispose(),D.dispose(),ge.dispose(),me.dispose(),pe.dispose(),Y.dispose(),Ye.dispose(),Me.dispose(),Me.removeEventListener("sessionstart",qe),Me.removeEventListener("sessionend",De),ne&&(ne.dispose(),ne=null),He.stop()};function Ge(ve){ve.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;let ve=Ie.autoReset,Be=Q.enabled,Ze=Q.autoUpdate,nt=Q.needsUpdate,it=Q.type;Ve(),Ie.autoReset=ve,Q.enabled=Be,Q.autoUpdate=Ze,Q.needsUpdate=nt,Q.type=it}function et(ve){let Be=ve.target;Be.removeEventListener("dispose",et),ot(Be)}function ot(ve){X(ve),ge.remove(ve)}function X(ve){let Be=ge.get(ve).programs;Be!==void 0&&Be.forEach(function(Ze){ee.releaseProgram(Ze)})}this.renderBufferDirect=function(ve,Be,Ze,nt,it,gt){Be===null&&(Be=K);let yt=it.isMesh&&it.matrixWorld.determinant()<0,Lt=Te(ve,Be,Ze,nt,it);xe.setMaterial(nt,yt);let Ct=Ze.index,Yt=Ze.attributes.position;if(Ct===null){if(Yt===void 0||Yt.count===0)return}else if(Ct.count===0)return;let zt=1;nt.wireframe===!0&&(Ct=ie.getWireframeAttribute(Ze),zt=2),Ye.setup(it,nt,Lt,Ze,Ct);let Rt,qt=be;Ct!==null&&(Rt=re.get(Ct),qt=Se,qt.setIndex(Rt));let pn=Ct!==null?Ct.count:Yt.count,Ut=Ze.drawRange.start*zt,Rn=Ze.drawRange.count*zt,Ht=gt!==null?gt.start*zt:0,an=gt!==null?gt.count*zt:1/0,vt=Math.max(Ut,Ht),zn=Math.min(pn,Ut+Rn,Ht+an)-1,Sn=Math.max(0,zn-vt+1);if(Sn!==0){if(it.isMesh)nt.wireframe===!0?(xe.setLineWidth(nt.wireframeLinewidth*ae()),qt.setMode(1)):qt.setMode(4);else if(it.isLine){let Qt=nt.linewidth;Qt===void 0&&(Qt=1),xe.setLineWidth(Qt*ae()),it.isLineSegments?qt.setMode(1):it.isLineLoop?qt.setMode(2):qt.setMode(3)}else it.isPoints?qt.setMode(0):it.isSprite&&qt.setMode(4);if(it.isInstancedMesh)qt.renderInstances(vt,Sn,it.count);else if(Ze.isInstancedBufferGeometry){let Qt=Math.min(Ze.instanceCount,Ze._maxInstanceCount);qt.renderInstances(vt,Sn,Qt)}else qt.render(vt,Sn)}},this.compile=function(ve,Be){f=D.get(ve),f.init(),u.push(f),ve.traverseVisible(function(Ze){Ze.isLight&&Ze.layers.test(Be.layers)&&(f.pushLight(Ze),Ze.castShadow&&f.pushShadow(Ze))}),f.setupLights(v.physicallyCorrectLights),ve.traverse(function(Ze){let nt=Ze.material;if(nt)if(Array.isArray(nt))for(let it=0;it<nt.length;it++){let gt=nt[it];Ue(gt,ve,Ze)}else Ue(nt,ve,Ze)}),u.pop(),f=null};let Ae=null;function Fe(ve){Ae&&Ae(ve)}function qe(){He.stop()}function De(){He.start()}let He=new KR;He.setAnimationLoop(Fe),typeof window!="undefined"&&He.setContext(window),this.setAnimationLoop=function(ve){Ae=ve,Me.setAnimationLoop(ve),ve===null?He.stop():He.start()},Me.addEventListener("sessionstart",qe),Me.addEventListener("sessionend",De),this.render=function(ve,Be){if(Be!==void 0&&Be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ve.autoUpdate===!0&&ve.updateMatrixWorld(),Be.parent===null&&Be.updateMatrixWorld(),Me.enabled===!0&&Me.isPresenting===!0&&(Me.cameraAutoUpdate===!0&&Me.updateCamera(Be),Be=Me.getCamera()),ve.isScene===!0&&ve.onBeforeRender(v,ve,Be,_),f=D.get(ve,u.length),f.init(),u.push(f),le.multiplyMatrices(Be.projectionMatrix,Be.matrixWorldInverse),z.setFromProjectionMatrix(le),J=this.localClippingEnabled,V=B.init(this.clippingPlanes,J,Be),m=P.get(ve,h.length),m.init(),h.push(m),ce(ve,Be,0,v.sortObjects),m.finish(),v.sortObjects===!0&&m.sort(k,G),V===!0&&B.beginShadows();let Ze=f.state.shadowsArray;if(Q.render(Ze,ve,Be),V===!0&&B.endShadows(),this.info.autoReset===!0&&this.info.reset(),de.render(m,ve),f.setupLights(v.physicallyCorrectLights),Be.isArrayCamera){let nt=Be.cameras;for(let it=0,gt=nt.length;it<gt;it++){let yt=nt[it];Ke(m,ve,yt,yt.viewport)}}else Ke(m,ve,Be);_!==null&&(Oe.updateMultisampleRenderTarget(_),Oe.updateRenderTargetMipmap(_)),ve.isScene===!0&&ve.onAfterRender(v,ve,Be),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1),Ye.resetDefaultState(),x=-1,b=null,u.pop(),u.length>0?f=u[u.length-1]:f=null,h.pop(),h.length>0?m=h[h.length-1]:m=null};function ce(ve,Be,Ze,nt){if(ve.visible===!1)return;if(ve.layers.test(Be.layers)){if(ve.isGroup)Ze=ve.renderOrder;else if(ve.isLOD)ve.autoUpdate===!0&&ve.update(Be);else if(ve.isLight)f.pushLight(ve),ve.castShadow&&f.pushShadow(ve);else if(ve.isSprite){if(!ve.frustumCulled||z.intersectsSprite(ve)){nt&&ue.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let yt=Y.update(ve),Lt=ve.material;Lt.visible&&m.push(ve,yt,Lt,Ze,ue.z,null)}}else if((ve.isMesh||ve.isLine||ve.isPoints)&&(ve.isSkinnedMesh&&ve.skeleton.frame!==Ie.render.frame&&(ve.skeleton.update(),ve.skeleton.frame=Ie.render.frame),!ve.frustumCulled||z.intersectsObject(ve))){nt&&ue.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let yt=Y.update(ve),Lt=ve.material;if(Array.isArray(Lt)){let Ct=yt.groups;for(let Yt=0,zt=Ct.length;Yt<zt;Yt++){let Rt=Ct[Yt],qt=Lt[Rt.materialIndex];qt&&qt.visible&&m.push(ve,yt,qt,Ze,ue.z,Rt)}}else Lt.visible&&m.push(ve,yt,Lt,Ze,ue.z,null)}}let gt=ve.children;for(let yt=0,Lt=gt.length;yt<Lt;yt++)ce(gt[yt],Be,Ze,nt)}function Ke(ve,Be,Ze,nt){let it=ve.opaque,gt=ve.transmissive,yt=ve.transparent;f.setupLightsView(Ze),gt.length>0&&lt(it,Be,Ze),nt&&xe.viewport(M.copy(nt)),it.length>0&&L(it,Be,Ze),gt.length>0&&L(gt,Be,Ze),yt.length>0&&L(yt,Be,Ze)}function lt(ve,Be,Ze){if(ne===null){let yt=o===!0&&we.isWebGL2===!0?hm:aa;ne=new yt(1024,1024,{generateMipmaps:!0,type:ke.convert(ac)!==null?ac:yl,minFilter:ic,magFilter:Fr,wrapS:ni,wrapT:ni,useRenderToTexture:he.has("WEBGL_multisampled_render_to_texture")})}let nt=v.getRenderTarget();v.setRenderTarget(ne),v.clear();let it=v.toneMapping;v.toneMapping=_s,L(ve,Be,Ze),v.toneMapping=it,Oe.updateMultisampleRenderTarget(ne),Oe.updateRenderTargetMipmap(ne),v.setRenderTarget(nt)}function L(ve,Be,Ze){let nt=Be.isScene===!0?Be.overrideMaterial:null;for(let it=0,gt=ve.length;it<gt;it++){let yt=ve[it],Lt=yt.object,Ct=yt.geometry,Yt=nt===null?yt.material:nt,zt=yt.group;Lt.layers.test(Ze.layers)&&Pe(Lt,Be,Ze,Ct,Yt,zt)}}function Pe(ve,Be,Ze,nt,it,gt){ve.onBeforeRender(v,Be,Ze,nt,it,gt),ve.modelViewMatrix.multiplyMatrices(Ze.matrixWorldInverse,ve.matrixWorld),ve.normalMatrix.getNormalMatrix(ve.modelViewMatrix),it.onBeforeRender(v,Be,Ze,nt,ve,gt),it.transparent===!0&&it.side===vs?(it.side=hr,it.needsUpdate=!0,v.renderBufferDirect(Ze,Be,nt,it,ve,gt),it.side=vl,it.needsUpdate=!0,v.renderBufferDirect(Ze,Be,nt,it,ve,gt),it.side=vs):v.renderBufferDirect(Ze,Be,nt,it,ve,gt),ve.onAfterRender(v,Be,Ze,nt,it,gt)}function Ue(ve,Be,Ze){Be.isScene!==!0&&(Be=K);let nt=ge.get(ve),it=f.state.lights,gt=f.state.shadowsArray,yt=it.state.version,Lt=ee.getParameters(ve,it.state,gt,Be,Ze),Ct=ee.getProgramCacheKey(Lt),Yt=nt.programs;nt.environment=ve.isMeshStandardMaterial?Be.environment:null,nt.fog=Be.fog,nt.envMap=(ve.isMeshStandardMaterial?pe:me).get(ve.envMap||nt.environment),Yt===void 0&&(ve.addEventListener("dispose",et),Yt=new Map,nt.programs=Yt);let zt=Yt.get(Ct);if(zt!==void 0){if(nt.currentProgram===zt&&nt.lightsStateVersion===yt)return q(ve,Lt),zt}else Lt.uniforms=ee.getUniforms(ve),ve.onBuild(Ze,Lt,v),ve.onBeforeCompile(Lt,v),zt=ee.acquireProgram(Lt,Ct),Yt.set(Ct,zt),nt.uniforms=Lt.uniforms;let Rt=nt.uniforms;(!ve.isShaderMaterial&&!ve.isRawShaderMaterial||ve.clipping===!0)&&(Rt.clippingPlanes=B.uniform),q(ve,Lt),nt.needsLights=st(ve),nt.lightsStateVersion=yt,nt.needsLights&&(Rt.ambientLightColor.value=it.state.ambient,Rt.lightProbe.value=it.state.probe,Rt.directionalLights.value=it.state.directional,Rt.directionalLightShadows.value=it.state.directionalShadow,Rt.spotLights.value=it.state.spot,Rt.spotLightShadows.value=it.state.spotShadow,Rt.rectAreaLights.value=it.state.rectArea,Rt.ltc_1.value=it.state.rectAreaLTC1,Rt.ltc_2.value=it.state.rectAreaLTC2,Rt.pointLights.value=it.state.point,Rt.pointLightShadows.value=it.state.pointShadow,Rt.hemisphereLights.value=it.state.hemi,Rt.directionalShadowMap.value=it.state.directionalShadowMap,Rt.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Rt.spotShadowMap.value=it.state.spotShadowMap,Rt.spotShadowMatrix.value=it.state.spotShadowMatrix,Rt.pointShadowMap.value=it.state.pointShadowMap,Rt.pointShadowMatrix.value=it.state.pointShadowMatrix);let qt=zt.getUniforms(),pn=Zu.seqWithValue(qt.seq,Rt);return nt.currentProgram=zt,nt.uniformsList=pn,zt}function q(ve,Be){let Ze=ge.get(ve);Ze.outputEncoding=Be.outputEncoding,Ze.instancing=Be.instancing,Ze.skinning=Be.skinning,Ze.morphTargets=Be.morphTargets,Ze.morphNormals=Be.morphNormals,Ze.morphTargetsCount=Be.morphTargetsCount,Ze.numClippingPlanes=Be.numClippingPlanes,Ze.numIntersection=Be.numClipIntersection,Ze.vertexAlphas=Be.vertexAlphas,Ze.vertexTangents=Be.vertexTangents}function Te(ve,Be,Ze,nt,it){Be.isScene!==!0&&(Be=K),Oe.resetTextureUnits();let gt=Be.fog,yt=nt.isMeshStandardMaterial?Be.environment:null,Lt=_===null?v.outputEncoding:_.texture.encoding,Ct=(nt.isMeshStandardMaterial?pe:me).get(nt.envMap||yt),Yt=nt.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,zt=!!nt.normalMap&&!!Ze.attributes.tangent,Rt=!!Ze.morphAttributes.position,qt=!!Ze.morphAttributes.normal,pn=Ze.morphAttributes.position?Ze.morphAttributes.position.length:0,Ut=ge.get(nt),Rn=f.state.lights;if(V===!0&&(J===!0||ve!==b)){let Vn=ve===b&&nt.id===x;B.setState(nt,ve,Vn)}let Ht=!1;nt.version===Ut.__version?(Ut.needsLights&&Ut.lightsStateVersion!==Rn.state.version||Ut.outputEncoding!==Lt||it.isInstancedMesh&&Ut.instancing===!1||!it.isInstancedMesh&&Ut.instancing===!0||it.isSkinnedMesh&&Ut.skinning===!1||!it.isSkinnedMesh&&Ut.skinning===!0||Ut.envMap!==Ct||nt.fog&&Ut.fog!==gt||Ut.numClippingPlanes!==void 0&&(Ut.numClippingPlanes!==B.numPlanes||Ut.numIntersection!==B.numIntersection)||Ut.vertexAlphas!==Yt||Ut.vertexTangents!==zt||Ut.morphTargets!==Rt||Ut.morphNormals!==qt||we.isWebGL2===!0&&Ut.morphTargetsCount!==pn)&&(Ht=!0):(Ht=!0,Ut.__version=nt.version);let an=Ut.currentProgram;Ht===!0&&(an=Ue(nt,Be,it));let vt=!1,zn=!1,Sn=!1,Qt=an.getUniforms(),pr=Ut.uniforms;if(xe.useProgram(an.program)&&(vt=!0,zn=!0,Sn=!0),nt.id!==x&&(x=nt.id,zn=!0),vt||b!==ve){if(Qt.setValue(se,"projectionMatrix",ve.projectionMatrix),we.logarithmicDepthBuffer&&Qt.setValue(se,"logDepthBufFC",2/(Math.log(ve.far+1)/Math.LN2)),b!==ve&&(b=ve,zn=!0,Sn=!0),nt.isShaderMaterial||nt.isMeshPhongMaterial||nt.isMeshToonMaterial||nt.isMeshStandardMaterial||nt.envMap){let Vn=Qt.map.cameraPosition;Vn!==void 0&&Vn.setValue(se,ue.setFromMatrixPosition(ve.matrixWorld))}(nt.isMeshPhongMaterial||nt.isMeshToonMaterial||nt.isMeshLambertMaterial||nt.isMeshBasicMaterial||nt.isMeshStandardMaterial||nt.isShaderMaterial)&&Qt.setValue(se,"isOrthographic",ve.isOrthographicCamera===!0),(nt.isMeshPhongMaterial||nt.isMeshToonMaterial||nt.isMeshLambertMaterial||nt.isMeshBasicMaterial||nt.isMeshStandardMaterial||nt.isShaderMaterial||nt.isShadowMaterial||it.isSkinnedMesh)&&Qt.setValue(se,"viewMatrix",ve.matrixWorldInverse)}if(it.isSkinnedMesh){Qt.setOptional(se,it,"bindMatrix"),Qt.setOptional(se,it,"bindMatrixInverse");let Vn=it.skeleton;Vn&&(we.floatVertexTextures?(Vn.boneTexture===null&&Vn.computeBoneTexture(),Qt.setValue(se,"boneTexture",Vn.boneTexture,Oe),Qt.setValue(se,"boneTextureSize",Vn.boneTextureSize)):Qt.setOptional(se,Vn,"boneMatrices"))}return!!Ze&&(Ze.morphAttributes.position!==void 0||Ze.morphAttributes.normal!==void 0)&&Ce.update(it,Ze,nt,an),(zn||Ut.receiveShadow!==it.receiveShadow)&&(Ut.receiveShadow=it.receiveShadow,Qt.setValue(se,"receiveShadow",it.receiveShadow)),zn&&(Qt.setValue(se,"toneMappingExposure",v.toneMappingExposure),Ut.needsLights&&je(pr,Sn),gt&&nt.fog&&W.refreshFogUniforms(pr,gt),W.refreshMaterialUniforms(pr,nt,O,I,ne),Zu.upload(se,Ut.uniformsList,pr,Oe)),nt.isShaderMaterial&&nt.uniformsNeedUpdate===!0&&(Zu.upload(se,Ut.uniformsList,pr,Oe),nt.uniformsNeedUpdate=!1),nt.isSpriteMaterial&&Qt.setValue(se,"center",it.center),Qt.setValue(se,"modelViewMatrix",it.modelViewMatrix),Qt.setValue(se,"normalMatrix",it.normalMatrix),Qt.setValue(se,"modelMatrix",it.matrixWorld),an}function je(ve,Be){ve.ambientLightColor.needsUpdate=Be,ve.lightProbe.needsUpdate=Be,ve.directionalLights.needsUpdate=Be,ve.directionalLightShadows.needsUpdate=Be,ve.pointLights.needsUpdate=Be,ve.pointLightShadows.needsUpdate=Be,ve.spotLights.needsUpdate=Be,ve.spotLightShadows.needsUpdate=Be,ve.rectAreaLights.needsUpdate=Be,ve.hemisphereLights.needsUpdate=Be}function st(ve){return ve.isMeshLambertMaterial||ve.isMeshToonMaterial||ve.isMeshPhongMaterial||ve.isMeshStandardMaterial||ve.isShadowMaterial||ve.isShaderMaterial&&ve.lights===!0}this.getActiveCubeFace=function(){return p},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(ve,Be,Ze){ge.get(ve.texture).__webglTexture=Be,ge.get(ve.depthTexture).__webglTexture=Ze;let nt=ge.get(ve);nt.__hasExternalTextures=!0,nt.__hasExternalTextures&&(nt.__autoAllocateDepthBuffer=Ze===void 0,nt.__autoAllocateDepthBuffer||ve.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),ve.useRenderToTexture=!1,ve.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(ve,Be){let Ze=ge.get(ve);Ze.__webglFramebuffer=Be,Ze.__useDefaultFramebuffer=Be===void 0},this.setRenderTarget=function(ve,Be=0,Ze=0){_=ve,p=Be,g=Ze;let nt=!0;if(ve){let Ct=ge.get(ve);Ct.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),nt=!1):Ct.__webglFramebuffer===void 0?Oe.setupRenderTarget(ve):Ct.__hasExternalTextures&&Oe.rebindTextures(ve,ge.get(ve.texture).__webglTexture,ge.get(ve.depthTexture).__webglTexture)}let it=null,gt=!1,yt=!1;if(ve){let Ct=ve.texture;(Ct.isDataTexture3D||Ct.isDataTexture2DArray)&&(yt=!0);let Yt=ge.get(ve).__webglFramebuffer;ve.isWebGLCubeRenderTarget?(it=Yt[Be],gt=!0):ve.useRenderbuffer?it=ge.get(ve).__webglMultisampledFramebuffer:it=Yt,M.copy(ve.viewport),E.copy(ve.scissor),C=ve.scissorTest}else M.copy(N).multiplyScalar(O).floor(),E.copy(Z).multiplyScalar(O).floor(),C=H;if(xe.bindFramebuffer(36160,it)&&we.drawBuffers&&nt){let Ct=!1;if(ve)if(ve.isWebGLMultipleRenderTargets){let Yt=ve.texture;if(j.length!==Yt.length||j[0]!==36064){for(let zt=0,Rt=Yt.length;zt<Rt;zt++)j[zt]=36064+zt;j.length=Yt.length,Ct=!0}}else(j.length!==1||j[0]!==36064)&&(j[0]=36064,j.length=1,Ct=!0);else(j.length!==1||j[0]!==1029)&&(j[0]=1029,j.length=1,Ct=!0);Ct&&(we.isWebGL2?se.drawBuffers(j):he.get("WEBGL_draw_buffers").drawBuffersWEBGL(j))}if(xe.viewport(M),xe.scissor(E),xe.setScissorTest(C),gt){let Ct=ge.get(ve.texture);se.framebufferTexture2D(36160,36064,34069+Be,Ct.__webglTexture,Ze)}else if(yt){let Ct=ge.get(ve.texture),Yt=Be||0;se.framebufferTextureLayer(36160,36064,Ct.__webglTexture,Ze||0,Yt)}x=-1},this.readRenderTargetPixels=function(ve,Be,Ze,nt,it,gt,yt){if(!(ve&&ve.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Lt=ge.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&yt!==void 0&&(Lt=Lt[yt]),Lt){xe.bindFramebuffer(36160,Lt);try{let Ct=ve.texture,Yt=Ct.format,zt=Ct.type;if(Yt!==zr&&ke.convert(Yt)!==se.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Rt=zt===ac&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(zt!==yl&&ke.convert(zt)!==se.getParameter(35738)&&!(zt===ys&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Rt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se.checkFramebufferStatus(36160)===36053?Be>=0&&Be<=ve.width-nt&&Ze>=0&&Ze<=ve.height-it&&se.readPixels(Be,Ze,nt,it,ke.convert(Yt),ke.convert(zt),gt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{let Ct=_!==null?ge.get(_).__webglFramebuffer:null;xe.bindFramebuffer(36160,Ct)}}},this.copyFramebufferToTexture=function(ve,Be,Ze=0){let nt=Math.pow(2,-Ze),it=Math.floor(Be.image.width*nt),gt=Math.floor(Be.image.height*nt),yt=ke.convert(Be.format);we.isWebGL2&&(yt===6407&&(yt=32849),yt===6408&&(yt=32856)),Oe.setTexture2D(Be,0),se.copyTexImage2D(3553,Ze,yt,ve.x,ve.y,it,gt,0),xe.unbindTexture()},this.copyTextureToTexture=function(ve,Be,Ze,nt=0){let it=Be.image.width,gt=Be.image.height,yt=ke.convert(Ze.format),Lt=ke.convert(Ze.type);Oe.setTexture2D(Ze,0),se.pixelStorei(37440,Ze.flipY),se.pixelStorei(37441,Ze.premultiplyAlpha),se.pixelStorei(3317,Ze.unpackAlignment),Be.isDataTexture?se.texSubImage2D(3553,nt,ve.x,ve.y,it,gt,yt,Lt,Be.image.data):Be.isCompressedTexture?se.compressedTexSubImage2D(3553,nt,ve.x,ve.y,Be.mipmaps[0].width,Be.mipmaps[0].height,yt,Be.mipmaps[0].data):se.texSubImage2D(3553,nt,ve.x,ve.y,yt,Lt,Be.image),nt===0&&Ze.generateMipmaps&&se.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(ve,Be,Ze,nt,it=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let gt=ve.max.x-ve.min.x+1,yt=ve.max.y-ve.min.y+1,Lt=ve.max.z-ve.min.z+1,Ct=ke.convert(nt.format),Yt=ke.convert(nt.type),zt;if(nt.isDataTexture3D)Oe.setTexture3D(nt,0),zt=32879;else if(nt.isDataTexture2DArray)Oe.setTexture2DArray(nt,0),zt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}se.pixelStorei(37440,nt.flipY),se.pixelStorei(37441,nt.premultiplyAlpha),se.pixelStorei(3317,nt.unpackAlignment);let Rt=se.getParameter(3314),qt=se.getParameter(32878),pn=se.getParameter(3316),Ut=se.getParameter(3315),Rn=se.getParameter(32877),Ht=Ze.isCompressedTexture?Ze.mipmaps[0]:Ze.image;se.pixelStorei(3314,Ht.width),se.pixelStorei(32878,Ht.height),se.pixelStorei(3316,ve.min.x),se.pixelStorei(3315,ve.min.y),se.pixelStorei(32877,ve.min.z),Ze.isDataTexture||Ze.isDataTexture3D?se.texSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Lt,Ct,Yt,Ht.data):Ze.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),se.compressedTexSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Lt,Ct,Ht.data)):se.texSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Lt,Ct,Yt,Ht),se.pixelStorei(3314,Rt),se.pixelStorei(32878,qt),se.pixelStorei(3316,pn),se.pixelStorei(3315,Ut),se.pixelStorei(32877,Rn),it===0&&nt.generateMipmaps&&se.generateMipmap(zt),xe.unbindTexture()},this.initTexture=function(ve){Oe.setTexture2D(ve,0),xe.unbindTexture()},this.resetState=function(){p=0,g=0,_=null,xe.reset(),Ye.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}kn.prototype.isWebGLRenderer=!0;var tS=class extends kn{};tS.prototype.isWebGL1Renderer=!0;var Pd=class{constructor(e,t=25e-5){this.name="",this.color=new bt(e),this.density=t}clone(){return new Pd(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}};Pd.prototype.isFogExp2=!0;var Ld=class{constructor(e,t=1,r=1e3){this.name="",this.color=new bt(e),this.near=t,this.far=r}clone(){return new Ld(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}};Ld.prototype.isFog=!0;var wc=class extends dn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};wc.prototype.isScene=!0;var Yu=class{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ld,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};Yu.prototype.isInterleavedBuffer=!0;var Rr=new Le,Cl=class{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Rr.x=this.getX(t),Rr.y=this.getY(t),Rr.z=this.getZ(t),Rr.applyMatrix4(e),this.setXYZ(t,Rr.x,Rr.y,Rr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Rr.x=this.getX(t),Rr.y=this.getY(t),Rr.z=this.getZ(t),Rr.applyNormalMatrix(e),this.setXYZ(t,Rr.x,Rr.y,Rr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Rr.x=this.getX(t),Rr.y=this.getY(t),Rr.z=this.getZ(t),Rr.transformDirection(e),this.setXYZ(t,Rr.x,Rr.y,Rr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new yn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};Cl.prototype.isInterleavedBufferAttribute=!0;var Mm=class extends Gr{constructor(e){super();this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}};Mm.prototype.isSpriteMaterial=!0;var Id,Tm=new Le,Dd=new Le,Od=new Le,kd=new ht,Am=new ht,O4=new Dt,d_=new Le,Cm=new Le,p_=new Le,k4=new ht,nS=new ht,F4=new ht,Rm=class extends dn{constructor(e){super();if(this.type="Sprite",Id===void 0){Id=new Vt;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Yu(t,5);Id.setIndex([0,1,2,0,2,3]),Id.setAttribute("position",new Cl(r,3,0,!1)),Id.setAttribute("uv",new Cl(r,2,3,!1))}this.geometry=Id,this.material=e!==void 0?e:new Mm,this.center=new ht(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Dd.setFromMatrixScale(this.matrixWorld),O4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Od.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Dd.multiplyScalar(-Od.z);let r=this.material.rotation,i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));let o=this.center;m_(d_.set(-.5,-.5,0),Od,o,Dd,i,a),m_(Cm.set(.5,-.5,0),Od,o,Dd,i,a),m_(p_.set(.5,.5,0),Od,o,Dd,i,a),k4.set(0,0),nS.set(1,0),F4.set(1,1);let s=e.ray.intersectTriangle(d_,Cm,p_,!1,Tm);if(s===null&&(m_(Cm.set(-.5,.5,0),Od,o,Dd,i,a),nS.set(0,1),s=e.ray.intersectTriangle(d_,p_,Cm,!1,Tm),s===null))return;let l=e.ray.origin.distanceTo(Tm);l<e.near||l>e.far||t.push({distance:l,point:Tm.clone(),uv:br.getUV(Tm,d_,Cm,p_,k4,nS,F4,new ht),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};Rm.prototype.isSprite=!0;function m_(n,e,t,r,i,a){kd.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Am.x=a*kd.x-i*kd.y,Am.y=i*kd.x+a*kd.y):Am.copy(kd),n.copy(e),n.x+=Am.x,n.y+=Am.y,n.applyMatrix4(O4)}var g_=new Le,N4=new Le,rS=class extends dn{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let r=0,i=t.length;r<i;r++){let a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);let r=this.levels,i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){g_.setFromMatrixPosition(this.matrixWorld);let i=e.ray.origin.distanceTo(g_);this.getObjectForDistance(i).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){g_.setFromMatrixPosition(e.matrixWorld),N4.setFromMatrixPosition(this.matrixWorld);let r=g_.distanceTo(N4)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let r=this.levels;for(let i=0,a=r.length;i<a;i++){let o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}},B4=new Le,U4=new Cn,z4=new Cn,l9=new Le,G4=new Dt,Pm=class extends Jn{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Dt,this.bindMatrixInverse=new Dt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Cn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);let a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){let r=this.skeleton,i=this.geometry;U4.fromBufferAttribute(i.attributes.skinIndex,e),z4.fromBufferAttribute(i.attributes.skinWeight,e),B4.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){let o=z4.getComponent(a);if(o!==0){let s=U4.getComponent(a);G4.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(l9.copy(B4).applyMatrix4(G4),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};Pm.prototype.isSkinnedMesh=!0;var Lm=class extends dn{constructor(){super();this.type="Bone"}};Lm.prototype.isBone=!0;var bs=class extends or{constructor(e=null,t=1,r=1,i,a,o,s,l,c=Fr,d=Fr,m,f){super(null,o,s,l,c,d,i,a,m,f);this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};bs.prototype.isDataTexture=!0;var H4=new Dt,u9=new Dt,Im=class{constructor(e=[],t=[]){this.uuid=xa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new Dt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){let s=e[a]?e[a].matrixWorld:u9;H4.multiplyMatrices(s,t[a]),H4.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Im(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=FR(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new bs(t,e,e,zr,ys);return this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let a=e.bones[r],o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new Lm),this.bones.push(o),this.boneInverses.push(new Dt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){let o=t[i];e.bones.push(o.uuid);let s=r[i];e.boneInverses.push(s.toArray())}return e}},Ss=class extends yn{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};Ss.prototype.isInstancedBufferAttribute=!0;var W4=new Dt,V4=new Dt,v_=[],Dm=new Jn,__=class extends Jn{constructor(e,t,r){super(e,t);this.instanceMatrix=new Ss(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let r=this.matrixWorld,i=this.count;if(Dm.geometry=this.geometry,Dm.material=this.material,Dm.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,W4),V4.multiplyMatrices(r,W4),Dm.matrixWorld=V4,Dm.raycast(e,v_);for(let o=0,s=v_.length;o<s;o++){let l=v_[o];l.instanceId=a,l.object=this,t.push(l)}v_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ss(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}};__.prototype.isInstancedMesh=!0;var Hr=class extends Gr{constructor(e){super();this.type="LineBasicMaterial",this.color=new bt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}};Hr.prototype.isLineBasicMaterial=!0;var j4=new Le,Z4=new Le,X4=new Dt,iS=new bl,y_=new Po,Es=class extends dn{constructor(e=new Vt,t=new Hr){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)j4.fromBufferAttribute(t,i-1),Z4.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=j4.distanceTo(Z4);e.setAttribute("lineDistance",new Ft(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),y_.copy(r.boundingSphere),y_.applyMatrix4(i),y_.radius+=a,e.ray.intersectsSphere(y_)===!1)return;X4.copy(i).invert(),iS.copy(e.ray).applyMatrix4(X4);let s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new Le,d=new Le,m=new Le,f=new Le,h=this.isLineSegments?2:1;if(r.isBufferGeometry){let u=r.index,y=r.attributes.position;if(u!==null){let p=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let _=p,x=g-1;_<x;_+=h){let b=u.getX(_),M=u.getX(_+1);if(c.fromBufferAttribute(y,b),d.fromBufferAttribute(y,M),iS.distanceSqToSegment(c,d,f,m)>l)continue;f.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(f);C<e.near||C>e.far||t.push({distance:C,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{let p=Math.max(0,o.start),g=Math.min(y.count,o.start+o.count);for(let _=p,x=g-1;_<x;_+=h){if(c.fromBufferAttribute(y,_),d.fromBufferAttribute(y,_+1),iS.distanceSqToSegment(c,d,f,m)>l)continue;f.applyMatrix4(this.matrixWorld);let M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||t.push({distance:M,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Es.prototype.isLine=!0;var Y4=new Le,q4=new Le,Bi=class extends Es{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)Y4.fromBufferAttribute(t,i),q4.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Y4.distanceTo(q4);e.setAttribute("lineDistance",new Ft(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}};Bi.prototype.isLineSegments=!0;var x_=class extends Es{constructor(e,t){super(e,t);this.type="LineLoop"}};x_.prototype.isLineLoop=!0;var qu=class extends Gr{constructor(e){super();this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}};qu.prototype.isPointsMaterial=!0;var Q4=new Dt,aS=new bl,w_=new Po,b_=new Le,Fd=class extends dn{constructor(e=new Vt,t=new qu){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),w_.copy(r.boundingSphere),w_.applyMatrix4(i),w_.radius+=a,e.ray.intersectsSphere(w_)===!1)return;Q4.copy(i).invert(),aS.copy(e.ray).applyMatrix4(Q4);let s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s;if(r.isBufferGeometry){let c=r.index,m=r.attributes.position;if(c!==null){let f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let u=f,v=h;u<v;u++){let y=c.getX(u);b_.fromBufferAttribute(m,y),J4(b_,y,l,i,e,t,this)}}else{let f=Math.max(0,o.start),h=Math.min(m.count,o.start+o.count);for(let u=f,v=h;u<v;u++)b_.fromBufferAttribute(m,u),J4(b_,u,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Fd.prototype.isPoints=!0;function J4(n,e,t,r,i,a,o){let s=aS.distanceSqToPoint(n);if(s<t){let l=new Le;aS.closestPointToPoint(n,l),l.applyMatrix4(r);let c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}var oS=class extends or{constructor(e,t,r,i,a,o,s,l,c){super(e,t,r,i,a,o,s,l,c);this.format=s!==void 0?s:Iu,this.minFilter=o!==void 0?o:xr,this.magFilter=a!==void 0?a:xr,this.generateMipmaps=!1;let d=this;function m(){d.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}};oS.prototype.isVideoTexture=!0;var S_=class extends or{constructor(e,t,r,i,a,o,s,l,c,d,m,f){super(null,o,s,l,c,d,i,a,m,f);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};S_.prototype.isCompressedTexture=!0;var Om=class extends or{constructor(e,t,r,i,a,o,s,l,c){super(e,t,r,i,a,o,s,l,c);this.needsUpdate=!0}};Om.prototype.isCanvasTexture=!0;var Nd=class extends Vt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);let a=[],o=[],s=[],l=[],c=new Le,d=new ht;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let m=0,f=3;m<=t;m++,f+=3){let h=r+m/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),o.push(c.x,c.y,c.z),s.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let m=1;m<=t;m++)a.push(m,m+1,0);this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("normal",new Ft(s,3)),this.setAttribute("uv",new Ft(l,2))}static fromJSON(e){return new Nd(e.radius,e.segments,e.thetaStart,e.thetaLength)}},Rl=class extends Vt{constructor(e=1,t=1,r=1,i=8,a=1,o=!1,s=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};let c=this;i=Math.floor(i),a=Math.floor(a);let d=[],m=[],f=[],h=[],u=0,v=[],y=r/2,p=0;g(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new Ft(m,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(h,2));function g(){let x=new Le,b=new Le,M=0,E=(t-e)/r;for(let C=0;C<=a;C++){let R=[],I=C/a,O=I*(t-e)+e;for(let k=0;k<=i;k++){let G=k/i,N=G*l+s,Z=Math.sin(N),H=Math.cos(N);b.x=O*Z,b.y=-I*r+y,b.z=O*H,m.push(b.x,b.y,b.z),x.set(Z,E,H).normalize(),f.push(x.x,x.y,x.z),h.push(G,1-I),R.push(u++)}v.push(R)}for(let C=0;C<i;C++)for(let R=0;R<a;R++){let I=v[R][C],O=v[R+1][C],k=v[R+1][C+1],G=v[R][C+1];d.push(I,O,G),d.push(O,k,G),M+=6}c.addGroup(p,M,0),p+=M}function _(x){let b=u,M=new ht,E=new Le,C=0,R=x===!0?e:t,I=x===!0?1:-1;for(let k=1;k<=i;k++)m.push(0,y*I,0),f.push(0,I,0),h.push(.5,.5),u++;let O=u;for(let k=0;k<=i;k++){let N=k/i*l+s,Z=Math.cos(N),H=Math.sin(N);E.x=R*H,E.y=y*I,E.z=R*Z,m.push(E.x,E.y,E.z),f.push(0,I,0),M.x=Z*.5+.5,M.y=H*.5*I+.5,h.push(M.x,M.y),u++}for(let k=0;k<i;k++){let G=b+k,N=O+k;x===!0?d.push(N,N+1,G):d.push(N+1,N,G),C+=3}c.addGroup(p,C,x===!0?1:2),p+=C}}static fromJSON(e){return new Rl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Bd=class extends Rl{constructor(e=1,t=1,r=8,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new Bd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Ms=class extends Vt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let a=[],o=[];s(i),c(r),d(),this.setAttribute("position",new Ft(a,3)),this.setAttribute("normal",new Ft(a.slice(),3)),this.setAttribute("uv",new Ft(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(g){let _=new Le,x=new Le,b=new Le;for(let M=0;M<t.length;M+=3)h(t[M+0],_),h(t[M+1],x),h(t[M+2],b),l(_,x,b,g)}function l(g,_,x,b){let M=b+1,E=[];for(let C=0;C<=M;C++){E[C]=[];let R=g.clone().lerp(x,C/M),I=_.clone().lerp(x,C/M),O=M-C;for(let k=0;k<=O;k++)k===0&&C===M?E[C][k]=R:E[C][k]=R.clone().lerp(I,k/O)}for(let C=0;C<M;C++)for(let R=0;R<2*(M-C)-1;R++){let I=Math.floor(R/2);R%2==0?(f(E[C][I+1]),f(E[C+1][I]),f(E[C][I])):(f(E[C][I+1]),f(E[C+1][I+1]),f(E[C+1][I]))}}function c(g){let _=new Le;for(let x=0;x<a.length;x+=3)_.x=a[x+0],_.y=a[x+1],_.z=a[x+2],_.normalize().multiplyScalar(g),a[x+0]=_.x,a[x+1]=_.y,a[x+2]=_.z}function d(){let g=new Le;for(let _=0;_<a.length;_+=3){g.x=a[_+0],g.y=a[_+1],g.z=a[_+2];let x=y(g)/2/Math.PI+.5,b=p(g)/Math.PI+.5;o.push(x,1-b)}u(),m()}function m(){for(let g=0;g<o.length;g+=6){let _=o[g+0],x=o[g+2],b=o[g+4],M=Math.max(_,x,b),E=Math.min(_,x,b);M>.9&&E<.1&&(_<.2&&(o[g+0]+=1),x<.2&&(o[g+2]+=1),b<.2&&(o[g+4]+=1))}}function f(g){a.push(g.x,g.y,g.z)}function h(g,_){let x=g*3;_.x=e[x+0],_.y=e[x+1],_.z=e[x+2]}function u(){let g=new Le,_=new Le,x=new Le,b=new Le,M=new ht,E=new ht,C=new ht;for(let R=0,I=0;R<a.length;R+=9,I+=6){g.set(a[R+0],a[R+1],a[R+2]),_.set(a[R+3],a[R+4],a[R+5]),x.set(a[R+6],a[R+7],a[R+8]),M.set(o[I+0],o[I+1]),E.set(o[I+2],o[I+3]),C.set(o[I+4],o[I+5]),b.copy(g).add(_).add(x).divideScalar(3);let O=y(b);v(M,I+0,g,O),v(E,I+2,_,O),v(C,I+4,x,O)}}function v(g,_,x,b){b<0&&g.x===1&&(o[_]=g.x-1),x.x===0&&x.z===0&&(o[_]=b/2/Math.PI+.5)}function y(g){return Math.atan2(g.z,-g.x)}function p(g){return Math.atan2(-g.y,Math.sqrt(g.x*g.x+g.z*g.z))}}static fromJSON(e){return new Ms(e.vertices,e.indices,e.radius,e.details)}},Ud=class extends Ms{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ud(e.radius,e.detail)}},E_=new Le,M_=new Le,sS=new Le,T_=new br,A_=class extends Vt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let i=Math.pow(10,4),a=Math.cos(cc*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,c=[0,0,0],d=["a","b","c"],m=new Array(3),f={},h=[];for(let u=0;u<l;u+=3){o?(c[0]=o.getX(u),c[1]=o.getX(u+1),c[2]=o.getX(u+2)):(c[0]=u,c[1]=u+1,c[2]=u+2);let{a:v,b:y,c:p}=T_;if(v.fromBufferAttribute(s,c[0]),y.fromBufferAttribute(s,c[1]),p.fromBufferAttribute(s,c[2]),T_.getNormal(sS),m[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,m[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,m[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let g=0;g<3;g++){let _=(g+1)%3,x=m[g],b=m[_],M=T_[d[g]],E=T_[d[_]],C=`${x}_${b}`,R=`${b}_${x}`;R in f&&f[R]?(sS.dot(f[R].normal)<=a&&(h.push(M.x,M.y,M.z),h.push(E.x,E.y,E.z)),f[R]=null):C in f||(f[C]={index0:c[g],index1:c[_],normal:sS.clone()})}}for(let u in f)if(f[u]){let{index0:v,index1:y}=f[u];E_.fromBufferAttribute(s,v),M_.fromBufferAttribute(s,y),h.push(E_.x,E_.y,E_.z),h.push(M_.x,M_.y,M_.z)}this.setAttribute("position",new Ft(h,3))}}},oa=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,a=r.length,o;t?o=t:o=e*r[a-1];let s=0,l=a-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-o,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);let d=r[i],f=r[i+1]-d,h=(o-d)/f;return(i+h)/(a-1)}getTangent(e,t){let r=1e-4,i=e-r,a=e+r;i<0&&(i=0),a>1&&(a=1);let o=this.getPoint(i),s=this.getPoint(a),l=t||(o.isVector2?new ht:new Le);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new Le,i=[],a=[],o=[],s=new Le,l=new Dt;for(let h=0;h<=e;h++){let u=h/e;i[h]=this.getTangentAt(u,new Le)}a[0]=new Le,o[0]=new Le;let c=Number.MAX_VALUE,d=Math.abs(i[0].x),m=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),m<=c&&(c=m,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();let u=Math.acos(ai(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(s,u))}o[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(ai(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(h=-h);for(let u=1;u<=e;u++)a[u].applyMatrix4(l.makeRotationAxis(i[u],h*u)),o[u].crossVectors(i[u],a[u])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},zd=class extends oa{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t){let r=t||new ht,i=Math.PI*2,a=this.aEndAngle-this.aStartAngle,o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);let s=this.aStartAngle+e*a,l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){let d=Math.cos(this.aRotation),m=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*d-h*m+this.aX,c=f*m+h*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};zd.prototype.isEllipseCurve=!0;var C_=class extends zd{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o);this.type="ArcCurve"}};C_.prototype.isArcCurve=!0;function lS(){let n=0,e=0,t=0,r=0;function i(a,o,s,l){n=a,e=s,t=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,c){i(o,s,c*(s-a),c*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,c,d,m){let f=(o-a)/c-(s-a)/(c+d)+(s-o)/d,h=(s-o)/d-(l-o)/(d+m)+(l-s)/m;f*=d,h*=d,i(o,s,f,h)},calc:function(a){let o=a*a,s=o*a;return n+e*a+t*o+r*s}}}var R_=new Le,uS=new lS,fS=new lS,cS=new lS,P_=class extends oa{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Le){let r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let c,d;this.closed||s>0?c=i[(s-1)%a]:(R_.subVectors(i[0],i[1]).add(i[0]),c=R_);let m=i[s%a],f=i[(s+1)%a];if(this.closed||s+2<a?d=i[(s+2)%a]:(R_.subVectors(i[a-1],i[a-2]).add(i[a-1]),d=R_),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,u=Math.pow(c.distanceToSquared(m),h),v=Math.pow(m.distanceToSquared(f),h),y=Math.pow(f.distanceToSquared(d),h);v<1e-4&&(v=1),u<1e-4&&(u=v),y<1e-4&&(y=v),uS.initNonuniformCatmullRom(c.x,m.x,f.x,d.x,u,v,y),fS.initNonuniformCatmullRom(c.y,m.y,f.y,d.y,u,v,y),cS.initNonuniformCatmullRom(c.z,m.z,f.z,d.z,u,v,y)}else this.curveType==="catmullrom"&&(uS.initCatmullRom(c.x,m.x,f.x,d.x,this.tension),fS.initCatmullRom(c.y,m.y,f.y,d.y,this.tension),cS.initCatmullRom(c.z,m.z,f.z,d.z,this.tension));return r.set(uS.calc(l),fS.calc(l),cS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new Le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};P_.prototype.isCatmullRomCurve3=!0;function K4(n,e,t,r,i){let a=(r-e)*.5,o=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+a+o)*l+(-3*t+3*r-2*a-o)*s+a*n+t}function f9(n,e){let t=1-n;return t*t*e}function c9(n,e){return 2*(1-n)*n*e}function h9(n,e){return n*n*e}function km(n,e,t,r){return f9(n,e)+c9(n,t)+h9(n,r)}function d9(n,e){let t=1-n;return t*t*t*e}function p9(n,e){let t=1-n;return 3*t*t*n*e}function m9(n,e){return 3*(1-n)*n*n*e}function g9(n,e){return n*n*n*e}function Fm(n,e,t,r,i){return d9(n,e)+p9(n,t)+m9(n,r)+g9(n,i)}var Nm=class extends oa{constructor(e=new ht,t=new ht,r=new ht,i=new ht){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ht){let r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Fm(e,i.x,a.x,o.x,s.x),Fm(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};Nm.prototype.isCubicBezierCurve=!0;var L_=class extends oa{constructor(e=new Le,t=new Le,r=new Le,i=new Le){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Le){let r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Fm(e,i.x,a.x,o.x,s.x),Fm(e,i.y,a.y,o.y,s.y),Fm(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};L_.prototype.isCubicBezierCurve3=!0;var Gd=class extends oa{constructor(e=new ht,t=new ht){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ht){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new ht;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};Gd.prototype.isLineCurve=!0;var hS=class extends oa{constructor(e=new Le,t=new Le){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Le){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Bm=class extends oa{constructor(e=new ht,t=new ht,r=new ht){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ht){let r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(km(e,i.x,a.x,o.x),km(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};Bm.prototype.isQuadraticBezierCurve=!0;var Um=class extends oa{constructor(e=new Le,t=new Le,r=new Le){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Le){let r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(km(e,i.x,a.x,o.x),km(e,i.y,a.y,o.y),km(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};Um.prototype.isQuadraticBezierCurve3=!0;var zm=class extends oa{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ht){let r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return r.set(K4(s,l.x,c.x,d.x,m.x),K4(s,l.y,c.y,d.y,m.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new ht().fromArray(i))}return this}};zm.prototype.isSplineCurve=!0;var dS=Object.freeze({__proto__:null,ArcCurve:C_,CatmullRomCurve3:P_,CubicBezierCurve:Nm,CubicBezierCurve3:L_,EllipseCurve:zd,LineCurve:Gd,LineCurve3:hS,QuadraticBezierCurve:Bm,QuadraticBezierCurve3:Um,SplineCurve:zm}),pS=class extends oa{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Gd(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),a=0;for(;a<i.length;){if(i[a]>=r){let o=i[a]-r,s=this.curves[a],l=s.getLength(),c=l===0?0:1-o/l;return s.getPointAt(c,t)}a++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,a=this.curves;i<a.length;i++){let o=a[i],s=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let c=0;c<l.length;c++){let d=l[c];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new dS[i.type]().fromJSON(i))}return this}},Hd=class extends pS{constructor(e){super();this.type="Path",this.currentPoint=new ht,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new Gd(this.currentPoint.clone(),new ht(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let a=new Bm(this.currentPoint.clone(),new ht(e,t),new ht(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){let s=new Nm(this.currentPoint.clone(),new ht(e,t),new ht(r,i),new ht(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new zm(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){let s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,l){let c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,i,a,o,s,l),this}absellipse(e,t,r,i,a,o,s,l){let c=new zd(e,t,r,i,a,o,s,l);if(this.curves.length>0){let m=c.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(c);let d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Fo=class extends Hd{constructor(e){super(e);this.uuid=xa(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new Hd().fromJSON(i))}return this}},v9={triangulate:function(n,e,t=2){let r=e&&e.length,i=r?e[0]*t:n.length,a=$4(n,0,i,t,!0),o=[];if(!a||a.next===a.prev)return o;let s,l,c,d,m,f,h;if(r&&(a=b9(n,e,a,t)),n.length>80*t){s=c=n[0],l=d=n[1];for(let u=t;u<i;u+=t)m=n[u],f=n[u+1],m<s&&(s=m),f<l&&(l=f),m>c&&(c=m),f>d&&(d=f);h=Math.max(c-s,d-l),h=h!==0?1/h:0}return Gm(a,o,t,s,l,h),o}};function $4(n,e,t,r,i){let a,o;if(i===D9(n,e,t,r)>0)for(a=e;a<t;a+=r)o=nP(a,n[a],n[a+1],o);else for(a=t-r;a>=e;a-=r)o=nP(a,n[a],n[a+1],o);return o&&I_(o,o.next)&&(Wm(o),o=o.next),o}function Qu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(I_(t,t.next)||dr(t.prev,t,t.next)===0)){if(Wm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Gm(n,e,t,r,i,a,o){if(!n)return;!o&&a&&A9(n,r,i,a);let s=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,a?y9(n,r,i,a):_9(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),Wm(n),n=c.next,s=c.next;continue}if(n=c,n===s){o?o===1?(n=x9(Qu(n),e,t),Gm(n,e,t,r,i,a,2)):o===2&&w9(n,e,t,r,i,a):Gm(Qu(n),e,t,r,i,a,1);break}}}function _9(n){let e=n.prev,t=n,r=n.next;if(dr(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Wd(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&dr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function y9(n,e,t,r){let i=n.prev,a=n,o=n.next;if(dr(i,a,o)>=0)return!1;let s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,d=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,m=mS(s,l,e,t,r),f=mS(c,d,e,t,r),h=n.prevZ,u=n.nextZ;for(;h&&h.z>=m&&u&&u.z<=f;){if(h!==n.prev&&h!==n.next&&Wd(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&dr(h.prev,h,h.next)>=0||(h=h.prevZ,u!==n.prev&&u!==n.next&&Wd(i.x,i.y,a.x,a.y,o.x,o.y,u.x,u.y)&&dr(u.prev,u,u.next)>=0))return!1;u=u.nextZ}for(;h&&h.z>=m;){if(h!==n.prev&&h!==n.next&&Wd(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&dr(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;u&&u.z<=f;){if(u!==n.prev&&u!==n.next&&Wd(i.x,i.y,a.x,a.y,o.x,o.y,u.x,u.y)&&dr(u.prev,u,u.next)>=0)return!1;u=u.nextZ}return!0}function x9(n,e,t){let r=n;do{let i=r.prev,a=r.next.next;!I_(i,a)&&eP(i,r,r.next,a)&&Hm(i,a)&&Hm(a,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(a.i/t),Wm(r),Wm(r.next),r=n=a),r=r.next}while(r!==n);return Qu(r)}function w9(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&P9(o,s)){let l=tP(o,s);o=Qu(o,o.next),l=Qu(l,l.next),Gm(o,e,t,r,i,a),Gm(l,e,t,r,i,a);return}s=s.next}o=o.next}while(o!==n)}function b9(n,e,t,r){let i=[],a,o,s,l,c;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:n.length,c=$4(n,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(R9(c));for(i.sort(S9),a=0;a<i.length;a++)E9(i[a],t),t=Qu(t,t.next);return t}function S9(n,e){return n.x-e.x}function E9(n,e){if(e=M9(n,e),e){let t=tP(e,n);Qu(e,e.next),Qu(t,t.next)}}function M9(n,e){let t=e,r=n.x,i=n.y,a=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){let f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a){if(a=f,f===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===a)return o;let s=o,l=o.x,c=o.y,d=1/0,m;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Wd(i<c?r:a,i,l,c,i<c?a:r,i,t.x,t.y)&&(m=Math.abs(i-t.y)/(r-t.x),Hm(t,n)&&(m<d||m===d&&(t.x>o.x||t.x===o.x&&T9(o,t)))&&(o=t,d=m)),t=t.next;while(t!==s);return o}function T9(n,e){return dr(n.prev,n,e.prev)<0&&dr(e.next,n,n.next)<0}function A9(n,e,t,r){let i=n;do i.z===null&&(i.z=mS(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,C9(i)}function C9(n){let e,t,r,i,a,o,s,l,c=1;do{for(t=n,n=null,a=null,o=0;t;){for(o++,r=t,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(o>1);return n}function mS(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function R9(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Wd(n,e,t,r,i,a,o,s){return(i-o)*(e-s)-(n-o)*(a-s)>=0&&(n-o)*(r-s)-(t-o)*(e-s)>=0&&(t-o)*(a-s)-(i-o)*(r-s)>=0}function P9(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!L9(n,e)&&(Hm(n,e)&&Hm(e,n)&&I9(n,e)&&(dr(n.prev,n,e.prev)||dr(n,e.prev,e))||I_(n,e)&&dr(n.prev,n,n.next)>0&&dr(e.prev,e,e.next)>0)}function dr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function I_(n,e){return n.x===e.x&&n.y===e.y}function eP(n,e,t,r){let i=O_(dr(n,e,t)),a=O_(dr(n,e,r)),o=O_(dr(t,r,n)),s=O_(dr(t,r,e));return!!(i!==a&&o!==s||i===0&&D_(n,t,e)||a===0&&D_(n,r,e)||o===0&&D_(t,n,r)||s===0&&D_(t,e,r))}function D_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function O_(n){return n>0?1:n<0?-1:0}function L9(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&eP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Hm(n,e){return dr(n.prev,n,n.next)<0?dr(n,e,n.next)>=0&&dr(n,n.prev,e)>=0:dr(n,e,n.prev)<0||dr(n,n.next,e)<0}function I9(n,e){let t=n,r=!1,i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function tP(n,e){let t=new gS(n.i,n.x,n.y),r=new gS(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function nP(n,e,t,r){let i=new gS(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function gS(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D9(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}var No=class{static area(e){let t=e.length,r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return No.area(e)<0}static triangulateShape(e,t){let r=[],i=[],a=[];rP(e),iP(r,e);let o=e.length;t.forEach(rP);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,iP(r,t[l]);let s=v9.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}};function rP(n){let e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function iP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}var Ts=class extends Vt{constructor(e=new Fo([new ht(.5,.5),new ht(-.5,.5),new ht(-.5,-.5),new ht(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){let c=e[s];o(c)}this.setAttribute("position",new Ft(i,3)),this.setAttribute("uv",new Ft(a,2)),this.computeVertexNormals();function o(s){let l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1,f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,u=t.bevelSize!==void 0?t.bevelSize:h-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3,p=t.extrudePath,g=t.UVGenerator!==void 0?t.UVGenerator:O9;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=t.amount);let _,x=!1,b,M,E,C;p&&(_=p.getSpacedPoints(d),x=!0,f=!1,b=p.computeFrenetFrames(d,!1),M=new Le,E=new Le,C=new Le),f||(y=0,h=0,u=0,v=0);let R=s.extractPoints(c),I=R.shape,O=R.holes;if(!No.isClockWise(I)){I=I.reverse();for(let ge=0,Oe=O.length;ge<Oe;ge++){let me=O[ge];No.isClockWise(me)&&(O[ge]=me.reverse())}}let G=No.triangulateShape(I,O),N=I;for(let ge=0,Oe=O.length;ge<Oe;ge++){let me=O[ge];I=I.concat(me)}function Z(ge,Oe,me){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Oe.clone().multiplyScalar(me).add(ge)}let H=I.length,j=G.length;function z(ge,Oe,me){let pe,re,ie,Y=ge.x-Oe.x,ee=ge.y-Oe.y,W=me.x-ge.x,P=me.y-ge.y,D=Y*Y+ee*ee,B=Y*P-ee*W;if(Math.abs(B)>Number.EPSILON){let Q=Math.sqrt(D),de=Math.sqrt(W*W+P*P),Ce=Oe.x-ee/Q,be=Oe.y+Y/Q,Se=me.x-P/de,ke=me.y+W/de,Ye=((Se-Ce)*P-(ke-be)*W)/(Y*P-ee*W);pe=Ce+Y*Ye-ge.x,re=be+ee*Ye-ge.y;let Ve=pe*pe+re*re;if(Ve<=2)return new ht(pe,re);ie=Math.sqrt(Ve/2)}else{let Q=!1;Y>Number.EPSILON?W>Number.EPSILON&&(Q=!0):Y<-Number.EPSILON?W<-Number.EPSILON&&(Q=!0):Math.sign(ee)===Math.sign(P)&&(Q=!0),Q?(pe=-ee,re=Y,ie=Math.sqrt(D)):(pe=Y,re=ee,ie=Math.sqrt(D/2))}return new ht(pe/ie,re/ie)}let V=[];for(let ge=0,Oe=N.length,me=Oe-1,pe=ge+1;ge<Oe;ge++,me++,pe++)me===Oe&&(me=0),pe===Oe&&(pe=0),V[ge]=z(N[ge],N[me],N[pe]);let J=[],ne,le=V.concat();for(let ge=0,Oe=O.length;ge<Oe;ge++){let me=O[ge];ne=[];for(let pe=0,re=me.length,ie=re-1,Y=pe+1;pe<re;pe++,ie++,Y++)ie===re&&(ie=0),Y===re&&(Y=0),ne[pe]=z(me[pe],me[ie],me[Y]);J.push(ne),le=le.concat(ne)}for(let ge=0;ge<y;ge++){let Oe=ge/y,me=h*Math.cos(Oe*Math.PI/2),pe=u*Math.sin(Oe*Math.PI/2)+v;for(let re=0,ie=N.length;re<ie;re++){let Y=Z(N[re],V[re],pe);fe(Y.x,Y.y,-me)}for(let re=0,ie=O.length;re<ie;re++){let Y=O[re];ne=J[re];for(let ee=0,W=Y.length;ee<W;ee++){let P=Z(Y[ee],ne[ee],pe);fe(P.x,P.y,-me)}}}let ue=u+v;for(let ge=0;ge<H;ge++){let Oe=f?Z(I[ge],le[ge],ue):I[ge];x?(E.copy(b.normals[0]).multiplyScalar(Oe.x),M.copy(b.binormals[0]).multiplyScalar(Oe.y),C.copy(_[0]).add(E).add(M),fe(C.x,C.y,C.z)):fe(Oe.x,Oe.y,0)}for(let ge=1;ge<=d;ge++)for(let Oe=0;Oe<H;Oe++){let me=f?Z(I[Oe],le[Oe],ue):I[Oe];x?(E.copy(b.normals[ge]).multiplyScalar(me.x),M.copy(b.binormals[ge]).multiplyScalar(me.y),C.copy(_[ge]).add(E).add(M),fe(C.x,C.y,C.z)):fe(me.x,me.y,m/d*ge)}for(let ge=y-1;ge>=0;ge--){let Oe=ge/y,me=h*Math.cos(Oe*Math.PI/2),pe=u*Math.sin(Oe*Math.PI/2)+v;for(let re=0,ie=N.length;re<ie;re++){let Y=Z(N[re],V[re],pe);fe(Y.x,Y.y,m+me)}for(let re=0,ie=O.length;re<ie;re++){let Y=O[re];ne=J[re];for(let ee=0,W=Y.length;ee<W;ee++){let P=Z(Y[ee],ne[ee],pe);x?fe(P.x,P.y+_[d-1].y,_[d-1].x+me):fe(P.x,P.y,m+me)}}}K(),ae();function K(){let ge=i.length/3;if(f){let Oe=0,me=H*Oe;for(let pe=0;pe<j;pe++){let re=G[pe];he(re[2]+me,re[1]+me,re[0]+me)}Oe=d+y*2,me=H*Oe;for(let pe=0;pe<j;pe++){let re=G[pe];he(re[0]+me,re[1]+me,re[2]+me)}}else{for(let Oe=0;Oe<j;Oe++){let me=G[Oe];he(me[2],me[1],me[0])}for(let Oe=0;Oe<j;Oe++){let me=G[Oe];he(me[0]+H*d,me[1]+H*d,me[2]+H*d)}}r.addGroup(ge,i.length/3-ge,0)}function ae(){let ge=i.length/3,Oe=0;se(N,Oe),Oe+=N.length;for(let me=0,pe=O.length;me<pe;me++){let re=O[me];se(re,Oe),Oe+=re.length}r.addGroup(ge,i.length/3-ge,1)}function se(ge,Oe){let me=ge.length;for(;--me>=0;){let pe=me,re=me-1;re<0&&(re=ge.length-1);for(let ie=0,Y=d+y*2;ie<Y;ie++){let ee=H*ie,W=H*(ie+1),P=Oe+pe+ee,D=Oe+re+ee,B=Oe+re+W,Q=Oe+pe+W;we(P,D,B,Q)}}}function fe(ge,Oe,me){l.push(ge),l.push(Oe),l.push(me)}function he(ge,Oe,me){xe(ge),xe(Oe),xe(me);let pe=i.length/3,re=g.generateTopUV(r,i,pe-3,pe-2,pe-1);Ie(re[0]),Ie(re[1]),Ie(re[2])}function we(ge,Oe,me,pe){xe(ge),xe(Oe),xe(pe),xe(Oe),xe(me),xe(pe);let re=i.length/3,ie=g.generateSideWallUV(r,i,re-6,re-3,re-2,re-1);Ie(ie[0]),Ie(ie[1]),Ie(ie[3]),Ie(ie[1]),Ie(ie[2]),Ie(ie[3])}function xe(ge){i.push(l[ge*3+0]),i.push(l[ge*3+1]),i.push(l[ge*3+2])}function Ie(ge){a.push(ge.x),a.push(ge.y)}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return k9(t,r,e)}static fromJSON(e,t){let r=[];for(let a=0,o=e.shapes.length;a<o;a++){let s=t[e.shapes[a]];r.push(s)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new dS[i.type]().fromJSON(i)),new Ts(r,e.options)}},O9={generateTopUV:function(n,e,t,r,i){let a=e[t*3],o=e[t*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new ht(a,o),new ht(s,l),new ht(c,d)]},generateSideWallUV:function(n,e,t,r,i,a){let o=e[t*3],s=e[t*3+1],l=e[t*3+2],c=e[r*3],d=e[r*3+1],m=e[r*3+2],f=e[i*3],h=e[i*3+1],u=e[i*3+2],v=e[a*3],y=e[a*3+1],p=e[a*3+2];return Math.abs(s-d)<Math.abs(o-c)?[new ht(o,1-l),new ht(c,1-m),new ht(f,1-u),new ht(v,1-p)]:[new ht(s,1-l),new ht(d,1-m),new ht(h,1-u),new ht(y,1-p)]}};function k9(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){let a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}var Vd=class extends Ms{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vd(e.radius,e.detail)}},jd=class extends Vt{constructor(e=[new ht(0,.5),new ht(.5,0),new ht(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ai(i,0,Math.PI*2);let a=[],o=[],s=[],l=1/t,c=new Le,d=new ht;for(let m=0;m<=t;m++){let f=r+m*l*i,h=Math.sin(f),u=Math.cos(f);for(let v=0;v<=e.length-1;v++)c.x=e[v].x*h,c.y=e[v].y,c.z=e[v].x*u,o.push(c.x,c.y,c.z),d.x=m/t,d.y=v/(e.length-1),s.push(d.x,d.y)}for(let m=0;m<t;m++)for(let f=0;f<e.length-1;f++){let h=f+m*e.length,u=h,v=h+e.length,y=h+e.length+1,p=h+1;a.push(u,v,p),a.push(v,y,p)}if(this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("uv",new Ft(s,2)),this.computeVertexNormals(),i===Math.PI*2){let m=this.attributes.normal.array,f=new Le,h=new Le,u=new Le,v=t*e.length*3;for(let y=0,p=0;y<e.length;y++,p+=3)f.x=m[p+0],f.y=m[p+1],f.z=m[p+2],h.x=m[v+p+0],h.y=m[v+p+1],h.z=m[v+p+2],u.addVectors(f,h).normalize(),m[p+0]=m[v+p+0]=u.x,m[p+1]=m[v+p+1]=u.y,m[p+2]=m[v+p+2]=u.z}}static fromJSON(e){return new jd(e.points,e.segments,e.phiStart,e.phiLength)}},bc=class extends Ms{constructor(e=1,t=0){let r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bc(e.radius,e.detail)}},Zd=class extends Vt{constructor(e=.5,t=1,r=8,i=1,a=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);let s=[],l=[],c=[],d=[],m=e,f=(t-e)/i,h=new Le,u=new ht;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){let p=a+y/r*o;h.x=m*Math.cos(p),h.y=m*Math.sin(p),l.push(h.x,h.y,h.z),c.push(0,0,1),u.x=(h.x/t+1)/2,u.y=(h.y/t+1)/2,d.push(u.x,u.y)}m+=f}for(let v=0;v<i;v++){let y=v*(r+1);for(let p=0;p<r;p++){let g=p+y,_=g,x=g+r+1,b=g+r+2,M=g+1;s.push(_,x,M),s.push(x,b,M)}}this.setIndex(s),this.setAttribute("position",new Ft(l,3)),this.setAttribute("normal",new Ft(c,3)),this.setAttribute("uv",new Ft(d,2))}static fromJSON(e){return new Zd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},Sc=class extends Vt{constructor(e=new Fo([new ht(0,.5),new ht(-.5,-.5),new ht(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let r=[],i=[],a=[],o=[],s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(s,l,d),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ft(i,3)),this.setAttribute("normal",new Ft(a,3)),this.setAttribute("uv",new Ft(o,2));function c(d){let m=i.length/3,f=d.extractPoints(t),h=f.shape,u=f.holes;No.isClockWise(h)===!1&&(h=h.reverse());for(let y=0,p=u.length;y<p;y++){let g=u[y];No.isClockWise(g)===!0&&(u[y]=g.reverse())}let v=No.triangulateShape(h,u);for(let y=0,p=u.length;y<p;y++){let g=u[y];h=h.concat(g)}for(let y=0,p=h.length;y<p;y++){let g=h[y];i.push(g.x,g.y,0),a.push(0,0,1),o.push(g.x,g.y)}for(let y=0,p=v.length;y<p;y++){let g=v[y],_=g[0]+m,x=g[1]+m,b=g[2]+m;r.push(_,x,b),l+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return F9(t,e)}static fromJSON(e,t){let r=[];for(let i=0,a=e.shapes.length;i<a;i++){let o=t[e.shapes[i]];r.push(o)}return new Sc(r,e.curveSegments)}};function F9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}var Ec=class extends Vt{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let l=Math.min(o+s,Math.PI),c=0,d=[],m=new Le,f=new Le,h=[],u=[],v=[],y=[];for(let p=0;p<=r;p++){let g=[],_=p/r,x=0;p==0&&o==0?x=.5/t:p==r&&l==Math.PI&&(x=-.5/t);for(let b=0;b<=t;b++){let M=b/t;m.x=-e*Math.cos(i+M*a)*Math.sin(o+_*s),m.y=e*Math.cos(o+_*s),m.z=e*Math.sin(i+M*a)*Math.sin(o+_*s),u.push(m.x,m.y,m.z),f.copy(m).normalize(),v.push(f.x,f.y,f.z),y.push(M+x,1-_),g.push(c++)}d.push(g)}for(let p=0;p<r;p++)for(let g=0;g<t;g++){let _=d[p][g+1],x=d[p][g],b=d[p+1][g],M=d[p+1][g+1];(p!==0||o>0)&&h.push(_,x,M),(p!==r-1||l<Math.PI)&&h.push(x,b,M)}this.setIndex(h),this.setAttribute("position",new Ft(u,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2))}static fromJSON(e){return new Ec(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Xd=class extends Ms{constructor(e=1,t=0){let r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xd(e.radius,e.detail)}},Yd=class extends Vt{constructor(e=1,t=.4,r=8,i=6,a=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);let o=[],s=[],l=[],c=[],d=new Le,m=new Le,f=new Le;for(let h=0;h<=r;h++)for(let u=0;u<=i;u++){let v=u/i*a,y=h/r*Math.PI*2;m.x=(e+t*Math.cos(y))*Math.cos(v),m.y=(e+t*Math.cos(y))*Math.sin(v),m.z=t*Math.sin(y),s.push(m.x,m.y,m.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),f.subVectors(m,d).normalize(),l.push(f.x,f.y,f.z),c.push(u/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let u=1;u<=i;u++){let v=(i+1)*h+u-1,y=(i+1)*(h-1)+u-1,p=(i+1)*(h-1)+u,g=(i+1)*h+u;o.push(v,y,g),o.push(y,p,g)}this.setIndex(o),this.setAttribute("position",new Ft(s,3)),this.setAttribute("normal",new Ft(l,3)),this.setAttribute("uv",new Ft(c,2))}static fromJSON(e){return new Yd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},qd=class extends Vt{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);let s=[],l=[],c=[],d=[],m=new Le,f=new Le,h=new Le,u=new Le,v=new Le,y=new Le,p=new Le;for(let _=0;_<=r;++_){let x=_/r*a*Math.PI*2;g(x,a,o,e,h),g(x+.01,a,o,e,u),y.subVectors(u,h),p.addVectors(u,h),v.crossVectors(y,p),p.crossVectors(v,y),v.normalize(),p.normalize();for(let b=0;b<=i;++b){let M=b/i*Math.PI*2,E=-t*Math.cos(M),C=t*Math.sin(M);m.x=h.x+(E*p.x+C*v.x),m.y=h.y+(E*p.y+C*v.y),m.z=h.z+(E*p.z+C*v.z),l.push(m.x,m.y,m.z),f.subVectors(m,h).normalize(),c.push(f.x,f.y,f.z),d.push(_/r),d.push(b/i)}}for(let _=1;_<=r;_++)for(let x=1;x<=i;x++){let b=(i+1)*(_-1)+(x-1),M=(i+1)*_+(x-1),E=(i+1)*_+x,C=(i+1)*(_-1)+x;s.push(b,M,C),s.push(M,E,C)}this.setIndex(s),this.setAttribute("position",new Ft(l,3)),this.setAttribute("normal",new Ft(c,3)),this.setAttribute("uv",new Ft(d,2));function g(_,x,b,M,E){let C=Math.cos(_),R=Math.sin(_),I=b/x*_,O=Math.cos(I);E.x=M*(2+O)*.5*C,E.y=M*(2+O)*R*.5,E.z=M*Math.sin(I)*.5}}static fromJSON(e){return new qd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},Qd=class extends Vt{constructor(e=new Um(new Le(-1,-1,0),new Le(-1,1,0),new Le(1,1,0)),t=64,r=1,i=8,a=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};let o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;let s=new Le,l=new Le,c=new ht,d=new Le,m=[],f=[],h=[],u=[];v(),this.setIndex(u),this.setAttribute("position",new Ft(m,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(h,2));function v(){for(let _=0;_<t;_++)y(_);y(a===!1?t:0),g(),p()}function y(_){d=e.getPointAt(_/t,d);let x=o.normals[_],b=o.binormals[_];for(let M=0;M<=i;M++){let E=M/i*Math.PI*2,C=Math.sin(E),R=-Math.cos(E);l.x=R*x.x+C*b.x,l.y=R*x.y+C*b.y,l.z=R*x.z+C*b.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=d.x+r*l.x,s.y=d.y+r*l.y,s.z=d.z+r*l.z,m.push(s.x,s.y,s.z)}}function p(){for(let _=1;_<=t;_++)for(let x=1;x<=i;x++){let b=(i+1)*(_-1)+(x-1),M=(i+1)*_+(x-1),E=(i+1)*_+x,C=(i+1)*(_-1)+x;u.push(b,M,C),u.push(M,E,C)}}function g(){for(let _=0;_<=t;_++)for(let x=0;x<=i;x++)c.x=_/t,c.y=x/i,h.push(c.x,c.y)}}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qd(new dS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},k_=class extends Vt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],r=new Set,i=new Le,a=new Le;if(e.index!==null){let o=e.attributes.position,s=e.index,l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){let m=l[c],f=m.start,h=m.count;for(let u=f,v=f+h;u<v;u+=3)for(let y=0;y<3;y++){let p=s.getX(u+y),g=s.getX(u+(y+1)%3);i.fromBufferAttribute(o,p),a.fromBufferAttribute(o,g),aP(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{let o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let c=0;c<3;c++){let d=3*s+c,m=3*s+(c+1)%3;i.fromBufferAttribute(o,d),a.fromBufferAttribute(o,m),aP(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ft(t,3))}}};function aP(n,e,t){let r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var oP=Object.freeze({__proto__:null,BoxGeometry:Tl,BoxBufferGeometry:Tl,CircleGeometry:Nd,CircleBufferGeometry:Nd,ConeGeometry:Bd,ConeBufferGeometry:Bd,CylinderGeometry:Rl,CylinderBufferGeometry:Rl,DodecahedronGeometry:Ud,DodecahedronBufferGeometry:Ud,EdgesGeometry:A_,ExtrudeGeometry:Ts,ExtrudeBufferGeometry:Ts,IcosahedronGeometry:Vd,IcosahedronBufferGeometry:Vd,LatheGeometry:jd,LatheBufferGeometry:jd,OctahedronGeometry:bc,OctahedronBufferGeometry:bc,PlaneGeometry:ko,PlaneBufferGeometry:ko,PolyhedronGeometry:Ms,PolyhedronBufferGeometry:Ms,RingGeometry:Zd,RingBufferGeometry:Zd,ShapeGeometry:Sc,ShapeBufferGeometry:Sc,SphereGeometry:Ec,SphereBufferGeometry:Ec,TetrahedronGeometry:Xd,TetrahedronBufferGeometry:Xd,TorusGeometry:Yd,TorusBufferGeometry:Yd,TorusKnotGeometry:qd,TorusKnotBufferGeometry:qd,TubeGeometry:Qd,TubeBufferGeometry:Qd,WireframeGeometry:k_}),F_=class extends Gr{constructor(e){super();this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}};F_.prototype.isShadowMaterial=!0;var Jd=class extends Gr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fc,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};Jd.prototype.isMeshStandardMaterial=!0;var N_=class extends Jd{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ht(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ai(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};N_.prototype.isMeshPhysicalMaterial=!0;var B_=class extends Gr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fc,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};B_.prototype.isMeshPhongMaterial=!0;var U_=class extends Gr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fc,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};U_.prototype.isMeshToonMaterial=!0;var z_=class extends Gr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fc,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}};z_.prototype.isMeshNormalMaterial=!0;var G_=class extends Gr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};G_.prototype.isMeshLambertMaterial=!0;var H_=class extends Gr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fc,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}};H_.prototype.isMeshMatcapMaterial=!0;var W_=class extends Hr{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};W_.prototype.isLineDashedMaterial=!0;var N9=Object.freeze({__proto__:null,ShadowMaterial:F_,SpriteMaterial:Mm,RawShaderMaterial:mc,ShaderMaterial:xs,PointsMaterial:qu,MeshPhysicalMaterial:N_,MeshStandardMaterial:Jd,MeshPhongMaterial:B_,MeshToonMaterial:U_,MeshNormalMaterial:z_,MeshLambertMaterial:G_,MeshDepthMaterial:yc,MeshDistanceMaterial:xc,MeshBasicMaterial:eo,MeshMatcapMaterial:H_,LineDashedMaterial:W_,LineBasicMaterial:Hr,Material:Gr}),rr={arraySlice:function(n,e,t){return rr.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,a){return n[i]-n[a]}let t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){let r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){let s=t[a]*e;for(let l=0;l!==e;++l)i[o++]=n[s+l]}return i},flattenJSON:function(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push.apply(t,o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)},subclip:function(n,e,t,r,i=30){let a=n.clone();a.name=e;let o=[];for(let l=0;l<a.tracks.length;++l){let c=a.tracks[l],d=c.getValueSize(),m=[],f=[];for(let h=0;h<c.times.length;++h){let u=c.times[h]*i;if(!(u<t||u>=r)){m.push(c.times[h]);for(let v=0;v<d;++v)f.push(c.values[h*d+v])}}m.length!==0&&(c.times=rr.convertArray(m,c.times.constructor),c.values=rr.convertArray(f,c.values.constructor),o.push(c))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);let i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){let s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;let c=n.tracks.find(function(p){return p.name===s.name&&p.ValueTypeName===l});if(c===void 0)continue;let d=0,m=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);let f=0,h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let u=s.times.length-1,v;if(a<=s.times[0]){let p=d,g=m-d;v=rr.arraySlice(s.values,p,g)}else if(a>=s.times[u]){let p=u*m+d,g=p+m-d;v=rr.arraySlice(s.values,p,g)}else{let p=s.createInterpolant(),g=d,_=m-d;p.evaluate(a),v=rr.arraySlice(p.resultBuffer,g,_)}l==="quaternion"&&new Cr().fromArray(v).normalize().conjugate().toArray(v);let y=c.times.length;for(let p=0;p<y;++p){let g=p*h+f;if(l==="quaternion")Cr.multiplyQuaternionsFlat(c.values,g,v,0,c.values,g);else{let _=h-f*2;for(let x=0;x<_;++x)c.values[g+x]-=v[x]}}}return n.blendMode=fb,n}},As=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,a)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){let s=t[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){let s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,a,e)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};As.prototype.beforeStart_=As.prototype.copySampleValue_;As.prototype.afterEnd_=As.prototype.copySampleValue_;var vS=class extends As{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lc,endingEnd:lc}}intervalChanged_(e,t,r){let i=this.parameterPositions,a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case uc:a=e,s=2*t-r;break;case um:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case uc:o=e,l=2*r-t;break;case um:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}let c=(r-t)*.5,d=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(l-r),this._offsetPrev=a*d,this._offsetNext=o*d}interpolate_(e,t,r,i){let a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,d=this._offsetPrev,m=this._offsetNext,f=this._weightPrev,h=this._weightNext,u=(r-t)/(i-t),v=u*u,y=v*u,p=-f*y+2*f*v-f*u,g=(1+f)*y+(-1.5-2*f)*v+(-.5+f)*u+1,_=(-1-h)*y+(1.5+h)*v+.5*u,x=h*y-h*v;for(let b=0;b!==s;++b)a[b]=p*o[d+b]+g*o[c+b]+_*o[l+b]+x*o[m+b];return a}},V_=class extends As{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,d=(r-t)/(i-t),m=1-d;for(let f=0;f!==s;++f)a[f]=o[c+f]*m+o[l+f]*d;return a}},_S=class extends As{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},io=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rr.convertArray(t,this.TimeBufferType),this.values=rr.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:rr.convertArray(e.times,Array),values:rr.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new _S(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new V_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vS(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case sm:t=this.InterpolantFactoryMethodDiscrete;break;case lm:t=this.InterpolantFactoryMethodLinear;break;case k1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sm;case this.InterpolantFactoryMethodLinear:return lm;case this.InterpolantFactoryMethodSmooth:return k1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);let s=this.getValueSize();this.times=rr.arraySlice(r,a,o),this.values=rr.arraySlice(this.values,a*s,o*s)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){let l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&rr.isTypedArray(i))for(let s=0,l=i.length;s!==l;++s){let c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){let e=rr.arraySlice(this.times),t=rr.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===k1,a=e.length-1,o=1;for(let s=1;s<a;++s){let l=!1,c=e[s],d=e[s+1];if(c!==d&&(s!==1||c!==e[0]))if(i)l=!0;else{let m=s*r,f=m-r,h=m+r;for(let u=0;u!==r;++u){let v=t[m+u];if(v!==t[f+u]||v!==t[h+u]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];let m=s*r,f=o*r;for(let h=0;h!==r;++h)t[f+h]=t[m+h]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[s+c];++o}return o!==e.length?(this.times=rr.arraySlice(e,0,o),this.values=rr.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){let e=rr.arraySlice(this.times,0),t=rr.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};io.prototype.TimeBufferType=Float32Array;io.prototype.ValueBufferType=Float32Array;io.prototype.DefaultInterpolation=lm;var Ju=class extends io{};Ju.prototype.ValueTypeName="bool";Ju.prototype.ValueBufferType=Array;Ju.prototype.DefaultInterpolation=sm;Ju.prototype.InterpolantFactoryMethodLinear=void 0;Ju.prototype.InterpolantFactoryMethodSmooth=void 0;var j_=class extends io{};j_.prototype.ValueTypeName="color";var Kd=class extends io{};Kd.prototype.ValueTypeName="number";var yS=class extends As{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t),c=e*s;for(let d=c+s;c!==d;c+=4)Cr.slerpFlat(a,0,o,c-s,o,c,l);return a}},Mc=class extends io{InterpolantFactoryMethodLinear(e){return new yS(this.times,this.values,this.getValueSize(),e)}};Mc.prototype.ValueTypeName="quaternion";Mc.prototype.DefaultInterpolation=lm;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;var Ku=class extends io{};Ku.prototype.ValueTypeName="string";Ku.prototype.ValueBufferType=Array;Ku.prototype.DefaultInterpolation=sm;Ku.prototype.InterpolantFactoryMethodLinear=void 0;Ku.prototype.InterpolantFactoryMethodSmooth=void 0;var $d=class extends io{};$d.prototype.ValueTypeName="vector";var ep=class{constructor(e,t=-1,r,i=F1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=xa(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(U9(r[o]).scale(i));let a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)t.push(io.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let a=t.length,o=[];for(let s=0;s<a;s++){let l=[],c=[];l.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);let d=rr.getKeyframeOrder(l);l=rr.sortedArray(l,1,d),c=rr.sortedArray(c,1,d),!i&&l[0]===0&&(l.push(a),c.push(c[0])),o.push(new Kd(".morphTargetInfluences["+t[s].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){let c=e[s],d=c.name.match(a);if(d&&d.length>1){let m=d[1],f=i[m];f||(i[m]=f=[]),f.push(c)}}let o=[];for(let s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(m,f,h,u,v){if(h.length!==0){let y=[],p=[];rr.flattenJSON(h,y,p,u),y.length!==0&&v.push(new m(f,y,p))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode,l=e.length||-1,c=e.hierarchy||[];for(let m=0;m<c.length;m++){let f=c[m].keys;if(!(!f||f.length===0))if(f[0].morphTargets){let h={},u;for(u=0;u<f.length;u++)if(f[u].morphTargets)for(let v=0;v<f[u].morphTargets.length;v++)h[f[u].morphTargets[v]]=-1;for(let v in h){let y=[],p=[];for(let g=0;g!==f[u].morphTargets.length;++g){let _=f[u];y.push(_.time),p.push(_.morphTarget===v?1:0)}i.push(new Kd(".morphTargetInfluence["+v+"]",y,p))}l=h.length*(o||1)}else{let h=".bones["+t[m].name+"]";r($d,h+".position",f,"pos",i),r(Mc,h+".quaternion",f,"rot",i),r($d,h+".scale",f,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function B9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Kd;case"vector":case"vector2":case"vector3":case"vector4":return $d;case"color":return j_;case"quaternion":return Mc;case"bool":case"boolean":return Ju;case"string":return Ku}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function U9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=B9(n.type);if(n.times===void 0){let t=[],r=[];rr.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}var Tc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},Z_=class{constructor(e,t,r){let i=this,a=!1,o=0,s=0,l,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){s++,a===!1&&i.onStart!==void 0&&i.onStart(d,o,s),a=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,m){return c.push(d,m),this},this.removeHandler=function(d){let m=c.indexOf(d);return m!==-1&&c.splice(m,2),this},this.getHandler=function(d){for(let m=0,f=c.length;m<f;m+=2){let h=c[m],u=c[m+1];if(h.global&&(h.lastIndex=0),h.test(d))return u}return null}}},Ac=new Z_,Ci=class{constructor(e){this.manager=e!==void 0?e:Ac,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Pl={},Bo=class extends Ci{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=Tc.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Pl[e]!==void 0){Pl[e].push({onLoad:t,onProgress:r,onError:i});return}Pl[e]=[],Pl[e].push({onLoad:t,onProgress:r,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(s=>{if(s.status===200||s.status===0){s.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");let l=Pl[e],c=s.body.getReader(),d=s.headers.get("Content-Length"),m=d?parseInt(d):0,f=m!==0,h=0;return new ReadableStream({start(u){v();function v(){c.read().then(({done:y,value:p})=>{if(y)u.close();else{h+=p.byteLength;let g=new ProgressEvent("progress",{lengthComputable:f,loaded:h,total:m});for(let _=0,x=l.length;_<x;_++){let b=l[_];b.onProgress&&b.onProgress(g)}u.enqueue(p),v()}})}}})}else throw Error(`fetch for "${s.url}" responded with ${s.status}: ${s.statusText}`)}).then(s=>{let l=new Response(s);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(s=>{Tc.add(e,s);let l=Pl[e];delete Pl[e];for(let c=0,d=l.length;c<d;c++){let m=l[c];m.onLoad&&m.onLoad(s)}this.manager.itemEnd(e)}).catch(s=>{let l=Pl[e];delete Pl[e];for(let c=0,d=l.length;c<d;c++){let m=l[c];m.onError&&m.onError(s)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},sP=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=new Bo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){let t=[];for(let r=0;r<e.length;r++){let i=ep.parse(e[r]);t.push(i)}return t}},lP=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=[],s=new S_,l=new Bo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function d(m){l.load(e[m],function(f){let h=a.parse(f,!0);o[m]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(s.minFilter=xr),s.image=o,s.format=h.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let m=0,f=e.length;m<f;++m)d(m);else l.load(e,function(m){let f=a.parse(m,!0);if(f.isCubemap){let h=f.mipmaps.length/f.mipmapCount;for(let u=0;u<h;u++){o[u]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)o[u].mipmaps.push(f.mipmaps[u*f.mipmapCount+v]),o[u].format=f.format,o[u].width=f.width,o[u].height=f.height}s.image=o}else s.image.width=f.width,s.image.height=f.height,s.mipmaps=f.mipmaps;f.mipmapCount===1&&(s.minFilter=xr),s.format=f.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}},tp=class extends Ci{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,o=Tc.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;let s=H1("img");function l(){d(),Tc.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(m){d(),i&&i(m),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}},xS=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=new pc,o=new tp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(c){o.load(e[c],function(d){a.images[c]=d,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}},wS=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=new bs,s=new Bo(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let c=a.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ni,o.wrapT=c.wrapT!==void 0?c.wrapT:ni,o.magFilter=c.magFilter!==void 0?c.magFilter:xr,o.minFilter=c.minFilter!==void 0?c.minFilter:xr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ic),c.mipmapCount===1&&(o.minFilter=xr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}},Cc=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=new or,o=new tp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}},ao=class extends dn{constructor(e,t=1){super();this.type="Light",this.color=new bt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};ao.prototype.isLight=!0;var X_=class extends ao{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.groundColor=new bt(t)}copy(e){return ao.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}};X_.prototype.isHemisphereLight=!0;var uP=new Dt,fP=new Le,cP=new Le,Y_=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ht(512,512),this.map=null,this.mapPass=null,this.matrix=new Dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Md,this._frameExtents=new ht(1,1),this._viewportCount=1,this._viewports=[new Cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;fP.setFromMatrixPosition(e.matrixWorld),t.position.copy(fP),cP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(cP),t.updateMatrixWorld(),uP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},bS=class extends Y_{constructor(){super(new Wn(50,1,.5,500));this.focus=1}updateMatrices(e){let t=this.camera,r=fm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}};bS.prototype.isSpotLightShadow=!0;var q_=class extends ao{constructor(e,t,r=0,i=Math.PI/3,a=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.target=new dn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.shadow=new bS}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};q_.prototype.isSpotLight=!0;var hP=new Dt,Vm=new Le,SS=new Le,ES=class extends Y_{constructor(){super(new Wn(90,1,.5,500));this._frameExtents=new ht(4,2),this._viewportCount=6,this._viewports=[new Cn(2,1,1,1),new Cn(0,1,1,1),new Cn(3,1,1,1),new Cn(1,1,1,1),new Cn(3,0,1,1),new Cn(1,0,1,1)],this._cubeDirections=[new Le(1,0,0),new Le(-1,0,0),new Le(0,0,1),new Le(0,0,-1),new Le(0,1,0),new Le(0,-1,0)],this._cubeUps=[new Le(0,1,0),new Le(0,1,0),new Le(0,1,0),new Le(0,1,0),new Le(0,0,1),new Le(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Vm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Vm),SS.copy(r.position),SS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(SS),r.updateMatrixWorld(),i.makeTranslation(-Vm.x,-Vm.y,-Vm.z),hP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hP)}};ES.prototype.isPointLightShadow=!0;var Q_=class extends ao{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ES}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};Q_.prototype.isPointLight=!0;var MS=class extends Y_{constructor(){super(new ro(-5,5,5,-5,.5,500))}};MS.prototype.isDirectionalLightShadow=!0;var J_=class extends ao{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.target=new dn,this.shadow=new MS}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};J_.prototype.isDirectionalLight=!0;var K_=class extends ao{constructor(e,t){super(e,t);this.type="AmbientLight"}};K_.prototype.isAmbientLight=!0;var $_=class extends ao{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}};$_.prototype.isRectAreaLight=!0;var ey=class{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){let r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){let r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}};ey.prototype.isSphericalHarmonics3=!0;var np=class extends ao{constructor(e=new ey,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}};np.prototype.isLightProbe=!0;var TS=class extends Ci{constructor(e){super(e);this.textures={}}load(e,t,r,i){let a=this,o=new Bo(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){let t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}let i=new N9[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let a in e.uniforms){let o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new bt().setHex(o.value);break;case"v2":i.uniforms[a].value=new ht().fromArray(o.value);break;case"v3":i.uniforms[a].value=new Le().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Cn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new wr().fromArray(o.value);break;case"m4":i.uniforms[a].value=new Dt().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(let a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new ht().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ht().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}},jm=class{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},rp=class extends Vt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};rp.prototype.isInstancedBufferGeometry=!0;var AS=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=new Bo(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(h,u){if(t[u]!==void 0)return t[u];let y=h.interleavedBuffers[u],p=a(h,y.buffer),g=fd(y.type,p),_=new Yu(g,y.stride);return _.uuid=y.uuid,t[u]=_,_}function a(h,u){if(r[u]!==void 0)return r[u];let y=h.arrayBuffers[u],p=new Uint32Array(y).buffer;return r[u]=p,p}let o=e.isInstancedBufferGeometry?new rp:new Vt,s=e.data.index;if(s!==void 0){let h=fd(s.type,s.array);o.setIndex(new yn(h,1))}let l=e.data.attributes;for(let h in l){let u=l[h],v;if(u.isInterleavedBufferAttribute){let y=i(e.data,u.data);v=new Cl(y,u.itemSize,u.offset,u.normalized)}else{let y=fd(u.type,u.array),p=u.isInstancedBufferAttribute?Ss:yn;v=new p(y,u.itemSize,u.normalized)}u.name!==void 0&&(v.name=u.name),u.usage!==void 0&&v.setUsage(u.usage),u.updateRange!==void 0&&(v.updateRange.offset=u.updateRange.offset,v.updateRange.count=u.updateRange.count),o.setAttribute(h,v)}let c=e.data.morphAttributes;if(c)for(let h in c){let u=c[h],v=[];for(let y=0,p=u.length;y<p;y++){let g=u[y],_;if(g.isInterleavedBufferAttribute){let x=i(e.data,g.data);_=new Cl(x,g.itemSize,g.offset,g.normalized)}else{let x=fd(g.type,g.array);_=new yn(x,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),v.push(_)}o.morphAttributes[h]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let h=0,u=m.length;h!==u;++h){let v=m[h];o.addGroup(v.start,v.count,v.materialIndex)}let f=e.data.boundingSphere;if(f!==void 0){let h=new Le;f.center!==void 0&&h.fromArray(f.center),o.boundingSphere=new Po(h,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}},dP=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=this.path===""?jm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;let s=new Bo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}let d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){let r=this,i=this.path===""?jm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;let a=new Bo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);let o=await a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){let r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,a,l,s,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let m=!1;for(let f in o)if(o[f]instanceof HTMLImageElement){m=!0;break}m===!1&&t(c)}return c}async parseAsync(e){let t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){let t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){let a=new Fo().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){let r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){let s=new Im().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){let r={};if(e!==void 0){let i=new AS;for(let a=0,o=e.length;a<o;a++){let s,l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in oP?s=oP[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),s.isBufferGeometry===!0&&l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){let r={},i={};if(e!==void 0){let a=new TS;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){let l=e[o];if(l.type==="MultiMaterial"){let c=[];for(let d=0;d<l.materials.length;d++){let m=l.materials[d];r[m.uuid]===void 0&&(r[m.uuid]=a.parse(m)),c.push(r[m.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){let t={};if(e!==void 0)for(let r=0;r<e.length;r++){let i=e[r],a=ep.parse(i);t[a.uuid]=a}return t}parseImages(e,t){let r=this,i={},a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){let c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:fd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){let l=new Z_(t);a=new tp(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){let m=e[c],f=m.url;if(Array.isArray(f)){i[m.uuid]=[];for(let h=0,u=f.length;h<u;h++){let v=f[h],y=s(v);y!==null&&(y instanceof HTMLImageElement?i[m.uuid].push(y):i[m.uuid].push(new bs(y.data,y.width,y.height)))}}else{let h=s(m.url);h!==null&&(i[m.uuid]=h)}}}return i}async parseImagesAsync(e){let t=this,r={},i;async function a(o){if(typeof o=="string"){let s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:fd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new tp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){let l=e[o],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(let d=0,m=c.length;d<m;d++){let f=c[d],h=await a(f);h!==null&&(h instanceof HTMLImageElement?r[l.uuid].push(h):r[l.uuid].push(new bs(h.data,h.width,h.height)))}}else{let d=await a(l.url);d!==null&&(r[l.uuid]=d)}}}return r}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}let i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){let s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);let l,c=t[s.image];Array.isArray(c)?(l=new pc(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new bs(c.data,c.width,c.height):l=new or(c),c&&(l.needsUpdate=!0)),l.uuid=s.uuid,s.name!==void 0&&(l.name=s.name),s.mapping!==void 0&&(l.mapping=r(s.mapping,z9)),s.offset!==void 0&&l.offset.fromArray(s.offset),s.repeat!==void 0&&l.repeat.fromArray(s.repeat),s.center!==void 0&&l.center.fromArray(s.center),s.rotation!==void 0&&(l.rotation=s.rotation),s.wrap!==void 0&&(l.wrapS=r(s.wrap[0],pP),l.wrapT=r(s.wrap[1],pP)),s.format!==void 0&&(l.format=s.format),s.type!==void 0&&(l.type=s.type),s.encoding!==void 0&&(l.encoding=s.encoding),s.minFilter!==void 0&&(l.minFilter=r(s.minFilter,mP)),s.magFilter!==void 0&&(l.magFilter=r(s.magFilter,mP)),s.anisotropy!==void 0&&(l.anisotropy=s.anisotropy),s.flipY!==void 0&&(l.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(l.unpackAlignment=s.unpackAlignment),s.userData!==void 0&&(l.userData=s.userData),i[s.uuid]=l}return i}parseObject(e,t,r,i,a){let o;function s(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){let h=[];for(let u=0,v=f.length;u<v;u++){let y=f[u];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),h.push(r[y])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let d,m;switch(e.type){case"Scene":o=new wc,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new bt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ld(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Pd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Wn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ro(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new K_(e.color,e.intensity);break;case"DirectionalLight":o=new J_(e.color,e.intensity);break;case"PointLight":o=new Q_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new $_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new q_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new X_(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new np().fromJSON(e);break;case"SkinnedMesh":d=s(e.geometry),m=l(e.material),o=new Pm(d,m),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=s(e.geometry),m=l(e.material),o=new Jn(d,m);break;case"InstancedMesh":d=s(e.geometry),m=l(e.material);let f=e.count,h=e.instanceMatrix,u=e.instanceColor;o=new __(d,m,f),o.instanceMatrix=new Ss(new Float32Array(h.array),16),u!==void 0&&(o.instanceColor=new Ss(new Float32Array(u.array),u.itemSize));break;case"LOD":o=new rS;break;case"Line":o=new Es(s(e.geometry),l(e.material));break;case"LineLoop":o=new x_(s(e.geometry),l(e.material));break;case"LineSegments":o=new Bi(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Fd(s(e.geometry),l(e.material));break;case"Sprite":o=new Rm(l(e.material));break;case"Group":o=new Xu;break;case"Bone":o=new Lm;break;default:o=new dn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){let f=e.children;for(let h=0;h<f.length;h++)o.add(this.parseObject(f[h],t,r,i,a))}if(e.animations!==void 0){let f=e.animations;for(let h=0;h<f.length;h++){let u=f[h];o.animations.push(a[u])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);let f=e.levels;for(let h=0;h<f.length;h++){let u=f[h],v=o.getObjectByProperty("uuid",u.object);v!==void 0&&o.addLevel(v,u.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){let i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},z9={UVMapping:I1,CubeReflectionMapping:nc,CubeRefractionMapping:rc,EquirectangularReflectionMapping:tm,EquirectangularRefractionMapping:nm,CubeUVReflectionMapping:od,CubeUVRefractionMapping:rm},pP={RepeatWrapping:im,ClampToEdgeWrapping:ni,MirroredRepeatWrapping:am},mP={NearestFilter:Fr,NearestMipmapNearestFilter:D1,NearestMipmapLinearFilter:O1,LinearFilter:xr,LinearMipmapNearestFilter:$2,LinearMipmapLinearFilter:ic},CS=class extends Ci{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,o=Tc.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;let s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){Tc.add(e,l),t&&t(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}};CS.prototype.isImageBitmapLoader=!0;var ty,RS={getContext:function(){return ty===void 0&&(ty=new(window.AudioContext||window.webkitAudioContext)),ty},setContext:function(n){ty=n}},PS=class extends Ci{constructor(e){super(e)}load(e,t,r,i){let a=this,o=new Bo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{let l=s.slice(0);RS.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}},LS=class extends np{constructor(e,t,r=1){super(void 0,r);let i=new bt().set(e),a=new bt().set(t),o=new Le(i.r,i.g,i.b),s=new Le(a.r,a.g,a.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(c)}};LS.prototype.isHemisphereLightProbe=!0;var IS=class extends np{constructor(e,t=1){super(void 0,t);let r=new bt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}};IS.prototype.isAmbientLightProbe=!0;var gP=new Dt,vP=new Dt,Rc=new Dt,_P=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Rc.copy(e.projectionMatrix);let i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(cc*t.fov*.5)/t.zoom,s,l;vP.elements[12]=-i,gP.elements[12]=i,s=-o*t.aspect+a,l=o*t.aspect+a,Rc.elements[0]=2*t.near/(l-s),Rc.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Rc),s=-o*t.aspect-a,l=o*t.aspect-a,Rc.elements[0]=2*t.near/(l-s),Rc.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Rc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gP)}},Zm=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=yP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function yP(){return(typeof performance=="undefined"?Date:performance).now()}var Pc=new Le,xP=new Cr,G9=new Le,Lc=new Le,wP=class extends dn{constructor(){super();this.type="AudioListener",this.context=RS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Zm}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pc,xP,G9),Lc.set(0,0,-1).applyQuaternion(xP),t.positionX){let i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pc.x,i),t.positionY.linearRampToValueAtTime(Pc.y,i),t.positionZ.linearRampToValueAtTime(Pc.z,i),t.forwardX.linearRampToValueAtTime(Lc.x,i),t.forwardY.linearRampToValueAtTime(Lc.y,i),t.forwardZ.linearRampToValueAtTime(Lc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Pc.x,Pc.y,Pc.z),t.setOrientation(Lc.x,Lc.y,Lc.z,r.x,r.y,r.z)}},ny=class extends dn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Ic=new Le,bP=new Cr,H9=new Le,Dc=new Le,SP=class extends ny{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ic,bP,H9),Dc.set(0,0,1).applyQuaternion(bP);let t=this.panner;if(t.positionX){let r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ic.x,r),t.positionY.linearRampToValueAtTime(Ic.y,r),t.positionZ.linearRampToValueAtTime(Ic.z,r),t.orientationX.linearRampToValueAtTime(Dc.x,r),t.orientationY.linearRampToValueAtTime(Dc.y,r),t.orientationZ.linearRampToValueAtTime(Dc.z,r)}else t.setPosition(Ic.x,Ic.y,Ic.z),t.setOrientation(Dc.x,Dc.y,Dc.z)}},DS=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}},OS=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,a=e*i+i,o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;let s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){let l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Cr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){let o=this._workIndex*a;Cr.multiplyQuaternionsFlat(e,o,e,t,e,r),Cr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){let o=1-i;for(let s=0;s!==a;++s){let l=t+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){let s=t+o;e[s]=e[s]+e[r+o]*i}}},kS="\\[\\]\\.:\\/",W9=new RegExp("["+kS+"]","g"),FS="[^"+kS+"]",V9="[^"+kS.replace("\\.","")+"]",j9=/((?:WC+[\/:])*)/.source.replace("WC",FS),Z9=/(WCOD+)?/.source.replace("WCOD",V9),X9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",FS),Y9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",FS),q9=new RegExp("^"+j9+Z9+X9+Y9+"$"),Q9=["material","materials","bones"],EP=class{constructor(e,t,r){let i=r||wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},wn=class{constructor(e,t,r){this.path=t,this.parsedPath=r||wn.parseTrackName(t),this.node=wn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new wn.Composite(e,t,r):new wn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(W9,"")}static parseTrackName(e){let t=q9.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let a=r.nodeName.substring(i+1);Q9.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(a){for(let o=0;o<a.length;o++){let s=a[o];if(s.name===t||s.uuid===t)return s;let l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,a=t.propertyIndex;if(e||(e=wn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}let o=e[i];if(o===void 0){let c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};wn.Composite=EP;wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wn.prototype.GetterByBindingType=[wn.prototype._getValue_direct,wn.prototype._getValue_array,wn.prototype._getValue_arrayElement,wn.prototype._getValue_toArray];wn.prototype.SetterByBindingTypeAndVersioning=[[wn.prototype._setValue_direct,wn.prototype._setValue_direct_setNeedsUpdate,wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_array,wn.prototype._setValue_array_setNeedsUpdate,wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_arrayElement,wn.prototype._setValue_arrayElement_setNeedsUpdate,wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_fromArray,wn.prototype._setValue_fromArray_setNeedsUpdate,wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var NS=class{constructor(){this.uuid=xa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length,s,l=e.length,c=this.nCachedObjects_;for(let d=0,m=arguments.length;d!==m;++d){let f=arguments[d],h=f.uuid,u=t[h];if(u===void 0){u=l++,t[h]=u,e.push(f);for(let v=0,y=o;v!==y;++v)a[v].push(new wn(f,r[v],i[v]))}else if(u<c){s=e[u];let v=--c,y=e[v];t[y.uuid]=u,e[u]=y,t[h]=v,e[v]=f;for(let p=0,g=o;p!==g;++p){let _=a[p],x=_[v],b=_[u];_[u]=x,b===void 0&&(b=new wn(f,r[p],i[p])),_[v]=b}}else e[u]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){let l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=a){let m=a++,f=e[m];t[f.uuid]=d,e[d]=f,t[c]=m,e[m]=l;for(let h=0,u=i;h!==u;++h){let v=r[h],y=v[m],p=v[d];v[d]=y,v[m]=p}}}this.nCachedObjects_=a}uncache(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){let c=arguments[s],d=c.uuid,m=t[d];if(m!==void 0)if(delete t[d],m<a){let f=--a,h=e[f],u=--o,v=e[u];t[h.uuid]=m,e[m]=h,t[v.uuid]=f,e[f]=v,e.pop();for(let y=0,p=i;y!==p;++y){let g=r[y],_=g[f],x=g[u];g[m]=_,g[f]=x,g.pop()}}else{let f=--o,h=e[f];f>0&&(t[h.uuid]=m),e[m]=h,e.pop();for(let u=0,v=i;u!==v;++u){let y=r[u];y[m]=y[f],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){let r=this._bindingsIndicesByPath,i=r[e],a=this._bindings;if(i!==void 0)return a[i];let o=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,m=new Array(c);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(m);for(let f=d,h=l.length;f!==h;++f){let u=l[f];m[f]=new wn(u,e,t)}return m}unsubscribe_(e){let t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){let i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],c=e[s];t[c]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}};NS.prototype.isAnimationObjectGroup=!0;var MP=class{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;let a=t.tracks,o=a.length,s=new Array(o),l={endingStart:lc,endingEnd:lc};for(let c=0;c!==o;++c){let d=a[c].createInterpolant(null);s[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=PR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,a=i.time,o=this.timeScale,s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);let l=s.parameterPositions,c=s.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}let a=this._startTime;if(a!==null){let l=(e-a)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);let o=this._updateTime(t),s=this._updateWeight(e);if(s>0){let l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fb:for(let d=0,m=l.length;d!==m;++d)l[d].evaluate(o),c[d].accumulateAdditive(s);break;case F1:default:for(let d=0,m=l.length;d!==m;++d)l[d].evaluate(o),c[d].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,a=this._loopCount,o=r===LR;if(e===0)return a===-1?i:o&&(a&1)==1?t-i:i;if(r===RR){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){let s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);let l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)==1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=uc,i.endingEnd=uc):(e?i.endingStart=this.zeroSlopeAtStart?uc:lc:i.endingStart=um,t?i.endingEnd=this.zeroSlopeAtEnd?uc:lc:i.endingEnd=um)}_scheduleFading(e,t,r){let i=this._mixer,a=i.time,o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=r,this}},BS=class extends Ro{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName,d=c[l];d===void 0&&(d={},c[l]=d);for(let m=0;m!==a;++m){let f=i[m],h=f.name,u=d[h];if(u!==void 0)o[m]=u;else{if(u=o[m],u!==void 0){u._cacheIndex===null&&(++u.referenceCount,this._addInactiveBinding(u,l,h));continue}let v=t&&t._propertyBindings[m].binding.parsedPath;u=new OS(wn.create(r,h,v),f.ValueTypeName,f.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,l,h),o[m]=u}s[m].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];a.useCount++==0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];--a.useCount==0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,a=this._actionsByClip,o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{let s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;let m=s.actionByRoot,f=(e._localRoot||this._root).uuid;delete m[f],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];--a.referenceCount==0&&this._removeInactiveBinding(a)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,a=this._bindings,o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new V_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){let i=t||this._root,a=i.uuid,o=typeof e=="string"?ep.findByName(i,e):e,s=o!==null?o.uuid:e,l=this._actionsByClip[s],c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=F1),l!==void 0){let m=l.actionByRoot[a];if(m!==void 0&&m.blendMode===r)return m;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;let d=new MP(this,o,t,r);return this._bindAction(d,c),this._addInactiveAction(d,s,a),d}existingAction(e,t){let r=t||this._root,i=r.uuid,a=typeof e=="string"?ep.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,o);let s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){let o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){let c=o[s];this._deactivateAction(c);let d=c._cacheIndex,m=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,m._cacheIndex=d,t[d]=m,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let o in r){let s=r[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(let o in a){let s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}};BS.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Xm=class{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Xm(this.value.clone===void 0?this.value:this.value.clone())}},US=class extends Yu{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}};US.prototype.isInstancedInterleavedBuffer=!0;var zS=class{constructor(e,t,r,i,a){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}};zS.prototype.isGLBufferAttribute=!0;var ry=class{constructor(e,t,r=0,i=1/0){this.ray=new bl(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Gu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return GS(e,this,r,t),r.sort(TP),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)GS(e[i],this,r,t);return r.sort(TP),r}};function TP(n,e){return n.distance-e.distance}function GS(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){let i=n.children;for(let a=0,o=i.length;a<o;a++)GS(i[a],e,t,!0)}}var Ym=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){let e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ai(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},AP=class{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}},CP=new ht,Oc=class{constructor(e=new ht(1/0,1/0),t=new ht(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=CP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return CP.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Oc.prototype.isBox2=!0;var RP=new Le,iy=new Le,HS=class{constructor(e=new Le,t=new Le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){RP.subVectors(e,this.start),iy.subVectors(this.end,this.start);let r=iy.dot(iy),a=iy.dot(RP)/r;return t&&(a=ai(a,0,1)),a}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},PP=new Le,LP=class extends dn{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;let r=new Vt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){let c=o/l*Math.PI*2,d=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Ft(i,3));let a=new Hr({fog:!1,toneMapped:!1});this.cone=new Bi(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),PP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(PP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},$u=new Le,ay=new Dt,WS=new Dt,VS=class extends Bi{constructor(e){let t=IP(e),r=new Vt,i=[],a=[],o=new bt(0,0,1),s=new bt(0,1,0);for(let c=0;c<t.length;c++){let d=t[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new Ft(i,3)),r.setAttribute("color",new Ft(a,3));let l=new Hr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,r=this.geometry,i=r.getAttribute("position");WS.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){let s=t[a];s.parent&&s.parent.isBone&&(ay.multiplyMatrices(WS,s.matrixWorld),$u.setFromMatrixPosition(ay),i.setXYZ(o,$u.x,$u.y,$u.z),ay.multiplyMatrices(WS,s.parent.matrixWorld),$u.setFromMatrixPosition(ay),i.setXYZ(o+1,$u.x,$u.y,$u.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}};function IP(n){let e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,IP(n.children[t]));return e}var DP=class extends Jn{constructor(e,t,r){let i=new Ec(t,4,2),a=new eo({wireframe:!0,fog:!1,toneMapped:!1});super(i,a);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},J9=new Le,OP=new bt,kP=new bt,FP=class extends dn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;let i=new bc(t);i.rotateY(Math.PI*.5),this.material=new eo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new yn(o,3)),this.add(new Jn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");OP.copy(this.light.color),kP.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){let a=r<i/2?OP:kP;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(J9.setFromMatrixPosition(this.light.matrixWorld).negate())}},jS=class extends Bi{constructor(e=10,t=10,r=4473924,i=8947848){r=new bt(r),i=new bt(i);let a=t/2,o=e/t,s=e/2,l=[],c=[];for(let f=0,h=0,u=-s;f<=t;f++,u+=o){l.push(-s,0,u,s,0,u),l.push(u,0,-s,u,0,s);let v=f===a?r:i;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}let d=new Vt;d.setAttribute("position",new Ft(l,3)),d.setAttribute("color",new Ft(c,3));let m=new Hr({vertexColors:!0,toneMapped:!1});super(d,m);this.type="GridHelper"}},NP=class extends Bi{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new bt(a),o=new bt(o);let s=[],l=[];for(let m=0;m<=t;m++){let f=m/t*(Math.PI*2),h=Math.sin(f)*e,u=Math.cos(f)*e;s.push(0,0,0),s.push(h,0,u);let v=m&1?a:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let m=0;m<=r;m++){let f=m&1?a:o,h=e-e/r*m;for(let u=0;u<i;u++){let v=u/i*(Math.PI*2),y=Math.sin(v)*h,p=Math.cos(v)*h;s.push(y,0,p),l.push(f.r,f.g,f.b),v=(u+1)/i*(Math.PI*2),y=Math.sin(v)*h,p=Math.cos(v)*h,s.push(y,0,p),l.push(f.r,f.g,f.b)}}let c=new Vt;c.setAttribute("position",new Ft(s,3)),c.setAttribute("color",new Ft(l,3));let d=new Hr({vertexColors:!0,toneMapped:!1});super(c,d);this.type="PolarGridHelper"}},BP=new Le,oy=new Le,UP=new Le,zP=class extends dn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Vt;i.setAttribute("position",new Ft([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let a=new Hr({fog:!1,toneMapped:!1});this.lightPlane=new Es(i,a),this.add(this.lightPlane),i=new Vt,i.setAttribute("position",new Ft([0,0,0,0,0,1],3)),this.targetLine=new Es(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){BP.setFromMatrixPosition(this.light.matrixWorld),oy.setFromMatrixPosition(this.light.target.matrixWorld),UP.subVectors(oy,BP),this.lightPlane.lookAt(oy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oy),this.targetLine.scale.z=UP.length()}},sy=new Le,Sr=new Al,GP=class extends Bi{constructor(e){let t=new Vt,r=new Hr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={},s=new bt(16755200),l=new bt(16711680),c=new bt(43775),d=new bt(16777215),m=new bt(3355443);f("n1","n2",s),f("n2","n4",s),f("n4","n3",s),f("n3","n1",s),f("f1","f2",s),f("f2","f4",s),f("f4","f3",s),f("f3","f1",s),f("n1","f1",s),f("n2","f2",s),f("n3","f3",s),f("n4","f4",s),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",d),f("p","c",m),f("cn1","cn2",m),f("cn3","cn4",m),f("cf1","cf2",m),f("cf3","cf4",m);function f(u,v,y){h(u,y),h(v,y)}function h(u,v){i.push(0,0,0),a.push(v.r,v.g,v.b),o[u]===void 0&&(o[u]=[]),o[u].push(i.length/3-1)}t.setAttribute("position",new Ft(i,3)),t.setAttribute("color",new Ft(a,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap,r=1,i=1;Sr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pr("c",t,e,Sr,0,0,-1),Pr("t",t,e,Sr,0,0,1),Pr("n1",t,e,Sr,-r,-i,-1),Pr("n2",t,e,Sr,r,-i,-1),Pr("n3",t,e,Sr,-r,i,-1),Pr("n4",t,e,Sr,r,i,-1),Pr("f1",t,e,Sr,-r,-i,1),Pr("f2",t,e,Sr,r,-i,1),Pr("f3",t,e,Sr,-r,i,1),Pr("f4",t,e,Sr,r,i,1),Pr("u1",t,e,Sr,r*.7,i*1.1,-1),Pr("u2",t,e,Sr,-r*.7,i*1.1,-1),Pr("u3",t,e,Sr,0,i*2,-1),Pr("cf1",t,e,Sr,-r,0,1),Pr("cf2",t,e,Sr,r,0,1),Pr("cf3",t,e,Sr,0,-i,1),Pr("cf4",t,e,Sr,0,i,1),Pr("cn1",t,e,Sr,-r,0,-1),Pr("cn2",t,e,Sr,r,0,-1),Pr("cn3",t,e,Sr,0,-i,-1),Pr("cn4",t,e,Sr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Pr(n,e,t,r,i,a,o){sy.set(i,a,o).unproject(r);let s=e[n];if(s!==void 0){let l=t.getAttribute("position");for(let c=0,d=s.length;c<d;c++)l.setXYZ(s[c],sy.x,sy.y,sy.z)}}var ly=new Mi,ZS=class extends Bi{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Vt;a.setIndex(new yn(r,1)),a.setAttribute("position",new yn(i,3));super(a,new Hr({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ly.setFromObject(this.object),ly.isEmpty())return;let t=ly.min,r=ly.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Bi.prototype.copy.call(this,e),this.object=e.object,this}},HP=class extends Bi{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Vt;a.setIndex(new yn(r,1)),a.setAttribute("position",new Ft(i,3));super(a,new Hr({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},WP=class extends Es{constructor(e,t=1,r=16776960){let i=r,a=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Vt;o.setAttribute("position",new Ft(a,3)),o.computeBoundingSphere();super(o,new Hr({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;let s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Vt;l.setAttribute("position",new Ft(s,3)),l.computeBoundingSphere(),this.add(new Jn(l,new eo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?hr:vl,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},VP=new Le,uy,XS,jP=class extends dn{constructor(e=new Le(0,0,1),t=new Le(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super();this.type="ArrowHelper",uy===void 0&&(uy=new Vt,uy.setAttribute("position",new Ft([0,0,0,0,1,0],3)),XS=new Rl(0,.5,1,5,1),XS.translate(0,-.5,0)),this.position.copy(t),this.line=new Es(uy,new Hr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jn(XS,new eo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{VP.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(VP,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},YS=class extends Bi{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Vt;i.setAttribute("position",new Ft(t,3)),i.setAttribute("color",new Ft(r,3));let a=new Hr({vertexColors:!0,toneMapped:!1});super(i,a);this.type="AxesHelper"}setColors(e,t,r){let i=new bt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},ZP=class{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Hd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(g){let _=[];for(let x=0,b=g.length;x<b;x++){let M=g[x],E=new Fo;E.curves=M.curves,_.push(E)}return _}function i(g,_){let x=_.length,b=!1;for(let M=x-1,E=0;E<x;M=E++){let C=_[M],R=_[E],I=R.x-C.x,O=R.y-C.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(C=_[E],I=-I,R=_[M],O=-O),g.y<C.y||g.y>R.y)continue;if(g.y===C.y){if(g.x===C.x)return!0}else{let k=O*(g.x-C.x)-I*(g.y-C.y);if(k===0)return!0;if(k<0)continue;b=!b}}else{if(g.y!==C.y)continue;if(R.x<=g.x&&g.x<=C.x||C.x<=g.x&&g.x<=R.x)return!0}}return b}let a=No.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let s,l,c,d=[];if(o.length===1)return l=o[0],c=new Fo,c.curves=l.curves,d.push(c),d;let m=!a(o[0].getPoints());m=e?!m:m;let f=[],h=[],u=[],v=0,y;h[v]=void 0,u[v]=[];for(let g=0,_=o.length;g<_;g++)l=o[g],y=l.getPoints(),s=a(y),s=e?!s:s,s?(!m&&h[v]&&v++,h[v]={s:new Fo,p:y},h[v].s.curves=l.curves,m&&v++,u[v]=[]):u[v].push({h:l,p:y[0]});if(!h[0])return r(o);if(h.length>1){let g=!1,_=[];for(let x=0,b=h.length;x<b;x++)f[x]=[];for(let x=0,b=h.length;x<b;x++){let M=u[x];for(let E=0;E<M.length;E++){let C=M[E],R=!0;for(let I=0;I<h.length;I++)i(C.p,h[I].p)&&(x!==I&&_.push({froms:x,tos:I,hole:E}),R?(R=!1,f[I].push(C)):g=!0);R&&f[x].push(C)}}_.length>0&&(g||(u=f))}let p;for(let g=0,_=h.length;g<_;g++){c=h[g].s,d.push(c),p=u[g];for(let x=0,b=p.length;x<b;x++)c.holes.push(p[x].h)}return d}},XP=new Float32Array(1),K9=new Int32Array(XP.buffer),YP=class{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),XP[0]=e;let t=K9[0],r=t>>16&32768,i=t>>12&2047,a=t>>23&255;return a<103?r:a>142?(r|=31744,r|=(a==255?0:1)&&t&8388607,r):a<113?(i|=2048,r|=(i>>114-a)+(i>>113-a&1),r):(r|=a-112<<10|i>>1,r+=i&1,r)}},$9=0,eG=1,tG=0,nG=1,rG=2;function iG(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function aG(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function oG(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Fd(n,e)}function sG(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Rm(n)}function lG(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Fd(n,e)}function uG(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new qu(n)}function fG(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new qu(n)}function cG(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new qu(n)}function hG(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Le(n,e,t)}function dG(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new yn(n,e).setUsage(ud)}function pG(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ob(n,e)}function mG(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new kb(n,e)}function gG(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Fb(n,e)}function vG(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Nb(n,e)}function _G(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new gm(n,e)}function yG(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Bb(n,e)}function xG(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new vm(n,e)}function wG(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ft(n,e)}function bG(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new zb(n,e)}oa.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(oa.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Hd.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function SG(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new YS(n)}function EG(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ZS(n,e)}function MG(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Bi(new A_(n.geometry),new Hr({color:e!==void 0?e:16777215}))}jS.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};VS.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function TG(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Bi(new k_(n.geometry),new Hr({color:e!==void 0?e:16777215}))}Ci.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),jm.extractUrlBase(n)};Ci.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function AG(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Bo(n)}function CG(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new wS(n)}Oc.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Oc.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Oc.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Oc.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Mi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Mi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Mi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Mi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Mi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Po.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Md.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};HS.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};wr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};wr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};wr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};wr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};wr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};wr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Dt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Dt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Dt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Le().setFromMatrixColumn(this,3)};Dt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Dt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Dt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Dt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Dt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Dt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Dt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Dt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Dt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Dt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Dt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Dt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Dt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Dt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Dt.prototype.makeFrustum=function(n,e,t,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,a)};Dt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Oo.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Cr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Cr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};bl.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};bl.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};bl.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};br.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};br.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};br.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};br.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};br.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};br.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),br.getBarycoord(n,e,t,r,i)};br.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),br.getNormal(n,e,t,r)};Fo.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Fo.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ts(this,n)};Fo.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Sc(this,n)};ht.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ht.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ht.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Le.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Le.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Le.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Le.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Le.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Le.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Le.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Le.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Le.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Cn.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Cn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};dn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};dn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};dn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};dn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};dn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(dn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Jn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Jn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),IR},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Pm.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Wn.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(ao.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(yn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ud},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ud)}}});yn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ud:ld),this};yn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},yn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Vt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Vt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new yn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Vt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Vt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Vt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Vt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Vt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Vt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Yu.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ud:ld),this};Yu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ts.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ts.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ts.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};wc.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Xm.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Gr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Z2}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(xs.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});kn.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};kn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};kn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};kn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};kn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};kn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};kn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};kn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};kn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};kn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};kn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};kn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};kn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};kn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};kn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};kn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};kn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};kn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};kn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};kn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};kn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};kn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};kn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};kn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};kn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(kn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ou:ri}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(L4.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function RG(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new xm(n,t)}Object.defineProperties(aa.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});ny.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let e=this;return new PS().load(n,function(r){e.setBuffer(r)}),this};DS.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};ym.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};ym.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};ku.crossOrigin=void 0;ku.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let i=new Cc;i.setCrossOrigin(this.crossOrigin);let a=i.load(n,t,void 0,r);return e&&(a.mapping=e),a};ku.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let i=new xS;i.setCrossOrigin(this.crossOrigin);let a=i.load(n,t,void 0,r);return e&&(a.mapping=e),a};ku.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ku.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function PG(){console.error("THREE.CanvasRenderer has been removed")}function LG(){console.error("THREE.JSONLoader has been removed.")}var IG={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function DG(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function OG(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Vt}function kG(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Vt}function FG(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function NG(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function BG(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:C1}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=C1);var bn=cr(Xr());var Ui=cr(Xr(),1);function UG(n){let e,t=new Set,r=(c,d)=>{let m=typeof c=="function"?c(e):c;if(m!==e){let f=e;e=d?m:Object.assign({},e,m),t.forEach(h=>h(e,f))}},i=()=>e,a=(c,d=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function h(){let u=d(e);if(!m(f,u)){let v=f;c(f=u,v)}}return t.add(h),()=>t.delete(h)},l={setState:r,getState:i,subscribe:(c,d,m)=>d||m?a(c,d,m):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}var zG=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qP=zG?Ui.useEffect:Ui.useLayoutEffect;function fy(n){let e=typeof n=="function"?UG(n):n,t=(r=e.getState,i=Object.is)=>{let[,a]=(0,Ui.useReducer)(y=>y+1,0),o=e.getState(),s=(0,Ui.useRef)(o),l=(0,Ui.useRef)(r),c=(0,Ui.useRef)(i),d=(0,Ui.useRef)(!1),m=(0,Ui.useRef)();m.current===void 0&&(m.current=r(o));let f,h=!1;(s.current!==o||l.current!==r||c.current!==i||d.current)&&(f=r(o),h=!i(m.current,f)),qP(()=>{h&&(m.current=f),s.current=o,l.current=r,c.current=i,d.current=!1});let u=(0,Ui.useRef)(o);qP(()=>{let y=()=>{try{let g=e.getState(),_=l.current(g);c.current(m.current,_)||(s.current=g,m.current=_,a())}catch{d.current=!0,a()}},p=e.subscribe(y);return e.getState()!==u.current&&y(),p},[]);let v=h?f:m.current;return(0,Ui.useDebugValue)(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let r=[t,e];return{next(){let i=r.length<=0;return{value:r.shift(),done:i}}}},t}var sL=cr(KP()),ip=cr(wv());var cy=cr(eL()),hy=[];function tL(n,e,t,r=0,i=!1){for(let o of e)if((0,cy.default)(t,o.args)){if(i)return;if(o.error)throw o.error;if(o.response)return o.response;throw o.promise}let a={args:t,promise:n(...t).then(o=>a.response=o??!0).catch(o=>a.error=o??"unknown error").then(()=>{r>0&&setTimeout(()=>{let o=e.indexOf(a);o!==-1&&e.splice(o,1)},r)})};if(e.push(a),!i)throw a.promise}function GG(n,...e){if(e===void 0||e.length===0)n.splice(0,n.length);else{let t=n.find(r=>(0,cy.default)(e,r.args));if(t){let r=n.indexOf(t);r!==-1&&n.splice(r,1)}}}function Cs(n,...e){return tL(n,hy,e,Cs.lifespan)}Cs.lifespan=0;Cs.clear=(...n)=>GG(hy,...n);Cs.preload=(n,...e)=>void tL(n,hy,e,Cs.lifespan,!0);Cs.peek=(...n)=>{var e;return(e=hy.find(t=>(0,cy.default)(n,t.args)))==null?void 0:e.response};function HG(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nL=HG;var Sa=cr(Xr()),QS=cr(iL());function aL(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n,a=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,s]=(0,Sa.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,Sa.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,m=(0,Sa.useRef)(!1);(0,Sa.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[f,h,u]=(0,Sa.useMemo)(()=>{let g=()=>{if(!l.current.element)return;let{left:_,top:x,width:b,height:M,bottom:E,right:C,x:R,y:I}=l.current.element.getBoundingClientRect(),O={left:_,top:x,width:b,height:M,bottom:E,right:C,x:R,y:I};l.current.element instanceof HTMLElement&&i&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),m.current&&!ZG(l.current.lastBounds,O)&&s(l.current.lastBounds=O)};return[g,d?(0,QS.default)(g,d):g,c?(0,QS.default)(g,c):g]},[s,i,c,d]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",u,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){!l.current.element||(l.current.resizeObserver=new a(u),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(g=>g.addEventListener("scroll",u,{capture:!0,passive:!0})))}let p=g=>{!g||g===l.current.element||(v(),l.current.element=g,l.current.scrollContainers=oL(g),y())};return VG(u,Boolean(t)),WG(h),(0,Sa.useEffect)(()=>{v(),y()},[t,u,h]),(0,Sa.useEffect)(()=>v,[]),[p,o,f]}function WG(n){(0,Sa.useEffect)(()=>{let e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function VG(n,e){(0,Sa.useEffect)(()=>{if(e){let t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function oL(n){let e=[];if(!n||n===document.body)return e;let{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...oL(n.parentElement)]}var jG=["x","y","top","bottom","left","right","width","height"],ZG=(n,e)=>jG.every(t=>n[t]===e[t]);var Xn={obj:n=>n===Object(n)&&!Xn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Xn.str(n)||Xn.num(n)||Xn.obj(n))return n===e;if(Xn.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return Xn.und(t)?n===e:!0}};function JS(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lL(n,e,t,r){let i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function XG(n,e){let{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{lL(t.capturedMap,e,r,i)})}function YG(n){let e=new Le;function t(m){var f;let h=n.getState(),{raycaster:u,mouse:v,camera:y,size:p}=h,{offsetX:g,offsetY:_}=(f=u.computeOffsets==null?void 0:u.computeOffsets(m,h))!=null?f:m,{width:x,height:b}=p;v.set(g/x*2-1,-(_/b)*2+1),u.setFromCamera(v,y)}function r(m){let{internal:f}=n.getState(),h=m.offsetX-f.initialClick[0],u=m.offsetY-f.initialClick[1];return Math.round(Math.sqrt(h*h+u*u))}function i(m){return m.filter(f=>["Move","Over","Enter","Out","Leave"].some(h=>{var u;return(u=f.__r3f)==null?void 0:u.handlers["onPointer"+h]}))}function a(m){let f=n.getState(),{raycaster:h,internal:u}=f;if(!h.enabled)return[];let v=new Set,y=[],p=m?m(u.interaction):u.interaction,g=h.intersectObjects(p,!0).filter(x=>{let b=JS(x);return v.has(b)?!1:(v.add(b),!0)});h.filter&&(g=h.filter(g,f));for(let x of g){let b=x.object;for(;b;){var _;(_=b.__r3f)!=null&&_.eventCount&&y.push({...x,eventObject:b}),b=b.parent}}return y}function o(m,f){let{internal:h}=n.getState();if("pointerId"in f&&h.capturedMap.has(f.pointerId))for(let u of h.capturedMap.get(f.pointerId).values())m.push(u.intersection);return m}function s(m,f,h,u){let{raycaster:v,mouse:y,camera:p,internal:g}=n.getState();if(m.length){let _=e.set(y.x,y.y,0).unproject(p),x={stopped:!1};for(let b of m){let M=O=>{var k,G;return(k=(G=g.capturedMap.get(O))==null?void 0:G.has(b.eventObject))!=null?k:!1},E=O=>{let k={intersection:b,target:f.target};g.capturedMap.has(O)?g.capturedMap.get(O).set(b.eventObject,k):g.capturedMap.set(O,new Map([[b.eventObject,k]])),f.target.setPointerCapture(O)},C=O=>{let k=g.capturedMap.get(O);k&&lL(g.capturedMap,b.eventObject,k,O)},R={};for(let O in f){let k=f[O];typeof k!="function"&&(R[O]=k)}let I={...b,...R,spaceX:y.x,spaceY:y.y,intersections:m,stopped:x.stopped,delta:h,unprojectedPoint:_,ray:v.ray,camera:p,stopPropagation:()=>{let O="pointerId"in f&&g.capturedMap.get(f.pointerId);if((!O||O.has(b.eventObject))&&(I.stopped=x.stopped=!0,g.hovered.size&&Array.from(g.hovered.values()).find(k=>k.eventObject===b.eventObject))){let k=m.slice(0,m.indexOf(b));l([...k,b])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:C},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:C},sourceEvent:f,nativeEvent:f};if(u(I),x.stopped===!0)break}}return m}function l(m){let{internal:f}=n.getState();Array.from(f.hovered.values()).forEach(h=>{if(!m.length||!m.find(u=>u.object===h.object&&u.index===h.index&&u.instanceId===h.instanceId)){let v=h.eventObject.__r3f,y=v==null?void 0:v.handlers;if(f.hovered.delete(JS(h)),v!=null&&v.eventCount){let p={...h,intersections:m||[]};y.onPointerOut==null||y.onPointerOut(p),y.onPointerLeave==null||y.onPointerLeave(p)}}})}let c=m=>{switch(m){case"onPointerLeave":case"onPointerCancel":return()=>l([]);case"onLostPointerCapture":return f=>{let{internal:h}=n.getState();"pointerId"in f&&!h.capturedMap.has(f.pointerId)&&(h.capturedMap.delete(f.pointerId),l([]))}}return f=>{let{onPointerMissed:h,internal:u}=n.getState();t(f),u.lastEvent.current=f;let v=m==="onPointerMove",y=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",g=o(a(v?i:void 0),f),_=y?r(f):0;m==="onPointerDown"&&(u.initialClick=[f.offsetX,f.offsetY],u.initialHits=g.map(x=>x.eventObject)),y&&!g.length&&_<=2&&(d(f,u.interaction),h&&h(f)),v&&l(g),s(g,f,_,x=>{let b=x.eventObject,M=b.__r3f,E=M==null?void 0:M.handlers;if(!!(M!=null&&M.eventCount))if(v){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){let C=JS(x),R=u.hovered.get(C);R?R.stopped&&x.stopPropagation():(u.hovered.set(C,x),E.onPointerOver==null||E.onPointerOver(x),E.onPointerEnter==null||E.onPointerEnter(x))}E.onPointerMove==null||E.onPointerMove(x)}else{let C=E[m];C?(!y||u.initialHits.includes(b))&&(d(f,u.interaction.filter(R=>!u.initialHits.includes(R))),C(x)):y&&u.initialHits.includes(b)&&d(f,u.interaction.filter(R=>!u.initialHits.includes(R)))}})}};function d(m,f){f.forEach(h=>{var u;return(u=h.__r3f)==null||u.handlers.onPointerMissed==null?void 0:u.handlers.onPointerMissed(m)})}return{handlePointer:c}}var qG=n=>n&&!!n.memoized&&!!n.changes,dy=n=>n&&!!n.getState,KS=(n,e)=>{var t,r;return{root:dy(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:dy(n)?n.getState().scene:n}},uL="__default",QG={},JG={};function KG(n,e){return!!(Xn.arr(n)&&Xn.equ(n,e)||n===e)}function ap(n,e){let t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function $G(n){function e(f,{children:h,key:u,ref:v,...y},{children:p,key:g,ref:_,...x}={},b=!1){var M;let E=(M=f==null?void 0:f.__r3f)!=null?M:{},C=Object.entries(y),R=[];if(b){let O=Object.keys(x);for(let k=0;k<O.length;k++)y.hasOwnProperty(O[k])||C.unshift([O[k],uL+"remove"])}C.forEach(([O,k])=>{var G;if((G=f.__r3f)!=null&&G.primitive&&O==="object"||KG(k,x[O]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(O))return R.push([O,k,!0,[]]);let N=[];O.includes("-")&&(N=O.split("-")),R.push([O,k,!1,N])});let I={...y};return E.memoizedProps&&E.memoizedProps.args&&(I.args=E.memoizedProps.args),E.memoizedProps&&E.memoizedProps.attach&&(I.attach=E.memoizedProps.attach),{accumulative:b,memoized:I,changes:R}}function t(f,h){var u,v,y;let p=(u=f==null?void 0:f.__r3f)!=null?u:{},g=p.root,_=(v=g==null||g.getState==null?void 0:g.getState())!=null?v:{},{memoized:x,changes:b}=qG(h)?h:e(f,h),M=p.eventCount;if(f.__r3f&&(f.__r3f.memoizedProps=x),b.forEach(([E,C,R,I])=>{let O=f,k=O[E];if(I.length&&(k=I.reduce((G,N)=>G[N],f),!(k&&k.set))){let[G,...N]=I.reverse();O=N.reverse().reduce((Z,H)=>Z[H],f),E=G}if(C===uL+"remove")if(k&&k.constructor)C=new k.constructor(x.args);else if(O.constructor){let G=new O.constructor(O.__r3f.memoizedProps.args);C=G[k],G.dispose&&G.dispose()}else C=0;if(R)C?p.handlers[E]=C:delete p.handlers[E],p.eventCount=Object.keys(p.handlers).length;else if(k&&k.set&&(k.copy||k instanceof Gu)){if(Array.isArray(C))k.fromArray?k.fromArray(C):k.set(...C);else if(k.copy&&C&&C.constructor&&k.constructor.name===C.constructor.name)k.copy(C);else if(C!==void 0){let G=k instanceof bt;!G&&k.setScalar?k.setScalar(C):k instanceof Gu&&C instanceof Gu?k.mask=C.mask:k.set(C),!_.linear&&G&&k.convertSRGBToLinear()}}else O[E]=C,!_.linear&&O[E]instanceof or&&(O[E].encoding=Ou);r(f)}),p.parent&&_.internal&&f.raycast&&M!==p.eventCount){let E=_.internal.interaction.indexOf(f);E>-1&&_.internal.interaction.splice(E,1),p.eventCount&&_.internal.interaction.push(f)}return b.length&&(y=f.__r3f)!=null&&y.parent&&i(f),f}function r(f){var h,u;let v=(h=f.__r3f)==null||(u=h.root)==null||u.getState==null?void 0:u.getState();v&&v.internal.frames===0&&v.invalidate()}function i(f){f.onUpdate==null||f.onUpdate(f)}function a(f,{args:h=[],...u},v,y,p){let g=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(!dy(v)&&p){let x=b=>b.return?x(b.return):b.stateNode&&b.stateNode.containerInfo;v=x(p)}if(!v||!dy(v))throw`No valid root for ${g}!`;if(f==="primitive"){if(u.object===void 0)throw"Primitives without 'object' are invalid!";let x=u.object;_=ap(x,{root:v,primitive:!0})}else{let x=JG[g]||qm[g];if(!x)throw`${g} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(h))throw"The args prop must be an array!";_=ap(new x(...h),{root:v,memoizedProps:{args:h.length===0?null:h}})}return"attachFns"in u||(g.endsWith("Geometry")?u={attach:"geometry",...u}:g.endsWith("Material")&&(u={attach:"material",...u})),t(_,u),_}function o(f,h){let u=!1;if(h){if(h.attachArray)Xn.arr(f[h.attachArray])||(f[h.attachArray]=[]),f[h.attachArray].push(h);else if(h.attachObject)Xn.obj(f[h.attachObject[0]])||(f[h.attachObject[0]]={}),f[h.attachObject[0]][h.attachObject[1]]=h;else if(h.attach&&!Xn.fun(h.attach))f[h.attach]=h;else if(Xn.arr(h.attachFns)){let[v]=h.attachFns;Xn.str(v)&&Xn.fun(f[v])?f[v](h):Xn.fun(v)&&v(h,f)}else h.isObject3D&&f.isObject3D&&(f.add(h),u=!0);u||f.__r3f.objects.push(h),h.__r3f||ap(h,{}),h.__r3f.parent=f,i(h),r(h)}}function s(f,h,u){let v=!1;if(h){if(h.attachArray){let y=f[h.attachArray];Xn.arr(y)||(f[h.attachArray]=[]),y.splice(y.indexOf(u),0,h)}else{if(h.attachObject||h.attach&&!Xn.fun(h.attach))return o(f,h);if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"});let y=f.children.filter(g=>g!==h),p=y.indexOf(u);f.children=[...y.slice(0,p),h,...y.slice(p)],v=!0}}v||f.__r3f.objects.push(h),h.__r3f||ap(h,{}),h.__r3f.parent=f,i(h),r(h)}}function l(f,h,u=!1){f&&[...f].forEach(v=>c(h,v,u))}function c(f,h,u){if(h){var v,y;if(h.__r3f&&(h.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==h)),h.attachArray)f[h.attachArray]=f[h.attachArray].filter(b=>b!==h);else if(h.attachObject)delete f[h.attachObject[0]][h.attachObject[1]];else if(h.attach&&!Xn.fun(h.attach)&&f[h.attach]===h)f[h.attach]=null;else if(Xn.arr(h.attachFns)){let[,b]=h.attachFns;Xn.str(b)&&Xn.fun(f[b])?f[b](h):Xn.fun(b)&&b(h,f)}else if(h.isObject3D&&f.isObject3D){var p;f.remove(h),(p=h.__r3f)!=null&&p.root&&XG(h.__r3f.root,h)}let _=(y=h.__r3f)==null?void 0:y.primitive,x=u===void 0?h.dispose!==null&&!_:u;if(!_){var g;l((g=h.__r3f)==null?void 0:g.objects,h,x),l(h.children,h,x)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,_||delete h.__r3f),x&&h.dispose&&h.type!=="Scene"&&(0,ip.unstable_runWithPriority)(ip.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),r(f)}}function d(f,h,u,v){var y;let p=(y=f.__r3f)==null?void 0:y.parent;if(!p)return;let g=a(h,u,f.__r3f.root);h!=="primitive"&&f.children&&(f.children.forEach(_=>o(g,_)),f.children=[]),f.__r3f.objects.forEach(_=>o(g,_)),f.__r3f.objects=[],c(p,f),o(p,g),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=g,_.ref&&(typeof _.ref=="function"?_.ref(g):_.ref.current=g))})}return{reconciler:(0,sL.default)({now:ip.unstable_now,createInstance:a,removeChild:c,appendChild:o,appendInitialChild:o,insertBefore:s,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:Xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Xn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Xn.fun(setTimeout)?setTimeout:void 0,clearTimeout:Xn.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(f,h)=>{let{container:u,root:v}=KS(f,h);u.__r3f.root=v,o(u,h)},removeChildFromContainer:(f,h)=>c(KS(f,h).container,h),insertInContainerBefore:(f,h,u)=>s(KS(f,h).container,h,u),prepareUpdate(f,h,u,v){if(f.__r3f.primitive&&v.object&&v.object!==f)return[!0];{let{args:y=[],children:p,...g}=v,{args:_=[],children:x,...b}=u;if(!Array.isArray(y))throw"The args prop must be an array!";if(y.some((E,C)=>E!==_[C]))return[!0];let M=e(f,g,b,!0);if(M.changes.length)return[!1,M];if(f.attach&&typeof f.attach!="function"){let C=f.__r3f.parent;C&&C[f.attach]!==f&&o(C,f)}return null}},commitUpdate(f,[h,u],v,y,p,g){h?d(f,v,p,g):t(f,u)},hideInstance(f){f.isObject3D&&(f.visible=!1,r(f))},unhideInstance(f,h){(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0,r(f))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(f){return f},getRootHostContext(f){return QG},getChildHostContext(f){return f},createTextInstance(){},finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},commitMount(f){var h;let u=(h=f==null?void 0:f.__r3f)!=null?h:{};f.raycast&&u.handlers&&u.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(f){ap(f)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}var eH=n=>!!(n!=null&&n.render),fL=n=>n&&n.isOrthographicCamera;function $S(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}var cL=bn.createContext(null),tH=(n,e,t,r)=>{let{gl:i,size:a,shadows:o=!1,linear:s=!1,flat:l=!1,vr:c=!1,orthographic:d=!1,frameloop:m="always",dpr:f=1,performance:h,clock:u=new Zm,raycaster:v,camera:y,onPointerMissed:p}=r;o&&(i.shadowMap.enabled=!0,typeof o=="object"?Object.assign(i.shadowMap,o):i.shadowMap.type=R1),s&&(i.outputEncoding=ri),l&&(i.toneMapping=_s),m==="never"&&(u.stop(),u.elapsedTime=0);let g=fy((M,E)=>{let C=new ry,{params:R,...I}=v||{};n(C,{enabled:!0,...I,params:{...C.params,...R}});let O=y instanceof Al,k=O?y:d?new ro(0,0,0,0,.1,1e3):new Wn(75,0,.1,1e3);O||(k.position.z=5,y&&n(k,y),y!=null&&y.rotation||k.lookAt(0,0,0));let G=$S(f),N=new Le,Z=new Le,H=new Le;function j(J=E().camera,ne=Z,le=E().size){let{width:ue,height:K}=le,ae=ue/K;ne instanceof Le?H.copy(ne):H.set(...ne);let se=J.getWorldPosition(N).distanceTo(H);if(fL(J))return{width:ue/J.zoom,height:K/J.zoom,factor:1,distance:se,aspect:ae};{let fe=J.fov*Math.PI/180,he=2*Math.tan(fe/2)*se,we=he*(ue/K);return{width:we,height:he,factor:ue/we,distance:se,aspect:ae}}}let z,V=J=>M(ne=>({performance:{...ne.performance,current:J}}));return{gl:i,set:M,get:E,invalidate:()=>e(E()),advance:(J,ne)=>t(J,ne,E()),linear:s,flat:l,scene:ap(new wc),camera:k,controls:null,raycaster:C,clock:u,mouse:new ht,vr:c,frameloop:m,onPointerMissed:p,performance:{current:1,min:.5,max:1,debounce:200,...h,regress:()=>{let J=E();z&&clearTimeout(z),J.performance.current!==J.performance.min&&V(J.performance.min),z=setTimeout(()=>V(E().performance.max),J.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:G,dpr:G,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:j},setSize:(J,ne)=>{let le={width:J,height:ne};M(ue=>({size:le,viewport:{...ue.viewport,...j(k,Z,le)}}))},setDpr:J=>M(ne=>({viewport:{...ne.viewport,dpr:$S(J)}})),setFrameloop:(J="always")=>M(()=>({frameloop:J})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:bn.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(J,ne=0)=>(M(({internal:le})=>({internal:{...le,priority:le.priority+(ne>0?1:0),subscribers:[...le.subscribers,{ref:J,priority:ne}].sort((ue,K)=>ue.priority-K.priority)}})),()=>{M(({internal:le})=>({internal:{...le,priority:le.priority-(ne>0?1:0),subscribers:le.subscribers.filter(ue=>ue.ref!==J)}}))})}}}),_=g.getState(),x=_.size,b=_.viewport.dpr;return g.subscribe(()=>{let{camera:M,size:E,viewport:C,internal:R}=g.getState();(E!==x||C.dpr!==b)&&(!M.manual&&!(R.lastProps.camera instanceof Al)&&(fL(M)?(M.left=E.width/-2,M.right=E.width/2,M.top=E.height/2,M.bottom=E.height/-2):M.aspect=E.width/E.height,M.updateProjectionMatrix(),M.updateMatrixWorld()),i.setPixelRatio(C.dpr),i.setSize(E.width,E.height),x=E,b=C.dpr)}),a&&_.setSize(a.width,a.height),g.subscribe(M=>e(M)),g};function nH(n,e){let t=e.length;return e.push(n),()=>void e.splice(t,1)}var ef,eE=[],hL=[],rH=[],dL=n=>nH(n,eE);function Jm(n,e){for(ef=0;ef<n.length;ef++)n[ef](e)}function tE(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ef=0;ef<e.internal.subscribers.length;ef++)e.internal.subscribers[ef].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function iH(n){let e=!1,t;function r(o){if(e=!0,t=0,Jm(eE,o),n.forEach(s=>{let l=s.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(t+=tE(o,l))}),Jm(hL,o),t>0)return requestAnimationFrame(r);Jm(rH,o),e=!1}function i(o){if(!o)return n.forEach(s=>i(s.store.getState()));o.vr||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function a(o,s=!0,l){s&&Jm(eE,o),l?tE(o,l):n.forEach(c=>tE(o,c.store.getState())),s&&Jm(hL,o)}return{loop:r,invalidate:i,advance:a}}function aH(n){let{handlePointer:e}=YG(n),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((r,i)=>({...r,[i]:e(i)}),{}),connect:r=>{var i;let{set:a,events:o}=n.getState();o.disconnect==null||o.disconnect(),a(s=>({events:{...s.events,connected:r}})),Object.entries((i=o==null?void 0:o.handlers)!=null?i:[]).forEach(([s,l])=>{let[c,d]=t[s];r.addEventListener(c,l,{passive:d})})},disconnect:()=>{let{set:r,events:i}=n.getState();if(i.connected){var a;Object.entries((a=i.handlers)!=null?a:[]).forEach(([o,s])=>{if(i&&i.connected instanceof HTMLElement){let[l]=t[o];i.connected.removeEventListener(l,s)}}),r(o=>({events:{...o.events,connected:!1}}))}}}}var nE=typeof window!="undefined"?bn.useLayoutEffect:bn.useEffect;function oH({set:n}){return nE(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}var rE=class extends bn.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};rE.getDerivedStateFromError=()=>({error:!0});var pL=bn.forwardRef(function({children:e,fallback:t,tabIndex:r,resize:i,id:a,style:o,className:s,events:l,...c},d){let[m,{width:f,height:h}]=aL({scroll:!0,debounce:{scroll:50,resize:0},...i}),u=bn.useRef(null),[v,y]=bn.useState(!1),[p,g]=bn.useState(!1);if(v)throw v;if(p)throw p;return nE(()=>{f>0&&h>0&&fH(bn.createElement(rE,{set:g},bn.createElement(bn.Suspense,{fallback:bn.createElement(oH,{set:y})},e)),u.current,{...c,size:{width:f,height:h},events:l||aH})},[f,h,e]),nE(()=>{let _=u.current;return()=>xL(_)},[]),bn.createElement("div",{ref:m,id:a,className:s,tabIndex:r,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...o}},bn.createElement("canvas",{ref:nL([u,d]),style:{display:"block"}},t))});function mL(){let n=bn.useContext(cL);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function oo(n=t=>t,e){return mL()(n,e)}function gL(n,e=0){let t=mL().getState().internal.subscribe,r=bn.useRef(n);return bn.useLayoutEffect(()=>void(r.current=n),[n]),bn.useLayoutEffect(()=>t(r,e),[e,t]),null}function sH(n){let e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function vL(n,e){return function(t,...r){let i=new t;return n&&n(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,sH(l.scene)),o(l)},e,l=>s(`Could not load ${a}: ${l.message}`)))))}}function op(n,e,t,r){let i=Array.isArray(e)?e:[e],a=Cs(vL(t,r),n,...i);return Array.isArray(e)?a:a[0]}op.preload=function(n,e,t){let r=Array.isArray(e)?e:[e];return Cs.preload(vL(t),n,...r)};op.clear=function(n,e){let t=Array.isArray(e)?e:[e];return Cs.clear(n,...t)};var Km=new Map,_L=["legacy","blocking","concurrent"],{invalidate:lH,advance:yL}=iH(Km),{reconciler:$m,applyProps:py}=$G(),uH=(n,e)=>{let t=typeof n=="function"?n(e):n;if(eH(t))return t;let r=new kn({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n});return r.outputEncoding=Ou,r.toneMapping=L1,n&&py(r,n),r};function fH(n,e,{gl:t,size:r,mode:i=_L[1],events:a,onCreated:o,...s}={}){var l;if(!r){var c,d,m,f;r={width:(c=(d=e.parentElement)==null?void 0:d.clientWidth)!=null?c:0,height:(m=(f=e.parentElement)==null?void 0:f.clientHeight)!=null?m:0}}let h=Km.get(e),u=h==null?void 0:h.fiber,v=h==null?void 0:h.store,y=(l=v)==null?void 0:l.getState();if(u&&y&&(s.dpr!==void 0&&!Xn.equ(y.viewport.dpr,$S(s.dpr))&&y.setDpr(s.dpr),(y.size.width!==r.width||y.size.height!==r.height)&&y.setSize(r.width,r.height),y.frameloop!==s.frameloop&&y.setFrameloop(s.frameloop),s.linear!==y.internal.lastProps.linear&&(xL(e),u=void 0)),!u){let p=uH(t,e);s.vr&&(p.xr.enabled=!0,p.setAnimationLoop(_=>yL(_,!0))),v=tH(py,lH,yL,{gl:p,size:r,...s});let g=v.getState();u=$m.createContainer(v,_L.indexOf(i),!1,null),Km.set(e,{fiber:u,store:v}),a&&g.set({events:a(v)})}if(v&&u)return $m.updateContainer(bn.createElement(cH,{store:v,element:n,onCreated:o,target:e}),u,null,()=>{}),v;throw"Error creating root!"}function cH({store:n,element:e,onCreated:t,target:r}){return bn.useEffect(()=>{let i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),bn.createElement(cL.Provider,{value:n},e)}function xL(n,e){let t=Km.get(n),r=t==null?void 0:t.fiber;if(r){let i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),$m.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var a,o,s;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),hH(i),Km.delete(n),e&&e(n)},500)})}}function hH(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(let r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}var IV=$m.act;$m.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Ll(){return Ll=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ll.apply(this,arguments)}var oi=cr(Xr());var eg=0,wL=fy(n=>(Ac.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-eg)/(r-eg)*100})},Ac.onLoad=()=>{n({active:!1})},Ac.onError=e=>n(t=>({errors:[...t.errors,e]})),Ac.onProgress=(e,t,r)=>{t===r&&(eg=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-eg)/(r-eg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var dH=n=>`Loading ${n.toFixed(2)}%`;function iE({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:r,dataInterpolation:i=dH,initialState:a=o=>o}){let{active:o,progress:s}=wL(),l=oi.useRef(0),c=oi.useRef(0),d=oi.useRef(null),[m,f]=oi.useState(a(o));oi.useEffect(()=>{let u;return o!==m&&(u=setTimeout(()=>f(o),300)),()=>clearTimeout(u)},[m,o]);let h=oi.useCallback(()=>{!d.current||(l.current+=(s-l.current)/2,(l.current>.95*s||s===100)&&(l.current=s),d.current.innerText=i(l.current),l.current<s&&(c.current=requestAnimationFrame(h)))},[i,s]);return oi.useEffect(()=>(h(),()=>cancelAnimationFrame(c.current)),[h]),m?oi.createElement("div",{style:{...my.container,opacity:o?1:0,...n}},oi.createElement("div",null,oi.createElement("div",{style:{...my.inner,...e}},oi.createElement("div",{style:{...my.bar,transform:`scaleX(${s/100})`,...t}}),oi.createElement("span",{ref:d,style:{...my.data,...r}})))):null}var my={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};var gy=Rs(),Xt=n=>tg(n,gy),vy=Rs();Xt.write=n=>tg(n,vy);var _y=Rs();Xt.onStart=n=>tg(n,_y);var aE=Rs();Xt.onFrame=n=>tg(n,aE);var oE=Rs();Xt.onFinish=n=>tg(n,oE);var kc=[];Xt.setTimeout=(n,e)=>{let t=Xt.now()+e,r=()=>{let a=kc.findIndex(o=>o.cancel==r);~a&&kc.splice(a,1),nf.count-=~a?1:0},i={time:t,handler:n,cancel:r};return kc.splice(bL(t),0,i),nf.count+=1,SL(),i};var bL=n=>~(~kc.findIndex(e=>e.time>n)||~kc.length);Xt.cancel=n=>{gy.delete(n),vy.delete(n)};Xt.sync=n=>{lE=!0,Xt.batchedUpdates(n),lE=!1};Xt.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,Xt.onStart(t)}return r.handler=n,r.cancel=()=>{_y.delete(t),e=null},r};var sE=typeof window!="undefined"?window.requestAnimationFrame:()=>{};Xt.use=n=>sE=n;Xt.now=typeof performance!="undefined"?()=>performance.now():Date.now;Xt.batchedUpdates=n=>n();Xt.catch=console.error;Xt.frameLoop="always";Xt.advance=()=>{Xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ML()};var tf=-1,lE=!1;function tg(n,e){lE?(e.delete(n),n(0)):(e.add(n),SL())}function SL(){tf<0&&(tf=0,Xt.frameLoop!=="demand"&&sE(EL))}function EL(){~tf&&(sE(EL),Xt.batchedUpdates(ML))}function ML(){let n=tf;tf=Xt.now();let e=bL(tf);e&&(TL(kc.splice(0,e),t=>t.handler()),nf.count-=e),_y.flush(),gy.flush(n?Math.min(64,tf-n):16.667),aE.flush(),vy.flush(),oE.flush()}function Rs(){let n=new Set,e=n;return{add(t){nf.count+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return nf.count-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,nf.count-=e.size,TL(e,r=>r(t)&&n.add(r)),nf.count+=n.size,e=n)}}}function TL(n,e){n.forEach(t=>{try{e(t)}catch(r){Xt.catch(r)}})}var nf={count:0,clear(){tf=-1,kc=[],_y=Rs(),gy=Rs(),aE=Rs(),vy=Rs(),oE=Rs(),nf.count=0}};var yy=cr(Xr()),Uo=cr(Xr());function xy(){}var AL=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),wt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Ps(n,e){if(wt.arr(n)){if(!wt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var Dn=(n,e)=>n.forEach(e);function zo(n,e,t){if(wt.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(let r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}var Ea=n=>wt.und(n)?[]:wt.arr(n)?n:[n];function sp(n,e){if(n.size){let t=Array.from(n);n.clear(),Dn(t,e)}}var lp=(n,...e)=>sp(n,t=>t(...e)),uE,CL,rf=null,RL=!1,fE=xy,pH=n=>{n.to&&(CL=n.to),n.now&&(Xt.now=n.now),n.colors!==void 0&&(rf=n.colors),n.skipAnimation!=null&&(RL=n.skipAnimation),n.createStringInterpolator&&(uE=n.createStringInterpolator),n.requestAnimationFrame&&Xt.use(n.requestAnimationFrame),n.batchedUpdates&&(Xt.batchedUpdates=n.batchedUpdates),n.willAdvance&&(fE=n.willAdvance),n.frameLoop&&(Xt.frameLoop=n.frameLoop)},so=Object.freeze({__proto__:null,get createStringInterpolator(){return uE},get to(){return CL},get colors(){return rf},get skipAnimation(){return RL},get willAdvance(){return fE},assign:pH}),ng=new Set,lo=[],cE=[],wy=0,up={get idle(){return!ng.size&&!lo.length},start(n){wy>n.priority?(ng.add(n),Xt.onStart(mH)):(PL(n),Xt(hE))},advance:hE,sort(n){if(wy)Xt.onFrame(()=>up.sort(n));else{let e=lo.indexOf(n);~e&&(lo.splice(e,1),LL(n))}},clear(){lo=[],ng.clear()}};function mH(){ng.forEach(PL),ng.clear(),Xt(hE)}function PL(n){lo.includes(n)||LL(n)}function LL(n){lo.splice(gH(lo,e=>e.priority>n.priority),0,n)}function hE(n){let e=cE;for(let t=0;t<lo.length;t++){let r=lo[t];wy=r.priority,r.idle||(fE(r),r.advance(n),r.idle||e.push(r))}return wy=0,cE=lo,cE.length=0,lo=e,lo.length>0}function gH(n,e){let t=n.findIndex(e);return t<0?n.length:t}var IL={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Go="[-+]?\\d*\\.?\\d+",by=Go+"%";function Sy(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var vH=new RegExp("rgb"+Sy(Go,Go,Go)),_H=new RegExp("rgba"+Sy(Go,Go,Go,Go)),yH=new RegExp("hsl"+Sy(Go,by,by)),xH=new RegExp("hsla"+Sy(Go,by,by,Go)),wH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SH=/^#([0-9a-fA-F]{6})$/,EH=/^#([0-9a-fA-F]{8})$/;function MH(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=SH.exec(n))?parseInt(e[1]+"ff",16)>>>0:rf&&rf[n]!==void 0?rf[n]:(e=vH.exec(n))?(fp(e[1])<<24|fp(e[2])<<16|fp(e[3])<<8|255)>>>0:(e=_H.exec(n))?(fp(e[1])<<24|fp(e[2])<<16|fp(e[3])<<8|kL(e[4]))>>>0:(e=wH.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=EH.exec(n))?parseInt(e[1],16)>>>0:(e=bH.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=yH.exec(n))?(DL(OL(e[1]),Ey(e[2]),Ey(e[3]))|255)>>>0:(e=xH.exec(n))?(DL(OL(e[1]),Ey(e[2]),Ey(e[3]))|kL(e[4]))>>>0:null}function dE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function DL(n,e,t){let r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,a=dE(i,r,n+1/3),o=dE(i,r,n),s=dE(i,r,n-1/3);return Math.round(a*255)<<24|Math.round(o*255)<<16|Math.round(s*255)<<8}function fp(n){let e=parseInt(n,10);return e<0?0:e>255?255:e}function OL(n){return(parseFloat(n)%360+360)%360/360}function kL(n){let e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function Ey(n){let e=parseFloat(n);return e<0?0:e>100?1:e/100}function FL(n){let e=MH(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${a})`}var af=(n,e,t)=>{if(wt.fun(n))return n;if(wt.arr(n))return af({range:n,output:e,extrapolate:t});if(wt.str(n.output[0]))return uE(n);let r=n,i=r.output,a=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{let d=AH(c,a);return TH(c,a[d],a[d+1],i[d],i[d+1],l,o,s,r.map)}};function TH(n,e,t,r,i,a,o,s,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(s==="identity")return c;s==="clamp"&&(c=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=a(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function AH(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}function pE(){return pE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pE.apply(this,arguments)}var cp=Symbol.for("FluidValue.get"),Fc=Symbol.for("FluidValue.observers"),uo=n=>Boolean(n&&n[cp]),sa=n=>n&&n[cp]?n[cp]():n,mE=n=>n[Fc]||null;function CH(n,e){n.eventObserved?n.eventObserved(e):n(e)}function rg(n,e){let t=n[Fc];t&&t.forEach(r=>{CH(r,e)})}var gE=class{constructor(e){if(this[cp]=void 0,this[Fc]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");RH(this,e)}},RH=(n,e)=>NL(n,cp,e);function Nc(n,e){if(n[cp]){let t=n[Fc];t||NL(n,Fc,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function hp(n,e){let t=n[Fc];if(t&&t.has(e)){let r=t.size-1;r?t.delete(e):n[Fc]=null,n.observerRemoved&&n.observerRemoved(r,e)}}var NL=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),My=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,PH=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,BL=new RegExp(`(${My.source})(%|[a-z]+)`,"i"),vE,LH=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,IH=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,Ty=n=>{vE||(vE=rf?new RegExp(`(${Object.keys(rf).join("|")})(?!\\w)`,"g"):/^\b$/);let e=n.output.map(a=>sa(a).replace(PH,FL).replace(vE,FL)),t=e.map(a=>a.match(My).map(Number)),i=t[0].map((a,o)=>t.map(s=>{if(!(o in s))throw Error('The arity of each "output" value must be equal');return s[o]})).map(a=>af(pE({},n,{output:a})));return a=>{var o;let s=!BL.test(e[0])&&((o=e.find(c=>BL.test(c)))==null?void 0:o.replace(My,"")),l=0;return e[0].replace(My,()=>`${i[l++](a)}${s||""}`).replace(LH,IH)}},_E="react-spring: ",UL=n=>{let e=n,t=!1;if(typeof e!="function")throw new TypeError(`${_E}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},DH=UL(console.warn);function zL(){DH(`${_E}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var OH=UL(console.warn);function GL(){OH(`${_E}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function dp(n){return wt.str(n)&&(n[0]=="#"||/\d/.test(n)||n in(rf||{}))}var ig=n=>(0,Uo.useEffect)(n,kH),kH=[];function Ay(){let n=(0,Uo.useState)()[1],e=(0,Uo.useState)(FH)[0];return ig(e.unmount),()=>{e.current&&n({})}}function FH(){let n={current:!0,unmount:()=>()=>{n.current=!1}};return n}function HL(n,e){let[t]=(0,Uo.useState)(()=>({inputs:e,result:n()})),r=(0,Uo.useRef)(),i=r.current,a=i;return a?Boolean(e&&a.inputs&&NH(e,a.inputs))||(a={inputs:e,result:n()}):a=t,(0,Uo.useEffect)(()=>{r.current=a,i==t&&(t.inputs=t.result=void 0)},[a]),a.result}function NH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function yE(n){let e=(0,Uo.useRef)();return(0,Uo.useEffect)(()=>{e.current=n}),e.current}var Cy=typeof window!="undefined"&&window.document&&window.document.createElement?yy.useLayoutEffect:yy.useEffect;var sg=cr(Xr()),fo=cr(Xr());var WL=cr(Xr()),Il=cr(Xr()),ag=Symbol.for("Animated:node"),BH=n=>!!n&&n[ag]===n,Ho=n=>n&&n[ag],Ry=(n,e)=>AL(n,ag,e),og=n=>n&&n[ag]&&n[ag].getPayload(),xE=class{constructor(){this.payload=void 0,Ry(this,this)}getPayload(){return this.payload||[]}},of=class extends xE{constructor(e){super();this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,wt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new of(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return wt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,wt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},sf=class extends of{constructor(e){super(0);this._string=null,this._toString=void 0,this._toString=af({output:[e,e]})}static create(e){return new sf(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(wt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=af({output:[this.getValue(),e]})),this._value=0,super.reset()}},Py={dependencies:null},Ly=class extends xE{constructor(e){super();this.source=e,this.setValue(e)}getValue(e){let t={};return zo(this.source,(r,i)=>{BH(r)?t[i]=r.getValue(e):uo(r)?t[i]=sa(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Dn(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return zo(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Py.dependencies&&uo(e)&&Py.dependencies.add(e);let t=og(e);t&&Dn(t,r=>this.add(r))}},Iy=class extends Ly{constructor(e){super(e)}static create(e){return new Iy(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(UH)),!0)}};function UH(n){return(dp(n)?sf:of).create(n)}function Dy(n){let e=Ho(n);return e?e.constructor:wt.arr(n)?Iy:dp(n)?sf:of}function Oy(){return Oy=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Oy.apply(this,arguments)}var VL=(n,e)=>{let t=!wt.fun(n)||n.prototype&&n.prototype.isReactComponent;return(0,Il.forwardRef)((r,i)=>{let a=(0,Il.useRef)(null),o=t&&(0,Il.useCallback)(u=>{a.current=GH(i,u)},[i]),[s,l]=zH(r,e),c=Ay(),d=()=>{let u=a.current;if(t&&!u)return;(u?e.applyAnimatedValues(u,s.getValue(!0)):!1)===!1&&c()},m=new jL(d,l),f=(0,Il.useRef)();Cy(()=>{let u=f.current;f.current=m,Dn(l,v=>Nc(v,m)),u&&(Dn(u.deps,v=>hp(v,u)),Xt.cancel(u.update))}),(0,Il.useEffect)(d,[]),ig(()=>()=>{let u=f.current;Dn(u.deps,v=>hp(v,u))});let h=e.getComponentProps(s.getValue());return WL.createElement(n,Oy({},h,{ref:o}))})},jL=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Xt.write(this.update)}};function zH(n,e){let t=new Set;return Py.dependencies=t,n.style&&(n=Oy({},n,{style:e.createAnimatedStyle(n.style)})),n=new Ly(n),Py.dependencies=null,[n,t]}function GH(n,e){return n&&(wt.fun(n)?n(e):n.current=e),e}var ZL=Symbol.for("AnimatedComponent"),XL=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new Ly(i),getComponentProps:r=i=>i}={})=>{let i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},a=o=>{let s=YL(o)||"Anonymous";return wt.str(o)?o=a[o]||(a[o]=VL(o,i)):o=o[ZL]||(o[ZL]=VL(o,i)),o.displayName=`Animated(${s})`,o};return zo(n,(o,s)=>{wt.arr(n)&&(s=YL(o)),a[s]=a(o)}),{animated:a}},YL=n=>wt.str(n)?n:n&&wt.str(n.displayName)?n.displayName:wt.fun(n)&&n.name||null;function Qr(){return Qr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qr.apply(this,arguments)}function Bc(n,...e){return wt.fun(n)?n(...e):n}var lg=(n,e)=>n===!0||!!(e&&n&&(wt.fun(n)?n(e):Ea(n).includes(e))),qL=(n,e)=>wt.obj(n)?e&&n[e]:n,QL=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,HH=n=>n,wE=(n,e=HH)=>{let t=WH;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));let r={};for(let i of t){let a=e(n[i],i);wt.und(a)||(r[i]=a)}return r},WH=["config","onProps","onStart","onChange","onPause","onResume","onRest"],VH={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jH(n){let e={},t=0;if(zo(n,(r,i)=>{VH[i]||(e[i]=r,t++)}),t)return e}function JL(n){let e=jH(n);if(e){let t={to:e};return zo(n,(r,i)=>i in e||(t[i]=r)),t}return Qr({},n)}function ug(n){return n=sa(n),wt.arr(n)?n.map(ug):dp(n)?so.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function ZH(n){for(let e in n)return!0;return!1}function bE(n){return wt.fun(n)||wt.arr(n)&&wt.obj(n[0])}function XH(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function YH(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}var qH={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},QH=n=>n,SE=Qr({},qH.default,{mass:1,damping:1,easing:QH,clamp:!1}),KL=class{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,SE)}};function JH(n,e,t){t&&(t=Qr({},t),$L(t,e),e=Qr({},t,e)),$L(n,e),Object.assign(n,e);for(let o in SE)n[o]==null&&(n[o]=SE[o]);let{mass:r,frequency:i,damping:a}=n;return wt.und(i)||(i<.01&&(i=.01),a<0&&(a=0),n.tension=Math.pow(2*Math.PI/i,2)*r,n.friction=4*Math.PI*a*r/i),n}function $L(n,e){if(!wt.und(e.decay))n.duration=void 0;else{let t=!wt.und(e.tension)||!wt.und(e.friction);(t||!wt.und(e.frequency)||!wt.und(e.damping)||!wt.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var e5=[],t5=class{constructor(){this.changed=!1,this.values=e5,this.toValues=null,this.fromValues=e5,this.to=void 0,this.from=void 0,this.config=new KL,this.immediate=!1}};function n5(n,{key:e,props:t,defaultProps:r,state:i,actions:a}){return new Promise((o,s)=>{var l;let c,d,m=lg((l=t.cancel)!=null?l:r==null?void 0:r.cancel,e);if(m)u();else{wt.und(t.pause)||(i.paused=lg(t.pause,e));let v=r==null?void 0:r.pause;v!==!0&&(v=i.paused||lg(v,e)),c=Bc(t.delay||0,e),v?(i.resumeQueue.add(h),a.pause()):(a.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(d),d.cancel(),c=d.time-Xt.now()}function h(){c>0?(d=Xt.setTimeout(u,c),i.pauseQueue.add(f),i.timeouts.add(d)):u()}function u(){i.pauseQueue.delete(f),i.timeouts.delete(d),n<=(i.cancelId||0)&&(m=!0);try{a.start(Qr({},t,{callId:n,cancel:m}),o)}catch(v){s(v)}}})}var EE=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?pp(n.get()):e.every(t=>t.noop)?r5(n.get()):Wo(n.get(),e.every(t=>t.finished)),r5=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Wo=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),pp=n=>({value:n,cancelled:!0,finished:!1});function i5(n,e,t,r){let{callId:i,parentId:a,onRest:o}=e,{asyncTo:s,promise:l}=t;return!a&&n===s&&!e.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;let c=wE(e,(y,p)=>p==="onRest"?void 0:y),d,m,f=new Promise((y,p)=>(d=y,m=p)),h=y=>{let p=i<=(t.cancelId||0)&&pp(r)||i!==t.asyncId&&Wo(r,!1);if(p)throw y.result=p,m(y),y},u=(y,p)=>{let g=new ME,_=new TE;return(async()=>{if(so.skipAnimation)throw fg(t),_.result=Wo(r,!1),m(_),_;h(g);let x=wt.obj(y)?Qr({},y):Qr({},p,{to:y});x.parentId=i,zo(c,(M,E)=>{wt.und(x[E])&&(x[E]=M)});let b=await r.start(x);return h(g),t.paused&&await new Promise(M=>{t.resumeQueue.add(M)}),b})()},v;if(so.skipAnimation)return fg(t),Wo(r,!1);try{let y;wt.arr(n)?y=(async p=>{for(let g of p)await u(g)})(n):y=Promise.resolve(n(u,r.stop.bind(r))),await Promise.all([y.then(d),f]),v=Wo(r.get(),!0,!1)}catch(y){if(y instanceof ME)v=y.result;else if(y instanceof TE)v=y.result;else throw y}finally{i==t.asyncId&&(t.asyncId=a,t.asyncTo=a?s:void 0,t.promise=a?l:void 0)}return wt.fun(o)&&Xt.batchedUpdates(()=>{o(v,r,r.item)}),v})()}function fg(n,e){sp(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var ME=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");this.result=void 0}},TE=class extends Error{constructor(){super("SkipAnimationSignal");this.result=void 0}},AE=n=>n instanceof ky,KH=1,ky=class extends gE{constructor(...e){super(...e);this.id=KH++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=Ho(this);return e&&e.getValue()}to(...e){return so.to(this,e)}interpolate(...e){return zL(),so.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){rg(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||up.sort(this),rg(this,{type:"priority",parent:this,priority:e})}},Uc=Symbol.for("SpringPhase"),a5=1,CE=2,RE=4,PE=n=>(n[Uc]&a5)>0,lf=n=>(n[Uc]&CE)>0,cg=n=>(n[Uc]&RE)>0,o5=(n,e)=>e?n[Uc]|=CE|a5:n[Uc]&=~CE,s5=(n,e)=>e?n[Uc]|=RE:n[Uc]&=~RE,l5=class extends ky{constructor(e,t){super();if(this.key=void 0,this.animation=new t5,this.queue=void 0,this.defaultProps={},this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!wt.und(e)||!wt.und(t)){let r=wt.obj(e)?Qr({},e):Qr({},t,{from:e});wt.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(lf(this)||this._state.asyncTo)||cg(this)}get goal(){return sa(this.animation.to)}get velocity(){let e=Ho(this);return e instanceof of?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return PE(this)}get isAnimating(){return lf(this)}get isPaused(){return cg(this)}advance(e){let t=!0,r=!1,i=this.animation,{config:a,toValues:o}=i,s=og(i.to);!s&&uo(i.to)&&(o=Ea(sa(i.to))),i.values.forEach((d,m)=>{if(d.done)return;let f=d.constructor==sf?1:s?s[m].lastPosition:o[m],h=i.immediate,u=f;if(!h){if(u=d.lastPosition,a.tension<=0){d.done=!0;return}let v=d.elapsedTime+=e,y=i.fromValues[m],p=d.v0!=null?d.v0:d.v0=wt.arr(a.velocity)?a.velocity[m]:a.velocity,g;if(wt.und(a.duration))if(a.decay){let _=a.decay===!0?.998:a.decay,x=Math.exp(-(1-_)*v);u=y+p/(1-_)*(1-x),h=Math.abs(d.lastPosition-u)<.1,g=p*x}else{g=d.lastVelocity==null?p:d.lastVelocity;let _=a.precision||(y==f?.005:Math.min(1,Math.abs(f-y)*.001)),x=a.restVelocity||_/10,b=a.clamp?0:a.bounce,M=!wt.und(b),E=y==f?d.v0>0:y<f,C,R=!1,I=1,O=Math.ceil(e/I);for(let k=0;k<O&&(C=Math.abs(g)>x,!(!C&&(h=Math.abs(f-u)<=_,h)));++k){M&&(R=u==f||u>f==E,R&&(g=-g*b,u=f));let G=-a.tension*1e-6*(u-f),N=-a.friction*.001*g,Z=(G+N)/a.mass;g=g+Z*I,u=u+g*I}}else{let _=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,d.durationProgress>0&&(d.elapsedTime=a.duration*d.durationProgress,v=d.elapsedTime+=e)),_=(a.progress||0)+v/this._memoizedDuration,_=_>1?1:_<0?0:_,d.durationProgress=_),u=y+a.easing(_)*(f-y),g=(u-d.lastPosition)/e,h=_==1}d.lastVelocity=g,Number.isNaN(u)&&(console.warn("Got NaN while animating:",this),h=!0)}s&&!s[m].done&&(h=!1),h?d.done=!0:t=!1,d.setValue(u,a.round)&&(r=!0)});let l=Ho(this),c=l.getValue();if(t){let d=sa(i.to);(c!==d||r)&&!a.decay?(l.setValue(d),this._onChange(d)):r&&a.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return Xt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(lf(this)){let{to:e,config:t}=this.animation;Xt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return wt.und(e)?(r=this.queue||[],this.queue=[]):r=[wt.obj(e)?e:Qr({},t,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>EE(this,i))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),fg(this._state,e&&this._lastCallId),Xt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:i}=e;r=wt.obj(r)?r[t]:r,(r==null||bE(r))&&(r=void 0),i=wt.obj(i)?i[t]:i,i==null&&(i=void 0);let a={to:r,from:i};return PE(this)||(e.reverse&&([r,i]=[i,r]),i=sa(i),wt.und(i)?Ho(this)||this._set(r):this._set(i)),a}_update(e,t){let r=Qr({},e),{key:i,defaultProps:a}=this;r.default&&Object.assign(a,wE(r,(l,c)=>/^on/.test(c)?qL(l,i):l)),c5(this,r,"onProps"),pg(this,"onProps",r,this);let o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let s=this._state;return n5(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:()=>{cg(this)||(s5(this,!0),lp(s.pauseQueue),pg(this,"onPause",Wo(this,hg(this,this.animation.to)),this))},resume:()=>{cg(this)&&(s5(this,!1),lf(this)&&this._resume(),lp(s.resumeQueue),pg(this,"onResume",Wo(this,hg(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(r.loop&&l.finished&&!(t&&l.noop)){let c=u5(r);if(c)return this._update(c,!0)}return l})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(pp(this));let i=!wt.und(e.to),a=!wt.und(e.from);if(i||a)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(pp(this));let{key:o,defaultProps:s,animation:l}=this,{to:c,from:d}=l,{to:m=c,from:f=d}=e;a&&!i&&(!t.default||wt.und(m))&&(m=f),t.reverse&&([m,f]=[f,m]);let h=!Ps(f,d);h&&(l.from=f),f=sa(f);let u=!Ps(m,c);u&&this._focus(m);let v=bE(t.to),{config:y}=l,{decay:p,velocity:g}=y;(i||a)&&(y.velocity=0),t.config&&!v&&JH(y,Bc(t.config,o),t.config!==s.config?Bc(s.config,o):void 0);let _=Ho(this);if(!_||wt.und(m))return r(Wo(this,!0));let x=wt.und(t.reset)?a&&!t.default:!wt.und(f)&&lg(t.reset,o),b=x?f:this.get(),M=ug(m),E=wt.num(M)||wt.arr(M)||dp(M),C=!v&&(!E||lg(s.immediate||t.immediate,o));if(u){let k=Dy(m);if(k!==_.constructor)if(C)_=this._set(M);else throw Error(`Cannot animate between ${_.constructor.name} and ${k.name}, as the "to" prop suggests`)}let R=_.constructor,I=uo(m),O=!1;if(!I){let k=x||!PE(this)&&h;(u||k)&&(O=Ps(ug(b),M),I=!O),(!Ps(l.immediate,C)&&!C||!Ps(y.decay,p)||!Ps(y.velocity,g))&&(I=!0)}if(O&&lf(this)&&(l.changed&&!x?I=!0:I||this._stop(c)),!v&&((I||uo(c))&&(l.values=_.getPayload(),l.toValues=uo(m)?null:R==sf?[1]:Ea(M)),l.immediate!=C&&(l.immediate=C,!C&&!x&&this._set(c)),I)){let{onRest:k}=l;Dn(eW,N=>c5(this,t,N));let G=Wo(this,hg(this,c));lp(this._pendingCalls,G),this._pendingCalls.add(r),l.changed&&Xt.batchedUpdates(()=>{l.changed=!x,k==null||k(G,this),x?Bc(s.onRest,G):l.onStart==null||l.onStart(G,this)})}x&&this._set(b),v?r(i5(t.to,t,this._state,this)):I?this._start():lf(this)&&!u?this._pendingCalls.add(r):r(r5(b))}_focus(e){let t=this.animation;e!==t.to&&(mE(this)&&this._detach(),t.to=e,mE(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;uo(t)&&(Nc(t,this),AE(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;uo(e)&&hp(e,this)}_set(e,t=!0){let r=sa(e);if(!wt.und(r)){let i=Ho(this);if(!i||!Ps(r,i.getValue())){let a=Dy(r);!i||i.constructor!=a?Ry(this,a.create(r)):i.setValue(r),i&&Xt.batchedUpdates(()=>{this._onChange(r,t)})}}return Ho(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,pg(this,"onStart",Wo(this,hg(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Bc(this.animation.onChange,e,this)),Bc(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;Ho(this).reset(sa(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),lf(this)||(o5(this,!0),cg(this)||this._resume())}_resume(){so.skipAnimation?this.finish():up.start(this)}_stop(e,t){if(lf(this)){o5(this,!1);let r=this.animation;Dn(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),rg(this,{type:"idle",parent:this});let i=t?pp(this.get()):Wo(this.get(),hg(this,e??r.to));lp(this._pendingCalls,i),r.changed&&(r.changed=!1,pg(this,"onRest",i,this))}}};function hg(n,e){let t=ug(e),r=ug(n.get());return Ps(r,t)}function u5(n,e=n.loop,t=n.to){let r=Bc(e);if(r){let i=r!==!0&&JL(r),a=(i||n).reverse,o=!i||i.reset;return dg(Qr({},n,{loop:e,default:!1,pause:void 0,to:!a||bE(t)?t:void 0,from:o?n.from:void 0,reset:o},i))}}function dg(n){let{to:e,from:t}=n=JL(n),r=new Set;return wt.obj(e)&&f5(e,r),wt.obj(t)&&f5(t,r),n.keys=r.size?Array.from(r):null,n}function $H(n){let e=dg(n);return wt.und(e.default)&&(e.default=wE(e)),e}function f5(n,e){zo(n,(t,r)=>t!=null&&e.add(r))}var eW=["onStart","onRest","onChange","onPause","onResume"];function c5(n,e,t){n.animation[t]=e[t]!==QL(e,t)?qL(e[t],n.key):void 0}function pg(n,e,...t){var r,i,a,o;(r=(i=n.animation)[e])==null||r.call(i,...t),(a=(o=n.defaultProps)[e])==null||a.call(o,...t)}var tW=["onStart","onChange","onRest"],nW=1,h5=class{constructor(e,t){this.id=nW++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(Qr({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];wt.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(dg(e)),this}start(e){let{queue:t}=this;return e?t=Ea(e).map(dg):this.queue=[],this._flush?this._flush(this,t):(_5(this,t),LE(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let r=this.springs;Dn(Ea(t),i=>r[i].stop(!!e))}else fg(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(wt.und(e))this.start({pause:!0});else{let t=this.springs;Dn(Ea(e),r=>t[r].pause())}return this}resume(e){if(wt.und(e))this.start({pause:!1});else{let t=this.springs;Dn(Ea(e),r=>t[r].resume())}return this}each(e){zo(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,sp(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));let o=!i&&this._started,s=a||o&&r.size?this.get():null;a&&t.size&&sp(t,([l,c])=>{c.value=s,l(c,this,this._item)}),o&&(this._started=!1,sp(r,([l,c])=>{c.value=s,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Xt.onFrame(this._onFrame)}};function LE(n,e){return Promise.all(e.map(t=>d5(n,t))).then(t=>EE(n,t))}async function d5(n,e,t){let{keys:r,to:i,from:a,loop:o,onRest:s,onResolve:l}=e,c=wt.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);let d=wt.arr(i)||wt.fun(i)?i:void 0;d?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Dn(tW,v=>{let y=e[v];if(wt.fun(y)){let p=n._events[v];e[v]=({finished:g,cancelled:_})=>{let x=p.get(y);x?(g||(x.finished=!1),_&&(x.cancelled=!0)):p.set(y,{value:null,finished:g||!1,cancelled:_||!1})},c&&(c[v]=e[v])}});let m=n._state;e.pause===!m.paused?(m.paused=e.pause,lp(e.pause?m.pauseQueue:m.resumeQueue)):m.paused&&(e.pause=!0);let f=(r||Object.keys(n.springs)).map(v=>n.springs[v].start(e)),h=e.cancel===!0||QL(e,"cancel")===!0;(d||h&&m.asyncId)&&f.push(n5(++n._lastAsyncId,{props:e,state:m,actions:{pause:xy,resume:xy,start(v,y){h?(fg(m,n._lastAsyncId),y(pp(n))):(v.onRest=s,y(i5(d,v,m,n)))}}})),m.paused&&await new Promise(v=>{m.resumeQueue.add(v)});let u=EE(n,await Promise.all(f));if(o&&u.finished&&!(t&&u.noop)){let v=u5(e,o,i);if(v)return _5(n,[v]),d5(n,v,!0)}return l&&Xt.batchedUpdates(()=>l(u,n,n.item)),u}function p5(n,e){let t=Qr({},n.springs);return e&&Dn(Ea(e),r=>{wt.und(r.keys)&&(r=dg(r)),wt.obj(r.to)||(r=Qr({},r,{to:void 0})),v5(t,r,i=>g5(i))}),m5(n,t),t}function m5(n,e){zo(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,Nc(t,n))})}function g5(n,e){let t=new l5;return t.key=n,e&&Nc(t,e),t}function v5(n,e,t){e.keys&&Dn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function _5(n,e){Dn(e,t=>{v5(n.springs,t,r=>g5(r,n))})}function rW(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var iW=["children"],Fy=n=>{let{children:e}=n,t=rW(n,iW),r=(0,fo.useContext)(Ny),i=t.pause||!!r.pause,a=t.immediate||!!r.immediate;t=HL(()=>({pause:i,immediate:a}),[i,a]);let{Provider:o}=Ny;return sg.createElement(o,{value:t},e)},Ny=aW(Fy,{});Fy.Provider=Ny.Provider;Fy.Consumer=Ny.Consumer;function aW(n,e){return Object.assign(n,sg.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var oW=()=>{let n=[],e=function(i){GL();let a=[];return Dn(n,(o,s)=>{if(wt.und(i))a.push(o.start());else{let l=t(i,o,s);l&&a.push(o.start(l))}}),a};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){let i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return Dn(n,r=>r.pause(...arguments)),this},e.resume=function(){return Dn(n,r=>r.resume(...arguments)),this},e.set=function(r){Dn(n,i=>i.set(r))},e.start=function(r){let i=[];return Dn(n,(a,o)=>{if(wt.und(r))i.push(a.start());else{let s=this._getProps(r,a,o);s&&i.push(a.start(s))}}),i},e.stop=function(){return Dn(n,r=>r.stop(...arguments)),this},e.update=function(r){return Dn(n,(i,a)=>i.update(this._getProps(r,i,a))),this};let t=function(i,a,o){return wt.fun(i)?i(o,a):i};return e._getProps=t,e};function sW(n,e,t){let r=wt.fun(e)&&e;r&&!t&&(t=[]);let i=(0,fo.useMemo)(()=>r||arguments.length==3?oW():void 0,[]),a=(0,fo.useRef)(0),o=Ay(),s=(0,fo.useMemo)(()=>({ctrls:[],queue:[],flush(p,g){let _=p5(p,g);return a.current>0&&!s.queue.length&&!Object.keys(_).some(b=>!p.springs[b])?LE(p,g):new Promise(b=>{m5(p,_),s.queue.push(()=>{b(LE(p,g))}),o()})}}),[]),l=(0,fo.useRef)([...s.ctrls]),c=[],d=yE(n)||0;(0,fo.useMemo)(()=>{Dn(l.current.slice(n,d),p=>{XH(p,i),p.stop(!0)}),l.current.length=n,m(d,n)},[n]),(0,fo.useMemo)(()=>{m(0,Math.min(d,n))},t);function m(p,g){for(let _=p;_<g;_++){let x=l.current[_]||(l.current[_]=new h5(null,s.flush)),b=r?r(_,x):e[_];b&&(c[_]=$H(b))}}let f=l.current.map((p,g)=>p5(p,c[g])),h=(0,fo.useContext)(Fy),u=yE(h),v=h!==u&&ZH(h);Cy(()=>{a.current++,s.ctrls=l.current;let{queue:p}=s;p.length&&(s.queue=[],Dn(p,g=>g())),Dn(l.current,(g,_)=>{i==null||i.add(g),v&&g.start({default:h});let x=c[_];x&&(YH(g,x.ref),g.ref?g.queue.push(x):g.start(x))})}),ig(()=>()=>{Dn(s.ctrls,p=>p.stop(!0))});let y=f.map(p=>Qr({},p));return i?[y,i]:y}function y5(n,e){let t=wt.fun(n),[[r],i]=sW(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[r,i]:r}var x5;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(x5||(x5={}));var w5=class extends ky{constructor(e,t){super();this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=af(...t);let r=this._get(),i=Dy(r);Ry(this,i.create(r))}advance(e){let t=this._get(),r=this.get();Ps(t,r)||(Ho(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&b5(this._active)&&IE(this)}_get(){let e=wt.arr(this.source)?this.source.map(sa):Ea(sa(this.source));return this.calc(...e)}_start(){this.idle&&!b5(this._active)&&(this.idle=!1,Dn(og(this),e=>{e.done=!1}),so.skipAnimation?(Xt.batchedUpdates(()=>this.advance()),IE(this)):up.start(this))}_attach(){let e=1;Dn(Ea(this.source),t=>{uo(t)&&Nc(t,this),AE(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Dn(Ea(this.source),e=>{uo(e)&&hp(e,this)}),this._active.clear(),IE(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ea(this.source).reduce((t,r)=>Math.max(t,(AE(r)?r.priority:0)+1),0))}};function lW(n){return n.idle!==!1}function b5(n){return!n.size||Array.from(n).every(lW)}function IE(n){n.idle||(n.idle=!0,Dn(og(n),e=>{e.done=!0}),rg(n,{type:"idle",parent:n}))}so.assign({createStringInterpolator:Ty,to:(n,e)=>new w5(n,e)});var YV=up.advance;var uW=["primitive"].concat(Object.keys(qm).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));so.assign({createStringInterpolator:Ty,colors:IL,frameLoop:"demand"});dL(()=>{Xt.advance()});var fW=XL(uW,{applyAnimatedValues:py}),S5=fW.animated;function rn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var E5=(n,e)=>(n%e+e)%e,By=class extends Ro{constructor(e,t){super();rn(this,"object",void 0),rn(this,"domElement",void 0),rn(this,"enabled",!0),rn(this,"target",new Le),rn(this,"minDistance",0),rn(this,"maxDistance",1/0),rn(this,"minZoom",0),rn(this,"maxZoom",1/0),rn(this,"minPolarAngle",0),rn(this,"maxPolarAngle",Math.PI),rn(this,"minAzimuthAngle",-1/0),rn(this,"maxAzimuthAngle",1/0),rn(this,"enableDamping",!1),rn(this,"dampingFactor",.05),rn(this,"enableZoom",!0),rn(this,"zoomSpeed",1),rn(this,"enableRotate",!0),rn(this,"rotateSpeed",1),rn(this,"enablePan",!0),rn(this,"panSpeed",1),rn(this,"screenSpacePanning",!0),rn(this,"keyPanSpeed",7),rn(this,"autoRotate",!1),rn(this,"autoRotateSpeed",2),rn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rn(this,"mouseButtons",{LEFT:$a.ROTATE,MIDDLE:$a.DOLLY,RIGHT:$a.PAN}),rn(this,"touches",{ONE:Lu.ROTATE,TWO:Lu.DOLLY_PAN}),rn(this,"target0",void 0),rn(this,"position0",void 0),rn(this,"zoom0",void 0),rn(this,"_domElementKeyEvents",null),rn(this,"getPolarAngle",void 0),rn(this,"getAzimuthalAngle",void 0),rn(this,"setPolarAngle",void 0),rn(this,"setAzimuthalAngle",void 0),rn(this,"getDistance",void 0),rn(this,"listenToKeyEvents",void 0),rn(this,"saveState",void 0),rn(this,"reset",void 0),rn(this,"update",void 0),rn(this,"connect",void 0),rn(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Wn?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Me=>{let Ge=E5(Me,2*Math.PI),We=d.phi;We<0&&(We+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let et=Math.abs(Ge-We);2*Math.PI-et<et&&(Ge<We?Ge+=2*Math.PI:We+=2*Math.PI),m.phi=Ge-We,r.update()},this.setAzimuthalAngle=Me=>{let Ge=E5(Me,2*Math.PI),We=d.theta;We<0&&(We+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let et=Math.abs(Ge-We);2*Math.PI-et<et&&(Ge<We?Ge+=2*Math.PI:We+=2*Math.PI),m.theta=Ge-We,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Me=>{Me.addEventListener("keydown",Q),this._domElementKeyEvents=Me},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Wn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Wn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{let Me=new Le,Ge=new Cr().setFromUnitVectors(e.up,new Le(0,1,0)),We=Ge.clone().invert(),et=new Le,ot=new Cr,X=2*Math.PI;return function(){let Fe=r.object.position;Me.copy(Fe).sub(r.target),Me.applyQuaternion(Ge),d.setFromVector3(Me),r.autoRotate&&l===s.NONE&&k(I()),r.enableDamping?(d.theta+=m.theta*r.dampingFactor,d.phi+=m.phi*r.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let qe=r.minAzimuthAngle,De=r.maxAzimuthAngle;return isFinite(qe)&&isFinite(De)&&(qe<-Math.PI?qe+=X:qe>Math.PI&&(qe-=X),De<-Math.PI?De+=X:De>Math.PI&&(De-=X),qe<=De?d.theta=Math.max(qe,Math.min(De,d.theta)):d.theta=d.theta>(qe+De)/2?Math.max(qe,d.theta):Math.min(De,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=f,d.radius=Math.max(r.minDistance,Math.min(r.maxDistance,d.radius)),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),Me.setFromSpherical(d),Me.applyQuaternion(We),Fe.copy(r.target).add(Me),r.object.lookAt(r.target),r.enableDamping===!0?(m.theta*=1-r.dampingFactor,m.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(m.set(0,0,0),h.set(0,0,0)),f=1,u||et.distanceToSquared(r.object.position)>c||8*(1-ot.dot(r.object.quaternion))>c?(r.dispatchEvent(i),et.copy(r.object.position),ot.copy(r.object.quaternion),u=!1,!0):!1}})(),this.connect=Me=>{Me===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Me,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",be),r.domElement.addEventListener("pointerdown",ie),r.domElement.addEventListener("pointercancel",W),r.domElement.addEventListener("wheel",B)},this.dispose=()=>{var Me,Ge,We,et,ot,X;(Me=r.domElement)===null||Me===void 0||Me.removeEventListener("contextmenu",be),(Ge=r.domElement)===null||Ge===void 0||Ge.removeEventListener("pointerdown",ie),(We=r.domElement)===null||We===void 0||We.removeEventListener("pointercancel",W),(et=r.domElement)===null||et===void 0||et.removeEventListener("wheel",B),(ot=r.domElement)===null||ot===void 0||ot.ownerDocument.removeEventListener("pointermove",Y),(X=r.domElement)===null||X===void 0||X.ownerDocument.removeEventListener("pointerup",ee),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Q)};let r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=s.NONE,c=1e-6,d=new Ym,m=new Ym,f=1,h=new Le,u=!1,v=new ht,y=new ht,p=new ht,g=new ht,_=new ht,x=new ht,b=new ht,M=new ht,E=new ht,C=[],R={};function I(){return 2*Math.PI/60/60*r.autoRotateSpeed}function O(){return Math.pow(.95,r.zoomSpeed)}function k(Me){m.theta-=Me}function G(Me){m.phi-=Me}let N=(()=>{let Me=new Le;return function(We,et){Me.setFromMatrixColumn(et,0),Me.multiplyScalar(-We),h.add(Me)}})(),Z=(()=>{let Me=new Le;return function(We,et){r.screenSpacePanning===!0?Me.setFromMatrixColumn(et,1):(Me.setFromMatrixColumn(et,0),Me.crossVectors(r.object.up,Me)),Me.multiplyScalar(We),h.add(Me)}})(),H=(()=>{let Me=new Le;return function(We,et){let ot=r.domElement;if(ot&&r.object instanceof Wn&&r.object.isPerspectiveCamera){let X=r.object.position;Me.copy(X).sub(r.target);let Ae=Me.length();Ae*=Math.tan(r.object.fov/2*Math.PI/180),N(2*We*Ae/ot.clientHeight,r.object.matrix),Z(2*et*Ae/ot.clientHeight,r.object.matrix)}else ot&&r.object instanceof ro&&r.object.isOrthographicCamera?(N(We*(r.object.right-r.object.left)/r.object.zoom/ot.clientWidth,r.object.matrix),Z(et*(r.object.top-r.object.bottom)/r.object.zoom/ot.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(Me){r.object instanceof Wn&&r.object.isPerspectiveCamera?f/=Me:r.object instanceof ro&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Me)),r.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(Me){r.object instanceof Wn&&r.object.isPerspectiveCamera?f*=Me:r.object instanceof ro&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Me)),r.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(Me){v.set(Me.clientX,Me.clientY)}function J(Me){b.set(Me.clientX,Me.clientY)}function ne(Me){g.set(Me.clientX,Me.clientY)}function le(Me){y.set(Me.clientX,Me.clientY),p.subVectors(y,v).multiplyScalar(r.rotateSpeed);let Ge=r.domElement;Ge&&(k(2*Math.PI*p.x/Ge.clientHeight),G(2*Math.PI*p.y/Ge.clientHeight)),v.copy(y),r.update()}function ue(Me){M.set(Me.clientX,Me.clientY),E.subVectors(M,b),E.y>0?j(O()):E.y<0&&z(O()),b.copy(M),r.update()}function K(Me){_.set(Me.clientX,Me.clientY),x.subVectors(_,g).multiplyScalar(r.panSpeed),H(x.x,x.y),g.copy(_),r.update()}function ae(Me){Me.deltaY<0?z(O()):Me.deltaY>0&&j(O()),r.update()}function se(Me){let Ge=!1;switch(Me.code){case r.keys.UP:H(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:H(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:H(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:H(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(Me.preventDefault(),r.update())}function fe(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);v.set(Me,Ge)}}function he(){if(C.length==1)g.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);g.set(Me,Ge)}}function we(){let Me=C[0].pageX-C[1].pageX,Ge=C[0].pageY-C[1].pageY,We=Math.sqrt(Me*Me+Ge*Ge);b.set(0,We)}function xe(){r.enableZoom&&we(),r.enablePan&&he()}function Ie(){r.enableZoom&&we(),r.enableRotate&&fe()}function ge(Me){if(C.length==1)y.set(Me.pageX,Me.pageY);else{let We=Ve(Me),et=.5*(Me.pageX+We.x),ot=.5*(Me.pageY+We.y);y.set(et,ot)}p.subVectors(y,v).multiplyScalar(r.rotateSpeed);let Ge=r.domElement;Ge&&(k(2*Math.PI*p.x/Ge.clientHeight),G(2*Math.PI*p.y/Ge.clientHeight)),v.copy(y)}function Oe(Me){if(C.length==1)_.set(Me.pageX,Me.pageY);else{let Ge=Ve(Me),We=.5*(Me.pageX+Ge.x),et=.5*(Me.pageY+Ge.y);_.set(We,et)}x.subVectors(_,g).multiplyScalar(r.panSpeed),H(x.x,x.y),g.copy(_)}function me(Me){let Ge=Ve(Me),We=Me.pageX-Ge.x,et=Me.pageY-Ge.y,ot=Math.sqrt(We*We+et*et);M.set(0,ot),E.set(0,Math.pow(M.y/b.y,r.zoomSpeed)),j(E.y),b.copy(M)}function pe(Me){r.enableZoom&&me(Me),r.enablePan&&Oe(Me)}function re(Me){r.enableZoom&&me(Me),r.enableRotate&&ge(Me)}function ie(Me){if(r.enabled!==!1){if(C.length===0){var Ge,We;(Ge=r.domElement)===null||Ge===void 0||Ge.ownerDocument.addEventListener("pointermove",Y),(We=r.domElement)===null||We===void 0||We.ownerDocument.addEventListener("pointerup",ee)}Se(Me),Me.pointerType==="touch"?de(Me):P(Me)}}function Y(Me){r.enabled!==!1&&(Me.pointerType==="touch"?Ce(Me):D(Me))}function ee(Me){if(ke(Me),C.length===0){var Ge,We,et;(Ge=r.domElement)===null||Ge===void 0||Ge.releasePointerCapture(Me.pointerId),(We=r.domElement)===null||We===void 0||We.ownerDocument.removeEventListener("pointermove",Y),(et=r.domElement)===null||et===void 0||et.ownerDocument.removeEventListener("pointerup",ee)}r.dispatchEvent(o),l=s.NONE}function W(Me){ke(Me)}function P(Me){let Ge;switch(Me.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case $a.DOLLY:if(r.enableZoom===!1)return;J(Me),l=s.DOLLY;break;case $a.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enablePan===!1)return;ne(Me),l=s.PAN}else{if(r.enableRotate===!1)return;V(Me),l=s.ROTATE}break;case $a.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enableRotate===!1)return;V(Me),l=s.ROTATE}else{if(r.enablePan===!1)return;ne(Me),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function D(Me){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;le(Me);break;case s.DOLLY:if(r.enableZoom===!1)return;ue(Me);break;case s.PAN:if(r.enablePan===!1)return;K(Me);break}}function B(Me){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(Me.preventDefault(),r.dispatchEvent(a),ae(Me),r.dispatchEvent(o))}function Q(Me){r.enabled===!1||r.enablePan===!1||se(Me)}function de(Me){switch(Ye(Me),C.length){case 1:switch(r.touches.ONE){case Lu.ROTATE:if(r.enableRotate===!1)return;fe(),l=s.TOUCH_ROTATE;break;case Lu.PAN:if(r.enablePan===!1)return;he(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Lu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;xe(),l=s.TOUCH_DOLLY_PAN;break;case Lu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Ce(Me){switch(Ye(Me),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;ge(Me),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Oe(Me),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;pe(Me),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;re(Me),r.update();break;default:l=s.NONE}}function be(Me){r.enabled!==!1&&Me.preventDefault()}function Se(Me){C.push(Me)}function ke(Me){delete R[Me.pointerId];for(let Ge=0;Ge<C.length;Ge++)if(C[Ge].pointerId==Me.pointerId){C.splice(Ge,1);return}}function Ye(Me){let Ge=R[Me.pointerId];Ge===void 0&&(Ge=new ht,R[Me.pointerId]=Ge),Ge.set(Me.pageX,Me.pageY)}function Ve(Me){let Ge=Me.pointerId===C[0].pointerId?C[1]:C[0];return R[Ge.pointerId]}t!==void 0&&this.connect(t),this.update()}};var la=cr(Xr());function DE(){var n=0,e=[],t,r=0,i=0;function a(p,g){var _=DE();function x(){var b=n>0?p:g;if(v(b))try{var M=b(t);M===_&&u();var E=f(M);E?E.call(M,_.resolve,_.reject):_.resolve(M)}catch(C){_.reject(C)}else _[n>0?"resolve":"reject"](t)}return e.push(x),n&&c(),_}var o=h(function(p){i||l(1,p)}),s=h(function(p){i||l(-1,p)});function l(p,g){i++;var _=0;try{g===y&&u();var x=p>0&&f(g);x?x.call(g,h(function(b){_++,l(1,b)}),h(function(b){_++,l(-1,b)})):(n=p,t=g,c())}catch(b){!n&&!_&&l(-1,b)}}function c(){r||(setTimeout(d,0),r=1)}function d(){var p=e;r=0,e=[],p.forEach(m)}function m(p){p()}function f(p){var g=p&&(v(p)||typeof p=="object")&&p.then;return v(g)&&g}function h(p){var g=0;return function(){for(var _=[],x=arguments.length;x--;)_[x]=arguments[x];g++||p.apply(this,_)}}function u(){throw new TypeError("Chaining cycle detected")}var v=function(p){return typeof p=="function"},y={then:a,resolve:o,reject:s};return y}function M5(){var n,e,t=new Promise(function(r,i){n=r,e=i});return{then:t.then.bind(t),resolve:n,reject:e}}DE.all=M5.all=function(n){var e=0,t=[],r=zc();return n.length===0?r.resolve([]):n.forEach(function(i,a){var o=zc();o.resolve(i),o.then(function(s){e++,t[a]=s,e===n.length&&r.resolve(t)},r.reject)}),r};var zc=typeof Promise=="function"?M5:DE;function cW(){var n=Object.create(null);function e(i,a){var o=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!n[o])try{l=l.map(function(f){return f&&f.isWorkerModule&&(e(f,function(h){if(h instanceof Error)throw h}),f=n[f.id].value),f}),c=r("<"+s+">.init",c),d&&(d=r("<"+s+">.getTransferables",d));var m=null;typeof c=="function"?m=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:m,getTransferables:d},a(m)}catch(f){f&&f.noLog||console.error(f),a(f)}}function t(i,a){var o,s=i.id,l=i.args;(!n[s]||typeof n[s].value!="function")&&a(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(o=n[s]).value.apply(o,l);c&&typeof c.then=="function"?c.then(d,function(m){return a(m instanceof Error?m:new Error(""+m))}):d(c)}catch(m){a(m)}function d(m){try{var f=n[s].getTransferables&&n[s].getTransferables(m);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),a(m,f)}catch(h){console.error(h),a(h)}}}function r(i,a){var o=void 0;self.troikaDefine=function(l){return o=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(i){var a=i.data,o=a.messageId,s=a.action,l=a.data;try{s==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&t(l,function(c,d){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},d||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function hW(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(a){return a&&a._getInitResult?a._getInitResult():a}):[];var i=zc.all(t).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var T5=function(){var n=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return T5=function(){return n},n},dW=0,pW=0,OE=!1,mg=Object.create(null),gg=Object.create(null),kE=Object.create(null);function Gc(n){if((!n||typeof n.init!="function")&&!OE)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!T5())return hW(n);i==null&&(i="#default");var a="workerModule"+ ++dW,o=n.name||a,s=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(OE=!0,c=Gc({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+Uy(c)+`
)}`}),OE=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(!s){s=C5(i,"registerModule",l.workerModuleData);var m=function(){s=null,gg[i].delete(m)};(gg[i]||(gg[i]=new Set)).add(m)}return s.then(function(f){var h=f.isCallable;if(h)return C5(i,"callModule",{id:a,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:e,init:Uy(t),getTransferables:r&&Uy(r)},l}function A5(n){gg[n]&&gg[n].forEach(function(e){e()}),mg[n]&&(mg[n].terminate(),delete mg[n])}function Uy(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function mW(n){var e=mg[n];if(!e){var t=Uy(cW);e=mg[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,o=kE[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete kE[a],o(i)}}return e}function C5(n,e,t){var r=zc(),i=++pW;return kE[i]=function(a){a.success?r.resolve(a.result):r.reject(new Error("Error in worker "+e+" call: "+a.error))},mW(n).postMessage({messageId:i,action:e,data:t}),r}var R5=Gc({name:"Thenable",dependencies:[zc],init:function(n){return n}});function gW(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(Y,ee){r[Y]=1<<ee+1,i[r[Y]]=Y}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|a|r.PDI|l,d=null;function m(){if(!d){d=new Map;var Y=function(W){if(t.hasOwnProperty(W)){var P=0;t[W].split(",").forEach(function(D){var B=D.split("+"),Q=B[0],de=B[1];Q=parseInt(Q,36),de=de?parseInt(de,36):0,d.set(P+=Q,r[W]);for(var Ce=0;Ce<de;Ce++)d.set(++P,r[W])})}};for(var ee in t)Y(ee)}}function f(Y){return m(),d.get(Y.codePointAt(0))||r.L}function h(Y){return i[f(Y)]}var u={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Y,ee){var W=36,P=0,D=new Map,B=ee&&new Map,Q;return Y.split(",").forEach(function de(Ce){if(Ce.indexOf("+")!==-1)for(var be=+Ce;be--;)de(Q);else{Q=Ce;var Se=Ce.split(">"),ke=Se[0],Ye=Se[1];ke=String.fromCodePoint(P+=parseInt(ke,W)),Ye=String.fromCodePoint(P+=parseInt(Ye,W)),D.set(ke,Ye),ee&&B.set(Ye,ke)}}),{map:D,reverseMap:B}}var y,p,g;function _(){if(!y){var Y=v(u.pairs,!0),ee=Y.map,W=Y.reverseMap;y=ee,p=W,g=v(u.canonical,!1).map}}function x(Y){return _(),y.get(Y)||null}function b(Y){return _(),p.get(Y)||null}function M(Y){return _(),g.get(Y)||null}var E=r.L,C=r.R,R=r.EN,I=r.ES,O=r.ET,k=r.AN,G=r.CS,N=r.B,Z=r.S,H=r.ON,j=r.BN,z=r.NSM,V=r.AL,J=r.LRO,ne=r.RLO,le=r.LRE,ue=r.RLE,K=r.PDF,ae=r.LRI,se=r.RLI,fe=r.FSI,he=r.PDI;function we(Y,ee){for(var W=125,P=new Uint32Array(Y.length),D=0;D<Y.length;D++)P[D]=f(Y[D]);var B=new Map;function Q(Mn,Dr){var un=P[Mn];P[Mn]=Dr,B.set(un,B.get(un)-1),un&s&&B.set(s,B.get(s)-1),B.set(Dr,(B.get(Dr)||0)+1),Dr&s&&B.set(s,(B.get(s)||0)+1)}for(var de=new Uint8Array(Y.length),Ce=new Map,be=[],Se=null,ke=0;ke<Y.length;ke++)Se||be.push(Se={start:ke,end:Y.length-1,level:ee==="rtl"?1:ee==="ltr"?0:Us(ke,!1)}),P[ke]&N&&(Se.end=ke,Se=null);for(var Ye=ue|le|ne|J|a|he|K|N,Ve=function(Mn){return Mn+(Mn&1?1:2)},Me=function(Mn){return Mn+(Mn&1?2:1)},Ge=0;Ge<be.length;Ge++){Se=be[Ge];var We=[{_level:Se.level,_override:0,_isolate:0}],et=void 0,ot=0,X=0,Ae=0;B.clear();for(var Fe=Se.start;Fe<=Se.end;Fe++){var qe=P[Fe];if(et=We[We.length-1],B.set(qe,(B.get(qe)||0)+1),qe&s&&B.set(s,(B.get(s)||0)+1),qe&Ye)if(qe&(ue|le)){de[Fe]=et._level;var De=(qe===ue?Me:Ve)(et._level);De<=W&&!ot&&!X?We.push({_level:De,_override:0,_isolate:0}):ot||X++}else if(qe&(ne|J)){de[Fe]=et._level;var He=(qe===ne?Me:Ve)(et._level);He<=W&&!ot&&!X?We.push({_level:He,_override:qe&ne?C:E,_isolate:0}):ot||X++}else if(qe&a){qe&fe&&(qe=Us(Fe+1,!0)===1?se:ae),de[Fe]=et._level,et._override&&Q(Fe,et._override);var ce=(qe===se?Me:Ve)(et._level);ce<=W&&ot===0&&X===0?(Ae++,We.push({_level:ce,_override:0,_isolate:1,_isolInitIndex:Fe})):ot++}else if(qe&he){if(ot>0)ot--;else if(Ae>0){for(X=0;!We[We.length-1]._isolate;)We.pop();var Ke=We[We.length-1]._isolInitIndex;Ke!=null&&(Ce.set(Ke,Fe),Ce.set(Fe,Ke)),We.pop(),Ae--}et=We[We.length-1],de[Fe]=et._level,et._override&&Q(Fe,et._override)}else qe&K?(ot===0&&(X>0?X--:!et._isolate&&We.length>1&&(We.pop(),et=We[We.length-1])),de[Fe]=et._level):qe&N&&(de[Fe]=Se.level);else de[Fe]=et._level,et._override&&qe!==j&&Q(Fe,et._override)}for(var lt=[],L=null,Pe=Se.start;Pe<=Se.end;Pe++){var Ue=P[Pe];if(!(Ue&l)){var q=de[Pe],Te=Ue&a,je=Ue===he;L&&q===L._level?(L._end=Pe,L._endsWithIsolInit=Te):lt.push(L={_start:Pe,_end:Pe,_level:q,_startsWithPDI:je,_endsWithIsolInit:Te})}}for(var st=[],ve=0;ve<lt.length;ve++){var Be=lt[ve];if(!Be._startsWithPDI||Be._startsWithPDI&&!Ce.has(Be._start)){for(var Ze=[L=Be],nt=void 0;L&&L._endsWithIsolInit&&(nt=Ce.get(L._end))!=null;)for(var it=ve+1;it<lt.length;it++)if(lt[it]._start===nt){Ze.push(L=lt[it]);break}for(var gt=[],yt=0;yt<Ze.length;yt++)for(var Lt=Ze[yt],Ct=Lt._start;Ct<=Lt._end;Ct++)gt.push(Ct);for(var Yt=de[gt[0]],zt=Se.level,Rt=gt[0]-1;Rt>=0;Rt--)if(!(P[Rt]&l)){zt=de[Rt];break}var qt=gt[gt.length-1],pn=de[qt],Ut=Se.level;if(!(P[qt]&a)){for(var Rn=qt+1;Rn<=Se.end;Rn++)if(!(P[Rn]&l)){Ut=de[Rn];break}}st.push({_seqIndices:gt,_sosType:Math.max(zt,Yt)%2?C:E,_eosType:Math.max(Ut,pn)%2?C:E})}}for(var Ht=0;Ht<st.length;Ht++){var an=st[Ht],vt=an._seqIndices,zn=an._sosType,Sn=an._eosType;if(B.get(z))for(var Qt=0;Qt<vt.length;Qt++){var pr=vt[Qt];if(P[pr]&z){for(var Vn=zn,ir=Qt-1;ir>=0;ir--)if(!(P[vt[ir]]&l)){Vn=P[vt[ir]];break}Q(pr,Vn&(a|he)?H:Vn)}}if(B.get(R))for(var zi=0;zi<vt.length;zi++){var Vo=vt[zi];if(P[Vo]&R)for(var Ri=zi-1;Ri>=-1;Ri--){var jo=Ri===-1?zn:P[vt[Ri]];if(jo&o){jo===V&&Q(Vo,k);break}}}if(B.get(V))for(var Ls=0;Ls<vt.length;Ls++){var Zo=vt[Ls];P[Zo]&V&&Q(Zo,C)}if(B.get(I)||B.get(G))for(var Pi=1;Pi<vt.length-1;Pi++){var Ol=vt[Pi];if(P[Ol]&(I|G)){for(var ui=0,En=0,ua=Pi-1;ua>=0&&(ui=P[vt[ua]],!!(ui&l));ua--);for(var kl=Pi+1;kl<vt.length&&(En=P[vt[kl]],!!(En&l));kl++);ui===En&&(P[Ol]===I?ui===R:ui&(R|k))&&Q(Ol,ui)}}if(B.get(R))for(var Xo=0;Xo<vt.length;Xo++){var co=vt[Xo];if(P[co]&R){for(var Is=Xo-1;Is>=0&&P[vt[Is]]&(O|l);Is--)Q(vt[Is],R);for(var Ma=Xo+1;Ma<vt.length&&P[vt[Ma]]&(O|l);Ma++)Q(vt[Ma],R)}}if(B.get(O)||B.get(I)||B.get(G))for(var fi=0;fi<vt.length;fi++){var Yo=vt[fi];if(P[Yo]&(O|I|G)){Q(Yo,H);for(var ci=fi-1;ci>=0&&P[vt[ci]]&l;ci--)Q(vt[ci],H);for(var hi=fi+1;hi<vt.length&&P[vt[hi]]&l;hi++)Q(vt[hi],H)}}if(B.get(R))for(var Fl=0,Vc=zn;Fl<vt.length;Fl++){var uf=vt[Fl],Nl=P[uf];Nl&R?Vc===E&&Q(uf,E):Nl&o&&(Vc=Nl)}if(B.get(s)){var Ta=C|R|k,Ds=Ta|E,Bl=[];{for(var ho=[],Aa=0;Aa<vt.length;Aa++)if(P[vt[Aa]]&s){var qo=Y[vt[Aa]],Os=void 0;if(x(qo)!==null)if(ho.length<63)ho.push({char:qo,seqIndex:Aa});else break;else if((Os=b(qo))!==null)for(var Qo=ho.length-1;Qo>=0;Qo--){var Ul=ho[Qo].char;if(Ul===Os||Ul===b(M(qo))||x(M(Ul))===qo){Bl.push([ho[Qo].seqIndex,Aa]),ho.length=Qo;break}}}Bl.sort(function(Mn,Dr){return Mn[0]-Dr[0]})}for(var zl=0;zl<Bl.length;zl++){for(var ks=Bl[zl],po=ks[0],Gl=ks[1],Gi=!1,Wr=0,Fs=po+1;Fs<Gl;Fs++){var Pn=vt[Fs];if(P[Pn]&Ds){Gi=!0;var $t=P[Pn]&Ta?C:E;if($t===ha(Pn)){Wr=$t;break}}}if(Gi&&!Wr){Wr=zn;for(var Ca=po-1;Ca>=0;Ca--){var Ns=vt[Ca];if(P[Ns]&Ds){var Hi=P[Ns]&Ta?C:E;Hi!==ha(Ns)?Wr=Hi:Wr=ha(Ns);break}}}if(Wr){if(P[vt[po]]=P[vt[Gl]]=Wr,Wr!==ha(vt[po])){for(var fa=po+1;fa<vt.length;fa++)if(!(P[vt[fa]]&l)){f(Y[vt[fa]])&z&&(P[vt[fa]]=Wr);break}}if(Wr!==ha(vt[Gl])){for(var Lr=Gl+1;Lr<vt.length;Lr++)if(!(P[vt[Lr]]&l)){f(Y[vt[Lr]])&z&&(P[vt[Lr]]=Wr);break}}}}for(var ca=0;ca<vt.length;ca++)if(P[vt[ca]]&s){for(var ff=ca,cf=ca,gn=zn,mo=ca-1;mo>=0;mo--)if(P[vt[mo]]&l)ff=mo;else{gn=P[vt[mo]]&Ta?C:E;break}for(var Li=Sn,Jo=ca+1;Jo<vt.length;Jo++)if(P[vt[Jo]]&(s|l))cf=Jo;else{Li=P[vt[Jo]]&Ta?C:E;break}for(var Ir=ff;Ir<=cf;Ir++)P[vt[Ir]]=gn===Li?gn:ha(vt[Ir]);ca=cf}}}for(var On=Se.start;On<=Se.end;On++){var Bs=de[On],Wi=P[On];if(Bs&1?Wi&(E|R|k)&&de[On]++:Wi&C?de[On]++:Wi&(k|R)&&(de[On]+=2),Wi&l&&(de[On]=On===0?Se.level:de[On-1]),On===Se.end||f(Y[On])&(Z|N))for(var Ra=On;Ra>=0&&f(Y[Ra])&c;Ra--)de[Ra]=Se.level}}return{levels:de,paragraphs:be};function Us(Mn,Dr){for(var un=Mn;un<Y.length;un++){var Nr=P[un];if(Nr&(C|V))return 1;if(Nr&(N|E)||Dr&&Nr===he)return 0;if(Nr&a){var zs=hf(un);un=zs===-1?Y.length:zs}}return 0}function hf(Mn){for(var Dr=1,un=Mn+1;un<Y.length;un++){var Nr=P[un];if(Nr&N)break;if(Nr&he){if(--Dr==0)return un}else Nr&a&&Dr++}return-1}function ha(Mn){return de[Mn]&1?C:E}}var xe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ie;function ge(){if(!Ie){var Y=v(xe,!0),ee=Y.map,W=Y.reverseMap;W.forEach(function(P,D){ee.set(D,P)}),Ie=ee}}function Oe(Y){return ge(),Ie.get(Y)||null}function me(Y,ee,W,P){var D=Y.length;W=Math.max(0,W==null?0:+W),P=Math.min(D-1,P==null?D-1:+P);for(var B=new Map,Q=W;Q<=P;Q++)if(ee[Q]&1){var de=Oe(Y[Q]);de!==null&&B.set(Q,de)}return B}function pe(Y,ee,W,P){var D=Y.length;W=Math.max(0,W==null?0:+W),P=Math.min(D-1,P==null?D-1:+P);var B=[];return ee.paragraphs.forEach(function(Q){var de=Math.max(W,Q.start),Ce=Math.min(P,Q.end);if(de<Ce){for(var be=ee.levels.slice(de,Ce+1),Se=Ce;Se>=de&&f(Y[Se])&c;Se--)be[Se]=Q.level;for(var ke=Q.level,Ye=1/0,Ve=0;Ve<be.length;Ve++){var Me=be[Ve];Me>ke&&(ke=Me),Me<Ye&&(Ye=Me|1)}for(var Ge=ke;Ge>=Ye;Ge--)for(var We=0;We<be.length;We++)if(be[We]>=Ge){for(var et=We;We+1<be.length&&be[We+1]>=Ge;)We++;We>et&&B.push([et+W,We+W])}}}),B}function re(Y,ee,W,P){var D=ie(Y,ee,W,P),B=[].concat(Y);return D.forEach(function(Q,de){B[de]=(ee.levels[Q]&1?Oe(Y[Q]):null)||Y[Q]}),B.join("")}function ie(Y,ee,W,P){for(var D=pe(Y,ee,W,P),B=[],Q=0;Q<Y.length;Q++)B[Q]=Q;return D.forEach(function(de){for(var Ce=de[0],be=de[1],Se=B.slice(Ce,be+1),ke=Se.length;ke--;)B[be-ke]=Se[ke]}),B}return e.closingToOpeningBracket=b,e.getBidiCharType=f,e.getBidiCharTypeName=h,e.getCanonicalBracket=M,e.getEmbeddingLevels=we,e.getMirroredCharacter=Oe,e.getMirroredCharactersMap=me,e.getReorderSegments=pe,e.getReorderedIndices=ie,e.getReorderedString=re,e.openingToClosingBracket=x,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}var P5=gW;var FE=/\bvoid\s+main\s*\(\s*\)\s*{/g;function NE(n){let e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let a=cn[i];return a?NE(a):r}return n.replace(e,t)}var si=[];for(let n=0;n<256;n++)si[n]=(n<16?"0":"")+n.toString(16);function vW(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[r&255]+si[r>>8&255]+si[r>>16&255]+si[r>>24&255]).toUpperCase()}var Hc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}return n},_W=Date.now(),L5=new WeakMap,I5=new Map,yW=1e10;function zy(n,e){let t=SW(e),r=L5.get(n);if(r||L5.set(n,r=Object.create(null)),r[t])return new r[t];let i=`_onBeforeCompile${t}`,a=function(c){n.onBeforeCompile.call(this,c);let d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader,m=I5[d];if(!m){let f=xW(c,e,t);m=I5[d]=f}c.vertexShader=m.vertexShader,c.fragmentShader=m.fragmentShader,Hc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-_W}}),this[i]&&this[i](c)},o=function(){return s(e.chained?n:n.clone())},s=function(c){let d=Object.create(c,l);return Object.defineProperty(d,"baseMaterial",{value:n}),Object.defineProperty(d,"id",{value:yW++}),d.uuid=vW(),d.uniforms=Hc({},c.uniforms,e.uniforms),d.defines=Hc({},c.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",d.extensions=Hc({},c.extensions,e.extensions),d._listeners=void 0,d},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t}},onBeforeCompile:{get(){return a},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Hc(this.extensions,c.extensions),Hc(this.defines,c.defines),Hc(this.uniforms,a_.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let c=new n.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=zy(n.isDerivedMaterial?n.getDepthMaterial():new yc({depthPacking:U1}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=zy(n.isDerivedMaterial?n.getDistanceMaterial():new xc,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:c,_distanceMaterial:d}=this;c&&c.dispose(),d&&d.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function xW({vertexShader:n,fragmentShader:e},t,r){let{vertexDefs:i,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:s,fragmentDefs:l,fragmentMainIntro:c,fragmentMainOutro:d,fragmentColorTransform:m,customRewriter:f,timeUniform:h}=t;if(i=i||"",a=a||"",o=o||"",l=l||"",c=c||"",d=d||"",(s||f)&&(n=NE(n)),(m||f)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=NE(e)),f){let u=f({vertexShader:n,fragmentShader:e});n=u.vertexShader,e=u.fragmentShader}if(m){let u=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(u.push(v),"")),d=`${m}
${u.join(`
`)}
${d}`}if(h){let u=`
uniform float ${h};
`;i=u+i,l=u+l}return s&&(n=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${n}
`,i=`${i}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,a=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${a}
`,n=n.replace(/\b(position|normal|uv)\b/g,(u,v,y,p)=>/\battribute\s+vec[23]\s+$/.test(p.substr(0,y))?v:`troika_${v}_${r}`)),n=D5(n,r,i,a,o),e=D5(e,r,l,c,d),{vertexShader:n,fragmentShader:e}}function D5(n,e,t,r,i){return(r||i||t)&&(n=n.replace(FE,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function wW(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}var bW=0,O5=new Map;function SW(n){let e=JSON.stringify(n,wW),t=O5.get(e);return t==null&&O5.set(e,t=++bW),t}function EW(n){let e=16;function t(o,s,l,c,d,m,f){let h=1-f;return{x:h*h*o+2*h*f*l+f*f*d,y:h*h*s+2*h*f*c+f*f*m}}function r(o,s,l,c,d,m,f,h,u){let v=1-u;return{x:v*v*v*o+3*v*v*u*l+3*v*u*u*d+u*u*u*f,y:v*v*v*s+3*v*v*u*c+3*v*u*u*m+u*u*u*h}}function i(){return(self.performance||Date).now()}function a(o,s,l,c,d,m=1){let f=i(),h=new Uint8Array(o*s),u=c[2]-c[0],v=c[3]-c[1],y=n(c),p=/([MLQCZ])([^MLQCZ]*)/g,g,_,x,b,M;for(;g=p.exec(l);){let E=g[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(C=>parseFloat(C));switch(g[1]){case"M":b=_=E[0],M=x=E[1];break;case"L":(E[0]!==b||E[1]!==M)&&y.addLineSegment(b,M,b=E[0],M=E[1]);break;case"Q":{let C={x:b,y:M};for(let R=1;R<e;R++){let I=t(b,M,E[0],E[1],E[2],E[3],R/(e-1));y.addLineSegment(C.x,C.y,I.x,I.y),C=I}b=E[2],M=E[3];break}case"C":{let C={x:b,y:M};for(let R=1;R<e;R++){let I=r(b,M,E[0],E[1],E[2],E[3],E[4],E[5],R/(e-1));y.addLineSegment(C.x,C.y,I.x,I.y),C=I}b=E[4],M=E[5];break}case"Z":(b!==_||M!==x)&&y.addLineSegment(b,M,_,x);break}}for(let E=0;E<o;E++)for(let C=0;C<s;C++){let R=y.findNearestSignedDistance(c[0]+u*(E+.5)/o,c[1]+v*(C+.5)/s,d),I=Math.pow(1-Math.abs(R)/d,m)/2;R<0&&(I=1-I),I=Math.max(0,Math.min(255,Math.round(I*255))),h[C*o+E]=I}return{textureData:h,timing:i()-f}}return a}function MW(n,e,t){let{defaultFontURL:r}=t,i=Object.create(null),a=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(p,g){function _(){let x=b=>{console.error(`Failure loading font ${p}${p===r?"":"; trying fallback"}`,b),p!==r&&(p=r,_())};try{let b=new XMLHttpRequest;b.open("get",p,!0),b.responseType="arraybuffer",b.onload=function(){if(b.status>=400)x(new Error(b.statusText));else if(b.status>0)try{let M=n(b.response);g(M)}catch(M){x(M)}},b.onerror=x,b.send()}catch(b){x(b)}}_()}function c(p,g){p||(p=r);let _=i[p];_?_.pending?_.pending.push(g):g(_):(i[p]={pending:[g]},l(p,x=>{let b=i[p].pending;i[p]=x,b.forEach(M=>M(x))}))}function d({text:p="",font:g=r,sdfGlyphSize:_=64,fontSize:x=1,letterSpacing:b=0,lineHeight:M="normal",maxWidth:E=a,direction:C,textAlign:R="left",textIndent:I=0,whiteSpace:O="normal",overflowWrap:k="normal",anchorX:G=0,anchorY:N=0,includeCaretPositions:Z=!1,chunkedBoundsSize:H=8192,colorRanges:j=null},z,V=!1){let J=u(),ne={fontLoad:0,typesetting:0};p.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),p=p.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),x=+x,b=+b,E=+E,M=M||"normal",I=+I,c(g,le=>{let ue=isFinite(E),K=null,ae=null,se=null,fe=null,he=null,we=null,xe=null,Ie=0,ge=0,Oe=O!=="nowrap",{ascender:me,descender:pe,unitsPerEm:re}=le;ne.fontLoad=u()-J;let ie=u(),Y=x/re;M==="normal"&&(M=(me-pe)/re),M=M*x;let ee=(M-(me-pe)*Y)/2,W=-(me*Y+ee),P=Math.min(M,(me-pe)*Y),D=(me+pe)/2*Y-P/2,B=I,Q=new v,de=[Q];le.forEachGlyph(p,x,b,(Se,ke,Ye)=>{let Ve=p.charAt(Ye),Me=Se.advanceWidth*Y,Ge=Q.count,We;if("isEmpty"in Se||(Se.isWhitespace=!!Ve&&/\s/.test(Ve),Se.canBreakAfter=!!Ve&&s.test(Ve),Se.isEmpty=Se.xMin===Se.xMax||Se.yMin===Se.yMax||o.test(Ve)),!Se.isWhitespace&&!Se.isEmpty&&ge++,Oe&&ue&&!Se.isWhitespace&&ke+Me+B>E&&Ge){if(Q.glyphAt(Ge-1).glyphObj.canBreakAfter)We=new v,B=-ke;else for(let ot=Ge;ot--;)if(ot===0&&k==="break-word"){We=new v,B=-ke;break}else if(Q.glyphAt(ot).glyphObj.canBreakAfter){We=Q.splitAt(ot+1);let X=We.glyphAt(0).x;B-=X;for(let Ae=We.count;Ae--;)We.glyphAt(Ae).x-=X;break}We&&(Q.isSoftWrapped=!0,Q=We,de.push(Q),Ie=E)}let et=Q.glyphAt(Q.count);et.glyphObj=Se,et.x=ke+B,et.width=Me,et.charIndex=Ye,Ve===`
`&&(Q=new v,de.push(Q),B=-(ke+Me+b*x)+I)}),de.forEach(Se=>{for(let ke=Se.count;ke--;){let{glyphObj:Ye,x:Ve,width:Me}=Se.glyphAt(ke);if(!Ye.isWhitespace){Se.width=Ve+Me,Se.width>Ie&&(Ie=Se.width);return}}});let Ce=0,be=0;if(G&&(typeof G=="number"?Ce=-G:typeof G=="string"&&(Ce=-Ie*(G==="left"?0:G==="center"?.5:G==="right"?1:f(G)))),N){if(typeof N=="number")be=-N;else if(typeof N=="string"){let Se=de.length*M;be=N==="top"?0:N==="top-baseline"?-W:N==="middle"?Se/2:N==="bottom"?Se:N==="bottom-baseline"?Se-ee+pe*Y:f(N)*Se}}if(!V){let Se=e.getEmbeddingLevels(p,C);K=new Uint16Array(ge),ae=new Float32Array(ge*2),se={},we=[a,a,-a,-a],xe=[];let ke=W;Z&&(he=new Float32Array(p.length*3)),j&&(fe=new Uint8Array(ge*3));let Ye=0,Ve=-1,Me=-1,Ge,We;if(de.forEach((et,ot)=>{let{count:X,width:Ae}=et;if(X>0){let Fe=0;for(let lt=X;lt--&&et.glyphAt(lt).glyphObj.isWhitespace;)Fe++;let qe=0,De=0;if(R==="center")qe=(Ie-Ae)/2;else if(R==="right")qe=Ie-Ae;else if(R==="justify"&&et.isSoftWrapped){let lt=0;for(let L=X-Fe;L--;)et.glyphAt(L).glyphObj.isWhitespace&&lt++;De=(Ie-Ae)/lt}if(De||qe){let lt=0;for(let L=0;L<X;L++){let Pe=et.glyphAt(L),Ue=Pe.glyphObj;Pe.x+=qe+lt,De!==0&&Ue.isWhitespace&&L<X-Fe&&(lt+=De,Pe.width+=De)}}let He=e.getReorderSegments(p,Se,et.glyphAt(0).charIndex,et.glyphAt(et.count-1).charIndex);for(let lt=0;lt<He.length;lt++){let[L,Pe]=He[lt],Ue=1/0,q=-1/0;for(let Te=0;Te<X;Te++)if(et.glyphAt(Te).charIndex>=L){let je=Te,st=Te;for(;st<X;st++){let ve=et.glyphAt(st);if(ve.charIndex>Pe)break;st<X-Fe&&(Ue=Math.min(Ue,ve.x),q=Math.max(q,ve.x+ve.width))}for(let ve=je;ve<st;ve++){let Be=et.glyphAt(ve);Be.x=q-(Be.x+Be.width-Ue)}break}}let ce,Ke=lt=>ce=lt;for(let lt=0;lt<X;lt++){let L=et.glyphAt(lt);ce=L.glyphObj;let Pe=ce.index,Ue=Se.levels[L.charIndex]&1;if(Ue){let q=e.getMirroredCharacter(p[L.charIndex]);q&&le.forEachGlyph(q,0,0,Ke)}if(Z){let{charIndex:q}=L,Te=L.x+Ce,je=L.x+L.width+Ce;he[q*3]=Ue?je:Te,he[q*3+1]=Ue?Te:je,he[q*3+2]=ke+D+be;let st=q-Ve;st>1&&h(he,Ve,st),Ve=q}if(j){let{charIndex:q}=L;for(;q>Me;)Me++,j.hasOwnProperty(Me)&&(We=j[Me])}if(!ce.isWhitespace&&!ce.isEmpty){let q=Ye++;se[Pe]||(se[Pe]={path:ce.path,pathBounds:[ce.xMin,ce.yMin,ce.xMax,ce.yMax]});let Te=L.x+Ce,je=ke+be;ae[q*2]=Te,ae[q*2+1]=je;let st=Te+ce.xMin*Y,ve=je+ce.yMin*Y,Be=Te+ce.xMax*Y,Ze=je+ce.yMax*Y;st<we[0]&&(we[0]=st),ve<we[1]&&(we[1]=ve),Be>we[2]&&(we[2]=Be),Ze>we[3]&&(we[3]=Ze),q%H==0&&(Ge={start:q,end:q,rect:[a,a,-a,-a]},xe.push(Ge)),Ge.end++;let nt=Ge.rect;if(st<nt[0]&&(nt[0]=st),ve<nt[1]&&(nt[1]=ve),Be>nt[2]&&(nt[2]=Be),Ze>nt[3]&&(nt[3]=Ze),K[q]=Pe,j){let it=q*3;fe[it]=We>>16&255,fe[it+1]=We>>8&255,fe[it+2]=We&255}}}}ke-=M}),he){let et=p.length-Ve;et>1&&h(he,Ve,et)}}ne.typesetting=u()-ie,z({glyphIds:K,glyphPositions:ae,glyphData:se,caretPositions:he,caretHeight:P,glyphColors:fe,chunkedBounds:xe,fontSize:x,unitsPerEm:re,ascender:me*Y,descender:pe*Y,lineHeight:M,topBaseline:W,blockBounds:[Ce,be-de.length*M,Ce+Ie,be],visibleBounds:we,timings:ne})})}function m(p,g){d(p,_=>{let[x,b,M,E]=_.blockBounds;g({width:M-x,height:E-b})},{metricsOnly:!0})}function f(p){let g=p.match(/^([\d.]+)%$/),_=g?parseFloat(g[1]):NaN;return isNaN(_)?0:_/100}function h(p,g,_){let x=p[g*3],b=p[g*3+1],M=p[g*3+2],E=(b-x)/_;for(let C=0;C<_;C++){let R=(g+C)*3;p[R]=x+E*C,p[R+1]=x+E*(C+1),p[R+2]=M}}function u(){return(self.performance||Date).now()}function v(){this.data=[]}let y=["glyphObj","x","width","charIndex"];return v.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(p){let g=v.flyweight;return g.data=this.data,g.index=p,g},splitAt(p){let g=new v;return g.data=this.data.splice(p*y.length),g}},v.flyweight=y.reduce((p,g,_,x)=>(Object.defineProperty(p,g,{get(){return this.data[this.index*y.length+_]},set(b){this.data[this.index*y.length+_]=b}}),p),{data:null,index:0}),{typeset:d,measure:m,loadFont:c}}function TW(n){let e=!1,t=[];function r(){e&&(t.sort(function(l,c){return l.maxX-c.maxX}),e=!1)}function i(l,c,d,m){let f={x0:l,y0:c,x1:d,y1:m,minX:Math.min(l,d),minY:Math.min(c,m),maxX:Math.max(l,d),maxY:Math.max(c,m)};t.push(f),e=!0}function a(l,c){r();let d=1/0,m=1/0;for(let f=t.length;f--;){let h=t[f];if(h.maxX+m<=l)break;if(l+m>h.minX&&c-m<h.maxY&&c+m>h.minY){let u=s(l,c,h.x0,h.y0,h.x1,h.y1);u<d&&(d=u,m=Math.sqrt(d))}}return o(l,c)&&(m=-m),m}function o(l,c){r();let d=!1;for(let m=t.length;m--;){let f=t[m];if(f.maxX<=l)break;f.minY<c&&f.maxY>c&&f.y0>c!=f.y1>c&&l<(f.x1-f.x0)*(c-f.y0)/(f.y1-f.y0)+f.x0&&(d=!d)}return d}function s(l,c,d,m,f,h){let u=f-d,v=h-m,y=u*u+v*v,p=y?Math.max(0,Math.min(1,((l-d)*u+(c-m)*v)/y)):0,g=l-(d+p*u),_=c-(m+p*v);return g*g+_*_}return{addLineSegment:i,findNearestSignedDistance:a}}function AW(){return typeof window=="undefined"&&(self.window=self),function(n){var e={parse:function(i){var a=e._bin,o=new Uint8Array(i);if(a.readASCII(o,0,4)=="ttcf"){var s=4;a.readUshort(o,s),s+=2,a.readUshort(o,s),s+=2;var l=a.readUint(o,s);s+=4;for(var c=[],d=0;d<l;d++){var m=a.readUint(o,s);s+=4,c.push(e._readFont(o,m))}return c}return[e._readFont(o,0)]},_readFont:function(i,a){var o=e._bin,s=a;o.readFixed(i,a),a+=4;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],d={_data:i,_offset:s},m={},f=0;f<l;f++){var h=o.readASCII(i,a,4);a+=4,o.readUint(i,a),a+=4;var u=o.readUint(i,a);a+=4;var v=o.readUint(i,a);a+=4,m[h]={offset:u,length:v}}for(f=0;f<c.length;f++){var y=c[f];m[y]&&(d[y.trim()]=e[y.trim()].parse(i,m[y].offset,m[y].length,d))}return d},_tabOffset:function(i,a,o){for(var s=e._bin,l=s.readUshort(i,o+4),c=o+12,d=0;d<l;d++){var m=s.readASCII(i,c,4);c+=4,s.readUint(i,c),c+=4;var f=s.readUint(i,c);if(c+=4,s.readUint(i,c),c+=4,m==a)return f}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(e._bin.readUshort(i,a+2*l));return s},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,o){for(var s="",l=0;l<o;l++)s+=String.fromCharCode(i[a+l]);return s},readUnicode:function(i,a,o){for(var s="",l=0;l<o;l++){var c=i[a++]<<8|i[a++];s+=String.fromCharCode(c)}return s},_tdec:typeof window!="undefined"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,o){var s=e._bin._tdec;return s&&a==0&&o==i.length?s.decode(i):e._bin.readASCII(i,a,o)},readBytes:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(i[a+l]);return s},readASCIIArray:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(String.fromCharCode(i[a+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,o,s,l){var c=e._bin,d={},m=a;c.readFixed(i,a),a+=4;var f=c.readUshort(i,a);a+=2;var h=c.readUshort(i,a);a+=2;var u=c.readUshort(i,a);return a+=2,d.scriptList=e._lctf.readScriptList(i,m+f),d.featureList=e._lctf.readFeatureList(i,m+h),d.lookupList=e._lctf.readLookupList(i,m+u,l),d},e._lctf.readLookupList=function(i,a,o){var s=e._bin,l=a,c=[],d=s.readUshort(i,a);a+=2;for(var m=0;m<d;m++){var f=s.readUshort(i,a);a+=2;var h=e._lctf.readLookupTable(i,l+f,o);c.push(h)}return c},e._lctf.readLookupTable=function(i,a,o){var s=e._bin,l=a,c={tabs:[]};c.ltype=s.readUshort(i,a),a+=2,c.flag=s.readUshort(i,a),a+=2;var d=s.readUshort(i,a);a+=2;for(var m=c.ltype,f=0;f<d;f++){var h=s.readUshort(i,a);a+=2;var u=o(i,m,l+h,c);c.tabs.push(u)}return c},e._lctf.numOfOnes=function(i){for(var a=0,o=0;o<32;o++)(i>>>o&1)!=0&&a++;return a},e._lctf.readClassDef=function(i,a){var o=e._bin,s=[],l=o.readUshort(i,a);if(a+=2,l==1){var c=o.readUshort(i,a);a+=2;var d=o.readUshort(i,a);a+=2;for(var m=0;m<d;m++)s.push(c+m),s.push(c+m),s.push(o.readUshort(i,a)),a+=2}if(l==2){var f=o.readUshort(i,a);for(a+=2,m=0;m<f;m++)s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2}return s},e._lctf.getInterval=function(i,a){for(var o=0;o<i.length;o+=3){var s=i[o],l=i[o+1];if(i[o+2],s<=a&&a<=l)return o}return-1},e._lctf.readCoverage=function(i,a){var o=e._bin,s={};s.fmt=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.fmt==1&&(s.tab=o.readUshorts(i,a,l)),s.fmt==2&&(s.tab=o.readUshorts(i,a,3*l)),s},e._lctf.coverageIndex=function(i,a){var o=i.tab;if(i.fmt==1)return o.indexOf(a);if(i.fmt==2){var s=e._lctf.getInterval(o,a);if(s!=-1)return o[s+2]+(a-o[s])}return-1},e._lctf.readFeatureList=function(i,a){var o=e._bin,s=a,l=[],c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var m=o.readASCII(i,a,4);a+=4;var f=o.readUshort(i,a);a+=2;var h=e._lctf.readFeatureTable(i,s+f);h.tag=m.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,a){var o=e._bin,s=a,l={},c=o.readUshort(i,a);a+=2,c>0&&(l.featureParams=s+c);var d=o.readUshort(i,a);a+=2,l.tab=[];for(var m=0;m<d;m++)l.tab.push(o.readUshort(i,a+2*m));return l},e._lctf.readScriptList=function(i,a){var o=e._bin,s=a,l={},c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var m=o.readASCII(i,a,4);a+=4;var f=o.readUshort(i,a);a+=2,l[m.trim()]=e._lctf.readScriptTable(i,s+f)}return l},e._lctf.readScriptTable=function(i,a){var o=e._bin,s=a,l={},c=o.readUshort(i,a);a+=2,l.default=e._lctf.readLangSysTable(i,s+c);var d=o.readUshort(i,a);a+=2;for(var m=0;m<d;m++){var f=o.readASCII(i,a,4);a+=4;var h=o.readUshort(i,a);a+=2,l[f.trim()]=e._lctf.readLangSysTable(i,s+h)}return l},e._lctf.readLangSysTable=function(i,a){var o=e._bin,s={};o.readUshort(i,a),a+=2,s.reqFeature=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.features=o.readUshorts(i,a,l),s},e.CFF={},e.CFF.parse=function(i,a,o){var s=e._bin;(i=new Uint8Array(i.buffer,a,o))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var c=[],d=0;d<l.length-1;d++)c.push(s.readASCII(i,a+l[d],l[d+1]-l[d]));a+=l[l.length-1];var m=[];a=e.CFF.readIndex(i,a,m);var f=[];for(d=0;d<m.length-1;d++)f.push(e.CFF.readDict(i,a+m[d],a+m[d+1]));a+=m[m.length-1];var h=f[0],u=[];a=e.CFF.readIndex(i,a,u);var v=[];for(d=0;d<u.length-1;d++)v.push(s.readASCII(i,a+u[d],u[d+1]-u[d]));if(a+=u[u.length-1],e.CFF.readSubrs(i,a,h),h.CharStrings){a=h.CharStrings,u=[],a=e.CFF.readIndex(i,a,u);var y=[];for(d=0;d<u.length-1;d++)y.push(s.readBytes(i,a+u[d],u[d+1]-u[d]));h.CharStrings=y}if(h.ROS){a=h.FDArray;var p=[];for(a=e.CFF.readIndex(i,a,p),h.FDArray=[],d=0;d<p.length-1;d++){var g=e.CFF.readDict(i,a+p[d],a+p[d+1]);e.CFF._readFDict(i,g,v),h.FDArray.push(g)}a+=p[p.length-1],a=h.FDSelect,h.FDSelect=[];var _=i[a];if(a++,_!=3)throw _;var x=s.readUshort(i,a);for(a+=2,d=0;d<x+1;d++)h.FDSelect.push(s.readUshort(i,a),i[a+2]),a+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,v),h},e.CFF._readFDict=function(i,a,o){var s;for(var l in a.Private&&(s=a.Private[1],a.Private=e.CFF.readDict(i,s,s+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,s+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=o[a[l]-426+35])},e.CFF.readSubrs=function(i,a,o){var s=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var c,d=l.length;c=d<1240?107:d<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var m=0;m<l.length-1;m++)o.Subrs.push(s.readBytes(i,a+l[m],l[m+1]-l[m]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,o){e._bin;var s=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var c=i[a];a++;for(var d=0;d<c;d++)s.push(i[a+d]);return s},e.CFF.readCharset=function(i,a,o){var s=e._bin,l=[".notdef"],c=i[a];if(a++,c==0)for(var d=0;d<o;d++){var m=s.readUshort(i,a);a+=2,l.push(m)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){m=s.readUshort(i,a),a+=2;var f=0;for(c==1?(f=i[a],a++):(f=s.readUshort(i,a),a+=2),d=0;d<=f;d++)l.push(m),m++}}return l},e.CFF.readIndex=function(i,a,o){var s=e._bin,l=s.readUshort(i,a)+1,c=i[a+=2];if(a++,c==1)for(var d=0;d<l;d++)o.push(i[a+d]);else if(c==2)for(d=0;d<l;d++)o.push(s.readUshort(i,a+2*d));else if(c==3)for(d=0;d<l;d++)o.push(16777215&s.readUint(i,a+3*d-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(a+=l*c)-1},e.CFF.getCharString=function(i,a,o){var s=e._bin,l=i[a],c=i[a+1];i[a+2],i[a+3],i[a+4];var d=1,m=null,f=null;l<=20&&(m=l,d=1),l==12&&(m=100*l+c,d=2),21<=l&&l<=27&&(m=l,d=1),l==28&&(f=s.readShort(i,a+1),d=3),29<=l&&l<=31&&(m=l,d=1),32<=l&&l<=246&&(f=l-139,d=1),247<=l&&l<=250&&(f=256*(l-247)+c+108,d=2),251<=l&&l<=254&&(f=256*-(l-251)-c-108,d=2),l==255&&(f=s.readInt(i,a+1)/65535,d=5),o.val=f??"o"+m,o.size=d},e.CFF.readCharString=function(i,a,o){for(var s=a+o,l=e._bin,c=[];a<s;){var d=i[a],m=i[a+1];i[a+2],i[a+3],i[a+4];var f=1,h=null,u=null;d<=20&&(h=d,f=1),d==12&&(h=100*d+m,f=2),d!=19&&d!=20||(h=d,f=2),21<=d&&d<=27&&(h=d,f=1),d==28&&(u=l.readShort(i,a+1),f=3),29<=d&&d<=31&&(h=d,f=1),32<=d&&d<=246&&(u=d-139,f=1),247<=d&&d<=250&&(u=256*(d-247)+m+108,f=2),251<=d&&d<=254&&(u=256*-(d-251)-m-108,f=2),d==255&&(u=l.readInt(i,a+1)/65535,f=5),c.push(u??"o"+h),a+=f}return c},e.CFF.readDict=function(i,a,o){for(var s=e._bin,l={},c=[];a<o;){var d=i[a],m=i[a+1];i[a+2],i[a+3],i[a+4];var f=1,h=null,u=null;if(d==28&&(u=s.readShort(i,a+1),f=3),d==29&&(u=s.readInt(i,a+1),f=5),32<=d&&d<=246&&(u=d-139,f=1),247<=d&&d<=250&&(u=256*(d-247)+m+108,f=2),251<=d&&d<=254&&(u=256*-(d-251)-m-108,f=2),d==255)throw u=s.readInt(i,a+1)/65535,f=5,"unknown number";if(d==30){var v=[];for(f=1;;){var y=i[a+f];f++;var p=y>>4,g=15&y;if(p!=15&&v.push(p),g!=15&&v.push(g),g==15)break}for(var _="",x=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<v.length;b++)_+=x[v[b]];u=parseFloat(_)}d<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],f=1,d==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],f=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(u),a+=f}return l},e.cmap={},e.cmap.parse=function(i,a,o){i=new Uint8Array(i.buffer,a,o),a=0;var s=e._bin,l={};s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2;var d=[];l.tables=[];for(var m=0;m<c;m++){var f=s.readUshort(i,a);a+=2;var h=s.readUshort(i,a);a+=2;var u=s.readUint(i,a);a+=4;var v="p"+f+"e"+h,y=d.indexOf(u);if(y==-1){var p;y=l.tables.length,d.push(u);var g=s.readUshort(i,u);g==0?p=e.cmap.parse0(i,u):g==4?p=e.cmap.parse4(i,u):g==6?p=e.cmap.parse6(i,u):g==12?p=e.cmap.parse12(i,u):console.debug("unknown format: "+g,f,h,u),l.tables.push(p)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,s.map=[];for(var c=0;c<l-6;c++)s.map.push(i[a+c]);return s},e.cmap.parse4=function(i,a){var o=e._bin,s=a,l={};l.format=o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2;var d=o.readUshort(i,a);a+=2;var m=d/2;l.searchRange=o.readUshort(i,a),a+=2,l.entrySelector=o.readUshort(i,a),a+=2,l.rangeShift=o.readUshort(i,a),a+=2,l.endCount=o.readUshorts(i,a,m),a+=2*m,a+=2,l.startCount=o.readUshorts(i,a,m),a+=2*m,l.idDelta=[];for(var f=0;f<m;f++)l.idDelta.push(o.readShort(i,a)),a+=2;for(l.idRangeOffset=o.readUshorts(i,a,m),a+=2*m,l.glyphIdArray=[];a<s+c;)l.glyphIdArray.push(o.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,s.firstCode=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,s.glyphIdArray=[];for(var c=0;c<l;c++)s.glyphIdArray.push(o.readUshort(i,a)),a+=2;return s},e.cmap.parse12=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,a+=2,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4;var l=o.readUint(i,a);a+=4,s.groups=[];for(var c=0;c<l;c++){var d=a+12*c,m=o.readUint(i,d+0),f=o.readUint(i,d+4),h=o.readUint(i,d+8);s.groups.push([m,f,h])}return s},e.glyf={},e.glyf.parse=function(i,a,o,s){for(var l=[],c=0;c<s.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var o=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var c={};if(c.noc=o.readShort(s,l),l+=2,c.xMin=o.readShort(s,l),l+=2,c.yMin=o.readShort(s,l),l+=2,c.xMax=o.readShort(s,l),l+=2,c.yMax=o.readShort(s,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var d=0;d<c.noc;d++)c.endPts.push(o.readUshort(s,l)),l+=2;var m=o.readUshort(s,l);if(l+=2,s.length-l<m)return null;c.instructions=o.readBytes(s,l,m),l+=m;var f=c.endPts[c.noc-1]+1;for(c.flags=[],d=0;d<f;d++){var h=s[l];if(l++,c.flags.push(h),(8&h)!=0){var u=s[l];l++;for(var v=0;v<u;v++)c.flags.push(h),d++}}for(c.xs=[],d=0;d<f;d++){var y=(2&c.flags[d])!=0,p=(16&c.flags[d])!=0;y?(c.xs.push(p?s[l]:-s[l]),l++):p?c.xs.push(0):(c.xs.push(o.readShort(s,l)),l+=2)}for(c.ys=[],d=0;d<f;d++)y=(4&c.flags[d])!=0,p=(32&c.flags[d])!=0,y?(c.ys.push(p?s[l]:-s[l]),l++):p?c.ys.push(0):(c.ys.push(o.readShort(s,l)),l+=2);var g=0,_=0;for(d=0;d<f;d++)g+=c.xs[d],_+=c.ys[d],c.xs[d]=g,c.ys[d]=_}else{var x;c.parts=[];do{x=o.readUshort(s,l),l+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(b),b.glyphIndex=o.readUshort(s,l),l+=2,1&x){var M=o.readShort(s,l);l+=2;var E=o.readShort(s,l);l+=2}else M=o.readInt8(s,l),l++,E=o.readInt8(s,l),l++;2&x?(b.m.tx=M,b.m.ty=E):(b.p1=M,b.p2=E),8&x?(b.m.a=b.m.d=o.readF2dot14(s,l),l+=2):64&x?(b.m.a=o.readF2dot14(s,l),l+=2,b.m.d=o.readF2dot14(s,l),l+=2):128&x&&(b.m.a=o.readF2dot14(s,l),l+=2,b.m.b=o.readF2dot14(s,l),l+=2,b.m.c=o.readF2dot14(s,l),l+=2,b.m.d=o.readF2dot14(s,l),l+=2)}while(32&x);if(256&x){var C=o.readUshort(s,l);for(l+=2,c.instr=[],d=0;d<C;d++)c.instr.push(s[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GPOS.subt)},e.GPOS.subt=function(i,a,o,s){var l=e._bin,c=o,d={};if(d.fmt=l.readUshort(i,o),o+=2,a==1||a==2||a==3||a==7||a==8&&d.fmt<=2){var m=l.readUshort(i,o);o+=2,d.coverage=e._lctf.readCoverage(i,m+c)}if(a==1&&d.fmt==1){var f=l.readUshort(i,o);o+=2;var h=e._lctf.numOfOnes(f);f!=0&&(d.pos=e.GPOS.readValueRecord(i,o,f))}else if(a==2&&d.fmt>=1&&d.fmt<=2){f=l.readUshort(i,o),o+=2;var u=l.readUshort(i,o);o+=2,h=e._lctf.numOfOnes(f);var v=e._lctf.numOfOnes(u);if(d.fmt==1){d.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var p=0;p<y;p++){var g=c+l.readUshort(i,o);o+=2;var _=l.readUshort(i,g);g+=2;for(var x=[],b=0;b<_;b++){var M=l.readUshort(i,g);g+=2,f!=0&&(k=e.GPOS.readValueRecord(i,g,f),g+=2*h),u!=0&&(G=e.GPOS.readValueRecord(i,g,u),g+=2*v),x.push({gid2:M,val1:k,val2:G})}d.pairsets.push(x)}}if(d.fmt==2){var E=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var I=l.readUshort(i,o);for(o+=2,d.classDef1=e._lctf.readClassDef(i,c+E),d.classDef2=e._lctf.readClassDef(i,c+C),d.matrix=[],p=0;p<R;p++){var O=[];for(b=0;b<I;b++){var k=null,G=null;f!=0&&(k=e.GPOS.readValueRecord(i,o,f),o+=2*h),u!=0&&(G=e.GPOS.readValueRecord(i,o,u),o+=2*v),O.push({val1:k,val2:G})}d.matrix.push(O)}}}else{if(a==9&&d.fmt==1){var N=l.readUshort(i,o);o+=2;var Z=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=N;else if(s.ltype!=N)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,c+Z)}console.debug("unsupported GPOS table LookupType",a,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(i,a,o){var s=e._bin,l=[];return l.push(1&o?s.readShort(i,a):0),a+=1&o?2:0,l.push(2&o?s.readShort(i,a):0),a+=2&o?2:0,l.push(4&o?s.readShort(i,a):0),a+=4&o?2:0,l.push(8&o?s.readShort(i,a):0),a+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GSUB.subt)},e.GSUB.subt=function(i,a,o,s){var l=e._bin,c=o,d={};if(d.fmt=l.readUshort(i,o),o+=2,a!=1&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==4||a==5&&d.fmt<=2||a==6&&d.fmt<=2){var m=l.readUshort(i,o);o+=2,d.coverage=e._lctf.readCoverage(i,c+m)}if(a==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=l.readShort(i,o),o+=2;else if(d.fmt==2){var f=l.readUshort(i,o);o+=2,d.newg=l.readUshorts(i,o,f),o+=2*d.newg.length}}else if(a==4){d.vals=[],f=l.readUshort(i,o),o+=2;for(var h=0;h<f;h++){var u=l.readUshort(i,o);o+=2,d.vals.push(e.GSUB.readLigatureSet(i,c+u))}}else if(a==5&&d.fmt==2){if(d.fmt==2){var v=l.readUshort(i,o);o+=2,d.cDef=e._lctf.readClassDef(i,c+v),d.scset=[];var y=l.readUshort(i,o);for(o+=2,h=0;h<y;h++){var p=l.readUshort(i,o);o+=2,d.scset.push(p==0?null:e.GSUB.readSubClassSet(i,c+p))}}}else if(a==6&&d.fmt==3){if(d.fmt==3){for(h=0;h<3;h++){f=l.readUshort(i,o),o+=2;for(var g=[],_=0;_<f;_++)g.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*_)));o+=2*f,h==0&&(d.backCvg=g),h==1&&(d.inptCvg=g),h==2&&(d.ahedCvg=g)}f=l.readUshort(i,o),o+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(i,o,f)}}else{if(a==7&&d.fmt==1){var x=l.readUshort(i,o);o+=2;var b=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=x;else if(s.ltype!=x)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,c+b)}console.debug("unsupported GSUB table LookupType",a,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(i,a){var o=e._bin.readUshort,s=a,l=[],c=o(i,a);a+=2;for(var d=0;d<c;d++){var m=o(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,s+m))}return l},e.GSUB.readSubClassRule=function(i,a){var o=e._bin.readUshort,s={},l=o(i,a),c=o(i,a+=2);a+=2,s.input=[];for(var d=0;d<l-1;d++)s.input.push(o(i,a)),a+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,c),s},e.GSUB.readSubstLookupRecords=function(i,a,o){for(var s=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(s(i,a),s(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var o=e._bin,s=a,l=[],c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var m=o.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,s+m))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var o=e._bin,s={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var d=o.readUshort(i,a);a+=2,c==1&&d--,s[l[c]]=o.readUshorts(i,a,d),a+=2*s[l[c]].length}return d=o.readUshort(i,a),a+=2,s.subst=o.readUshorts(i,a,2*d),a+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,a){var o=e._bin,s=a,l=[],c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var m=o.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,s+m))}return l},e.GSUB.readLigature=function(i,a){var o=e._bin,s={chain:[]};s.nglyph=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2;for(var c=0;c<l-1;c++)s.chain.push(o.readUshort(i,a)),a+=2;return s},e.head={},e.head.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.fontRevision=s.readFixed(i,a),a+=4,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4,l.flags=s.readUshort(i,a),a+=2,l.unitsPerEm=s.readUshort(i,a),a+=2,l.created=s.readUint64(i,a),a+=8,l.modified=s.readUint64(i,a),a+=8,l.xMin=s.readShort(i,a),a+=2,l.yMin=s.readShort(i,a),a+=2,l.xMax=s.readShort(i,a),a+=2,l.yMax=s.readShort(i,a),a+=2,l.macStyle=s.readUshort(i,a),a+=2,l.lowestRecPPEM=s.readUshort(i,a),a+=2,l.fontDirectionHint=s.readShort(i,a),a+=2,l.indexToLocFormat=s.readShort(i,a),a+=2,l.glyphDataFormat=s.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.ascender=s.readShort(i,a),a+=2,l.descender=s.readShort(i,a),a+=2,l.lineGap=s.readShort(i,a),a+=2,l.advanceWidthMax=s.readUshort(i,a),a+=2,l.minLeftSideBearing=s.readShort(i,a),a+=2,l.minRightSideBearing=s.readShort(i,a),a+=2,l.xMaxExtent=s.readShort(i,a),a+=2,l.caretSlopeRise=s.readShort(i,a),a+=2,l.caretSlopeRun=s.readShort(i,a),a+=2,l.caretOffset=s.readShort(i,a),a+=2,a+=8,l.metricDataFormat=s.readShort(i,a),a+=2,l.numberOfHMetrics=s.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,o,s){for(var l=e._bin,c={aWidth:[],lsBearing:[]},d=0,m=0,f=0;f<s.maxp.numGlyphs;f++)f<s.hhea.numberOfHMetrics&&(d=l.readUshort(i,a),a+=2,m=l.readShort(i,a),a+=2),c.aWidth.push(d),c.lsBearing.push(m);return c},e.kern={},e.kern.parse=function(i,a,o,s){var l=e._bin,c=l.readUshort(i,a);if(a+=2,c==1)return e.kern.parseV1(i,a-2,o,s);var d=l.readUshort(i,a);a+=2;for(var m={glyph1:[],rval:[]},f=0;f<d;f++){a+=2,o=l.readUshort(i,a),a+=2;var h=l.readUshort(i,a);a+=2;var u=h>>>8;if((u&=15)!=0)throw"unknown kern table format: "+u;a=e.kern.readFormat0(i,a,m)}return m},e.kern.parseV1=function(i,a,o,s){var l=e._bin;l.readFixed(i,a),a+=4;var c=l.readUint(i,a);a+=4;for(var d={glyph1:[],rval:[]},m=0;m<c;m++){l.readUint(i,a),a+=4;var f=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var h=f>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;a=e.kern.readFormat0(i,a,d)}return d},e.kern.readFormat0=function(i,a,o){var s=e._bin,l=-1,c=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var d=0;d<c;d++){var m=s.readUshort(i,a);a+=2;var f=s.readUshort(i,a);a+=2;var h=s.readShort(i,a);a+=2,m!=l&&(o.glyph1.push(m),o.rval.push({glyph2:[],vals:[]}));var u=o.rval[o.rval.length-1];u.glyph2.push(f),u.vals.push(h),l=m}return a},e.loca={},e.loca.parse=function(i,a,o,s){var l=e._bin,c=[],d=s.head.indexToLocFormat,m=s.maxp.numGlyphs+1;if(d==0)for(var f=0;f<m;f++)c.push(l.readUshort(i,a+(f<<1))<<1);if(d==1)for(f=0;f<m;f++)c.push(l.readUint(i,a+(f<<2)));return c},e.maxp={},e.maxp.parse=function(i,a,o){var s=e._bin,l={},c=s.readUint(i,a);return a+=4,l.numGlyphs=s.readUshort(i,a),a+=2,c==65536&&(l.maxPoints=s.readUshort(i,a),a+=2,l.maxContours=s.readUshort(i,a),a+=2,l.maxCompositePoints=s.readUshort(i,a),a+=2,l.maxCompositeContours=s.readUshort(i,a),a+=2,l.maxZones=s.readUshort(i,a),a+=2,l.maxTwilightPoints=s.readUshort(i,a),a+=2,l.maxStorage=s.readUshort(i,a),a+=2,l.maxFunctionDefs=s.readUshort(i,a),a+=2,l.maxInstructionDefs=s.readUshort(i,a),a+=2,l.maxStackElements=s.readUshort(i,a),a+=2,l.maxSizeOfInstructions=s.readUshort(i,a),a+=2,l.maxComponentElements=s.readUshort(i,a),a+=2,l.maxComponentDepth=s.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,o){var s=e._bin,l={};s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2,s.readUshort(i,a);for(var d,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=a+=2,h=0;h<c;h++){var u=s.readUshort(i,a);a+=2;var v=s.readUshort(i,a);a+=2;var y=s.readUshort(i,a);a+=2;var p=s.readUshort(i,a);a+=2;var g=s.readUshort(i,a);a+=2;var _=s.readUshort(i,a);a+=2;var x,b=m[p],M=f+12*c+_;if(u==0)x=s.readUnicode(i,M,g/2);else if(u==3&&v==0)x=s.readUnicode(i,M,g/2);else if(v==0)x=s.readASCII(i,M,g);else if(v==1)x=s.readUnicode(i,M,g/2);else if(v==3)x=s.readUnicode(i,M,g/2);else{if(u!=1)throw"unknown encoding "+v+", platformID: "+u;x=s.readASCII(i,M,g),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var E="p"+u+","+y.toString(16);l[E]==null&&(l[E]={}),l[E][b!==void 0?b:p]=x,l[E]._lang=y}for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==1033)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==0)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==3084)return l[C];for(var C in l)if(l[C].postScriptName!=null)return l[C];for(var C in l){d=C;break}return console.debug("returning name table with languageID "+l[d]._lang),l[d]},e["OS/2"]={},e["OS/2"].parse=function(i,a,o){var s=e._bin.readUshort(i,a);a+=2;var l={};if(s==0)e["OS/2"].version0(i,a,l);else if(s==1)e["OS/2"].version1(i,a,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,a,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,o){var s=e._bin;return o.xAvgCharWidth=s.readShort(i,a),a+=2,o.usWeightClass=s.readUshort(i,a),a+=2,o.usWidthClass=s.readUshort(i,a),a+=2,o.fsType=s.readUshort(i,a),a+=2,o.ySubscriptXSize=s.readShort(i,a),a+=2,o.ySubscriptYSize=s.readShort(i,a),a+=2,o.ySubscriptXOffset=s.readShort(i,a),a+=2,o.ySubscriptYOffset=s.readShort(i,a),a+=2,o.ySuperscriptXSize=s.readShort(i,a),a+=2,o.ySuperscriptYSize=s.readShort(i,a),a+=2,o.ySuperscriptXOffset=s.readShort(i,a),a+=2,o.ySuperscriptYOffset=s.readShort(i,a),a+=2,o.yStrikeoutSize=s.readShort(i,a),a+=2,o.yStrikeoutPosition=s.readShort(i,a),a+=2,o.sFamilyClass=s.readShort(i,a),a+=2,o.panose=s.readBytes(i,a,10),a+=10,o.ulUnicodeRange1=s.readUint(i,a),a+=4,o.ulUnicodeRange2=s.readUint(i,a),a+=4,o.ulUnicodeRange3=s.readUint(i,a),a+=4,o.ulUnicodeRange4=s.readUint(i,a),a+=4,o.achVendID=[s.readInt8(i,a),s.readInt8(i,a+1),s.readInt8(i,a+2),s.readInt8(i,a+3)],a+=4,o.fsSelection=s.readUshort(i,a),a+=2,o.usFirstCharIndex=s.readUshort(i,a),a+=2,o.usLastCharIndex=s.readUshort(i,a),a+=2,o.sTypoAscender=s.readShort(i,a),a+=2,o.sTypoDescender=s.readShort(i,a),a+=2,o.sTypoLineGap=s.readShort(i,a),a+=2,o.usWinAscent=s.readUshort(i,a),a+=2,o.usWinDescent=s.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,o){var s=e._bin;return a=e["OS/2"].version0(i,a,o),o.ulCodePageRange1=s.readUint(i,a),a+=4,o.ulCodePageRange2=s.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,o){var s=e._bin;return a=e["OS/2"].version1(i,a,o),o.sxHeight=s.readShort(i,a),a+=2,o.sCapHeight=s.readShort(i,a),a+=2,o.usDefault=s.readUshort(i,a),a+=2,o.usBreak=s.readUshort(i,a),a+=2,o.usMaxContext=s.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,o){var s=e._bin;return a=e["OS/2"].version2(i,a,o),o.usLowerOpticalPointSize=s.readUshort(i,a),a+=2,o.usUpperOpticalPointSize=s.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,o){var s=e._bin,l={};return l.version=s.readFixed(i,a),a+=4,l.italicAngle=s.readFixed(i,a),a+=4,l.underlinePosition=s.readShort(i,a),a+=2,l.underlineThickness=s.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var o=i.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var l=o.tables[s];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var c=-1,d=0;d<l.endCount.length;d++)if(a<=l.endCount[d]){c=d;break}return c==-1||l.startCount[c]>a?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[a-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:a+l.idDelta[c])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(d=0;d<l.groups.length;d++){var m=l.groups[d];if(m[0]<=a&&a<=m[1])return m[2]+(a-m[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var s=i.SVG.entries[a];return s==null?o:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[a]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,d=i.CFF.Private;if(c.ROS){for(var m=0;c.FDSelect[m+2]<=a;)m+=2;d=c.FDArray[c.FDSelect[m+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,c,d,o)}else i.glyf&&e.U._drawGlyf(a,i,o);return o},e.U._drawGlyf=function(i,a,o){var s=a.glyf[i];s==null&&(s=a.glyf[i]=e.glyf._parseGlyf(a,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,o):e.U._compoGlyph(s,a,o))},e.U._simpleGlyph=function(i,a){for(var o=0;o<i.noc;o++){for(var s=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=s;c<=l;c++){var d=c==s?l:c-1,m=c==l?s:c+1,f=1&i.flags[c],h=1&i.flags[d],u=1&i.flags[m],v=i.xs[c],y=i.ys[c];if(c==s)if(f){if(!h){e.U.P.moveTo(a,v,y);continue}e.U.P.moveTo(a,i.xs[d],i.ys[d])}else h?e.U.P.moveTo(a,i.xs[d],i.ys[d]):e.U.P.moveTo(a,(i.xs[d]+v)/2,(i.ys[d]+y)/2);f?h&&e.U.P.lineTo(a,v,y):u?e.U.P.qcurveTo(a,v,y,i.xs[m],i.ys[m]):e.U.P.qcurveTo(a,v,y,(v+i.xs[m])/2,(y+i.ys[m])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,o){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},c=i.parts[s];e.U._drawGlyf(c.glyphIndex,a,l);for(var d=c.m,m=0;m<l.crds.length;m+=2){var f=l.crds[m],h=l.crds[m+1];o.crds.push(f*d.a+h*d.b+d.tx),o.crds.push(f*d.c+h*d.d+d.ty)}for(m=0;m<l.cmds.length;m++)o.cmds.push(l.cmds[m])}},e.U._getGlyphClass=function(i,a){var o=e._lctf.getInterval(a,i);return o==-1?0:a[o+2]},e.U.getPairAdjustment=function(i,a,o){var s=0;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,d=l.featureList,m=[],f=0;f<d.length;f++){var h=d[f];if(h.tag=="kern"){for(var u=0;u<h.tab.length;u++)if(!m[h.tab[u]]){m[h.tab[u]]=!0;for(var v=c[h.tab[u]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var p,g=v.tabs[y];if((!g.coverage||(p=e._lctf.coverageIndex(g.coverage,a))!=-1)&&v.ltype!=1){if(v.ltype==2){var _;if(g.fmt==1){var x=g.pairsets[p];for(f=0;f<x.length;f++)x[f].gid2==o&&(_=x[f])}else if(g.fmt==2){var b=e.U._getGlyphClass(a,g.classDef1),M=e.U._getGlyphClass(o,g.classDef2);_=g.matrix[b][M]}_&&_.val1&&_.val1[2]&&(s+=_.val1[2]),_&&_.val2&&_.val2[0]&&(s+=_.val2[0])}}}}}}if(i.kern){var E=i.kern.glyph1.indexOf(a);if(E!=-1){var C=i.kern.rval[E].glyph2.indexOf(o);C!=-1&&(s+=i.kern.rval[E].vals[C])}}return s},e.U._applySubs=function(i,a,o,s){for(var l=i.length-a-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var d,m=o.tabs[c];if(!m.coverage||(d=e._lctf.coverageIndex(m.coverage,i[a]))!=-1){if(o.ltype==1)i[a],m.fmt==1?i[a]=i[a]+m.delta:i[a]=m.newg[d];else if(o.ltype==4)for(var f=m.vals[d],h=0;h<f.length;h++){var u=f[h],v=u.chain.length;if(!(v>l)){for(var y=!0,p=0,g=0;g<v;g++){for(;i[a+p+(1+g)]==-1;)p++;u.chain[g]!=i[a+p+(1+g)]&&(y=!1)}if(y){for(i[a]=u.nglyph,g=0;g<v+p;g++)i[a+g+1]=-1;break}}}else if(o.ltype==5&&m.fmt==2)for(var _=e._lctf.getInterval(m.cDef,i[a]),x=m.cDef[_+2],b=m.scset[x],M=0;M<b.length;M++){var E=b[M],C=E.input;if(!(C.length>l)){for(y=!0,g=0;g<C.length;g++){var R=e._lctf.getInterval(m.cDef,i[a+1+g]);if(_==-1&&m.cDef[R+2]!=C[g]){y=!1;break}}if(y){var I=E.substLookupRecords;for(h=0;h<I.length;h+=2)I[h],I[h+1]}}}else if(o.ltype==6&&m.fmt==3){if(!e.U._glsCovered(i,m.backCvg,a-m.backCvg.length)||!e.U._glsCovered(i,m.inptCvg,a)||!e.U._glsCovered(i,m.ahedCvg,a+m.inptCvg.length))continue;var O=m.lookupRec;for(M=0;M<O.length;M+=2){_=O[M];var k=s[O[M+1]];e.U._applySubs(i,a+_,k,s)}}}}},e.U._glsCovered=function(i,a,o){for(var s=0;s<a.length;s++)if(e._lctf.coverageIndex(a[s],i[o+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,o){for(var s={cmds:[],crds:[]},l=0,c=0;c<a.length;c++){var d=a[c];if(d!=-1){for(var m=c<a.length-1&&a[c+1]!=-1?a[c+1]:0,f=e.U.glyphToPath(i,d),h=0;h<f.crds.length;h+=2)s.crds.push(f.crds[h]+l),s.crds.push(f.crds[h+1]);for(o&&s.cmds.push(o),h=0;h<f.cmds.length;h++)s.cmds.push(f.cmds[h]);o&&s.cmds.push("X"),l+=i.hmtx.aWidth[d],c<a.length-1&&(l+=e.U.getPairAdjustment(i,d,m))}}return s},e.U.P={},e.U.P.moveTo=function(i,a,o){i.cmds.push("M"),i.crds.push(a,o)},e.U.P.lineTo=function(i,a,o){i.cmds.push("L"),i.crds.push(a,o)},e.U.P.curveTo=function(i,a,o,s,l,c,d){i.cmds.push("C"),i.crds.push(a,o,s,l,c,d)},e.U.P.qcurveTo=function(i,a,o,s,l){i.cmds.push("Q"),i.crds.push(a,o,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,o,s,l){for(var c=a.stack,d=a.nStems,m=a.haveWidth,f=a.width,h=a.open,u=0,v=a.x,y=a.y,p=0,g=0,_=0,x=0,b=0,M=0,E=0,C=0,R=0,I=0,O={val:0,size:0};u<i.length;){e.CFF.getCharString(i,u,O);var k=O.val;if(u+=O.size,k=="o1"||k=="o18")c.length%2!=0&&!m&&(f=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,m=!0;else if(k=="o3"||k=="o23")c.length%2!=0&&!m&&(f=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,m=!0;else if(k=="o4")c.length>1&&!m&&(f=c.shift()+s.nominalWidthX,m=!0),h&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),h=!0;else if(k=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(k=="o6"||k=="o7")for(var G=c.length,N=k=="o6",Z=0;Z<G;Z++){var H=c.shift();N?v+=H:y+=H,N=!N,e.U.P.lineTo(l,v,y)}else if(k=="o8"||k=="o24"){G=c.length;for(var j=0;j+6<=G;)p=v+c.shift(),g=y+c.shift(),_=p+c.shift(),x=g+c.shift(),v=_+c.shift(),y=x+c.shift(),e.U.P.curveTo(l,p,g,_,x,v,y),j+=6;k=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(k=="o11")break;if(k=="o1234"||k=="o1235"||k=="o1236"||k=="o1237")k=="o1234"&&(g=y,_=(p=v+c.shift())+c.shift(),I=x=g+c.shift(),M=x,C=y,v=(E=(b=(R=_+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,p,g,_,x,R,I),e.U.P.curveTo(l,b,M,E,C,v,y)),k=="o1235"&&(p=v+c.shift(),g=y+c.shift(),_=p+c.shift(),x=g+c.shift(),R=_+c.shift(),I=x+c.shift(),b=R+c.shift(),M=I+c.shift(),E=b+c.shift(),C=M+c.shift(),v=E+c.shift(),y=C+c.shift(),c.shift(),e.U.P.curveTo(l,p,g,_,x,R,I),e.U.P.curveTo(l,b,M,E,C,v,y)),k=="o1236"&&(p=v+c.shift(),g=y+c.shift(),_=p+c.shift(),I=x=g+c.shift(),M=x,E=(b=(R=_+c.shift())+c.shift())+c.shift(),C=M+c.shift(),v=E+c.shift(),e.U.P.curveTo(l,p,g,_,x,R,I),e.U.P.curveTo(l,b,M,E,C,v,y)),k=="o1237"&&(p=v+c.shift(),g=y+c.shift(),_=p+c.shift(),x=g+c.shift(),R=_+c.shift(),I=x+c.shift(),b=R+c.shift(),M=I+c.shift(),E=b+c.shift(),C=M+c.shift(),Math.abs(E-v)>Math.abs(C-y)?v=E+c.shift():y=C+c.shift(),e.U.P.curveTo(l,p,g,_,x,R,I),e.U.P.curveTo(l,b,M,E,C,v,y));else if(k=="o14"){if(c.length>0&&!m&&(f=c.shift()+o.nominalWidthX,m=!0),c.length==4){var z=c.shift(),V=c.shift(),J=c.shift(),ne=c.shift(),le=e.CFF.glyphBySE(o,J),ue=e.CFF.glyphBySE(o,ne);e.U._drawCFF(o.CharStrings[le],a,o,s,l),a.x=z,a.y=V,e.U._drawCFF(o.CharStrings[ue],a,o,s,l)}h&&(e.U.P.closePath(l),h=!1)}else if(k=="o19"||k=="o20")c.length%2!=0&&!m&&(f=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,m=!0,u+=d+7>>3;else if(k=="o21")c.length>2&&!m&&(f=c.shift()+s.nominalWidthX,m=!0),y+=c.pop(),v+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),h=!0;else if(k=="o22")c.length>1&&!m&&(f=c.shift()+s.nominalWidthX,m=!0),v+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),h=!0;else if(k=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);p=v+c.shift(),g=y+c.shift(),_=p+c.shift(),x=g+c.shift(),v=_+c.shift(),y=x+c.shift(),e.U.P.curveTo(l,p,g,_,x,v,y)}else if(k=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)p=v,g=y+c.shift(),v=_=p+c.shift(),y=(x=g+c.shift())+c.shift(),e.U.P.curveTo(l,p,g,_,x,v,y);else if(k=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)g=y,_=(p=v+c.shift())+c.shift(),x=g+c.shift(),v=_+c.shift(),y=x,e.U.P.curveTo(l,p,g,_,x,v,y);else if(k=="o10"||k=="o29"){var K=k=="o10"?s:o;if(c.length==0)console.debug("error: empty stack");else{var ae=c.pop(),se=K.Subrs[ae+K.Bias];a.x=v,a.y=y,a.nStems=d,a.haveWidth=m,a.width=f,a.open=h,e.U._drawCFF(se,a,o,s,l),v=a.x,y=a.y,d=a.nStems,m=a.haveWidth,f=a.width,h=a.open}}else if(k=="o30"||k=="o31"){var fe=c.length,he=(j=0,k=="o31");for(j+=fe-(G=-3&fe);j<G;)he?(g=y,_=(p=v+c.shift())+c.shift(),y=(x=g+c.shift())+c.shift(),G-j==5?(v=_+c.shift(),j++):v=_,he=!1):(p=v,g=y+c.shift(),_=p+c.shift(),x=g+c.shift(),v=_+c.shift(),G-j==5?(y=x+c.shift(),j++):y=x,he=!0),e.U.P.curveTo(l,p,g,_,x,v,y),j+=4}else{if((k+"").charAt(0)=="o")throw console.debug("Unknown operation: "+k,i),k;c.push(k)}}}a.x=v,a.y=y,a.nStems=d,a.haveWidth=m,a.width=f,a.open=h};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}function CW(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(k,G){for(var N=new t(31),Z=0;Z<31;++Z)N[Z]=G+=1<<k[Z-1];var H=new r(N[30]);for(Z=1;Z<30;++Z)for(var j=N[Z];j<N[Z+1];++j)H[j]=j-N[Z]<<5|Z;return[N,H]},l=s(i,2),c=l[0],d=l[1];c[28]=258,d[258]=28;for(var m=s(a,0)[0],f=new t(32768),h=0;h<32768;++h){var u=(43690&h)>>>1|(21845&h)<<1;u=(61680&(u=(52428&u)>>>2|(13107&u)<<2))>>>4|(3855&u)<<4,f[h]=((65280&u)>>>8|(255&u)<<8)>>>1}var v=function(k,G,N){for(var Z=k.length,H=0,j=new t(G);H<Z;++H)++j[k[H]-1];var z,V=new t(G);for(H=0;H<G;++H)V[H]=V[H-1]+j[H-1]<<1;if(N){z=new t(1<<G);var J=15-G;for(H=0;H<Z;++H)if(k[H])for(var ne=H<<4|k[H],le=G-k[H],ue=V[k[H]-1]++<<le,K=ue|(1<<le)-1;ue<=K;++ue)z[f[ue]>>>J]=ne}else for(z=new t(Z),H=0;H<Z;++H)k[H]&&(z[H]=f[V[k[H]-1]++]>>>15-k[H]);return z},y=new e(288);for(h=0;h<144;++h)y[h]=8;for(h=144;h<256;++h)y[h]=9;for(h=256;h<280;++h)y[h]=7;for(h=280;h<288;++h)y[h]=8;var p=new e(32);for(h=0;h<32;++h)p[h]=5;var g=v(y,9,1),_=v(p,5,1),x=function(k){for(var G=k[0],N=1;N<k.length;++N)k[N]>G&&(G=k[N]);return G},b=function(k,G,N){var Z=G/8|0;return(k[Z]|k[Z+1]<<8)>>(7&G)&N},M=function(k,G){var N=G/8|0;return(k[N]|k[N+1]<<8|k[N+2]<<16)>>(7&G)},E=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(k,G,N){var Z=new Error(G||E[k]);if(Z.code=k,Error.captureStackTrace&&Error.captureStackTrace(Z,C),!N)throw Z;return Z},R=function(k,G,N){var Z=k.length;if(!Z||N&&!N.l&&Z<5)return G||new e(0);var H=!G||N,j=!N||N.i;N||(N={}),G||(G=new e(3*Z));var z,V=function(et){var ot=G.length;if(et>ot){var X=new e(Math.max(2*ot,et));X.set(G),G=X}},J=N.f||0,ne=N.p||0,le=N.b||0,ue=N.l,K=N.d,ae=N.m,se=N.n,fe=8*Z;do{if(!ue){N.f=J=b(k,ne,1);var he=b(k,ne+1,3);if(ne+=3,!he){var we=k[(W=((z=ne)/8|0)+(7&z&&1)+4)-4]|k[W-3]<<8,xe=W+we;if(xe>Z){j&&C(0);break}H&&V(le+we),G.set(k.subarray(W,xe),le),N.b=le+=we,N.p=ne=8*xe;continue}if(he==1)ue=g,K=_,ae=9,se=5;else if(he==2){var Ie=b(k,ne,31)+257,ge=b(k,ne+10,15)+4,Oe=Ie+b(k,ne+5,31)+1;ne+=14;for(var me=new e(Oe),pe=new e(19),re=0;re<ge;++re)pe[o[re]]=b(k,ne+3*re,7);ne+=3*ge;var ie=x(pe),Y=(1<<ie)-1,ee=v(pe,ie,1);for(re=0;re<Oe;){var W,P=ee[b(k,ne,Y)];if(ne+=15&P,(W=P>>>4)<16)me[re++]=W;else{var D=0,B=0;for(W==16?(B=3+b(k,ne,3),ne+=2,D=me[re-1]):W==17?(B=3+b(k,ne,7),ne+=3):W==18&&(B=11+b(k,ne,127),ne+=7);B--;)me[re++]=D}}var Q=me.subarray(0,Ie),de=me.subarray(Ie);ae=x(Q),se=x(de),ue=v(Q,ae,1),K=v(de,se,1)}else C(1);if(ne>fe){j&&C(0);break}}H&&V(le+131072);for(var Ce=(1<<ae)-1,be=(1<<se)-1,Se=ne;;Se=ne){var ke=(D=ue[M(k,ne)&Ce])>>>4;if((ne+=15&D)>fe){j&&C(0);break}if(D||C(2),ke<256)G[le++]=ke;else{if(ke==256){Se=ne,ue=null;break}var Ye=ke-254;if(ke>264){var Ve=i[re=ke-257];Ye=b(k,ne,(1<<Ve)-1)+c[re],ne+=Ve}var Me=K[M(k,ne)&be],Ge=Me>>>4;if(Me||C(3),ne+=15&Me,de=m[Ge],Ge>3&&(Ve=a[Ge],de+=M(k,ne)&(1<<Ve)-1,ne+=Ve),ne>fe){j&&C(0);break}H&&V(le+131072);for(var We=le+Ye;le<We;le+=4)G[le]=G[le-de],G[le+1]=G[le+1-de],G[le+2]=G[le+2-de],G[le+3]=G[le+3-de];le=We}}N.l=ue,N.p=Se,N.b=le,ue&&(J=1,N.m=ae,N.d=K,N.n=se)}while(!J);return le==G.length?G:function(et,ot,X){(ot==null||ot<0)&&(ot=0),(X==null||X>et.length)&&(X=et.length);var Ae=new(et instanceof t?t:et instanceof r?r:e)(X-ot);return Ae.set(et.subarray(ot,X)),Ae}(G,0,le)},I=new e(0),O=typeof TextDecoder!="undefined"&&new TextDecoder;try{O.decode(I,{stream:!0})}catch{}return n.convert_streams=function(k){var G=new DataView(k),N=0;function Z(){var Ie=G.getUint16(N);return N+=2,Ie}function H(){var Ie=G.getUint32(N);return N+=4,Ie}function j(Ie){we.setUint16(xe,Ie),xe+=2}function z(Ie){we.setUint32(xe,Ie),xe+=4}for(var V={signature:H(),flavor:H(),length:H(),numTables:Z(),reserved:Z(),totalSfntSize:H(),majorVersion:Z(),minorVersion:Z(),metaOffset:H(),metaLength:H(),metaOrigLength:H(),privOffset:H(),privLength:H()},J=0;Math.pow(2,J)<=V.numTables;)J++;J--;for(var ne=16*Math.pow(2,J),le=16*V.numTables-ne,ue=12,K=[],ae=0;ae<V.numTables;ae++)K.push({tag:H(),offset:H(),compLength:H(),origLength:H(),origChecksum:H()}),ue+=16;var se,fe=new Uint8Array(12+16*K.length+K.reduce(function(Ie,ge){return Ie+ge.origLength+4},0)),he=fe.buffer,we=new DataView(he),xe=0;return z(V.flavor),j(V.numTables),j(ne),j(J),j(le),K.forEach(function(Ie){z(Ie.tag),z(Ie.origChecksum),z(ue),z(Ie.origLength),Ie.outOffset=ue,(ue+=Ie.origLength)%4!=0&&(ue+=4-ue%4)}),K.forEach(function(Ie){var ge,Oe=k.slice(Ie.offset,Ie.offset+Ie.compLength);if(Ie.compLength!=Ie.origLength){var me=new Uint8Array(Ie.origLength);ge=new Uint8Array(Oe,2),R(ge,me)}else me=new Uint8Array(Oe);fe.set(me,Ie.outOffset);var pe=0;(ue=Ie.outOffset+Ie.origLength)%4!=0&&(pe=4-ue%4),fe.set(new Uint8Array(pe).buffer,Ie.outOffset+Ie.origLength),se=ue+pe}),he.slice(0,se)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function RW(n,e){let t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,o=4,s=8,l=16,c=32,d;function m(x){if(!d){let b={R:a,L:i,D:o,C:l,U:c,T:s};d=new Map;for(let M in r){let E=0;r[M].split(",").forEach(C=>{let[R,I]=C.split("+");R=parseInt(R,36),I=I?parseInt(I,36):0,d.set(E+=R,b[M]);for(let O=I;O--;)d.set(++E,b[M])})}}return d.get(x)||c}let f=1,h=2,u=3,v=4,y=[null,"isol","init","fina","medi"];function p(x){let b=new Uint8Array(x.length),M=c,E=f,C=-1;for(let R=0;R<x.length;R++){let I=x.codePointAt(R),O=m(I)|0,k=f;O&s||(M&(i|o|l)?O&(a|o|l)?(k=u,(E===f||E===u)&&b[C]++):O&(i|c)&&(E===h||E===v)&&b[C]--:M&(a|c)&&(E===h||E===v)&&b[C]--,E=b[R]=k,M=O,C=R,I>65535&&R++)}return b}function g(x,b){let M=[];for(let C=0;C<b.length;C++){let R=b.codePointAt(C);R>65535&&C++,M.push(n.U.codeToGlyph(x,R))}let E=x.GSUB;if(E){let{lookupList:C,featureList:R}=E,I,O=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,k=[];R.forEach(G=>{if(O.test(G.tag))for(let N=0;N<G.tab.length;N++){if(k[G.tab[N]])continue;k[G.tab[N]]=!0;let Z=C[G.tab[N]],H=/^(isol|init|fina|medi)$/.test(G.tag);H&&!I&&(I=p(b));for(let j=0;j<M.length;j++)(!I||!H||y[I[j]]===G.tag)&&n.U._applySubs(M,j,Z,C)}})}return M}function _(x){let b=Object.create(null),M={unitsPerEm:x.head.unitsPerEm,ascender:x.hhea.ascender,descender:x.hhea.descender,forEachGlyph(E,C,R,I){let O=0,k=1/M.unitsPerEm*C,G=g(x,E),N=0,Z=-1;return G.forEach((H,j)=>{if(H!==-1){let z=b[H];if(!z){let{cmds:V,crds:J}=n.U.glyphToPath(x,H),ne="",le=0;for(let fe=0,he=V.length;fe<he;fe++){let we=t[V[fe]];ne+=V[fe];for(let xe=1;xe<=we;xe++)ne+=(xe>1?",":"")+J[le++]}let ue,K,ae,se;if(J.length){ue=K=1/0,ae=se=-1/0;for(let fe=0,he=J.length;fe<he;fe+=2){let we=J[fe],xe=J[fe+1];we<ue&&(ue=we),xe<K&&(K=xe),we>ae&&(ae=we),xe>se&&(se=xe)}}else ue=ae=K=se=0;z=b[H]={index:H,advanceWidth:x.hmtx.aWidth[H],xMin:ue,yMin:K,xMax:ae,yMax:se,path:ne,pathCommandCount:V.length}}Z!==-1&&(O+=n.U.getPairAdjustment(x,Z,H)*k),I.call(null,z,O,N),z.advanceWidth&&(O+=z.advanceWidth*k),R&&(O+=R*C),Z=H}N+=E.codePointAt(N)>65535?2:1}),O}};return M}return function(b){let M=new Uint8Array(b,0,4),E=n._bin.readASCII(M,0,4);if(E==="wOFF")b=e(b);else if(E==="wOF2")throw new Error("woff2 fonts not supported");return _(n.parse(b)[0])}}var PW=Gc({name:"Typr Font Parser",dependencies:[AW,CW,RW],init(n,e,t){let r=n(),i=e();return t(r,i)}}),Wc={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},LW=new bt,IW=!1;function mp(){return(self.performance||Date).now()}var k5=Object.create(null);function DW(n,e){IW=!0,n=OW({},n);let t=mp();if(n.font=kW(n.font||Wc.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Wc.sdfGlyphSize,n.colorRanges!=null){let l={};for(let c in n.colorRanges)if(n.colorRanges.hasOwnProperty(c)){let d=n.colorRanges[c];typeof d!="number"&&(d=LW.set(d).getHex()),l[c]=d}n.colorRanges=l}Object.freeze(n);let{textureWidth:r,sdfExponent:i}=Wc,{sdfGlyphSize:a}=n,o=`${n.font}@${a}`,s=k5[o];s||(s=k5[o]={count:0,glyphs:new Map,sdfTexture:new bs(new Uint8Array(a*r*4),r,a,zr,void 0,void 0,void 0,void 0,xr,xr)},s.sdfTexture.font=n.font),BW(n).then(l=>{let{glyphIds:c,glyphPositions:d,fontSize:m,unitsPerEm:f,timings:h}=l,u=[],v=new Float32Array(c.length*4),y=m/f,p=0,g=0,_=mp();c.forEach((b,M)=>{let E=s.glyphs.get(b);if(!E){let{path:O,pathBounds:k}=l.glyphData[b],G=Math.max(k[2]-k[0],k[3]-k[1])/a*(Wc.sdfMargin*a+.5),N=s.count++,Z=[k[0]-G,k[1]-G,k[2]+G,k[3]+G];s.glyphs.set(b,E={path:O,atlasIndex:N,sdfViewBox:Z}),u.push(E)}let{sdfViewBox:C}=E,R=d[g++],I=d[g++];v[p++]=R+C[0]*y,v[p++]=I+C[1]*y,v[p++]=R+C[2]*y,v[p++]=I+C[3]*y,c[M]=E.atlasIndex}),h.quads=(h.quads||0)+(mp()-_);let x=mp();h.sdf={},zc.all(u.map(({path:b,atlasIndex:M,sdfViewBox:E})=>{let C=Math.max(E[2]-E[0],E[3]-E[1]);return NW(a,a,b,E,C,Wc.sdfExponent).then(({textureData:R,timing:I})=>(h.sdf[M]=I,{atlasIndex:M,textureData:R,timing:I}))})).then(b=>{b.length&&(b.forEach(({atlasIndex:M,textureData:E,timing:C})=>{let R=s.sdfTexture.image;for(;R.data.length<(M+1)*a*a;){let G=new Uint8Array(R.data.length*2);G.set(R.data),R.data=G,R.height*=2}let I=Math.floor(M/4),O=R.width/a,k=Math.floor(I/O)*R.width*a*4+I%O*a*4+M%4;for(let G=0;G<a;G++){let N=G*a,Z=k+G*R.width*4;for(let H=0;H<a;H++)R.data[Z+H*4]=E[N+H]}}),s.sdfTexture.needsUpdate=!0),h.sdfTotal=mp()-x,h.total=mp()-t,e(Object.freeze({parameters:n,sdfTexture:s.sdfTexture,sdfGlyphSize:a,sdfExponent:i,glyphBounds:v,glyphAtlasIndices:c,glyphColors:l.glyphColors,caretPositions:l.caretPositions,caretHeight:l.caretHeight,chunkedBounds:l.chunkedBounds,ascender:l.ascender,descender:l.descender,lineHeight:l.lineHeight,topBaseline:l.topBaseline,blockBounds:l.blockBounds,visibleBounds:l.visibleBounds,timings:l.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),l.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");let[M,E,C,R]=l.blockBounds;return[C-M,R-E]}}))})})}function OW(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}var Gy;function kW(n){return Gy||(Gy=typeof document=="undefined"?{}:document.createElement("a")),Gy.href=n,Gy.href}var FW=Gc({name:"Typesetter",dependencies:[Wc,PW,MW,P5],init(n,e,t,r){let{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),NW=function(){let n=4,e=2e3,t={},r=0;return function(...i){let a="TroikaTextSDFGenerator_"+r++%n,o=t[a];return o||(o=t[a]={workerModule:Gc({name:a,workerId:a,dependencies:[Wc,TW,EW],init(s,l,c){let{sdfExponent:d,sdfMargin:m}=s;return c(l,{sdfExponent:d,sdfMargin:m})},getTransferables(s){return[s.textureData.buffer]}}),requests:0,idleTimer:null}),o.requests++,clearTimeout(o.idleTimer),o.workerModule(...i).then(s=>(--o.requests==0&&(o.idleTimer=setTimeout(()=>{A5(a)},e)),s))}}(),BW=Gc({name:"Typesetter",dependencies:[FW,R5],init(n,e){return function(t){let r=new e;return n.typeset(t,r.resolve),r}},getTransferables(n){let e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),e}});var UW=(()=>{let n={};function e(l){let c=n[l];return c||(c=n[l]=new ko(1,1,l,l).translate(.5,.5,0)),c}new Le;let t="aTroikaGlyphBounds",r="aTroikaGlyphIndex",i="aTroikaGlyphColor";class a extends rp{constructor(){super();this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Po,this.boundingBox=new Mi}computeBoundingSphere(){}computeBoundingBox(){}set detail(c){if(c!==this._detail){this._detail=c,(typeof c!="number"||c<1)&&(c=1);let d=e(c);["position","normal","uv"].forEach(m=>{this.attributes[m]=d.attributes[m].clone()}),this.setIndex(d.getIndex().clone())}}get detail(){return this._detail}set curveRadius(c){c!==this._curveRadius&&(this._curveRadius=c,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(c,d,m,f,h){o(this,t,c,4),o(this,r,d,1),o(this,i,h,3),this._blockBounds=m,this._chunkedBounds=f,s(this,d.length),this._updateBounds()}_updateBounds(){let c=this._blockBounds;if(c){let{curveRadius:d,boundingBox:m}=this;if(d){let{PI:f,floor:h,min:u,max:v,sin:y,cos:p}=Math,g=f/2,_=f*2,x=Math.abs(d),b=c[0]/x,M=c[2]/x,E=h((b+g)/_)!==h((M+g)/_)?-x:u(y(b)*x,y(M)*x),C=h((b-g)/_)!==h((M-g)/_)?x:v(y(b)*x,y(M)*x),R=h((b+f)/_)!==h((M+f)/_)?x*2:v(x-p(b)*x,x-p(M)*x);m.min.set(E,c[1],d<0?-R:0),m.max.set(C,c[3],d<0?0:R)}else m.min.set(c[0],c[1],0),m.max.set(c[2],c[3],0);m.getBoundingSphere(this.boundingSphere)}}applyClipRect(c){let d=this.getAttribute(r).count,m=this._chunkedBounds;if(m)for(let f=m.length;f--;){d=m[f].end;let h=m[f].rect;if(h[1]<c.w&&h[3]>c.y&&h[0]<c.z&&h[2]>c.x)break}s(this,d)}}a.prototype.setAttribute||(a.prototype.setAttribute=function(l,c){return this.attributes[l]=c,this});function o(l,c,d,m){let f=l.getAttribute(c);d?f&&f.array.length===d.length?(f.array.set(d),f.needsUpdate=!0):(l.setAttribute(c,new Ss(d,m)),delete l._maxInstanceCount,l.dispose()):f&&l.deleteAttribute(c)}function s(l,c){l[l.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=c}return a})(),zW=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,GW=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,HW=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of encoding in SDFGenerator.js
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,WW=`
float aaDist = troikaGetAADist();
float distance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  distance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function VW(n){let e=zy(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ht},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Cn(0,0,0,0)},uTroikaClipRect:{value:new Cn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ht},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new bt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new wr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:zW,vertexTransform:GW,fragmentDefs:HW,fragmentColorTransform:WW,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(FE,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}var F5=(()=>{let n=new eo({color:16777215,side:vs,transparent:!0}),e=8421504,t=new Dt,r=new Le,i=new Le,a=[],o=new Le,s="+x+y";function l(p){return Array.isArray(p)?p[0]:p}let c=()=>{let p=new Jn(new ko(1,1),n);return c=()=>p,p},d=()=>{let p=new Jn(new ko(1,1,32,1),n);return d=()=>p,p},m={type:"syncstart"},f={type:"synccomplete"},h=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],u=h.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class v extends Jn{constructor(){let g=new UW;super(g,null);this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=e,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=s,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(g){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(g):(this._isSyncing=!0,this.dispatchEvent(m),DW({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},_=>{this._isSyncing=!1,this._textRenderInfo=_,this.geometry.updateGlyphs(_.glyphBounds,_.glyphAtlasIndices,_.blockBounds,_.chunkedBounds,_.glyphColors);let x=this._queuedSyncs;x&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{x.forEach(b=>b&&b())})),this.dispatchEvent(f),g&&g()})))}onBeforeRender(g,_,x,b,M,E){this.sync(),M.isTroikaTextMaterial&&this._prepareForRender(M)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let g=this._derivedMaterial,_=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=n.clone());if((!g||g.baseMaterial!==_)&&(g=this._derivedMaterial=VW(_),_.addEventListener("dispose",function x(){_.removeEventListener("dispose",x),g.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let x=g._outlineMtl;return x||(x=g._outlineMtl=Object.create(g,{id:{value:g.id+.1}}),x.isTextOutlineMaterial=!0,x.depthWrite=!1,x.map=null,g.addEventListener("dispose",function b(){g.removeEventListener("dispose",b),x.dispose()})),[x,g]}else return g}set material(g){g&&g.isTroikaTextMaterial?(this._derivedMaterial=g,this._baseMaterial=g.baseMaterial):this._baseMaterial=g}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(g){this.geometry.detail=g}get curveRadius(){return this.geometry.curveRadius}set curveRadius(g){this.geometry.curveRadius=g}get customDepthMaterial(){return l(this.material).getDepthMaterial()}get customDistanceMaterial(){return l(this.material).getDistanceMaterial()}_prepareForRender(g){let _=g.isTextOutlineMaterial,x=g.uniforms,b=this.textRenderInfo;if(b){let{sdfTexture:C,blockBounds:R}=b;x.uTroikaSDFTexture.value=C,x.uTroikaSDFTextureSize.value.set(C.image.width,C.image.height),x.uTroikaSDFGlyphSize.value=b.sdfGlyphSize,x.uTroikaSDFExponent.value=b.sdfExponent,x.uTroikaTotalBounds.value.fromArray(R),x.uTroikaUseGlyphColors.value=!_&&!!b.glyphColors;let I=0,O=0,k=0,G,N,Z,H=0,j=0;if(_){let{outlineWidth:V,outlineOffsetX:J,outlineOffsetY:ne,outlineBlur:le,outlineOpacity:ue}=this;I=this._parsePercent(V)||0,O=Math.max(0,this._parsePercent(le)||0),G=ue,H=this._parsePercent(J)||0,j=this._parsePercent(ne)||0}else k=Math.max(0,this._parsePercent(this.strokeWidth)||0),k&&(Z=this.strokeColor,x.uTroikaStrokeColor.value.set(Z??e),N=this.strokeOpacity,N==null&&(N=1)),G=this.fillOpacity;x.uTroikaDistanceOffset.value=I,x.uTroikaPositionOffset.value.set(H,j),x.uTroikaBlurRadius.value=O,x.uTroikaStrokeWidth.value=k,x.uTroikaStrokeOpacity.value=N,x.uTroikaFillOpacity.value=G??1,x.uTroikaCurveRadius.value=this.curveRadius||0;let z=this.clipRect;if(z&&Array.isArray(z)&&z.length===4)x.uTroikaClipRect.value.fromArray(z);else{let V=(this.fontSize||.1)*100;x.uTroikaClipRect.value.set(R[0]-V,R[1]-V,R[2]+V,R[3]+V)}this.geometry.applyClipRect(x.uTroikaClipRect.value)}x.uTroikaSDFDebug.value=!!this.debugSDF,g.polygonOffset=!!this.depthOffset,g.polygonOffsetFactor=g.polygonOffsetUnits=this.depthOffset||0;let M=_?this.outlineColor||0:this.color;if(M==null)delete g.color;else{let C=g.hasOwnProperty("color")?g.color:g.color=new bt;(M!==C._input||typeof M=="object")&&C.set(C._input=M)}let E=this.orientation||s;if(E!==g._orientation){let C=x.uTroikaOrient.value;E=E.replace(/[^-+xyz]/g,"");let R=E!==s&&E.match(/^([-+])([xyz])([-+])([xyz])$/);if(R){let[,I,O,k,G]=R;r.set(0,0,0)[O]=I==="-"?1:-1,i.set(0,0,0)[G]=k==="-"?-1:1,t.lookAt(o,r.cross(i),i),C.setFromMatrix4(t)}else C.identity();g._orientation=E}}_parsePercent(g){if(typeof g=="string"){let _=g.match(/^(-?[\d.]+)%$/),x=_?parseFloat(_[1]):NaN;g=(isNaN(x)?0:x/100)*this.fontSize}return g}localPositionToTextCoords(g,_=new ht){_.copy(g);let x=this.curveRadius;return x&&(_.x=Math.atan2(g.x,Math.abs(x)-Math.abs(g.z))*Math.abs(x)),_}worldPositionToTextCoords(g,_=new ht){return r.copy(g),this.localPositionToTextCoords(this.worldToLocal(r),_)}raycast(g,_){let{textRenderInfo:x,curveRadius:b}=this;if(x){let M=x.blockBounds,E=b?d():c(),C=E.geometry,{position:R,uv:I}=C.attributes;for(let O=0;O<I.count;O++){let k=M[0]+I.getX(O)*(M[2]-M[0]),G=M[1]+I.getY(O)*(M[3]-M[1]),N=0;b&&(N=b-Math.cos(k/b)*b,k=Math.sin(k/b)*b),R.setXYZ(O,k,G,N)}C.boundingSphere=this.geometry.boundingSphere,C.boundingBox=this.geometry.boundingBox,E.matrixWorld=this.matrixWorld,E.material.side=this.material.side,a.length=0,E.raycast(g,a);for(let O=0;O<a.length;O++)a[O].object=this,_.push(a[O])}}copy(g){let _=this.geometry;return super.copy(g),this.geometry=_,u.forEach(x=>{this[x]=g[x]}),this}clone(){return new this.constructor().copy(this)}}h.forEach(p=>{let g="_private_"+p;Object.defineProperty(v.prototype,p,{get(){return this[g]},set(_){_!==this[g]&&(this[g]=_,this._needsSync=!0)}})});let y=!1;return Object.defineProperty(v.prototype,"anchor",{get(){return this._deprecated_anchor},set(p){this._deprecated_anchor=p,y||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),y=!0),Array.isArray(p)?(this.anchorX=`${(+p[0]||0)*100}%`,this.anchorY=`${(+p[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),v})();var BE=la.forwardRef(({anchorX:n="center",anchorY:e="middle",children:t,onSync:r,...i},a)=>{let o=oo(({invalidate:d})=>d),[s]=la.useState(()=>new F5),[l,c]=la.useMemo(()=>{let d=[],m="";return la.Children.forEach(t,f=>{typeof f=="string"||typeof f=="number"?m+=f:d.push(f)}),[d,m]},[t]);return la.useLayoutEffect(()=>void s.sync(()=>{o(),r&&r(s)})),la.useEffect(()=>()=>s.dispose(),[s]),la.createElement("primitive",Ll({object:s,ref:a,text:c,anchorX:n,anchorY:e},i),l)});var N5=cr(Xr()),UE=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function vg(n){let e=oo(r=>r.gl),t=op(Cc,UE(n)?Object.values(n):n);if((0,N5.useEffect)(()=>{(Array.isArray(t)?t:[t]).forEach(e.initTexture)},[e,t]),UE(n)){let r=Object.keys(n),i={};return r.forEach(a=>Object.assign(i,{[a]:t[r.indexOf(a)]})),i}else return t}vg.preload=n=>op.preload(Cc,n);vg.clear=n=>op.clear(Cc,n);var Dl=cr(Xr());var zE=Dl.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:a,onStart:o,onEnd:s,...l},c)=>{let d=oo(({invalidate:x})=>x),m=oo(({camera:x})=>x),f=oo(({gl:x})=>x),h=oo(({events:x})=>x),u=oo(({set:x})=>x),v=oo(({get:x})=>x),y=oo(({performance:x})=>x),p=e||m,g=r||(typeof h.connected!="boolean"?h.connected:f.domElement),_=Dl.useMemo(()=>new By(p),[p]);return gL(()=>{_.enabled&&_.update()}),Dl.useEffect(()=>{let x=b=>{d(),t&&y.regress(),a&&a(b)};return _.connect(g),_.addEventListener("change",x),o&&_.addEventListener("start",o),s&&_.addEventListener("end",s),()=>{_.removeEventListener("change",x),o&&_.removeEventListener("start",o),s&&_.removeEventListener("end",s),_.dispose()}},[g,a,o,s,t,_,d]),Dl.useEffect(()=>{if(n){let x=v().controls;return u({controls:_}),()=>u({controls:x})}},[n,_]),Dl.createElement("primitive",Ll({ref:c,object:_,enableDamping:i},l))});var _g=cr(Xr());function li(n){let e=n+"BufferGeometry";return _g.forwardRef(({args:t,children:r,...i},a)=>_g.createElement("mesh",Ll({ref:a},i),_g.createElement(e,{attach:"geometry",args:t}),r))}var jW=li("box"),ZW=li("circle"),XW=li("cone"),YW=li("cylinder"),gp=li("sphere"),qW=li("plane"),QW=li("tube"),JW=li("torus"),KW=li("torusKnot"),$W=li("tetrahedron"),eV=li("ring"),tV=li("polyhedron"),nV=li("icosahedron"),rV=li("octahedron"),iV=li("dodecahedron"),aV=li("extrude"),oV=li("lathe");var B5=class{value;next;constructor(e){this.value=e}},Hy=class{#e;#t;#n;constructor(){this.clear()}enqueue(e){let t=new B5(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){let e=this.#e;if(!!e)return this.#e=this.#e.next,this.#n--,e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function GE(n){if(!((Number.isInteger(n)||n===Number.POSITIVE_INFINITY)&&n>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new Hy,t=0,r=()=>{t--,e.size>0&&e.dequeue()()},i=async(s,l,c)=>{t++;let d=(async()=>s(...c))();l(d);try{await d}catch{}r()},a=(s,l,c)=>{e.enqueue(i.bind(void 0,s,l,c)),(async()=>{await Promise.resolve(),t<n&&e.size>0&&e.dequeue()()})()},o=(s,...l)=>new Promise(c=>{a(s,c,l)});return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),o}var j5=cr(U5()),Z5=cr(G5()),VE=cr(W5());var sV=n=>{let e=document.createElement("canvas").getContext("2d");return e.canvas.width=n.getWidth(),e.canvas.height=n.getHeight(),e.putImageData(new ImageData(Uint8ClampedArray.from(n.bitmap.data),n.bitmap.width,n.bitmap.height),0,0),e.canvas},lV=()=>{let[n,e]=(0,Fn.useState)();return(0,Fn.useEffect)(()=>{(()=>Ax(void 0,null,function*(){let r=3,i=256,a=new VE.default(2**r*i,2**r*i,"#000000"),o=[],s=GE(4),l=[];for(let d=0;d<2**r;d++)for(let m=0;m<2**r;m++)l.push(()=>new Promise(f=>{(()=>Ax(void 0,null,function*(){let u=`https://a.sat.owm.io/vane/2.0/weather/CL/${r}/${d}/${m}?appid=9de243494c0b295cca9337e1e96b00e2`,v=yield VE.default.read(u);o.push([v,d,m]),f()}))().catch(console.error)}));yield Promise.all((0,j5.shuffle)(l).map(d=>s(d)));for(let[d,m,f]of o)a.composite(d,m*i,f*i);a.normalize();let c=sV(a);e(new Om(c))}))().catch(console.error)},[]),n};var X5=()=>{let n=Z5.default.getPosition(new Date,180,0);return new Le(Math.cos(n.azimuth),-Math.sin(n.altitude),Math.sin(n.azimuth))},uV=()=>{let[n,e,t,r,i]=vg(["/images/earth/starmap_2020_8k.webp","/images/earth/world.200411.3x21600x10800.webp","/images/earth/earthbump4k.webp","/images/earth/earthspec4k-inverted.webp","/images/earth/VNL_v2_npp_2020_global_vcmslcfg_c202102150000.median_masked.sqrt.full.10k_5k.webp"]),a=lV(),[o,s]=(0,Fn.useState)(X5()),l=y5({to:{cloudsOpacity:a?1:0}});return(0,Fn.useEffect)(()=>{let c=setInterval(()=>s(X5()),1e3);return()=>clearInterval(c)},[]),Fn.default.createElement(Fn.default.Fragment,null,Fn.default.createElement(zE,{autoRotate:!0,autoRotateSpeed:.1,enableDamping:!0,minDistance:1.5,maxDistance:1.9,enablePan:!1,mouseButtons:{LEFT:$a.ROTATE,RIGHT:$a.ROTATE,MIDDLE:$a.ROTATE}}),Fn.default.createElement(gp,{args:[1e3,32,64]},Fn.default.createElement("meshBasicMaterial",{attach:"material",map:n,side:hr})),Fn.default.createElement("ambientLight",{intensity:.01}),Fn.default.createElement("directionalLight",{intensity:5,position:o}),Fn.default.createElement(gp,{name:"earth",args:[1,128,256]},Fn.default.createElement("meshPhysicalMaterial",{attach:"material",roughness:1,map:e,displacementMap:t,displacementScale:.01,roughnessMap:r,emissive:new bt("#ebe6c2"),emissiveMap:i,emissiveIntensity:.5})),Fn.default.createElement(gp,{name:"clouds",args:[1.002,128,256]},Fn.default.createElement(S5.meshStandardMaterial,{transparent:!0,opacity:l.cloudsOpacity,color:"white",attach:"material",displacementMap:t,displacementScale:.01,alphaMap:a!=null?a:new or})),Fn.default.createElement(gp,{name:"atmosphere",args:[1.02,128,256]},Fn.default.createElement("shaderMaterial",{transparent:!0,vertexShader:`
                    varying vec3 vertexNormal;
                    void main() {
                        vertexNormal = normalize(normalMatrix * normal);
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);
                    }
                    `,fragmentShader:`
                    varying vec3 vertexNormal;
                    void main() {
                        float intensity = pow(0.3 - dot(vertexNormal, vec3(0, 0, 1.0)), 1.7);
                        gl_FragColor = vec4(0.3, 0.6, 1.0, 1.0) * intensity;
                    }
                    `,side:vl,blending:$0})))},fV=()=>Fn.default.createElement("div",{style:{position:"absolute",inset:"0",width:"100vw",height:"100vh"}},Fn.default.createElement(pL,{style:{width:"100%",height:"100%"},gl:{physicallyCorrectLights:!0}},Fn.default.createElement(Fn.Suspense,{fallback:Fn.default.createElement(BE,null,"Earth is loading")},Fn.default.createElement(uV,null))),Fn.default.createElement(iE,null));V5.default.render(Fn.default.createElement(Fn.default.StrictMode,null,Fn.default.createElement(fV,null)),document.getElementById("react-app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */
/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/
/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/
/*! https://mths.be/punycode v1.4.1 by @mathias */
/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
