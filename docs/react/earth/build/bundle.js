(()=>{var e8=Object.create;var Qg=Object.defineProperty;var t8=Object.getOwnPropertyDescriptor;var n8=Object.getOwnPropertyNames;var r8=Object.getPrototypeOf,i8=Object.prototype.hasOwnProperty;var a8=n=>Qg(n,"__esModule",{value:!0});var bp=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var Bi=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),s8=(n,e)=>{for(var t in e)Qg(n,t,{get:e[t],enumerable:!0})},o8=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of n8(e))!i8.call(n,i)&&(t||i!=="default")&&Qg(n,i,{get:()=>e[i],enumerable:!(r=t8(e,i))||r.enumerable});return n},hr=(n,e)=>o8(a8(Qg(n!=null?e8(r8(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var dx=(n,e,t)=>new Promise((r,i)=>{var a=c=>{try{o(t.next(c))}catch(g){i(g)}},s=c=>{try{o(t.throw(c))}catch(g){i(g)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,s);o((t=t.apply(n,e)).next())});var Jg=Bi((aW,LM)=>{"use strict";var PM=Object.getOwnPropertySymbols,l8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable;function f8(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function c8(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}LM.exports=c8()?Object.assign:function(n,e){for(var t,r=f8(n),i,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var s in t)l8.call(t,s)&&(r[s]=t[s]);if(PM){i=PM(t);for(var o=0;o<i.length;o++)u8.call(t,i[o])&&(r[i[o]]=t[i[o]])}}return r}});var XM=Bi(bn=>{"use strict";var px=Jg(),jc=60103,IM=60106;bn.Fragment=60107;bn.StrictMode=60108;bn.Profiler=60114;var DM=60109,OM=60110,NM=60112;bn.Suspense=60113;var kM=60115,FM=60116;typeof Symbol=="function"&&Symbol.for&&(wa=Symbol.for,jc=wa("react.element"),IM=wa("react.portal"),bn.Fragment=wa("react.fragment"),bn.StrictMode=wa("react.strict_mode"),bn.Profiler=wa("react.profiler"),DM=wa("react.provider"),OM=wa("react.context"),NM=wa("react.forward_ref"),bn.Suspense=wa("react.suspense"),kM=wa("react.memo"),FM=wa("react.lazy"));var wa,BM=typeof Symbol=="function"&&Symbol.iterator;function h8(n){return n===null||typeof n!="object"?null:(n=BM&&n[BM]||n["@@iterator"],typeof n=="function"?n:null)}function Ep(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UM={};function Zc(n,e,t){this.props=n,this.context=e,this.refs=UM,this.updater=t||zM}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Ep(85));this.updater.enqueueSetState(this,n,e,"setState")};Zc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function HM(){}HM.prototype=Zc.prototype;function mx(n,e,t){this.props=n,this.context=e,this.refs=UM,this.updater=t||zM}var gx=mx.prototype=new HM;gx.constructor=mx;px(gx,Zc.prototype);gx.isPureReactComponent=!0;var vx={current:null},GM=Object.prototype.hasOwnProperty,WM={key:!0,ref:!0,__self:!0,__source:!0};function VM(n,e,t){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)GM.call(e,r)&&!WM.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var c=Array(o),g=0;g<o;g++)c[g]=arguments[g+2];i.children=c}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:jc,type:n,key:a,ref:s,props:i,_owner:vx.current}}function d8(n,e){return{$$typeof:jc,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _x(n){return typeof n=="object"&&n!==null&&n.$$typeof===jc}function p8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var jM=/\/+/g;function yx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?p8(""+n.key):e.toString(36)}function Kg(n,e,t,r,i){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case jc:case IM:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+yx(s,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(jM,"$&/")+"/"),Kg(i,e,t,"",function(g){return g})):i!=null&&(_x(i)&&(i=d8(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jM,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(n))for(var o=0;o<n.length;o++){a=n[o];var c=r+yx(a,o);s+=Kg(a,e,t,c,i)}else if(c=h8(n),typeof c=="function")for(n=c.call(n),o=0;!(a=n.next()).done;)a=a.value,c=r+yx(a,o++),s+=Kg(a,e,t,c,i);else if(a==="object")throw e=""+n,Error(Ep(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return s}function $g(n,e,t){if(n==null)return n;var r=[],i=0;return Kg(n,r,"","",function(a){return e.call(t,a,i++)}),r}function m8(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var ZM={current:null};function Ao(){var n=ZM.current;if(n===null)throw Error(Ep(321));return n}var g8={ReactCurrentDispatcher:ZM,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:vx,IsSomeRendererActing:{current:!1},assign:px};bn.Children={map:$g,forEach:function(n,e,t){$g(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return $g(n,function(){e++}),e},toArray:function(n){return $g(n,function(e){return e})||[]},only:function(n){if(!_x(n))throw Error(Ep(143));return n}};bn.Component=Zc;bn.PureComponent=mx;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g8;bn.cloneElement=function(n,e,t){if(n==null)throw Error(Ep(267,n));var r=px({},n.props),i=n.key,a=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=vx.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(c in e)GM.call(e,c)&&!WM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){o=Array(c);for(var g=0;g<c;g++)o[g]=arguments[g+2];r.children=o}return{$$typeof:jc,type:n.type,key:i,ref:a,props:r,_owner:s}};bn.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:OM,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:DM,_context:n},n.Consumer=n};bn.createElement=VM;bn.createFactory=function(n){var e=VM.bind(null,n);return e.type=n,e};bn.createRef=function(){return{current:null}};bn.forwardRef=function(n){return{$$typeof:NM,render:n}};bn.isValidElement=_x;bn.lazy=function(n){return{$$typeof:FM,_payload:{_status:-1,_result:n},_init:m8}};bn.memo=function(n,e){return{$$typeof:kM,type:n,compare:e===void 0?null:e}};bn.useCallback=function(n,e){return Ao().useCallback(n,e)};bn.useContext=function(n,e){return Ao().useContext(n,e)};bn.useDebugValue=function(){};bn.useEffect=function(n,e){return Ao().useEffect(n,e)};bn.useImperativeHandle=function(n,e,t){return Ao().useImperativeHandle(n,e,t)};bn.useLayoutEffect=function(n,e){return Ao().useLayoutEffect(n,e)};bn.useMemo=function(n,e){return Ao().useMemo(n,e)};bn.useReducer=function(n,e,t){return Ao().useReducer(n,e,t)};bn.useRef=function(n){return Ao().useRef(n)};bn.useState=function(n){return Ao().useState(n)};bn.version="17.0.2"});var jr=Bi((oW,YM)=>{"use strict";YM.exports=XM()});var e3=Bi(In=>{"use strict";var Xc,Sp,ev,xx;typeof performance=="object"&&typeof performance.now=="function"?(qM=performance,In.unstable_now=function(){return qM.now()}):(wx=Date,QM=wx.now(),In.unstable_now=function(){return wx.now()-QM});var qM,wx,QM;typeof window=="undefined"||typeof MessageChannel!="function"?(Yc=null,bx=null,Ex=function(){if(Yc!==null)try{var n=In.unstable_now();Yc(!0,n),Yc=null}catch(e){throw setTimeout(Ex,0),e}},Xc=function(n){Yc!==null?setTimeout(Xc,0,n):(Yc=n,setTimeout(Ex,0))},Sp=function(n,e){bx=setTimeout(n,e)},ev=function(){clearTimeout(bx)},In.unstable_shouldYield=function(){return!1},xx=In.unstable_forceFrameRate=function(){}):(JM=window.setTimeout,KM=window.clearTimeout,typeof console!="undefined"&&($M=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof $M!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Mp=!1,Tp=null,tv=-1,Sx=5,Mx=0,In.unstable_shouldYield=function(){return In.unstable_now()>=Mx},xx=function(){},In.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Sx=0<n?Math.floor(1e3/n):5},Tx=new MessageChannel,nv=Tx.port2,Tx.port1.onmessage=function(){if(Tp!==null){var n=In.unstable_now();Mx=n+Sx;try{Tp(!0,n)?nv.postMessage(null):(Mp=!1,Tp=null)}catch(e){throw nv.postMessage(null),e}}else Mp=!1},Xc=function(n){Tp=n,Mp||(Mp=!0,nv.postMessage(null))},Sp=function(n,e){tv=JM(function(){n(In.unstable_now())},e)},ev=function(){KM(tv),tv=-1});var Yc,bx,Ex,JM,KM,$M,Mp,Tp,tv,Sx,Mx,Tx,nv;function Ax(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<iv(i,e))n[r]=e,n[t]=i,t=r;else break e}}function $a(n){return n=n[0],n===void 0?null:n}function rv(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var a=2*(r+1)-1,s=n[a],o=a+1,c=n[o];if(s!==void 0&&0>iv(s,t))c!==void 0&&0>iv(c,s)?(n[r]=c,n[o]=t,r=o):(n[r]=s,n[a]=t,r=a);else if(c!==void 0&&0>iv(c,t))n[r]=c,n[o]=t,r=o;else break e}}return e}return null}function iv(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var Ls=[],yl=[],v8=1,ba=null,fi=3,av=!1,ef=!1,Ap=!1;function Cx(n){for(var e=$a(yl);e!==null;){if(e.callback===null)rv(yl);else if(e.startTime<=n)rv(yl),e.sortIndex=e.expirationTime,Ax(Ls,e);else break;e=$a(yl)}}function Rx(n){if(Ap=!1,Cx(n),!ef)if($a(Ls)!==null)ef=!0,Xc(Px);else{var e=$a(yl);e!==null&&Sp(Rx,e.startTime-n)}}function Px(n,e){ef=!1,Ap&&(Ap=!1,ev()),av=!0;var t=fi;try{for(Cx(e),ba=$a(Ls);ba!==null&&(!(ba.expirationTime>e)||n&&!In.unstable_shouldYield());){var r=ba.callback;if(typeof r=="function"){ba.callback=null,fi=ba.priorityLevel;var i=r(ba.expirationTime<=e);e=In.unstable_now(),typeof i=="function"?ba.callback=i:ba===$a(Ls)&&rv(Ls),Cx(e)}else rv(Ls);ba=$a(Ls)}if(ba!==null)var a=!0;else{var s=$a(yl);s!==null&&Sp(Rx,s.startTime-e),a=!1}return a}finally{ba=null,fi=t,av=!1}}var _8=xx;In.unstable_IdlePriority=5;In.unstable_ImmediatePriority=1;In.unstable_LowPriority=4;In.unstable_NormalPriority=3;In.unstable_Profiling=null;In.unstable_UserBlockingPriority=2;In.unstable_cancelCallback=function(n){n.callback=null};In.unstable_continueExecution=function(){ef||av||(ef=!0,Xc(Px))};In.unstable_getCurrentPriorityLevel=function(){return fi};In.unstable_getFirstCallbackNode=function(){return $a(Ls)};In.unstable_next=function(n){switch(fi){case 1:case 2:case 3:var e=3;break;default:e=fi}var t=fi;fi=e;try{return n()}finally{fi=t}};In.unstable_pauseExecution=function(){};In.unstable_requestPaint=_8;In.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=fi;fi=n;try{return e()}finally{fi=t}};In.unstable_scheduleCallback=function(n,e,t){var r=In.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:v8++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,Ax(yl,n),$a(Ls)===null&&n===$a(yl)&&(Ap?ev():Ap=!0,Sp(Rx,t-r))):(n.sortIndex=i,Ax(Ls,n),ef||av||(ef=!0,Xc(Px))),n};In.unstable_wrapCallback=function(n){var e=fi;return function(){var t=fi;fi=e;try{return n.apply(this,arguments)}finally{fi=t}}}});var sv=Bi((uW,t3)=>{"use strict";t3.exports=e3()});var HA=Bi(Ca=>{"use strict";var ov=jr(),$n=Jg(),zr=sv();function vt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ov)throw Error(vt(227));var n3=new Set,Cp={};function tf(n,e){qc(n,e),qc(n+"Capture",e)}function qc(n,e){for(Cp[n]=e,n=0;n<e.length;n++)n3.add(e[n])}var Co=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),y8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r3=Object.prototype.hasOwnProperty,i3={},a3={};function x8(n){return r3.call(a3,n)?!0:r3.call(i3,n)?!1:y8.test(n)?a3[n]=!0:(i3[n]=!0,!1)}function w8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b8(n,e,t,r){if(e===null||typeof e=="undefined"||w8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bi(n,e,t,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zr[n]=new bi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zr[e]=new bi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zr[n]=new bi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zr[n]=new bi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zr[n]=new bi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zr[n]=new bi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zr[n]=new bi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zr[n]=new bi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zr[n]=new bi(n,5,!1,n.toLowerCase(),null,!1,!1)});var Lx=/[\-:]([a-z])/g;function Ix(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Lx,Ix);Zr[e]=new bi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Lx,Ix);Zr[e]=new bi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Lx,Ix);Zr[e]=new bi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zr[n]=new bi(n,1,!1,n.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zr[n]=new bi(n,1,!1,n.toLowerCase(),null,!0,!0)});function Dx(n,e,t,r){var i=Zr.hasOwnProperty(e)?Zr[e]:null,a=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(b8(e,t,i,r)&&(t=null),r||i===null?x8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var nf=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=60103,rf=60106,xl=60107,Ox=60108,Pp=60114,Nx=60109,kx=60110,lv=60112,Lp=60113,uv=60120,fv=60115,Fx=60116,Bx=60121,zx=60128,s3=60129,Ux=60130,Hx=60131;typeof Symbol=="function"&&Symbol.for&&(Lr=Symbol.for,Rp=Lr("react.element"),rf=Lr("react.portal"),xl=Lr("react.fragment"),Ox=Lr("react.strict_mode"),Pp=Lr("react.profiler"),Nx=Lr("react.provider"),kx=Lr("react.context"),lv=Lr("react.forward_ref"),Lp=Lr("react.suspense"),uv=Lr("react.suspense_list"),fv=Lr("react.memo"),Fx=Lr("react.lazy"),Bx=Lr("react.block"),Lr("react.scope"),zx=Lr("react.opaque.id"),s3=Lr("react.debug_trace_mode"),Ux=Lr("react.offscreen"),Hx=Lr("react.legacy_hidden"));var Lr,o3=typeof Symbol=="function"&&Symbol.iterator;function Ip(n){return n===null||typeof n!="object"?null:(n=o3&&n[o3]||n["@@iterator"],typeof n=="function"?n:null)}var Gx;function Dp(n){if(Gx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Gx=e&&e[1]||""}return`
`+Gx+n}var Wx=!1;function cv(n,e){if(!n||Wx)return"";Wx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=o);break}}}finally{Wx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Dp(n):""}function E8(n){switch(n.tag){case 5:return Dp(n.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return n=cv(n.type,!1),n;case 11:return n=cv(n.type.render,!1),n;case 22:return n=cv(n.type._render,!1),n;case 1:return n=cv(n.type,!0),n;default:return""}}function Qc(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xl:return"Fragment";case rf:return"Portal";case Pp:return"Profiler";case Ox:return"StrictMode";case Lp:return"Suspense";case uv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kx:return(n.displayName||"Context")+".Consumer";case Nx:return(n._context.displayName||"Context")+".Provider";case lv:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case fv:return Qc(n.type);case Bx:return Qc(n._render);case Fx:e=n._payload,n=n._init;try{return Qc(n(e))}catch{}}return null}function wl(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function l3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S8(n){var e=l3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,a=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hv(n){n._valueTracker||(n._valueTracker=S8(n))}function u3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=l3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function dv(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Vx(n,e){var t=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function f3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=wl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c3(n,e){e=e.checked,e!=null&&Dx(n,"checked",e,!1)}function jx(n,e){c3(n,e);var t=wl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zx(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zx(n,e.type,wl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function h3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zx(n,e,t){(e!=="number"||dv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function M8(n){var e="";return ov.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function Xx(n,e){return n=$n({children:void 0},e),(e=M8(e.children))&&(n.children=e),n}function Jc(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+wl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Yx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(vt(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function d3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(vt(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(vt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:wl(t)}}function p3(n,e){var t=wl(e.value),r=wl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function m3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var qx={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function g3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?g3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pv,v3=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==qx.svg||"innerHTML"in n)n.innerHTML=e;else{for(pv=pv||document.createElement("div"),pv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Op(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Np={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T8=["Webkit","ms","Moz","O"];Object.keys(Np).forEach(function(n){T8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Np[e]=Np[n]})});function _3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Np.hasOwnProperty(n)&&Np[n]?(""+e).trim():e+"px"}function y3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=_3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var A8=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jx(n,e){if(e){if(A8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(vt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(vt(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(vt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(vt(62))}}function Kx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function $x(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ew=null,Kc=null,$c=null;function x3(n){if(n=$p(n)){if(typeof ew!="function")throw Error(vt(280));var e=n.stateNode;e&&(e=Nv(e),ew(n.stateNode,n.type,e))}}function w3(n){Kc?$c?$c.push(n):$c=[n]:Kc=n}function b3(){if(Kc){var n=Kc,e=$c;if($c=Kc=null,x3(n),e)for(n=0;n<e.length;n++)x3(e[n])}}function tw(n,e){return n(e)}function E3(n,e,t,r,i){return n(e,t,r,i)}function nw(){}var S3=tw,af=!1,rw=!1;function iw(){(Kc!==null||$c!==null)&&(nw(),b3())}function C8(n,e,t){if(rw)return n(e,t);rw=!0;try{return S3(n,e,t)}finally{rw=!1,iw()}}function kp(n,e){var t=n.stateNode;if(t===null)return null;var r=Nv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(vt(231,e,typeof t));return t}var aw=!1;if(Co)try{eh={},Object.defineProperty(eh,"passive",{get:function(){aw=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{aw=!1}var eh;function R8(n,e,t,r,i,a,s,o,c){var g=Array.prototype.slice.call(arguments,3);try{e.apply(t,g)}catch(p){this.onError(p)}}var Fp=!1,mv=null,gv=!1,sw=null,P8={onError:function(n){Fp=!0,mv=n}};function L8(n,e,t,r,i,a,s,o,c){Fp=!1,mv=null,R8.apply(P8,arguments)}function I8(n,e,t,r,i,a,s,o,c){if(L8.apply(this,arguments),Fp){if(Fp){var g=mv;Fp=!1,mv=null}else throw Error(vt(198));gv||(gv=!0,sw=g)}}function sf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function M3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function T3(n){if(sf(n)!==n)throw Error(vt(188))}function D8(n){var e=n.alternate;if(!e){if(e=sf(n),e===null)throw Error(vt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return T3(i),n;if(a===r)return T3(i),e;a=a.sibling}throw Error(vt(188))}if(t.return!==r.return)t=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===t){s=!0,t=i,r=a;break}if(o===r){s=!0,r=i,t=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===t){s=!0,t=a,r=i;break}if(o===r){s=!0,r=a,t=i;break}o=o.sibling}if(!s)throw Error(vt(189))}}if(t.alternate!==r)throw Error(vt(190))}if(t.tag!==3)throw Error(vt(188));return t.stateNode.current===t?n:e}function A3(n){if(n=D8(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function C3(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var R3,ow,P3,L3,lw=!1,Is=[],bl=null,El=null,Sl=null,Bp=new Map,zp=new Map,Up=[],I3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function D3(n,e){switch(n){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(e.pointerId)}}function Hp(n,e,t,r,i,a){return n===null||n.nativeEvent!==a?(n=uw(e,t,r,i,a),e!==null&&(e=$p(e),e!==null&&ow(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function O8(n,e,t,r,i){switch(e){case"focusin":return bl=Hp(bl,n,e,t,r,i),!0;case"dragenter":return El=Hp(El,n,e,t,r,i),!0;case"mouseover":return Sl=Hp(Sl,n,e,t,r,i),!0;case"pointerover":var a=i.pointerId;return Bp.set(a,Hp(Bp.get(a)||null,n,e,t,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zp.set(a,Hp(zp.get(a)||null,n,e,t,r,i)),!0}return!1}function N8(n){var e=of(n.target);if(e!==null){var t=sf(e);if(t!==null){if(e=t.tag,e===13){if(e=M3(t),e!==null){n.blockedOn=e,L3(n.lanePriority,function(){zr.unstable_runWithPriority(n.priority,function(){P3(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=mw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=$p(t),e!==null&&ow(e),n.blockedOn=t,!1;e.shift()}return!0}function O3(n,e,t){vv(n)&&t.delete(e)}function k8(){for(lw=!1;0<Is.length;){var n=Is[0];if(n.blockedOn!==null){n=$p(n.blockedOn),n!==null&&R3(n);break}for(var e=n.targetContainers;0<e.length;){var t=mw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&Is.shift()}bl!==null&&vv(bl)&&(bl=null),El!==null&&vv(El)&&(El=null),Sl!==null&&vv(Sl)&&(Sl=null),Bp.forEach(O3),zp.forEach(O3)}function Gp(n,e){n.blockedOn===e&&(n.blockedOn=null,lw||(lw=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,k8)))}function N3(n){function e(i){return Gp(i,n)}if(0<Is.length){Gp(Is[0],n);for(var t=1;t<Is.length;t++){var r=Is[t];r.blockedOn===n&&(r.blockedOn=null)}}for(bl!==null&&Gp(bl,n),El!==null&&Gp(El,n),Sl!==null&&Gp(Sl,n),Bp.forEach(e),zp.forEach(e),t=0;t<Up.length;t++)r=Up[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Up.length&&(t=Up[0],t.blockedOn===null);)N8(t),t.blockedOn===null&&Up.shift()}function _v(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var th={animationend:_v("Animation","AnimationEnd"),animationiteration:_v("Animation","AnimationIteration"),animationstart:_v("Animation","AnimationStart"),transitionend:_v("Transition","TransitionEnd")},fw={},k3={};Co&&(k3=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function yv(n){if(fw[n])return fw[n];if(!th[n])return n;var e=th[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in k3)return fw[n]=e[t];return n}var F3=yv("animationend"),B3=yv("animationiteration"),z3=yv("animationstart"),U3=yv("transitionend"),H3=new Map,cw=new Map,F8=["abort","abort",F3,"animationEnd",B3,"animationIteration",z3,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",U3,"transitionEnd","waiting","waiting"];function hw(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),cw.set(r,e),H3.set(r,i),tf(i,[r])}}var B8=zr.unstable_now;B8();var Vn=8;function nh(n){if((1&n)!=0)return Vn=15,1;if((2&n)!=0)return Vn=14,2;if((4&n)!=0)return Vn=13,4;var e=24&n;return e!==0?(Vn=12,e):(n&32)!=0?(Vn=11,32):(e=192&n,e!==0?(Vn=10,e):(n&256)!=0?(Vn=9,256):(e=3584&n,e!==0?(Vn=8,e):(n&4096)!=0?(Vn=7,4096):(e=4186112&n,e!==0?(Vn=6,e):(e=62914560&n,e!==0?(Vn=5,e):n&67108864?(Vn=4,67108864):(n&134217728)!=0?(Vn=3,134217728):(e=805306368&n,e!==0?(Vn=2,e):(1073741824&n)!=0?(Vn=1,1073741824):(Vn=8,n))))))}function z8(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function U8(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(vt(358,n))}}function Wp(n,e){var t=n.pendingLanes;if(t===0)return Vn=0;var r=0,i=0,a=n.expiredLanes,s=n.suspendedLanes,o=n.pingedLanes;if(a!==0)r=a,i=Vn=15;else if(a=t&134217727,a!==0){var c=a&~s;c!==0?(r=nh(c),i=Vn):(o&=a,o!==0&&(r=nh(o),i=Vn))}else a=t&~s,a!==0?(r=nh(a),i=Vn):o!==0&&(r=nh(o),i=Vn);if(r===0)return 0;if(r=31-Ml(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&s)==0){if(nh(e),i<=Vn)return e;Vn=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ml(e),i=1<<t,r|=n[t],e&=~i;return r}function G3(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xv(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=rh(24&~e),n===0?xv(10,e):n;case 10:return n=rh(192&~e),n===0?xv(8,e):n;case 8:return n=rh(3584&~e),n===0&&(n=rh(4186112&~e),n===0&&(n=512)),n;case 2:return e=rh(805306368&~e),e===0&&(e=268435456),e}throw Error(vt(358,n))}function rh(n){return n&-n}function dw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wv(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-Ml(e),n[e]=t}var Ml=Math.clz32?Math.clz32:W8,H8=Math.log,G8=Math.LN2;function W8(n){return n===0?32:31-(H8(n)/G8|0)|0}var V8=zr.unstable_UserBlockingPriority,j8=zr.unstable_runWithPriority,bv=!0;function Z8(n,e,t,r){af||nw();var i=pw,a=af;af=!0;try{E3(i,n,e,t,r)}finally{(af=a)||iw()}}function X8(n,e,t,r){j8(V8,pw.bind(null,n,e,t,r))}function pw(n,e,t,r){if(bv){var i;if((i=(e&4)==0)&&0<Is.length&&-1<I3.indexOf(n))n=uw(null,n,e,t,r),Is.push(n);else{var a=mw(n,e,t,r);if(a===null)i&&D3(n,r);else{if(i){if(-1<I3.indexOf(n)){n=uw(a,n,e,t,r),Is.push(n);return}if(O8(a,n,e,t,r))return;D3(n,r)}gT(n,e,r,null,t)}}}}function mw(n,e,t,r){var i=$x(r);if(i=of(i),i!==null){var a=sf(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=M3(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return gT(n,e,r,i,t),null}var Tl=null,gw=null,Ev=null;function W3(){if(Ev)return Ev;var n,e=gw,t=e.length,r,i="value"in Tl?Tl.value:Tl.textContent,a=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[a-r];r++);return Ev=i.slice(n,1<r?1-r:void 0)}function Sv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Mv(){return!0}function V3(){return!1}function Ki(n){function e(t,r,i,a,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mv:V3,this.isPropagationStopped=V3,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Mv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Mv)},persist:function(){},isPersistent:Mv}),e}var ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vw=Ki(ih),Vp=$n({},ih,{view:0,detail:0}),Y8=Ki(Vp),_w,yw,jp,Tv=$n({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jp&&(jp&&n.type==="mousemove"?(_w=n.screenX-jp.screenX,yw=n.screenY-jp.screenY):yw=_w=0,jp=n),_w)},movementY:function(n){return"movementY"in n?n.movementY:yw}}),j3=Ki(Tv),q8=$n({},Tv,{dataTransfer:0}),Q8=Ki(q8),J8=$n({},Vp,{relatedTarget:0}),xw=Ki(J8),K8=$n({},ih,{animationName:0,elapsedTime:0,pseudoElement:0}),$8=Ki(K8),eN=$n({},ih,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tN=Ki(eN),nN=$n({},ih,{data:0}),Z3=Ki(nN),rN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aN[n])?!!e[n]:!1}function ww(){return sN}var oN=$n({},Vp,{key:function(n){if(n.key){var e=rN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Sv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(n){return n.type==="keypress"?Sv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lN=Ki(oN),uN=$n({},Tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X3=Ki(uN),fN=$n({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),cN=Ki(fN),hN=$n({},ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),dN=Ki(hN),pN=$n({},Tv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=Ki(pN),gN=[9,13,27,32],bw=Co&&"CompositionEvent"in window,Zp=null;Co&&"documentMode"in document&&(Zp=document.documentMode);var vN=Co&&"TextEvent"in window&&!Zp,Y3=Co&&(!bw||Zp&&8<Zp&&11>=Zp),q3=String.fromCharCode(32),Q3=!1;function J3(n,e){switch(n){case"keyup":return gN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ah=!1;function _N(n,e){switch(n){case"compositionend":return K3(e);case"keypress":return e.which!==32?null:(Q3=!0,q3);case"textInput":return n=e.data,n===q3&&Q3?null:n;default:return null}}function yN(n,e){if(ah)return n==="compositionend"||!bw&&J3(n,e)?(n=W3(),Ev=gw=Tl=null,ah=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y3&&e.locale!=="ko"?null:e.data;default:return null}}var xN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!xN[n.type]:e==="textarea"}function eT(n,e,t,r){w3(r),e=Lv(e,"onChange"),0<e.length&&(t=new vw("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Xp=null,Yp=null;function wN(n){cT(n,0)}function Av(n){var e=fh(n);if(u3(e))return n}function bN(n,e){if(n==="change")return e}var tT=!1;Co&&(Co?(Rv="oninput"in document,Rv||(Ew=document.createElement("div"),Ew.setAttribute("oninput","return;"),Rv=typeof Ew.oninput=="function"),Cv=Rv):Cv=!1,tT=Cv&&(!document.documentMode||9<document.documentMode));var Cv,Rv,Ew;function nT(){Xp&&(Xp.detachEvent("onpropertychange",rT),Yp=Xp=null)}function rT(n){if(n.propertyName==="value"&&Av(Yp)){var e=[];if(eT(e,Yp,n,$x(n)),n=wN,af)n(e);else{af=!0;try{tw(n,e)}finally{af=!1,iw()}}}}function EN(n,e,t){n==="focusin"?(nT(),Xp=e,Yp=t,Xp.attachEvent("onpropertychange",rT)):n==="focusout"&&nT()}function SN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Av(Yp)}function MN(n,e){if(n==="click")return Av(e)}function TN(n,e){if(n==="input"||n==="change")return Av(e)}function AN(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Ea=typeof Object.is=="function"?Object.is:AN,CN=Object.prototype.hasOwnProperty;function qp(n,e){if(Ea(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!CN.call(e,t[r])||!Ea(n[t[r]],e[t[r]]))return!1;return!0}function iT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function aT(n,e){var t=iT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=iT(t)}}function sT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oT(){for(var n=window,e=dv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dv(n.document)}return e}function Sw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var RN=Co&&"documentMode"in document&&11>=document.documentMode,sh=null,Mw=null,Qp=null,Tw=!1;function lT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Tw||sh==null||sh!==dv(r)||(r=sh,"selectionStart"in r&&Sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qp&&qp(Qp,r)||(Qp=r,r=Lv(Mw,"onSelect"),0<r.length&&(e=new vw("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=sh)))}hw("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);hw("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);hw(F8,2);for(Aw="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Pv=0;Pv<Aw.length;Pv++)cw.set(Aw[Pv],0);var Aw,Pv;qc("onMouseEnter",["mouseout","mouseover"]);qc("onMouseLeave",["mouseout","mouseover"]);qc("onPointerEnter",["pointerout","pointerover"]);qc("onPointerLeave",["pointerout","pointerover"]);tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jp));function fT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,I8(r,e,void 0,n),n.currentTarget=null}function cT(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,g=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;fT(i,o,g),a=c}else for(s=0;s<r.length;s++){if(o=r[s],c=o.instance,g=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;fT(i,o,g),a=c}}}if(gv)throw n=sw,gv=!1,sw=null,n}function Qn(n,e){var t=bT(e),r=n+"__bubble";t.has(r)||(mT(e,n,2,!1),t.add(r))}var hT="_reactListening"+Math.random().toString(36).slice(2);function dT(n){n[hT]||(n[hT]=!0,n3.forEach(function(e){uT.has(e)||pT(e,!1,n,null),pT(e,!0,n,null)}))}function pT(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=t;if(n==="selectionchange"&&t.nodeType!==9&&(a=t.ownerDocument),r!==null&&!e&&uT.has(n)){if(n!=="scroll")return;i|=2,a=r}var s=bT(a),o=n+"__"+(e?"capture":"bubble");s.has(o)||(e&&(i|=4),mT(a,n,i,e),s.add(o))}function mT(n,e,t,r){var i=cw.get(e);switch(i===void 0?2:i){case 0:i=Z8;break;case 1:i=X8;break;default:i=pw}t=i.bind(null,e,t,n),i=void 0,!aw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function gT(n,e,t,r,i){var a=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=of(o),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}o=o.parentNode}}r=r.return}C8(function(){var g=a,p=$x(t),d=[];e:{var u=H3.get(n);if(u!==void 0){var f=vw,l=n;switch(n){case"keypress":if(Sv(t)===0)break e;case"keydown":case"keyup":f=lN;break;case"focusin":l="focus",f=xw;break;case"focusout":l="blur",f=xw;break;case"beforeblur":case"afterblur":f=xw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=j3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Q8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cN;break;case F3:case B3:case z3:f=$8;break;case U3:f=dN;break;case"scroll":f=Y8;break;case"wheel":f=mN;break;case"copy":case"cut":case"paste":f=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X3}var v=(e&4)!=0,y=!v&&n==="scroll",h=v?u!==null?u+"Capture":null:u;v=[];for(var m=g,_;m!==null;){_=m;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,h!==null&&(w=kp(m,h),w!=null&&v.push(Kp(m,w,_)))),y)break;m=m.return}0<v.length&&(u=new f(u,l,null,t,p),d.push({event:u,listeners:v}))}}if((e&7)==0){e:{if(u=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",u&&(e&16)==0&&(l=t.relatedTarget||t.fromElement)&&(of(l)||l[uh]))break e;if((f||u)&&(u=p.window===p?p:(u=p.ownerDocument)?u.defaultView||u.parentWindow:window,f?(l=t.relatedTarget||t.toElement,f=g,l=l?of(l):null,l!==null&&(y=sf(l),l!==y||l.tag!==5&&l.tag!==6)&&(l=null)):(f=null,l=g),f!==l)){if(v=j3,w="onMouseLeave",h="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(v=X3,w="onPointerLeave",h="onPointerEnter",m="pointer"),y=f==null?u:fh(f),_=l==null?u:fh(l),u=new v(w,m+"leave",f,t,p),u.target=y,u.relatedTarget=_,w=null,of(p)===g&&(v=new v(h,m+"enter",l,t,p),v.target=_,v.relatedTarget=y,w=v),y=w,f&&l)t:{for(v=f,h=l,m=0,_=v;_;_=oh(_))m++;for(_=0,w=h;w;w=oh(w))_++;for(;0<m-_;)v=oh(v),m--;for(;0<_-m;)h=oh(h),_--;for(;m--;){if(v===h||h!==null&&v===h.alternate)break t;v=oh(v),h=oh(h)}v=null}else v=null;f!==null&&vT(d,u,f,v,!1),l!==null&&y!==null&&vT(d,y,l,v,!0)}}e:{if(u=g?fh(g):window,f=u.nodeName&&u.nodeName.toLowerCase(),f==="select"||f==="input"&&u.type==="file")var E=bN;else if($3(u))if(tT)E=TN;else{E=SN;var T=EN}else(f=u.nodeName)&&f.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(E=MN);if(E&&(E=E(n,g))){eT(d,E,t,p);break e}T&&T(n,u,g),n==="focusout"&&(T=u._wrapperState)&&T.controlled&&u.type==="number"&&Zx(u,"number",u.value)}switch(T=g?fh(g):window,n){case"focusin":($3(T)||T.contentEditable==="true")&&(sh=T,Mw=g,Qp=null);break;case"focusout":Qp=Mw=sh=null;break;case"mousedown":Tw=!0;break;case"contextmenu":case"mouseup":case"dragend":Tw=!1,lT(d,t,p);break;case"selectionchange":if(RN)break;case"keydown":case"keyup":lT(d,t,p)}var A;if(bw)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ah?J3(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(Y3&&t.locale!=="ko"&&(ah||C!=="onCompositionStart"?C==="onCompositionEnd"&&ah&&(A=W3()):(Tl=p,gw="value"in Tl?Tl.value:Tl.textContent,ah=!0)),T=Lv(g,C),0<T.length&&(C=new Z3(C,n,null,t,p),d.push({event:C,listeners:T}),A?C.data=A:(A=K3(t),A!==null&&(C.data=A)))),(A=vN?_N(n,t):yN(n,t))&&(g=Lv(g,"onBeforeInput"),0<g.length&&(p=new Z3("onBeforeInput","beforeinput",null,t,p),d.push({event:p,listeners:g}),p.data=A))}cT(d,e)})}function Kp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Lv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=kp(n,t),a!=null&&r.unshift(Kp(n,a,i)),a=kp(n,e),a!=null&&r.push(Kp(n,a,i))),n=n.return}return r}function oh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function vT(n,e,t,r,i){for(var a=e._reactName,s=[];t!==null&&t!==r;){var o=t,c=o.alternate,g=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&g!==null&&(o=g,i?(c=kp(t,a),c!=null&&s.unshift(Kp(t,c,o))):i||(c=kp(t,a),c!=null&&s.push(Kp(t,c,o)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}function Iv(){}var Cw=null,Rw=null;function _T(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Pw(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yT=typeof setTimeout=="function"?setTimeout:void 0,PN=typeof clearTimeout=="function"?clearTimeout:void 0;function Lw(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function lh(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function xT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Iw=0;function LN(n){return{$$typeof:zx,toString:n,valueOf:n}}var Dv=Math.random().toString(36).slice(2),Al="__reactFiber$"+Dv,Ov="__reactProps$"+Dv,uh="__reactContainer$"+Dv,wT="__reactEvents$"+Dv;function of(n){var e=n[Al];if(e)return e;for(var t=n.parentNode;t;){if(e=t[uh]||t[Al]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=xT(n);n!==null;){if(t=n[Al])return t;n=xT(n)}return e}n=t,t=n.parentNode}return null}function $p(n){return n=n[Al]||n[uh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(vt(33))}function Nv(n){return n[Ov]||null}function bT(n){var e=n[wT];return e===void 0&&(e=n[wT]=new Set),e}var Dw=[],ch=-1;function Cl(n){return{current:n}}function Jn(n){0>ch||(n.current=Dw[ch],Dw[ch]=null,ch--)}function dr(n,e){ch++,Dw[ch]=n.current,n.current=e}var Rl={},ci=Cl(Rl),zi=Cl(!1),lf=Rl;function hh(n,e){var t=n.type.contextTypes;if(!t)return Rl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in t)i[a]=e[a];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ui(n){return n=n.childContextTypes,n!=null}function kv(){Jn(zi),Jn(ci)}function ET(n,e,t){if(ci.current!==Rl)throw Error(vt(168));dr(ci,e),dr(zi,t)}function ST(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(vt(108,Qc(e)||"Unknown",i));return $n({},t,r)}function Fv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Rl,lf=ci.current,dr(ci,n),dr(zi,zi.current),!0}function MT(n,e,t){var r=n.stateNode;if(!r)throw Error(vt(169));t?(n=ST(n,e,lf),r.__reactInternalMemoizedMergedChildContext=n,Jn(zi),Jn(ci),dr(ci,n)):Jn(zi),dr(zi,t)}var Ow=null,uf=null,IN=zr.unstable_runWithPriority,Nw=zr.unstable_scheduleCallback,kw=zr.unstable_cancelCallback,DN=zr.unstable_shouldYield,TT=zr.unstable_requestPaint,Fw=zr.unstable_now,ON=zr.unstable_getCurrentPriorityLevel,Bv=zr.unstable_ImmediatePriority,AT=zr.unstable_UserBlockingPriority,CT=zr.unstable_NormalPriority,RT=zr.unstable_LowPriority,PT=zr.unstable_IdlePriority,Bw={},NN=TT!==void 0?TT:function(){},Ro=null,zv=null,zw=!1,LT=Fw(),hi=1e4>LT?Fw:function(){return Fw()-LT};function dh(){switch(ON()){case Bv:return 99;case AT:return 98;case CT:return 97;case RT:return 96;case PT:return 95;default:throw Error(vt(332))}}function IT(n){switch(n){case 99:return Bv;case 98:return AT;case 97:return CT;case 96:return RT;case 95:return PT;default:throw Error(vt(332))}}function ff(n,e){return n=IT(n),IN(n,e)}function e0(n,e,t){return n=IT(n),Nw(n,e,t)}function Ds(){if(zv!==null){var n=zv;zv=null,kw(n)}DT()}function DT(){if(!zw&&Ro!==null){zw=!0;var n=0;try{var e=Ro;ff(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Ro=null}catch(t){throw Ro!==null&&(Ro=Ro.slice(n+1)),Nw(Bv,Ds),t}finally{zw=!1}}}var kN=nf.ReactCurrentBatchConfig;function es(n,e){if(n&&n.defaultProps){e=$n({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Uv=Cl(null),Hv=null,ph=null,Gv=null;function Uw(){Gv=ph=Hv=null}function Hw(n){var e=Uv.current;Jn(Uv),n.type._context._currentValue=e}function OT(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function mh(n,e){Hv=n,Gv=ph=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(ts=!0),n.firstContext=null)}function Sa(n,e){if(Gv!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Gv=n,e=1073741823),e={context:n,observedBits:e,next:null},ph===null){if(Hv===null)throw Error(vt(308));ph=e,Hv.dependencies={lanes:0,firstContext:e,responders:null}}else ph=ph.next=e;return n._currentValue}var Pl=!1;function Gw(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function NT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ll(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Il(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function kT(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?i=a=s:a=a.next=s,t=t.next}while(t!==null);a===null?i=a=e:a=a.next=e}else i=a=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function t0(n,e,t,r){var i=n.updateQueue;Pl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,g=c.next;c.next=null,s===null?a=g:s.next=g,s=c;var p=n.alternate;if(p!==null){p=p.updateQueue;var d=p.lastBaseUpdate;d!==s&&(d===null?p.firstBaseUpdate=g:d.next=g,p.lastBaseUpdate=c)}}if(a!==null){d=i.baseState,s=0,p=g=c=null;do{o=a.lane;var u=a.eventTime;if((r&o)===o){p!==null&&(p=p.next={eventTime:u,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=n,l=a;switch(o=e,u=t,l.tag){case 1:if(f=l.payload,typeof f=="function"){d=f.call(u,d,o);break e}d=f;break e;case 3:f.flags=f.flags&-4097|64;case 0:if(f=l.payload,o=typeof f=="function"?f.call(u,d,o):f,o==null)break e;d=$n({},d,o);break e;case 2:Pl=!0}}a.callback!==null&&(n.flags|=32,o=i.effects,o===null?i.effects=[a]:o.push(a))}else u={eventTime:u,lane:o,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(g=p=u,c=d):p=p.next=u,s|=o;if(a=a.next,a===null){if(o=i.shared.pending,o===null)break;a=o.next,o.next=null,i.lastBaseUpdate=o,i.shared.pending=null}}while(1);p===null&&(c=d),i.baseState=c,i.firstBaseUpdate=g,i.lastBaseUpdate=p,d0|=s,n.lanes=s,n.memoizedState=d}}function FT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(vt(191,i));i.call(r)}}}var BT=new ov.Component().refs;function Wv(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:$n({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Vv={isMounted:function(n){return(n=n._reactInternals)?sf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=$i(),i=Nl(n),a=Ll(r,i);a.payload=e,t!=null&&(a.callback=t),Il(n,a),kl(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=$i(),i=Nl(n),a=Ll(r,i);a.tag=1,a.payload=e,t!=null&&(a.callback=t),Il(n,a),kl(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=$i(),r=Nl(n),i=Ll(t,r);i.tag=2,e!=null&&(i.callback=e),Il(n,i),kl(n,r,t)}};function zT(n,e,t,r,i,a,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!qp(t,r)||!qp(i,a):!0}function UT(n,e,t){var r=!1,i=Rl,a=e.contextType;return typeof a=="object"&&a!==null?a=Sa(a):(i=Ui(e)?lf:ci.current,r=e.contextTypes,a=(r=r!=null)?hh(n,i):Rl),e=new e(t,a),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=a),e}function HT(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Vv.enqueueReplaceState(e,e.state,null)}function Ww(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=BT,Gw(n);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Sa(a):(a=Ui(e)?lf:ci.current,i.context=hh(n,a)),t0(n,t,i,r),i.state=n.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Wv(n,e,a,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vv.enqueueReplaceState(i,i.state,null),t0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var jv=Array.isArray;function n0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(vt(309));var r=t.stateNode}if(!r)throw Error(vt(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var s=r.refs;s===BT&&(s=r.refs={}),a===null?delete s[i]:s[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(vt(284));if(!t._owner)throw Error(vt(290,n))}return n}function Zv(n,e){if(n.type!=="textarea")throw Error(vt(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function GT(n){function e(y,h){if(n){var m=y.lastEffect;m!==null?(m.nextEffect=h,y.lastEffect=h):y.firstEffect=y.lastEffect=h,h.nextEffect=null,h.flags=8}}function t(y,h){if(!n)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function r(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function i(y,h){return y=zl(y,h),y.index=0,y.sibling=null,y}function a(y,h,m){return y.index=m,n?(m=y.alternate,m!==null?(m=m.index,m<h?(y.flags=2,h):m):(y.flags=2,h)):h}function s(y){return n&&y.alternate===null&&(y.flags=2),y}function o(y,h,m,_){return h===null||h.tag!==6?(h=Mb(m,y.mode,_),h.return=y,h):(h=i(h,m),h.return=y,h)}function c(y,h,m,_){return h!==null&&h.elementType===m.type?(_=i(h,m.props),_.ref=n0(y,h,m),_.return=y,_):(_=f1(m.type,m.key,m.props,null,y.mode,_),_.ref=n0(y,h,m),_.return=y,_)}function g(y,h,m,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Tb(m,y.mode,_),h.return=y,h):(h=i(h,m.children||[]),h.return=y,h)}function p(y,h,m,_,w){return h===null||h.tag!==7?(h=Eh(m,y.mode,_,w),h.return=y,h):(h=i(h,m),h.return=y,h)}function d(y,h,m){if(typeof h=="string"||typeof h=="number")return h=Mb(""+h,y.mode,m),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Rp:return m=f1(h.type,h.key,h.props,null,y.mode,m),m.ref=n0(y,null,h),m.return=y,m;case rf:return h=Tb(h,y.mode,m),h.return=y,h}if(jv(h)||Ip(h))return h=Eh(h,y.mode,m,null),h.return=y,h;Zv(y,h)}return null}function u(y,h,m,_){var w=h!==null?h.key:null;if(typeof m=="string"||typeof m=="number")return w!==null?null:o(y,h,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rp:return m.key===w?m.type===xl?p(y,h,m.props.children,_,w):c(y,h,m,_):null;case rf:return m.key===w?g(y,h,m,_):null}if(jv(m)||Ip(m))return w!==null?null:p(y,h,m,_,null);Zv(y,m)}return null}function f(y,h,m,_,w){if(typeof _=="string"||typeof _=="number")return y=y.get(m)||null,o(h,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rp:return y=y.get(_.key===null?m:_.key)||null,_.type===xl?p(h,y,_.props.children,w,_.key):c(h,y,_,w);case rf:return y=y.get(_.key===null?m:_.key)||null,g(h,y,_,w)}if(jv(_)||Ip(_))return y=y.get(m)||null,p(h,y,_,w,null);Zv(h,_)}return null}function l(y,h,m,_){for(var w=null,E=null,T=h,A=h=0,C=null;T!==null&&A<m.length;A++){T.index>A?(C=T,T=null):C=T.sibling;var R=u(y,T,m[A],_);if(R===null){T===null&&(T=C);break}n&&T&&R.alternate===null&&e(y,T),h=a(R,h,A),E===null?w=R:E.sibling=R,E=R,T=C}if(A===m.length)return t(y,T),w;if(T===null){for(;A<m.length;A++)T=d(y,m[A],_),T!==null&&(h=a(T,h,A),E===null?w=T:E.sibling=T,E=T);return w}for(T=r(y,T);A<m.length;A++)C=f(T,y,A,m[A],_),C!==null&&(n&&C.alternate!==null&&T.delete(C.key===null?A:C.key),h=a(C,h,A),E===null?w=C:E.sibling=C,E=C);return n&&T.forEach(function(D){return e(y,D)}),w}function v(y,h,m,_){var w=Ip(m);if(typeof w!="function")throw Error(vt(150));if(m=w.call(m),m==null)throw Error(vt(151));for(var E=w=null,T=h,A=h=0,C=null,R=m.next();T!==null&&!R.done;A++,R=m.next()){T.index>A?(C=T,T=null):C=T.sibling;var D=u(y,T,R.value,_);if(D===null){T===null&&(T=C);break}n&&T&&D.alternate===null&&e(y,T),h=a(D,h,A),E===null?w=D:E.sibling=D,E=D,T=C}if(R.done)return t(y,T),w;if(T===null){for(;!R.done;A++,R=m.next())R=d(y,R.value,_),R!==null&&(h=a(R,h,A),E===null?w=R:E.sibling=R,E=R);return w}for(T=r(y,T);!R.done;A++,R=m.next())R=f(T,y,A,R.value,_),R!==null&&(n&&R.alternate!==null&&T.delete(R.key===null?A:R.key),h=a(R,h,A),E===null?w=R:E.sibling=R,E=R);return n&&T.forEach(function(O){return e(y,O)}),w}return function(y,h,m,_){var w=typeof m=="object"&&m!==null&&m.type===xl&&m.key===null;w&&(m=m.props.children);var E=typeof m=="object"&&m!==null;if(E)switch(m.$$typeof){case Rp:e:{for(E=m.key,w=h;w!==null;){if(w.key===E){switch(w.tag){case 7:if(m.type===xl){t(y,w.sibling),h=i(w,m.props.children),h.return=y,y=h;break e}break;default:if(w.elementType===m.type){t(y,w.sibling),h=i(w,m.props),h.ref=n0(y,w,m),h.return=y,y=h;break e}}t(y,w);break}else e(y,w);w=w.sibling}m.type===xl?(h=Eh(m.props.children,y.mode,_,m.key),h.return=y,y=h):(_=f1(m.type,m.key,m.props,null,y.mode,_),_.ref=n0(y,h,m),_.return=y,y=_)}return s(y);case rf:e:{for(w=m.key;h!==null;){if(h.key===w)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){t(y,h.sibling),h=i(h,m.children||[]),h.return=y,y=h;break e}else{t(y,h);break}else e(y,h);h=h.sibling}h=Tb(m,y.mode,_),h.return=y,y=h}return s(y)}if(typeof m=="string"||typeof m=="number")return m=""+m,h!==null&&h.tag===6?(t(y,h.sibling),h=i(h,m),h.return=y,y=h):(t(y,h),h=Mb(m,y.mode,_),h.return=y,y=h),s(y);if(jv(m))return l(y,h,m,_);if(Ip(m))return v(y,h,m,_);if(E&&Zv(y,m),typeof m=="undefined"&&!w)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(vt(152,Qc(y.type)||"Component"))}return t(y,h)}}var Xv=GT(!0),WT=GT(!1),r0={},Os=Cl(r0),i0=Cl(r0),a0=Cl(r0);function cf(n){if(n===r0)throw Error(vt(174));return n}function Vw(n,e){switch(dr(a0,e),dr(i0,n),dr(Os,r0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Qx(e,n)}Jn(Os),dr(Os,e)}function gh(){Jn(Os),Jn(i0),Jn(a0)}function VT(n){cf(a0.current);var e=cf(Os.current),t=Qx(e,n.type);e!==t&&(dr(i0,n),dr(Os,t))}function jw(n){i0.current===n&&(Jn(Os),Jn(i0))}var pr=Cl(0);function Yv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Po=null,Dl=null,Ns=!1;function jT(n,e){var t=Aa(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function ZT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Zw(n){if(Ns){var e=Dl;if(e){var t=e;if(!ZT(n,e)){if(e=lh(t.nextSibling),!e||!ZT(n,e)){n.flags=n.flags&-1025|2,Ns=!1,Po=n;return}jT(Po,t)}Po=n,Dl=lh(e.firstChild)}else n.flags=n.flags&-1025|2,Ns=!1,Po=n}}function XT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Po=n}function qv(n){if(n!==Po)return!1;if(!Ns)return XT(n),Ns=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!Pw(e,n.memoizedProps))for(e=Dl;e;)jT(n,e),e=lh(e.nextSibling);if(XT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(vt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Dl=lh(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Dl=null}}else Dl=Po?lh(n.stateNode.nextSibling):null;return!0}function Xw(){Dl=Po=null,Ns=!1}var vh=[];function Yw(){for(var n=0;n<vh.length;n++)vh[n]._workInProgressVersionPrimary=null;vh.length=0}var s0=nf.ReactCurrentDispatcher,Ma=nf.ReactCurrentBatchConfig,o0=0,xr=null,di=null,Xr=null,Qv=!1,l0=!1;function Hi(){throw Error(vt(321))}function qw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ea(n[t],e[t]))return!1;return!0}function Qw(n,e,t,r,i,a){if(o0=a,xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,s0.current=n===null||n.memoizedState===null?BN:zN,n=t(r,i),l0){a=0;do{if(l0=!1,!(25>a))throw Error(vt(301));a+=1,Xr=di=null,e.updateQueue=null,s0.current=UN,n=t(r,i)}while(l0)}if(s0.current=e1,e=di!==null&&di.next!==null,o0=0,Xr=di=xr=null,Qv=!1,e)throw Error(vt(300));return n}function hf(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?xr.memoizedState=Xr=n:Xr=Xr.next=n,Xr}function df(){if(di===null){var n=xr.alternate;n=n!==null?n.memoizedState:null}else n=di.next;var e=Xr===null?xr.memoizedState:Xr.next;if(e!==null)Xr=e,di=n;else{if(n===null)throw Error(vt(310));di=n,n={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Xr===null?xr.memoizedState=Xr=n:Xr=Xr.next=n}return Xr}function ks(n,e){return typeof e=="function"?e(n):e}function u0(n){var e=df(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=n;var r=di,i=r.baseQueue,a=t.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var o=s=a=null,c=i;do{var g=c.lane;if((o0&g)===g)o!==null&&(o=o.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===n?c.eagerState:n(r,c.action);else{var p={lane:g,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};o===null?(s=o=p,a=r):o=o.next=p,xr.lanes|=g,d0|=g}c=c.next}while(c!==null&&c!==i);o===null?a=r:o.next=s,Ea(r,e.memoizedState)||(ts=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=o,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function f0(n){var e=df(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,a=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do a=n(a,s.action),s=s.next;while(s!==i);Ea(a,e.memoizedState)||(ts=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,r]}function YT(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(o0&n)===n)&&(e._workInProgressVersionPrimary=r,vh.push(e))),n)return t(e._source);throw vh.push(e),Error(vt(350))}function qT(n,e,t,r){var i=Ei;if(i===null)throw Error(vt(349));var a=e._getVersion,s=a(e._source),o=s0.current,c=o.useState(function(){return YT(i,e,t)}),g=c[1],p=c[0];c=Xr;var d=n.memoizedState,u=d.refs,f=u.getSnapshot,l=d.source;d=d.subscribe;var v=xr;return n.memoizedState={refs:u,source:e,subscribe:r},o.useEffect(function(){u.getSnapshot=t,u.setSnapshot=g;var y=a(e._source);if(!Ea(s,y)){y=t(e._source),Ea(p,y)||(g(y),y=Nl(v),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var h=i.entanglements,m=y;0<m;){var _=31-Ml(m),w=1<<_;h[_]|=y,m&=~w}}},[t,e,r]),o.useEffect(function(){return r(e._source,function(){var y=u.getSnapshot,h=u.setSnapshot;try{h(y(e._source));var m=Nl(v);i.mutableReadLanes|=m&i.pendingLanes}catch(_){h(function(){throw _})}})},[e,r]),Ea(f,t)&&Ea(l,e)&&Ea(d,r)||(n={pending:null,dispatch:null,lastRenderedReducer:ks,lastRenderedState:p},n.dispatch=g=eb.bind(null,xr,n),c.queue=n,c.baseQueue=null,p=YT(i,e,t),c.memoizedState=c.baseState=p),p}function QT(n,e,t){var r=df();return qT(r,n,e,t)}function c0(n){var e=hf();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},n=n.dispatch=eb.bind(null,xr,n),[e.memoizedState,n]}function Jv(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=xr.updateQueue,e===null?(e={lastEffect:null},xr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function JT(n){var e=hf();return n={current:n},e.memoizedState=n}function Kv(){return df().memoizedState}function Jw(n,e,t,r){var i=hf();xr.flags|=n,i.memoizedState=Jv(1|e,t,void 0,r===void 0?null:r)}function Kw(n,e,t,r){var i=df();r=r===void 0?null:r;var a=void 0;if(di!==null){var s=di.memoizedState;if(a=s.destroy,r!==null&&qw(r,s.deps)){Jv(e,t,a,r);return}}xr.flags|=n,i.memoizedState=Jv(1|e,t,a,r)}function KT(n,e){return Jw(516,4,n,e)}function $v(n,e){return Kw(516,4,n,e)}function $T(n,e){return Kw(4,2,n,e)}function eA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function tA(n,e,t){return t=t!=null?t.concat([n]):null,Kw(4,2,eA.bind(null,e,n),t)}function $w(){}function nA(n,e){var t=df();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&qw(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function rA(n,e){var t=df();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&qw(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function FN(n,e){var t=dh();ff(98>t?98:t,function(){n(!0)}),ff(97<t?97:t,function(){var r=Ma.transition;Ma.transition=1;try{n(!1),e()}finally{Ma.transition=r}})}function eb(n,e,t){var r=$i(),i=Nl(n),a={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a,s=n.alternate,n===xr||s!==null&&s===xr)l0=Qv=!0;else{if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,t);if(a.eagerReducer=s,a.eagerState=c,Ea(c,o))return}catch{}finally{}kl(n,i,r)}}var e1={readContext:Sa,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useOpaqueIdentifier:Hi,unstable_isNewReconciler:!1},BN={readContext:Sa,useCallback:function(n,e){return hf().memoizedState=[n,e===void 0?null:e],n},useContext:Sa,useEffect:KT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Jw(4,2,eA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Jw(4,2,n,e)},useMemo:function(n,e){var t=hf();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=hf();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=eb.bind(null,xr,n),[r.memoizedState,n]},useRef:JT,useState:c0,useDebugValue:$w,useDeferredValue:function(n){var e=c0(n),t=e[0],r=e[1];return KT(function(){var i=Ma.transition;Ma.transition=1;try{r(n)}finally{Ma.transition=i}},[n]),t},useTransition:function(){var n=c0(!1),e=n[0];return n=FN.bind(null,n[1]),JT(n),[n,e]},useMutableSource:function(n,e,t){var r=hf();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},qT(r,n,e,t)},useOpaqueIdentifier:function(){if(Ns){var n=!1,e=LN(function(){throw n||(n=!0,t("r:"+(Iw++).toString(36))),Error(vt(355))}),t=c0(e)[1];return(xr.mode&2)==0&&(xr.flags|=516,Jv(5,function(){t("r:"+(Iw++).toString(36))},void 0,null)),e}return e="r:"+(Iw++).toString(36),c0(e),e},unstable_isNewReconciler:!1},zN={readContext:Sa,useCallback:nA,useContext:Sa,useEffect:$v,useImperativeHandle:tA,useLayoutEffect:$T,useMemo:rA,useReducer:u0,useRef:Kv,useState:function(){return u0(ks)},useDebugValue:$w,useDeferredValue:function(n){var e=u0(ks),t=e[0],r=e[1];return $v(function(){var i=Ma.transition;Ma.transition=1;try{r(n)}finally{Ma.transition=i}},[n]),t},useTransition:function(){var n=u0(ks)[0];return[Kv().current,n]},useMutableSource:QT,useOpaqueIdentifier:function(){return u0(ks)[0]},unstable_isNewReconciler:!1},UN={readContext:Sa,useCallback:nA,useContext:Sa,useEffect:$v,useImperativeHandle:tA,useLayoutEffect:$T,useMemo:rA,useReducer:f0,useRef:Kv,useState:function(){return f0(ks)},useDebugValue:$w,useDeferredValue:function(n){var e=f0(ks),t=e[0],r=e[1];return $v(function(){var i=Ma.transition;Ma.transition=1;try{r(n)}finally{Ma.transition=i}},[n]),t},useTransition:function(){var n=f0(ks)[0];return[Kv().current,n]},useMutableSource:QT,useOpaqueIdentifier:function(){return f0(ks)[0]},unstable_isNewReconciler:!1},HN=nf.ReactCurrentOwner,ts=!1;function Gi(n,e,t,r){e.child=n===null?WT(e,null,t,r):Xv(e,n.child,t,r)}function iA(n,e,t,r,i){t=t.render;var a=e.ref;return mh(e,i),r=Qw(n,e,t,r,a,i),n!==null&&!ts?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Lo(n,e,i)):(e.flags|=1,Gi(n,e,r,i),e.child)}function aA(n,e,t,r,i,a){if(n===null){var s=t.type;return typeof s=="function"&&!Eb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,sA(n,e,s,r,i,a)):(n=f1(t.type,null,r,e,e.mode,a),n.ref=e.ref,n.return=e,e.child=n)}return s=n.child,(i&a)==0&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:qp,t(i,r)&&n.ref===e.ref)?Lo(n,e,a):(e.flags|=1,n=zl(s,r),n.ref=e.ref,n.return=e,e.child=n)}function sA(n,e,t,r,i,a){if(n!==null&&qp(n.memoizedProps,r)&&n.ref===e.ref)if(ts=!1,(a&i)!=0)(n.flags&16384)!=0&&(ts=!0);else return e.lanes=n.lanes,Lo(n,e,a);return nb(n,e,t,r,a)}function tb(n,e,t){var r=e.pendingProps,i=r.children,a=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},u1(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},u1(e,a!==null?a.baseLanes:t);else return n=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},u1(e,n),null;else a!==null?(r=a.baseLanes|t,e.memoizedState=null):r=t,u1(e,r);return Gi(n,e,i,t),e.child}function oA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function nb(n,e,t,r,i){var a=Ui(t)?lf:ci.current;return a=hh(e,a),mh(e,i),t=Qw(n,e,t,r,a,i),n!==null&&!ts?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Lo(n,e,i)):(e.flags|=1,Gi(n,e,t,i),e.child)}function lA(n,e,t,r,i){if(Ui(t)){var a=!0;Fv(e)}else a=!1;if(mh(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),UT(e,t,r),Ww(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,g=t.contextType;typeof g=="object"&&g!==null?g=Sa(g):(g=Ui(t)?lf:ci.current,g=hh(e,g));var p=t.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||c!==g)&&HT(e,s,r,g),Pl=!1;var u=e.memoizedState;s.state=u,t0(e,r,s,i),c=e.memoizedState,o!==r||u!==c||zi.current||Pl?(typeof p=="function"&&(Wv(e,t,p,r),c=e.memoizedState),(o=Pl||zT(e,t,o,r,u,c,g))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=g,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{s=e.stateNode,NT(n,e),o=e.memoizedProps,g=e.type===e.elementType?o:es(e.type,o),s.props=g,d=e.pendingProps,u=s.context,c=t.contextType,typeof c=="object"&&c!==null?c=Sa(c):(c=Ui(t)?lf:ci.current,c=hh(e,c));var f=t.getDerivedStateFromProps;(p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||u!==c)&&HT(e,s,r,c),Pl=!1,u=e.memoizedState,s.state=u,t0(e,r,s,i);var l=e.memoizedState;o!==d||u!==l||zi.current||Pl?(typeof f=="function"&&(Wv(e,t,f,r),l=e.memoizedState),(g=Pl||zT(e,t,g,r,u,l,c))?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,l,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,l,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||o===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&u===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=g):(typeof s.componentDidUpdate!="function"||o===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&u===n.memoizedState||(e.flags|=256),r=!1)}return rb(n,e,t,r,a,i)}function rb(n,e,t,r,i,a){oA(n,e);var s=(e.flags&64)!=0;if(!r&&!s)return i&&MT(e,t,!1),Lo(n,e,a);r=e.stateNode,HN.current=e;var o=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Xv(e,n.child,null,a),e.child=Xv(e,null,o,a)):Gi(n,e,o,a),e.memoizedState=r.state,i&&MT(e,t,!0),e.child}function uA(n){var e=n.stateNode;e.pendingContext?ET(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ET(n,e.context,!1),Vw(n,e.containerInfo)}var t1={dehydrated:null,retryLane:0};function fA(n,e,t){var r=e.pendingProps,i=pr.current,a=!1,s;return(s=(e.flags&64)!=0)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!=0),s?(a=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),dr(pr,i&1),n===null?(r.fallback!==void 0&&Zw(e),n=r.children,i=r.fallback,a?(n=cA(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=t1,n):typeof r.unstable_expectedLoadTime=="number"?(n=cA(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=t1,e.lanes=33554432,n):(t=Sb({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?a?(r=dA(n,e,r.children,r.fallback,t),a=e.child,i=n.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=n.childLanes&~t,e.memoizedState=t1,r):(t=hA(n,e,r.children,t),e.memoizedState=null,t):a?(r=dA(n,e,r.children,r.fallback,t),a=e.child,i=n.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=n.childLanes&~t,e.memoizedState=t1,r):(t=hA(n,e,r.children,t),e.memoizedState=null,t)}function cA(n,e,t,r){var i=n.mode,a=n.child;return e={mode:"hidden",children:e},(i&2)==0&&a!==null?(a.childLanes=0,a.pendingProps=e):a=Sb(e,i,0,null),t=Eh(t,i,r,null),a.return=n,t.return=n,a.sibling=t,n.child=a,t}function hA(n,e,t,r){var i=n.child;return n=i.sibling,t=zl(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function dA(n,e,t,r,i){var a=e.mode,s=n.child;n=s.sibling;var o={mode:"hidden",children:t};return(a&2)==0&&e.child!==s?(t=e.child,t.childLanes=0,t.pendingProps=o,s=t.lastEffect,s!==null?(e.firstEffect=t.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):t=zl(s,o),n!==null?r=zl(n,r):(r=Eh(r,a,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function pA(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),OT(n.return,e)}function ib(n,e,t,r,i,a){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i,s.lastEffect=a)}function mA(n,e,t){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Gi(n,e,r.children,t),r=pr.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pA(n,t);else if(n.tag===19)pA(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(dr(pr,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Yv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ib(e,!1,i,t,a,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Yv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ib(e,!0,t,null,a,e.lastEffect);break;case"together":ib(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Lo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),d0|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(vt(153));if(e.child!==null){for(n=e.child,t=zl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var gA,ab,vA,_A;gA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ab=function(){};vA=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,cf(Os.current);var a=null;switch(t){case"input":i=Vx(n,i),r=Vx(n,r),a=[];break;case"option":i=Xx(n,i),r=Xx(n,r),a=[];break;case"select":i=$n({},i,{value:void 0}),r=$n({},r,{value:void 0}),a=[];break;case"textarea":i=Yx(n,i),r=Yx(n,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Iv)}Jx(t,r);var s;t=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var o=i[g];for(s in o)o.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Cp.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var c=r[g];if(o=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&c!==o&&(c!=null||o!=null))if(g==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(a||(a=[]),a.push(g,t)),t=c;else g==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(g,c)):g==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(g,""+c):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Cp.hasOwnProperty(g)?(c!=null&&g==="onScroll"&&Qn("scroll",n),a||o===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===zx?c.toString():(a=a||[]).push(g,c))}t&&(a=a||[]).push("style",t);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};_A=function(n,e,t,r){t!==r&&(e.flags|=4)};function h0(n,e){if(!Ns)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function GN(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ui(e.type)&&kv(),null;case 3:return gh(),Jn(zi),Jn(ci),Yw(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(qv(e)?e.flags|=4:r.hydrate||(e.flags|=256)),ab(e),null;case 5:jw(e);var i=cf(a0.current);if(t=e.type,n!==null&&e.stateNode!=null)vA(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(vt(166));return null}if(n=cf(Os.current),qv(e)){r=e.stateNode,t=e.type;var a=e.memoizedProps;switch(r[Al]=e,r[Ov]=a,t){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(n=0;n<Jp.length;n++)Qn(Jp[n],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":f3(r,a),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qn("invalid",r);break;case"textarea":d3(r,a),Qn("invalid",r)}Jx(t,a),n=null;for(var s in a)a.hasOwnProperty(s)&&(i=a[s],s==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):Cp.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Qn("scroll",r));switch(t){case"input":hv(r),h3(r,a,!0);break;case"textarea":hv(r),m3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Iv)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,n===qx.html&&(n=g3(t)),n===qx.html?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[Al]=e,n[Ov]=r,gA(n,e,!1,!1),e.stateNode=n,s=Kx(t,r),t){case"dialog":Qn("cancel",n),Qn("close",n),i=r;break;case"iframe":case"object":case"embed":Qn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Jp.length;i++)Qn(Jp[i],n);i=r;break;case"source":Qn("error",n),i=r;break;case"img":case"image":case"link":Qn("error",n),Qn("load",n),i=r;break;case"details":Qn("toggle",n),i=r;break;case"input":f3(n,r),i=Vx(n,r),Qn("invalid",n);break;case"option":i=Xx(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=$n({},r,{value:void 0}),Qn("invalid",n);break;case"textarea":d3(n,r),i=Yx(n,r),Qn("invalid",n);break;default:i=r}Jx(t,i);var o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?y3(n,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v3(n,c)):a==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Op(n,c):typeof c=="number"&&Op(n,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Qn("scroll",n):c!=null&&Dx(n,a,c,s))}switch(t){case"input":hv(n),h3(n,r,!1);break;case"textarea":hv(n),m3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+wl(r.value));break;case"select":n.multiple=!!r.multiple,a=r.value,a!=null?Jc(n,!!r.multiple,a,!1):r.defaultValue!=null&&Jc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Iv)}_T(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)_A(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(vt(166));t=cf(a0.current),cf(Os.current),qv(e)?(r=e.stateNode,t=e.memoizedProps,r[Al]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Al]=e,e.stateNode=r)}return null;case 13:return Jn(pr),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&qv(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(pr.current&1)!=0?Yr===0&&(Yr=3):((Yr===0||Yr===3)&&(Yr=4),Ei===null||(d0&134217727)==0&&(yh&134217727)==0||wh(Ei,pi))),(r||t)&&(e.flags|=4),null);case 4:return gh(),ab(e),n===null&&dT(e.stateNode.containerInfo),null;case 10:return Hw(e),null;case 17:return Ui(e.type)&&kv(),null;case 19:if(Jn(pr),r=e.memoizedState,r===null)return null;if(a=(e.flags&64)!=0,s=r.rendering,s===null)if(a)h0(r,!1);else{if(Yr!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(s=Yv(n),s!==null){for(e.flags|=64,h0(r,!1),a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)a=t,n=r,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,s===null?(a.childLanes=0,a.lanes=n,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,n=s.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return dr(pr,pr.current&1|2),e.child}n=n.sibling}r.tail!==null&&hi()>gb&&(e.flags|=64,a=!0,h0(r,!1),e.lanes=33554432)}else{if(!a)if(n=Yv(s),n!==null){if(e.flags|=64,a=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),h0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ns)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*hi()-r.renderingStartTime>gb&&t!==1073741824&&(e.flags|=64,a=!0,h0(r,!1),e.lanes=33554432);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=hi(),t.sibling=null,e=pr.current,dr(pr,a?e&1|2:e&1),t):null;case 23:case 24:return bb(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(vt(156,e.tag))}function WN(n){switch(n.tag){case 1:Ui(n.type)&&kv();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(gh(),Jn(zi),Jn(ci),Yw(),e=n.flags,(e&64)!=0)throw Error(vt(285));return n.flags=e&-4097|64,n;case 5:return jw(n),null;case 13:return Jn(pr),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return Jn(pr),null;case 4:return gh(),null;case 10:return Hw(n),null;case 23:case 24:return bb(),null;default:return null}}function sb(n,e){try{var t="",r=e;do t+=E8(r),r=r.return;while(r);var i=t}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:n,source:e,stack:i}}function ob(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var VN=typeof WeakMap=="function"?WeakMap:Map;function yA(n,e,t){t=Ll(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){i1||(i1=!0,vb=r),ob(n,e)},t}function xA(n,e,t){t=Ll(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return ob(n,e),r(i)}}var a=n.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this),ob(n,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}var jN=typeof WeakSet=="function"?WeakSet:Set;function wA(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Bl(n,t)}else e.current=null}function ZN(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:es(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Lw(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(vt(163))}function XN(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(kA(t,n),tk(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:es(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&FT(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}FT(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&_T(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&N3(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(vt(163))}function bA(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=_3("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function EA(n,e){if(uf&&typeof uf.onCommitFiberUnmount=="function")try{uf.onCommitFiberUnmount(Ow,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)kA(e,t);else{r=e;try{i()}catch(a){Bl(r,a)}}t=t.next}while(t!==n)}break;case 1:if(wA(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(a){Bl(e,a)}break;case 5:wA(e);break;case 4:AA(n,e)}}function SA(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function MA(n){return n.tag===5||n.tag===3||n.tag===4}function TA(n){e:{for(var e=n.return;e!==null;){if(MA(e))break e;e=e.return}throw Error(vt(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(vt(161))}t.flags&16&&(Op(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||MA(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?lb(n,t,e):ub(n,t,e)}function lb(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Iv));else if(r!==4&&(n=n.child,n!==null))for(lb(n,e,t),n=n.sibling;n!==null;)lb(n,e,t),n=n.sibling}function ub(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ub(n,e,t),n=n.sibling;n!==null;)ub(n,e,t),n=n.sibling}function AA(n,e){for(var t=e,r=!1,i,a;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(vt(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var s=n,o=t,c=o;;)if(EA(s,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(s=i,o=t.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(EA(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function fb(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(t[Ov]=r,n==="input"&&r.type==="radio"&&r.name!=null&&c3(t,r),Kx(n,i),e=Kx(n,r),i=0;i<a.length;i+=2){var s=a[i],o=a[i+1];s==="style"?y3(t,o):s==="dangerouslySetInnerHTML"?v3(t,o):s==="children"?Op(t,o):Dx(t,s,o,e)}switch(n){case"input":jx(t,r);break;case"textarea":p3(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,a=r.value,a!=null?Jc(t,!!r.multiple,a,!1):n!==!!r.multiple&&(r.defaultValue!=null?Jc(t,!!r.multiple,r.defaultValue,!0):Jc(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(vt(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,N3(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(mb=hi(),bA(e.child,!0)),CA(e);return;case 19:CA(e);return;case 17:return;case 23:case 24:bA(e,e.memoizedState!==null);return}throw Error(vt(163))}function CA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jN),e.forEach(function(r){var i=ik.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function YN(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var qN=Math.ceil,n1=nf.ReactCurrentDispatcher,cb=nf.ReactCurrentOwner,Jt=0,Ei=null,Ir=null,pi=0,pf=0,hb=Cl(0),Yr=0,r1=null,_h=0,d0=0,yh=0,db=0,pb=null,mb=0,gb=1/0;function xh(){gb=hi()+500}var Lt=null,i1=!1,vb=null,Fs=null,Ol=!1,p0=null,m0=90,_b=[],yb=[],Io=null,g0=0,xb=null,a1=-1,Do=0,s1=0,v0=null,o1=!1;function $i(){return(Jt&48)!=0?hi():a1!==-1?a1:a1=hi()}function Nl(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return dh()===99?1:2;if(Do===0&&(Do=_h),kN.transition!==0){s1!==0&&(s1=pb!==null?pb.pendingLanes:0),n=Do;var e=4186112&~s1;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=dh(),(Jt&4)!=0&&n===98?n=xv(12,Do):(n=z8(n),n=xv(n,Do)),n}function kl(n,e,t){if(50<g0)throw g0=0,xb=null,Error(vt(185));if(n=l1(n,e),n===null)return null;wv(n,e,t),n===Ei&&(yh|=e,Yr===4&&wh(n,pi));var r=dh();e===1?(Jt&8)!=0&&(Jt&48)==0?wb(n):(Ta(n,t),Jt===0&&(xh(),Ds())):((Jt&4)==0||r!==98&&r!==99||(Io===null?Io=new Set([n]):Io.add(n)),Ta(n,t)),pb=n}function l1(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Ta(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,a=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ml(s),c=1<<o,g=a[o];if(g===-1){if((c&r)==0||(c&i)!=0){g=e,nh(c);var p=Vn;a[o]=10<=p?g+250:6<=p?g+5e3:-1}}else g<=e&&(n.expiredLanes|=c);s&=~c}if(r=Wp(n,n===Ei?pi:0),e=Vn,r===0)t!==null&&(t!==Bw&&kw(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==Bw&&kw(t)}e===15?(t=wb.bind(null,n),Ro===null?(Ro=[t],zv=Nw(Bv,DT)):Ro.push(t),t=Bw):e===14?t=e0(99,wb.bind(null,n)):(t=U8(e),t=e0(t,RA.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function RA(n){if(a1=-1,s1=Do=0,(Jt&48)!=0)throw Error(vt(327));var e=n.callbackNode;if(Fl()&&n.callbackNode!==e)return null;var t=Wp(n,n===Ei?pi:0);if(t===0)return null;var r=t,i=Jt;Jt|=16;var a=DA();(Ei!==n||pi!==r)&&(xh(),bh(n,r));do try{KN();break}catch(o){IA(n,o)}while(1);if(Uw(),n1.current=a,Jt=i,Ir!==null?r=0:(Ei=null,pi=0,r=Yr),(_h&yh)!=0)bh(n,0);else if(r!==0){if(r===2&&(Jt|=64,n.hydrate&&(n.hydrate=!1,Lw(n.containerInfo)),t=G3(n),t!==0&&(r=_0(n,t))),r===1)throw e=r1,bh(n,0),wh(n,t),Ta(n,hi()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(vt(345));case 2:mf(n);break;case 3:if(wh(n,t),(t&62914560)===t&&(r=mb+500-hi(),10<r)){if(Wp(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){$i(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=yT(mf.bind(null,n),r);break}mf(n);break;case 4:if(wh(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var s=31-Ml(t);a=1<<s,s=r[s],s>i&&(i=s),t&=~a}if(t=i,t=hi()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*qN(t/1960))-t,10<t){n.timeoutHandle=yT(mf.bind(null,n),t);break}mf(n);break;case 5:mf(n);break;default:throw Error(vt(329))}}return Ta(n,hi()),n.callbackNode===e?RA.bind(null,n):null}function wh(n,e){for(e&=~db,e&=~yh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ml(e),r=1<<t;n[t]=-1,e&=~r}}function wb(n){if((Jt&48)!=0)throw Error(vt(327));if(Fl(),n===Ei&&(n.expiredLanes&pi)!=0){var e=pi,t=_0(n,e);(_h&yh)!=0&&(e=Wp(n,e),t=_0(n,e))}else e=Wp(n,0),t=_0(n,e);if(n.tag!==0&&t===2&&(Jt|=64,n.hydrate&&(n.hydrate=!1,Lw(n.containerInfo)),e=G3(n),e!==0&&(t=_0(n,e))),t===1)throw t=r1,bh(n,0),wh(n,e),Ta(n,hi()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,mf(n),Ta(n,hi()),null}function QN(){if(Io!==null){var n=Io;Io=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ta(e,hi())})}Ds()}function PA(n,e){var t=Jt;Jt|=1;try{return n(e)}finally{Jt=t,Jt===0&&(xh(),Ds())}}function LA(n,e){var t=Jt;Jt&=-2,Jt|=8;try{return n(e)}finally{Jt=t,Jt===0&&(xh(),Ds())}}function u1(n,e){dr(hb,pf),pf|=e,_h|=e}function bb(){pf=hb.current,Jn(hb)}function bh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,PN(t)),Ir!==null)for(t=Ir.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&kv();break;case 3:gh(),Jn(zi),Jn(ci),Yw();break;case 5:jw(r);break;case 4:gh();break;case 13:Jn(pr);break;case 19:Jn(pr);break;case 10:Hw(r);break;case 23:case 24:bb()}t=t.return}Ei=n,Ir=zl(n.current,null),pi=pf=_h=e,Yr=0,r1=null,db=yh=d0=0}function IA(n,e){do{var t=Ir;try{if(Uw(),s0.current=e1,Qv){for(var r=xr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qv=!1}if(o0=0,Xr=di=xr=null,l0=!1,cb.current=null,t===null||t.return===null){Yr=1,r1=e,Ir=null;break}e:{var a=n,s=t.return,o=t,c=e;if(e=pi,o.flags|=2048,o.firstEffect=o.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=c;if((o.mode&2)==0){var p=o.alternate;p?(o.updateQueue=p.updateQueue,o.memoizedState=p.memoizedState,o.lanes=p.lanes):(o.updateQueue=null,o.memoizedState=null)}var d=(pr.current&1)!=0,u=s;do{var f;if(f=u.tag===13){var l=u.memoizedState;if(l!==null)f=l.dehydrated!==null;else{var v=u.memoizedProps;f=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!d}}if(f){var y=u.updateQueue;if(y===null){var h=new Set;h.add(g),u.updateQueue=h}else y.add(g);if((u.mode&2)==0){if(u.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var m=Ll(-1,1);m.tag=2,Il(o,m)}o.lanes|=1;break e}c=void 0,o=e;var _=a.pingCache;if(_===null?(_=a.pingCache=new VN,c=new Set,_.set(g,c)):(c=_.get(g),c===void 0&&(c=new Set,_.set(g,c))),!c.has(o)){c.add(o);var w=rk.bind(null,a,g,o);g.then(w,w)}u.flags|=4096,u.lanes=e;break e}u=u.return}while(u!==null);c=Error((Qc(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Yr!==5&&(Yr=2),c=sb(c,o),u=s;do{switch(u.tag){case 3:a=c,u.flags|=4096,e&=-e,u.lanes|=e;var E=yA(u,a,e);kT(u,E);break e;case 1:a=c;var T=u.type,A=u.stateNode;if((u.flags&64)==0&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Fs===null||!Fs.has(A)))){u.flags|=4096,e&=-e,u.lanes|=e;var C=xA(u,a,e);kT(u,C);break e}}u=u.return}while(u!==null)}NA(t)}catch(R){e=R,Ir===t&&t!==null&&(Ir=t=t.return);continue}break}while(1)}function DA(){var n=n1.current;return n1.current=e1,n===null?e1:n}function _0(n,e){var t=Jt;Jt|=16;var r=DA();Ei===n&&pi===e||bh(n,e);do try{JN();break}catch(i){IA(n,i)}while(1);if(Uw(),Jt=t,n1.current=r,Ir!==null)throw Error(vt(261));return Ei=null,pi=0,Yr}function JN(){for(;Ir!==null;)OA(Ir)}function KN(){for(;Ir!==null&&!DN();)OA(Ir)}function OA(n){var e=BA(n.alternate,n,pf);n.memoizedProps=n.pendingProps,e===null?NA(n):Ir=e,cb.current=null}function NA(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=GN(t,e,pf),t!==null){Ir=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(pf&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=WN(e),t!==null){t.flags&=2047,Ir=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Ir=e;return}Ir=e=n}while(e!==null);Yr===0&&(Yr=5)}function mf(n){var e=dh();return ff(99,$N.bind(null,n,e)),null}function $N(n,e){do Fl();while(p0!==null);if((Jt&48)!=0)throw Error(vt(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(vt(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var s=n.eventTimes,o=n.expirationTimes;0<a;){var c=31-Ml(a),g=1<<c;i[c]=0,s[c]=-1,o[c]=-1,a&=~g}if(Io!==null&&(r&24)==0&&Io.has(n)&&Io.delete(n),n===Ei&&(Ir=Ei=null,pi=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=Jt,Jt|=32,cb.current=null,Cw=bv,s=oT(),Sw(s)){if("selectionStart"in s)o={start:s.selectionStart,end:s.selectionEnd};else e:if(o=(o=s.ownerDocument)&&o.defaultView||window,(g=o.getSelection&&o.getSelection())&&g.rangeCount!==0){o=g.anchorNode,a=g.anchorOffset,c=g.focusNode,g=g.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var p=0,d=-1,u=-1,f=0,l=0,v=s,y=null;t:for(;;){for(var h;v!==o||a!==0&&v.nodeType!==3||(d=p+a),v!==c||g!==0&&v.nodeType!==3||(u=p+g),v.nodeType===3&&(p+=v.nodeValue.length),(h=v.firstChild)!==null;)y=v,v=h;for(;;){if(v===s)break t;if(y===o&&++f===a&&(d=p),y===c&&++l===g&&(u=p),(h=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=h}o=d===-1||u===-1?null:{start:d,end:u}}else o=null;o=o||{start:0,end:0}}else o=null;Rw={focusedElem:s,selectionRange:o},bv=!1,v0=null,o1=!1,Lt=r;do try{ek()}catch(R){if(Lt===null)throw Error(vt(330));Bl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);v0=null,Lt=r;do try{for(s=n;Lt!==null;){var m=Lt.flags;if(m&16&&Op(Lt.stateNode,""),m&128){var _=Lt.alternate;if(_!==null){var w=_.ref;w!==null&&(typeof w=="function"?w(null):w.current=null)}}switch(m&1038){case 2:TA(Lt),Lt.flags&=-3;break;case 6:TA(Lt),Lt.flags&=-3,fb(Lt.alternate,Lt);break;case 1024:Lt.flags&=-1025;break;case 1028:Lt.flags&=-1025,fb(Lt.alternate,Lt);break;case 4:fb(Lt.alternate,Lt);break;case 8:o=Lt,AA(s,o);var E=o.alternate;SA(o),E!==null&&SA(E)}Lt=Lt.nextEffect}}catch(R){if(Lt===null)throw Error(vt(330));Bl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);if(w=Rw,_=oT(),m=w.focusedElem,s=w.selectionRange,_!==m&&m&&m.ownerDocument&&sT(m.ownerDocument.documentElement,m)){for(s!==null&&Sw(m)&&(_=s.start,w=s.end,w===void 0&&(w=_),"selectionStart"in m?(m.selectionStart=_,m.selectionEnd=Math.min(w,m.value.length)):(w=(_=m.ownerDocument||document)&&_.defaultView||window,w.getSelection&&(w=w.getSelection(),o=m.textContent.length,E=Math.min(s.start,o),s=s.end===void 0?E:Math.min(s.end,o),!w.extend&&E>s&&(o=s,s=E,E=o),o=aT(m,E),a=aT(m,s),o&&a&&(w.rangeCount!==1||w.anchorNode!==o.node||w.anchorOffset!==o.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(o.node,o.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),w.addRange(_)))))),_=[],w=m;w=w.parentNode;)w.nodeType===1&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<_.length;m++)w=_[m],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}bv=!!Cw,Rw=Cw=null,n.current=t,Lt=r;do try{for(m=n;Lt!==null;){var T=Lt.flags;if(T&36&&XN(m,Lt.alternate,Lt),T&128){_=void 0;var A=Lt.ref;if(A!==null){var C=Lt.stateNode;switch(Lt.tag){case 5:_=C;break;default:_=C}typeof A=="function"?A(_):A.current=_}}Lt=Lt.nextEffect}}catch(R){if(Lt===null)throw Error(vt(330));Bl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);Lt=null,NN(),Jt=i}else n.current=t;if(Ol)Ol=!1,p0=n,m0=e;else for(Lt=r;Lt!==null;)e=Lt.nextEffect,Lt.nextEffect=null,Lt.flags&8&&(T=Lt,T.sibling=null,T.stateNode=null),Lt=e;if(r=n.pendingLanes,r===0&&(Fs=null),r===1?n===xb?g0++:(g0=0,xb=n):g0=0,t=t.stateNode,uf&&typeof uf.onCommitFiberRoot=="function")try{uf.onCommitFiberRoot(Ow,t,void 0,(t.current.flags&64)==64)}catch{}if(Ta(n,hi()),i1)throw i1=!1,n=vb,vb=null,n;return(Jt&8)!=0||Ds(),null}function ek(){for(;Lt!==null;){var n=Lt.alternate;o1||v0===null||((Lt.flags&8)!=0?C3(Lt,v0)&&(o1=!0):Lt.tag===13&&YN(n,Lt)&&C3(Lt,v0)&&(o1=!0));var e=Lt.flags;(e&256)!=0&&ZN(n,Lt),(e&512)==0||Ol||(Ol=!0,e0(97,function(){return Fl(),null})),Lt=Lt.nextEffect}}function Fl(){if(m0!==90){var n=97<m0?97:m0;return m0=90,ff(n,nk)}return!1}function tk(n,e){_b.push(e,n),Ol||(Ol=!0,e0(97,function(){return Fl(),null}))}function kA(n,e){yb.push(e,n),Ol||(Ol=!0,e0(97,function(){return Fl(),null}))}function nk(){if(p0===null)return!1;var n=p0;if(p0=null,(Jt&48)!=0)throw Error(vt(331));var e=Jt;Jt|=32;var t=yb;yb=[];for(var r=0;r<t.length;r+=2){var i=t[r],a=t[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(c){if(a===null)throw Error(vt(330));Bl(a,c)}}for(t=_b,_b=[],r=0;r<t.length;r+=2){i=t[r],a=t[r+1];try{var o=i.create;i.destroy=o()}catch(c){if(a===null)throw Error(vt(330));Bl(a,c)}}for(o=n.current.firstEffect;o!==null;)n=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=n;return Jt=e,Ds(),!0}function FA(n,e,t){e=sb(t,e),e=yA(n,e,1),Il(n,e),e=$i(),n=l1(n,1),n!==null&&(wv(n,1,e),Ta(n,e))}function Bl(n,e){if(n.tag===3)FA(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){FA(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fs===null||!Fs.has(r))){n=sb(e,n);var i=xA(t,n,1);if(Il(t,i),i=$i(),t=l1(t,1),t!==null)wv(t,1,i),Ta(t,i);else if(typeof r.componentDidCatch=="function"&&(Fs===null||!Fs.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function rk(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=$i(),n.pingedLanes|=n.suspendedLanes&t,Ei===n&&(pi&t)===t&&(Yr===4||Yr===3&&(pi&62914560)===pi&&500>hi()-mb?bh(n,0):db|=t),Ta(n,e)}function ik(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=dh()===99?1:2:(Do===0&&(Do=_h),e=rh(62914560&~Do),e===0&&(e=4194304))),t=$i(),n=l1(n,e),n!==null&&(wv(n,e,t),Ta(n,t))}var BA;BA=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||zi.current)ts=!0;else if((t&r)!=0)ts=(n.flags&16384)!=0;else{switch(ts=!1,e.tag){case 3:uA(e),Xw();break;case 5:VT(e);break;case 1:Ui(e.type)&&Fv(e);break;case 4:Vw(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;dr(Uv,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?fA(n,e,t):(dr(pr,pr.current&1),e=Lo(n,e,t),e!==null?e.sibling:null);dr(pr,pr.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return mA(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dr(pr,pr.current),r)break;return null;case 23:case 24:return e.lanes=0,tb(n,e,t)}return Lo(n,e,t)}else ts=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=hh(e,ci.current),mh(e,t),i=Qw(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)){var a=!0;Fv(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gw(e);var s=r.getDerivedStateFromProps;typeof s=="function"&&Wv(e,r,s,n),i.updater=Vv,e.stateNode=i,i._reactInternals=e,Ww(e,r,n,t),e=rb(null,e,r,!0,a,t)}else e.tag=0,Gi(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=sk(i),n=es(i,n),a){case 0:e=nb(null,e,i,n,t);break e;case 1:e=lA(null,e,i,n,t);break e;case 11:e=iA(null,e,i,n,t);break e;case 14:e=aA(null,e,i,es(i.type,n),r,t);break e}throw Error(vt(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),nb(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),lA(n,e,r,i,t);case 3:if(uA(e),r=e.updateQueue,n===null||r===null)throw Error(vt(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,NT(n,e),t0(e,r,null,t),r=e.memoizedState.element,r===i)Xw(),e=Lo(n,e,t);else{if(i=e.stateNode,(a=i.hydrate)&&(Dl=lh(e.stateNode.containerInfo.firstChild),Po=e,a=Ns=!0),a){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)a=n[i],a._workInProgressVersionPrimary=n[i+1],vh.push(a);for(t=WT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Gi(n,e,r,t),Xw();e=e.child}return e;case 5:return VT(e),n===null&&Zw(e),r=e.type,i=e.pendingProps,a=n!==null?n.memoizedProps:null,s=i.children,Pw(r,i)?s=null:a!==null&&Pw(r,a)&&(e.flags|=16),oA(n,e),Gi(n,e,s,t),e.child;case 6:return n===null&&Zw(e),null;case 13:return fA(n,e,t);case 4:return Vw(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Xv(e,null,r,t):Gi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),iA(n,e,r,i,t);case 7:return Gi(n,e,e.pendingProps,t),e.child;case 8:return Gi(n,e,e.pendingProps.children,t),e.child;case 12:return Gi(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value;var o=e.type._context;if(dr(Uv,o._currentValue),o._currentValue=a,s!==null)if(o=s.value,a=Ea(o,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(o,a):1073741823)|0,a===0){if(s.children===i.children&&!zi.current){e=Lo(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var g=c.firstContext;g!==null;){if(g.context===r&&(g.observedBits&a)!=0){o.tag===1&&(g=Ll(-1,t&-t),g.tag=2,Il(o,g)),o.lanes|=t,g=o.alternate,g!==null&&(g.lanes|=t),OT(o.return,t),c.lanes|=t;break}g=g.next}}else s=o.tag===10&&o.type===e.type?null:o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,r=a.children,mh(e,t),i=Sa(i,a.unstable_observedBits),r=r(i),e.flags|=1,Gi(n,e,r,t),e.child;case 14:return i=e.type,a=es(i,e.pendingProps),a=es(i.type,a),aA(n,e,i,a,r,t);case 15:return sA(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ui(r)?(n=!0,Fv(e)):n=!1,mh(e,t),UT(e,r,i),Ww(e,r,i,t),rb(null,e,r,!0,n,t);case 19:return mA(n,e,t);case 23:return tb(n,e,t);case 24:return tb(n,e,t)}throw Error(vt(156,e.tag))};function ak(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(n,e,t,r){return new ak(n,e,t,r)}function Eb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sk(n){if(typeof n=="function")return Eb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lv)return 11;if(n===fv)return 14}return 2}function zl(n,e){var t=n.alternate;return t===null?(t=Aa(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function f1(n,e,t,r,i,a){var s=2;if(r=n,typeof n=="function")Eb(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case xl:return Eh(t.children,i,a,e);case s3:s=8,i|=16;break;case Ox:s=8,i|=1;break;case Pp:return n=Aa(12,t,e,i|8),n.elementType=Pp,n.type=Pp,n.lanes=a,n;case Lp:return n=Aa(13,t,e,i),n.type=Lp,n.elementType=Lp,n.lanes=a,n;case uv:return n=Aa(19,t,e,i),n.elementType=uv,n.lanes=a,n;case Ux:return Sb(t,i,a,e);case Hx:return n=Aa(24,t,e,i),n.elementType=Hx,n.lanes=a,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Nx:s=10;break e;case kx:s=9;break e;case lv:s=11;break e;case fv:s=14;break e;case Fx:s=16,r=null;break e;case Bx:s=22;break e}throw Error(vt(130,n==null?n:typeof n,""))}return e=Aa(s,t,e,i),e.elementType=n,e.type=r,e.lanes=a,e}function Eh(n,e,t,r){return n=Aa(7,n,r,e),n.lanes=t,n}function Sb(n,e,t,r){return n=Aa(23,n,r,e),n.elementType=Ux,n.lanes=t,n}function Mb(n,e,t){return n=Aa(6,n,null,e),n.lanes=t,n}function Tb(n,e,t){return e=Aa(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ok(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=dw(0),this.expirationTimes=dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dw(0),this.mutableSourceEagerHydrationData=null}function lk(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function c1(n,e,t,r){var i=e.current,a=$i(),s=Nl(i);e:if(t){t=t._reactInternals;t:{if(sf(t)!==t||t.tag!==1)throw Error(vt(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Ui(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(vt(171))}if(t.tag===1){var c=t.type;if(Ui(c)){t=ST(t,c,o);break e}}t=o}else t=Rl;return e.context===null?e.context=t:e.pendingContext=t,e=Ll(a,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),Il(i,e),kl(i,s,a),s}function Ab(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Cb(n,e){zA(n,e),(n=n.alternate)&&zA(n,e)}function uk(){return null}function Rb(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new ok(n,e,t!=null&&t.hydrate===!0),e=Aa(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,Gw(e),n[uh]=t.current,dT(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}Rb.prototype.render=function(n){c1(n,this._internalRoot,null,null)};Rb.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;c1(null,n,null,function(){e[uh]=null})};function y0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fk(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new Rb(n,0,e?{hydrate:!0}:void 0)}function h1(n,e,t,r,i){var a=t._reactRootContainer;if(a){var s=a._internalRoot;if(typeof i=="function"){var o=i;i=function(){var g=Ab(s);o.call(g)}}c1(e,s,n,i)}else{if(a=t._reactRootContainer=fk(t,r),s=a._internalRoot,typeof i=="function"){var c=i;i=function(){var g=Ab(s);c.call(g)}}LA(function(){c1(e,s,n,i)})}return Ab(s)}R3=function(n){if(n.tag===13){var e=$i();kl(n,4,e),Cb(n,4)}};ow=function(n){if(n.tag===13){var e=$i();kl(n,67108864,e),Cb(n,67108864)}};P3=function(n){if(n.tag===13){var e=$i(),t=Nl(n);kl(n,t,e),Cb(n,t)}};L3=function(n,e){return e()};ew=function(n,e,t){switch(e){case"input":if(jx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Nv(r);if(!i)throw Error(vt(90));u3(r),jx(r,i)}}}break;case"textarea":p3(n,t);break;case"select":e=t.value,e!=null&&Jc(n,!!t.multiple,e,!1)}};tw=PA;E3=function(n,e,t,r,i){var a=Jt;Jt|=4;try{return ff(98,n.bind(null,e,t,r,i))}finally{Jt=a,Jt===0&&(xh(),Ds())}};nw=function(){(Jt&49)==0&&(QN(),Fl())};S3=function(n,e){var t=Jt;Jt|=2;try{return n(e)}finally{Jt=t,Jt===0&&(xh(),Ds())}};function UA(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(e))throw Error(vt(200));return lk(n,e,null,t)}var ck={Events:[$p,fh,Nv,w3,b3,Fl,{current:!1}]},x0={findFiberByHostInstance:of,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},hk={bundleType:x0.bundleType,version:x0.version,rendererPackageName:x0.rendererPackageName,rendererConfig:x0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=A3(n),n===null?null:n.stateNode},findFiberByHostInstance:x0.findFiberByHostInstance||uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(w0=__REACT_DEVTOOLS_GLOBAL_HOOK__,!w0.isDisabled&&w0.supportsFiber))try{Ow=w0.inject(hk),uf=w0}catch{}var w0;Ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;Ca.createPortal=UA;Ca.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(vt(188)):Error(vt(268,Object.keys(n)));return n=A3(e),n=n===null?null:n.stateNode,n};Ca.flushSync=function(n,e){var t=Jt;if((t&48)!=0)return n(e);Jt|=1;try{if(n)return ff(99,n.bind(null,e))}finally{Jt=t,Ds()}};Ca.hydrate=function(n,e,t){if(!y0(e))throw Error(vt(200));return h1(null,n,e,!0,t)};Ca.render=function(n,e,t){if(!y0(e))throw Error(vt(200));return h1(null,n,e,!1,t)};Ca.unmountComponentAtNode=function(n){if(!y0(n))throw Error(vt(40));return n._reactRootContainer?(LA(function(){h1(null,null,n,!1,function(){n._reactRootContainer=null,n[uh]=null})}),!0):!1};Ca.unstable_batchedUpdates=PA;Ca.unstable_createPortal=function(n,e){return UA(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ca.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!y0(t))throw Error(vt(200));if(n==null||n._reactInternals===void 0)throw Error(vt(38));return h1(n,e,t,!1,r)};Ca.version="17.0.2"});var VA=Bi((cW,WA)=>{"use strict";function GA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GA)}catch(n){console.error(n)}}GA(),WA.exports=HA()});var DL=Bi((dW,wm)=>{wm.exports=function(e){var t={},r=Jg(),i=jr(),a=sv();function s(b){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+b,N=1;N<arguments.length;N++)S+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+b+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,g=60106,p=60107,d=60108,u=60114,f=60109,l=60110,v=60112,y=60113,h=60120,m=60115,_=60116,w=60121,E=60129,T=60130,A=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;c=C("react.element"),g=C("react.portal"),p=C("react.fragment"),d=C("react.strict_mode"),u=C("react.profiler"),f=C("react.provider"),l=C("react.context"),v=C("react.forward_ref"),y=C("react.suspense"),h=C("react.suspense_list"),m=C("react.memo"),_=C("react.lazy"),w=C("react.block"),C("react.scope"),E=C("react.debug_trace_mode"),T=C("react.offscreen"),A=C("react.legacy_hidden")}var R=typeof Symbol=="function"&&Symbol.iterator;function D(b){return b===null||typeof b!="object"?null:(b=R&&b[R]||b["@@iterator"],typeof b=="function"?b:null)}function O(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case p:return"Fragment";case g:return"Portal";case u:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case h:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case l:return(b.displayName||"Context")+".Consumer";case f:return(b._context.displayName||"Context")+".Provider";case v:var S=b.render;return S=S.displayName||S.name||"",b.displayName||(S!==""?"ForwardRef("+S+")":"ForwardRef");case m:return O(b.type);case w:return O(b._render);case _:S=b._payload,b=b._init;try{return O(b(S))}catch{}}return null}function k(b){var S=b,N=b;if(b.alternate)for(;S.return;)S=S.return;else{b=S;do S=b,(S.flags&1026)!=0&&(N=S.return),b=S.return;while(b)}return S.tag===3?N:null}function H(b){if(k(b)!==b)throw Error(s(188))}function B(b){var S=b.alternate;if(!S){if(S=k(b),S===null)throw Error(s(188));return S!==b?null:b}for(var N=b,K=S;;){var ne=N.return;if(ne===null)break;var _e=ne.alternate;if(_e===null){if(K=ne.return,K!==null){N=K;continue}break}if(ne.child===_e.child){for(_e=ne.child;_e;){if(_e===N)return H(ne),b;if(_e===K)return H(ne),S;_e=_e.sibling}throw Error(s(188))}if(N.return!==K.return)N=ne,K=_e;else{for(var Ne=!1,Ze=ne.child;Ze;){if(Ze===N){Ne=!0,N=ne,K=_e;break}if(Ze===K){Ne=!0,K=ne,N=_e;break}Ze=Ze.sibling}if(!Ne){for(Ze=_e.child;Ze;){if(Ze===N){Ne=!0,N=_e,K=ne;break}if(Ze===K){Ne=!0,K=_e,N=ne;break}Ze=Ze.sibling}if(!Ne)throw Error(s(189))}}if(N.alternate!==K)throw Error(s(190))}if(N.tag!==3)throw Error(s(188));return N.stateNode.current===N?b:S}function Z(b){if(b=B(b),!b)return null;for(var S=b;;){if(S.tag===5||S.tag===6)return S;if(S.child)S.child.return=S,S=S.child;else{if(S===b)break;for(;!S.sibling;){if(!S.return||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}}return null}function V(b){if(b=B(b),!b)return null;for(var S=b;;){if(S.tag===5||S.tag===6)return S;if(S.child&&S.tag!==4)S.child.return=S,S=S.child;else{if(S===b)break;for(;!S.sibling;){if(!S.return||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}}return null}function j(b,S){for(var N=b.alternate;S!==null;){if(S===b||S===N)return!0;S=S.return}return!1}var z=e.getPublicInstance,W=e.getRootHostContext,Q=e.getChildHostContext,se=e.prepareForCommit,le=e.resetAfterCommit,fe=e.createInstance,$=e.appendInitialChild,ae=e.finalizeInitialChildren,oe=e.prepareUpdate,ce=e.shouldSetTextContent,he=e.createTextInstance,we=e.scheduleTimeout,xe=e.cancelTimeout,Oe=e.noTimeout,ge=e.isPrimaryRenderer,De=e.supportsMutation,pe=e.supportsPersistence,de=e.supportsHydration,ie=e.getInstanceFromNode,re=e.makeOpaqueHydratingObject,q=e.makeClientId,te=e.beforeActiveInstanceBlur,G=e.afterActiveInstanceBlur,L=e.preparePortalMount,I=e.supportsTestSelectors,U=e.findFiberRoot,J=e.getBoundingRect,ye=e.getTextContent,Ie=e.isHiddenSubtree,be=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,ze=e.setupIntersectionObserver,qe=e.appendChild,Ye=e.appendChildToContainer,Me=e.commitTextUpdate,Ge=e.commitMount,et=e.commitUpdate,ut=e.insertBefore,ct=e.insertInContainerBefore,X=e.removeChild,Ae=e.removeChildFromContainer,ke=e.resetTextContent,Qe=e.hideInstance,Re=e.hideTextInstance,He=e.unhideInstance,ue=e.unhideTextInstance,Ke=e.clearContainer,pt=e.cloneInstance,P=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,Ue=e.finalizeContainerChildren,Y=e.replaceContainerChildren,Se=e.cloneHiddenInstance,Ve=e.cloneHiddenTextInstance,lt=e.canHydrateInstance,ve=e.canHydrateTextInstance,Be=e.isSuspenseInstancePending,je=e.isSuspenseInstanceFallback,tt=e.getNextHydratableSibling,it=e.getFirstHydratableChild,gt=e.hydrateInstance,xt=e.hydrateTextInstance,Rt=e.getNextHydratableInstanceAfterSuspenseInstance,Ct=e.commitHydratedContainer,Qt=e.commitHydratedSuspenseInstance,Ut;function Pt(b){if(Ut===void 0)try{throw Error()}catch(N){var S=N.stack.trim().match(/\n( *(at )?)/);Ut=S&&S[1]||""}return`
`+Ut+b}var $t=!1;function pn(b,S){if(!b||$t)return"";$t=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(at){var K=at}Reflect.construct(b,[],S)}else{try{S.call()}catch(at){K=at}b.call(S.prototype)}else{try{throw Error()}catch(at){K=at}b()}}catch(at){if(at&&K&&typeof at.stack=="string"){for(var ne=at.stack.split(`
`),_e=K.stack.split(`
`),Ne=ne.length-1,Ze=_e.length-1;1<=Ne&&0<=Ze&&ne[Ne]!==_e[Ze];)Ze--;for(;1<=Ne&&0<=Ze;Ne--,Ze--)if(ne[Ne]!==_e[Ze]){if(Ne!==1||Ze!==1)do if(Ne--,Ze--,0>Ze||ne[Ne]!==_e[Ze])return`
`+ne[Ne].replace(" at new "," at ");while(1<=Ne&&0<=Ze);break}}}finally{$t=!1,Error.prepareStackTrace=N}return(b=b?b.displayName||b.name:"")?Pt(b):""}var Bt=[],zn=-1;function Zt(b){return{current:b}}function ln(b){0>zn||(b.current=Bt[zn],Bt[zn]=null,zn--)}function hn(b,S){zn++,Bt[zn]=b.current,b.current=S}var tr={},Tn=Zt(tr),nn=Zt(!1),Rr=tr;function nr(b,S){var N=b.type.contextTypes;if(!N)return tr;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===S)return K.__reactInternalMemoizedMaskedChildContext;var ne={},_e;for(_e in N)ne[_e]=S[_e];return K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=S,b.__reactInternalMemoizedMaskedChildContext=ne),ne}function Pr(b){return b=b.childContextTypes,b!=null}function Js(){ln(nn),ln(Tn)}function yu(b,S,N){if(Tn.current!==tr)throw Error(s(168));hn(Tn,S),hn(nn,N)}function gs(b,S,N){var K=b.stateNode;if(b=S.childContextTypes,typeof K.getChildContext!="function")return N;K=K.getChildContext();for(var ne in K)if(!(ne in b))throw Error(s(108,O(S)||"Unknown",ne));return r({},N,K)}function xu(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||tr,Rr=Tn.current,hn(Tn,b),hn(nn,nn.current),!0}function Nd(b,S,N){var K=b.stateNode;if(!K)throw Error(s(169));N?(b=gs(b,S,Rr),K.__reactInternalMemoizedMergedChildContext=b,ln(nn),ln(Tn),hn(Tn,b)):ln(nn),hn(nn,N)}var wu=null,Ks=null,Wm=a.unstable_now;Wm();var $s=0,On=8;function eo(b){if((1&b)!=0)return On=15,1;if((2&b)!=0)return On=14,2;if((4&b)!=0)return On=13,4;var S=24&b;return S!==0?(On=12,S):(b&32)!=0?(On=11,32):(S=192&b,S!==0?(On=10,S):(b&256)!=0?(On=9,256):(S=3584&b,S!==0?(On=8,S):(b&4096)!=0?(On=7,4096):(S=4186112&b,S!==0?(On=6,S):(S=62914560&b,S!==0?(On=5,S):b&67108864?(On=4,67108864):(b&134217728)!=0?(On=3,134217728):(S=805306368&b,S!==0?(On=2,S):(1073741824&b)!=0?(On=1,1073741824):(On=8,b))))))}function Vm(b){switch(b){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function jm(b){switch(b){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,b))}}function to(b,S){var N=b.pendingLanes;if(N===0)return On=0;var K=0,ne=0,_e=b.expiredLanes,Ne=b.suspendedLanes,Ze=b.pingedLanes;if(_e!==0)K=_e,ne=On=15;else if(_e=N&134217727,_e!==0){var at=_e&~Ne;at!==0?(K=eo(at),ne=On):(Ze&=_e,Ze!==0&&(K=eo(Ze),ne=On))}else _e=N&~Ne,_e!==0?(K=eo(_e),ne=On):Ze!==0&&(K=eo(Ze),ne=On);if(K===0)return 0;if(K=31-Ua(K),K=N&((0>K?0:1<<K)<<1)-1,S!==0&&S!==K&&(S&Ne)==0){if(eo(S),ne<=On)return S;On=ne}if(S=b.entangledLanes,S!==0)for(b=b.entanglements,S&=K;0<S;)N=31-Ua(S),ne=1<<N,K|=b[N],S&=~ne;return K}function Zm(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function bu(b,S){switch(b){case 15:return 1;case 14:return 2;case 12:return b=vs(24&~S),b===0?bu(10,S):b;case 10:return b=vs(192&~S),b===0?bu(8,S):b;case 8:return b=vs(3584&~S),b===0&&(b=vs(4186112&~S),b===0&&(b=512)),b;case 2:return S=vs(805306368&~S),S===0&&(S=268435456),S}throw Error(s(358,b))}function vs(b){return b&-b}function Eu(b){for(var S=[],N=0;31>N;N++)S.push(b);return S}function za(b,S,N){b.pendingLanes|=S;var K=S-1;b.suspendedLanes&=K,b.pingedLanes&=K,b=b.eventTimes,S=31-Ua(S),b[S]=N}var Ua=Math.clz32?Math.clz32:Ym,Xm=Math.log,My=Math.LN2;function Ym(b){return b===0?32:31-(Xm(b)/My|0)|0}var qm=a.unstable_runWithPriority,rc=a.unstable_scheduleCallback,ic=a.unstable_cancelCallback,Ty=a.unstable_shouldYield,Qm=a.unstable_requestPaint,kd=a.unstable_now,Jm=a.unstable_getCurrentPriorityLevel,ac=a.unstable_ImmediatePriority,Km=a.unstable_UserBlockingPriority,$m=a.unstable_NormalPriority,eg=a.unstable_LowPriority,sc=a.unstable_IdlePriority,Fd={},Ay=Qm!==void 0?Qm:function(){},Ha=null,oc=null,Bd=!1,kn=kd(),en=1e4>kn?kd:function(){return kd()-kn};function qo(){switch(Jm()){case ac:return 99;case Km:return 98;case $m:return 97;case eg:return 96;case sc:return 95;default:throw Error(s(332))}}function tg(b){switch(b){case 99:return ac;case 98:return Km;case 97:return $m;case 96:return eg;case 95:return sc;default:throw Error(s(332))}}function Ga(b,S){return b=tg(b),qm(b,S)}function Su(b,S,N){return b=tg(b),rc(b,S,N)}function Ai(){if(oc!==null){var b=oc;oc=null,ic(b)}ng()}function ng(){if(!Bd&&Ha!==null){Bd=!0;var b=0;try{var S=Ha;Ga(99,function(){for(;b<S.length;b++){var N=S[b];do N=N(!0);while(N!==null)}}),Ha=null}catch(N){throw Ha!==null&&(Ha=Ha.slice(b+1)),rc(ac,Ai),N}finally{Bd=!1}}}var rg=o.ReactCurrentBatchConfig;function Cy(b,S){return b===S&&(b!==0||1/b==1/S)||b!==b&&S!==S}var An=typeof Object.is=="function"?Object.is:Cy,zd=Object.prototype.hasOwnProperty;function aa(b,S){if(An(b,S))return!0;if(typeof b!="object"||b===null||typeof S!="object"||S===null)return!1;var N=Object.keys(b),K=Object.keys(S);if(N.length!==K.length)return!1;for(K=0;K<N.length;K++)if(!zd.call(S,N[K])||!An(b[N[K]],S[N[K]]))return!1;return!0}function ig(b){switch(b.tag){case 5:return Pt(b.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 2:case 15:return b=pn(b.type,!1),b;case 11:return b=pn(b.type.render,!1),b;case 22:return b=pn(b.type._render,!1),b;case 1:return b=pn(b.type,!0),b;default:return""}}function _i(b,S){if(b&&b.defaultProps){S=r({},S),b=b.defaultProps;for(var N in b)S[N]===void 0&&(S[N]=b[N]);return S}return S}var Gr=Zt(null),Mu=null,no=null,Tu=null;function lc(){Tu=no=Mu=null}function Ud(b,S){b=b.type._context,ge?(hn(Gr,b._currentValue),b._currentValue=S):(hn(Gr,b._currentValue2),b._currentValue2=S)}function uc(b){var S=Gr.current;ln(Gr),b=b.type._context,ge?b._currentValue=S:b._currentValue2=S}function ni(b,S){for(;b!==null;){var N=b.alternate;if((b.childLanes&S)===S){if(N===null||(N.childLanes&S)===S)break;N.childLanes|=S}else b.childLanes|=S,N!==null&&(N.childLanes|=S);b=b.return}}function Qo(b,S){Mu=b,Tu=no=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&S)!=0&&(si=!0),b.firstContext=null)}function Zn(b,S){if(Tu!==b&&S!==!1&&S!==0)if((typeof S!="number"||S===1073741823)&&(Tu=b,S=1073741823),S={context:b,observedBits:S,next:null},no===null){if(Mu===null)throw Error(s(308));no=S,Mu.dependencies={lanes:0,firstContext:S,responders:null}}else no=no.next=S;return ge?b._currentValue:b._currentValue2}var _s=!1;function fc(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Wa(b,S){b=b.updateQueue,S.updateQueue===b&&(S.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Xi(b,S){return{eventTime:b,lane:S,tag:0,payload:null,callback:null,next:null}}function sa(b,S){if(b=b.updateQueue,b!==null){b=b.shared;var N=b.pending;N===null?S.next=S:(S.next=N.next,N.next=S),b.pending=S}}function Un(b,S){var N=b.updateQueue,K=b.alternate;if(K!==null&&(K=K.updateQueue,N===K)){var ne=null,_e=null;if(N=N.firstBaseUpdate,N!==null){do{var Ne={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};_e===null?ne=_e=Ne:_e=_e.next=Ne,N=N.next}while(N!==null);_e===null?ne=_e=S:_e=_e.next=S}else ne=_e=S;N={baseState:K.baseState,firstBaseUpdate:ne,lastBaseUpdate:_e,shared:K.shared,effects:K.effects},b.updateQueue=N;return}b=N.lastBaseUpdate,b===null?N.firstBaseUpdate=S:b.next=S,N.lastBaseUpdate=S}function Ci(b,S,N,K){var ne=b.updateQueue;_s=!1;var _e=ne.firstBaseUpdate,Ne=ne.lastBaseUpdate,Ze=ne.shared.pending;if(Ze!==null){ne.shared.pending=null;var at=Ze,_t=at.next;at.next=null,Ne===null?_e=_t:Ne.next=_t,Ne=at;var Dt=b.alternate;if(Dt!==null){Dt=Dt.updateQueue;var Xt=Dt.lastBaseUpdate;Xt!==Ne&&(Xt===null?Dt.firstBaseUpdate=_t:Xt.next=_t,Dt.lastBaseUpdate=at)}}if(_e!==null){Xt=ne.baseState,Ne=0,Dt=_t=at=null;do{Ze=_e.lane;var wt=_e.eventTime;if((K&Ze)===Ze){Dt!==null&&(Dt=Dt.next={eventTime:wt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var Pn=b,Hn=_e;switch(Ze=S,wt=N,Hn.tag){case 1:if(Pn=Hn.payload,typeof Pn=="function"){Xt=Pn.call(wt,Xt,Ze);break e}Xt=Pn;break e;case 3:Pn.flags=Pn.flags&-4097|64;case 0:if(Pn=Hn.payload,Ze=typeof Pn=="function"?Pn.call(wt,Xt,Ze):Pn,Ze==null)break e;Xt=r({},Xt,Ze);break e;case 2:_s=!0}}_e.callback!==null&&(b.flags|=32,Ze=ne.effects,Ze===null?ne.effects=[_e]:Ze.push(_e))}else wt={eventTime:wt,lane:Ze,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Dt===null?(_t=Dt=wt,at=Xt):Dt=Dt.next=wt,Ne|=Ze;if(_e=_e.next,_e===null){if(Ze=ne.shared.pending,Ze===null)break;_e=Ze.next,Ze.next=null,ne.lastBaseUpdate=Ze,ne.shared.pending=null}}while(1);Dt===null&&(at=Xt),ne.baseState=at,ne.firstBaseUpdate=_t,ne.lastBaseUpdate=Dt,Zu|=Ne,b.lanes=Ne,b.memoizedState=Xt}}function cc(b,S,N){if(b=S.effects,S.effects=null,b!==null)for(S=0;S<b.length;S++){var K=b[S],ne=K.callback;if(ne!==null){if(K.callback=null,K=N,typeof ne!="function")throw Error(s(191,ne));ne.call(K)}}}var ag=new i.Component().refs;function Jo(b,S,N,K){S=b.memoizedState,N=N(K,S),N=N==null?S:r({},S,N),b.memoizedState=N,b.lanes===0&&(b.updateQueue.baseState=N)}var hc={isMounted:function(b){return(b=b._reactInternals)?k(b)===b:!1},enqueueSetState:function(b,S,N){b=b._reactInternals;var K=qn(),ne=ma(b),_e=Xi(K,ne);_e.payload=S,N!=null&&(_e.callback=N),sa(b,_e),Ii(b,ne,K)},enqueueReplaceState:function(b,S,N){b=b._reactInternals;var K=qn(),ne=ma(b),_e=Xi(K,ne);_e.tag=1,_e.payload=S,N!=null&&(_e.callback=N),sa(b,_e),Ii(b,ne,K)},enqueueForceUpdate:function(b,S){b=b._reactInternals;var N=qn(),K=ma(b),ne=Xi(N,K);ne.tag=2,S!=null&&(ne.callback=S),sa(b,ne),Ii(b,K,N)}};function sg(b,S,N,K,ne,_e,Ne){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(K,_e,Ne):S.prototype&&S.prototype.isPureReactComponent?!aa(N,K)||!aa(ne,_e):!0}function og(b,S,N){var K=!1,ne=tr,_e=S.contextType;return typeof _e=="object"&&_e!==null?_e=Zn(_e):(ne=Pr(S)?Rr:Tn.current,K=S.contextTypes,_e=(K=K!=null)?nr(b,ne):tr),S=new S(N,_e),b.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=hc,b.stateNode=S,S._reactInternals=b,K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=ne,b.__reactInternalMemoizedMaskedChildContext=_e),S}function Hd(b,S,N,K){b=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(N,K),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(N,K),S.state!==b&&hc.enqueueReplaceState(S,S.state,null)}function Ko(b,S,N,K){var ne=b.stateNode;ne.props=N,ne.state=b.memoizedState,ne.refs=ag,fc(b);var _e=S.contextType;typeof _e=="object"&&_e!==null?ne.context=Zn(_e):(_e=Pr(S)?Rr:Tn.current,ne.context=nr(b,_e)),Ci(b,N,ne,K),ne.state=b.memoizedState,_e=S.getDerivedStateFromProps,typeof _e=="function"&&(Jo(b,S,_e,N),ne.state=b.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof ne.getSnapshotBeforeUpdate=="function"||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(S=ne.state,typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount(),S!==ne.state&&hc.enqueueReplaceState(ne,ne.state,null),Ci(b,N,ne,K),ne.state=b.memoizedState),typeof ne.componentDidMount=="function"&&(b.flags|=4)}var Va=Array.isArray;function Au(b,S,N){if(b=N.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(s(309));var K=N.stateNode}if(!K)throw Error(s(147,b));var ne=""+b;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===ne?S.ref:(S=function(_e){var Ne=K.refs;Ne===ag&&(Ne=K.refs={}),_e===null?delete Ne[ne]:Ne[ne]=_e},S._stringRef=ne,S)}if(typeof b!="string")throw Error(s(284));if(!N._owner)throw Error(s(290,b))}return b}function Cu(b,S){if(b.type!=="textarea")throw Error(s(31,Object.prototype.toString.call(S)==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":S))}function Gd(b){function S(nt,Je){if(b){var ot=nt.lastEffect;ot!==null?(ot.nextEffect=Je,nt.lastEffect=Je):nt.firstEffect=nt.lastEffect=Je,Je.nextEffect=null,Je.flags=8}}function N(nt,Je){if(!b)return null;for(;Je!==null;)S(nt,Je),Je=Je.sibling;return null}function K(nt,Je){for(nt=new Map;Je!==null;)Je.key!==null?nt.set(Je.key,Je):nt.set(Je.index,Je),Je=Je.sibling;return nt}function ne(nt,Je){return nt=Cs(nt,Je),nt.index=0,nt.sibling=null,nt}function _e(nt,Je,ot){return nt.index=ot,b?(ot=nt.alternate,ot!==null?(ot=ot.index,ot<Je?(nt.flags=2,Je):ot):(nt.flags=2,Je)):Je}function Ne(nt){return b&&nt.alternate===null&&(nt.flags=2),nt}function Ze(nt,Je,ot,Tt){return Je===null||Je.tag!==6?(Je=gp(ot,nt.mode,Tt),Je.return=nt,Je):(Je=ne(Je,ot),Je.return=nt,Je)}function at(nt,Je,ot,Tt){return Je!==null&&Je.elementType===ot.type?(Tt=ne(Je,ot.props),Tt.ref=Au(nt,Je,ot),Tt.return=nt,Tt):(Tt=Bc(ot.type,ot.key,ot.props,null,nt.mode,Tt),Tt.ref=Au(nt,Je,ot),Tt.return=nt,Tt)}function _t(nt,Je,ot,Tt){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==ot.containerInfo||Je.stateNode.implementation!==ot.implementation?(Je=vp(ot,nt.mode,Tt),Je.return=nt,Je):(Je=ne(Je,ot.children||[]),Je.return=nt,Je)}function Dt(nt,Je,ot,Tt,Ft){return Je===null||Je.tag!==7?(Je=_a(ot,nt.mode,Tt,Ft),Je.return=nt,Je):(Je=ne(Je,ot),Je.return=nt,Je)}function Xt(nt,Je,ot){if(typeof Je=="string"||typeof Je=="number")return Je=gp(""+Je,nt.mode,ot),Je.return=nt,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case c:return ot=Bc(Je.type,Je.key,Je.props,null,nt.mode,ot),ot.ref=Au(nt,null,Je),ot.return=nt,ot;case g:return Je=vp(Je,nt.mode,ot),Je.return=nt,Je}if(Va(Je)||D(Je))return Je=_a(Je,nt.mode,ot,null),Je.return=nt,Je;Cu(nt,Je)}return null}function wt(nt,Je,ot,Tt){var Ft=Je!==null?Je.key:null;if(typeof ot=="string"||typeof ot=="number")return Ft!==null?null:Ze(nt,Je,""+ot,Tt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case c:return ot.key===Ft?ot.type===p?Dt(nt,Je,ot.props.children,Tt,Ft):at(nt,Je,ot,Tt):null;case g:return ot.key===Ft?_t(nt,Je,ot,Tt):null}if(Va(ot)||D(ot))return Ft!==null?null:Dt(nt,Je,ot,Tt,null);Cu(nt,ot)}return null}function Pn(nt,Je,ot,Tt,Ft){if(typeof Tt=="string"||typeof Tt=="number")return nt=nt.get(ot)||null,Ze(Je,nt,""+Tt,Ft);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case c:return nt=nt.get(Tt.key===null?ot:Tt.key)||null,Tt.type===p?Dt(Je,nt,Tt.props.children,Ft,Tt.key):at(Je,nt,Tt,Ft);case g:return nt=nt.get(Tt.key===null?ot:Tt.key)||null,_t(Je,nt,Tt,Ft)}if(Va(Tt)||D(Tt))return nt=nt.get(ot)||null,Dt(Je,nt,Tt,Ft,null);Cu(Je,Tt)}return null}function Hn(nt,Je,ot,Tt){for(var Ft=null,Fn=null,Yt=Je,wn=Je=0,mn=null;Yt!==null&&wn<ot.length;wn++){Yt.index>wn?(mn=Yt,Yt=null):mn=Yt.sibling;var Kt=wt(nt,Yt,ot[wn],Tt);if(Kt===null){Yt===null&&(Yt=mn);break}b&&Yt&&Kt.alternate===null&&S(nt,Yt),Je=_e(Kt,Je,wn),Fn===null?Ft=Kt:Fn.sibling=Kt,Fn=Kt,Yt=mn}if(wn===ot.length)return N(nt,Yt),Ft;if(Yt===null){for(;wn<ot.length;wn++)Yt=Xt(nt,ot[wn],Tt),Yt!==null&&(Je=_e(Yt,Je,wn),Fn===null?Ft=Yt:Fn.sibling=Yt,Fn=Yt);return Ft}for(Yt=K(nt,Yt);wn<ot.length;wn++)mn=Pn(Yt,nt,wn,ot[wn],Tt),mn!==null&&(b&&mn.alternate!==null&&Yt.delete(mn.key===null?wn:mn.key),Je=_e(mn,Je,wn),Fn===null?Ft=mn:Fn.sibling=mn,Fn=mn);return b&&Yt.forEach(function(Rs){return S(nt,Rs)}),Ft}function li(nt,Je,ot,Tt){var Ft=D(ot);if(typeof Ft!="function")throw Error(s(150));if(ot=Ft.call(ot),ot==null)throw Error(s(151));for(var Fn=Ft=null,Yt=Je,wn=Je=0,mn=null,Kt=ot.next();Yt!==null&&!Kt.done;wn++,Kt=ot.next()){Yt.index>wn?(mn=Yt,Yt=null):mn=Yt.sibling;var Rs=wt(nt,Yt,Kt.value,Tt);if(Rs===null){Yt===null&&(Yt=mn);break}b&&Yt&&Rs.alternate===null&&S(nt,Yt),Je=_e(Rs,Je,wn),Fn===null?Ft=Rs:Fn.sibling=Rs,Fn=Rs,Yt=mn}if(Kt.done)return N(nt,Yt),Ft;if(Yt===null){for(;!Kt.done;wn++,Kt=ot.next())Kt=Xt(nt,Kt.value,Tt),Kt!==null&&(Je=_e(Kt,Je,wn),Fn===null?Ft=Kt:Fn.sibling=Kt,Fn=Kt);return Ft}for(Yt=K(nt,Yt);!Kt.done;wn++,Kt=ot.next())Kt=Pn(Yt,nt,wn,Kt.value,Tt),Kt!==null&&(b&&Kt.alternate!==null&&Yt.delete(Kt.key===null?wn:Kt.key),Je=_e(Kt,Je,wn),Fn===null?Ft=Kt:Fn.sibling=Kt,Fn=Kt);return b&&Yt.forEach(function(Uy){return S(nt,Uy)}),Ft}return function(nt,Je,ot,Tt){var Ft=typeof ot=="object"&&ot!==null&&ot.type===p&&ot.key===null;Ft&&(ot=ot.props.children);var Fn=typeof ot=="object"&&ot!==null;if(Fn)switch(ot.$$typeof){case c:e:{for(Fn=ot.key,Ft=Je;Ft!==null;){if(Ft.key===Fn){switch(Ft.tag){case 7:if(ot.type===p){N(nt,Ft.sibling),Je=ne(Ft,ot.props.children),Je.return=nt,nt=Je;break e}break;default:if(Ft.elementType===ot.type){N(nt,Ft.sibling),Je=ne(Ft,ot.props),Je.ref=Au(nt,Ft,ot),Je.return=nt,nt=Je;break e}}N(nt,Ft);break}else S(nt,Ft);Ft=Ft.sibling}ot.type===p?(Je=_a(ot.props.children,nt.mode,Tt,ot.key),Je.return=nt,nt=Je):(Tt=Bc(ot.type,ot.key,ot.props,null,nt.mode,Tt),Tt.ref=Au(nt,Je,ot),Tt.return=nt,nt=Tt)}return Ne(nt);case g:e:{for(Ft=ot.key;Je!==null;){if(Je.key===Ft)if(Je.tag===4&&Je.stateNode.containerInfo===ot.containerInfo&&Je.stateNode.implementation===ot.implementation){N(nt,Je.sibling),Je=ne(Je,ot.children||[]),Je.return=nt,nt=Je;break e}else{N(nt,Je);break}else S(nt,Je);Je=Je.sibling}Je=vp(ot,nt.mode,Tt),Je.return=nt,nt=Je}return Ne(nt)}if(typeof ot=="string"||typeof ot=="number")return ot=""+ot,Je!==null&&Je.tag===6?(N(nt,Je.sibling),Je=ne(Je,ot),Je.return=nt,nt=Je):(N(nt,Je),Je=gp(ot,nt.mode,Tt),Je.return=nt,nt=Je),Ne(nt);if(Va(ot))return Hn(nt,Je,ot,Tt);if(D(ot))return li(nt,Je,ot,Tt);if(Fn&&Cu(nt,ot),typeof ot=="undefined"&&!Ft)switch(nt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,O(nt.type)||"Component"))}return N(nt,Je)}}var $o=Gd(!0),dc=Gd(!1),el={},Ri=Zt(el),ro=Zt(el),ys=Zt(el);function oa(b){if(b===el)throw Error(s(174));return b}function pc(b,S){hn(ys,S),hn(ro,b),hn(Ri,el),b=W(S),ln(Ri),hn(Ri,b)}function Mr(){ln(Ri),ln(ro),ln(ys)}function mc(b){var S=oa(ys.current),N=oa(Ri.current);S=Q(N,b.type,S),N!==S&&(hn(ro,b),hn(Ri,S))}function io(b){ro.current===b&&(ln(Ri),ln(ro))}var Xn=Zt(0);function Ru(b){for(var S=b;S!==null;){if(S.tag===13){var N=S.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||Be(N)||je(N)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&64)!=0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===b)break;for(;S.sibling===null;){if(S.return===null||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var ja=null,ao=null,la=!1;function lg(b,S){var N=Di(5,null,null,0);N.elementType="DELETED",N.type="DELETED",N.stateNode=S,N.return=b,N.flags=8,b.lastEffect!==null?(b.lastEffect.nextEffect=N,b.lastEffect=N):b.firstEffect=b.lastEffect=N}function ug(b,S){switch(b.tag){case 5:return S=lt(S,b.type,b.pendingProps),S!==null?(b.stateNode=S,!0):!1;case 6:return S=ve(S,b.pendingProps),S!==null?(b.stateNode=S,!0):!1;case 13:return!1;default:return!1}}function xs(b){if(la){var S=ao;if(S){var N=S;if(!ug(b,S)){if(S=tt(N),!S||!ug(b,S)){b.flags=b.flags&-1025|2,la=!1,ja=b;return}lg(ja,N)}ja=b,ao=it(S)}else b.flags=b.flags&-1025|2,la=!1,ja=b}}function fg(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;ja=b}function gc(b){if(!de||b!==ja)return!1;if(!la)return fg(b),la=!0,!1;var S=b.type;if(b.tag!==5||S!=="head"&&S!=="body"&&!ce(S,b.memoizedProps))for(S=ao;S;)lg(b,S),S=tt(S);if(fg(b),b.tag===13){if(!de)throw Error(s(316));if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));ao=Rt(b)}else ao=ja?tt(b.stateNode):null;return!0}function Pu(){de&&(ao=ja=null,la=!1)}var so=[];function ua(){for(var b=0;b<so.length;b++){var S=so[b];ge?S._workInProgressVersionPrimary=null:S._workInProgressVersionSecondary=null}so.length=0}var ws=o.ReactCurrentDispatcher,Pi=o.ReactCurrentBatchConfig,Lu=0,rr=null,ir=null,Nn=null,Iu=!1,Du=!1;function ri(){throw Error(s(321))}function Wd(b,S){if(S===null)return!1;for(var N=0;N<S.length&&N<b.length;N++)if(!An(b[N],S[N]))return!1;return!0}function Vd(b,S,N,K,ne,_e){if(Lu=_e,rr=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,ws.current=b===null||b.memoizedState===null?xc:bs,b=N(K,ne),Du){_e=0;do{if(Du=!1,!(25>_e))throw Error(s(301));_e+=1,Nn=ir=null,S.updateQueue=null,ws.current=wc,b=N(K,ne)}while(Du)}if(ws.current=yc,S=ir!==null&&ir.next!==null,Lu=0,Nn=ir=rr=null,Iu=!1,S)throw Error(s(300));return b}function oo(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?rr.memoizedState=Nn=b:Nn=Nn.next=b,Nn}function ii(){if(ir===null){var b=rr.alternate;b=b!==null?b.memoizedState:null}else b=ir.next;var S=Nn===null?rr.memoizedState:Nn.next;if(S!==null)Nn=S,ir=b;else{if(b===null)throw Error(s(310));ir=b,b={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Nn===null?rr.memoizedState=Nn=b:Nn=Nn.next=b}return Nn}function Xe(b,S){return typeof S=="function"?S(b):S}function st(b){var S=ii(),N=S.queue;if(N===null)throw Error(s(311));N.lastRenderedReducer=b;var K=ir,ne=K.baseQueue,_e=N.pending;if(_e!==null){if(ne!==null){var Ne=ne.next;ne.next=_e.next,_e.next=Ne}K.baseQueue=ne=_e,N.pending=null}if(ne!==null){ne=ne.next,K=K.baseState;var Ze=Ne=_e=null,at=ne;do{var _t=at.lane;if((Lu&_t)===_t)Ze!==null&&(Ze=Ze.next={lane:0,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null}),K=at.eagerReducer===b?at.eagerState:b(K,at.action);else{var Dt={lane:_t,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null};Ze===null?(Ne=Ze=Dt,_e=K):Ze=Ze.next=Dt,rr.lanes|=_t,Zu|=_t}at=at.next}while(at!==null&&at!==ne);Ze===null?_e=K:Ze.next=Ne,An(K,S.memoizedState)||(si=!0),S.memoizedState=K,S.baseState=_e,S.baseQueue=Ze,N.lastRenderedState=K}return[S.memoizedState,N.dispatch]}function rt(b){var S=ii(),N=S.queue;if(N===null)throw Error(s(311));N.lastRenderedReducer=b;var K=N.dispatch,ne=N.pending,_e=S.memoizedState;if(ne!==null){N.pending=null;var Ne=ne=ne.next;do _e=b(_e,Ne.action),Ne=Ne.next;while(Ne!==ne);An(_e,S.memoizedState)||(si=!0),S.memoizedState=_e,S.baseQueue===null&&(S.baseState=_e),N.lastRenderedState=_e}return[_e,K]}function At(b,S,N){var K=S._getVersion;K=K(S._source);var ne=ge?S._workInProgressVersionPrimary:S._workInProgressVersionSecondary;if(ne!==null?b=ne===K:(b=b.mutableReadLanes,(b=(Lu&b)===b)&&(ge?S._workInProgressVersionPrimary=K:S._workInProgressVersionSecondary=K,so.push(S))),b)return N(S._source);throw so.push(S),Error(s(350))}function qt(b,S,N,K){var ne=Vr;if(ne===null)throw Error(s(349));var _e=S._getVersion,Ne=_e(S._source),Ze=ws.current,at=Ze.useState(function(){return At(ne,S,N)}),_t=at[1],Dt=at[0];at=Nn;var Xt=b.memoizedState,wt=Xt.refs,Pn=wt.getSnapshot,Hn=Xt.source;Xt=Xt.subscribe;var li=rr;return b.memoizedState={refs:wt,source:S,subscribe:K},Ze.useEffect(function(){wt.getSnapshot=N,wt.setSnapshot=_t;var nt=_e(S._source);if(!An(Ne,nt)){nt=N(S._source),An(Dt,nt)||(_t(nt),nt=ma(li),ne.mutableReadLanes|=nt&ne.pendingLanes),nt=ne.mutableReadLanes,ne.entangledLanes|=nt;for(var Je=ne.entanglements,ot=nt;0<ot;){var Tt=31-Ua(ot),Ft=1<<Tt;Je[Tt]|=nt,ot&=~Ft}}},[N,S,K]),Ze.useEffect(function(){return K(S._source,function(){var nt=wt.getSnapshot,Je=wt.setSnapshot;try{Je(nt(S._source));var ot=ma(li);ne.mutableReadLanes|=ot&ne.pendingLanes}catch(Tt){Je(function(){throw Tt})}})},[S,K]),An(Pn,N)&&An(Hn,S)&&An(Xt,K)||(b={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:Dt},b.dispatch=_t=Xd.bind(null,rr,b),at.queue=b,at.baseQueue=null,Dt=At(ne,S,N),at.memoizedState=at.baseState=Dt),Dt}function _n(b,S,N){var K=ii();return qt(K,b,S,N)}function Yn(b){var S=oo();return typeof b=="function"&&(b=b()),S.memoizedState=S.baseState=b,b=S.queue={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:b},b=b.dispatch=Xd.bind(null,rr,b),[S.memoizedState,b]}function En(b,S,N,K){return b={tag:b,create:S,destroy:N,deps:K,next:null},S=rr.updateQueue,S===null?(S={lastEffect:null},rr.updateQueue=S,S.lastEffect=b.next=b):(N=S.lastEffect,N===null?S.lastEffect=b.next=b:(K=N.next,N.next=b,b.next=K,S.lastEffect=b)),b}function vc(b){var S=oo();return b={current:b},S.memoizedState=b}function _c(){return ii().memoizedState}function ai(b,S,N,K){var ne=oo();rr.flags|=b,ne.memoizedState=En(1|S,N,void 0,K===void 0?null:K)}function tl(b,S,N,K){var ne=ii();K=K===void 0?null:K;var _e=void 0;if(ir!==null){var Ne=ir.memoizedState;if(_e=Ne.destroy,K!==null&&Wd(K,Ne.deps)){En(S,N,_e,K);return}}rr.flags|=b,ne.memoizedState=En(1|S,N,_e,K)}function cg(b,S){return ai(516,4,b,S)}function Za(b,S){return tl(516,4,b,S)}function Ou(b,S){return tl(4,2,b,S)}function Nu(b,S){if(typeof S=="function")return b=b(),S(b),function(){S(null)};if(S!=null)return b=b(),S.current=b,function(){S.current=null}}function Sn(b,S,N){return N=N!=null?N.concat([b]):null,tl(4,2,Nu.bind(null,S,b),N)}function jd(){}function Zd(b,S){var N=ii();S=S===void 0?null:S;var K=N.memoizedState;return K!==null&&S!==null&&Wd(S,K[1])?K[0]:(N.memoizedState=[b,S],b)}function ku(b,S){var N=ii();S=S===void 0?null:S;var K=N.memoizedState;return K!==null&&S!==null&&Wd(S,K[1])?K[0]:(b=b(),N.memoizedState=[b,S],b)}function Ry(b,S){var N=qo();Ga(98>N?98:N,function(){b(!0)}),Ga(97<N?97:N,function(){var K=Pi.transition;Pi.transition=1;try{b(!1),S()}finally{Pi.transition=K}})}function Xd(b,S,N){var K=qn(),ne=ma(b),_e={lane:ne,action:N,eagerReducer:null,eagerState:null,next:null},Ne=S.pending;if(Ne===null?_e.next=_e:(_e.next=Ne.next,Ne.next=_e),S.pending=_e,Ne=b.alternate,b===rr||Ne!==null&&Ne===rr)Du=Iu=!0;else{if(b.lanes===0&&(Ne===null||Ne.lanes===0)&&(Ne=S.lastRenderedReducer,Ne!==null))try{var Ze=S.lastRenderedState,at=Ne(Ze,N);if(_e.eagerReducer=Ne,_e.eagerState=at,An(at,Ze))return}catch{}finally{}Ii(b,ne,K)}}var yc={readContext:Zn,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useOpaqueIdentifier:ri,unstable_isNewReconciler:!1},xc={readContext:Zn,useCallback:function(b,S){return oo().memoizedState=[b,S===void 0?null:S],b},useContext:Zn,useEffect:cg,useImperativeHandle:function(b,S,N){return N=N!=null?N.concat([b]):null,ai(4,2,Nu.bind(null,S,b),N)},useLayoutEffect:function(b,S){return ai(4,2,b,S)},useMemo:function(b,S){var N=oo();return S=S===void 0?null:S,b=b(),N.memoizedState=[b,S],b},useReducer:function(b,S,N){var K=oo();return S=N!==void 0?N(S):S,K.memoizedState=K.baseState=S,b=K.queue={pending:null,dispatch:null,lastRenderedReducer:b,lastRenderedState:S},b=b.dispatch=Xd.bind(null,rr,b),[K.memoizedState,b]},useRef:vc,useState:Yn,useDebugValue:jd,useDeferredValue:function(b){var S=Yn(b),N=S[0],K=S[1];return cg(function(){var ne=Pi.transition;Pi.transition=1;try{K(b)}finally{Pi.transition=ne}},[b]),N},useTransition:function(){var b=Yn(!1),S=b[0];return b=Ry.bind(null,b[1]),vc(b),[b,S]},useMutableSource:function(b,S,N){var K=oo();return K.memoizedState={refs:{getSnapshot:S,setSnapshot:null},source:b,subscribe:N},qt(K,b,S,N)},useOpaqueIdentifier:function(){if(la){var b=!1,S=re(function(){throw b||(b=!0,N(q())),Error(s(355))}),N=Yn(S)[1];return(rr.mode&2)==0&&(rr.flags|=516,En(5,function(){N(q())},void 0,null)),S}return S=q(),Yn(S),S},unstable_isNewReconciler:!1},bs={readContext:Zn,useCallback:Zd,useContext:Zn,useEffect:Za,useImperativeHandle:Sn,useLayoutEffect:Ou,useMemo:ku,useReducer:st,useRef:_c,useState:function(){return st(Xe)},useDebugValue:jd,useDeferredValue:function(b){var S=st(Xe),N=S[0],K=S[1];return Za(function(){var ne=Pi.transition;Pi.transition=1;try{K(b)}finally{Pi.transition=ne}},[b]),N},useTransition:function(){var b=st(Xe)[0];return[_c().current,b]},useMutableSource:_n,useOpaqueIdentifier:function(){return st(Xe)[0]},unstable_isNewReconciler:!1},wc={readContext:Zn,useCallback:Zd,useContext:Zn,useEffect:Za,useImperativeHandle:Sn,useLayoutEffect:Ou,useMemo:ku,useReducer:rt,useRef:_c,useState:function(){return rt(Xe)},useDebugValue:jd,useDeferredValue:function(b){var S=rt(Xe),N=S[0],K=S[1];return Za(function(){var ne=Pi.transition;Pi.transition=1;try{K(b)}finally{Pi.transition=ne}},[b]),N},useTransition:function(){var b=rt(Xe)[0];return[_c().current,b]},useMutableSource:_n,useOpaqueIdentifier:function(){return rt(Xe)[0]},unstable_isNewReconciler:!1},hg=o.ReactCurrentOwner,si=!1;function Wr(b,S,N,K){S.child=b===null?dc(S,null,N,K):$o(S,b.child,N,K)}function Yd(b,S,N,K,ne){N=N.render;var _e=S.ref;return Qo(S,ne),K=Vd(b,S,N,K,_e,ne),b!==null&&!si?(S.updateQueue=b.updateQueue,S.flags&=-517,b.lanes&=~ne,Wn(b,S,ne)):(S.flags|=1,Wr(b,S,K,ne),S.child)}function Fu(b,S,N,K,ne,_e){if(b===null){var Ne=N.type;return typeof Ne=="function"&&!qu(Ne)&&Ne.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(S.tag=15,S.type=Ne,qd(b,S,Ne,K,ne,_e)):(b=Bc(N.type,null,K,S,S.mode,_e),b.ref=S.ref,b.return=S,S.child=b)}return Ne=b.child,(ne&_e)==0&&(ne=Ne.memoizedProps,N=N.compare,N=N!==null?N:aa,N(ne,K)&&b.ref===S.ref)?Wn(b,S,_e):(S.flags|=1,b=Cs(Ne,K),b.ref=S.ref,b.return=S,S.child=b)}function qd(b,S,N,K,ne,_e){if(b!==null&&aa(b.memoizedProps,K)&&b.ref===S.ref)if(si=!1,(_e&ne)!=0)(b.flags&16384)!=0&&(si=!0);else return S.lanes=b.lanes,Wn(b,S,_e);return nl(b,S,N,K,_e)}function lo(b,S,N){var K=S.pendingProps,ne=K.children,_e=b!==null?b.memoizedState:null;if(K.mode==="hidden"||K.mode==="unstable-defer-without-hiding")if((S.mode&4)==0)S.memoizedState={baseLanes:0},Dc(S,N);else if((N&1073741824)!=0)S.memoizedState={baseLanes:0},Dc(S,_e!==null?_e.baseLanes:N);else return b=_e!==null?_e.baseLanes|N:N,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:b},Dc(S,b),null;else _e!==null?(K=_e.baseLanes|N,S.memoizedState=null):K=N,Dc(S,K);return Wr(b,S,ne,N),S.child}function Es(b,S){var N=S.ref;(b===null&&N!==null||b!==null&&b.ref!==N)&&(S.flags|=128)}function nl(b,S,N,K,ne){var _e=Pr(N)?Rr:Tn.current;return _e=nr(S,_e),Qo(S,ne),N=Vd(b,S,N,K,_e,ne),b!==null&&!si?(S.updateQueue=b.updateQueue,S.flags&=-517,b.lanes&=~ne,Wn(b,S,ne)):(S.flags|=1,Wr(b,S,N,ne),S.child)}function dg(b,S,N,K,ne){if(Pr(N)){var _e=!0;xu(S)}else _e=!1;if(Qo(S,ne),S.stateNode===null)b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),og(S,N,K),Ko(S,N,K,ne),K=!0;else if(b===null){var Ne=S.stateNode,Ze=S.memoizedProps;Ne.props=Ze;var at=Ne.context,_t=N.contextType;typeof _t=="object"&&_t!==null?_t=Zn(_t):(_t=Pr(N)?Rr:Tn.current,_t=nr(S,_t));var Dt=N.getDerivedStateFromProps,Xt=typeof Dt=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";Xt||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Ze!==K||at!==_t)&&Hd(S,Ne,K,_t),_s=!1;var wt=S.memoizedState;Ne.state=wt,Ci(S,K,Ne,ne),at=S.memoizedState,Ze!==K||wt!==at||nn.current||_s?(typeof Dt=="function"&&(Jo(S,N,Dt,K),at=S.memoizedState),(Ze=_s||sg(S,N,Ze,K,wt,at,_t))?(Xt||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(S.flags|=4)):(typeof Ne.componentDidMount=="function"&&(S.flags|=4),S.memoizedProps=K,S.memoizedState=at),Ne.props=K,Ne.state=at,Ne.context=_t,K=Ze):(typeof Ne.componentDidMount=="function"&&(S.flags|=4),K=!1)}else{Ne=S.stateNode,Wa(b,S),Ze=S.memoizedProps,_t=S.type===S.elementType?Ze:_i(S.type,Ze),Ne.props=_t,Xt=S.pendingProps,wt=Ne.context,at=N.contextType,typeof at=="object"&&at!==null?at=Zn(at):(at=Pr(N)?Rr:Tn.current,at=nr(S,at));var Pn=N.getDerivedStateFromProps;(Dt=typeof Pn=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Ze!==Xt||wt!==at)&&Hd(S,Ne,K,at),_s=!1,wt=S.memoizedState,Ne.state=wt,Ci(S,K,Ne,ne);var Hn=S.memoizedState;Ze!==Xt||wt!==Hn||nn.current||_s?(typeof Pn=="function"&&(Jo(S,N,Pn,K),Hn=S.memoizedState),(_t=_s||sg(S,N,_t,K,wt,Hn,at))?(Dt||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate(K,Hn,at),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate(K,Hn,at)),typeof Ne.componentDidUpdate=="function"&&(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(S.flags|=256)):(typeof Ne.componentDidUpdate!="function"||Ze===b.memoizedProps&&wt===b.memoizedState||(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Ze===b.memoizedProps&&wt===b.memoizedState||(S.flags|=256),S.memoizedProps=K,S.memoizedState=Hn),Ne.props=K,Ne.state=Hn,Ne.context=at,K=_t):(typeof Ne.componentDidUpdate!="function"||Ze===b.memoizedProps&&wt===b.memoizedState||(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Ze===b.memoizedProps&&wt===b.memoizedState||(S.flags|=256),K=!1)}return Qd(b,S,N,K,_e,ne)}function Qd(b,S,N,K,ne,_e){Es(b,S);var Ne=(S.flags&64)!=0;if(!K&&!Ne)return ne&&Nd(S,N,!1),Wn(b,S,_e);K=S.stateNode,hg.current=S;var Ze=Ne&&typeof N.getDerivedStateFromError!="function"?null:K.render();return S.flags|=1,b!==null&&Ne?(S.child=$o(S,b.child,null,_e),S.child=$o(S,null,Ze,_e)):Wr(b,S,Ze,_e),S.memoizedState=K.state,ne&&Nd(S,N,!0),S.child}function pg(b){var S=b.stateNode;S.pendingContext?yu(b,S.pendingContext,S.pendingContext!==S.context):S.context&&yu(b,S.context,!1),pc(b,S.containerInfo)}var uo={dehydrated:null,retryLane:0};function Bu(b,S,N){var K=S.pendingProps,ne=Xn.current,_e=!1,Ne;return(Ne=(S.flags&64)!=0)||(Ne=b!==null&&b.memoizedState===null?!1:(ne&2)!=0),Ne?(_e=!0,S.flags&=-65):b!==null&&b.memoizedState===null||K.fallback===void 0||K.unstable_avoidThisFallback===!0||(ne|=1),hn(Xn,ne&1),b===null?(K.fallback!==void 0&&xs(S),b=K.children,ne=K.fallback,_e?(b=bc(S,b,ne,N),S.child.memoizedState={baseLanes:N},S.memoizedState=uo,b):typeof K.unstable_expectedLoadTime=="number"?(b=bc(S,b,ne,N),S.child.memoizedState={baseLanes:N},S.memoizedState=uo,S.lanes=33554432,b):(N=zc({mode:"visible",children:b},S.mode,N,null),N.return=S,S.child=N)):b.memoizedState!==null?_e?(K=Jd(b,S,K.children,K.fallback,N),_e=S.child,ne=b.child.memoizedState,_e.memoizedState=ne===null?{baseLanes:N}:{baseLanes:ne.baseLanes|N},_e.childLanes=b.childLanes&~N,S.memoizedState=uo,K):(N=mg(b,S,K.children,N),S.memoizedState=null,N):_e?(K=Jd(b,S,K.children,K.fallback,N),_e=S.child,ne=b.child.memoizedState,_e.memoizedState=ne===null?{baseLanes:N}:{baseLanes:ne.baseLanes|N},_e.childLanes=b.childLanes&~N,S.memoizedState=uo,K):(N=mg(b,S,K.children,N),S.memoizedState=null,N)}function bc(b,S,N,K){var ne=b.mode,_e=b.child;return S={mode:"hidden",children:S},(ne&2)==0&&_e!==null?(_e.childLanes=0,_e.pendingProps=S):_e=zc(S,ne,0,null),N=_a(N,ne,K,null),_e.return=b,N.return=b,_e.sibling=N,b.child=_e,N}function mg(b,S,N,K){var ne=b.child;return b=ne.sibling,N=Cs(ne,{mode:"visible",children:N}),(S.mode&2)==0&&(N.lanes=K),N.return=S,N.sibling=null,b!==null&&(b.nextEffect=null,b.flags=8,S.firstEffect=S.lastEffect=b),S.child=N}function Jd(b,S,N,K,ne){var _e=S.mode,Ne=b.child;b=Ne.sibling;var Ze={mode:"hidden",children:N};return(_e&2)==0&&S.child!==Ne?(N=S.child,N.childLanes=0,N.pendingProps=Ze,Ne=N.lastEffect,Ne!==null?(S.firstEffect=N.firstEffect,S.lastEffect=Ne,Ne.nextEffect=null):S.firstEffect=S.lastEffect=null):N=Cs(Ne,Ze),b!==null?K=Cs(b,K):(K=_a(K,_e,ne,null),K.flags|=2),K.return=S,N.return=S,N.sibling=K,S.child=N,K}function gg(b,S){b.lanes|=S;var N=b.alternate;N!==null&&(N.lanes|=S),ni(b.return,S)}function Kd(b,S,N,K,ne,_e){var Ne=b.memoizedState;Ne===null?b.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:K,tail:N,tailMode:ne,lastEffect:_e}:(Ne.isBackwards=S,Ne.rendering=null,Ne.renderingStartTime=0,Ne.last=K,Ne.tail=N,Ne.tailMode=ne,Ne.lastEffect=_e)}function ur(b,S,N){var K=S.pendingProps,ne=K.revealOrder,_e=K.tail;if(Wr(b,S,K.children,N),K=Xn.current,(K&2)!=0)K=K&1|2,S.flags|=64;else{if(b!==null&&(b.flags&64)!=0)e:for(b=S.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&gg(b,N);else if(b.tag===19)gg(b,N);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)break e;for(;b.sibling===null;){if(b.return===null||b.return===S)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}K&=1}if(hn(Xn,K),(S.mode&2)==0)S.memoizedState=null;else switch(ne){case"forwards":for(N=S.child,ne=null;N!==null;)b=N.alternate,b!==null&&Ru(b)===null&&(ne=N),N=N.sibling;N=ne,N===null?(ne=S.child,S.child=null):(ne=N.sibling,N.sibling=null),Kd(S,!1,ne,N,_e,S.lastEffect);break;case"backwards":for(N=null,ne=S.child,S.child=null;ne!==null;){if(b=ne.alternate,b!==null&&Ru(b)===null){S.child=ne;break}b=ne.sibling,ne.sibling=N,N=ne,ne=b}Kd(S,!0,N,null,_e,S.lastEffect);break;case"together":Kd(S,!1,null,null,void 0,S.lastEffect);break;default:S.memoizedState=null}return S.child}function Wn(b,S,N){if(b!==null&&(S.dependencies=b.dependencies),Zu|=S.lanes,(N&S.childLanes)!=0){if(b!==null&&S.child!==b.child)throw Error(s(153));if(S.child!==null){for(b=S.child,N=Cs(b,b.pendingProps),S.child=N,N.return=S;b.sibling!==null;)b=b.sibling,N=N.sibling=Cs(b,b.pendingProps),N.return=S;N.sibling=null}return S.child}return null}function fa(b){b.flags|=4}var zu,rl,Ec,il;if(De)zu=function(b,S){for(var N=S.child;N!==null;){if(N.tag===5||N.tag===6)$(b,N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},rl=function(){},Ec=function(b,S,N,K,ne){if(b=b.memoizedProps,b!==K){var _e=S.stateNode,Ne=oa(Ri.current);N=oe(_e,N,b,K,ne,Ne),(S.updateQueue=N)&&fa(S)}},il=function(b,S,N,K){N!==K&&fa(S)};else if(pe){zu=function(b,S,N,K){for(var ne=S.child;ne!==null;){if(ne.tag===5){var _e=ne.stateNode;N&&K&&(_e=Se(_e,ne.type,ne.memoizedProps,ne)),$(b,_e)}else if(ne.tag===6)_e=ne.stateNode,N&&K&&(_e=Ve(_e,ne.memoizedProps,ne)),$(b,_e);else if(ne.tag!==4){if(ne.tag===13&&(ne.flags&4)!=0&&(_e=ne.memoizedState!==null)){var Ne=ne.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,zu(b,Ne,!0,_e)),_e=Ne.sibling,_e!==null)){_e.return=ne,ne=_e;continue}}if(ne.child!==null){ne.child.return=ne,ne=ne.child;continue}}if(ne===S)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===S)return;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}};var al=function(b,S,N,K){for(var ne=S.child;ne!==null;){if(ne.tag===5){var _e=ne.stateNode;N&&K&&(_e=Se(_e,ne.type,ne.memoizedProps,ne)),Pe(b,_e)}else if(ne.tag===6)_e=ne.stateNode,N&&K&&(_e=Ve(_e,ne.memoizedProps,ne)),Pe(b,_e);else if(ne.tag!==4){if(ne.tag===13&&(ne.flags&4)!=0&&(_e=ne.memoizedState!==null)){var Ne=ne.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,al(b,Ne,!0,_e)),_e=Ne.sibling,_e!==null)){_e.return=ne,ne=_e;continue}}if(ne.child!==null){ne.child.return=ne,ne=ne.child;continue}}if(ne===S)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===S)return;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}};rl=function(b){var S=b.stateNode;if(b.firstEffect!==null){var N=S.containerInfo,K=P(N);al(K,b,!1,!1),S.pendingChildren=K,fa(b),Ue(N,K)}},Ec=function(b,S,N,K,ne){var _e=b.stateNode,Ne=b.memoizedProps;if((b=S.firstEffect===null)&&Ne===K)S.stateNode=_e;else{var Ze=S.stateNode,at=oa(Ri.current),_t=null;Ne!==K&&(_t=oe(Ze,N,Ne,K,ne,at)),b&&_t===null?S.stateNode=_e:(_e=pt(_e,_t,N,Ne,K,S,b,Ze),ae(_e,N,K,ne,at)&&fa(S),S.stateNode=_e,b?fa(S):zu(_e,S,!1,!1))}},il=function(b,S,N,K){N!==K?(b=oa(ys.current),N=oa(Ri.current),S.stateNode=he(K,b,N,S),fa(S)):S.stateNode=b.stateNode}}else rl=function(){},Ec=function(){},il=function(){};function fo(b,S){if(!la)switch(b.tailMode){case"hidden":S=b.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?b.tail=null:N.sibling=null;break;case"collapsed":N=b.tail;for(var K=null;N!==null;)N.alternate!==null&&(K=N),N=N.sibling;K===null?S||b.tail===null?b.tail=null:b.tail.sibling=null:K.sibling=null}}function sl(b,S,N){var K=S.pendingProps;switch(S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Pr(S.type)&&Js(),null;case 3:return Mr(),ln(nn),ln(Tn),ua(),K=S.stateNode,K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(b===null||b.child===null)&&(gc(S)?fa(S):K.hydrate||(S.flags|=256)),rl(S),null;case 5:io(S);var ne=oa(ys.current);if(N=S.type,b!==null&&S.stateNode!=null)Ec(b,S,N,K,ne),b.ref!==S.ref&&(S.flags|=128);else{if(!K){if(S.stateNode===null)throw Error(s(166));return null}if(b=oa(Ri.current),gc(S)){if(!de)throw Error(s(175));b=gt(S.stateNode,S.type,S.memoizedProps,ne,b,S),S.updateQueue=b,b!==null&&fa(S)}else{var _e=fe(N,K,ne,b,S);zu(_e,S,!1,!1),S.stateNode=_e,ae(_e,N,K,ne,b)&&fa(S)}S.ref!==null&&(S.flags|=128)}return null;case 6:if(b&&S.stateNode!=null)il(b,S,b.memoizedProps,K);else{if(typeof K!="string"&&S.stateNode===null)throw Error(s(166));if(b=oa(ys.current),ne=oa(Ri.current),gc(S)){if(!de)throw Error(s(176));xt(S.stateNode,S.memoizedProps,S)&&fa(S)}else S.stateNode=he(K,b,ne,S)}return null;case 13:return ln(Xn),K=S.memoizedState,(S.flags&64)!=0?(S.lanes=N,S):(K=K!==null,ne=!1,b===null?S.memoizedProps.fallback!==void 0&&gc(S):ne=b.memoizedState!==null,K&&!ne&&(S.mode&2)!=0&&(b===null&&S.memoizedProps.unstable_avoidThisFallback!==!0||(Xn.current&1)!=0?Tr===0&&(Tr=3):((Tr===0||Tr===3)&&(Tr=4),Vr===null||(Zu&134217727)==0&&(Ss&134217727)==0||As(Vr,kr))),pe&&K&&(S.flags|=4),De&&(K||ne)&&(S.flags|=4),null);case 4:return Mr(),rl(S),b===null&&L(S.stateNode.containerInfo),null;case 10:return uc(S),null;case 17:return Pr(S.type)&&Js(),null;case 19:if(ln(Xn),K=S.memoizedState,K===null)return null;if(ne=(S.flags&64)!=0,_e=K.rendering,_e===null)if(ne)fo(K,!1);else{if(Tr!==0||b!==null&&(b.flags&64)!=0)for(b=S.child;b!==null;){if(_e=Ru(b),_e!==null){for(S.flags|=64,fo(K,!1),b=_e.updateQueue,b!==null&&(S.updateQueue=b,S.flags|=4),K.lastEffect===null&&(S.firstEffect=null),S.lastEffect=K.lastEffect,b=N,K=S.child;K!==null;)ne=K,N=b,ne.flags&=2,ne.nextEffect=null,ne.firstEffect=null,ne.lastEffect=null,_e=ne.alternate,_e===null?(ne.childLanes=0,ne.lanes=N,ne.child=null,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=_e.childLanes,ne.lanes=_e.lanes,ne.child=_e.child,ne.memoizedProps=_e.memoizedProps,ne.memoizedState=_e.memoizedState,ne.updateQueue=_e.updateQueue,ne.type=_e.type,N=_e.dependencies,ne.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),K=K.sibling;return hn(Xn,Xn.current&1|2),S.child}b=b.sibling}K.tail!==null&&en()>Pc&&(S.flags|=64,ne=!0,fo(K,!1),S.lanes=33554432)}else{if(!ne)if(b=Ru(_e),b!==null){if(S.flags|=64,ne=!0,b=b.updateQueue,b!==null&&(S.updateQueue=b,S.flags|=4),fo(K,!0),K.tail===null&&K.tailMode==="hidden"&&!_e.alternate&&!la)return S=S.lastEffect=K.lastEffect,S!==null&&(S.nextEffect=null),null}else 2*en()-K.renderingStartTime>Pc&&N!==1073741824&&(S.flags|=64,ne=!0,fo(K,!1),S.lanes=33554432);K.isBackwards?(_e.sibling=S.child,S.child=_e):(b=K.last,b!==null?b.sibling=_e:S.child=_e,K.last=_e)}return K.tail!==null?(b=K.tail,K.rendering=b,K.tail=b.sibling,K.lastEffect=S.lastEffect,K.renderingStartTime=en(),b.sibling=null,S=Xn.current,hn(Xn,ne?S&1|2:S&1),b):null;case 23:case 24:return _o(),b!==null&&b.memoizedState!==null!=(S.memoizedState!==null)&&K.mode!=="unstable-defer-without-hiding"&&(S.flags|=4),null}throw Error(s(156,S.tag))}function Uu(b){switch(b.tag){case 1:Pr(b.type)&&Js();var S=b.flags;return S&4096?(b.flags=S&-4097|64,b):null;case 3:if(Mr(),ln(nn),ln(Tn),ua(),S=b.flags,(S&64)!=0)throw Error(s(285));return b.flags=S&-4097|64,b;case 5:return io(b),null;case 13:return ln(Xn),S=b.flags,S&4096?(b.flags=S&-4097|64,b):null;case 19:return ln(Xn),null;case 4:return Mr(),null;case 10:return uc(b),null;case 23:case 24:return _o(),null;default:return null}}function co(b,S){try{var N="",K=S;do N+=ig(K),K=K.return;while(K);var ne=N}catch(_e){ne=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:b,source:S,stack:ne}}function ol(b,S){try{console.error(S.value)}catch(N){setTimeout(function(){throw N})}}var ll=typeof WeakMap=="function"?WeakMap:Map;function vg(b,S,N){N=Xi(-1,N),N.tag=3,N.payload={element:null};var K=S.value;return N.callback=function(){cl||(cl=!0,Ya=K),ol(b,S)},N}function _g(b,S,N){N=Xi(-1,N),N.tag=3;var K=b.type.getDerivedStateFromError;if(typeof K=="function"){var ne=S.value;N.payload=function(){return ol(b,S),K(ne)}}var _e=b.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(N.callback=function(){typeof K!="function"&&(ar===null?ar=new Set([this]):ar.add(this),ol(b,S));var Ne=S.stack;this.componentDidCatch(S.value,{componentStack:Ne!==null?Ne:""})}),N}var Py=typeof WeakSet=="function"?WeakSet:Set;function yg(b){var S=b.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){Qa(b,N)}else S.current=null}function Ly(b,S){switch(S.tag){case 0:case 11:case 15:case 22:return;case 1:if(S.flags&256&&b!==null){var N=b.memoizedProps,K=b.memoizedState;b=S.stateNode,S=b.getSnapshotBeforeUpdate(S.elementType===S.type?N:_i(S.type,N),K),b.__reactInternalSnapshotBeforeUpdate=S}return;case 3:De&&S.flags&256&&Ke(S.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(s(163))}function Hu(b,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var N=S=S.next;do{if((N.tag&b)===b){var K=N.destroy;N.destroy=void 0,K!==void 0&&K()}N=N.next}while(N!==S)}}function Gu(b,S,N){switch(N.tag){case 0:case 11:case 15:case 22:if(S=N.updateQueue,S=S!==null?S.lastEffect:null,S!==null){b=S=S.next;do{if((b.tag&3)==3){var K=b.create;b.destroy=K()}b=b.next}while(b!==S)}if(S=N.updateQueue,S=S!==null?S.lastEffect:null,S!==null){b=S=S.next;do{var ne=b;K=ne.next,ne=ne.tag,(ne&4)!=0&&(ne&1)!=0&&(Tg(N,b),cp(N,b)),b=K}while(b!==S)}return;case 1:b=N.stateNode,N.flags&4&&(S===null?b.componentDidMount():(K=N.elementType===N.type?S.memoizedProps:_i(N.type,S.memoizedProps),b.componentDidUpdate(K,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate))),S=N.updateQueue,S!==null&&cc(N,S,b);return;case 3:if(S=N.updateQueue,S!==null){if(b=null,N.child!==null)switch(N.child.tag){case 5:b=z(N.child.stateNode);break;case 1:b=N.child.stateNode}cc(N,S,b)}return;case 5:b=N.stateNode,S===null&&N.flags&4&&Ge(b,N.type,N.memoizedProps,N);return;case 6:return;case 4:return;case 12:return;case 13:de&&N.memoizedState===null&&(N=N.alternate,N!==null&&(N=N.memoizedState,N!==null&&(N=N.dehydrated,N!==null&&Qt(N))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function $d(b,S){if(De)for(var N=b;;){if(N.tag===5){var K=N.stateNode;S?Qe(K):He(N.stateNode,N.memoizedProps)}else if(N.tag===6)K=N.stateNode,S?Re(K):ue(K,N.memoizedProps);else if((N.tag!==23&&N.tag!==24||N.memoizedState===null||N===b)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===b)break;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Ee(b,S){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(wu,S)}catch{}switch(S.tag){case 0:case 11:case 14:case 15:case 22:if(b=S.updateQueue,b!==null&&(b=b.lastEffect,b!==null)){var N=b=b.next;do{var K=N,ne=K.destroy;if(K=K.tag,ne!==void 0)if((K&4)!=0)Tg(S,N);else{K=S;try{ne()}catch(_e){Qa(K,_e)}}N=N.next}while(N!==b)}break;case 1:if(yg(S),b=S.stateNode,typeof b.componentWillUnmount=="function")try{b.props=S.memoizedProps,b.state=S.memoizedState,b.componentWillUnmount()}catch(_e){Qa(S,_e)}break;case 5:yg(S);break;case 4:De?xg(b,S):pe&&pe&&(S=S.stateNode.containerInfo,b=P(S),Y(S,b))}}function ho(b,S){for(var N=S;;)if(Ee(b,N),N.child===null||De&&N.tag===4){if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function Wu(b){b.alternate=null,b.child=null,b.dependencies=null,b.firstEffect=null,b.lastEffect=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.return=null,b.updateQueue=null}function yi(b){return b.tag===5||b.tag===3||b.tag===4}function un(b){if(De){e:{for(var S=b.return;S!==null;){if(yi(S))break e;S=S.return}throw Error(s(160))}var N=S;switch(S=N.stateNode,N.tag){case 5:var K=!1;break;case 3:S=S.containerInfo,K=!0;break;case 4:S=S.containerInfo,K=!0;break;default:throw Error(s(161))}N.flags&16&&(ke(S),N.flags&=-17);e:t:for(N=b;;){for(;N.sibling===null;){if(N.return===null||yi(N.return)){N=null;break e}N=N.return}for(N.sibling.return=N.return,N=N.sibling;N.tag!==5&&N.tag!==6&&N.tag!==18;){if(N.flags&2||N.child===null||N.tag===4)continue t;N.child.return=N,N=N.child}if(!(N.flags&2)){N=N.stateNode;break e}}K?ep(b,N,S):tp(b,N,S)}}function ep(b,S,N){var K=b.tag,ne=K===5||K===6;if(ne)b=ne?b.stateNode:b.stateNode.instance,S?ct(N,b,S):Ye(N,b);else if(K!==4&&(b=b.child,b!==null))for(ep(b,S,N),b=b.sibling;b!==null;)ep(b,S,N),b=b.sibling}function tp(b,S,N){var K=b.tag,ne=K===5||K===6;if(ne)b=ne?b.stateNode:b.stateNode.instance,S?ut(N,b,S):qe(N,b);else if(K!==4&&(b=b.child,b!==null))for(tp(b,S,N),b=b.sibling;b!==null;)tp(b,S,N),b=b.sibling}function xg(b,S){for(var N=S,K=!1,ne,_e;;){if(!K){K=N.return;e:for(;;){if(K===null)throw Error(s(160));switch(ne=K.stateNode,K.tag){case 5:_e=!1;break e;case 3:ne=ne.containerInfo,_e=!0;break e;case 4:ne=ne.containerInfo,_e=!0;break e}K=K.return}K=!0}if(N.tag===5||N.tag===6)ho(b,N),_e?Ae(ne,N.stateNode):X(ne,N.stateNode);else if(N.tag===4){if(N.child!==null){ne=N.stateNode.containerInfo,_e=!0,N.child.return=N,N=N.child;continue}}else if(Ee(b,N),N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return,N.tag===4&&(K=!1)}N.sibling.return=N.return,N=N.sibling}}function Xa(b,S){if(De){switch(S.tag){case 0:case 11:case 14:case 15:case 22:Hu(3,S);return;case 1:return;case 5:var N=S.stateNode;if(N!=null){var K=S.memoizedProps;b=b!==null?b.memoizedProps:K;var ne=S.type,_e=S.updateQueue;S.updateQueue=null,_e!==null&&et(N,_e,ne,b,K,S)}return;case 6:if(S.stateNode===null)throw Error(s(162));N=S.memoizedProps,Me(S.stateNode,b!==null?b.memoizedProps:N,N);return;case 3:de&&(S=S.stateNode,S.hydrate&&(S.hydrate=!1,Ct(S.containerInfo)));return;case 12:return;case 13:wg(S),Sc(S);return;case 19:Sc(S);return;case 17:return;case 23:case 24:$d(S,S.memoizedState!==null);return}throw Error(s(163))}switch(S.tag){case 0:case 11:case 14:case 15:case 22:Hu(3,S);return;case 12:return;case 13:wg(S),Sc(S);return;case 19:Sc(S);return;case 3:de&&(N=S.stateNode,N.hydrate&&(N.hydrate=!1,Ct(N.containerInfo)));break;case 23:case 24:return}e:if(pe){switch(S.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:S=S.stateNode,Y(S.containerInfo,S.pendingChildren);break e}throw Error(s(163))}}function wg(b){b.memoizedState!==null&&(lp=en(),De&&$d(b.child,!0))}function Sc(b){var S=b.updateQueue;if(S!==null){b.updateQueue=null;var N=b.stateNode;N===null&&(N=b.stateNode=new Py),S.forEach(function(K){var ne=Nc.bind(null,b,K);N.has(K)||(N.add(K),K.then(ne,ne))})}}function Iy(b,S){return b!==null&&(b=b.memoizedState,b===null||b.dehydrated!==null)?(S=S.memoizedState,S!==null&&S.dehydrated===null):!1}var Mc=0,Tc=1,Li=2,Ac=3,Cc=4;if(typeof Symbol=="function"&&Symbol.for){var Vu=Symbol.for;Mc=Vu("selector.component"),Tc=Vu("selector.has_pseudo_class"),Li=Vu("selector.role"),Ac=Vu("selector.test_id"),Cc=Vu("selector.text")}function np(b){var S=ie(b);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(s(364));return S}if(b=U(b),b===null)throw Error(s(362));return b.stateNode.current}function rp(b,S){switch(S.$$typeof){case Mc:if(b.type===S.value)return!0;break;case Tc:e:{S=S.value,b=[b,0];for(var N=0;N<b.length;){var K=b[N++],ne=b[N++],_e=S[ne];if(K.tag!==5||!Ie(K)){for(;_e!=null&&rp(K,_e);)ne++,_e=S[ne];if(ne===S.length){S=!0;break e}else for(K=K.child;K!==null;)b.push(K,ne),K=K.sibling}}S=!1}return S;case Li:if(b.tag===5&&be(b.stateNode,S.value))return!0;break;case Cc:if((b.tag===5||b.tag===6)&&(b=ye(b),b!==null&&0<=b.indexOf(S.value)))return!0;break;case Ac:if(b.tag===5&&(b=b.memoizedProps["data-testname"],typeof b=="string"&&b.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(s(365,S))}return!1}function Yi(b){switch(b.$$typeof){case Mc:return"<"+(O(b.value)||"Unknown")+">";case Tc:return":has("+(Yi(b)||"")+")";case Li:return'[role="'+b.value+'"]';case Cc:return'"'+b.value+'"';case Ac:return'[data-testname="'+b.value+'"]';default:throw Error(s(365,b))}}function bg(b,S){var N=[];b=[b,0];for(var K=0;K<b.length;){var ne=b[K++],_e=b[K++],Ne=S[_e];if(ne.tag!==5||!Ie(ne)){for(;Ne!=null&&rp(ne,Ne);)_e++,Ne=S[_e];if(_e===S.length)N.push(ne);else for(ne=ne.child;ne!==null;)b.push(ne,_e),ne=ne.sibling}}return N}function ip(b,S){if(!I)throw Error(s(363));b=np(b),b=bg(b,S),S=[],b=Array.from(b);for(var N=0;N<b.length;){var K=b[N++];if(K.tag===5)Ie(K)||S.push(K.stateNode);else for(K=K.child;K!==null;)b.push(K),K=K.sibling}return S}var Rc=null;function Dy(b){if(Rc===null)try{var S=("require"+Math.random()).slice(0,7);Rc=(wm&&wm[S]).call(wm,"timers").setImmediate}catch{Rc=function(K){var ne=new MessageChannel;ne.port1.onmessage=K,ne.port2.postMessage(void 0)}}return Rc(b)}var Oy=Math.ceil,ca=o.ReactCurrentDispatcher,ap=o.ReactCurrentOwner,sp=o.IsSomeRendererActing,It=0,Vr=null,vr=null,kr=0,po=0,op=Zt(0),Tr=0,ju=null,ul=0,Zu=0,Ss=0,mo=0,fl=null,lp=0,Pc=1/0;function Ms(){Pc=en()+500}var St=null,cl=!1,Ya=null,ar=null,Ts=!1,hl=null,dl=90,go=[],ha=[],da=null,Xu=0,pl=null,Lc=-1,pa=0,fr=0,vo=null,ml=!1;function qn(){return(It&48)!=0?en():Lc!==-1?Lc:Lc=en()}function ma(b){if(b=b.mode,(b&2)==0)return 1;if((b&4)==0)return qo()===99?1:2;if(pa===0&&(pa=ul),rg.transition!==0){fr!==0&&(fr=fl!==null?fl.pendingLanes:0),b=pa;var S=4186112&~fr;return S&=-S,S===0&&(b=4186112&~b,S=b&-b,S===0&&(S=8192)),S}return b=qo(),(It&4)!=0&&b===98?b=bu(12,pa):(b=Vm(b),b=bu(b,pa)),b}function Ii(b,S,N){if(50<Xu)throw Xu=0,pl=null,Error(s(185));if(b=ga(b,S),b===null)return null;za(b,S,N),b===Vr&&(Ss|=S,Tr===4&&As(b,kr));var K=qo();S===1?(It&8)!=0&&(It&48)==0?up(b):(oi(b,N),It===0&&(Ms(),Ai())):((It&4)==0||K!==98&&K!==99||(da===null?da=new Set([b]):da.add(b)),oi(b,N)),fl=b}function ga(b,S){b.lanes|=S;var N=b.alternate;for(N!==null&&(N.lanes|=S),N=b,b=b.return;b!==null;)b.childLanes|=S,N=b.alternate,N!==null&&(N.childLanes|=S),N=b,b=b.return;return N.tag===3?N.stateNode:null}function oi(b,S){for(var N=b.callbackNode,K=b.suspendedLanes,ne=b.pingedLanes,_e=b.expirationTimes,Ne=b.pendingLanes;0<Ne;){var Ze=31-Ua(Ne),at=1<<Ze,_t=_e[Ze];if(_t===-1){if((at&K)==0||(at&ne)!=0){_t=S,eo(at);var Dt=On;_e[Ze]=10<=Dt?_t+250:6<=Dt?_t+5e3:-1}}else _t<=S&&(b.expiredLanes|=at);Ne&=~at}if(K=to(b,b===Vr?kr:0),S=On,K===0)N!==null&&(N!==Fd&&ic(N),b.callbackNode=null,b.callbackPriority=0);else{if(N!==null){if(b.callbackPriority===S)return;N!==Fd&&ic(N)}S===15?(N=up.bind(null,b),Ha===null?(Ha=[N],oc=rc(ac,ng)):Ha.push(N),N=Fd):S===14?N=Su(99,up.bind(null,b)):(N=jm(S),N=Su(N,Fr.bind(null,b))),b.callbackPriority=S,b.callbackNode=N}}function Fr(b){if(Lc=-1,fr=pa=0,(It&48)!=0)throw Error(s(327));var S=b.callbackNode;if(va()&&b.callbackNode!==S)return null;var N=to(b,b===Vr?kr:0);if(N===0)return null;var K=N,ne=It;It|=16;var _e=Mg();(Vr!==b||kr!==K)&&(Ms(),yo(b,K));do try{Fy();break}catch(Ze){Sg(b,Ze)}while(1);if(lc(),ca.current=_e,It=ne,vr!==null?K=0:(Vr=null,kr=0,K=Tr),(ul&Ss)!=0)yo(b,0);else if(K!==0){if(K===2&&(It|=64,b.hydrate&&(b.hydrate=!1,Ke(b.containerInfo)),N=Zm(b),N!==0&&(K=qa(b,N))),K===1)throw S=ju,yo(b,0),As(b,N),oi(b,en()),S;switch(b.finishedWork=b.current.alternate,b.finishedLanes=N,K){case 0:case 1:throw Error(s(345));case 2:xo(b);break;case 3:if(As(b,N),(N&62914560)===N&&(K=lp+500-en(),10<K)){if(to(b,0)!==0)break;if(ne=b.suspendedLanes,(ne&N)!==N){qn(),b.pingedLanes|=b.suspendedLanes&ne;break}b.timeoutHandle=we(xo.bind(null,b),K);break}xo(b);break;case 4:if(As(b,N),(N&4186112)===N)break;for(K=b.eventTimes,ne=-1;0<N;){var Ne=31-Ua(N);_e=1<<Ne,Ne=K[Ne],Ne>ne&&(ne=Ne),N&=~_e}if(N=ne,N=en()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*Oy(N/1960))-N,10<N){b.timeoutHandle=we(xo.bind(null,b),N);break}xo(b);break;case 5:xo(b);break;default:throw Error(s(329))}}return oi(b,en()),b.callbackNode===S?Fr.bind(null,b):null}function As(b,S){for(S&=~mo,S&=~Ss,b.suspendedLanes|=S,b.pingedLanes&=~S,b=b.expirationTimes;0<S;){var N=31-Ua(S),K=1<<N;b[N]=-1,S&=~K}}function up(b){if((It&48)!=0)throw Error(s(327));if(va(),b===Vr&&(b.expiredLanes&kr)!=0){var S=kr,N=qa(b,S);(ul&Ss)!=0&&(S=to(b,S),N=qa(b,S))}else S=to(b,0),N=qa(b,S);if(b.tag!==0&&N===2&&(It|=64,b.hydrate&&(b.hydrate=!1,Ke(b.containerInfo)),S=Zm(b),S!==0&&(N=qa(b,S))),N===1)throw N=ju,yo(b,0),As(b,S),oi(b,en()),N;return b.finishedWork=b.current.alternate,b.finishedLanes=S,xo(b),oi(b,en()),null}function Ny(){if(da!==null){var b=da;da=null,b.forEach(function(S){S.expiredLanes|=24&S.pendingLanes,oi(S,en())})}Ai()}function Eg(b,S){var N=It;It|=1;try{return b(S)}finally{It=N,It===0&&(Ms(),Ai())}}function Ic(b,S){var N=It;if((N&48)!=0)return b(S);It|=1;try{if(b)return Ga(99,b.bind(null,S))}finally{It=N,Ai()}}function Dc(b,S){hn(op,po),po|=S,ul|=S}function _o(){po=op.current,ln(op)}function yo(b,S){b.finishedWork=null,b.finishedLanes=0;var N=b.timeoutHandle;if(N!==Oe&&(b.timeoutHandle=Oe,xe(N)),vr!==null)for(N=vr.return;N!==null;){var K=N;switch(K.tag){case 1:K=K.type.childContextTypes,K!=null&&Js();break;case 3:Mr(),ln(nn),ln(Tn),ua();break;case 5:io(K);break;case 4:Mr();break;case 13:ln(Xn);break;case 19:ln(Xn);break;case 10:uc(K);break;case 23:case 24:_o()}N=N.return}Vr=b,vr=Cs(b.current,null),kr=po=ul=S,Tr=0,ju=null,mo=Ss=Zu=0}function Sg(b,S){do{var N=vr;try{if(lc(),ws.current=yc,Iu){for(var K=rr.memoizedState;K!==null;){var ne=K.queue;ne!==null&&(ne.pending=null),K=K.next}Iu=!1}if(Lu=0,Nn=ir=rr=null,Du=!1,ap.current=null,N===null||N.return===null){Tr=1,ju=S,vr=null;break}e:{var _e=b,Ne=N.return,Ze=N,at=S;if(S=kr,Ze.flags|=2048,Ze.firstEffect=Ze.lastEffect=null,at!==null&&typeof at=="object"&&typeof at.then=="function"){var _t=at;if((Ze.mode&2)==0){var Dt=Ze.alternate;Dt?(Ze.updateQueue=Dt.updateQueue,Ze.memoizedState=Dt.memoizedState,Ze.lanes=Dt.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var Xt=(Xn.current&1)!=0,wt=Ne;do{var Pn;if(Pn=wt.tag===13){var Hn=wt.memoizedState;if(Hn!==null)Pn=Hn.dehydrated!==null;else{var li=wt.memoizedProps;Pn=li.fallback===void 0?!1:li.unstable_avoidThisFallback!==!0?!0:!Xt}}if(Pn){var nt=wt.updateQueue;if(nt===null){var Je=new Set;Je.add(_t),wt.updateQueue=Je}else nt.add(_t);if((wt.mode&2)==0){if(wt.flags|=64,Ze.flags|=16384,Ze.flags&=-2981,Ze.tag===1)if(Ze.alternate===null)Ze.tag=17;else{var ot=Xi(-1,1);ot.tag=2,sa(Ze,ot)}Ze.lanes|=1;break e}at=void 0,Ze=S;var Tt=_e.pingCache;if(Tt===null?(Tt=_e.pingCache=new ll,at=new Set,Tt.set(_t,at)):(at=Tt.get(_t),at===void 0&&(at=new Set,Tt.set(_t,at))),!at.has(Ze)){at.add(Ze);var Ft=Ag.bind(null,_e,_t,Ze);_t.then(Ft,Ft)}wt.flags|=4096,wt.lanes=S;break e}wt=wt.return}while(wt!==null);at=Error((O(Ze.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Tr!==5&&(Tr=2),at=co(at,Ze),wt=Ne;do{switch(wt.tag){case 3:_e=at,wt.flags|=4096,S&=-S,wt.lanes|=S;var Fn=vg(wt,_e,S);Un(wt,Fn);break e;case 1:_e=at;var Yt=wt.type,wn=wt.stateNode;if((wt.flags&64)==0&&(typeof Yt.getDerivedStateFromError=="function"||wn!==null&&typeof wn.componentDidCatch=="function"&&(ar===null||!ar.has(wn)))){wt.flags|=4096,S&=-S,wt.lanes|=S;var mn=_g(wt,_e,S);Un(wt,mn);break e}}wt=wt.return}while(wt!==null)}fp(N)}catch(Kt){S=Kt,vr===N&&N!==null&&(vr=N=N.return);continue}break}while(1)}function Mg(){var b=ca.current;return ca.current=yc,b===null?yc:b}function qa(b,S){var N=It;It|=16;var K=Mg();Vr===b&&kr===S||yo(b,S);do try{ky();break}catch(ne){Sg(b,ne)}while(1);if(lc(),It=N,ca.current=K,vr!==null)throw Error(s(261));return Vr=null,kr=0,Tr}function ky(){for(;vr!==null;)Oc(vr)}function Fy(){for(;vr!==null&&!Ty();)Oc(vr)}function Oc(b){var S=Cg(b.alternate,b,po);b.memoizedProps=b.pendingProps,S===null?fp(b):vr=S,ap.current=null}function fp(b){var S=b;do{var N=S.alternate;if(b=S.return,(S.flags&2048)==0){if(N=sl(N,S,po),N!==null){vr=N;return}if(N=S,N.tag!==24&&N.tag!==23||N.memoizedState===null||(po&1073741824)!=0||(N.mode&4)==0){for(var K=0,ne=N.child;ne!==null;)K|=ne.lanes|ne.childLanes,ne=ne.sibling;N.childLanes=K}b!==null&&(b.flags&2048)==0&&(b.firstEffect===null&&(b.firstEffect=S.firstEffect),S.lastEffect!==null&&(b.lastEffect!==null&&(b.lastEffect.nextEffect=S.firstEffect),b.lastEffect=S.lastEffect),1<S.flags&&(b.lastEffect!==null?b.lastEffect.nextEffect=S:b.firstEffect=S,b.lastEffect=S))}else{if(N=Uu(S),N!==null){N.flags&=2047,vr=N;return}b!==null&&(b.firstEffect=b.lastEffect=null,b.flags|=2048)}if(S=S.sibling,S!==null){vr=S;return}vr=S=b}while(S!==null);Tr===0&&(Tr=5)}function xo(b){var S=qo();return Ga(99,By.bind(null,b,S)),null}function By(b,S){do va();while(hl!==null);if((It&48)!=0)throw Error(s(327));var N=b.finishedWork;if(N===null)return null;if(b.finishedWork=null,b.finishedLanes=0,N===b.current)throw Error(s(177));b.callbackNode=null;var K=N.lanes|N.childLanes,ne=K,_e=b.pendingLanes&~ne;b.pendingLanes=ne,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=ne,b.mutableReadLanes&=ne,b.entangledLanes&=ne,ne=b.entanglements;for(var Ne=b.eventTimes,Ze=b.expirationTimes;0<_e;){var at=31-Ua(_e),_t=1<<at;ne[at]=0,Ne[at]=-1,Ze[at]=-1,_e&=~_t}if(da!==null&&(K&24)==0&&da.has(b)&&da.delete(b),b===Vr&&(vr=Vr=null,kr=0),1<N.flags?N.lastEffect!==null?(N.lastEffect.nextEffect=N,K=N.firstEffect):K=N:K=N.firstEffect,K!==null){ne=It,It|=32,ap.current=null,vo=se(b.containerInfo),ml=!1,St=K;do try{zy()}catch(Je){if(St===null)throw Error(s(330));Qa(St,Je),St=St.nextEffect}while(St!==null);vo=null,St=K;do try{for(Ne=b;St!==null;){var Dt=St.flags;if(Dt&16&&De&&ke(St.stateNode),Dt&128){var Xt=St.alternate;if(Xt!==null){var wt=Xt.ref;wt!==null&&(typeof wt=="function"?wt(null):wt.current=null)}}switch(Dt&1038){case 2:un(St),St.flags&=-3;break;case 6:un(St),St.flags&=-3,Xa(St.alternate,St);break;case 1024:St.flags&=-1025;break;case 1028:St.flags&=-1025,Xa(St.alternate,St);break;case 4:Xa(St.alternate,St);break;case 8:Ze=Ne,_e=St,De?xg(Ze,_e):ho(Ze,_e);var Pn=_e.alternate;Wu(_e),Pn!==null&&Wu(Pn)}St=St.nextEffect}}catch(Je){if(St===null)throw Error(s(330));Qa(St,Je),St=St.nextEffect}while(St!==null);ml&&G(),le(b.containerInfo),b.current=N,St=K;do try{for(Dt=b;St!==null;){var Hn=St.flags;if(Hn&36&&Gu(Dt,St.alternate,St),Hn&128){Xt=void 0;var li=St.ref;if(li!==null){var nt=St.stateNode;switch(St.tag){case 5:Xt=z(nt);break;default:Xt=nt}typeof li=="function"?li(Xt):li.current=Xt}}St=St.nextEffect}}catch(Je){if(St===null)throw Error(s(330));Qa(St,Je),St=St.nextEffect}while(St!==null);St=null,Ay(),It=ne}else b.current=N;if(Ts)Ts=!1,hl=b,dl=S;else for(St=K;St!==null;)S=St.nextEffect,St.nextEffect=null,St.flags&8&&(Hn=St,Hn.sibling=null,Hn.stateNode=null),St=S;if(K=b.pendingLanes,K===0&&(ar=null),K===1?b===pl?Xu++:(Xu=0,pl=b):Xu=0,N=N.stateNode,Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(wu,N,void 0,(N.current.flags&64)==64)}catch{}if(oi(b,en()),cl)throw cl=!1,b=Ya,Ya=null,b;return(It&8)!=0||Ai(),null}function zy(){for(;St!==null;){var b=St.alternate;ml||vo===null||((St.flags&8)!=0?j(St,vo)&&(ml=!0,te()):St.tag===13&&Iy(b,St)&&j(St,vo)&&(ml=!0,te()));var S=St.flags;(S&256)!=0&&Ly(b,St),(S&512)==0||Ts||(Ts=!0,Su(97,function(){return va(),null})),St=St.nextEffect}}function va(){if(dl!==90){var b=97<dl?97:dl;return dl=90,Ga(b,hp)}return!1}function cp(b,S){go.push(S,b),Ts||(Ts=!0,Su(97,function(){return va(),null}))}function Tg(b,S){ha.push(S,b),Ts||(Ts=!0,Su(97,function(){return va(),null}))}function hp(){if(hl===null)return!1;var b=hl;if(hl=null,(It&48)!=0)throw Error(s(331));var S=It;It|=32;var N=ha;ha=[];for(var K=0;K<N.length;K+=2){var ne=N[K],_e=N[K+1],Ne=ne.destroy;if(ne.destroy=void 0,typeof Ne=="function")try{Ne()}catch(at){if(_e===null)throw Error(s(330));Qa(_e,at)}}for(N=go,go=[],K=0;K<N.length;K+=2){ne=N[K],_e=N[K+1];try{var Ze=ne.create;ne.destroy=Ze()}catch(at){if(_e===null)throw Error(s(330));Qa(_e,at)}}for(Ze=b.current.firstEffect;Ze!==null;)b=Ze.nextEffect,Ze.nextEffect=null,Ze.flags&8&&(Ze.sibling=null,Ze.stateNode=null),Ze=b;return It=S,Ai(),!0}function dp(b,S,N){S=co(N,S),S=vg(b,S,1),sa(b,S),S=qn(),b=ga(b,1),b!==null&&(za(b,1,S),oi(b,S))}function Qa(b,S){if(b.tag===3)dp(b,b,S);else for(var N=b.return;N!==null;){if(N.tag===3){dp(N,b,S);break}else if(N.tag===1){var K=N.stateNode;if(typeof N.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(ar===null||!ar.has(K))){b=co(S,b);var ne=_g(N,b,1);if(sa(N,ne),ne=qn(),N=ga(N,1),N!==null)za(N,1,ne),oi(N,ne);else if(typeof K.componentDidCatch=="function"&&(ar===null||!ar.has(K)))try{K.componentDidCatch(S,b)}catch{}break}}N=N.return}}function Ag(b,S,N){var K=b.pingCache;K!==null&&K.delete(S),S=qn(),b.pingedLanes|=b.suspendedLanes&N,Vr===b&&(kr&N)===N&&(Tr===4||Tr===3&&(kr&62914560)===kr&&500>en()-lp?yo(b,0):mo|=N),oi(b,S)}function Nc(b,S){var N=b.stateNode;N!==null&&N.delete(S),S=0,S===0&&(S=b.mode,(S&2)==0?S=1:(S&4)==0?S=qo()===99?1:2:(pa===0&&(pa=ul),S=vs(62914560&~pa),S===0&&(S=4194304))),N=qn(),b=ga(b,S),b!==null&&(za(b,S,N),oi(b,N))}var Cg;Cg=function(b,S,N){var K=S.lanes;if(b!==null)if(b.memoizedProps!==S.pendingProps||nn.current)si=!0;else if((N&K)!=0)si=(b.flags&16384)!=0;else{switch(si=!1,S.tag){case 3:pg(S),Pu();break;case 5:mc(S);break;case 1:Pr(S.type)&&xu(S);break;case 4:pc(S,S.stateNode.containerInfo);break;case 10:Ud(S,S.memoizedProps.value);break;case 13:if(S.memoizedState!==null)return(N&S.child.childLanes)!=0?Bu(b,S,N):(hn(Xn,Xn.current&1),S=Wn(b,S,N),S!==null?S.sibling:null);hn(Xn,Xn.current&1);break;case 19:if(K=(N&S.childLanes)!=0,(b.flags&64)!=0){if(K)return ur(b,S,N);S.flags|=64}var ne=S.memoizedState;if(ne!==null&&(ne.rendering=null,ne.tail=null,ne.lastEffect=null),hn(Xn,Xn.current),K)break;return null;case 23:case 24:return S.lanes=0,lo(b,S,N)}return Wn(b,S,N)}else si=!1;switch(S.lanes=0,S.tag){case 2:if(K=S.type,b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),b=S.pendingProps,ne=nr(S,Tn.current),Qo(S,N),ne=Vd(null,S,K,b,ne,N),S.flags|=1,typeof ne=="object"&&ne!==null&&typeof ne.render=="function"&&ne.$$typeof===void 0){if(S.tag=1,S.memoizedState=null,S.updateQueue=null,Pr(K)){var _e=!0;xu(S)}else _e=!1;S.memoizedState=ne.state!==null&&ne.state!==void 0?ne.state:null,fc(S);var Ne=K.getDerivedStateFromProps;typeof Ne=="function"&&Jo(S,K,Ne,b),ne.updater=hc,S.stateNode=ne,ne._reactInternals=S,Ko(S,K,b,N),S=Qd(null,S,K,!0,_e,N)}else S.tag=0,Wr(null,S,ne,N),S=S.child;return S;case 16:ne=S.elementType;e:{switch(b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),b=S.pendingProps,_e=ne._init,ne=_e(ne._payload),S.type=ne,_e=S.tag=an(ne),b=_i(ne,b),_e){case 0:S=nl(null,S,ne,b,N);break e;case 1:S=dg(null,S,ne,b,N);break e;case 11:S=Yd(null,S,ne,b,N);break e;case 14:S=Fu(null,S,ne,_i(ne.type,b),K,N);break e}throw Error(s(306,ne,""))}return S;case 0:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:_i(K,ne),nl(b,S,K,ne,N);case 1:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:_i(K,ne),dg(b,S,K,ne,N);case 3:if(pg(S),K=S.updateQueue,b===null||K===null)throw Error(s(282));if(K=S.pendingProps,ne=S.memoizedState,ne=ne!==null?ne.element:null,Wa(b,S),Ci(S,K,null,N),K=S.memoizedState.element,K===ne)Pu(),S=Wn(b,S,N);else{if(ne=S.stateNode,(_e=ne.hydrate)&&(de?(ao=it(S.stateNode.containerInfo),ja=S,_e=la=!0):_e=!1),_e){if(de&&(b=ne.mutableSourceEagerHydrationData,b!=null))for(ne=0;ne<b.length;ne+=2)_e=b[ne],Ne=b[ne+1],ge?_e._workInProgressVersionPrimary=Ne:_e._workInProgressVersionSecondary=Ne,so.push(_e);for(N=dc(S,null,K,N),S.child=N;N;)N.flags=N.flags&-3|1024,N=N.sibling}else Wr(b,S,K,N),Pu();S=S.child}return S;case 5:return mc(S),b===null&&xs(S),K=S.type,ne=S.pendingProps,_e=b!==null?b.memoizedProps:null,Ne=ne.children,ce(K,ne)?Ne=null:_e!==null&&ce(K,_e)&&(S.flags|=16),Es(b,S),Wr(b,S,Ne,N),S.child;case 6:return b===null&&xs(S),null;case 13:return Bu(b,S,N);case 4:return pc(S,S.stateNode.containerInfo),K=S.pendingProps,b===null?S.child=$o(S,null,K,N):Wr(b,S,K,N),S.child;case 11:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:_i(K,ne),Yd(b,S,K,ne,N);case 7:return Wr(b,S,S.pendingProps,N),S.child;case 8:return Wr(b,S,S.pendingProps.children,N),S.child;case 12:return Wr(b,S,S.pendingProps.children,N),S.child;case 10:e:{if(K=S.type._context,ne=S.pendingProps,Ne=S.memoizedProps,_e=ne.value,Ud(S,_e),Ne!==null){var Ze=Ne.value;if(_e=An(Ze,_e)?0:(typeof K._calculateChangedBits=="function"?K._calculateChangedBits(Ze,_e):1073741823)|0,_e===0){if(Ne.children===ne.children&&!nn.current){S=Wn(b,S,N);break e}}else for(Ze=S.child,Ze!==null&&(Ze.return=S);Ze!==null;){var at=Ze.dependencies;if(at!==null){Ne=Ze.child;for(var _t=at.firstContext;_t!==null;){if(_t.context===K&&(_t.observedBits&_e)!=0){Ze.tag===1&&(_t=Xi(-1,N&-N),_t.tag=2,sa(Ze,_t)),Ze.lanes|=N,_t=Ze.alternate,_t!==null&&(_t.lanes|=N),ni(Ze.return,N),at.lanes|=N;break}_t=_t.next}}else Ne=Ze.tag===10&&Ze.type===S.type?null:Ze.child;if(Ne!==null)Ne.return=Ze;else for(Ne=Ze;Ne!==null;){if(Ne===S){Ne=null;break}if(Ze=Ne.sibling,Ze!==null){Ze.return=Ne.return,Ne=Ze;break}Ne=Ne.return}Ze=Ne}}Wr(b,S,ne.children,N),S=S.child}return S;case 9:return ne=S.type,_e=S.pendingProps,K=_e.children,Qo(S,N),ne=Zn(ne,_e.unstable_observedBits),K=K(ne),S.flags|=1,Wr(b,S,K,N),S.child;case 14:return ne=S.type,_e=_i(ne,S.pendingProps),_e=_i(ne.type,_e),Fu(b,S,ne,_e,K,N);case 15:return qd(b,S,S.type,S.pendingProps,K,N);case 17:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:_i(K,ne),b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),S.tag=1,Pr(K)?(b=!0,xu(S)):b=!1,Qo(S,N),og(S,K,ne),Ko(S,K,ne,N),Qd(null,S,K,!0,b,N);case 19:return ur(b,S,N);case 23:return lo(b,S,N);case 24:return lo(b,S,N)}throw Error(s(156,S.tag))};var Yu={current:!1},kc=a.unstable_flushAllWithoutAsserting,Rg=typeof kc=="function";function Fc(){if(kc!==void 0)return kc();for(var b=!1;va();)b=!0;return b}function Pg(b){try{Fc(),Dy(function(){Fc()?Pg(b):b()})}catch(S){b(S)}}var gl=0,pp=!1;function mp(b,S,N,K){this.tag=b,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(b,S,N,K){return new mp(b,S,N,K)}function qu(b){return b=b.prototype,!(!b||!b.isReactComponent)}function an(b){if(typeof b=="function")return qu(b)?1:0;if(b!=null){if(b=b.$$typeof,b===v)return 11;if(b===m)return 14}return 2}function Cs(b,S){var N=b.alternate;return N===null?(N=Di(b.tag,S,b.key,b.mode),N.elementType=b.elementType,N.type=b.type,N.stateNode=b.stateNode,N.alternate=b,b.alternate=N):(N.pendingProps=S,N.type=b.type,N.flags=0,N.nextEffect=null,N.firstEffect=null,N.lastEffect=null),N.childLanes=b.childLanes,N.lanes=b.lanes,N.child=b.child,N.memoizedProps=b.memoizedProps,N.memoizedState=b.memoizedState,N.updateQueue=b.updateQueue,S=b.dependencies,N.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},N.sibling=b.sibling,N.index=b.index,N.ref=b.ref,N}function Bc(b,S,N,K,ne,_e){var Ne=2;if(K=b,typeof b=="function")qu(b)&&(Ne=1);else if(typeof b=="string")Ne=5;else e:switch(b){case p:return _a(N.children,ne,_e,S);case E:Ne=8,ne|=16;break;case d:Ne=8,ne|=1;break;case u:return b=Di(12,N,S,ne|8),b.elementType=u,b.type=u,b.lanes=_e,b;case y:return b=Di(13,N,S,ne),b.type=y,b.elementType=y,b.lanes=_e,b;case h:return b=Di(19,N,S,ne),b.elementType=h,b.lanes=_e,b;case T:return zc(N,ne,_e,S);case A:return b=Di(24,N,S,ne),b.elementType=A,b.lanes=_e,b;default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case f:Ne=10;break e;case l:Ne=9;break e;case v:Ne=11;break e;case m:Ne=14;break e;case _:Ne=16,K=null;break e;case w:Ne=22;break e}throw Error(s(130,b==null?b:typeof b,""))}return S=Di(Ne,N,S,ne),S.elementType=b,S.type=K,S.lanes=_e,S}function _a(b,S,N,K){return b=Di(7,b,K,S),b.lanes=N,b}function zc(b,S,N,K){return b=Di(23,b,K,S),b.elementType=T,b.lanes=N,b}function gp(b,S,N){return b=Di(6,b,null,S),b.lanes=N,b}function vp(b,S,N){return S=Di(4,b.children!==null?b.children:[],b.key,S),S.lanes=N,S.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},S}function Oi(b,S,N){this.tag=S,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.pendingContext=this.context=null,this.hydrate=N,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Eu(0),this.expirationTimes=Eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),de&&(this.mutableSourceEagerHydrationData=null)}function Lg(b){var S=b._reactInternals;if(S===void 0)throw typeof b.render=="function"?Error(s(188)):Error(s(268,Object.keys(b)));return b=Z(S),b===null?null:b.stateNode}function Qu(b,S){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var N=b.retryLane;b.retryLane=N!==0&&N<S?N:S}}function vl(b,S){Qu(b,S),(b=b.alternate)&&Qu(b,S)}function Ig(b){return b=Z(b),b===null?null:b.stateNode}function Dg(){return null}return t.IsThisRendererActing=Yu,t.act=function(b){function S(){gl--,sp.current=N,Yu.current=K}pp===!1&&(pp=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),gl++;var N=sp.current,K=Yu.current;sp.current=!0,Yu.current=!0;try{var ne=Eg(b)}catch(_e){throw S(),_e}if(ne!==null&&typeof ne=="object"&&typeof ne.then=="function")return{then:function(_e,Ne){ne.then(function(){1<gl||Rg===!0&&N===!0?(S(),_e()):Pg(function(Ze){S(),Ze?Ne(Ze):_e()})},function(Ze){S(),Ne(Ze)})}};try{gl!==1||Rg!==!1&&N!==!1||Fc(),S()}catch(_e){throw S(),_e}return{then:function(_e){_e()}}},t.attemptContinuousHydration=function(b){if(b.tag===13){var S=qn();Ii(b,67108864,S),vl(b,67108864)}},t.attemptHydrationAtCurrentPriority=function(b){if(b.tag===13){var S=qn(),N=ma(b);Ii(b,N,S),vl(b,N)}},t.attemptSynchronousHydration=function(b){switch(b.tag){case 3:var S=b.stateNode;if(S.hydrate){var N=eo(S.pendingLanes);S.expiredLanes|=N&S.pendingLanes,oi(S,en()),(It&48)==0&&(Ms(),Ai())}break;case 13:var K=qn();Ic(function(){return Ii(b,1,K)}),vl(b,4)}},t.attemptUserBlockingHydration=function(b){if(b.tag===13){var S=qn();Ii(b,4,S),vl(b,4)}},t.batchedEventUpdates=function(b,S){var N=It;It|=2;try{return b(S)}finally{It=N,It===0&&(Ms(),Ai())}},t.batchedUpdates=Eg,t.createComponentSelector=function(b){return{$$typeof:Mc,value:b}},t.createContainer=function(b,S,N){return b=new Oi(b,S,N),S=Di(3,null,null,S===2?7:S===1?3:0),b.current=S,S.stateNode=b,fc(S),b},t.createHasPsuedoClassSelector=function(b){return{$$typeof:Tc,value:b}},t.createPortal=function(b,S,N){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:K==null?null:""+K,children:b,containerInfo:S,implementation:N}},t.createRoleSelector=function(b){return{$$typeof:Li,value:b}},t.createTestNameSelector=function(b){return{$$typeof:Ac,value:b}},t.createTextSelector=function(b){return{$$typeof:Cc,value:b}},t.deferredUpdates=function(b){return Ga(97,b)},t.discreteUpdates=function(b,S,N,K,ne){var _e=It;It|=4;try{return Ga(98,b.bind(null,S,N,K,ne))}finally{It=_e,It===0&&(Ms(),Ai())}},t.findAllNodes=ip,t.findBoundingRects=function(b,S){if(!I)throw Error(s(363));S=ip(b,S),b=[];for(var N=0;N<S.length;N++)b.push(J(S[N]));for(S=b.length-1;0<S;S--){N=b[S];for(var K=N.x,ne=K+N.width,_e=N.y,Ne=_e+N.height,Ze=S-1;0<=Ze;Ze--)if(S!==Ze){var at=b[Ze],_t=at.x,Dt=_t+at.width,Xt=at.y,wt=Xt+at.height;if(K>=_t&&_e>=Xt&&ne<=Dt&&Ne<=wt){b.splice(S,1);break}else if(K!==_t||N.width!==at.width||wt<_e||Xt>Ne){if(!(_e!==Xt||N.height!==at.height||Dt<K||_t>ne)){_t>K&&(at.width+=_t-K,at.x=K),Dt<ne&&(at.width=ne-_t),b.splice(S,1);break}}else{Xt>_e&&(at.height+=Xt-_e,at.y=_e),wt<Ne&&(at.height=Ne-Xt),b.splice(S,1);break}}}return b},t.findHostInstance=Lg,t.findHostInstanceWithNoPortals=function(b){return b=V(b),b===null?null:b.tag===20?b.stateNode.instance:b.stateNode},t.findHostInstanceWithWarning=function(b){return Lg(b)},t.flushControlled=function(b){var S=It;It|=1;try{Ga(99,b)}finally{It=S,It===0&&(Ms(),Ai())}},t.flushDiscreteUpdates=function(){(It&49)==0&&(Ny(),va())},t.flushPassiveEffects=va,t.flushSync=Ic,t.focusWithin=function(b,S){if(!I)throw Error(s(363));for(b=np(b),S=bg(b,S),S=Array.from(S),b=0;b<S.length;){var N=S[b++];if(!Ie(N)){if(N.tag===5&&Le(N.stateNode))return!0;for(N=N.child;N!==null;)S.push(N),N=N.sibling}}return!1},t.getCurrentUpdateLanePriority=function(){return $s},t.getFindAllNodesFailureDescription=function(b,S){if(!I)throw Error(s(363));var N=0,K=[];b=[np(b),0];for(var ne=0;ne<b.length;){var _e=b[ne++],Ne=b[ne++],Ze=S[Ne];if((_e.tag!==5||!Ie(_e))&&(rp(_e,Ze)&&(K.push(Yi(Ze)),Ne++,Ne>N&&(N=Ne)),Ne<S.length))for(_e=_e.child;_e!==null;)b.push(_e,Ne),_e=_e.sibling}if(N<S.length){for(b=[];N<S.length;N++)b.push(Yi(S[N]));return`findAllNodes was able to match part of the selector:
  `+(K.join(" > ")+`

No matching component was found for:
  `)+b.join(" > ")}return null},t.getPublicRootInstance=function(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return z(b.child.stateNode);default:return b.child.stateNode}},t.injectIntoDevTools=function(b){if(b={bundleType:b.bundleType,version:b.version,rendererPackageName:b.rendererPackageName,rendererConfig:b.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Ig,findFiberByHostInstance:b.findFiberByHostInstance||Dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")b=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S.isDisabled&&S.supportsFiber)try{wu=S.inject(b),Ks=S}catch{}b=!0}return b},t.observeVisibleRects=function(b,S,N,K){if(!I)throw Error(s(363));b=ip(b,S);var ne=ze(b,N,K).disconnect;return{disconnect:function(){ne()}}},t.registerMutableSourceForHydration=function(b,S){var N=S._getVersion;N=N(S._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[S,N]:b.mutableSourceEagerHydrationData.push(S,N)},t.runWithPriority=function(b,S){var N=$s;try{return $s=b,S()}finally{$s=N}},t.shouldSuspend=function(){return!1},t.unbatchedUpdates=function(b,S){var N=It;It&=-2,It|=8;try{return b(S)}finally{It=N,It===0&&(Ms(),Ai())}},t.updateContainer=function(b,S,N,K){var ne=S.current,_e=qn(),Ne=ma(ne);e:if(N){N=N._reactInternals;t:{if(k(N)!==N||N.tag!==1)throw Error(s(170));var Ze=N;do{switch(Ze.tag){case 3:Ze=Ze.stateNode.context;break t;case 1:if(Pr(Ze.type)){Ze=Ze.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ze=Ze.return}while(Ze!==null);throw Error(s(171))}if(N.tag===1){var at=N.type;if(Pr(at)){N=gs(N,at,Ze);break e}}N=Ze}else N=tr;return S.context===null?S.context=N:S.pendingContext=N,S=Xi(_e,Ne),S.payload={element:b},K=K===void 0?null:K,K!==null&&(S.callback=K),sa(ne,S),Ii(ne,Ne,_e),Ne},t}});var NL=Bi((pW,OL)=>{"use strict";OL.exports=DL()});var FL=Bi((mW,kL)=>{"use strict";kL.exports=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!=0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!=0;){var s=a[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}});var HL=Bi((_W,UL)=>{function kE(n,e,t){var r,i,a,s,o;e==null&&(e=100);function c(){var p=Date.now()-s;p<e&&p>=0?r=setTimeout(c,e-p):(r=null,t||(o=n.apply(a,i),a=i=null))}var g=function(){a=this,i=arguments,s=Date.now();var p=t&&!r;return r||(r=setTimeout(c,e)),p&&(o=n.apply(a,i),a=i=null),o};return g.clear=function(){r&&(clearTimeout(r),r=null)},g.flush=function(){r&&(o=n.apply(a,i),a=i=null,clearTimeout(r),r=null)},g}kE.debounce=kE;UL.exports=kE});var f5=Bi((Od,Gm)=>{(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",o=500,c="__lodash_placeholder__",g=1,p=2,d=4,u=1,f=2,l=1,v=2,y=4,h=8,m=16,_=32,w=64,E=128,T=256,A=512,C=30,R="...",D=800,O=16,k=1,H=2,B=3,Z=1/0,V=9007199254740991,j=17976931348623157e292,z=0/0,W=4294967295,Q=W-1,se=W>>>1,le=[["ary",E],["bind",l],["bindKey",v],["curry",h],["curryRight",m],["flip",A],["partial",_],["partialRight",w],["rearg",T]],fe="[object Arguments]",$="[object Array]",ae="[object AsyncFunction]",oe="[object Boolean]",ce="[object Date]",he="[object DOMException]",we="[object Error]",xe="[object Function]",Oe="[object GeneratorFunction]",ge="[object Map]",De="[object Number]",pe="[object Null]",de="[object Object]",ie="[object Promise]",re="[object Proxy]",q="[object RegExp]",te="[object Set]",G="[object String]",L="[object Symbol]",I="[object Undefined]",U="[object WeakMap]",J="[object WeakSet]",ye="[object ArrayBuffer]",Ie="[object DataView]",be="[object Float32Array]",Le="[object Float64Array]",ze="[object Int8Array]",qe="[object Int16Array]",Ye="[object Int32Array]",Me="[object Uint8Array]",Ge="[object Uint8ClampedArray]",et="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Qe=/[&<>"']/g,Re=RegExp(ke.source),He=RegExp(Qe.source),ue=/<%-([\s\S]+?)%>/g,Ke=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(Y.source),Ve=/^\s+/,lt=/\s/,ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,it=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rt=/\w*$/,Ct=/^[-+]0x[0-9a-f]+$/i,Qt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\d*)$/,pn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bt=/($^)/,zn=/['\n\r\u2028\u2029\\]/g,Zt="\\ud800-\\udfff",ln="\\u0300-\\u036f",hn="\\ufe20-\\ufe2f",tr="\\u20d0-\\u20ff",Tn=ln+hn+tr,nn="\\u2700-\\u27bf",Rr="a-z\\xdf-\\xf6\\xf8-\\xff",nr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Js="\\u2000-\\u206f",yu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gs="A-Z\\xc0-\\xd6\\xd8-\\xde",xu="\\ufe0e\\ufe0f",Nd=nr+Pr+Js+yu,wu="['\u2019]",Ks="["+Zt+"]",Wm="["+Nd+"]",$s="["+Tn+"]",On="\\d+",eo="["+nn+"]",Vm="["+Rr+"]",jm="[^"+Zt+Nd+On+nn+Rr+gs+"]",to="\\ud83c[\\udffb-\\udfff]",Zm="(?:"+$s+"|"+to+")",bu="[^"+Zt+"]",vs="(?:\\ud83c[\\udde6-\\uddff]){2}",Eu="[\\ud800-\\udbff][\\udc00-\\udfff]",za="["+gs+"]",Ua="\\u200d",Xm="(?:"+Vm+"|"+jm+")",My="(?:"+za+"|"+jm+")",Ym="(?:"+wu+"(?:d|ll|m|re|s|t|ve))?",qm="(?:"+wu+"(?:D|LL|M|RE|S|T|VE))?",rc=Zm+"?",ic="["+xu+"]?",Ty="(?:"+Ua+"(?:"+[bu,vs,Eu].join("|")+")"+ic+rc+")*",Qm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jm=ic+rc+Ty,ac="(?:"+[eo,vs,Eu].join("|")+")"+Jm,Km="(?:"+[bu+$s+"?",$s,vs,Eu,Ks].join("|")+")",$m=RegExp(wu,"g"),eg=RegExp($s,"g"),sc=RegExp(to+"(?="+to+")|"+Km+Jm,"g"),Fd=RegExp([za+"?"+Vm+"+"+Ym+"(?="+[Wm,za,"$"].join("|")+")",My+"+"+qm+"(?="+[Wm,za+Xm,"$"].join("|")+")",za+"?"+Xm+"+"+Ym,za+"+"+qm,kd,Qm,On,ac].join("|"),"g"),Ay=RegExp("["+Ua+Zt+Tn+xu+"]"),Ha=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bd=-1,kn={};kn[be]=kn[Le]=kn[ze]=kn[qe]=kn[Ye]=kn[Me]=kn[Ge]=kn[et]=kn[ut]=!0,kn[fe]=kn[$]=kn[ye]=kn[oe]=kn[Ie]=kn[ce]=kn[we]=kn[xe]=kn[ge]=kn[De]=kn[de]=kn[q]=kn[te]=kn[G]=kn[U]=!1;var en={};en[fe]=en[$]=en[ye]=en[Ie]=en[oe]=en[ce]=en[be]=en[Le]=en[ze]=en[qe]=en[Ye]=en[ge]=en[De]=en[de]=en[q]=en[te]=en[G]=en[L]=en[Me]=en[Ge]=en[et]=en[ut]=!0,en[we]=en[xe]=en[U]=!1;var qo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ga={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Su={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ai=parseFloat,ng=parseInt,rg=typeof global=="object"&&global&&global.Object===Object&&global,Cy=typeof self=="object"&&self&&self.Object===Object&&self,An=rg||Cy||Function("return this")(),zd=typeof Od=="object"&&Od&&!Od.nodeType&&Od,aa=zd&&typeof Gm=="object"&&Gm&&!Gm.nodeType&&Gm,ig=aa&&aa.exports===zd,_i=ig&&rg.process,Gr=function(){try{var Xe=aa&&aa.require&&aa.require("util").types;return Xe||_i&&_i.binding&&_i.binding("util")}catch{}}(),Mu=Gr&&Gr.isArrayBuffer,no=Gr&&Gr.isDate,Tu=Gr&&Gr.isMap,lc=Gr&&Gr.isRegExp,Ud=Gr&&Gr.isSet,uc=Gr&&Gr.isTypedArray;function ni(Xe,st,rt){switch(rt.length){case 0:return Xe.call(st);case 1:return Xe.call(st,rt[0]);case 2:return Xe.call(st,rt[0],rt[1]);case 3:return Xe.call(st,rt[0],rt[1],rt[2])}return Xe.apply(st,rt)}function Qo(Xe,st,rt,At){for(var qt=-1,_n=Xe==null?0:Xe.length;++qt<_n;){var Yn=Xe[qt];st(At,Yn,rt(Yn),Xe)}return At}function Zn(Xe,st){for(var rt=-1,At=Xe==null?0:Xe.length;++rt<At&&st(Xe[rt],rt,Xe)!==!1;);return Xe}function _s(Xe,st){for(var rt=Xe==null?0:Xe.length;rt--&&st(Xe[rt],rt,Xe)!==!1;);return Xe}function fc(Xe,st){for(var rt=-1,At=Xe==null?0:Xe.length;++rt<At;)if(!st(Xe[rt],rt,Xe))return!1;return!0}function Wa(Xe,st){for(var rt=-1,At=Xe==null?0:Xe.length,qt=0,_n=[];++rt<At;){var Yn=Xe[rt];st(Yn,rt,Xe)&&(_n[qt++]=Yn)}return _n}function Xi(Xe,st){var rt=Xe==null?0:Xe.length;return!!rt&&Va(Xe,st,0)>-1}function sa(Xe,st,rt){for(var At=-1,qt=Xe==null?0:Xe.length;++At<qt;)if(rt(st,Xe[At]))return!0;return!1}function Un(Xe,st){for(var rt=-1,At=Xe==null?0:Xe.length,qt=Array(At);++rt<At;)qt[rt]=st(Xe[rt],rt,Xe);return qt}function Ci(Xe,st){for(var rt=-1,At=st.length,qt=Xe.length;++rt<At;)Xe[qt+rt]=st[rt];return Xe}function cc(Xe,st,rt,At){var qt=-1,_n=Xe==null?0:Xe.length;for(At&&_n&&(rt=Xe[++qt]);++qt<_n;)rt=st(rt,Xe[qt],qt,Xe);return rt}function ag(Xe,st,rt,At){var qt=Xe==null?0:Xe.length;for(At&&qt&&(rt=Xe[--qt]);qt--;)rt=st(rt,Xe[qt],qt,Xe);return rt}function Jo(Xe,st){for(var rt=-1,At=Xe==null?0:Xe.length;++rt<At;)if(st(Xe[rt],rt,Xe))return!0;return!1}var hc=$o("length");function sg(Xe){return Xe.split("")}function og(Xe){return Xe.match(tt)||[]}function Hd(Xe,st,rt){var At;return rt(Xe,function(qt,_n,Yn){if(st(qt,_n,Yn))return At=_n,!1}),At}function Ko(Xe,st,rt,At){for(var qt=Xe.length,_n=rt+(At?1:-1);At?_n--:++_n<qt;)if(st(Xe[_n],_n,Xe))return _n;return-1}function Va(Xe,st,rt){return st===st?Lu(Xe,st,rt):Ko(Xe,Cu,rt)}function Au(Xe,st,rt,At){for(var qt=rt-1,_n=Xe.length;++qt<_n;)if(At(Xe[qt],st))return qt;return-1}function Cu(Xe){return Xe!==Xe}function Gd(Xe,st){var rt=Xe==null?0:Xe.length;return rt?ro(Xe,st)/rt:z}function $o(Xe){return function(st){return st==null?n:st[Xe]}}function dc(Xe){return function(st){return Xe==null?n:Xe[st]}}function el(Xe,st,rt,At,qt){return qt(Xe,function(_n,Yn,En){rt=At?(At=!1,_n):st(rt,_n,Yn,En)}),rt}function Ri(Xe,st){var rt=Xe.length;for(Xe.sort(st);rt--;)Xe[rt]=Xe[rt].value;return Xe}function ro(Xe,st){for(var rt,At=-1,qt=Xe.length;++At<qt;){var _n=st(Xe[At]);_n!==n&&(rt=rt===n?_n:rt+_n)}return rt}function ys(Xe,st){for(var rt=-1,At=Array(Xe);++rt<Xe;)At[rt]=st(rt);return At}function oa(Xe,st){return Un(st,function(rt){return[rt,Xe[rt]]})}function pc(Xe){return Xe&&Xe.slice(0,Iu(Xe)+1).replace(Ve,"")}function Mr(Xe){return function(st){return Xe(st)}}function mc(Xe,st){return Un(st,function(rt){return Xe[rt]})}function io(Xe,st){return Xe.has(st)}function Xn(Xe,st){for(var rt=-1,At=Xe.length;++rt<At&&Va(st,Xe[rt],0)>-1;);return rt}function Ru(Xe,st){for(var rt=Xe.length;rt--&&Va(st,Xe[rt],0)>-1;);return rt}function ja(Xe,st){for(var rt=Xe.length,At=0;rt--;)Xe[rt]===st&&++At;return At}var ao=dc(qo),la=dc(tg);function lg(Xe){return"\\"+Su[Xe]}function ug(Xe,st){return Xe==null?n:Xe[st]}function xs(Xe){return Ay.test(Xe)}function fg(Xe){return Ha.test(Xe)}function gc(Xe){for(var st,rt=[];!(st=Xe.next()).done;)rt.push(st.value);return rt}function Pu(Xe){var st=-1,rt=Array(Xe.size);return Xe.forEach(function(At,qt){rt[++st]=[qt,At]}),rt}function so(Xe,st){return function(rt){return Xe(st(rt))}}function ua(Xe,st){for(var rt=-1,At=Xe.length,qt=0,_n=[];++rt<At;){var Yn=Xe[rt];(Yn===st||Yn===c)&&(Xe[rt]=c,_n[qt++]=rt)}return _n}function ws(Xe){var st=-1,rt=Array(Xe.size);return Xe.forEach(function(At){rt[++st]=At}),rt}function Pi(Xe){var st=-1,rt=Array(Xe.size);return Xe.forEach(function(At){rt[++st]=[At,At]}),rt}function Lu(Xe,st,rt){for(var At=rt-1,qt=Xe.length;++At<qt;)if(Xe[At]===st)return At;return-1}function rr(Xe,st,rt){for(var At=rt+1;At--;)if(Xe[At]===st)return At;return At}function ir(Xe){return xs(Xe)?ri(Xe):hc(Xe)}function Nn(Xe){return xs(Xe)?Wd(Xe):sg(Xe)}function Iu(Xe){for(var st=Xe.length;st--&&lt.test(Xe.charAt(st)););return st}var Du=dc(Ga);function ri(Xe){for(var st=sc.lastIndex=0;sc.test(Xe);)++st;return st}function Wd(Xe){return Xe.match(sc)||[]}function Vd(Xe){return Xe.match(Fd)||[]}var oo=function Xe(st){st=st==null?An:ii.defaults(An.Object(),st,ii.pick(An,oc));var rt=st.Array,At=st.Date,qt=st.Error,_n=st.Function,Yn=st.Math,En=st.Object,vc=st.RegExp,_c=st.String,ai=st.TypeError,tl=rt.prototype,cg=_n.prototype,Za=En.prototype,Ou=st["__core-js_shared__"],Nu=cg.toString,Sn=Za.hasOwnProperty,jd=0,Zd=function(){var x=/[^.]+$/.exec(Ou&&Ou.keys&&Ou.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),ku=Za.toString,Ry=Nu.call(En),Xd=An._,yc=vc("^"+Nu.call(Sn).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xc=ig?st.Buffer:n,bs=st.Symbol,wc=st.Uint8Array,hg=xc?xc.allocUnsafe:n,si=so(En.getPrototypeOf,En),Wr=En.create,Yd=Za.propertyIsEnumerable,Fu=tl.splice,qd=bs?bs.isConcatSpreadable:n,lo=bs?bs.iterator:n,Es=bs?bs.toStringTag:n,nl=function(){try{var x=Ju(En,"defineProperty");return x({},"",{}),x}catch{}}(),dg=st.clearTimeout!==An.clearTimeout&&st.clearTimeout,Qd=At&&At.now!==An.Date.now&&At.now,pg=st.setTimeout!==An.setTimeout&&st.setTimeout,uo=Yn.ceil,Bu=Yn.floor,bc=En.getOwnPropertySymbols,mg=xc?xc.isBuffer:n,Jd=st.isFinite,gg=tl.join,Kd=so(En.keys,En),ur=Yn.max,Wn=Yn.min,fa=At.now,zu=st.parseInt,rl=Yn.random,Ec=tl.reverse,il=Ju(st,"DataView"),al=Ju(st,"Map"),fo=Ju(st,"Promise"),sl=Ju(st,"Set"),Uu=Ju(st,"WeakMap"),co=Ju(En,"create"),ol=Uu&&new Uu,ll={},vg=Ku(il),_g=Ku(al),Py=Ku(fo),yg=Ku(sl),Ly=Ku(Uu),Hu=bs?bs.prototype:n,Gu=Hu?Hu.valueOf:n,$d=Hu?Hu.toString:n;function Ee(x){if(cr(x)&&!rn(x)&&!(x instanceof un)){if(x instanceof yi)return x;if(Sn.call(x,"__wrapped__"))return qS(x)}return new yi(x)}var ho=function(){function x(){}return function(M){if(!sr(M))return{};if(Wr)return Wr(M);x.prototype=M;var F=new x;return x.prototype=n,F}}();function Wu(){}function yi(x,M){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=n}Ee.templateSettings={escape:ue,evaluate:Ke,interpolate:pt,variable:"",imports:{_:Ee}},Ee.prototype=Wu.prototype,Ee.prototype.constructor=Ee,yi.prototype=ho(Wu.prototype),yi.prototype.constructor=yi;function un(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function ep(){var x=new un(this.__wrapped__);return x.__actions__=mn(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=mn(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=mn(this.__views__),x}function tp(){if(this.__filtered__){var x=new un(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function xg(){var x=this.__wrapped__.value(),M=this.__dir__,F=rn(x),ee=M<0,me=F?x.length:0,Te=A5(0,me,this.__views__),Fe=Te.start,We=Te.end,$e=We-Fe,ht=ee?We:Fe-1,dt=this.__iteratees__,mt=dt.length,Mt=0,kt=Wn($e,this.__takeCount__);if(!F||!ee&&me==$e&&kt==$e)return _e(x,this.__actions__);var Wt=[];e:for(;$e--&&Mt<kt;){ht+=M;for(var on=-1,Vt=x[ht];++on<mt;){var dn=dt[on],gn=dn.iteratee,Qi=dn.type,wi=gn(Vt);if(Qi==H)Vt=wi;else if(!wi){if(Qi==k)continue e;break e}}Wt[Mt++]=Vt}return Wt}un.prototype=ho(Wu.prototype),un.prototype.constructor=un;function Xa(x){var M=-1,F=x==null?0:x.length;for(this.clear();++M<F;){var ee=x[M];this.set(ee[0],ee[1])}}function wg(){this.__data__=co?co(null):{},this.size=0}function Sc(x){var M=this.has(x)&&delete this.__data__[x];return this.size-=M?1:0,M}function Iy(x){var M=this.__data__;if(co){var F=M[x];return F===s?n:F}return Sn.call(M,x)?M[x]:n}function Mc(x){var M=this.__data__;return co?M[x]!==n:Sn.call(M,x)}function Tc(x,M){var F=this.__data__;return this.size+=this.has(x)?0:1,F[x]=co&&M===n?s:M,this}Xa.prototype.clear=wg,Xa.prototype.delete=Sc,Xa.prototype.get=Iy,Xa.prototype.has=Mc,Xa.prototype.set=Tc;function Li(x){var M=-1,F=x==null?0:x.length;for(this.clear();++M<F;){var ee=x[M];this.set(ee[0],ee[1])}}function Ac(){this.__data__=[],this.size=0}function Cc(x){var M=this.__data__,F=fl(M,x);if(F<0)return!1;var ee=M.length-1;return F==ee?M.pop():Fu.call(M,F,1),--this.size,!0}function Vu(x){var M=this.__data__,F=fl(M,x);return F<0?n:M[F][1]}function np(x){return fl(this.__data__,x)>-1}function rp(x,M){var F=this.__data__,ee=fl(F,x);return ee<0?(++this.size,F.push([x,M])):F[ee][1]=M,this}Li.prototype.clear=Ac,Li.prototype.delete=Cc,Li.prototype.get=Vu,Li.prototype.has=np,Li.prototype.set=rp;function Yi(x){var M=-1,F=x==null?0:x.length;for(this.clear();++M<F;){var ee=x[M];this.set(ee[0],ee[1])}}function bg(){this.size=0,this.__data__={hash:new Xa,map:new(al||Li),string:new Xa}}function ip(x){var M=Ug(this,x).delete(x);return this.size-=M?1:0,M}function Rc(x){return Ug(this,x).get(x)}function Dy(x){return Ug(this,x).has(x)}function Oy(x,M){var F=Ug(this,x),ee=F.size;return F.set(x,M),this.size+=F.size==ee?0:1,this}Yi.prototype.clear=bg,Yi.prototype.delete=ip,Yi.prototype.get=Rc,Yi.prototype.has=Dy,Yi.prototype.set=Oy;function ca(x){var M=-1,F=x==null?0:x.length;for(this.__data__=new Yi;++M<F;)this.add(x[M])}function ap(x){return this.__data__.set(x,s),this}function sp(x){return this.__data__.has(x)}ca.prototype.add=ca.prototype.push=ap,ca.prototype.has=sp;function It(x){var M=this.__data__=new Li(x);this.size=M.size}function Vr(){this.__data__=new Li,this.size=0}function vr(x){var M=this.__data__,F=M.delete(x);return this.size=M.size,F}function kr(x){return this.__data__.get(x)}function po(x){return this.__data__.has(x)}function op(x,M){var F=this.__data__;if(F instanceof Li){var ee=F.__data__;if(!al||ee.length<t-1)return ee.push([x,M]),this.size=++F.size,this;F=this.__data__=new Yi(ee)}return F.set(x,M),this.size=F.size,this}It.prototype.clear=Vr,It.prototype.delete=vr,It.prototype.get=kr,It.prototype.has=po,It.prototype.set=op;function Tr(x,M){var F=rn(x),ee=!F&&$u(x),me=!F&&!ee&&_l(x),Te=!F&&!ee&&!me&&Wc(x),Fe=F||ee||me||Te,We=Fe?ys(x.length,_c):[],$e=We.length;for(var ht in x)(M||Sn.call(x,ht))&&!(Fe&&(ht=="length"||me&&(ht=="offset"||ht=="parent")||Te&&(ht=="buffer"||ht=="byteLength"||ht=="byteOffset")||Eo(ht,$e)))&&We.push(ht);return We}function ju(x){var M=x.length;return M?x[mp(0,M-1)]:n}function ul(x,M){return Hg(mn(x),Ya(M,0,x.length))}function Zu(x){return Hg(mn(x))}function Ss(x,M,F){(F!==n&&!Ja(x[M],F)||F===n&&!(M in x))&&St(x,M,F)}function mo(x,M,F){var ee=x[M];(!(Sn.call(x,M)&&Ja(ee,F))||F===n&&!(M in x))&&St(x,M,F)}function fl(x,M){for(var F=x.length;F--;)if(Ja(x[F][0],M))return F;return-1}function lp(x,M,F,ee){return ha(x,function(me,Te,Fe){M(ee,me,F(me),Fe)}),ee}function Pc(x,M){return x&&Kt(M,Br(M),x)}function Ms(x,M){return x&&Kt(M,ki(M),x)}function St(x,M,F){M=="__proto__"&&nl?nl(x,M,{configurable:!0,enumerable:!0,value:F,writable:!0}):x[M]=F}function cl(x,M){for(var F=-1,ee=M.length,me=rt(ee),Te=x==null;++F<ee;)me[F]=Te?n:ix(x,M[F]);return me}function Ya(x,M,F){return x===x&&(F!==n&&(x=x<=F?x:F),M!==n&&(x=x>=M?x:M)),x}function ar(x,M,F,ee,me,Te){var Fe,We=M&g,$e=M&p,ht=M&d;if(F&&(Fe=me?F(x,ee,me,Te):F(x)),Fe!==n)return Fe;if(!sr(x))return x;var dt=rn(x);if(dt){if(Fe=R5(x),!We)return mn(x,Fe)}else{var mt=ui(x),Mt=mt==xe||mt==Oe;if(_l(x))return Hn(x,We);if(mt==de||mt==fe||Mt&&!me){if(Fe=$e||Mt?{}:US(x),!We)return $e?Uy(x,Ms(Fe,x)):Rs(x,Pc(Fe,x))}else{if(!en[mt])return me?x:{};Fe=P5(x,mt,We)}}Te||(Te=new It);var kt=Te.get(x);if(kt)return kt;Te.set(x,Fe),mM(x)?x.forEach(function(Vt){Fe.add(ar(Vt,M,F,Vt,x,Te))}):dM(x)&&x.forEach(function(Vt,dn){Fe.set(dn,ar(Vt,M,F,dn,x,Te))});var Wt=ht?$e?Vy:Wy:$e?ki:Br,on=dt?n:Wt(x);return Zn(on||x,function(Vt,dn){on&&(dn=Vt,Vt=x[dn]),mo(Fe,dn,ar(Vt,M,F,dn,x,Te))}),Fe}function Ts(x){var M=Br(x);return function(F){return hl(F,x,M)}}function hl(x,M,F){var ee=F.length;if(x==null)return!ee;for(x=En(x);ee--;){var me=F[ee],Te=M[me],Fe=x[me];if(Fe===n&&!(me in x)||!Te(Fe))return!1}return!0}function dl(x,M,F){if(typeof x!="function")throw new ai(i);return xp(function(){x.apply(n,F)},M)}function go(x,M,F,ee){var me=-1,Te=Xi,Fe=!0,We=x.length,$e=[],ht=M.length;if(!We)return $e;F&&(M=Un(M,Mr(F))),ee?(Te=sa,Fe=!1):M.length>=t&&(Te=io,Fe=!1,M=new ca(M));e:for(;++me<We;){var dt=x[me],mt=F==null?dt:F(dt);if(dt=ee||dt!==0?dt:0,Fe&&mt===mt){for(var Mt=ht;Mt--;)if(M[Mt]===mt)continue e;$e.push(dt)}else Te(M,mt,ee)||$e.push(dt)}return $e}var ha=TS(qn),da=TS(ma,!0);function Xu(x,M){var F=!0;return ha(x,function(ee,me,Te){return F=!!M(ee,me,Te),F}),F}function pl(x,M,F){for(var ee=-1,me=x.length;++ee<me;){var Te=x[ee],Fe=M(Te);if(Fe!=null&&(We===n?Fe===Fe&&!qi(Fe):F(Fe,We)))var We=Fe,$e=Te}return $e}function Lc(x,M,F,ee){var me=x.length;for(F=sn(F),F<0&&(F=-F>me?0:me+F),ee=ee===n||ee>me?me:sn(ee),ee<0&&(ee+=me),ee=F>ee?0:vM(ee);F<ee;)x[F++]=M;return x}function pa(x,M){var F=[];return ha(x,function(ee,me,Te){M(ee,me,Te)&&F.push(ee)}),F}function fr(x,M,F,ee,me){var Te=-1,Fe=x.length;for(F||(F=I5),me||(me=[]);++Te<Fe;){var We=x[Te];M>0&&F(We)?M>1?fr(We,M-1,F,ee,me):Ci(me,We):ee||(me[me.length]=We)}return me}var vo=AS(),ml=AS(!0);function qn(x,M){return x&&vo(x,M,Br)}function ma(x,M){return x&&ml(x,M,Br)}function Ii(x,M){return Wa(M,function(F){return So(x[F])})}function ga(x,M){M=Dt(M,x);for(var F=0,ee=M.length;x!=null&&F<ee;)x=x[Ps(M[F++])];return F&&F==ee?x:n}function oi(x,M,F){var ee=M(x);return rn(x)?ee:Ci(ee,F(x))}function Fr(x){return x==null?x===n?I:pe:Es&&Es in En(x)?T5(x):z5(x)}function As(x,M){return x>M}function up(x,M){return x!=null&&Sn.call(x,M)}function Ny(x,M){return x!=null&&M in En(x)}function Eg(x,M,F){return x>=Wn(M,F)&&x<ur(M,F)}function Ic(x,M,F){for(var ee=F?sa:Xi,me=x[0].length,Te=x.length,Fe=Te,We=rt(Te),$e=1/0,ht=[];Fe--;){var dt=x[Fe];Fe&&M&&(dt=Un(dt,Mr(M))),$e=Wn(dt.length,$e),We[Fe]=!F&&(M||me>=120&&dt.length>=120)?new ca(Fe&&dt):n}dt=x[0];var mt=-1,Mt=We[0];e:for(;++mt<me&&ht.length<$e;){var kt=dt[mt],Wt=M?M(kt):kt;if(kt=F||kt!==0?kt:0,!(Mt?io(Mt,Wt):ee(ht,Wt,F))){for(Fe=Te;--Fe;){var on=We[Fe];if(!(on?io(on,Wt):ee(x[Fe],Wt,F)))continue e}Mt&&Mt.push(Wt),ht.push(kt)}}return ht}function Dc(x,M,F,ee){return qn(x,function(me,Te,Fe){M(ee,F(me),Te,Fe)}),ee}function _o(x,M,F){M=Dt(M,x),x=VS(x,M);var ee=x==null?x:x[Ps(ya(M))];return ee==null?n:ni(ee,x,F)}function yo(x){return cr(x)&&Fr(x)==fe}function Sg(x){return cr(x)&&Fr(x)==ye}function Mg(x){return cr(x)&&Fr(x)==ce}function qa(x,M,F,ee,me){return x===M?!0:x==null||M==null||!cr(x)&&!cr(M)?x!==x&&M!==M:ky(x,M,F,ee,qa,me)}function ky(x,M,F,ee,me,Te){var Fe=rn(x),We=rn(M),$e=Fe?$:ui(x),ht=We?$:ui(M);$e=$e==fe?de:$e,ht=ht==fe?de:ht;var dt=$e==de,mt=ht==de,Mt=$e==ht;if(Mt&&_l(x)){if(!_l(M))return!1;Fe=!0,dt=!1}if(Mt&&!dt)return Te||(Te=new It),Fe||Wc(x)?FS(x,M,F,ee,me,Te):S5(x,M,$e,F,ee,me,Te);if(!(F&u)){var kt=dt&&Sn.call(x,"__wrapped__"),Wt=mt&&Sn.call(M,"__wrapped__");if(kt||Wt){var on=kt?x.value():x,Vt=Wt?M.value():M;return Te||(Te=new It),me(on,Vt,F,ee,Te)}}return Mt?(Te||(Te=new It),M5(x,M,F,ee,me,Te)):!1}function Fy(x){return cr(x)&&ui(x)==ge}function Oc(x,M,F,ee){var me=F.length,Te=me,Fe=!ee;if(x==null)return!Te;for(x=En(x);me--;){var We=F[me];if(Fe&&We[2]?We[1]!==x[We[0]]:!(We[0]in x))return!1}for(;++me<Te;){We=F[me];var $e=We[0],ht=x[$e],dt=We[1];if(Fe&&We[2]){if(ht===n&&!($e in x))return!1}else{var mt=new It;if(ee)var Mt=ee(ht,dt,$e,x,M,mt);if(!(Mt===n?qa(dt,ht,u|f,ee,mt):Mt))return!1}}return!0}function fp(x){if(!sr(x)||O5(x))return!1;var M=So(x)?yc:Ut;return M.test(Ku(x))}function xo(x){return cr(x)&&Fr(x)==q}function By(x){return cr(x)&&ui(x)==te}function zy(x){return cr(x)&&Xg(x.length)&&!!kn[Fr(x)]}function va(x){return typeof x=="function"?x:x==null?Fi:typeof x=="object"?rn(x)?Ag(x[0],x[1]):Qa(x):CM(x)}function cp(x){if(!yp(x))return Kd(x);var M=[];for(var F in En(x))Sn.call(x,F)&&F!="constructor"&&M.push(F);return M}function Tg(x){if(!sr(x))return B5(x);var M=yp(x),F=[];for(var ee in x)ee=="constructor"&&(M||!Sn.call(x,ee))||F.push(ee);return F}function hp(x,M){return x<M}function dp(x,M){var F=-1,ee=Ni(x)?rt(x.length):[];return ha(x,function(me,Te,Fe){ee[++F]=M(me,Te,Fe)}),ee}function Qa(x){var M=Zy(x);return M.length==1&&M[0][2]?GS(M[0][0],M[0][1]):function(F){return F===x||Oc(F,x,M)}}function Ag(x,M){return Yy(x)&&HS(M)?GS(Ps(x),M):function(F){var ee=ix(F,x);return ee===n&&ee===M?ax(F,x):qa(M,ee,u|f)}}function Nc(x,M,F,ee,me){x!==M&&vo(M,function(Te,Fe){if(me||(me=new It),sr(Te))Cg(x,M,Fe,F,Nc,ee,me);else{var We=ee?ee(Qy(x,Fe),Te,Fe+"",x,M,me):n;We===n&&(We=Te),Ss(x,Fe,We)}},ki)}function Cg(x,M,F,ee,me,Te,Fe){var We=Qy(x,F),$e=Qy(M,F),ht=Fe.get($e);if(ht){Ss(x,F,ht);return}var dt=Te?Te(We,$e,F+"",x,M,Fe):n,mt=dt===n;if(mt){var Mt=rn($e),kt=!Mt&&_l($e),Wt=!Mt&&!kt&&Wc($e);dt=$e,Mt||kt||Wt?rn(We)?dt=We:_r(We)?dt=mn(We):kt?(mt=!1,dt=Hn($e,!0)):Wt?(mt=!1,dt=Tt($e,!0)):dt=[]:wp($e)||$u($e)?(dt=We,$u(We)?dt=_M(We):(!sr(We)||So(We))&&(dt=US($e))):mt=!1}mt&&(Fe.set($e,dt),me(dt,$e,ee,Te,Fe),Fe.delete($e)),Ss(x,F,dt)}function Yu(x,M){var F=x.length;if(!!F)return M+=M<0?F:0,Eo(M,F)?x[M]:n}function kc(x,M,F){M.length?M=Un(M,function(Te){return rn(Te)?function(Fe){return ga(Fe,Te.length===1?Te[0]:Te)}:Te}):M=[Fi];var ee=-1;M=Un(M,Mr(Ht()));var me=dp(x,function(Te,Fe,We){var $e=Un(M,function(ht){return ht(Te)});return{criteria:$e,index:++ee,value:Te}});return Ri(me,function(Te,Fe){return Fn(Te,Fe,F)})}function Rg(x,M){return Fc(x,M,function(F,ee){return ax(x,ee)})}function Fc(x,M,F){for(var ee=-1,me=M.length,Te={};++ee<me;){var Fe=M[ee],We=ga(x,Fe);F(We,Fe)&&_a(Te,Dt(Fe,x),We)}return Te}function Pg(x){return function(M){return ga(M,x)}}function gl(x,M,F,ee){var me=ee?Au:Va,Te=-1,Fe=M.length,We=x;for(x===M&&(M=mn(M)),F&&(We=Un(x,Mr(F)));++Te<Fe;)for(var $e=0,ht=M[Te],dt=F?F(ht):ht;($e=me(We,dt,$e,ee))>-1;)We!==x&&Fu.call(We,$e,1),Fu.call(x,$e,1);return x}function pp(x,M){for(var F=x?M.length:0,ee=F-1;F--;){var me=M[F];if(F==ee||me!==Te){var Te=me;Eo(me)?Fu.call(x,me,1):N(x,me)}}return x}function mp(x,M){return x+Bu(rl()*(M-x+1))}function Di(x,M,F,ee){for(var me=-1,Te=ur(uo((M-x)/(F||1)),0),Fe=rt(Te);Te--;)Fe[ee?Te:++me]=x,x+=F;return Fe}function qu(x,M){var F="";if(!x||M<1||M>V)return F;do M%2&&(F+=x),M=Bu(M/2),M&&(x+=x);while(M);return F}function an(x,M){return Jy(WS(x,M,Fi),x+"")}function Cs(x){return ju(Vc(x))}function Bc(x,M){var F=Vc(x);return Hg(F,Ya(M,0,F.length))}function _a(x,M,F,ee){if(!sr(x))return x;M=Dt(M,x);for(var me=-1,Te=M.length,Fe=Te-1,We=x;We!=null&&++me<Te;){var $e=Ps(M[me]),ht=F;if($e==="__proto__"||$e==="constructor"||$e==="prototype")return x;if(me!=Fe){var dt=We[$e];ht=ee?ee(dt,$e,We):n,ht===n&&(ht=sr(dt)?dt:Eo(M[me+1])?[]:{})}mo(We,$e,ht),We=We[$e]}return x}var zc=ol?function(x,M){return ol.set(x,M),x}:Fi,gp=nl?function(x,M){return nl(x,"toString",{configurable:!0,enumerable:!1,value:ox(M),writable:!0})}:Fi;function vp(x){return Hg(Vc(x))}function Oi(x,M,F){var ee=-1,me=x.length;M<0&&(M=-M>me?0:me+M),F=F>me?me:F,F<0&&(F+=me),me=M>F?0:F-M>>>0,M>>>=0;for(var Te=rt(me);++ee<me;)Te[ee]=x[ee+M];return Te}function Lg(x,M){var F;return ha(x,function(ee,me,Te){return F=M(ee,me,Te),!F}),!!F}function Qu(x,M,F){var ee=0,me=x==null?ee:x.length;if(typeof M=="number"&&M===M&&me<=se){for(;ee<me;){var Te=ee+me>>>1,Fe=x[Te];Fe!==null&&!qi(Fe)&&(F?Fe<=M:Fe<M)?ee=Te+1:me=Te}return me}return vl(x,M,Fi,F)}function vl(x,M,F,ee){var me=0,Te=x==null?0:x.length;if(Te===0)return 0;M=F(M);for(var Fe=M!==M,We=M===null,$e=qi(M),ht=M===n;me<Te;){var dt=Bu((me+Te)/2),mt=F(x[dt]),Mt=mt!==n,kt=mt===null,Wt=mt===mt,on=qi(mt);if(Fe)var Vt=ee||Wt;else ht?Vt=Wt&&(ee||Mt):We?Vt=Wt&&Mt&&(ee||!kt):$e?Vt=Wt&&Mt&&!kt&&(ee||!on):kt||on?Vt=!1:Vt=ee?mt<=M:mt<M;Vt?me=dt+1:Te=dt}return Wn(Te,Q)}function Ig(x,M){for(var F=-1,ee=x.length,me=0,Te=[];++F<ee;){var Fe=x[F],We=M?M(Fe):Fe;if(!F||!Ja(We,$e)){var $e=We;Te[me++]=Fe===0?0:Fe}}return Te}function Dg(x){return typeof x=="number"?x:qi(x)?z:+x}function b(x){if(typeof x=="string")return x;if(rn(x))return Un(x,b)+"";if(qi(x))return $d?$d.call(x):"";var M=x+"";return M=="0"&&1/x==-Z?"-0":M}function S(x,M,F){var ee=-1,me=Xi,Te=x.length,Fe=!0,We=[],$e=We;if(F)Fe=!1,me=sa;else if(Te>=t){var ht=M?null:b5(x);if(ht)return ws(ht);Fe=!1,me=io,$e=new ca}else $e=M?[]:We;e:for(;++ee<Te;){var dt=x[ee],mt=M?M(dt):dt;if(dt=F||dt!==0?dt:0,Fe&&mt===mt){for(var Mt=$e.length;Mt--;)if($e[Mt]===mt)continue e;M&&$e.push(mt),We.push(dt)}else me($e,mt,F)||($e!==We&&$e.push(mt),We.push(dt))}return We}function N(x,M){return M=Dt(M,x),x=VS(x,M),x==null||delete x[Ps(ya(M))]}function K(x,M,F,ee){return _a(x,M,F(ga(x,M)),ee)}function ne(x,M,F,ee){for(var me=x.length,Te=ee?me:-1;(ee?Te--:++Te<me)&&M(x[Te],Te,x););return F?Oi(x,ee?0:Te,ee?Te+1:me):Oi(x,ee?Te+1:0,ee?me:Te)}function _e(x,M){var F=x;return F instanceof un&&(F=F.value()),cc(M,function(ee,me){return me.func.apply(me.thisArg,Ci([ee],me.args))},F)}function Ne(x,M,F){var ee=x.length;if(ee<2)return ee?S(x[0]):[];for(var me=-1,Te=rt(ee);++me<ee;)for(var Fe=x[me],We=-1;++We<ee;)We!=me&&(Te[me]=go(Te[me]||Fe,x[We],M,F));return S(fr(Te,1),M,F)}function Ze(x,M,F){for(var ee=-1,me=x.length,Te=M.length,Fe={};++ee<me;){var We=ee<Te?M[ee]:n;F(Fe,x[ee],We)}return Fe}function at(x){return _r(x)?x:[]}function _t(x){return typeof x=="function"?x:Fi}function Dt(x,M){return rn(x)?x:Yy(x,M)?[x]:YS(Ln(x))}var Xt=an;function wt(x,M,F){var ee=x.length;return F=F===n?ee:F,!M&&F>=ee?x:Oi(x,M,F)}var Pn=dg||function(x){return An.clearTimeout(x)};function Hn(x,M){if(M)return x.slice();var F=x.length,ee=hg?hg(F):new x.constructor(F);return x.copy(ee),ee}function li(x){var M=new x.constructor(x.byteLength);return new wc(M).set(new wc(x)),M}function nt(x,M){var F=M?li(x.buffer):x.buffer;return new x.constructor(F,x.byteOffset,x.byteLength)}function Je(x){var M=new x.constructor(x.source,Rt.exec(x));return M.lastIndex=x.lastIndex,M}function ot(x){return Gu?En(Gu.call(x)):{}}function Tt(x,M){var F=M?li(x.buffer):x.buffer;return new x.constructor(F,x.byteOffset,x.length)}function Ft(x,M){if(x!==M){var F=x!==n,ee=x===null,me=x===x,Te=qi(x),Fe=M!==n,We=M===null,$e=M===M,ht=qi(M);if(!We&&!ht&&!Te&&x>M||Te&&Fe&&$e&&!We&&!ht||ee&&Fe&&$e||!F&&$e||!me)return 1;if(!ee&&!Te&&!ht&&x<M||ht&&F&&me&&!ee&&!Te||We&&F&&me||!Fe&&me||!$e)return-1}return 0}function Fn(x,M,F){for(var ee=-1,me=x.criteria,Te=M.criteria,Fe=me.length,We=F.length;++ee<Fe;){var $e=Ft(me[ee],Te[ee]);if($e){if(ee>=We)return $e;var ht=F[ee];return $e*(ht=="desc"?-1:1)}}return x.index-M.index}function Yt(x,M,F,ee){for(var me=-1,Te=x.length,Fe=F.length,We=-1,$e=M.length,ht=ur(Te-Fe,0),dt=rt($e+ht),mt=!ee;++We<$e;)dt[We]=M[We];for(;++me<Fe;)(mt||me<Te)&&(dt[F[me]]=x[me]);for(;ht--;)dt[We++]=x[me++];return dt}function wn(x,M,F,ee){for(var me=-1,Te=x.length,Fe=-1,We=F.length,$e=-1,ht=M.length,dt=ur(Te-We,0),mt=rt(dt+ht),Mt=!ee;++me<dt;)mt[me]=x[me];for(var kt=me;++$e<ht;)mt[kt+$e]=M[$e];for(;++Fe<We;)(Mt||me<Te)&&(mt[kt+F[Fe]]=x[me++]);return mt}function mn(x,M){var F=-1,ee=x.length;for(M||(M=rt(ee));++F<ee;)M[F]=x[F];return M}function Kt(x,M,F,ee){var me=!F;F||(F={});for(var Te=-1,Fe=M.length;++Te<Fe;){var We=M[Te],$e=ee?ee(F[We],x[We],We,F,x):n;$e===n&&($e=x[We]),me?St(F,We,$e):mo(F,We,$e)}return F}function Rs(x,M){return Kt(x,Xy(x),M)}function Uy(x,M){return Kt(x,BS(x),M)}function Og(x,M){return function(F,ee){var me=rn(F)?Qo:lp,Te=M?M():{};return me(F,x,Ht(ee,2),Te)}}function Uc(x){return an(function(M,F){var ee=-1,me=F.length,Te=me>1?F[me-1]:n,Fe=me>2?F[2]:n;for(Te=x.length>3&&typeof Te=="function"?(me--,Te):n,Fe&&xi(F[0],F[1],Fe)&&(Te=me<3?n:Te,me=1),M=En(M);++ee<me;){var We=F[ee];We&&x(M,We,ee,Te)}return M})}function TS(x,M){return function(F,ee){if(F==null)return F;if(!Ni(F))return x(F,ee);for(var me=F.length,Te=M?me:-1,Fe=En(F);(M?Te--:++Te<me)&&ee(Fe[Te],Te,Fe)!==!1;);return F}}function AS(x){return function(M,F,ee){for(var me=-1,Te=En(M),Fe=ee(M),We=Fe.length;We--;){var $e=Fe[x?We:++me];if(F(Te[$e],$e,Te)===!1)break}return M}}function y5(x,M,F){var ee=M&l,me=_p(x);function Te(){var Fe=this&&this!==An&&this instanceof Te?me:x;return Fe.apply(ee?F:this,arguments)}return Te}function CS(x){return function(M){M=Ln(M);var F=xs(M)?Nn(M):n,ee=F?F[0]:M.charAt(0),me=F?wt(F,1).join(""):M.slice(1);return ee[x]()+me}}function Hc(x){return function(M){return cc(TM(MM(M).replace($m,"")),x,"")}}function _p(x){return function(){var M=arguments;switch(M.length){case 0:return new x;case 1:return new x(M[0]);case 2:return new x(M[0],M[1]);case 3:return new x(M[0],M[1],M[2]);case 4:return new x(M[0],M[1],M[2],M[3]);case 5:return new x(M[0],M[1],M[2],M[3],M[4]);case 6:return new x(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new x(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var F=ho(x.prototype),ee=x.apply(F,M);return sr(ee)?ee:F}}function x5(x,M,F){var ee=_p(x);function me(){for(var Te=arguments.length,Fe=rt(Te),We=Te,$e=Gc(me);We--;)Fe[We]=arguments[We];var ht=Te<3&&Fe[0]!==$e&&Fe[Te-1]!==$e?[]:ua(Fe,$e);if(Te-=ht.length,Te<F)return DS(x,M,Ng,me.placeholder,n,Fe,ht,n,n,F-Te);var dt=this&&this!==An&&this instanceof me?ee:x;return ni(dt,this,Fe)}return me}function RS(x){return function(M,F,ee){var me=En(M);if(!Ni(M)){var Te=Ht(F,3);M=Br(M),F=function(We){return Te(me[We],We,me)}}var Fe=x(M,F,ee);return Fe>-1?me[Te?M[Fe]:Fe]:n}}function PS(x){return bo(function(M){var F=M.length,ee=F,me=yi.prototype.thru;for(x&&M.reverse();ee--;){var Te=M[ee];if(typeof Te!="function")throw new ai(i);if(me&&!Fe&&zg(Te)=="wrapper")var Fe=new yi([],!0)}for(ee=Fe?ee:F;++ee<F;){Te=M[ee];var We=zg(Te),$e=We=="wrapper"?jy(Te):n;$e&&qy($e[0])&&$e[1]==(E|h|_|T)&&!$e[4].length&&$e[9]==1?Fe=Fe[zg($e[0])].apply(Fe,$e[3]):Fe=Te.length==1&&qy(Te)?Fe[We]():Fe.thru(Te)}return function(){var ht=arguments,dt=ht[0];if(Fe&&ht.length==1&&rn(dt))return Fe.plant(dt).value();for(var mt=0,Mt=F?M[mt].apply(this,ht):dt;++mt<F;)Mt=M[mt].call(this,Mt);return Mt}})}function Ng(x,M,F,ee,me,Te,Fe,We,$e,ht){var dt=M&E,mt=M&l,Mt=M&v,kt=M&(h|m),Wt=M&A,on=Mt?n:_p(x);function Vt(){for(var dn=arguments.length,gn=rt(dn),Qi=dn;Qi--;)gn[Qi]=arguments[Qi];if(kt)var wi=Gc(Vt),Ji=ja(gn,wi);if(ee&&(gn=Yt(gn,ee,me,kt)),Te&&(gn=wn(gn,Te,Fe,kt)),dn-=Ji,kt&&dn<ht){var yr=ua(gn,wi);return DS(x,M,Ng,Vt.placeholder,F,gn,yr,We,$e,ht-dn)}var Ka=mt?F:this,To=Mt?Ka[x]:x;return dn=gn.length,We?gn=U5(gn,We):Wt&&dn>1&&gn.reverse(),dt&&$e<dn&&(gn.length=$e),this&&this!==An&&this instanceof Vt&&(To=on||_p(To)),To.apply(Ka,gn)}return Vt}function LS(x,M){return function(F,ee){return Dc(F,x,M(ee),{})}}function kg(x,M){return function(F,ee){var me;if(F===n&&ee===n)return M;if(F!==n&&(me=F),ee!==n){if(me===n)return ee;typeof F=="string"||typeof ee=="string"?(F=b(F),ee=b(ee)):(F=Dg(F),ee=Dg(ee)),me=x(F,ee)}return me}}function Hy(x){return bo(function(M){return M=Un(M,Mr(Ht())),an(function(F){var ee=this;return x(M,function(me){return ni(me,ee,F)})})})}function Fg(x,M){M=M===n?" ":b(M);var F=M.length;if(F<2)return F?qu(M,x):M;var ee=qu(M,uo(x/ir(M)));return xs(M)?wt(Nn(ee),0,x).join(""):ee.slice(0,x)}function w5(x,M,F,ee){var me=M&l,Te=_p(x);function Fe(){for(var We=-1,$e=arguments.length,ht=-1,dt=ee.length,mt=rt(dt+$e),Mt=this&&this!==An&&this instanceof Fe?Te:x;++ht<dt;)mt[ht]=ee[ht];for(;$e--;)mt[ht++]=arguments[++We];return ni(Mt,me?F:this,mt)}return Fe}function IS(x){return function(M,F,ee){return ee&&typeof ee!="number"&&xi(M,F,ee)&&(F=ee=n),M=Mo(M),F===n?(F=M,M=0):F=Mo(F),ee=ee===n?M<F?1:-1:Mo(ee),Di(M,F,ee,x)}}function Bg(x){return function(M,F){return typeof M=="string"&&typeof F=="string"||(M=xa(M),F=xa(F)),x(M,F)}}function DS(x,M,F,ee,me,Te,Fe,We,$e,ht){var dt=M&h,mt=dt?Fe:n,Mt=dt?n:Fe,kt=dt?Te:n,Wt=dt?n:Te;M|=dt?_:w,M&=~(dt?w:_),M&y||(M&=~(l|v));var on=[x,M,me,kt,mt,Wt,Mt,We,$e,ht],Vt=F.apply(n,on);return qy(x)&&jS(Vt,on),Vt.placeholder=ee,ZS(Vt,x,M)}function Gy(x){var M=Yn[x];return function(F,ee){if(F=xa(F),ee=ee==null?0:Wn(sn(ee),292),ee&&Jd(F)){var me=(Ln(F)+"e").split("e"),Te=M(me[0]+"e"+(+me[1]+ee));return me=(Ln(Te)+"e").split("e"),+(me[0]+"e"+(+me[1]-ee))}return M(F)}}var b5=sl&&1/ws(new sl([,-0]))[1]==Z?function(x){return new sl(x)}:fx;function OS(x){return function(M){var F=ui(M);return F==ge?Pu(M):F==te?Pi(M):oa(M,x(M))}}function wo(x,M,F,ee,me,Te,Fe,We){var $e=M&v;if(!$e&&typeof x!="function")throw new ai(i);var ht=ee?ee.length:0;if(ht||(M&=~(_|w),ee=me=n),Fe=Fe===n?Fe:ur(sn(Fe),0),We=We===n?We:sn(We),ht-=me?me.length:0,M&w){var dt=ee,mt=me;ee=me=n}var Mt=$e?n:jy(x),kt=[x,M,F,ee,me,dt,mt,Te,Fe,We];if(Mt&&F5(kt,Mt),x=kt[0],M=kt[1],F=kt[2],ee=kt[3],me=kt[4],We=kt[9]=kt[9]===n?$e?0:x.length:ur(kt[9]-ht,0),!We&&M&(h|m)&&(M&=~(h|m)),!M||M==l)var Wt=y5(x,M,F);else M==h||M==m?Wt=x5(x,M,We):(M==_||M==(l|_))&&!me.length?Wt=w5(x,M,F,ee):Wt=Ng.apply(n,kt);var on=Mt?zc:jS;return ZS(on(Wt,kt),x,M)}function NS(x,M,F,ee){return x===n||Ja(x,Za[F])&&!Sn.call(ee,F)?M:x}function kS(x,M,F,ee,me,Te){return sr(x)&&sr(M)&&(Te.set(M,x),Nc(x,M,n,kS,Te),Te.delete(M)),x}function E5(x){return wp(x)?n:x}function FS(x,M,F,ee,me,Te){var Fe=F&u,We=x.length,$e=M.length;if(We!=$e&&!(Fe&&$e>We))return!1;var ht=Te.get(x),dt=Te.get(M);if(ht&&dt)return ht==M&&dt==x;var mt=-1,Mt=!0,kt=F&f?new ca:n;for(Te.set(x,M),Te.set(M,x);++mt<We;){var Wt=x[mt],on=M[mt];if(ee)var Vt=Fe?ee(on,Wt,mt,M,x,Te):ee(Wt,on,mt,x,M,Te);if(Vt!==n){if(Vt)continue;Mt=!1;break}if(kt){if(!Jo(M,function(dn,gn){if(!io(kt,gn)&&(Wt===dn||me(Wt,dn,F,ee,Te)))return kt.push(gn)})){Mt=!1;break}}else if(!(Wt===on||me(Wt,on,F,ee,Te))){Mt=!1;break}}return Te.delete(x),Te.delete(M),Mt}function S5(x,M,F,ee,me,Te,Fe){switch(F){case Ie:if(x.byteLength!=M.byteLength||x.byteOffset!=M.byteOffset)return!1;x=x.buffer,M=M.buffer;case ye:return!(x.byteLength!=M.byteLength||!Te(new wc(x),new wc(M)));case oe:case ce:case De:return Ja(+x,+M);case we:return x.name==M.name&&x.message==M.message;case q:case G:return x==M+"";case ge:var We=Pu;case te:var $e=ee&u;if(We||(We=ws),x.size!=M.size&&!$e)return!1;var ht=Fe.get(x);if(ht)return ht==M;ee|=f,Fe.set(x,M);var dt=FS(We(x),We(M),ee,me,Te,Fe);return Fe.delete(x),dt;case L:if(Gu)return Gu.call(x)==Gu.call(M)}return!1}function M5(x,M,F,ee,me,Te){var Fe=F&u,We=Wy(x),$e=We.length,ht=Wy(M),dt=ht.length;if($e!=dt&&!Fe)return!1;for(var mt=$e;mt--;){var Mt=We[mt];if(!(Fe?Mt in M:Sn.call(M,Mt)))return!1}var kt=Te.get(x),Wt=Te.get(M);if(kt&&Wt)return kt==M&&Wt==x;var on=!0;Te.set(x,M),Te.set(M,x);for(var Vt=Fe;++mt<$e;){Mt=We[mt];var dn=x[Mt],gn=M[Mt];if(ee)var Qi=Fe?ee(gn,dn,Mt,M,x,Te):ee(dn,gn,Mt,x,M,Te);if(!(Qi===n?dn===gn||me(dn,gn,F,ee,Te):Qi)){on=!1;break}Vt||(Vt=Mt=="constructor")}if(on&&!Vt){var wi=x.constructor,Ji=M.constructor;wi!=Ji&&"constructor"in x&&"constructor"in M&&!(typeof wi=="function"&&wi instanceof wi&&typeof Ji=="function"&&Ji instanceof Ji)&&(on=!1)}return Te.delete(x),Te.delete(M),on}function bo(x){return Jy(WS(x,n,KS),x+"")}function Wy(x){return oi(x,Br,Xy)}function Vy(x){return oi(x,ki,BS)}var jy=ol?function(x){return ol.get(x)}:fx;function zg(x){for(var M=x.name+"",F=ll[M],ee=Sn.call(ll,M)?F.length:0;ee--;){var me=F[ee],Te=me.func;if(Te==null||Te==x)return me.name}return M}function Gc(x){var M=Sn.call(Ee,"placeholder")?Ee:x;return M.placeholder}function Ht(){var x=Ee.iteratee||lx;return x=x===lx?va:x,arguments.length?x(arguments[0],arguments[1]):x}function Ug(x,M){var F=x.__data__;return D5(M)?F[typeof M=="string"?"string":"hash"]:F.map}function Zy(x){for(var M=Br(x),F=M.length;F--;){var ee=M[F],me=x[ee];M[F]=[ee,me,HS(me)]}return M}function Ju(x,M){var F=ug(x,M);return fp(F)?F:n}function T5(x){var M=Sn.call(x,Es),F=x[Es];try{x[Es]=n;var ee=!0}catch{}var me=ku.call(x);return ee&&(M?x[Es]=F:delete x[Es]),me}var Xy=bc?function(x){return x==null?[]:(x=En(x),Wa(bc(x),function(M){return Yd.call(x,M)}))}:cx,BS=bc?function(x){for(var M=[];x;)Ci(M,Xy(x)),x=si(x);return M}:cx,ui=Fr;(il&&ui(new il(new ArrayBuffer(1)))!=Ie||al&&ui(new al)!=ge||fo&&ui(fo.resolve())!=ie||sl&&ui(new sl)!=te||Uu&&ui(new Uu)!=U)&&(ui=function(x){var M=Fr(x),F=M==de?x.constructor:n,ee=F?Ku(F):"";if(ee)switch(ee){case vg:return Ie;case _g:return ge;case Py:return ie;case yg:return te;case Ly:return U}return M});function A5(x,M,F){for(var ee=-1,me=F.length;++ee<me;){var Te=F[ee],Fe=Te.size;switch(Te.type){case"drop":x+=Fe;break;case"dropRight":M-=Fe;break;case"take":M=Wn(M,x+Fe);break;case"takeRight":x=ur(x,M-Fe);break}}return{start:x,end:M}}function C5(x){var M=x.match(Be);return M?M[1].split(je):[]}function zS(x,M,F){M=Dt(M,x);for(var ee=-1,me=M.length,Te=!1;++ee<me;){var Fe=Ps(M[ee]);if(!(Te=x!=null&&F(x,Fe)))break;x=x[Fe]}return Te||++ee!=me?Te:(me=x==null?0:x.length,!!me&&Xg(me)&&Eo(Fe,me)&&(rn(x)||$u(x)))}function R5(x){var M=x.length,F=new x.constructor(M);return M&&typeof x[0]=="string"&&Sn.call(x,"index")&&(F.index=x.index,F.input=x.input),F}function US(x){return typeof x.constructor=="function"&&!yp(x)?ho(si(x)):{}}function P5(x,M,F){var ee=x.constructor;switch(M){case ye:return li(x);case oe:case ce:return new ee(+x);case Ie:return nt(x,F);case be:case Le:case ze:case qe:case Ye:case Me:case Ge:case et:case ut:return Tt(x,F);case ge:return new ee;case De:case G:return new ee(x);case q:return Je(x);case te:return new ee;case L:return ot(x)}}function L5(x,M){var F=M.length;if(!F)return x;var ee=F-1;return M[ee]=(F>1?"& ":"")+M[ee],M=M.join(F>2?", ":" "),x.replace(ve,`{
/* [wrapped with `+M+`] */
`)}function I5(x){return rn(x)||$u(x)||!!(qd&&x&&x[qd])}function Eo(x,M){var F=typeof x;return M=M??V,!!M&&(F=="number"||F!="symbol"&&$t.test(x))&&x>-1&&x%1==0&&x<M}function xi(x,M,F){if(!sr(F))return!1;var ee=typeof M;return(ee=="number"?Ni(F)&&Eo(M,F.length):ee=="string"&&M in F)?Ja(F[M],x):!1}function Yy(x,M){if(rn(x))return!1;var F=typeof x;return F=="number"||F=="symbol"||F=="boolean"||x==null||qi(x)?!0:Pe.test(x)||!P.test(x)||M!=null&&x in En(M)}function D5(x){var M=typeof x;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?x!=="__proto__":x===null}function qy(x){var M=zg(x),F=Ee[M];if(typeof F!="function"||!(M in un.prototype))return!1;if(x===F)return!0;var ee=jy(F);return!!ee&&x===ee[0]}function O5(x){return!!Zd&&Zd in x}var N5=Ou?So:hx;function yp(x){var M=x&&x.constructor,F=typeof M=="function"&&M.prototype||Za;return x===F}function HS(x){return x===x&&!sr(x)}function GS(x,M){return function(F){return F==null?!1:F[x]===M&&(M!==n||x in En(F))}}function k5(x){var M=jg(x,function(ee){return F.size===o&&F.clear(),ee}),F=M.cache;return M}function F5(x,M){var F=x[1],ee=M[1],me=F|ee,Te=me<(l|v|E),Fe=ee==E&&F==h||ee==E&&F==T&&x[7].length<=M[8]||ee==(E|T)&&M[7].length<=M[8]&&F==h;if(!(Te||Fe))return x;ee&l&&(x[2]=M[2],me|=F&l?0:y);var We=M[3];if(We){var $e=x[3];x[3]=$e?Yt($e,We,M[4]):We,x[4]=$e?ua(x[3],c):M[4]}return We=M[5],We&&($e=x[5],x[5]=$e?wn($e,We,M[6]):We,x[6]=$e?ua(x[5],c):M[6]),We=M[7],We&&(x[7]=We),ee&E&&(x[8]=x[8]==null?M[8]:Wn(x[8],M[8])),x[9]==null&&(x[9]=M[9]),x[0]=M[0],x[1]=me,x}function B5(x){var M=[];if(x!=null)for(var F in En(x))M.push(F);return M}function z5(x){return ku.call(x)}function WS(x,M,F){return M=ur(M===n?x.length-1:M,0),function(){for(var ee=arguments,me=-1,Te=ur(ee.length-M,0),Fe=rt(Te);++me<Te;)Fe[me]=ee[M+me];me=-1;for(var We=rt(M+1);++me<M;)We[me]=ee[me];return We[M]=F(Fe),ni(x,this,We)}}function VS(x,M){return M.length<2?x:ga(x,Oi(M,0,-1))}function U5(x,M){for(var F=x.length,ee=Wn(M.length,F),me=mn(x);ee--;){var Te=M[ee];x[ee]=Eo(Te,F)?me[Te]:n}return x}function Qy(x,M){if(!(M==="constructor"&&typeof x[M]=="function")&&M!="__proto__")return x[M]}var jS=XS(zc),xp=pg||function(x,M){return An.setTimeout(x,M)},Jy=XS(gp);function ZS(x,M,F){var ee=M+"";return Jy(x,L5(ee,H5(C5(ee),F)))}function XS(x){var M=0,F=0;return function(){var ee=fa(),me=O-(ee-F);if(F=ee,me>0){if(++M>=D)return arguments[0]}else M=0;return x.apply(n,arguments)}}function Hg(x,M){var F=-1,ee=x.length,me=ee-1;for(M=M===n?ee:M;++F<M;){var Te=mp(F,me),Fe=x[Te];x[Te]=x[F],x[F]=Fe}return x.length=M,x}var YS=k5(function(x){var M=[];return x.charCodeAt(0)===46&&M.push(""),x.replace(Ue,function(F,ee,me,Te){M.push(me?Te.replace(gt,"$1"):ee||F)}),M});function Ps(x){if(typeof x=="string"||qi(x))return x;var M=x+"";return M=="0"&&1/x==-Z?"-0":M}function Ku(x){if(x!=null){try{return Nu.call(x)}catch{}try{return x+""}catch{}}return""}function H5(x,M){return Zn(le,function(F){var ee="_."+F[0];M&F[1]&&!Xi(x,ee)&&x.push(ee)}),x.sort()}function qS(x){if(x instanceof un)return x.clone();var M=new yi(x.__wrapped__,x.__chain__);return M.__actions__=mn(x.__actions__),M.__index__=x.__index__,M.__values__=x.__values__,M}function G5(x,M,F){(F?xi(x,M,F):M===n)?M=1:M=ur(sn(M),0);var ee=x==null?0:x.length;if(!ee||M<1)return[];for(var me=0,Te=0,Fe=rt(uo(ee/M));me<ee;)Fe[Te++]=Oi(x,me,me+=M);return Fe}function W5(x){for(var M=-1,F=x==null?0:x.length,ee=0,me=[];++M<F;){var Te=x[M];Te&&(me[ee++]=Te)}return me}function V5(){var x=arguments.length;if(!x)return[];for(var M=rt(x-1),F=arguments[0],ee=x;ee--;)M[ee-1]=arguments[ee];return Ci(rn(F)?mn(F):[F],fr(M,1))}var j5=an(function(x,M){return _r(x)?go(x,fr(M,1,_r,!0)):[]}),Z5=an(function(x,M){var F=ya(M);return _r(F)&&(F=n),_r(x)?go(x,fr(M,1,_r,!0),Ht(F,2)):[]}),X5=an(function(x,M){var F=ya(M);return _r(F)&&(F=n),_r(x)?go(x,fr(M,1,_r,!0),n,F):[]});function Y5(x,M,F){var ee=x==null?0:x.length;return ee?(M=F||M===n?1:sn(M),Oi(x,M<0?0:M,ee)):[]}function q5(x,M,F){var ee=x==null?0:x.length;return ee?(M=F||M===n?1:sn(M),M=ee-M,Oi(x,0,M<0?0:M)):[]}function Q5(x,M){return x&&x.length?ne(x,Ht(M,3),!0,!0):[]}function J5(x,M){return x&&x.length?ne(x,Ht(M,3),!0):[]}function K5(x,M,F,ee){var me=x==null?0:x.length;return me?(F&&typeof F!="number"&&xi(x,M,F)&&(F=0,ee=me),Lc(x,M,F,ee)):[]}function QS(x,M,F){var ee=x==null?0:x.length;if(!ee)return-1;var me=F==null?0:sn(F);return me<0&&(me=ur(ee+me,0)),Ko(x,Ht(M,3),me)}function JS(x,M,F){var ee=x==null?0:x.length;if(!ee)return-1;var me=ee-1;return F!==n&&(me=sn(F),me=F<0?ur(ee+me,0):Wn(me,ee-1)),Ko(x,Ht(M,3),me,!0)}function KS(x){var M=x==null?0:x.length;return M?fr(x,1):[]}function $5(x){var M=x==null?0:x.length;return M?fr(x,Z):[]}function eI(x,M){var F=x==null?0:x.length;return F?(M=M===n?1:sn(M),fr(x,M)):[]}function tI(x){for(var M=-1,F=x==null?0:x.length,ee={};++M<F;){var me=x[M];ee[me[0]]=me[1]}return ee}function $S(x){return x&&x.length?x[0]:n}function nI(x,M,F){var ee=x==null?0:x.length;if(!ee)return-1;var me=F==null?0:sn(F);return me<0&&(me=ur(ee+me,0)),Va(x,M,me)}function rI(x){var M=x==null?0:x.length;return M?Oi(x,0,-1):[]}var iI=an(function(x){var M=Un(x,at);return M.length&&M[0]===x[0]?Ic(M):[]}),aI=an(function(x){var M=ya(x),F=Un(x,at);return M===ya(F)?M=n:F.pop(),F.length&&F[0]===x[0]?Ic(F,Ht(M,2)):[]}),sI=an(function(x){var M=ya(x),F=Un(x,at);return M=typeof M=="function"?M:n,M&&F.pop(),F.length&&F[0]===x[0]?Ic(F,n,M):[]});function oI(x,M){return x==null?"":gg.call(x,M)}function ya(x){var M=x==null?0:x.length;return M?x[M-1]:n}function lI(x,M,F){var ee=x==null?0:x.length;if(!ee)return-1;var me=ee;return F!==n&&(me=sn(F),me=me<0?ur(ee+me,0):Wn(me,ee-1)),M===M?rr(x,M,me):Ko(x,Cu,me,!0)}function uI(x,M){return x&&x.length?Yu(x,sn(M)):n}var fI=an(eM);function eM(x,M){return x&&x.length&&M&&M.length?gl(x,M):x}function cI(x,M,F){return x&&x.length&&M&&M.length?gl(x,M,Ht(F,2)):x}function hI(x,M,F){return x&&x.length&&M&&M.length?gl(x,M,n,F):x}var dI=bo(function(x,M){var F=x==null?0:x.length,ee=cl(x,M);return pp(x,Un(M,function(me){return Eo(me,F)?+me:me}).sort(Ft)),ee});function pI(x,M){var F=[];if(!(x&&x.length))return F;var ee=-1,me=[],Te=x.length;for(M=Ht(M,3);++ee<Te;){var Fe=x[ee];M(Fe,ee,x)&&(F.push(Fe),me.push(ee))}return pp(x,me),F}function Ky(x){return x==null?x:Ec.call(x)}function mI(x,M,F){var ee=x==null?0:x.length;return ee?(F&&typeof F!="number"&&xi(x,M,F)?(M=0,F=ee):(M=M==null?0:sn(M),F=F===n?ee:sn(F)),Oi(x,M,F)):[]}function gI(x,M){return Qu(x,M)}function vI(x,M,F){return vl(x,M,Ht(F,2))}function _I(x,M){var F=x==null?0:x.length;if(F){var ee=Qu(x,M);if(ee<F&&Ja(x[ee],M))return ee}return-1}function yI(x,M){return Qu(x,M,!0)}function xI(x,M,F){return vl(x,M,Ht(F,2),!0)}function wI(x,M){var F=x==null?0:x.length;if(F){var ee=Qu(x,M,!0)-1;if(Ja(x[ee],M))return ee}return-1}function bI(x){return x&&x.length?Ig(x):[]}function EI(x,M){return x&&x.length?Ig(x,Ht(M,2)):[]}function SI(x){var M=x==null?0:x.length;return M?Oi(x,1,M):[]}function MI(x,M,F){return x&&x.length?(M=F||M===n?1:sn(M),Oi(x,0,M<0?0:M)):[]}function TI(x,M,F){var ee=x==null?0:x.length;return ee?(M=F||M===n?1:sn(M),M=ee-M,Oi(x,M<0?0:M,ee)):[]}function AI(x,M){return x&&x.length?ne(x,Ht(M,3),!1,!0):[]}function CI(x,M){return x&&x.length?ne(x,Ht(M,3)):[]}var RI=an(function(x){return S(fr(x,1,_r,!0))}),PI=an(function(x){var M=ya(x);return _r(M)&&(M=n),S(fr(x,1,_r,!0),Ht(M,2))}),LI=an(function(x){var M=ya(x);return M=typeof M=="function"?M:n,S(fr(x,1,_r,!0),n,M)});function II(x){return x&&x.length?S(x):[]}function DI(x,M){return x&&x.length?S(x,Ht(M,2)):[]}function OI(x,M){return M=typeof M=="function"?M:n,x&&x.length?S(x,n,M):[]}function $y(x){if(!(x&&x.length))return[];var M=0;return x=Wa(x,function(F){if(_r(F))return M=ur(F.length,M),!0}),ys(M,function(F){return Un(x,$o(F))})}function tM(x,M){if(!(x&&x.length))return[];var F=$y(x);return M==null?F:Un(F,function(ee){return ni(M,n,ee)})}var NI=an(function(x,M){return _r(x)?go(x,M):[]}),kI=an(function(x){return Ne(Wa(x,_r))}),FI=an(function(x){var M=ya(x);return _r(M)&&(M=n),Ne(Wa(x,_r),Ht(M,2))}),BI=an(function(x){var M=ya(x);return M=typeof M=="function"?M:n,Ne(Wa(x,_r),n,M)}),zI=an($y);function UI(x,M){return Ze(x||[],M||[],mo)}function HI(x,M){return Ze(x||[],M||[],_a)}var GI=an(function(x){var M=x.length,F=M>1?x[M-1]:n;return F=typeof F=="function"?(x.pop(),F):n,tM(x,F)});function nM(x){var M=Ee(x);return M.__chain__=!0,M}function WI(x,M){return M(x),x}function Gg(x,M){return M(x)}var VI=bo(function(x){var M=x.length,F=M?x[0]:0,ee=this.__wrapped__,me=function(Te){return cl(Te,x)};return M>1||this.__actions__.length||!(ee instanceof un)||!Eo(F)?this.thru(me):(ee=ee.slice(F,+F+(M?1:0)),ee.__actions__.push({func:Gg,args:[me],thisArg:n}),new yi(ee,this.__chain__).thru(function(Te){return M&&!Te.length&&Te.push(n),Te}))});function jI(){return nM(this)}function ZI(){return new yi(this.value(),this.__chain__)}function XI(){this.__values__===n&&(this.__values__=gM(this.value()));var x=this.__index__>=this.__values__.length,M=x?n:this.__values__[this.__index__++];return{done:x,value:M}}function YI(){return this}function qI(x){for(var M,F=this;F instanceof Wu;){var ee=qS(F);ee.__index__=0,ee.__values__=n,M?me.__wrapped__=ee:M=ee;var me=ee;F=F.__wrapped__}return me.__wrapped__=x,M}function QI(){var x=this.__wrapped__;if(x instanceof un){var M=x;return this.__actions__.length&&(M=new un(this)),M=M.reverse(),M.__actions__.push({func:Gg,args:[Ky],thisArg:n}),new yi(M,this.__chain__)}return this.thru(Ky)}function JI(){return _e(this.__wrapped__,this.__actions__)}var KI=Og(function(x,M,F){Sn.call(x,F)?++x[F]:St(x,F,1)});function $I(x,M,F){var ee=rn(x)?fc:Xu;return F&&xi(x,M,F)&&(M=n),ee(x,Ht(M,3))}function eD(x,M){var F=rn(x)?Wa:pa;return F(x,Ht(M,3))}var tD=RS(QS),nD=RS(JS);function rD(x,M){return fr(Wg(x,M),1)}function iD(x,M){return fr(Wg(x,M),Z)}function aD(x,M,F){return F=F===n?1:sn(F),fr(Wg(x,M),F)}function rM(x,M){var F=rn(x)?Zn:ha;return F(x,Ht(M,3))}function iM(x,M){var F=rn(x)?_s:da;return F(x,Ht(M,3))}var sD=Og(function(x,M,F){Sn.call(x,F)?x[F].push(M):St(x,F,[M])});function oD(x,M,F,ee){x=Ni(x)?x:Vc(x),F=F&&!ee?sn(F):0;var me=x.length;return F<0&&(F=ur(me+F,0)),Yg(x)?F<=me&&x.indexOf(M,F)>-1:!!me&&Va(x,M,F)>-1}var lD=an(function(x,M,F){var ee=-1,me=typeof M=="function",Te=Ni(x)?rt(x.length):[];return ha(x,function(Fe){Te[++ee]=me?ni(M,Fe,F):_o(Fe,M,F)}),Te}),uD=Og(function(x,M,F){St(x,F,M)});function Wg(x,M){var F=rn(x)?Un:dp;return F(x,Ht(M,3))}function fD(x,M,F,ee){return x==null?[]:(rn(M)||(M=M==null?[]:[M]),F=ee?n:F,rn(F)||(F=F==null?[]:[F]),kc(x,M,F))}var cD=Og(function(x,M,F){x[F?0:1].push(M)},function(){return[[],[]]});function hD(x,M,F){var ee=rn(x)?cc:el,me=arguments.length<3;return ee(x,Ht(M,4),F,me,ha)}function dD(x,M,F){var ee=rn(x)?ag:el,me=arguments.length<3;return ee(x,Ht(M,4),F,me,da)}function pD(x,M){var F=rn(x)?Wa:pa;return F(x,Zg(Ht(M,3)))}function mD(x){var M=rn(x)?ju:Cs;return M(x)}function gD(x,M,F){(F?xi(x,M,F):M===n)?M=1:M=sn(M);var ee=rn(x)?ul:Bc;return ee(x,M)}function vD(x){var M=rn(x)?Zu:vp;return M(x)}function _D(x){if(x==null)return 0;if(Ni(x))return Yg(x)?ir(x):x.length;var M=ui(x);return M==ge||M==te?x.size:cp(x).length}function yD(x,M,F){var ee=rn(x)?Jo:Lg;return F&&xi(x,M,F)&&(M=n),ee(x,Ht(M,3))}var xD=an(function(x,M){if(x==null)return[];var F=M.length;return F>1&&xi(x,M[0],M[1])?M=[]:F>2&&xi(M[0],M[1],M[2])&&(M=[M[0]]),kc(x,fr(M,1),[])}),Vg=Qd||function(){return An.Date.now()};function wD(x,M){if(typeof M!="function")throw new ai(i);return x=sn(x),function(){if(--x<1)return M.apply(this,arguments)}}function aM(x,M,F){return M=F?n:M,M=x&&M==null?x.length:M,wo(x,E,n,n,n,n,M)}function sM(x,M){var F;if(typeof M!="function")throw new ai(i);return x=sn(x),function(){return--x>0&&(F=M.apply(this,arguments)),x<=1&&(M=n),F}}var ex=an(function(x,M,F){var ee=l;if(F.length){var me=ua(F,Gc(ex));ee|=_}return wo(x,ee,M,F,me)}),oM=an(function(x,M,F){var ee=l|v;if(F.length){var me=ua(F,Gc(oM));ee|=_}return wo(M,ee,x,F,me)});function lM(x,M,F){M=F?n:M;var ee=wo(x,h,n,n,n,n,n,M);return ee.placeholder=lM.placeholder,ee}function uM(x,M,F){M=F?n:M;var ee=wo(x,m,n,n,n,n,n,M);return ee.placeholder=uM.placeholder,ee}function fM(x,M,F){var ee,me,Te,Fe,We,$e,ht=0,dt=!1,mt=!1,Mt=!0;if(typeof x!="function")throw new ai(i);M=xa(M)||0,sr(F)&&(dt=!!F.leading,mt="maxWait"in F,Te=mt?ur(xa(F.maxWait)||0,M):Te,Mt="trailing"in F?!!F.trailing:Mt);function kt(yr){var Ka=ee,To=me;return ee=me=n,ht=yr,Fe=x.apply(To,Ka),Fe}function Wt(yr){return ht=yr,We=xp(dn,M),dt?kt(yr):Fe}function on(yr){var Ka=yr-$e,To=yr-ht,RM=M-Ka;return mt?Wn(RM,Te-To):RM}function Vt(yr){var Ka=yr-$e,To=yr-ht;return $e===n||Ka>=M||Ka<0||mt&&To>=Te}function dn(){var yr=Vg();if(Vt(yr))return gn(yr);We=xp(dn,on(yr))}function gn(yr){return We=n,Mt&&ee?kt(yr):(ee=me=n,Fe)}function Qi(){We!==n&&Pn(We),ht=0,ee=$e=me=We=n}function wi(){return We===n?Fe:gn(Vg())}function Ji(){var yr=Vg(),Ka=Vt(yr);if(ee=arguments,me=this,$e=yr,Ka){if(We===n)return Wt($e);if(mt)return Pn(We),We=xp(dn,M),kt($e)}return We===n&&(We=xp(dn,M)),Fe}return Ji.cancel=Qi,Ji.flush=wi,Ji}var bD=an(function(x,M){return dl(x,1,M)}),ED=an(function(x,M,F){return dl(x,xa(M)||0,F)});function SD(x){return wo(x,A)}function jg(x,M){if(typeof x!="function"||M!=null&&typeof M!="function")throw new ai(i);var F=function(){var ee=arguments,me=M?M.apply(this,ee):ee[0],Te=F.cache;if(Te.has(me))return Te.get(me);var Fe=x.apply(this,ee);return F.cache=Te.set(me,Fe)||Te,Fe};return F.cache=new(jg.Cache||Yi),F}jg.Cache=Yi;function Zg(x){if(typeof x!="function")throw new ai(i);return function(){var M=arguments;switch(M.length){case 0:return!x.call(this);case 1:return!x.call(this,M[0]);case 2:return!x.call(this,M[0],M[1]);case 3:return!x.call(this,M[0],M[1],M[2])}return!x.apply(this,M)}}function MD(x){return sM(2,x)}var TD=Xt(function(x,M){M=M.length==1&&rn(M[0])?Un(M[0],Mr(Ht())):Un(fr(M,1),Mr(Ht()));var F=M.length;return an(function(ee){for(var me=-1,Te=Wn(ee.length,F);++me<Te;)ee[me]=M[me].call(this,ee[me]);return ni(x,this,ee)})}),tx=an(function(x,M){var F=ua(M,Gc(tx));return wo(x,_,n,M,F)}),cM=an(function(x,M){var F=ua(M,Gc(cM));return wo(x,w,n,M,F)}),AD=bo(function(x,M){return wo(x,T,n,n,n,M)});function CD(x,M){if(typeof x!="function")throw new ai(i);return M=M===n?M:sn(M),an(x,M)}function RD(x,M){if(typeof x!="function")throw new ai(i);return M=M==null?0:ur(sn(M),0),an(function(F){var ee=F[M],me=wt(F,0,M);return ee&&Ci(me,ee),ni(x,this,me)})}function PD(x,M,F){var ee=!0,me=!0;if(typeof x!="function")throw new ai(i);return sr(F)&&(ee="leading"in F?!!F.leading:ee,me="trailing"in F?!!F.trailing:me),fM(x,M,{leading:ee,maxWait:M,trailing:me})}function LD(x){return aM(x,1)}function ID(x,M){return tx(_t(M),x)}function DD(){if(!arguments.length)return[];var x=arguments[0];return rn(x)?x:[x]}function OD(x){return ar(x,d)}function ND(x,M){return M=typeof M=="function"?M:n,ar(x,d,M)}function kD(x){return ar(x,g|d)}function FD(x,M){return M=typeof M=="function"?M:n,ar(x,g|d,M)}function BD(x,M){return M==null||hl(x,M,Br(M))}function Ja(x,M){return x===M||x!==x&&M!==M}var zD=Bg(As),UD=Bg(function(x,M){return x>=M}),$u=yo(function(){return arguments}())?yo:function(x){return cr(x)&&Sn.call(x,"callee")&&!Yd.call(x,"callee")},rn=rt.isArray,HD=Mu?Mr(Mu):Sg;function Ni(x){return x!=null&&Xg(x.length)&&!So(x)}function _r(x){return cr(x)&&Ni(x)}function GD(x){return x===!0||x===!1||cr(x)&&Fr(x)==oe}var _l=mg||hx,WD=no?Mr(no):Mg;function VD(x){return cr(x)&&x.nodeType===1&&!wp(x)}function jD(x){if(x==null)return!0;if(Ni(x)&&(rn(x)||typeof x=="string"||typeof x.splice=="function"||_l(x)||Wc(x)||$u(x)))return!x.length;var M=ui(x);if(M==ge||M==te)return!x.size;if(yp(x))return!cp(x).length;for(var F in x)if(Sn.call(x,F))return!1;return!0}function ZD(x,M){return qa(x,M)}function XD(x,M,F){F=typeof F=="function"?F:n;var ee=F?F(x,M):n;return ee===n?qa(x,M,n,F):!!ee}function nx(x){if(!cr(x))return!1;var M=Fr(x);return M==we||M==he||typeof x.message=="string"&&typeof x.name=="string"&&!wp(x)}function YD(x){return typeof x=="number"&&Jd(x)}function So(x){if(!sr(x))return!1;var M=Fr(x);return M==xe||M==Oe||M==ae||M==re}function hM(x){return typeof x=="number"&&x==sn(x)}function Xg(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=V}function sr(x){var M=typeof x;return x!=null&&(M=="object"||M=="function")}function cr(x){return x!=null&&typeof x=="object"}var dM=Tu?Mr(Tu):Fy;function qD(x,M){return x===M||Oc(x,M,Zy(M))}function QD(x,M,F){return F=typeof F=="function"?F:n,Oc(x,M,Zy(M),F)}function JD(x){return pM(x)&&x!=+x}function KD(x){if(N5(x))throw new qt(r);return fp(x)}function $D(x){return x===null}function e6(x){return x==null}function pM(x){return typeof x=="number"||cr(x)&&Fr(x)==De}function wp(x){if(!cr(x)||Fr(x)!=de)return!1;var M=si(x);if(M===null)return!0;var F=Sn.call(M,"constructor")&&M.constructor;return typeof F=="function"&&F instanceof F&&Nu.call(F)==Ry}var rx=lc?Mr(lc):xo;function t6(x){return hM(x)&&x>=-V&&x<=V}var mM=Ud?Mr(Ud):By;function Yg(x){return typeof x=="string"||!rn(x)&&cr(x)&&Fr(x)==G}function qi(x){return typeof x=="symbol"||cr(x)&&Fr(x)==L}var Wc=uc?Mr(uc):zy;function n6(x){return x===n}function r6(x){return cr(x)&&ui(x)==U}function i6(x){return cr(x)&&Fr(x)==J}var a6=Bg(hp),s6=Bg(function(x,M){return x<=M});function gM(x){if(!x)return[];if(Ni(x))return Yg(x)?Nn(x):mn(x);if(lo&&x[lo])return gc(x[lo]());var M=ui(x),F=M==ge?Pu:M==te?ws:Vc;return F(x)}function Mo(x){if(!x)return x===0?x:0;if(x=xa(x),x===Z||x===-Z){var M=x<0?-1:1;return M*j}return x===x?x:0}function sn(x){var M=Mo(x),F=M%1;return M===M?F?M-F:M:0}function vM(x){return x?Ya(sn(x),0,W):0}function xa(x){if(typeof x=="number")return x;if(qi(x))return z;if(sr(x)){var M=typeof x.valueOf=="function"?x.valueOf():x;x=sr(M)?M+"":M}if(typeof x!="string")return x===0?x:+x;x=pc(x);var F=Qt.test(x);return F||Pt.test(x)?ng(x.slice(2),F?2:8):Ct.test(x)?z:+x}function _M(x){return Kt(x,ki(x))}function o6(x){return x?Ya(sn(x),-V,V):x===0?x:0}function Ln(x){return x==null?"":b(x)}var l6=Uc(function(x,M){if(yp(M)||Ni(M)){Kt(M,Br(M),x);return}for(var F in M)Sn.call(M,F)&&mo(x,F,M[F])}),yM=Uc(function(x,M){Kt(M,ki(M),x)}),qg=Uc(function(x,M,F,ee){Kt(M,ki(M),x,ee)}),u6=Uc(function(x,M,F,ee){Kt(M,Br(M),x,ee)}),f6=bo(cl);function c6(x,M){var F=ho(x);return M==null?F:Pc(F,M)}var h6=an(function(x,M){x=En(x);var F=-1,ee=M.length,me=ee>2?M[2]:n;for(me&&xi(M[0],M[1],me)&&(ee=1);++F<ee;)for(var Te=M[F],Fe=ki(Te),We=-1,$e=Fe.length;++We<$e;){var ht=Fe[We],dt=x[ht];(dt===n||Ja(dt,Za[ht])&&!Sn.call(x,ht))&&(x[ht]=Te[ht])}return x}),d6=an(function(x){return x.push(n,kS),ni(xM,n,x)});function p6(x,M){return Hd(x,Ht(M,3),qn)}function m6(x,M){return Hd(x,Ht(M,3),ma)}function g6(x,M){return x==null?x:vo(x,Ht(M,3),ki)}function v6(x,M){return x==null?x:ml(x,Ht(M,3),ki)}function _6(x,M){return x&&qn(x,Ht(M,3))}function y6(x,M){return x&&ma(x,Ht(M,3))}function x6(x){return x==null?[]:Ii(x,Br(x))}function w6(x){return x==null?[]:Ii(x,ki(x))}function ix(x,M,F){var ee=x==null?n:ga(x,M);return ee===n?F:ee}function b6(x,M){return x!=null&&zS(x,M,up)}function ax(x,M){return x!=null&&zS(x,M,Ny)}var E6=LS(function(x,M,F){M!=null&&typeof M.toString!="function"&&(M=ku.call(M)),x[M]=F},ox(Fi)),S6=LS(function(x,M,F){M!=null&&typeof M.toString!="function"&&(M=ku.call(M)),Sn.call(x,M)?x[M].push(F):x[M]=[F]},Ht),M6=an(_o);function Br(x){return Ni(x)?Tr(x):cp(x)}function ki(x){return Ni(x)?Tr(x,!0):Tg(x)}function T6(x,M){var F={};return M=Ht(M,3),qn(x,function(ee,me,Te){St(F,M(ee,me,Te),ee)}),F}function A6(x,M){var F={};return M=Ht(M,3),qn(x,function(ee,me,Te){St(F,me,M(ee,me,Te))}),F}var C6=Uc(function(x,M,F){Nc(x,M,F)}),xM=Uc(function(x,M,F,ee){Nc(x,M,F,ee)}),R6=bo(function(x,M){var F={};if(x==null)return F;var ee=!1;M=Un(M,function(Te){return Te=Dt(Te,x),ee||(ee=Te.length>1),Te}),Kt(x,Vy(x),F),ee&&(F=ar(F,g|p|d,E5));for(var me=M.length;me--;)N(F,M[me]);return F});function P6(x,M){return wM(x,Zg(Ht(M)))}var L6=bo(function(x,M){return x==null?{}:Rg(x,M)});function wM(x,M){if(x==null)return{};var F=Un(Vy(x),function(ee){return[ee]});return M=Ht(M),Fc(x,F,function(ee,me){return M(ee,me[0])})}function I6(x,M,F){M=Dt(M,x);var ee=-1,me=M.length;for(me||(me=1,x=n);++ee<me;){var Te=x==null?n:x[Ps(M[ee])];Te===n&&(ee=me,Te=F),x=So(Te)?Te.call(x):Te}return x}function D6(x,M,F){return x==null?x:_a(x,M,F)}function O6(x,M,F,ee){return ee=typeof ee=="function"?ee:n,x==null?x:_a(x,M,F,ee)}var bM=OS(Br),EM=OS(ki);function N6(x,M,F){var ee=rn(x),me=ee||_l(x)||Wc(x);if(M=Ht(M,4),F==null){var Te=x&&x.constructor;me?F=ee?new Te:[]:sr(x)?F=So(Te)?ho(si(x)):{}:F={}}return(me?Zn:qn)(x,function(Fe,We,$e){return M(F,Fe,We,$e)}),F}function k6(x,M){return x==null?!0:N(x,M)}function F6(x,M,F){return x==null?x:K(x,M,_t(F))}function B6(x,M,F,ee){return ee=typeof ee=="function"?ee:n,x==null?x:K(x,M,_t(F),ee)}function Vc(x){return x==null?[]:mc(x,Br(x))}function z6(x){return x==null?[]:mc(x,ki(x))}function U6(x,M,F){return F===n&&(F=M,M=n),F!==n&&(F=xa(F),F=F===F?F:0),M!==n&&(M=xa(M),M=M===M?M:0),Ya(xa(x),M,F)}function H6(x,M,F){return M=Mo(M),F===n?(F=M,M=0):F=Mo(F),x=xa(x),Eg(x,M,F)}function G6(x,M,F){if(F&&typeof F!="boolean"&&xi(x,M,F)&&(M=F=n),F===n&&(typeof M=="boolean"?(F=M,M=n):typeof x=="boolean"&&(F=x,x=n)),x===n&&M===n?(x=0,M=1):(x=Mo(x),M===n?(M=x,x=0):M=Mo(M)),x>M){var ee=x;x=M,M=ee}if(F||x%1||M%1){var me=rl();return Wn(x+me*(M-x+Ai("1e-"+((me+"").length-1))),M)}return mp(x,M)}var W6=Hc(function(x,M,F){return M=M.toLowerCase(),x+(F?SM(M):M)});function SM(x){return sx(Ln(x).toLowerCase())}function MM(x){return x=Ln(x),x&&x.replace(pn,ao).replace(eg,"")}function V6(x,M,F){x=Ln(x),M=b(M);var ee=x.length;F=F===n?ee:Ya(sn(F),0,ee);var me=F;return F-=M.length,F>=0&&x.slice(F,me)==M}function j6(x){return x=Ln(x),x&&He.test(x)?x.replace(Qe,la):x}function Z6(x){return x=Ln(x),x&&Se.test(x)?x.replace(Y,"\\$&"):x}var X6=Hc(function(x,M,F){return x+(F?"-":"")+M.toLowerCase()}),Y6=Hc(function(x,M,F){return x+(F?" ":"")+M.toLowerCase()}),q6=CS("toLowerCase");function Q6(x,M,F){x=Ln(x),M=sn(M);var ee=M?ir(x):0;if(!M||ee>=M)return x;var me=(M-ee)/2;return Fg(Bu(me),F)+x+Fg(uo(me),F)}function J6(x,M,F){x=Ln(x),M=sn(M);var ee=M?ir(x):0;return M&&ee<M?x+Fg(M-ee,F):x}function K6(x,M,F){x=Ln(x),M=sn(M);var ee=M?ir(x):0;return M&&ee<M?Fg(M-ee,F)+x:x}function $6(x,M,F){return F||M==null?M=0:M&&(M=+M),zu(Ln(x).replace(Ve,""),M||0)}function eO(x,M,F){return(F?xi(x,M,F):M===n)?M=1:M=sn(M),qu(Ln(x),M)}function tO(){var x=arguments,M=Ln(x[0]);return x.length<3?M:M.replace(x[1],x[2])}var nO=Hc(function(x,M,F){return x+(F?"_":"")+M.toLowerCase()});function rO(x,M,F){return F&&typeof F!="number"&&xi(x,M,F)&&(M=F=n),F=F===n?W:F>>>0,F?(x=Ln(x),x&&(typeof M=="string"||M!=null&&!rx(M))&&(M=b(M),!M&&xs(x))?wt(Nn(x),0,F):x.split(M,F)):[]}var iO=Hc(function(x,M,F){return x+(F?" ":"")+sx(M)});function aO(x,M,F){return x=Ln(x),F=F==null?0:Ya(sn(F),0,x.length),M=b(M),x.slice(F,F+M.length)==M}function sO(x,M,F){var ee=Ee.templateSettings;F&&xi(x,M,F)&&(M=n),x=Ln(x),M=qg({},M,ee,NS);var me=qg({},M.imports,ee.imports,NS),Te=Br(me),Fe=mc(me,Te),We,$e,ht=0,dt=M.interpolate||Bt,mt="__p += '",Mt=vc((M.escape||Bt).source+"|"+dt.source+"|"+(dt===pt?xt:Bt).source+"|"+(M.evaluate||Bt).source+"|$","g"),kt="//# sourceURL="+(Sn.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bd+"]")+`
`;x.replace(Mt,function(Vt,dn,gn,Qi,wi,Ji){return gn||(gn=Qi),mt+=x.slice(ht,Ji).replace(zn,lg),dn&&(We=!0,mt+=`' +
__e(`+dn+`) +
'`),wi&&($e=!0,mt+=`';
`+wi+`;
__p += '`),gn&&(mt+=`' +
((__t = (`+gn+`)) == null ? '' : __t) +
'`),ht=Ji+Vt.length,Vt}),mt+=`';
`;var Wt=Sn.call(M,"variable")&&M.variable;if(!Wt)mt=`with (obj) {
`+mt+`
}
`;else if(it.test(Wt))throw new qt(a);mt=($e?mt.replace(ct,""):mt).replace(X,"$1").replace(Ae,"$1;"),mt="function("+(Wt||"obj")+`) {
`+(Wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(We?", __e = _.escape":"")+($e?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var on=AM(function(){return _n(Te,kt+"return "+mt).apply(n,Fe)});if(on.source=mt,nx(on))throw on;return on}function oO(x){return Ln(x).toLowerCase()}function lO(x){return Ln(x).toUpperCase()}function uO(x,M,F){if(x=Ln(x),x&&(F||M===n))return pc(x);if(!x||!(M=b(M)))return x;var ee=Nn(x),me=Nn(M),Te=Xn(ee,me),Fe=Ru(ee,me)+1;return wt(ee,Te,Fe).join("")}function fO(x,M,F){if(x=Ln(x),x&&(F||M===n))return x.slice(0,Iu(x)+1);if(!x||!(M=b(M)))return x;var ee=Nn(x),me=Ru(ee,Nn(M))+1;return wt(ee,0,me).join("")}function cO(x,M,F){if(x=Ln(x),x&&(F||M===n))return x.replace(Ve,"");if(!x||!(M=b(M)))return x;var ee=Nn(x),me=Xn(ee,Nn(M));return wt(ee,me).join("")}function hO(x,M){var F=C,ee=R;if(sr(M)){var me="separator"in M?M.separator:me;F="length"in M?sn(M.length):F,ee="omission"in M?b(M.omission):ee}x=Ln(x);var Te=x.length;if(xs(x)){var Fe=Nn(x);Te=Fe.length}if(F>=Te)return x;var We=F-ir(ee);if(We<1)return ee;var $e=Fe?wt(Fe,0,We).join(""):x.slice(0,We);if(me===n)return $e+ee;if(Fe&&(We+=$e.length-We),rx(me)){if(x.slice(We).search(me)){var ht,dt=$e;for(me.global||(me=vc(me.source,Ln(Rt.exec(me))+"g")),me.lastIndex=0;ht=me.exec(dt);)var mt=ht.index;$e=$e.slice(0,mt===n?We:mt)}}else if(x.indexOf(b(me),We)!=We){var Mt=$e.lastIndexOf(me);Mt>-1&&($e=$e.slice(0,Mt))}return $e+ee}function dO(x){return x=Ln(x),x&&Re.test(x)?x.replace(ke,Du):x}var pO=Hc(function(x,M,F){return x+(F?" ":"")+M.toUpperCase()}),sx=CS("toUpperCase");function TM(x,M,F){return x=Ln(x),M=F?n:M,M===n?fg(x)?Vd(x):og(x):x.match(M)||[]}var AM=an(function(x,M){try{return ni(x,n,M)}catch(F){return nx(F)?F:new qt(F)}}),mO=bo(function(x,M){return Zn(M,function(F){F=Ps(F),St(x,F,ex(x[F],x))}),x});function gO(x){var M=x==null?0:x.length,F=Ht();return x=M?Un(x,function(ee){if(typeof ee[1]!="function")throw new ai(i);return[F(ee[0]),ee[1]]}):[],an(function(ee){for(var me=-1;++me<M;){var Te=x[me];if(ni(Te[0],this,ee))return ni(Te[1],this,ee)}})}function vO(x){return Ts(ar(x,g))}function ox(x){return function(){return x}}function _O(x,M){return x==null||x!==x?M:x}var yO=PS(),xO=PS(!0);function Fi(x){return x}function lx(x){return va(typeof x=="function"?x:ar(x,g))}function wO(x){return Qa(ar(x,g))}function bO(x,M){return Ag(x,ar(M,g))}var EO=an(function(x,M){return function(F){return _o(F,x,M)}}),SO=an(function(x,M){return function(F){return _o(x,F,M)}});function ux(x,M,F){var ee=Br(M),me=Ii(M,ee);F==null&&!(sr(M)&&(me.length||!ee.length))&&(F=M,M=x,x=this,me=Ii(M,Br(M)));var Te=!(sr(F)&&"chain"in F)||!!F.chain,Fe=So(x);return Zn(me,function(We){var $e=M[We];x[We]=$e,Fe&&(x.prototype[We]=function(){var ht=this.__chain__;if(Te||ht){var dt=x(this.__wrapped__),mt=dt.__actions__=mn(this.__actions__);return mt.push({func:$e,args:arguments,thisArg:x}),dt.__chain__=ht,dt}return $e.apply(x,Ci([this.value()],arguments))})}),x}function MO(){return An._===this&&(An._=Xd),this}function fx(){}function TO(x){return x=sn(x),an(function(M){return Yu(M,x)})}var AO=Hy(Un),CO=Hy(fc),RO=Hy(Jo);function CM(x){return Yy(x)?$o(Ps(x)):Pg(x)}function PO(x){return function(M){return x==null?n:ga(x,M)}}var LO=IS(),IO=IS(!0);function cx(){return[]}function hx(){return!1}function DO(){return{}}function OO(){return""}function NO(){return!0}function kO(x,M){if(x=sn(x),x<1||x>V)return[];var F=W,ee=Wn(x,W);M=Ht(M),x-=W;for(var me=ys(ee,M);++F<x;)M(F);return me}function FO(x){return rn(x)?Un(x,Ps):qi(x)?[x]:mn(YS(Ln(x)))}function BO(x){var M=++jd;return Ln(x)+M}var zO=kg(function(x,M){return x+M},0),UO=Gy("ceil"),HO=kg(function(x,M){return x/M},1),GO=Gy("floor");function WO(x){return x&&x.length?pl(x,Fi,As):n}function VO(x,M){return x&&x.length?pl(x,Ht(M,2),As):n}function jO(x){return Gd(x,Fi)}function ZO(x,M){return Gd(x,Ht(M,2))}function XO(x){return x&&x.length?pl(x,Fi,hp):n}function YO(x,M){return x&&x.length?pl(x,Ht(M,2),hp):n}var qO=kg(function(x,M){return x*M},1),QO=Gy("round"),JO=kg(function(x,M){return x-M},0);function KO(x){return x&&x.length?ro(x,Fi):0}function $O(x,M){return x&&x.length?ro(x,Ht(M,2)):0}return Ee.after=wD,Ee.ary=aM,Ee.assign=l6,Ee.assignIn=yM,Ee.assignInWith=qg,Ee.assignWith=u6,Ee.at=f6,Ee.before=sM,Ee.bind=ex,Ee.bindAll=mO,Ee.bindKey=oM,Ee.castArray=DD,Ee.chain=nM,Ee.chunk=G5,Ee.compact=W5,Ee.concat=V5,Ee.cond=gO,Ee.conforms=vO,Ee.constant=ox,Ee.countBy=KI,Ee.create=c6,Ee.curry=lM,Ee.curryRight=uM,Ee.debounce=fM,Ee.defaults=h6,Ee.defaultsDeep=d6,Ee.defer=bD,Ee.delay=ED,Ee.difference=j5,Ee.differenceBy=Z5,Ee.differenceWith=X5,Ee.drop=Y5,Ee.dropRight=q5,Ee.dropRightWhile=Q5,Ee.dropWhile=J5,Ee.fill=K5,Ee.filter=eD,Ee.flatMap=rD,Ee.flatMapDeep=iD,Ee.flatMapDepth=aD,Ee.flatten=KS,Ee.flattenDeep=$5,Ee.flattenDepth=eI,Ee.flip=SD,Ee.flow=yO,Ee.flowRight=xO,Ee.fromPairs=tI,Ee.functions=x6,Ee.functionsIn=w6,Ee.groupBy=sD,Ee.initial=rI,Ee.intersection=iI,Ee.intersectionBy=aI,Ee.intersectionWith=sI,Ee.invert=E6,Ee.invertBy=S6,Ee.invokeMap=lD,Ee.iteratee=lx,Ee.keyBy=uD,Ee.keys=Br,Ee.keysIn=ki,Ee.map=Wg,Ee.mapKeys=T6,Ee.mapValues=A6,Ee.matches=wO,Ee.matchesProperty=bO,Ee.memoize=jg,Ee.merge=C6,Ee.mergeWith=xM,Ee.method=EO,Ee.methodOf=SO,Ee.mixin=ux,Ee.negate=Zg,Ee.nthArg=TO,Ee.omit=R6,Ee.omitBy=P6,Ee.once=MD,Ee.orderBy=fD,Ee.over=AO,Ee.overArgs=TD,Ee.overEvery=CO,Ee.overSome=RO,Ee.partial=tx,Ee.partialRight=cM,Ee.partition=cD,Ee.pick=L6,Ee.pickBy=wM,Ee.property=CM,Ee.propertyOf=PO,Ee.pull=fI,Ee.pullAll=eM,Ee.pullAllBy=cI,Ee.pullAllWith=hI,Ee.pullAt=dI,Ee.range=LO,Ee.rangeRight=IO,Ee.rearg=AD,Ee.reject=pD,Ee.remove=pI,Ee.rest=CD,Ee.reverse=Ky,Ee.sampleSize=gD,Ee.set=D6,Ee.setWith=O6,Ee.shuffle=vD,Ee.slice=mI,Ee.sortBy=xD,Ee.sortedUniq=bI,Ee.sortedUniqBy=EI,Ee.split=rO,Ee.spread=RD,Ee.tail=SI,Ee.take=MI,Ee.takeRight=TI,Ee.takeRightWhile=AI,Ee.takeWhile=CI,Ee.tap=WI,Ee.throttle=PD,Ee.thru=Gg,Ee.toArray=gM,Ee.toPairs=bM,Ee.toPairsIn=EM,Ee.toPath=FO,Ee.toPlainObject=_M,Ee.transform=N6,Ee.unary=LD,Ee.union=RI,Ee.unionBy=PI,Ee.unionWith=LI,Ee.uniq=II,Ee.uniqBy=DI,Ee.uniqWith=OI,Ee.unset=k6,Ee.unzip=$y,Ee.unzipWith=tM,Ee.update=F6,Ee.updateWith=B6,Ee.values=Vc,Ee.valuesIn=z6,Ee.without=NI,Ee.words=TM,Ee.wrap=ID,Ee.xor=kI,Ee.xorBy=FI,Ee.xorWith=BI,Ee.zip=zI,Ee.zipObject=UI,Ee.zipObjectDeep=HI,Ee.zipWith=GI,Ee.entries=bM,Ee.entriesIn=EM,Ee.extend=yM,Ee.extendWith=qg,ux(Ee,Ee),Ee.add=zO,Ee.attempt=AM,Ee.camelCase=W6,Ee.capitalize=SM,Ee.ceil=UO,Ee.clamp=U6,Ee.clone=OD,Ee.cloneDeep=kD,Ee.cloneDeepWith=FD,Ee.cloneWith=ND,Ee.conformsTo=BD,Ee.deburr=MM,Ee.defaultTo=_O,Ee.divide=HO,Ee.endsWith=V6,Ee.eq=Ja,Ee.escape=j6,Ee.escapeRegExp=Z6,Ee.every=$I,Ee.find=tD,Ee.findIndex=QS,Ee.findKey=p6,Ee.findLast=nD,Ee.findLastIndex=JS,Ee.findLastKey=m6,Ee.floor=GO,Ee.forEach=rM,Ee.forEachRight=iM,Ee.forIn=g6,Ee.forInRight=v6,Ee.forOwn=_6,Ee.forOwnRight=y6,Ee.get=ix,Ee.gt=zD,Ee.gte=UD,Ee.has=b6,Ee.hasIn=ax,Ee.head=$S,Ee.identity=Fi,Ee.includes=oD,Ee.indexOf=nI,Ee.inRange=H6,Ee.invoke=M6,Ee.isArguments=$u,Ee.isArray=rn,Ee.isArrayBuffer=HD,Ee.isArrayLike=Ni,Ee.isArrayLikeObject=_r,Ee.isBoolean=GD,Ee.isBuffer=_l,Ee.isDate=WD,Ee.isElement=VD,Ee.isEmpty=jD,Ee.isEqual=ZD,Ee.isEqualWith=XD,Ee.isError=nx,Ee.isFinite=YD,Ee.isFunction=So,Ee.isInteger=hM,Ee.isLength=Xg,Ee.isMap=dM,Ee.isMatch=qD,Ee.isMatchWith=QD,Ee.isNaN=JD,Ee.isNative=KD,Ee.isNil=e6,Ee.isNull=$D,Ee.isNumber=pM,Ee.isObject=sr,Ee.isObjectLike=cr,Ee.isPlainObject=wp,Ee.isRegExp=rx,Ee.isSafeInteger=t6,Ee.isSet=mM,Ee.isString=Yg,Ee.isSymbol=qi,Ee.isTypedArray=Wc,Ee.isUndefined=n6,Ee.isWeakMap=r6,Ee.isWeakSet=i6,Ee.join=oI,Ee.kebabCase=X6,Ee.last=ya,Ee.lastIndexOf=lI,Ee.lowerCase=Y6,Ee.lowerFirst=q6,Ee.lt=a6,Ee.lte=s6,Ee.max=WO,Ee.maxBy=VO,Ee.mean=jO,Ee.meanBy=ZO,Ee.min=XO,Ee.minBy=YO,Ee.stubArray=cx,Ee.stubFalse=hx,Ee.stubObject=DO,Ee.stubString=OO,Ee.stubTrue=NO,Ee.multiply=qO,Ee.nth=uI,Ee.noConflict=MO,Ee.noop=fx,Ee.now=Vg,Ee.pad=Q6,Ee.padEnd=J6,Ee.padStart=K6,Ee.parseInt=$6,Ee.random=G6,Ee.reduce=hD,Ee.reduceRight=dD,Ee.repeat=eO,Ee.replace=tO,Ee.result=I6,Ee.round=QO,Ee.runInContext=Xe,Ee.sample=mD,Ee.size=_D,Ee.snakeCase=nO,Ee.some=yD,Ee.sortedIndex=gI,Ee.sortedIndexBy=vI,Ee.sortedIndexOf=_I,Ee.sortedLastIndex=yI,Ee.sortedLastIndexBy=xI,Ee.sortedLastIndexOf=wI,Ee.startCase=iO,Ee.startsWith=aO,Ee.subtract=JO,Ee.sum=KO,Ee.sumBy=$O,Ee.template=sO,Ee.times=kO,Ee.toFinite=Mo,Ee.toInteger=sn,Ee.toLength=vM,Ee.toLower=oO,Ee.toNumber=xa,Ee.toSafeInteger=o6,Ee.toString=Ln,Ee.toUpper=lO,Ee.trim=uO,Ee.trimEnd=fO,Ee.trimStart=cO,Ee.truncate=hO,Ee.unescape=dO,Ee.uniqueId=BO,Ee.upperCase=pO,Ee.upperFirst=sx,Ee.each=rM,Ee.eachRight=iM,Ee.first=$S,ux(Ee,function(){var x={};return qn(Ee,function(M,F){Sn.call(Ee.prototype,F)||(x[F]=M)}),x}(),{chain:!1}),Ee.VERSION=e,Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){Ee[x].placeholder=Ee}),Zn(["drop","take"],function(x,M){un.prototype[x]=function(F){F=F===n?1:ur(sn(F),0);var ee=this.__filtered__&&!M?new un(this):this.clone();return ee.__filtered__?ee.__takeCount__=Wn(F,ee.__takeCount__):ee.__views__.push({size:Wn(F,W),type:x+(ee.__dir__<0?"Right":"")}),ee},un.prototype[x+"Right"]=function(F){return this.reverse()[x](F).reverse()}}),Zn(["filter","map","takeWhile"],function(x,M){var F=M+1,ee=F==k||F==B;un.prototype[x]=function(me){var Te=this.clone();return Te.__iteratees__.push({iteratee:Ht(me,3),type:F}),Te.__filtered__=Te.__filtered__||ee,Te}}),Zn(["head","last"],function(x,M){var F="take"+(M?"Right":"");un.prototype[x]=function(){return this[F](1).value()[0]}}),Zn(["initial","tail"],function(x,M){var F="drop"+(M?"":"Right");un.prototype[x]=function(){return this.__filtered__?new un(this):this[F](1)}}),un.prototype.compact=function(){return this.filter(Fi)},un.prototype.find=function(x){return this.filter(x).head()},un.prototype.findLast=function(x){return this.reverse().find(x)},un.prototype.invokeMap=an(function(x,M){return typeof x=="function"?new un(this):this.map(function(F){return _o(F,x,M)})}),un.prototype.reject=function(x){return this.filter(Zg(Ht(x)))},un.prototype.slice=function(x,M){x=sn(x);var F=this;return F.__filtered__&&(x>0||M<0)?new un(F):(x<0?F=F.takeRight(-x):x&&(F=F.drop(x)),M!==n&&(M=sn(M),F=M<0?F.dropRight(-M):F.take(M-x)),F)},un.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},un.prototype.toArray=function(){return this.take(W)},qn(un.prototype,function(x,M){var F=/^(?:filter|find|map|reject)|While$/.test(M),ee=/^(?:head|last)$/.test(M),me=Ee[ee?"take"+(M=="last"?"Right":""):M],Te=ee||/^find/.test(M);!me||(Ee.prototype[M]=function(){var Fe=this.__wrapped__,We=ee?[1]:arguments,$e=Fe instanceof un,ht=We[0],dt=$e||rn(Fe),mt=function(dn){var gn=me.apply(Ee,Ci([dn],We));return ee&&Mt?gn[0]:gn};dt&&F&&typeof ht=="function"&&ht.length!=1&&($e=dt=!1);var Mt=this.__chain__,kt=!!this.__actions__.length,Wt=Te&&!Mt,on=$e&&!kt;if(!Te&&dt){Fe=on?Fe:new un(this);var Vt=x.apply(Fe,We);return Vt.__actions__.push({func:Gg,args:[mt],thisArg:n}),new yi(Vt,Mt)}return Wt&&on?x.apply(this,We):(Vt=this.thru(mt),Wt?ee?Vt.value()[0]:Vt.value():Vt)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(x){var M=tl[x],F=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",ee=/^(?:pop|shift)$/.test(x);Ee.prototype[x]=function(){var me=arguments;if(ee&&!this.__chain__){var Te=this.value();return M.apply(rn(Te)?Te:[],me)}return this[F](function(Fe){return M.apply(rn(Fe)?Fe:[],me)})}}),qn(un.prototype,function(x,M){var F=Ee[M];if(F){var ee=F.name+"";Sn.call(ll,ee)||(ll[ee]=[]),ll[ee].push({name:M,func:F})}}),ll[Ng(n,v).name]=[{name:"wrapper",func:n}],un.prototype.clone=ep,un.prototype.reverse=tp,un.prototype.value=xg,Ee.prototype.at=VI,Ee.prototype.chain=jI,Ee.prototype.commit=ZI,Ee.prototype.next=XI,Ee.prototype.plant=qI,Ee.prototype.reverse=QI,Ee.prototype.toJSON=Ee.prototype.valueOf=Ee.prototype.value=JI,Ee.prototype.first=Ee.prototype.head,lo&&(Ee.prototype[lo]=YI),Ee},ii=oo();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(An._=ii,define(function(){return ii})):aa?((aa.exports=ii)._=ii,zd._=ii):An._=ii}).call(Od)});var h5=Bi((c5,ES)=>{(function(){"use strict";var n=Math.PI,e=Math.sin,t=Math.cos,r=Math.tan,i=Math.asin,a=Math.atan2,s=Math.acos,o=n/180,c=1e3*60*60*24,g=2440588,p=2451545;function d(z){return z.valueOf()/c-.5+g}function u(z){return new Date((z+.5-g)*c)}function f(z){return d(z)-p}var l=o*23.4397;function v(z,W){return a(e(z)*t(l)-r(W)*e(l),t(z))}function y(z,W){return i(e(W)*t(l)+t(W)*e(l)*e(z))}function h(z,W,Q){return a(e(z),t(z)*e(W)-r(Q)*t(W))}function m(z,W,Q){return i(e(W)*e(Q)+t(W)*t(Q)*t(z))}function _(z,W){return o*(280.16+360.9856235*z)-W}function w(z){return z<0&&(z=0),2967e-7/Math.tan(z+.00312536/(z+.08901179))}function E(z){return o*(357.5291+.98560028*z)}function T(z){var W=o*(1.9148*e(z)+.02*e(2*z)+3e-4*e(3*z)),Q=o*102.9372;return z+W+Q+n}function A(z){var W=E(z),Q=T(W);return{dec:y(Q,0),ra:v(Q,0)}}var C={};C.getPosition=function(z,W,Q){var se=o*-Q,le=o*W,fe=f(z),$=A(fe),ae=_(fe,se)-$.ra;return{azimuth:h(ae,le,$.dec),altitude:m(ae,le,$.dec)}};var R=C.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];C.addTime=function(z,W,Q){R.push([z,W,Q])};var D=9e-4;function O(z,W){return Math.round(z-D-W/(2*n))}function k(z,W,Q){return D+(z+W)/(2*n)+Q}function H(z,W,Q){return p+z+.0053*e(W)-.0069*e(2*Q)}function B(z,W,Q){return s((e(z)-e(W)*e(Q))/(t(W)*t(Q)))}function Z(z,W,Q,se,le,fe,$){var ae=B(z,Q,se),oe=k(ae,W,le);return H(oe,fe,$)}C.getTimes=function(z,W,Q){var se=o*-Q,le=o*W,fe=f(z),$=O(fe,se),ae=k(0,se,$),oe=E(ae),ce=T(oe),he=y(ce,0),we=H(ae,oe,ce),xe,Oe,ge,De,pe,de={solarNoon:u(we),nadir:u(we-.5)};for(xe=0,Oe=R.length;xe<Oe;xe+=1)ge=R[xe],De=Z(ge[0]*o,se,le,he,$,oe,ce),pe=we-(De-we),de[ge[1]]=u(pe),de[ge[2]]=u(De);return de};function V(z){var W=o*(218.316+13.176396*z),Q=o*(134.963+13.064993*z),se=o*(93.272+13.22935*z),le=W+o*6.289*e(Q),fe=o*5.128*e(se),$=385001-20905*t(Q);return{ra:v(le,fe),dec:y(le,fe),dist:$}}C.getMoonPosition=function(z,W,Q){var se=o*-Q,le=o*W,fe=f(z),$=V(fe),ae=_(fe,se)-$.ra,oe=m(ae,le,$.dec),ce=a(e(ae),r(le)*t($.dec)-e($.dec)*t(ae));return oe=oe+w(oe),{azimuth:h(ae,le,$.dec),altitude:oe,distance:$.dist,parallacticAngle:ce}},C.getMoonIllumination=function(z){var W=f(z||new Date),Q=A(W),se=V(W),le=149598e3,fe=s(e(Q.dec)*e(se.dec)+t(Q.dec)*t(se.dec)*t(Q.ra-se.ra)),$=a(le*e(fe),se.dist-le*t(fe)),ae=a(t(Q.dec)*e(Q.ra-se.ra),e(Q.dec)*t(se.dec)-t(Q.dec)*e(se.dec)*t(Q.ra-se.ra));return{fraction:(1+t($))/2,phase:.5+.5*$*(ae<0?-1:1)/Math.PI,angle:ae}};function j(z,W){return new Date(z.valueOf()+W*c/24)}C.getMoonTimes=function(z,W,Q,se){var le=new Date(z);se?le.setUTCHours(0,0,0,0):le.setHours(0,0,0,0);for(var fe=.133*o,$=C.getMoonPosition(le,W,Q).altitude-fe,ae,oe,ce,he,we,xe,Oe,ge,De,pe,de,ie,re,q=1;q<=24&&(ae=C.getMoonPosition(j(le,q),W,Q).altitude-fe,oe=C.getMoonPosition(j(le,q+1),W,Q).altitude-fe,we=($+oe)/2-ae,xe=(oe-$)/2,Oe=-xe/(2*we),ge=(we*Oe+xe)*Oe+ae,De=xe*xe-4*we*ae,pe=0,De>=0&&(re=Math.sqrt(De)/(Math.abs(we)*2),de=Oe-re,ie=Oe+re,Math.abs(de)<=1&&pe++,Math.abs(ie)<=1&&pe++,de<-1&&(de=ie)),pe===1?$<0?ce=q+de:he=q+de:pe===2&&(ce=q+(ge<0?ie:de),he=q+(ge<0?de:ie)),!(ce&&he));q+=2)$=oe;var te={};return ce&&(te.rise=j(le,ce)),he&&(te.set=j(le,he)),!ce&&!he&&(te[ge>0?"alwaysUp":"alwaysDown"]=!0),te},typeof c5=="object"&&typeof ES!="undefined"?ES.exports=C:typeof define=="function"&&define.amd?define(C):window.SunCalc=C})()});var p5=Bi((d5,SS)=>{if((typeof zt=="undefined"||!zt)&&typeof self!="undefined")var zt=self;(function(n){if(typeof d5=="object"&&typeof SS!="undefined")SS.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var e;typeof zt!="undefined"?e=zt:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.jimp=n()}})(function(){var n,e,t;return function(){function r(i,a,s){function o(p,d){if(!a[p]){if(!i[p]){var u=typeof bp=="function"&&bp;if(!d&&u)return u(p,!0);if(c)return c(p,!0);var f=new Error("Cannot find module '"+p+"'");throw f.code="MODULE_NOT_FOUND",f}var l=a[p]={exports:{}};i[p][0].call(l.exports,function(v){var y=i[p][1][v];return o(y||v)},l,l.exports,r,i,a,s)}return a[p].exports}for(var c=typeof bp=="function"&&bp,g=0;g<s.length;g++)o(s[g]);return o}return r}()({1:[function(r,i,a){function s(o){if(Array.isArray(o))return o}i.exports=s},{}],2:[function(r,i,a){function s(o){if(Array.isArray(o)){for(var c=0,g=new Array(o.length);c<o.length;c++)g[c]=o[c];return g}}i.exports=s},{}],3:[function(r,i,a){function s(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}i.exports=s},{}],4:[function(r,i,a){function s(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}i.exports=s},{}],5:[function(r,i,a){var s=r("./setPrototypeOf");function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(g,p,d){return o()?i.exports=c=Reflect.construct:i.exports=c=function(f,l,v){var y=[null];y.push.apply(y,l);var h=Function.bind.apply(f,y),m=new h;return v&&s(m,v.prototype),m},c.apply(null,arguments)}i.exports=c},{"./setPrototypeOf":18}],6:[function(r,i,a){function s(c,g){for(var p=0;p<g.length;p++){var d=g[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function o(c,g,p){return g&&s(c.prototype,g),p&&s(c,p),c}i.exports=o},{}],7:[function(r,i,a){function s(o,c,g){return c in o?Object.defineProperty(o,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):o[c]=g,o}i.exports=s},{}],8:[function(r,i,a){function s(){return i.exports=s=Object.assign||function(o){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(o[p]=g[p])}return o},s.apply(this,arguments)}i.exports=s},{}],9:[function(r,i,a){function s(o){return i.exports=s=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},s(o)}i.exports=s},{}],10:[function(r,i,a){var s=r("./setPrototypeOf");function o(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),g&&s(c,g)}i.exports=o},{"./setPrototypeOf":18}],11:[function(r,i,a){function s(o){return o&&o.__esModule?o:{default:o}}i.exports=s},{}],12:[function(r,i,a){var s=r("../helpers/typeof");function o(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return o=function(){return g},g}function c(g){if(g&&g.__esModule)return g;if(g===null||s(g)!=="object"&&typeof g!="function")return{default:g};var p=o();if(p&&p.has(g))return p.get(g);var d={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in g)if(Object.prototype.hasOwnProperty.call(g,f)){var l=u?Object.getOwnPropertyDescriptor(g,f):null;l&&(l.get||l.set)?Object.defineProperty(d,f,l):d[f]=g[f]}return d.default=g,p&&p.set(g,d),d}i.exports=c},{"../helpers/typeof":21}],13:[function(r,i,a){function s(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}i.exports=s},{}],14:[function(r,i,a){function s(o,c){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var g=[],p=!0,d=!1,u=void 0;try{for(var f=o[Symbol.iterator](),l;!(p=(l=f.next()).done)&&(g.push(l.value),!(c&&g.length===c));p=!0);}catch(v){d=!0,u=v}finally{try{!p&&f.return!=null&&f.return()}finally{if(d)throw u}}return g}}i.exports=s},{}],15:[function(r,i,a){function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i.exports=s},{}],16:[function(r,i,a){function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i.exports=s},{}],17:[function(r,i,a){var s=r("../helpers/typeof"),o=r("./assertThisInitialized");function c(g,p){return p&&(s(p)==="object"||typeof p=="function")?p:o(g)}i.exports=c},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(r,i,a){function s(o,c){return i.exports=s=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},s(o,c)}i.exports=s},{}],19:[function(r,i,a){var s=r("./arrayWithHoles"),o=r("./iterableToArrayLimit"),c=r("./nonIterableRest");function g(p,d){return s(p)||o(p,d)||c()}i.exports=g},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(r,i,a){var s=r("./arrayWithoutHoles"),o=r("./iterableToArray"),c=r("./nonIterableSpread");function g(p){return s(p)||o(p)||c()}i.exports=g},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(r,i,a){function s(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(p){return typeof p}:s=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(c)}function o(c){return typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?i.exports=o=function(p){return s(p)}:i.exports=o=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)},o(c)}i.exports=o},{}],22:[function(r,i,a){i.exports=r("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(r,i,a){var s=r("./src/converter");function o(c,g){var p=new s(c,g);return function(d){return p.convert(d)}}o.BIN="01",o.OCT="01234567",o.DEC="0123456789",o.HEX="0123456789abcdef",i.exports=o},{"./src/converter":24}],24:[function(r,i,a){"use strict";function s(o,c){if(!o||!c||!o.length||!c.length)throw new Error("Bad alphabet");this.srcAlphabet=o,this.dstAlphabet=c}s.prototype.convert=function(o){var c,g,p,d={},u=this.srcAlphabet.length,f=this.dstAlphabet.length,l=o.length,v=typeof o=="string"?"":[];if(!this.isValid(o))throw new Error('Number "'+o+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return o;for(c=0;c<l;c++)d[c]=this.srcAlphabet.indexOf(o[c]);do{for(g=0,p=0,c=0;c<l;c++)g=g*u+d[c],g>=f?(d[p++]=parseInt(g/f,10),g=g%f):p>0&&(d[p++]=0);l=p,v=this.dstAlphabet.slice(g,g+1).concat(v)}while(p!==0);return v},s.prototype.isValid=function(o){for(var c=0;c<o.length;++c)if(this.srcAlphabet.indexOf(o[c])===-1)return!1;return!0},i.exports=s},{}],25:[function(r,i,a){(function(s){"use strict";var o=r("object-assign");function c(j,z){if(j===z)return 0;for(var W=j.length,Q=z.length,se=0,le=Math.min(W,Q);se<le;++se)if(j[se]!==z[se]){W=j[se],Q=z[se];break}return W<Q?-1:Q<W?1:0}function g(j){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(j):!!(j!=null&&j._isBuffer)}var p=r("util/"),d=Object.prototype.hasOwnProperty,u=Array.prototype.slice,f=function(){return function(){}.name==="foo"}();function l(j){return Object.prototype.toString.call(j)}function v(j){return g(j)||typeof s.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(j):j?!!(j instanceof DataView||j.buffer&&j.buffer instanceof ArrayBuffer):!1}var y=i.exports=A,h=/\s*function\s+([^\(\s]*)\s*/;function m(j){if(!!p.isFunction(j)){if(f)return j.name;var z=j.toString(),W=z.match(h);return W&&W[1]}}y.AssertionError=function(z){this.name="AssertionError",this.actual=z.actual,this.expected=z.expected,this.operator=z.operator,z.message?(this.message=z.message,this.generatedMessage=!1):(this.message=E(this),this.generatedMessage=!0);var W=z.stackStartFunction||T;if(Error.captureStackTrace)Error.captureStackTrace(this,W);else{var Q=new Error;if(Q.stack){var se=Q.stack,le=m(W),fe=se.indexOf(`
`+le);if(fe>=0){var $=se.indexOf(`
`,fe+1);se=se.substring($+1)}this.stack=se}}},p.inherits(y.AssertionError,Error);function _(j,z){return typeof j=="string"?j.length<z?j:j.slice(0,z):j}function w(j){if(f||!p.isFunction(j))return p.inspect(j);var z=m(j),W=z?": "+z:"";return"[Function"+W+"]"}function E(j){return _(w(j.actual),128)+" "+j.operator+" "+_(w(j.expected),128)}function T(j,z,W,Q,se){throw new y.AssertionError({message:W,actual:j,expected:z,operator:Q,stackStartFunction:se})}y.fail=T;function A(j,z){j||T(j,!0,z,"==",y.ok)}y.ok=A,y.equal=function(z,W,Q){z!=W&&T(z,W,Q,"==",y.equal)},y.notEqual=function(z,W,Q){z==W&&T(z,W,Q,"!=",y.notEqual)},y.deepEqual=function(z,W,Q){C(z,W,!1)||T(z,W,Q,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(z,W,Q){C(z,W,!0)||T(z,W,Q,"deepStrictEqual",y.deepStrictEqual)};function C(j,z,W,Q){if(j===z)return!0;if(g(j)&&g(z))return c(j,z)===0;if(p.isDate(j)&&p.isDate(z))return j.getTime()===z.getTime();if(p.isRegExp(j)&&p.isRegExp(z))return j.source===z.source&&j.global===z.global&&j.multiline===z.multiline&&j.lastIndex===z.lastIndex&&j.ignoreCase===z.ignoreCase;if((j===null||typeof j!="object")&&(z===null||typeof z!="object"))return W?j===z:j==z;if(v(j)&&v(z)&&l(j)===l(z)&&!(j instanceof Float32Array||j instanceof Float64Array))return c(new Uint8Array(j.buffer),new Uint8Array(z.buffer))===0;if(g(j)!==g(z))return!1;Q=Q||{actual:[],expected:[]};var se=Q.actual.indexOf(j);return se!==-1&&se===Q.expected.indexOf(z)?!0:(Q.actual.push(j),Q.expected.push(z),D(j,z,W,Q))}function R(j){return Object.prototype.toString.call(j)=="[object Arguments]"}function D(j,z,W,Q){if(j==null||z===null||z===void 0)return!1;if(p.isPrimitive(j)||p.isPrimitive(z))return j===z;if(W&&Object.getPrototypeOf(j)!==Object.getPrototypeOf(z))return!1;var se=R(j),le=R(z);if(se&&!le||!se&&le)return!1;if(se)return j=u.call(j),z=u.call(z),C(j,z,W);var fe=V(j),$=V(z),ae,oe;if(fe.length!==$.length)return!1;for(fe.sort(),$.sort(),oe=fe.length-1;oe>=0;oe--)if(fe[oe]!==$[oe])return!1;for(oe=fe.length-1;oe>=0;oe--)if(ae=fe[oe],!C(j[ae],z[ae],W,Q))return!1;return!0}y.notDeepEqual=function(z,W,Q){C(z,W,!1)&&T(z,W,Q,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=O;function O(j,z,W){C(j,z,!0)&&T(j,z,W,"notDeepStrictEqual",O)}y.strictEqual=function(z,W,Q){z!==W&&T(z,W,Q,"===",y.strictEqual)},y.notStrictEqual=function(z,W,Q){z===W&&T(z,W,Q,"!==",y.notStrictEqual)};function k(j,z){if(!j||!z)return!1;if(Object.prototype.toString.call(z)=="[object RegExp]")return z.test(j);try{if(j instanceof z)return!0}catch{}return Error.isPrototypeOf(z)?!1:z.call({},j)===!0}function H(j){var z;try{j()}catch(W){z=W}return z}function B(j,z,W,Q){var se;if(typeof z!="function")throw new TypeError('"block" argument must be a function');typeof W=="string"&&(Q=W,W=null),se=H(z),Q=(W&&W.name?" ("+W.name+").":".")+(Q?" "+Q:"."),j&&!se&&T(se,W,"Missing expected exception"+Q);var le=typeof Q=="string",fe=!j&&p.isError(se),$=!j&&se&&!W;if((fe&&le&&k(se,W)||$)&&T(se,W,"Got unwanted exception"+Q),j&&se&&W&&!k(se,W)||!j&&se)throw se}y.throws=function(j,z,W){B(!0,j,z,W)},y.doesNotThrow=function(j,z,W){B(!1,j,z,W)},y.ifError=function(j){if(j)throw j};function Z(j,z){j||T(j,!0,z,"==",Z)}y.strict=o(Z,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict;var V=Object.keys||function(j){var z=[];for(var W in j)d.call(j,W)&&z.push(W);return z}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"object-assign":84,"util/":28}],26:[function(r,i,a){typeof Object.create=="function"?i.exports=function(o,c){o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(o,c){o.super_=c;var g=function(){};g.prototype=c.prototype,o.prototype=new g,o.prototype.constructor=o}},{}],27:[function(r,i,a){i.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],28:[function(r,i,a){(function(s,o){var c=/%[sdj%]/g;a.format=function($){if(!D($)){for(var ae=[],oe=0;oe<arguments.length;oe++)ae.push(d(arguments[oe]));return ae.join(" ")}for(var oe=1,ce=arguments,he=ce.length,we=String($).replace(c,function(Oe){if(Oe==="%%")return"%";if(oe>=he)return Oe;switch(Oe){case"%s":return String(ce[oe++]);case"%d":return Number(ce[oe++]);case"%j":try{return JSON.stringify(ce[oe++])}catch{return"[Circular]"}default:return Oe}}),xe=ce[oe];oe<he;xe=ce[++oe])A(xe)||!B(xe)?we+=" "+xe:we+=" "+d(xe);return we},a.deprecate=function($,ae){if(k(o.process))return function(){return a.deprecate($,ae).apply(this,arguments)};if(s.noDeprecation===!0)return $;var oe=!1;function ce(){if(!oe){if(s.throwDeprecation)throw new Error(ae);s.traceDeprecation?console.trace(ae):console.error(ae),oe=!0}return $.apply(this,arguments)}return ce};var g={},p;a.debuglog=function($){if(k(p)&&(p=s.env.NODE_DEBUG||""),$=$.toUpperCase(),!g[$])if(new RegExp("\\b"+$+"\\b","i").test(p)){var ae=s.pid;g[$]=function(){var oe=a.format.apply(a,arguments);console.error("%s %d: %s",$,ae,oe)}}else g[$]=function(){};return g[$]};function d($,ae){var oe={seen:[],stylize:f};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),T(ae)?oe.showHidden=ae:ae&&a._extend(oe,ae),k(oe.showHidden)&&(oe.showHidden=!1),k(oe.depth)&&(oe.depth=2),k(oe.colors)&&(oe.colors=!1),k(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=u),v(oe,$,oe.depth)}a.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u($,ae){var oe=d.styles[ae];return oe?"["+d.colors[oe][0]+"m"+$+"["+d.colors[oe][1]+"m":$}function f($,ae){return $}function l($){var ae={};return $.forEach(function(oe,ce){ae[oe]=!0}),ae}function v($,ae,oe){if($.customInspect&&ae&&j(ae.inspect)&&ae.inspect!==a.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var ce=ae.inspect(oe,$);return D(ce)||(ce=v($,ce,oe)),ce}var he=y($,ae);if(he)return he;var we=Object.keys(ae),xe=l(we);if($.showHidden&&(we=Object.getOwnPropertyNames(ae)),V(ae)&&(we.indexOf("message")>=0||we.indexOf("description")>=0))return h(ae);if(we.length===0){if(j(ae)){var Oe=ae.name?": "+ae.name:"";return $.stylize("[Function"+Oe+"]","special")}if(H(ae))return $.stylize(RegExp.prototype.toString.call(ae),"regexp");if(Z(ae))return $.stylize(Date.prototype.toString.call(ae),"date");if(V(ae))return h(ae)}var ge="",De=!1,pe=["{","}"];if(E(ae)&&(De=!0,pe=["[","]"]),j(ae)){var de=ae.name?": "+ae.name:"";ge=" [Function"+de+"]"}if(H(ae)&&(ge=" "+RegExp.prototype.toString.call(ae)),Z(ae)&&(ge=" "+Date.prototype.toUTCString.call(ae)),V(ae)&&(ge=" "+h(ae)),we.length===0&&(!De||ae.length==0))return pe[0]+ge+pe[1];if(oe<0)return H(ae)?$.stylize(RegExp.prototype.toString.call(ae),"regexp"):$.stylize("[Object]","special");$.seen.push(ae);var ie;return De?ie=m($,ae,oe,xe,we):ie=we.map(function(re){return _($,ae,oe,xe,re,De)}),$.seen.pop(),w(ie,ge,pe)}function y($,ae){if(k(ae))return $.stylize("undefined","undefined");if(D(ae)){var oe="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(oe,"string")}if(R(ae))return $.stylize(""+ae,"number");if(T(ae))return $.stylize(""+ae,"boolean");if(A(ae))return $.stylize("null","null")}function h($){return"["+Error.prototype.toString.call($)+"]"}function m($,ae,oe,ce,he){for(var we=[],xe=0,Oe=ae.length;xe<Oe;++xe)fe(ae,String(xe))?we.push(_($,ae,oe,ce,String(xe),!0)):we.push("");return he.forEach(function(ge){ge.match(/^\d+$/)||we.push(_($,ae,oe,ce,ge,!0))}),we}function _($,ae,oe,ce,he,we){var xe,Oe,ge;if(ge=Object.getOwnPropertyDescriptor(ae,he)||{value:ae[he]},ge.get?ge.set?Oe=$.stylize("[Getter/Setter]","special"):Oe=$.stylize("[Getter]","special"):ge.set&&(Oe=$.stylize("[Setter]","special")),fe(ce,he)||(xe="["+he+"]"),Oe||($.seen.indexOf(ge.value)<0?(A(oe)?Oe=v($,ge.value,null):Oe=v($,ge.value,oe-1),Oe.indexOf(`
`)>-1&&(we?Oe=Oe.split(`
`).map(function(De){return"  "+De}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(De){return"   "+De}).join(`
`))):Oe=$.stylize("[Circular]","special")),k(xe)){if(we&&he.match(/^\d+$/))return Oe;xe=JSON.stringify(""+he),xe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.substr(1,xe.length-2),xe=$.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=$.stylize(xe,"string"))}return xe+": "+Oe}function w($,ae,oe){var ce=0,he=$.reduce(function(we,xe){return ce++,xe.indexOf(`
`)>=0&&ce++,we+xe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?oe[0]+(ae===""?"":ae+`
 `)+" "+$.join(`,
  `)+" "+oe[1]:oe[0]+ae+" "+$.join(", ")+" "+oe[1]}function E($){return Array.isArray($)}a.isArray=E;function T($){return typeof $=="boolean"}a.isBoolean=T;function A($){return $===null}a.isNull=A;function C($){return $==null}a.isNullOrUndefined=C;function R($){return typeof $=="number"}a.isNumber=R;function D($){return typeof $=="string"}a.isString=D;function O($){return typeof $=="symbol"}a.isSymbol=O;function k($){return $===void 0}a.isUndefined=k;function H($){return B($)&&W($)==="[object RegExp]"}a.isRegExp=H;function B($){return typeof $=="object"&&$!==null}a.isObject=B;function Z($){return B($)&&W($)==="[object Date]"}a.isDate=Z;function V($){return B($)&&(W($)==="[object Error]"||$ instanceof Error)}a.isError=V;function j($){return typeof $=="function"}a.isFunction=j;function z($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $=="undefined"}a.isPrimitive=z,a.isBuffer=r("./support/isBuffer");function W($){return Object.prototype.toString.call($)}function Q($){return $<10?"0"+$.toString(10):$.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var $=new Date,ae=[Q($.getHours()),Q($.getMinutes()),Q($.getSeconds())].join(":");return[$.getDate(),se[$.getMonth()],ae].join(" ")}a.log=function(){console.log("%s - %s",le(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function($,ae){if(!ae||!B(ae))return $;for(var oe=Object.keys(ae),ce=oe.length;ce--;)$[oe[ce]]=ae[oe[ce]];return $};function fe($,ae){return Object.prototype.hasOwnProperty.call($,ae)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(r,i,a){"use strict";a.byteLength=f,a.toByteArray=v,a.fromByteArray=m;for(var s=[],o=[],c=typeof Uint8Array!="undefined"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=g.length;p<d;++p)s[p]=g[p],o[g.charCodeAt(p)]=p;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63;function u(_){var w=_.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=_.indexOf("=");E===-1&&(E=w);var T=E===w?0:4-E%4;return[E,T]}function f(_){var w=u(_),E=w[0],T=w[1];return(E+T)*3/4-T}function l(_,w,E){return(w+E)*3/4-E}function v(_){var w,E=u(_),T=E[0],A=E[1],C=new c(l(_,T,A)),R=0,D=A>0?T-4:T,O;for(O=0;O<D;O+=4)w=o[_.charCodeAt(O)]<<18|o[_.charCodeAt(O+1)]<<12|o[_.charCodeAt(O+2)]<<6|o[_.charCodeAt(O+3)],C[R++]=w>>16&255,C[R++]=w>>8&255,C[R++]=w&255;return A===2&&(w=o[_.charCodeAt(O)]<<2|o[_.charCodeAt(O+1)]>>4,C[R++]=w&255),A===1&&(w=o[_.charCodeAt(O)]<<10|o[_.charCodeAt(O+1)]<<4|o[_.charCodeAt(O+2)]>>2,C[R++]=w>>8&255,C[R++]=w&255),C}function y(_){return s[_>>18&63]+s[_>>12&63]+s[_>>6&63]+s[_&63]}function h(_,w,E){for(var T,A=[],C=w;C<E;C+=3)T=(_[C]<<16&16711680)+(_[C+1]<<8&65280)+(_[C+2]&255),A.push(y(T));return A.join("")}function m(_){for(var w,E=_.length,T=E%3,A=[],C=16383,R=0,D=E-T;R<D;R+=C)A.push(h(_,R,R+C>D?D:R+C));return T===1?(w=_[E-1],A.push(s[w>>2]+s[w<<4&63]+"==")):T===2&&(w=(_[E-2]<<8)+_[E-1],A.push(s[w>>10]+s[w>>4&63]+s[w<<2&63]+"=")),A.join("")}},{}],30:[function(r,i,a){var s=r("./lib/encoder"),o=r("./lib/decoder");i.exports={encode:s,decode:o}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(r,i,a){(function(s){function o(c,g){if(this.pos=0,this.buffer=c,this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}o.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var g=0;g<c;g++){var p=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++);this.palette[g]={red:u,green:d,blue:p,quad:f}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},o.prototype.parseRGBA=function(){var c="bit"+this.bitPP,g=this.width*this.height*4;this.data=new s(g),this[c]()},o.prototype.bit1=function(){for(var c=Math.ceil(this.width/8),g=c%4,p=this.height>=0?this.height-1:-this.height,p=this.height-1;p>=0;p--){for(var d=this.bottom_up?p:this.height-1-p,u=0;u<c;u++)for(var f=this.buffer.readUInt8(this.pos++),l=d*this.width*4+u*8*4,v=0;v<8&&u*8+v<this.width;v++){var y=this.palette[f>>7-v&1];this.data[l+v*4]=0,this.data[l+v*4+1]=y.blue,this.data[l+v*4+2]=y.green,this.data[l+v*4+3]=y.red}g!=0&&(this.pos+=4-g)}},o.prototype.bit4=function(){if(this.compress==2){let C=function(R){var D=this.palette[R];this.data[c]=0,this.data[c+1]=D.blue,this.data[c+2]=D.green,this.data[c+3]=D.red,c+=4};var A=C;this.data.fill(255);for(var c=0,g=this.bottom_up?this.height-1:0,p=!1;c<this.data.length;){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++);if(d==0)if(u==0){this.bottom_up?g--:g++,c=g*this.width*4,p=!1;continue}else{if(u==1)break;if(u==2){var f=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=l:g+=l,c+=l*this.width*4+f*4}else{for(var v=this.buffer.readUInt8(this.pos++),y=0;y<u;y++)p?C.call(this,v&15):C.call(this,(v&240)>>4),y&1&&y+1<u&&(v=this.buffer.readUInt8(this.pos++)),p=!p;(u+1>>1&1)==1&&this.pos++}}else for(var y=0;y<d;y++)p?C.call(this,u&15):C.call(this,(u&240)>>4),p=!p}}else for(var h=Math.ceil(this.width/2),m=h%4,l=this.height-1;l>=0;l--){for(var _=this.bottom_up?l:this.height-1-l,f=0;f<h;f++){var u=this.buffer.readUInt8(this.pos++),c=_*this.width*4+f*2*4,w=u>>4,E=u&15,T=this.palette[w];if(this.data[c]=0,this.data[c+1]=T.blue,this.data[c+2]=T.green,this.data[c+3]=T.red,f*2+1>=this.width)break;T=this.palette[E],this.data[c+4]=0,this.data[c+4+1]=T.blue,this.data[c+4+2]=T.green,this.data[c+4+3]=T.red}m!=0&&(this.pos+=4-m)}},o.prototype.bit8=function(){if(this.compress==1){let w=function(E){var T=this.palette[E];this.data[c]=0,this.data[c+1]=T.blue,this.data[c+2]=T.green,this.data[c+3]=T.red,c+=4};var _=w;this.data.fill(255);for(var c=0,g=this.bottom_up?this.height-1:0;c<this.data.length;){var p=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++);if(p==0)if(d==0){this.bottom_up?g--:g++,c=g*this.width*4;continue}else{if(d==1)break;if(d==2){var u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=f:g+=f,c+=f*this.width*4+u*4}else{for(var l=0;l<d;l++){var v=this.buffer.readUInt8(this.pos++);w.call(this,v)}d&!0&&this.pos++}}else for(var l=0;l<p;l++)w.call(this,d)}}else for(var y=this.width%4,f=this.height-1;f>=0;f--){for(var h=this.bottom_up?f:this.height-1-f,u=0;u<this.width;u++){var d=this.buffer.readUInt8(this.pos++),c=h*this.width*4+u*4;if(d<this.palette.length){var m=this.palette[d];this.data[c]=0,this.data[c+1]=m.blue,this.data[c+2]=m.green,this.data[c+3]=m.red}else this.data[c]=0,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}y!=0&&(this.pos+=4-y)}},o.prototype.bit15=function(){for(var c=this.width%3,g=parseInt("11111",2),p=g,d=this.height-1;d>=0;d--){for(var u=this.bottom_up?d:this.height-1-d,f=0;f<this.width;f++){var l=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(l&p)/p*255|0,y=(l>>5&p)/p*255|0,h=(l>>10&p)/p*255|0,m=l>>15?255:0,_=u*this.width*4+f*4;this.data[_]=m,this.data[_+1]=v,this.data[_+2]=y,this.data[_+3]=h}this.pos+=c}},o.prototype.bit16=function(){var c=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var g=[0,0,0],p=0;p<16;p++)this.maskRed>>p&1&&g[0]++,this.maskGreen>>p&1&&g[1]++,this.maskBlue>>p&1&&g[2]++;g[1]+=g[0],g[2]+=g[1],g[0]=8-g[0],g[1]-=8,g[2]-=8;for(var d=this.height-1;d>=0;d--){for(var u=this.bottom_up?d:this.height-1-d,f=0;f<this.width;f++){var l=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(l&this.maskBlue)<<g[0],y=(l&this.maskGreen)>>g[1],h=(l&this.maskRed)>>g[2],m=u*this.width*4+f*4;this.data[m]=0,this.data[m+1]=v,this.data[m+2]=y,this.data[m+3]=h}this.pos+=c}},o.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var g=this.bottom_up?c:this.height-1-c,p=0;p<this.width;p++){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),l=g*this.width*4+p*4;this.data[l]=0,this.data[l+1]=d,this.data[l+2]=u,this.data[l+3]=f}this.pos+=this.width%4}},o.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var c=this.height-1;c>=0;c--)for(var g=this.bottom_up?c:this.height-1-c,p=0;p<this.width;p++){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++),v=g*this.width*4+p*4;this.data[v]=d,this.data[v+1]=u,this.data[v+2]=f,this.data[v+3]=l}}else for(var c=this.height-1;c>=0;c--)for(var g=this.bottom_up?c:this.height-1-c,p=0;p<this.width;p++){var u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++),v=g*this.width*4+p*4;this.data[v]=d,this.data[v+1]=u,this.data[v+2]=f,this.data[v+3]=l}},o.prototype.getData=function(){return this.data},i.exports=function(c){var g=new o(c);return g}}).call(this,r("buffer").Buffer)},{buffer:48}],32:[function(r,i,a){(function(s){function o(c){this.buffer=c.data,this.width=c.width,this.height=c.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}o.prototype.encode=function(){var c=new s(this.offset+this.rgbSize);this.pos=0,c.write(this.flag,this.pos,2),this.pos+=2,c.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,c.writeUInt32LE(this.reserved,this.pos),this.pos+=4,c.writeUInt32LE(this.offset,this.pos),this.pos+=4,c.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,c.writeUInt32LE(this.width,this.pos),this.pos+=4,c.writeInt32LE(-this.height,this.pos),this.pos+=4,c.writeUInt16LE(this.planes,this.pos),this.pos+=2,c.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,c.writeUInt32LE(this.compress,this.pos),this.pos+=4,c.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,c.writeUInt32LE(this.hr,this.pos),this.pos+=4,c.writeUInt32LE(this.vr,this.pos),this.pos+=4,c.writeUInt32LE(this.colors,this.pos),this.pos+=4,c.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var g=0,p=3*this.width+this.extraBytes,d=0;d<this.height;d++){for(var u=0;u<this.width;u++){var f=this.pos+d*p+u*3;g++,c[f]=this.buffer[g++],c[f+1]=this.buffer[g++],c[f+2]=this.buffer[g++]}if(this.extraBytes>0){var l=this.pos+d*p+this.width*3;c.fill(0,l,l+this.extraBytes)}}return c},i.exports=function(c,g){typeof g=="undefined"&&(g=100);var p=new o(c),d=p.encode();return{data:d,width:c.width,height:c.height}}}).call(this,r("buffer").Buffer)},{buffer:48}],33:[function(r,i,a){},{}],34:[function(r,i,a){(function(s,o){"use strict";var c=r("assert"),g=r("pako/lib/zlib/zstream"),p=r("pako/lib/zlib/deflate.js"),d=r("pako/lib/zlib/inflate.js"),u=r("pako/lib/zlib/constants");for(var f in u)a[f]=u[f];a.NONE=0,a.DEFLATE=1,a.INFLATE=2,a.GZIP=3,a.GUNZIP=4,a.DEFLATERAW=5,a.INFLATERAW=6,a.UNZIP=7;var l=31,v=139;function y(h){if(typeof h!="number"||h<a.DEFLATE||h>a.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=h,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}y.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,c(this.init_done,"close before init"),c(this.mode<=a.UNZIP),this.mode===a.DEFLATE||this.mode===a.GZIP||this.mode===a.DEFLATERAW?p.deflateEnd(this.strm):(this.mode===a.INFLATE||this.mode===a.GUNZIP||this.mode===a.INFLATERAW||this.mode===a.UNZIP)&&d.inflateEnd(this.strm),this.mode=a.NONE,this.dictionary=null},y.prototype.write=function(h,m,_,w,E,T,A){return this._write(!0,h,m,_,w,E,T,A)},y.prototype.writeSync=function(h,m,_,w,E,T,A){return this._write(!1,h,m,_,w,E,T,A)},y.prototype._write=function(h,m,_,w,E,T,A,C){if(c.equal(arguments.length,8),c(this.init_done,"write before init"),c(this.mode!==a.NONE,"already finalized"),c.equal(!1,this.write_in_progress,"write already in progress"),c.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,c.equal(!1,m===void 0,"must provide flush value"),this.write_in_progress=!0,m!==a.Z_NO_FLUSH&&m!==a.Z_PARTIAL_FLUSH&&m!==a.Z_SYNC_FLUSH&&m!==a.Z_FULL_FLUSH&&m!==a.Z_FINISH&&m!==a.Z_BLOCK)throw new Error("Invalid flush value");if(_==null&&(_=o.alloc(0),E=0,w=0),this.strm.avail_in=E,this.strm.input=_,this.strm.next_in=w,this.strm.avail_out=C,this.strm.output=T,this.strm.next_out=A,this.flush=m,!h)return this._process(),this._checkError()?this._afterSync():void 0;var R=this;return s.nextTick(function(){R._process(),R._after()}),this},y.prototype._afterSync=function(){var h=this.strm.avail_out,m=this.strm.avail_in;return this.write_in_progress=!1,[m,h]},y.prototype._process=function(){var h=null;switch(this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=p.deflate(this.strm,this.flush);break;case a.UNZIP:switch(this.strm.avail_in>0&&(h=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(h===null)break;if(this.strm.input[h]===l){if(this.gzip_id_bytes_read=1,h++,this.strm.avail_in===1)break}else{this.mode=a.INFLATE;break}case 1:if(h===null)break;this.strm.input[h]===v?(this.gzip_id_bytes_read=2,this.mode=a.GUNZIP):this.mode=a.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:for(this.err=d.inflate(this.strm,this.flush),this.err===a.Z_NEED_DICT&&this.dictionary&&(this.err=d.inflateSetDictionary(this.strm,this.dictionary),this.err===a.Z_OK?this.err=d.inflate(this.strm,this.flush):this.err===a.Z_DATA_ERROR&&(this.err=a.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===a.GUNZIP&&this.err===a.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=d.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},y.prototype._checkError=function(){switch(this.err){case a.Z_OK:case a.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===a.Z_FINISH)return this._error("unexpected end of file"),!1;break;case a.Z_STREAM_END:break;case a.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},y.prototype._after=function(){if(!!this._checkError()){var h=this.strm.avail_out,m=this.strm.avail_in;this.write_in_progress=!1,this.callback(m,h),this.pending_close&&this.close()}},y.prototype._error=function(h){this.strm.msg&&(h=this.strm.msg),this.onerror(h,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},y.prototype.init=function(h,m,_,w,E){c(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),c(h>=8&&h<=15,"invalid windowBits"),c(m>=-1&&m<=9,"invalid compression level"),c(_>=1&&_<=9,"invalid memlevel"),c(w===a.Z_FILTERED||w===a.Z_HUFFMAN_ONLY||w===a.Z_RLE||w===a.Z_FIXED||w===a.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(m,h,_,w,E),this._setDictionary()},y.prototype.params=function(){throw new Error("deflateParams Not supported")},y.prototype.reset=function(){this._reset(),this._setDictionary()},y.prototype._init=function(h,m,_,w,E){switch(this.level=h,this.windowBits=m,this.memLevel=_,this.strategy=w,this.flush=a.Z_NO_FLUSH,this.err=a.Z_OK,(this.mode===a.GZIP||this.mode===a.GUNZIP)&&(this.windowBits+=16),this.mode===a.UNZIP&&(this.windowBits+=32),(this.mode===a.DEFLATERAW||this.mode===a.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new g,this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=p.deflateInit2(this.strm,this.level,a.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:case a.UNZIP:this.err=d.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==a.Z_OK&&this._error("Init error"),this.dictionary=E,this.write_in_progress=!1,this.init_done=!0},y.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:this.err=p.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==a.Z_OK&&this._error("Failed to set dictionary")}},y.prototype._reset=function(){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:case a.GZIP:this.err=p.deflateReset(this.strm);break;case a.INFLATE:case a.INFLATERAW:case a.GUNZIP:this.err=d.inflateReset(this.strm);break;default:break}this.err!==a.Z_OK&&this._error("Failed to reset stream")},a.Zlib=y}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(r,i,a){(function(s){"use strict";var o=r("buffer").Buffer,c=r("stream").Transform,g=r("./binding"),p=r("util"),d=r("assert").ok,u=r("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16*1024,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(g),v=0;v<l.length;v++){var y=l[v];y.match(/^Z/)&&Object.defineProperty(a,y,{enumerable:!0,value:g[y],writable:!1})}for(var h={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},m=Object.keys(h),_=0;_<m.length;_++){var w=m[_];h[h[w]]=w}Object.defineProperty(a,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),a.Deflate=A,a.Inflate=C,a.Gzip=R,a.Gunzip=D,a.DeflateRaw=O,a.InflateRaw=k,a.Unzip=H,a.createDeflate=function(z){return new A(z)},a.createInflate=function(z){return new C(z)},a.createDeflateRaw=function(z){return new O(z)},a.createInflateRaw=function(z){return new k(z)},a.createGzip=function(z){return new R(z)},a.createGunzip=function(z){return new D(z)},a.createUnzip=function(z){return new H(z)},a.deflate=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new A(W),z,Q)},a.deflateSync=function(z,W){return T(new A(W),z)},a.gzip=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new R(W),z,Q)},a.gzipSync=function(z,W){return T(new R(W),z)},a.deflateRaw=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new O(W),z,Q)},a.deflateRawSync=function(z,W){return T(new O(W),z)},a.unzip=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new H(W),z,Q)},a.unzipSync=function(z,W){return T(new H(W),z)},a.inflate=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new C(W),z,Q)},a.inflateSync=function(z,W){return T(new C(W),z)},a.gunzip=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new D(W),z,Q)},a.gunzipSync=function(z,W){return T(new D(W),z)},a.inflateRaw=function(z,W,Q){return typeof W=="function"&&(Q=W,W={}),E(new k(W),z,Q)},a.inflateRawSync=function(z,W){return T(new k(W),z)};function E(z,W,Q){var se=[],le=0;z.on("error",$),z.on("end",ae),z.end(W),fe();function fe(){for(var oe;(oe=z.read())!==null;)se.push(oe),le+=oe.length;z.once("readable",fe)}function $(oe){z.removeListener("end",ae),z.removeListener("readable",fe),Q(oe)}function ae(){var oe,ce=null;le>=u?ce=new RangeError(f):oe=o.concat(se,le),se=[],z.close(),Q(ce,oe)}}function T(z,W){if(typeof W=="string"&&(W=o.from(W)),!o.isBuffer(W))throw new TypeError("Not a string or buffer");var Q=z._finishFlushFlag;return z._processChunk(W,Q)}function A(z){if(!(this instanceof A))return new A(z);Z.call(this,z,g.DEFLATE)}function C(z){if(!(this instanceof C))return new C(z);Z.call(this,z,g.INFLATE)}function R(z){if(!(this instanceof R))return new R(z);Z.call(this,z,g.GZIP)}function D(z){if(!(this instanceof D))return new D(z);Z.call(this,z,g.GUNZIP)}function O(z){if(!(this instanceof O))return new O(z);Z.call(this,z,g.DEFLATERAW)}function k(z){if(!(this instanceof k))return new k(z);Z.call(this,z,g.INFLATERAW)}function H(z){if(!(this instanceof H))return new H(z);Z.call(this,z,g.UNZIP)}function B(z){return z===g.Z_NO_FLUSH||z===g.Z_PARTIAL_FLUSH||z===g.Z_SYNC_FLUSH||z===g.Z_FULL_FLUSH||z===g.Z_FINISH||z===g.Z_BLOCK}function Z(z,W){var Q=this;if(this._opts=z=z||{},this._chunkSize=z.chunkSize||a.Z_DEFAULT_CHUNK,c.call(this,z),z.flush&&!B(z.flush))throw new Error("Invalid flush flag: "+z.flush);if(z.finishFlush&&!B(z.finishFlush))throw new Error("Invalid flush flag: "+z.finishFlush);if(this._flushFlag=z.flush||g.Z_NO_FLUSH,this._finishFlushFlag=typeof z.finishFlush!="undefined"?z.finishFlush:g.Z_FINISH,z.chunkSize&&(z.chunkSize<a.Z_MIN_CHUNK||z.chunkSize>a.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+z.chunkSize);if(z.windowBits&&(z.windowBits<a.Z_MIN_WINDOWBITS||z.windowBits>a.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+z.windowBits);if(z.level&&(z.level<a.Z_MIN_LEVEL||z.level>a.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+z.level);if(z.memLevel&&(z.memLevel<a.Z_MIN_MEMLEVEL||z.memLevel>a.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+z.memLevel);if(z.strategy&&z.strategy!=a.Z_FILTERED&&z.strategy!=a.Z_HUFFMAN_ONLY&&z.strategy!=a.Z_RLE&&z.strategy!=a.Z_FIXED&&z.strategy!=a.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+z.strategy);if(z.dictionary&&!o.isBuffer(z.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new g.Zlib(W);var se=this;this._hadError=!1,this._handle.onerror=function($,ae){V(se),se._hadError=!0;var oe=new Error($);oe.errno=ae,oe.code=a.codes[ae],se.emit("error",oe)};var le=a.Z_DEFAULT_COMPRESSION;typeof z.level=="number"&&(le=z.level);var fe=a.Z_DEFAULT_STRATEGY;typeof z.strategy=="number"&&(fe=z.strategy),this._handle.init(z.windowBits||a.Z_DEFAULT_WINDOWBITS,le,z.memLevel||a.Z_DEFAULT_MEMLEVEL,fe,z.dictionary),this._buffer=o.allocUnsafe(this._chunkSize),this._offset=0,this._level=le,this._strategy=fe,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Q._handle},configurable:!0,enumerable:!0})}p.inherits(Z,c),Z.prototype.params=function(z,W,Q){if(z<a.Z_MIN_LEVEL||z>a.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+z);if(W!=a.Z_FILTERED&&W!=a.Z_HUFFMAN_ONLY&&W!=a.Z_RLE&&W!=a.Z_FIXED&&W!=a.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+W);if(this._level!==z||this._strategy!==W){var se=this;this.flush(g.Z_SYNC_FLUSH,function(){d(se._handle,"zlib binding closed"),se._handle.params(z,W),se._hadError||(se._level=z,se._strategy=W,Q&&Q())})}else s.nextTick(Q)},Z.prototype.reset=function(){return d(this._handle,"zlib binding closed"),this._handle.reset()},Z.prototype._flush=function(z){this._transform(o.alloc(0),"",z)},Z.prototype.flush=function(z,W){var Q=this,se=this._writableState;(typeof z=="function"||z===void 0&&!W)&&(W=z,z=g.Z_FULL_FLUSH),se.ended?W&&s.nextTick(W):se.ending?W&&this.once("end",W):se.needDrain?W&&this.once("drain",function(){return Q.flush(z,W)}):(this._flushFlag=z,this.write(o.alloc(0),"",W))},Z.prototype.close=function(z){V(this,z),s.nextTick(j,this)};function V(z,W){W&&s.nextTick(W),!!z._handle&&(z._handle.close(),z._handle=null)}function j(z){z.emit("close")}Z.prototype._transform=function(z,W,Q){var se,le=this._writableState,fe=le.ending||le.ended,$=fe&&(!z||le.length===z.length);if(z!==null&&!o.isBuffer(z))return Q(new Error("invalid input"));if(!this._handle)return Q(new Error("zlib binding closed"));$?se=this._finishFlushFlag:(se=this._flushFlag,z.length>=le.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH)),this._processChunk(z,se,Q)},Z.prototype._processChunk=function(z,W,Q){var se=z&&z.length,le=this._chunkSize-this._offset,fe=0,$=this,ae=typeof Q=="function";if(!ae){var oe=[],ce=0,he;this.on("error",function(De){he=De}),d(this._handle,"zlib binding closed");do var we=this._handle.writeSync(W,z,fe,se,this._buffer,this._offset,le);while(!this._hadError&&ge(we[0],we[1]));if(this._hadError)throw he;if(ce>=u)throw V(this),new RangeError(f);var xe=o.concat(oe,ce);return V(this),xe}d(this._handle,"zlib binding closed");var Oe=this._handle.write(W,z,fe,se,this._buffer,this._offset,le);Oe.buffer=z,Oe.callback=ge;function ge(De,pe){if(this&&(this.buffer=null,this.callback=null),!$._hadError){var de=le-pe;if(d(de>=0,"have should not go down"),de>0){var ie=$._buffer.slice($._offset,$._offset+de);$._offset+=de,ae?$.push(ie):(oe.push(ie),ce+=ie.length)}if((pe===0||$._offset>=$._chunkSize)&&(le=$._chunkSize,$._offset=0,$._buffer=o.allocUnsafe($._chunkSize)),pe===0){if(fe+=se-De,se=De,!ae)return!0;var re=$._handle.write(W,z,fe,se,$._buffer,$._offset,$._chunkSize);re.callback=ge,re.buffer=z;return}if(!ae)return!1;Q()}}},p.inherits(A,Z),p.inherits(C,Z),p.inherits(R,Z),p.inherits(D,Z),p.inherits(O,Z),p.inherits(k,Z),p.inherits(H,Z)}).call(this,r("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(r,i,a){"use strict";var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function o(p,d){return Object.prototype.hasOwnProperty.call(p,d)}a.assign=function(p){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(!!u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)o(u,f)&&(p[f]=u[f])}}return p},a.shrinkBuf=function(p,d){return p.length===d?p:p.subarray?p.subarray(0,d):(p.length=d,p)};var c={arraySet:function(p,d,u,f,l){if(d.subarray&&p.subarray){p.set(d.subarray(u,u+f),l);return}for(var v=0;v<f;v++)p[l+v]=d[u+v]},flattenChunks:function(p){var d,u,f,l,v,y;for(f=0,d=0,u=p.length;d<u;d++)f+=p[d].length;for(y=new Uint8Array(f),l=0,d=0,u=p.length;d<u;d++)v=p[d],y.set(v,l),l+=v.length;return y}},g={arraySet:function(p,d,u,f,l){for(var v=0;v<f;v++)p[l+v]=d[u+v]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,g))},a.setTyped(s)},{}],37:[function(r,i,a){"use strict";function s(o,c,g,p){for(var d=o&65535|0,u=o>>>16&65535|0,f=0;g!==0;){f=g>2e3?2e3:g,g-=f;do d=d+c[p++]|0,u=u+d|0;while(--f);d%=65521,u%=65521}return d|u<<16|0}i.exports=s},{}],38:[function(r,i,a){"use strict";i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(r,i,a){"use strict";function s(){for(var g,p=[],d=0;d<256;d++){g=d;for(var u=0;u<8;u++)g=g&1?3988292384^g>>>1:g>>>1;p[d]=g}return p}var o=s();function c(g,p,d,u){var f=o,l=u+d;g^=-1;for(var v=u;v<l;v++)g=g>>>8^f[(g^p[v])&255];return g^-1}i.exports=c},{}],40:[function(r,i,a){"use strict";var s=r("../utils/common"),o=r("./trees"),c=r("./adler32"),g=r("./crc32"),p=r("./messages"),d=0,u=1,f=3,l=4,v=5,y=0,h=1,m=-2,_=-3,w=-5,E=-1,T=1,A=2,C=3,R=4,D=0,O=2,k=8,H=9,B=15,Z=8,V=29,j=256,z=j+1+V,W=30,Q=19,se=2*z+1,le=15,fe=3,$=258,ae=$+fe+1,oe=32,ce=42,he=69,we=73,xe=91,Oe=103,ge=113,De=666,pe=1,de=2,ie=3,re=4,q=3;function te(P,Pe){return P.msg=p[Pe],Pe}function G(P){return(P<<1)-(P>4?9:0)}function L(P){for(var Pe=P.length;--Pe>=0;)P[Pe]=0}function I(P){var Pe=P.state,Ue=Pe.pending;Ue>P.avail_out&&(Ue=P.avail_out),Ue!==0&&(s.arraySet(P.output,Pe.pending_buf,Pe.pending_out,Ue,P.next_out),P.next_out+=Ue,Pe.pending_out+=Ue,P.total_out+=Ue,P.avail_out-=Ue,Pe.pending-=Ue,Pe.pending===0&&(Pe.pending_out=0))}function U(P,Pe){o._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,Pe),P.block_start=P.strstart,I(P.strm)}function J(P,Pe){P.pending_buf[P.pending++]=Pe}function ye(P,Pe){P.pending_buf[P.pending++]=Pe>>>8&255,P.pending_buf[P.pending++]=Pe&255}function Ie(P,Pe,Ue,Y){var Se=P.avail_in;return Se>Y&&(Se=Y),Se===0?0:(P.avail_in-=Se,s.arraySet(Pe,P.input,P.next_in,Se,Ue),P.state.wrap===1?P.adler=c(P.adler,Pe,Se,Ue):P.state.wrap===2&&(P.adler=g(P.adler,Pe,Se,Ue)),P.next_in+=Se,P.total_in+=Se,Se)}function be(P,Pe){var Ue=P.max_chain_length,Y=P.strstart,Se,Ve,lt=P.prev_length,ve=P.nice_match,Be=P.strstart>P.w_size-ae?P.strstart-(P.w_size-ae):0,je=P.window,tt=P.w_mask,it=P.prev,gt=P.strstart+$,xt=je[Y+lt-1],Rt=je[Y+lt];P.prev_length>=P.good_match&&(Ue>>=2),ve>P.lookahead&&(ve=P.lookahead);do if(Se=Pe,!(je[Se+lt]!==Rt||je[Se+lt-1]!==xt||je[Se]!==je[Y]||je[++Se]!==je[Y+1])){Y+=2,Se++;do;while(je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&Y<gt);if(Ve=$-(gt-Y),Y=gt-$,Ve>lt){if(P.match_start=Pe,lt=Ve,Ve>=ve)break;xt=je[Y+lt-1],Rt=je[Y+lt]}}while((Pe=it[Pe&tt])>Be&&--Ue!=0);return lt<=P.lookahead?lt:P.lookahead}function Le(P){var Pe=P.w_size,Ue,Y,Se,Ve,lt;do{if(Ve=P.window_size-P.lookahead-P.strstart,P.strstart>=Pe+(Pe-ae)){s.arraySet(P.window,P.window,Pe,Pe,0),P.match_start-=Pe,P.strstart-=Pe,P.block_start-=Pe,Y=P.hash_size,Ue=Y;do Se=P.head[--Ue],P.head[Ue]=Se>=Pe?Se-Pe:0;while(--Y);Y=Pe,Ue=Y;do Se=P.prev[--Ue],P.prev[Ue]=Se>=Pe?Se-Pe:0;while(--Y);Ve+=Pe}if(P.strm.avail_in===0)break;if(Y=Ie(P.strm,P.window,P.strstart+P.lookahead,Ve),P.lookahead+=Y,P.lookahead+P.insert>=fe)for(lt=P.strstart-P.insert,P.ins_h=P.window[lt],P.ins_h=(P.ins_h<<P.hash_shift^P.window[lt+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[lt+fe-1])&P.hash_mask,P.prev[lt&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=lt,lt++,P.insert--,!(P.lookahead+P.insert<fe)););}while(P.lookahead<ae&&P.strm.avail_in!==0)}function ze(P,Pe){var Ue=65535;for(Ue>P.pending_buf_size-5&&(Ue=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Le(P),P.lookahead===0&&Pe===d)return pe;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var Y=P.block_start+Ue;if((P.strstart===0||P.strstart>=Y)&&(P.lookahead=P.strstart-Y,P.strstart=Y,U(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-ae&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):(P.strstart>P.block_start&&(U(P,!1),P.strm.avail_out===0),pe)}function qe(P,Pe){for(var Ue,Y;;){if(P.lookahead<ae){if(Le(P),P.lookahead<ae&&Pe===d)return pe;if(P.lookahead===0)break}if(Ue=0,P.lookahead>=fe&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),Ue!==0&&P.strstart-Ue<=P.w_size-ae&&(P.match_length=be(P,Ue)),P.match_length>=fe)if(Y=o._tr_tally(P,P.strstart-P.match_start,P.match_length-fe),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=fe){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!=0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else Y=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(Y&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=P.strstart<fe-1?P.strstart:fe-1,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Ye(P,Pe){for(var Ue,Y,Se;;){if(P.lookahead<ae){if(Le(P),P.lookahead<ae&&Pe===d)return pe;if(P.lookahead===0)break}if(Ue=0,P.lookahead>=fe&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=fe-1,Ue!==0&&P.prev_length<P.max_lazy_match&&P.strstart-Ue<=P.w_size-ae&&(P.match_length=be(P,Ue),P.match_length<=5&&(P.strategy===T||P.match_length===fe&&P.strstart-P.match_start>4096)&&(P.match_length=fe-1)),P.prev_length>=fe&&P.match_length<=P.prev_length){Se=P.strstart+P.lookahead-fe,Y=o._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-fe),P.lookahead-=P.prev_length-1,P.prev_length-=2;do++P.strstart<=Se&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart);while(--P.prev_length!=0);if(P.match_available=0,P.match_length=fe-1,P.strstart++,Y&&(U(P,!1),P.strm.avail_out===0))return pe}else if(P.match_available){if(Y=o._tr_tally(P,0,P.window[P.strstart-1]),Y&&U(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return pe}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(Y=o._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<fe-1?P.strstart:fe-1,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Me(P,Pe){for(var Ue,Y,Se,Ve,lt=P.window;;){if(P.lookahead<=$){if(Le(P),P.lookahead<=$&&Pe===d)return pe;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=fe&&P.strstart>0&&(Se=P.strstart-1,Y=lt[Se],Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se])){Ve=P.strstart+$;do;while(Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Se<Ve);P.match_length=$-(Ve-Se),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=fe?(Ue=o._tr_tally(P,1,P.match_length-fe),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(Ue=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),Ue&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Ge(P,Pe){for(var Ue;;){if(P.lookahead===0&&(Le(P),P.lookahead===0)){if(Pe===d)return pe;break}if(P.match_length=0,Ue=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,Ue&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function et(P,Pe,Ue,Y,Se){this.good_length=P,this.max_lazy=Pe,this.nice_length=Ue,this.max_chain=Y,this.func=Se}var ut;ut=[new et(0,0,0,0,ze),new et(4,4,8,4,qe),new et(4,5,16,8,qe),new et(4,6,32,32,qe),new et(4,4,16,16,Ye),new et(8,16,32,32,Ye),new et(8,16,128,128,Ye),new et(8,32,128,256,Ye),new et(32,128,258,1024,Ye),new et(32,258,258,4096,Ye)];function ct(P){P.window_size=2*P.w_size,L(P.head),P.max_lazy_match=ut[P.level].max_lazy,P.good_match=ut[P.level].good_length,P.nice_match=ut[P.level].nice_length,P.max_chain_length=ut[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=fe-1,P.match_available=0,P.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(se*2),this.dyn_dtree=new s.Buf16((2*W+1)*2),this.bl_tree=new s.Buf16((2*Q+1)*2),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(le+1),this.heap=new s.Buf16(2*z+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(P){var Pe;return!P||!P.state?te(P,m):(P.total_in=P.total_out=0,P.data_type=O,Pe=P.state,Pe.pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?ce:ge,P.adler=Pe.wrap===2?0:1,Pe.last_flush=d,o._tr_init(Pe),y)}function ke(P){var Pe=Ae(P);return Pe===y&&ct(P.state),Pe}function Qe(P,Pe){return!P||!P.state||P.state.wrap!==2?m:(P.state.gzhead=Pe,y)}function Re(P,Pe,Ue,Y,Se,Ve){if(!P)return m;var lt=1;if(Pe===E&&(Pe=6),Y<0?(lt=0,Y=-Y):Y>15&&(lt=2,Y-=16),Se<1||Se>H||Ue!==k||Y<8||Y>15||Pe<0||Pe>9||Ve<0||Ve>R)return te(P,m);Y===8&&(Y=9);var ve=new X;return P.state=ve,ve.strm=P,ve.wrap=lt,ve.gzhead=null,ve.w_bits=Y,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Se+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+fe-1)/fe),ve.window=new s.Buf8(ve.w_size*2),ve.head=new s.Buf16(ve.hash_size),ve.prev=new s.Buf16(ve.w_size),ve.lit_bufsize=1<<Se+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new s.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Pe,ve.strategy=Ve,ve.method=Ue,ke(P)}function He(P,Pe){return Re(P,Pe,k,B,Z,D)}function ue(P,Pe){var Ue,Y,Se,Ve;if(!P||!P.state||Pe>v||Pe<0)return P?te(P,m):m;if(Y=P.state,!P.output||!P.input&&P.avail_in!==0||Y.status===De&&Pe!==l)return te(P,P.avail_out===0?w:m);if(Y.strm=P,Ue=Y.last_flush,Y.last_flush=Pe,Y.status===ce)if(Y.wrap===2)P.adler=0,J(Y,31),J(Y,139),J(Y,8),Y.gzhead?(J(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),J(Y,Y.gzhead.time&255),J(Y,Y.gzhead.time>>8&255),J(Y,Y.gzhead.time>>16&255),J(Y,Y.gzhead.time>>24&255),J(Y,Y.level===9?2:Y.strategy>=A||Y.level<2?4:0),J(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(J(Y,Y.gzhead.extra.length&255),J(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(P.adler=g(P.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=he):(J(Y,0),J(Y,0),J(Y,0),J(Y,0),J(Y,0),J(Y,Y.level===9?2:Y.strategy>=A||Y.level<2?4:0),J(Y,q),Y.status=ge);else{var lt=k+(Y.w_bits-8<<4)<<8,ve=-1;Y.strategy>=A||Y.level<2?ve=0:Y.level<6?ve=1:Y.level===6?ve=2:ve=3,lt|=ve<<6,Y.strstart!==0&&(lt|=oe),lt+=31-lt%31,Y.status=ge,ye(Y,lt),Y.strstart!==0&&(ye(Y,P.adler>>>16),ye(Y,P.adler&65535)),P.adler=1}if(Y.status===he)if(Y.gzhead.extra){for(Se=Y.pending;Y.gzindex<(Y.gzhead.extra.length&65535)&&!(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size));)J(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=we)}else Y.status=we;if(Y.status===we)if(Y.gzhead.name){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.name.length?Ve=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:Ve=0,J(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.gzindex=0,Y.status=xe)}else Y.status=xe;if(Y.status===xe)if(Y.gzhead.comment){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.comment.length?Ve=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:Ve=0,J(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.status=Oe)}else Y.status=Oe;if(Y.status===Oe&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&I(P),Y.pending+2<=Y.pending_buf_size&&(J(Y,P.adler&255),J(Y,P.adler>>8&255),P.adler=0,Y.status=ge)):Y.status=ge),Y.pending!==0){if(I(P),P.avail_out===0)return Y.last_flush=-1,y}else if(P.avail_in===0&&G(Pe)<=G(Ue)&&Pe!==l)return te(P,w);if(Y.status===De&&P.avail_in!==0)return te(P,w);if(P.avail_in!==0||Y.lookahead!==0||Pe!==d&&Y.status!==De){var Be=Y.strategy===A?Ge(Y,Pe):Y.strategy===C?Me(Y,Pe):ut[Y.level].func(Y,Pe);if((Be===ie||Be===re)&&(Y.status=De),Be===pe||Be===ie)return P.avail_out===0&&(Y.last_flush=-1),y;if(Be===de&&(Pe===u?o._tr_align(Y):Pe!==v&&(o._tr_stored_block(Y,0,0,!1),Pe===f&&(L(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),I(P),P.avail_out===0))return Y.last_flush=-1,y}return Pe!==l?y:Y.wrap<=0?h:(Y.wrap===2?(J(Y,P.adler&255),J(Y,P.adler>>8&255),J(Y,P.adler>>16&255),J(Y,P.adler>>24&255),J(Y,P.total_in&255),J(Y,P.total_in>>8&255),J(Y,P.total_in>>16&255),J(Y,P.total_in>>24&255)):(ye(Y,P.adler>>>16),ye(Y,P.adler&65535)),I(P),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?y:h)}function Ke(P){var Pe;return!P||!P.state?m:(Pe=P.state.status,Pe!==ce&&Pe!==he&&Pe!==we&&Pe!==xe&&Pe!==Oe&&Pe!==ge&&Pe!==De?te(P,m):(P.state=null,Pe===ge?te(P,_):y))}function pt(P,Pe){var Ue=Pe.length,Y,Se,Ve,lt,ve,Be,je,tt;if(!P||!P.state||(Y=P.state,lt=Y.wrap,lt===2||lt===1&&Y.status!==ce||Y.lookahead))return m;for(lt===1&&(P.adler=c(P.adler,Pe,Ue,0)),Y.wrap=0,Ue>=Y.w_size&&(lt===0&&(L(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),tt=new s.Buf8(Y.w_size),s.arraySet(tt,Pe,Ue-Y.w_size,Y.w_size,0),Pe=tt,Ue=Y.w_size),ve=P.avail_in,Be=P.next_in,je=P.input,P.avail_in=Ue,P.next_in=0,P.input=Pe,Le(Y);Y.lookahead>=fe;){Se=Y.strstart,Ve=Y.lookahead-(fe-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Se+fe-1])&Y.hash_mask,Y.prev[Se&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Se,Se++;while(--Ve);Y.strstart=Se,Y.lookahead=fe-1,Le(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=fe-1,Y.match_available=0,P.next_in=Be,P.input=je,P.avail_in=ve,Y.wrap=lt,y}a.deflateInit=He,a.deflateInit2=Re,a.deflateReset=ke,a.deflateResetKeep=Ae,a.deflateSetHeader=Qe,a.deflate=ue,a.deflateEnd=Ke,a.deflateSetDictionary=pt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(r,i,a){"use strict";var s=30,o=12;i.exports=function(g,p){var d,u,f,l,v,y,h,m,_,w,E,T,A,C,R,D,O,k,H,B,Z,V,j,z,W;d=g.state,u=g.next_in,z=g.input,f=u+(g.avail_in-5),l=g.next_out,W=g.output,v=l-(p-g.avail_out),y=l+(g.avail_out-257),h=d.dmax,m=d.wsize,_=d.whave,w=d.wnext,E=d.window,T=d.hold,A=d.bits,C=d.lencode,R=d.distcode,D=(1<<d.lenbits)-1,O=(1<<d.distbits)-1;e:do{A<15&&(T+=z[u++]<<A,A+=8,T+=z[u++]<<A,A+=8),k=C[T&D];t:for(;;){if(H=k>>>24,T>>>=H,A-=H,H=k>>>16&255,H===0)W[l++]=k&65535;else if(H&16){B=k&65535,H&=15,H&&(A<H&&(T+=z[u++]<<A,A+=8),B+=T&(1<<H)-1,T>>>=H,A-=H),A<15&&(T+=z[u++]<<A,A+=8,T+=z[u++]<<A,A+=8),k=R[T&O];n:for(;;){if(H=k>>>24,T>>>=H,A-=H,H=k>>>16&255,H&16){if(Z=k&65535,H&=15,A<H&&(T+=z[u++]<<A,A+=8,A<H&&(T+=z[u++]<<A,A+=8)),Z+=T&(1<<H)-1,Z>h){g.msg="invalid distance too far back",d.mode=s;break e}if(T>>>=H,A-=H,H=l-v,Z>H){if(H=Z-H,H>_&&d.sane){g.msg="invalid distance too far back",d.mode=s;break e}if(V=0,j=E,w===0){if(V+=m-H,H<B){B-=H;do W[l++]=E[V++];while(--H);V=l-Z,j=W}}else if(w<H){if(V+=m+w-H,H-=w,H<B){B-=H;do W[l++]=E[V++];while(--H);if(V=0,w<B){H=w,B-=H;do W[l++]=E[V++];while(--H);V=l-Z,j=W}}}else if(V+=w-H,H<B){B-=H;do W[l++]=E[V++];while(--H);V=l-Z,j=W}for(;B>2;)W[l++]=j[V++],W[l++]=j[V++],W[l++]=j[V++],B-=3;B&&(W[l++]=j[V++],B>1&&(W[l++]=j[V++]))}else{V=l-Z;do W[l++]=W[V++],W[l++]=W[V++],W[l++]=W[V++],B-=3;while(B>2);B&&(W[l++]=W[V++],B>1&&(W[l++]=W[V++]))}}else if((H&64)==0){k=R[(k&65535)+(T&(1<<H)-1)];continue n}else{g.msg="invalid distance code",d.mode=s;break e}break}}else if((H&64)==0){k=C[(k&65535)+(T&(1<<H)-1)];continue t}else if(H&32){d.mode=o;break e}else{g.msg="invalid literal/length code",d.mode=s;break e}break}}while(u<f&&l<y);B=A>>3,u-=B,A-=B<<3,T&=(1<<A)-1,g.next_in=u,g.next_out=l,g.avail_in=u<f?5+(f-u):5-(u-f),g.avail_out=l<y?257+(y-l):257-(l-y),d.hold=T,d.bits=A}},{}],42:[function(r,i,a){"use strict";var s=r("../utils/common"),o=r("./adler32"),c=r("./crc32"),g=r("./inffast"),p=r("./inftrees"),d=0,u=1,f=2,l=4,v=5,y=6,h=0,m=1,_=2,w=-2,E=-3,T=-4,A=-5,C=8,R=1,D=2,O=3,k=4,H=5,B=6,Z=7,V=8,j=9,z=10,W=11,Q=12,se=13,le=14,fe=15,$=16,ae=17,oe=18,ce=19,he=20,we=21,xe=22,Oe=23,ge=24,De=25,pe=26,de=27,ie=28,re=29,q=30,te=31,G=32,L=852,I=592,U=15,J=U;function ye(Re){return(Re>>>24&255)+(Re>>>8&65280)+((Re&65280)<<8)+((Re&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(Re){var He;return!Re||!Re.state?w:(He=Re.state,Re.total_in=Re.total_out=He.total=0,Re.msg="",He.wrap&&(Re.adler=He.wrap&1),He.mode=R,He.last=0,He.havedict=0,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new s.Buf32(L),He.distcode=He.distdyn=new s.Buf32(I),He.sane=1,He.back=-1,h)}function Le(Re){var He;return!Re||!Re.state?w:(He=Re.state,He.wsize=0,He.whave=0,He.wnext=0,be(Re))}function ze(Re,He){var ue,Ke;return!Re||!Re.state||(Ke=Re.state,He<0?(ue=0,He=-He):(ue=(He>>4)+1,He<48&&(He&=15)),He&&(He<8||He>15))?w:(Ke.window!==null&&Ke.wbits!==He&&(Ke.window=null),Ke.wrap=ue,Ke.wbits=He,Le(Re))}function qe(Re,He){var ue,Ke;return Re?(Ke=new Ie,Re.state=Ke,Ke.window=null,ue=ze(Re,He),ue!==h&&(Re.state=null),ue):w}function Ye(Re){return qe(Re,J)}var Me=!0,Ge,et;function ut(Re){if(Me){var He;for(Ge=new s.Buf32(512),et=new s.Buf32(32),He=0;He<144;)Re.lens[He++]=8;for(;He<256;)Re.lens[He++]=9;for(;He<280;)Re.lens[He++]=7;for(;He<288;)Re.lens[He++]=8;for(p(u,Re.lens,0,288,Ge,0,Re.work,{bits:9}),He=0;He<32;)Re.lens[He++]=5;p(f,Re.lens,0,32,et,0,Re.work,{bits:5}),Me=!1}Re.lencode=Ge,Re.lenbits=9,Re.distcode=et,Re.distbits=5}function ct(Re,He,ue,Ke){var pt,P=Re.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new s.Buf8(P.wsize)),Ke>=P.wsize?(s.arraySet(P.window,He,ue-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(pt=P.wsize-P.wnext,pt>Ke&&(pt=Ke),s.arraySet(P.window,He,ue-Ke,pt,P.wnext),Ke-=pt,Ke?(s.arraySet(P.window,He,ue-Ke,Ke,0),P.wnext=Ke,P.whave=P.wsize):(P.wnext+=pt,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=pt))),0}function X(Re,He){var ue,Ke,pt,P,Pe,Ue,Y,Se,Ve,lt,ve,Be,je,tt,it=0,gt,xt,Rt,Ct,Qt,Ut,Pt,$t,pn=new s.Buf8(4),Bt,zn,Zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Re||!Re.state||!Re.output||!Re.input&&Re.avail_in!==0)return w;ue=Re.state,ue.mode===Q&&(ue.mode=se),Pe=Re.next_out,pt=Re.output,Y=Re.avail_out,P=Re.next_in,Ke=Re.input,Ue=Re.avail_in,Se=ue.hold,Ve=ue.bits,lt=Ue,ve=Y,$t=h;e:for(;;)switch(ue.mode){case R:if(ue.wrap===0){ue.mode=se;break}for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(ue.wrap&2&&Se===35615){ue.check=0,pn[0]=Se&255,pn[1]=Se>>>8&255,ue.check=c(ue.check,pn,2,0),Se=0,Ve=0,ue.mode=D;break}if(ue.flags=0,ue.head&&(ue.head.done=!1),!(ue.wrap&1)||(((Se&255)<<8)+(Se>>8))%31){Re.msg="incorrect header check",ue.mode=q;break}if((Se&15)!==C){Re.msg="unknown compression method",ue.mode=q;break}if(Se>>>=4,Ve-=4,Pt=(Se&15)+8,ue.wbits===0)ue.wbits=Pt;else if(Pt>ue.wbits){Re.msg="invalid window size",ue.mode=q;break}ue.dmax=1<<Pt,Re.adler=ue.check=1,ue.mode=Se&512?z:Q,Se=0,Ve=0;break;case D:for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(ue.flags=Se,(ue.flags&255)!==C){Re.msg="unknown compression method",ue.mode=q;break}if(ue.flags&57344){Re.msg="unknown header flags set",ue.mode=q;break}ue.head&&(ue.head.text=Se>>8&1),ue.flags&512&&(pn[0]=Se&255,pn[1]=Se>>>8&255,ue.check=c(ue.check,pn,2,0)),Se=0,Ve=0,ue.mode=O;case O:for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.head&&(ue.head.time=Se),ue.flags&512&&(pn[0]=Se&255,pn[1]=Se>>>8&255,pn[2]=Se>>>16&255,pn[3]=Se>>>24&255,ue.check=c(ue.check,pn,4,0)),Se=0,Ve=0,ue.mode=k;case k:for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.head&&(ue.head.xflags=Se&255,ue.head.os=Se>>8),ue.flags&512&&(pn[0]=Se&255,pn[1]=Se>>>8&255,ue.check=c(ue.check,pn,2,0)),Se=0,Ve=0,ue.mode=H;case H:if(ue.flags&1024){for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.length=Se,ue.head&&(ue.head.extra_len=Se),ue.flags&512&&(pn[0]=Se&255,pn[1]=Se>>>8&255,ue.check=c(ue.check,pn,2,0)),Se=0,Ve=0}else ue.head&&(ue.head.extra=null);ue.mode=B;case B:if(ue.flags&1024&&(Be=ue.length,Be>Ue&&(Be=Ue),Be&&(ue.head&&(Pt=ue.head.extra_len-ue.length,ue.head.extra||(ue.head.extra=new Array(ue.head.extra_len)),s.arraySet(ue.head.extra,Ke,P,Be,Pt)),ue.flags&512&&(ue.check=c(ue.check,Ke,Be,P)),Ue-=Be,P+=Be,ue.length-=Be),ue.length))break e;ue.length=0,ue.mode=Z;case Z:if(ue.flags&2048){if(Ue===0)break e;Be=0;do Pt=Ke[P+Be++],ue.head&&Pt&&ue.length<65536&&(ue.head.name+=String.fromCharCode(Pt));while(Pt&&Be<Ue);if(ue.flags&512&&(ue.check=c(ue.check,Ke,Be,P)),Ue-=Be,P+=Be,Pt)break e}else ue.head&&(ue.head.name=null);ue.length=0,ue.mode=V;case V:if(ue.flags&4096){if(Ue===0)break e;Be=0;do Pt=Ke[P+Be++],ue.head&&Pt&&ue.length<65536&&(ue.head.comment+=String.fromCharCode(Pt));while(Pt&&Be<Ue);if(ue.flags&512&&(ue.check=c(ue.check,Ke,Be,P)),Ue-=Be,P+=Be,Pt)break e}else ue.head&&(ue.head.comment=null);ue.mode=j;case j:if(ue.flags&512){for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(Se!==(ue.check&65535)){Re.msg="header crc mismatch",ue.mode=q;break}Se=0,Ve=0}ue.head&&(ue.head.hcrc=ue.flags>>9&1,ue.head.done=!0),Re.adler=ue.check=0,ue.mode=Q;break;case z:for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}Re.adler=ue.check=ye(Se),Se=0,Ve=0,ue.mode=W;case W:if(ue.havedict===0)return Re.next_out=Pe,Re.avail_out=Y,Re.next_in=P,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,_;Re.adler=ue.check=1,ue.mode=Q;case Q:if(He===v||He===y)break e;case se:if(ue.last){Se>>>=Ve&7,Ve-=Ve&7,ue.mode=de;break}for(;Ve<3;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}switch(ue.last=Se&1,Se>>>=1,Ve-=1,Se&3){case 0:ue.mode=le;break;case 1:if(ut(ue),ue.mode=he,He===y){Se>>>=2,Ve-=2;break e}break;case 2:ue.mode=ae;break;case 3:Re.msg="invalid block type",ue.mode=q}Se>>>=2,Ve-=2;break;case le:for(Se>>>=Ve&7,Ve-=Ve&7;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if((Se&65535)!=(Se>>>16^65535)){Re.msg="invalid stored block lengths",ue.mode=q;break}if(ue.length=Se&65535,Se=0,Ve=0,ue.mode=fe,He===y)break e;case fe:ue.mode=$;case $:if(Be=ue.length,Be){if(Be>Ue&&(Be=Ue),Be>Y&&(Be=Y),Be===0)break e;s.arraySet(pt,Ke,P,Be,Pe),Ue-=Be,P+=Be,Y-=Be,Pe+=Be,ue.length-=Be;break}ue.mode=Q;break;case ae:for(;Ve<14;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(ue.nlen=(Se&31)+257,Se>>>=5,Ve-=5,ue.ndist=(Se&31)+1,Se>>>=5,Ve-=5,ue.ncode=(Se&15)+4,Se>>>=4,Ve-=4,ue.nlen>286||ue.ndist>30){Re.msg="too many length or distance symbols",ue.mode=q;break}ue.have=0,ue.mode=oe;case oe:for(;ue.have<ue.ncode;){for(;Ve<3;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.lens[Zt[ue.have++]]=Se&7,Se>>>=3,Ve-=3}for(;ue.have<19;)ue.lens[Zt[ue.have++]]=0;if(ue.lencode=ue.lendyn,ue.lenbits=7,Bt={bits:ue.lenbits},$t=p(d,ue.lens,0,19,ue.lencode,0,ue.work,Bt),ue.lenbits=Bt.bits,$t){Re.msg="invalid code lengths set",ue.mode=q;break}ue.have=0,ue.mode=ce;case ce:for(;ue.have<ue.nlen+ue.ndist;){for(;it=ue.lencode[Se&(1<<ue.lenbits)-1],gt=it>>>24,xt=it>>>16&255,Rt=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(Rt<16)Se>>>=gt,Ve-=gt,ue.lens[ue.have++]=Rt;else{if(Rt===16){for(zn=gt+2;Ve<zn;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(Se>>>=gt,Ve-=gt,ue.have===0){Re.msg="invalid bit length repeat",ue.mode=q;break}Pt=ue.lens[ue.have-1],Be=3+(Se&3),Se>>>=2,Ve-=2}else if(Rt===17){for(zn=gt+3;Ve<zn;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}Se>>>=gt,Ve-=gt,Pt=0,Be=3+(Se&7),Se>>>=3,Ve-=3}else{for(zn=gt+7;Ve<zn;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}Se>>>=gt,Ve-=gt,Pt=0,Be=11+(Se&127),Se>>>=7,Ve-=7}if(ue.have+Be>ue.nlen+ue.ndist){Re.msg="invalid bit length repeat",ue.mode=q;break}for(;Be--;)ue.lens[ue.have++]=Pt}}if(ue.mode===q)break;if(ue.lens[256]===0){Re.msg="invalid code -- missing end-of-block",ue.mode=q;break}if(ue.lenbits=9,Bt={bits:ue.lenbits},$t=p(u,ue.lens,0,ue.nlen,ue.lencode,0,ue.work,Bt),ue.lenbits=Bt.bits,$t){Re.msg="invalid literal/lengths set",ue.mode=q;break}if(ue.distbits=6,ue.distcode=ue.distdyn,Bt={bits:ue.distbits},$t=p(f,ue.lens,ue.nlen,ue.ndist,ue.distcode,0,ue.work,Bt),ue.distbits=Bt.bits,$t){Re.msg="invalid distances set",ue.mode=q;break}if(ue.mode=he,He===y)break e;case he:ue.mode=we;case we:if(Ue>=6&&Y>=258){Re.next_out=Pe,Re.avail_out=Y,Re.next_in=P,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,g(Re,ve),Pe=Re.next_out,pt=Re.output,Y=Re.avail_out,P=Re.next_in,Ke=Re.input,Ue=Re.avail_in,Se=ue.hold,Ve=ue.bits,ue.mode===Q&&(ue.back=-1);break}for(ue.back=0;it=ue.lencode[Se&(1<<ue.lenbits)-1],gt=it>>>24,xt=it>>>16&255,Rt=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(xt&&(xt&240)==0){for(Ct=gt,Qt=xt,Ut=Rt;it=ue.lencode[Ut+((Se&(1<<Ct+Qt)-1)>>Ct)],gt=it>>>24,xt=it>>>16&255,Rt=it&65535,!(Ct+gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}Se>>>=Ct,Ve-=Ct,ue.back+=Ct}if(Se>>>=gt,Ve-=gt,ue.back+=gt,ue.length=Rt,xt===0){ue.mode=pe;break}if(xt&32){ue.back=-1,ue.mode=Q;break}if(xt&64){Re.msg="invalid literal/length code",ue.mode=q;break}ue.extra=xt&15,ue.mode=xe;case xe:if(ue.extra){for(zn=ue.extra;Ve<zn;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.length+=Se&(1<<ue.extra)-1,Se>>>=ue.extra,Ve-=ue.extra,ue.back+=ue.extra}ue.was=ue.length,ue.mode=Oe;case Oe:for(;it=ue.distcode[Se&(1<<ue.distbits)-1],gt=it>>>24,xt=it>>>16&255,Rt=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if((xt&240)==0){for(Ct=gt,Qt=xt,Ut=Rt;it=ue.distcode[Ut+((Se&(1<<Ct+Qt)-1)>>Ct)],gt=it>>>24,xt=it>>>16&255,Rt=it&65535,!(Ct+gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}Se>>>=Ct,Ve-=Ct,ue.back+=Ct}if(Se>>>=gt,Ve-=gt,ue.back+=gt,xt&64){Re.msg="invalid distance code",ue.mode=q;break}ue.offset=Rt,ue.extra=xt&15,ue.mode=ge;case ge:if(ue.extra){for(zn=ue.extra;Ve<zn;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}ue.offset+=Se&(1<<ue.extra)-1,Se>>>=ue.extra,Ve-=ue.extra,ue.back+=ue.extra}if(ue.offset>ue.dmax){Re.msg="invalid distance too far back",ue.mode=q;break}ue.mode=De;case De:if(Y===0)break e;if(Be=ve-Y,ue.offset>Be){if(Be=ue.offset-Be,Be>ue.whave&&ue.sane){Re.msg="invalid distance too far back",ue.mode=q;break}Be>ue.wnext?(Be-=ue.wnext,je=ue.wsize-Be):je=ue.wnext-Be,Be>ue.length&&(Be=ue.length),tt=ue.window}else tt=pt,je=Pe-ue.offset,Be=ue.length;Be>Y&&(Be=Y),Y-=Be,ue.length-=Be;do pt[Pe++]=tt[je++];while(--Be);ue.length===0&&(ue.mode=we);break;case pe:if(Y===0)break e;pt[Pe++]=ue.length,Y--,ue.mode=we;break;case de:if(ue.wrap){for(;Ve<32;){if(Ue===0)break e;Ue--,Se|=Ke[P++]<<Ve,Ve+=8}if(ve-=Y,Re.total_out+=ve,ue.total+=ve,ve&&(Re.adler=ue.check=ue.flags?c(ue.check,pt,ve,Pe-ve):o(ue.check,pt,ve,Pe-ve)),ve=Y,(ue.flags?Se:ye(Se))!==ue.check){Re.msg="incorrect data check",ue.mode=q;break}Se=0,Ve=0}ue.mode=ie;case ie:if(ue.wrap&&ue.flags){for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[P++]<<Ve,Ve+=8}if(Se!==(ue.total&4294967295)){Re.msg="incorrect length check",ue.mode=q;break}Se=0,Ve=0}ue.mode=re;case re:$t=m;break e;case q:$t=E;break e;case te:return T;case G:default:return w}return Re.next_out=Pe,Re.avail_out=Y,Re.next_in=P,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,(ue.wsize||ve!==Re.avail_out&&ue.mode<q&&(ue.mode<de||He!==l))&&ct(Re,Re.output,Re.next_out,ve-Re.avail_out)?(ue.mode=te,T):(lt-=Re.avail_in,ve-=Re.avail_out,Re.total_in+=lt,Re.total_out+=ve,ue.total+=ve,ue.wrap&&ve&&(Re.adler=ue.check=ue.flags?c(ue.check,pt,ve,Re.next_out-ve):o(ue.check,pt,ve,Re.next_out-ve)),Re.data_type=ue.bits+(ue.last?64:0)+(ue.mode===Q?128:0)+(ue.mode===he||ue.mode===fe?256:0),(lt===0&&ve===0||He===l)&&$t===h&&($t=A),$t)}function Ae(Re){if(!Re||!Re.state)return w;var He=Re.state;return He.window&&(He.window=null),Re.state=null,h}function ke(Re,He){var ue;return!Re||!Re.state||(ue=Re.state,(ue.wrap&2)==0)?w:(ue.head=He,He.done=!1,h)}function Qe(Re,He){var ue=He.length,Ke,pt,P;return!Re||!Re.state||(Ke=Re.state,Ke.wrap!==0&&Ke.mode!==W)?w:Ke.mode===W&&(pt=1,pt=o(pt,He,ue,0),pt!==Ke.check)?E:(P=ct(Re,He,ue,ue),P?(Ke.mode=te,T):(Ke.havedict=1,h))}a.inflateReset=Le,a.inflateReset2=ze,a.inflateResetKeep=be,a.inflateInit=Ye,a.inflateInit2=qe,a.inflate=X,a.inflateEnd=Ae,a.inflateGetHeader=ke,a.inflateSetDictionary=Qe,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(r,i,a){"use strict";var s=r("../utils/common"),o=15,c=852,g=592,p=0,d=1,u=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(m,_,w,E,T,A,C,R){var D=R.bits,O=0,k=0,H=0,B=0,Z=0,V=0,j=0,z=0,W=0,Q=0,se,le,fe,$,ae,oe=null,ce=0,he,we=new s.Buf16(o+1),xe=new s.Buf16(o+1),Oe=null,ge=0,De,pe,de;for(O=0;O<=o;O++)we[O]=0;for(k=0;k<E;k++)we[_[w+k]]++;for(Z=D,B=o;B>=1&&we[B]===0;B--);if(Z>B&&(Z=B),B===0)return T[A++]=1<<24|64<<16|0,T[A++]=1<<24|64<<16|0,R.bits=1,0;for(H=1;H<B&&we[H]===0;H++);for(Z<H&&(Z=H),z=1,O=1;O<=o;O++)if(z<<=1,z-=we[O],z<0)return-1;if(z>0&&(m===p||B!==1))return-1;for(xe[1]=0,O=1;O<o;O++)xe[O+1]=xe[O]+we[O];for(k=0;k<E;k++)_[w+k]!==0&&(C[xe[_[w+k]]++]=k);if(m===p?(oe=Oe=C,he=19):m===d?(oe=f,ce-=257,Oe=l,ge-=257,he=256):(oe=v,Oe=y,he=-1),Q=0,k=0,O=H,ae=A,V=Z,j=0,fe=-1,W=1<<Z,$=W-1,m===d&&W>c||m===u&&W>g)return 1;for(;;){De=O-j,C[k]<he?(pe=0,de=C[k]):C[k]>he?(pe=Oe[ge+C[k]],de=oe[ce+C[k]]):(pe=32+64,de=0),se=1<<O-j,le=1<<V,H=le;do le-=se,T[ae+(Q>>j)+le]=De<<24|pe<<16|de|0;while(le!==0);for(se=1<<O-1;Q&se;)se>>=1;if(se!==0?(Q&=se-1,Q+=se):Q=0,k++,--we[O]==0){if(O===B)break;O=_[w+C[k]]}if(O>Z&&(Q&$)!==fe){for(j===0&&(j=Z),ae+=H,V=O-j,z=1<<V;V+j<B&&(z-=we[V+j],!(z<=0));)V++,z<<=1;if(W+=1<<V,m===d&&W>c||m===u&&W>g)return 1;fe=Q&$,T[fe]=Z<<24|V<<16|ae-A|0}}return Q!==0&&(T[ae+Q]=O-j<<24|64<<16|0),R.bits=Z,0}},{"../utils/common":36}],44:[function(r,i,a){"use strict";i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(r,i,a){"use strict";var s=r("../utils/common"),o=4,c=0,g=1,p=2;function d(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var u=0,f=1,l=2,v=3,y=258,h=29,m=256,_=m+1+h,w=30,E=19,T=2*_+1,A=15,C=16,R=7,D=256,O=16,k=17,H=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,W=new Array((_+2)*2);d(W);var Q=new Array(w*2);d(Q);var se=new Array(z);d(se);var le=new Array(y-v+1);d(le);var fe=new Array(h);d(fe);var $=new Array(w);d($);function ae(X,Ae,ke,Qe,Re){this.static_tree=X,this.extra_bits=Ae,this.extra_base=ke,this.elems=Qe,this.max_length=Re,this.has_stree=X&&X.length}var oe,ce,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?se[X]:se[256+(X>>>7)]}function Oe(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,ke){X.bi_valid>C-ke?(X.bi_buf|=Ae<<X.bi_valid&65535,Oe(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=ke-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=ke)}function De(X,Ae,ke){ge(X,ke[Ae*2],ke[Ae*2+1])}function pe(X,Ae){var ke=0;do ke|=X&1,X>>>=1,ke<<=1;while(--Ae>0);return ke>>>1}function de(X){X.bi_valid===16?(Oe(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function ie(X,Ae){var ke=Ae.dyn_tree,Qe=Ae.max_code,Re=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ue=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,pt=Ae.stat_desc.max_length,P,Pe,Ue,Y,Se,Ve,lt=0;for(Y=0;Y<=A;Y++)X.bl_count[Y]=0;for(ke[X.heap[X.heap_max]*2+1]=0,P=X.heap_max+1;P<T;P++)Pe=X.heap[P],Y=ke[ke[Pe*2+1]*2+1]+1,Y>pt&&(Y=pt,lt++),ke[Pe*2+1]=Y,!(Pe>Qe)&&(X.bl_count[Y]++,Se=0,Pe>=Ke&&(Se=ue[Pe-Ke]),Ve=ke[Pe*2],X.opt_len+=Ve*(Y+Se),He&&(X.static_len+=Ve*(Re[Pe*2+1]+Se)));if(lt!==0){do{for(Y=pt-1;X.bl_count[Y]===0;)Y--;X.bl_count[Y]--,X.bl_count[Y+1]+=2,X.bl_count[pt]--,lt-=2}while(lt>0);for(Y=pt;Y!==0;Y--)for(Pe=X.bl_count[Y];Pe!==0;)Ue=X.heap[--P],!(Ue>Qe)&&(ke[Ue*2+1]!==Y&&(X.opt_len+=(Y-ke[Ue*2+1])*ke[Ue*2],ke[Ue*2+1]=Y),Pe--)}}function re(X,Ae,ke){var Qe=new Array(A+1),Re=0,He,ue;for(He=1;He<=A;He++)Qe[He]=Re=Re+ke[He-1]<<1;for(ue=0;ue<=Ae;ue++){var Ke=X[ue*2+1];Ke!==0&&(X[ue*2]=pe(Qe[Ke]++,Ke))}}function q(){var X,Ae,ke,Qe,Re,He=new Array(A+1);for(ke=0,Qe=0;Qe<h-1;Qe++)for(fe[Qe]=ke,X=0;X<1<<B[Qe];X++)le[ke++]=Qe;for(le[ke-1]=Qe,Re=0,Qe=0;Qe<16;Qe++)for($[Qe]=Re,X=0;X<1<<Z[Qe];X++)se[Re++]=Qe;for(Re>>=7;Qe<w;Qe++)for($[Qe]=Re<<7,X=0;X<1<<Z[Qe]-7;X++)se[256+Re++]=Qe;for(Ae=0;Ae<=A;Ae++)He[Ae]=0;for(X=0;X<=143;)W[X*2+1]=8,X++,He[8]++;for(;X<=255;)W[X*2+1]=9,X++,He[9]++;for(;X<=279;)W[X*2+1]=7,X++,He[7]++;for(;X<=287;)W[X*2+1]=8,X++,He[8]++;for(re(W,_+1,He),X=0;X<w;X++)Q[X*2+1]=5,Q[X*2]=pe(X,5);oe=new ae(W,B,m+1,_,A),ce=new ae(Q,Z,0,w,A),he=new ae(new Array(0),V,0,E,R)}function te(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<w;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<E;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[D*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function G(X){X.bi_valid>8?Oe(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function L(X,Ae,ke,Qe){G(X),Qe&&(Oe(X,ke),Oe(X,~ke)),s.arraySet(X.pending_buf,X.window,Ae,ke,X.pending),X.pending+=ke}function I(X,Ae,ke,Qe){var Re=Ae*2,He=ke*2;return X[Re]<X[He]||X[Re]===X[He]&&Qe[Ae]<=Qe[ke]}function U(X,Ae,ke){for(var Qe=X.heap[ke],Re=ke<<1;Re<=X.heap_len&&(Re<X.heap_len&&I(Ae,X.heap[Re+1],X.heap[Re],X.depth)&&Re++,!I(Ae,Qe,X.heap[Re],X.depth));)X.heap[ke]=X.heap[Re],ke=Re,Re<<=1;X.heap[ke]=Qe}function J(X,Ae,ke){var Qe,Re,He=0,ue,Ke;if(X.last_lit!==0)do Qe=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],Re=X.pending_buf[X.l_buf+He],He++,Qe===0?De(X,Re,Ae):(ue=le[Re],De(X,ue+m+1,Ae),Ke=B[ue],Ke!==0&&(Re-=fe[ue],ge(X,Re,Ke)),Qe--,ue=xe(Qe),De(X,ue,ke),Ke=Z[ue],Ke!==0&&(Qe-=$[ue],ge(X,Qe,Ke)));while(He<X.last_lit);De(X,D,Ae)}function ye(X,Ae){var ke=Ae.dyn_tree,Qe=Ae.stat_desc.static_tree,Re=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ue,Ke,pt=-1,P;for(X.heap_len=0,X.heap_max=T,ue=0;ue<He;ue++)ke[ue*2]!==0?(X.heap[++X.heap_len]=pt=ue,X.depth[ue]=0):ke[ue*2+1]=0;for(;X.heap_len<2;)P=X.heap[++X.heap_len]=pt<2?++pt:0,ke[P*2]=1,X.depth[P]=0,X.opt_len--,Re&&(X.static_len-=Qe[P*2+1]);for(Ae.max_code=pt,ue=X.heap_len>>1;ue>=1;ue--)U(X,ke,ue);P=He;do ue=X.heap[1],X.heap[1]=X.heap[X.heap_len--],U(X,ke,1),Ke=X.heap[1],X.heap[--X.heap_max]=ue,X.heap[--X.heap_max]=Ke,ke[P*2]=ke[ue*2]+ke[Ke*2],X.depth[P]=(X.depth[ue]>=X.depth[Ke]?X.depth[ue]:X.depth[Ke])+1,ke[ue*2+1]=ke[Ke*2+1]=P,X.heap[1]=P++,U(X,ke,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],ie(X,Ae),re(ke,pt,X.bl_count)}function Ie(X,Ae,ke){var Qe,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,P=4;for(ue===0&&(pt=138,P=3),Ae[(ke+1)*2+1]=65535,Qe=0;Qe<=ke;Qe++)He=ue,ue=Ae[(Qe+1)*2+1],!(++Ke<pt&&He===ue)&&(Ke<P?X.bl_tree[He*2]+=Ke:He!==0?(He!==Re&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[H*2]++,Ke=0,Re=He,ue===0?(pt=138,P=3):He===ue?(pt=6,P=3):(pt=7,P=4))}function be(X,Ae,ke){var Qe,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,P=4;for(ue===0&&(pt=138,P=3),Qe=0;Qe<=ke;Qe++)if(He=ue,ue=Ae[(Qe+1)*2+1],!(++Ke<pt&&He===ue)){if(Ke<P)do De(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==Re&&(De(X,He,X.bl_tree),Ke--),De(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(De(X,k,X.bl_tree),ge(X,Ke-3,3)):(De(X,H,X.bl_tree),ge(X,Ke-11,7));Ke=0,Re=He,ue===0?(pt=138,P=3):He===ue?(pt=6,P=3):(pt=7,P=4)}}function Le(X){var Ae;for(Ie(X,X.dyn_ltree,X.l_desc.max_code),Ie(X,X.dyn_dtree,X.d_desc.max_code),ye(X,X.bl_desc),Ae=E-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ze(X,Ae,ke,Qe){var Re;for(ge(X,Ae-257,5),ge(X,ke-1,5),ge(X,Qe-4,4),Re=0;Re<Qe;Re++)ge(X,X.bl_tree[j[Re]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,ke-1)}function qe(X){var Ae=4093624447,ke;for(ke=0;ke<=31;ke++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[ke*2]!==0)return c;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return g;for(ke=32;ke<m;ke++)if(X.dyn_ltree[ke*2]!==0)return g;return c}var Ye=!1;function Me(X){Ye||(q(),Ye=!0),X.l_desc=new we(X.dyn_ltree,oe),X.d_desc=new we(X.dyn_dtree,ce),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,te(X)}function Ge(X,Ae,ke,Qe){ge(X,(u<<1)+(Qe?1:0),3),L(X,Ae,ke,!0)}function et(X){ge(X,f<<1,3),De(X,D,W),de(X)}function ut(X,Ae,ke,Qe){var Re,He,ue=0;X.level>0?(X.strm.data_type===p&&(X.strm.data_type=qe(X)),ye(X,X.l_desc),ye(X,X.d_desc),ue=Le(X),Re=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=Re&&(Re=He)):Re=He=ke+5,ke+4<=Re&&Ae!==-1?Ge(X,Ae,ke,Qe):X.strategy===o||He===Re?(ge(X,(f<<1)+(Qe?1:0),3),J(X,W,Q)):(ge(X,(l<<1)+(Qe?1:0),3),ze(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ue+1),J(X,X.dyn_ltree,X.dyn_dtree)),te(X),Qe&&G(X)}function ct(X,Ae,ke){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=ke&255,X.last_lit++,Ae===0?X.dyn_ltree[ke*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[ke]+m+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=ut,a._tr_tally=ct,a._tr_align=et},{"../utils/common":36}],46:[function(r,i,a){"use strict";function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},{}],47:[function(r,i,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],48:[function(r,i,a){(function(s){"use strict";var o=r("base64-js"),c=r("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=s,a.SlowBuffer=T,a.INSPECT_MAX_BYTES=50;var p=2147483647;a.kMaxLength=p,s.TYPED_ARRAY_SUPPORT=d(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var L=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(L,I),L.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function u(L){if(L>p)throw new RangeError('The value "'+L+'" is invalid for option "size"');var I=new Uint8Array(L);return Object.setPrototypeOf(I,s.prototype),I}function s(L,I,U){if(typeof L=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(L)}return f(L,I,U)}typeof Symbol!="undefined"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192;function f(L,I,U){if(typeof L=="string")return h(L,I);if(ArrayBuffer.isView(L))return m(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(q(L,ArrayBuffer)||L&&q(L.buffer,ArrayBuffer))return _(L,I,U);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=L.valueOf&&L.valueOf();if(J!=null&&J!==L)return s.from(J,I,U);var ye=w(L);if(ye)return ye;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return s.from(L[Symbol.toPrimitive]("string"),I,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}s.from=function(L,I,U){return f(L,I,U)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function v(L,I,U){return l(L),L<=0?u(L):I!==void 0?typeof U=="string"?u(L).fill(I,U):u(L).fill(I):u(L)}s.alloc=function(L,I,U){return v(L,I,U)};function y(L){return l(L),u(L<0?0:E(L)|0)}s.allocUnsafe=function(L){return y(L)},s.allocUnsafeSlow=function(L){return y(L)};function h(L,I){if((typeof I!="string"||I==="")&&(I="utf8"),!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var U=A(L,I)|0,J=u(U),ye=J.write(L,I);return ye!==U&&(J=J.slice(0,ye)),J}function m(L){for(var I=L.length<0?0:E(L.length)|0,U=u(I),J=0;J<I;J+=1)U[J]=L[J]&255;return U}function _(L,I,U){if(I<0||L.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<I+(U||0))throw new RangeError('"length" is outside of buffer bounds');var J;return I===void 0&&U===void 0?J=new Uint8Array(L):U===void 0?J=new Uint8Array(L,I):J=new Uint8Array(L,I,U),Object.setPrototypeOf(J,s.prototype),J}function w(L){if(s.isBuffer(L)){var I=E(L.length)|0,U=u(I);return U.length===0||L.copy(U,0,0,I),U}if(L.length!==void 0)return typeof L.length!="number"||te(L.length)?u(0):m(L);if(L.type==="Buffer"&&Array.isArray(L.data))return m(L.data)}function E(L){if(L>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return L|0}function T(L){return+L!=L&&(L=0),s.alloc(+L)}s.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==s.prototype},s.compare=function(I,U){if(q(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),q(U,Uint8Array)&&(U=s.from(U,U.offset,U.byteLength)),!s.isBuffer(I)||!s.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===U)return 0;for(var J=I.length,ye=U.length,Ie=0,be=Math.min(J,ye);Ie<be;++Ie)if(I[Ie]!==U[Ie]){J=I[Ie],ye=U[Ie];break}return J<ye?-1:ye<J?1:0},s.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(I,U){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return s.alloc(0);var J;if(U===void 0)for(U=0,J=0;J<I.length;++J)U+=I[J].length;var ye=s.allocUnsafe(U),Ie=0;for(J=0;J<I.length;++J){var be=I[J];if(q(be,Uint8Array)&&(be=s.from(be)),!s.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ye,Ie),Ie+=be.length}return ye};function A(L,I){if(s.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||q(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var U=L.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&U===0)return 0;for(var ye=!1;;)switch(I){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return De(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return ie(L).length;default:if(ye)return J?-1:De(L).length;I=(""+I).toLowerCase(),ye=!0}}s.byteLength=A;function C(L,I,U){var J=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,I>>>=0,U<=I))return"";for(L||(L="utf8");;)switch(L){case"hex":return $(this,I,U);case"utf8":case"utf-8":return W(this,I,U);case"ascii":return le(this,I,U);case"latin1":case"binary":return fe(this,I,U);case"base64":return z(this,I,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,I,U);default:if(J)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),J=!0}}s.prototype._isBuffer=!0;function R(L,I,U){var J=L[I];L[I]=L[U],L[U]=J}s.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<I;U+=2)R(this,U,U+1);return this},s.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<I;U+=4)R(this,U,U+3),R(this,U+1,U+2);return this},s.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<I;U+=8)R(this,U,U+7),R(this,U+1,U+6),R(this,U+2,U+5),R(this,U+3,U+4);return this},s.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?W(this,0,I):C.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(I){if(!s.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:s.compare(this,I)===0},s.prototype.inspect=function(){var I="",U=a.INSPECT_MAX_BYTES;return I=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(I+=" ... "),"<Buffer "+I+">"},g&&(s.prototype[g]=s.prototype.inspect),s.prototype.compare=function(I,U,J,ye,Ie){if(q(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),!s.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(U===void 0&&(U=0),J===void 0&&(J=I?I.length:0),ye===void 0&&(ye=0),Ie===void 0&&(Ie=this.length),U<0||J>I.length||ye<0||Ie>this.length)throw new RangeError("out of range index");if(ye>=Ie&&U>=J)return 0;if(ye>=Ie)return-1;if(U>=J)return 1;if(U>>>=0,J>>>=0,ye>>>=0,Ie>>>=0,this===I)return 0;for(var be=Ie-ye,Le=J-U,ze=Math.min(be,Le),qe=this.slice(ye,Ie),Ye=I.slice(U,J),Me=0;Me<ze;++Me)if(qe[Me]!==Ye[Me]){be=qe[Me],Le=Ye[Me];break}return be<Le?-1:Le<be?1:0};function D(L,I,U,J,ye){if(L.length===0)return-1;if(typeof U=="string"?(J=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,te(U)&&(U=ye?0:L.length-1),U<0&&(U=L.length+U),U>=L.length){if(ye)return-1;U=L.length-1}else if(U<0)if(ye)U=0;else return-1;if(typeof I=="string"&&(I=s.from(I,J)),s.isBuffer(I))return I.length===0?-1:O(L,I,U,J,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(L,I,U):Uint8Array.prototype.lastIndexOf.call(L,I,U):O(L,[I],U,J,ye);throw new TypeError("val must be string, number or Buffer")}function O(L,I,U,J,ye){var Ie=1,be=L.length,Le=I.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(L.length<2||I.length<2)return-1;Ie=2,be/=2,Le/=2,U/=2}function ze(et,ut){return Ie===1?et[ut]:et.readUInt16BE(ut*Ie)}var qe;if(ye){var Ye=-1;for(qe=U;qe<be;qe++)if(ze(L,qe)===ze(I,Ye===-1?0:qe-Ye)){if(Ye===-1&&(Ye=qe),qe-Ye+1===Le)return Ye*Ie}else Ye!==-1&&(qe-=qe-Ye),Ye=-1}else for(U+Le>be&&(U=be-Le),qe=U;qe>=0;qe--){for(var Me=!0,Ge=0;Ge<Le;Ge++)if(ze(L,qe+Ge)!==ze(I,Ge)){Me=!1;break}if(Me)return qe}return-1}s.prototype.includes=function(I,U,J){return this.indexOf(I,U,J)!==-1},s.prototype.indexOf=function(I,U,J){return D(this,I,U,J,!0)},s.prototype.lastIndexOf=function(I,U,J){return D(this,I,U,J,!1)};function k(L,I,U,J){U=Number(U)||0;var ye=L.length-U;J?(J=Number(J),J>ye&&(J=ye)):J=ye;var Ie=I.length;J>Ie/2&&(J=Ie/2);for(var be=0;be<J;++be){var Le=parseInt(I.substr(be*2,2),16);if(te(Le))return be;L[U+be]=Le}return be}function H(L,I,U,J){return re(De(I,L.length-U),L,U,J)}function B(L,I,U,J){return re(pe(I),L,U,J)}function Z(L,I,U,J){return B(L,I,U,J)}function V(L,I,U,J){return re(ie(I),L,U,J)}function j(L,I,U,J){return re(de(I,L.length-U),L,U,J)}s.prototype.write=function(I,U,J,ye){if(U===void 0)ye="utf8",J=this.length,U=0;else if(J===void 0&&typeof U=="string")ye=U,J=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(J)?(J=J>>>0,ye===void 0&&(ye="utf8")):(ye=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-U;if((J===void 0||J>Ie)&&(J=Ie),I.length>0&&(J<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var be=!1;;)switch(ye){case"hex":return k(this,I,U,J);case"utf8":case"utf-8":return H(this,I,U,J);case"ascii":return B(this,I,U,J);case"latin1":case"binary":return Z(this,I,U,J);case"base64":return V(this,I,U,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,I,U,J);default:if(be)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),be=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(L,I,U){return I===0&&U===L.length?o.fromByteArray(L):o.fromByteArray(L.slice(I,U))}function W(L,I,U){U=Math.min(L.length,U);for(var J=[],ye=I;ye<U;){var Ie=L[ye],be=null,Le=Ie>239?4:Ie>223?3:Ie>191?2:1;if(ye+Le<=U){var ze,qe,Ye,Me;switch(Le){case 1:Ie<128&&(be=Ie);break;case 2:ze=L[ye+1],(ze&192)==128&&(Me=(Ie&31)<<6|ze&63,Me>127&&(be=Me));break;case 3:ze=L[ye+1],qe=L[ye+2],(ze&192)==128&&(qe&192)==128&&(Me=(Ie&15)<<12|(ze&63)<<6|qe&63,Me>2047&&(Me<55296||Me>57343)&&(be=Me));break;case 4:ze=L[ye+1],qe=L[ye+2],Ye=L[ye+3],(ze&192)==128&&(qe&192)==128&&(Ye&192)==128&&(Me=(Ie&15)<<18|(ze&63)<<12|(qe&63)<<6|Ye&63,Me>65535&&Me<1114112&&(be=Me))}}be===null?(be=65533,Le=1):be>65535&&(be-=65536,J.push(be>>>10&1023|55296),be=56320|be&1023),J.push(be),ye+=Le}return se(J)}var Q=4096;function se(L){var I=L.length;if(I<=Q)return String.fromCharCode.apply(String,L);for(var U="",J=0;J<I;)U+=String.fromCharCode.apply(String,L.slice(J,J+=Q));return U}function le(L,I,U){var J="";U=Math.min(L.length,U);for(var ye=I;ye<U;++ye)J+=String.fromCharCode(L[ye]&127);return J}function fe(L,I,U){var J="";U=Math.min(L.length,U);for(var ye=I;ye<U;++ye)J+=String.fromCharCode(L[ye]);return J}function $(L,I,U){var J=L.length;(!I||I<0)&&(I=0),(!U||U<0||U>J)&&(U=J);for(var ye="",Ie=I;Ie<U;++Ie)ye+=G[L[Ie]];return ye}function ae(L,I,U){for(var J=L.slice(I,U),ye="",Ie=0;Ie<J.length;Ie+=2)ye+=String.fromCharCode(J[Ie]+J[Ie+1]*256);return ye}s.prototype.slice=function(I,U){var J=this.length;I=~~I,U=U===void 0?J:~~U,I<0?(I+=J,I<0&&(I=0)):I>J&&(I=J),U<0?(U+=J,U<0&&(U=0)):U>J&&(U=J),U<I&&(U=I);var ye=this.subarray(I,U);return Object.setPrototypeOf(ye,s.prototype),ye};function oe(L,I,U){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+I>U)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUIntLE=function(I,U,J){I=I>>>0,U=U>>>0,J||oe(I,U,this.length);for(var ye=this[I],Ie=1,be=0;++be<U&&(Ie*=256);)ye+=this[I+be]*Ie;return ye},s.prototype.readUIntBE=function(I,U,J){I=I>>>0,U=U>>>0,J||oe(I,U,this.length);for(var ye=this[I+--U],Ie=1;U>0&&(Ie*=256);)ye+=this[I+--U]*Ie;return ye},s.prototype.readUInt8=function(I,U){return I=I>>>0,U||oe(I,1,this.length),this[I]},s.prototype.readUInt16LE=function(I,U){return I=I>>>0,U||oe(I,2,this.length),this[I]|this[I+1]<<8},s.prototype.readUInt16BE=function(I,U){return I=I>>>0,U||oe(I,2,this.length),this[I]<<8|this[I+1]},s.prototype.readUInt32LE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},s.prototype.readUInt32BE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},s.prototype.readIntLE=function(I,U,J){I=I>>>0,U=U>>>0,J||oe(I,U,this.length);for(var ye=this[I],Ie=1,be=0;++be<U&&(Ie*=256);)ye+=this[I+be]*Ie;return Ie*=128,ye>=Ie&&(ye-=Math.pow(2,8*U)),ye},s.prototype.readIntBE=function(I,U,J){I=I>>>0,U=U>>>0,J||oe(I,U,this.length);for(var ye=U,Ie=1,be=this[I+--ye];ye>0&&(Ie*=256);)be+=this[I+--ye]*Ie;return Ie*=128,be>=Ie&&(be-=Math.pow(2,8*U)),be},s.prototype.readInt8=function(I,U){return I=I>>>0,U||oe(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},s.prototype.readInt16LE=function(I,U){I=I>>>0,U||oe(I,2,this.length);var J=this[I]|this[I+1]<<8;return J&32768?J|4294901760:J},s.prototype.readInt16BE=function(I,U){I=I>>>0,U||oe(I,2,this.length);var J=this[I+1]|this[I]<<8;return J&32768?J|4294901760:J},s.prototype.readInt32LE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},s.prototype.readInt32BE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},s.prototype.readFloatLE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),c.read(this,I,!0,23,4)},s.prototype.readFloatBE=function(I,U){return I=I>>>0,U||oe(I,4,this.length),c.read(this,I,!1,23,4)},s.prototype.readDoubleLE=function(I,U){return I=I>>>0,U||oe(I,8,this.length),c.read(this,I,!0,52,8)},s.prototype.readDoubleBE=function(I,U){return I=I>>>0,U||oe(I,8,this.length),c.read(this,I,!1,52,8)};function ce(L,I,U,J,ye,Ie){if(!s.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Ie)throw new RangeError('"value" argument is out of bounds');if(U+J>L.length)throw new RangeError("Index out of range")}s.prototype.writeUIntLE=function(I,U,J,ye){if(I=+I,U=U>>>0,J=J>>>0,!ye){var Ie=Math.pow(2,8*J)-1;ce(this,I,U,J,Ie,0)}var be=1,Le=0;for(this[U]=I&255;++Le<J&&(be*=256);)this[U+Le]=I/be&255;return U+J},s.prototype.writeUIntBE=function(I,U,J,ye){if(I=+I,U=U>>>0,J=J>>>0,!ye){var Ie=Math.pow(2,8*J)-1;ce(this,I,U,J,Ie,0)}var be=J-1,Le=1;for(this[U+be]=I&255;--be>=0&&(Le*=256);)this[U+be]=I/Le&255;return U+J},s.prototype.writeUInt8=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,1,255,0),this[U]=I&255,U+1},s.prototype.writeUInt16LE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,2,65535,0),this[U]=I&255,this[U+1]=I>>>8,U+2},s.prototype.writeUInt16BE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,2,65535,0),this[U]=I>>>8,this[U+1]=I&255,U+2},s.prototype.writeUInt32LE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,4,4294967295,0),this[U+3]=I>>>24,this[U+2]=I>>>16,this[U+1]=I>>>8,this[U]=I&255,U+4},s.prototype.writeUInt32BE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,4,4294967295,0),this[U]=I>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=I&255,U+4},s.prototype.writeIntLE=function(I,U,J,ye){if(I=+I,U=U>>>0,!ye){var Ie=Math.pow(2,8*J-1);ce(this,I,U,J,Ie-1,-Ie)}var be=0,Le=1,ze=0;for(this[U]=I&255;++be<J&&(Le*=256);)I<0&&ze===0&&this[U+be-1]!==0&&(ze=1),this[U+be]=(I/Le>>0)-ze&255;return U+J},s.prototype.writeIntBE=function(I,U,J,ye){if(I=+I,U=U>>>0,!ye){var Ie=Math.pow(2,8*J-1);ce(this,I,U,J,Ie-1,-Ie)}var be=J-1,Le=1,ze=0;for(this[U+be]=I&255;--be>=0&&(Le*=256);)I<0&&ze===0&&this[U+be+1]!==0&&(ze=1),this[U+be]=(I/Le>>0)-ze&255;return U+J},s.prototype.writeInt8=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,1,127,-128),I<0&&(I=255+I+1),this[U]=I&255,U+1},s.prototype.writeInt16LE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,2,32767,-32768),this[U]=I&255,this[U+1]=I>>>8,U+2},s.prototype.writeInt16BE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,2,32767,-32768),this[U]=I>>>8,this[U+1]=I&255,U+2},s.prototype.writeInt32LE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,4,2147483647,-2147483648),this[U]=I&255,this[U+1]=I>>>8,this[U+2]=I>>>16,this[U+3]=I>>>24,U+4},s.prototype.writeInt32BE=function(I,U,J){return I=+I,U=U>>>0,J||ce(this,I,U,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[U]=I>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=I&255,U+4};function he(L,I,U,J,ye,Ie){if(U+J>L.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function we(L,I,U,J,ye){return I=+I,U=U>>>0,ye||he(L,I,U,4,34028234663852886e22,-34028234663852886e22),c.write(L,I,U,J,23,4),U+4}s.prototype.writeFloatLE=function(I,U,J){return we(this,I,U,!0,J)},s.prototype.writeFloatBE=function(I,U,J){return we(this,I,U,!1,J)};function xe(L,I,U,J,ye){return I=+I,U=U>>>0,ye||he(L,I,U,8,17976931348623157e292,-17976931348623157e292),c.write(L,I,U,J,52,8),U+8}s.prototype.writeDoubleLE=function(I,U,J){return xe(this,I,U,!0,J)},s.prototype.writeDoubleBE=function(I,U,J){return xe(this,I,U,!1,J)},s.prototype.copy=function(I,U,J,ye){if(!s.isBuffer(I))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ye&&ye!==0&&(ye=this.length),U>=I.length&&(U=I.length),U||(U=0),ye>0&&ye<J&&(ye=J),ye===J||I.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-U<ye-J&&(ye=I.length-U+J);var Ie=ye-J;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,J,ye);else if(this===I&&J<U&&U<ye)for(var be=Ie-1;be>=0;--be)I[be+U]=this[be+J];else Uint8Array.prototype.set.call(I,this.subarray(J,ye),U);return Ie},s.prototype.fill=function(I,U,J,ye){if(typeof I=="string"){if(typeof U=="string"?(ye=U,U=0,J=this.length):typeof J=="string"&&(ye=J,J=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!s.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){var Ie=I.charCodeAt(0);(ye==="utf8"&&Ie<128||ye==="latin1")&&(I=Ie)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(U<0||this.length<U||this.length<J)throw new RangeError("Out of range index");if(J<=U)return this;U=U>>>0,J=J===void 0?this.length:J>>>0,I||(I=0);var be;if(typeof I=="number")for(be=U;be<J;++be)this[be]=I;else{var Le=s.isBuffer(I)?I:s.from(I,ye),ze=Le.length;if(ze===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(be=0;be<J-U;++be)this[be+U]=Le[be%ze]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ge(L){if(L=L.split("=")[0],L=L.trim().replace(Oe,""),L.length<2)return"";for(;L.length%4!=0;)L=L+"=";return L}function De(L,I){I=I||1/0;for(var U,J=L.length,ye=null,Ie=[],be=0;be<J;++be){if(U=L.charCodeAt(be),U>55295&&U<57344){if(!ye){if(U>56319){(I-=3)>-1&&Ie.push(239,191,189);continue}else if(be+1===J){(I-=3)>-1&&Ie.push(239,191,189);continue}ye=U;continue}if(U<56320){(I-=3)>-1&&Ie.push(239,191,189),ye=U;continue}U=(ye-55296<<10|U-56320)+65536}else ye&&(I-=3)>-1&&Ie.push(239,191,189);if(ye=null,U<128){if((I-=1)<0)break;Ie.push(U)}else if(U<2048){if((I-=2)<0)break;Ie.push(U>>6|192,U&63|128)}else if(U<65536){if((I-=3)<0)break;Ie.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((I-=4)<0)break;Ie.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return Ie}function pe(L){for(var I=[],U=0;U<L.length;++U)I.push(L.charCodeAt(U)&255);return I}function de(L,I){for(var U,J,ye,Ie=[],be=0;be<L.length&&!((I-=2)<0);++be)U=L.charCodeAt(be),J=U>>8,ye=U%256,Ie.push(ye),Ie.push(J);return Ie}function ie(L){return o.toByteArray(ge(L))}function re(L,I,U,J){for(var ye=0;ye<J&&!(ye+U>=I.length||ye>=L.length);++ye)I[ye+U]=L[ye];return ye}function q(L,I){return L instanceof I||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===I.name}function te(L){return L!==L}var G=function(){for(var L="0123456789abcdef",I=new Array(256),U=0;U<16;++U)for(var J=U*16,ye=0;ye<16;++ye)I[J+ye]=L[U]+L[ye];return I}()}).call(this,r("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(r,i,a){var s=r("buffer").Buffer;i.exports=function(o,c){if(!!s.isBuffer(o)&&!!s.isBuffer(c)){if(typeof o.equals=="function")return o.equals(c);if(o.length!==c.length)return!1;for(var g=0;g<o.length;g++)if(o[g]!==c[g])return!1;return!0}}},{buffer:48}],50:[function(r,i,a){i.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},{}],51:[function(r,i,a){(function(s){function o(T){return Array.isArray?Array.isArray(T):E(T)==="[object Array]"}a.isArray=o;function c(T){return typeof T=="boolean"}a.isBoolean=c;function g(T){return T===null}a.isNull=g;function p(T){return T==null}a.isNullOrUndefined=p;function d(T){return typeof T=="number"}a.isNumber=d;function u(T){return typeof T=="string"}a.isString=u;function f(T){return typeof T=="symbol"}a.isSymbol=f;function l(T){return T===void 0}a.isUndefined=l;function v(T){return E(T)==="[object RegExp]"}a.isRegExp=v;function y(T){return typeof T=="object"&&T!==null}a.isObject=y;function h(T){return E(T)==="[object Date]"}a.isDate=h;function m(T){return E(T)==="[object Error]"||T instanceof Error}a.isError=m;function _(T){return typeof T=="function"}a.isFunction=_;function w(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T=="undefined"}a.isPrimitive=w,a.isBuffer=s.isBuffer;function E(T){return Object.prototype.toString.call(T)}}).call(this,{isBuffer:r("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(r,i,a){var s=Object.create||O,o=Object.keys||k,c=Function.prototype.bind||H;function g(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=g,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._maxListeners=void 0;var p=10,d;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),d=u.x===0}catch{d=!1}d?Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(B){if(typeof B!="number"||B<0||B!==B)throw new TypeError('"defaultMaxListeners" must be a positive number');p=B}}):g.defaultMaxListeners=p,g.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||isNaN(Z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Z,this};function f(B){return B._maxListeners===void 0?g.defaultMaxListeners:B._maxListeners}g.prototype.getMaxListeners=function(){return f(this)};function l(B,Z,V){if(Z)B.call(V);else for(var j=B.length,z=R(B,j),W=0;W<j;++W)z[W].call(V)}function v(B,Z,V,j){if(Z)B.call(V,j);else for(var z=B.length,W=R(B,z),Q=0;Q<z;++Q)W[Q].call(V,j)}function y(B,Z,V,j,z){if(Z)B.call(V,j,z);else for(var W=B.length,Q=R(B,W),se=0;se<W;++se)Q[se].call(V,j,z)}function h(B,Z,V,j,z,W){if(Z)B.call(V,j,z,W);else for(var Q=B.length,se=R(B,Q),le=0;le<Q;++le)se[le].call(V,j,z,W)}function m(B,Z,V,j){if(Z)B.apply(V,j);else for(var z=B.length,W=R(B,z),Q=0;Q<z;++Q)W[Q].apply(V,j)}g.prototype.emit=function(Z){var V,j,z,W,Q,se,le=Z==="error";if(se=this._events,se)le=le&&se.error==null;else if(!le)return!1;if(le){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var fe=new Error('Unhandled "error" event. ('+V+")");throw fe.context=V,fe;return!1}if(j=se[Z],!j)return!1;var $=typeof j=="function";switch(z=arguments.length,z){case 1:l(j,$,this);break;case 2:v(j,$,this,arguments[1]);break;case 3:y(j,$,this,arguments[1],arguments[2]);break;case 4:h(j,$,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(z-1),Q=1;Q<z;Q++)W[Q-1]=arguments[Q];m(j,$,this,W)}return!0};function _(B,Z,V,j){var z,W,Q;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(W=B._events,W?(W.newListener&&(B.emit("newListener",Z,V.listener?V.listener:V),W=B._events),Q=W[Z]):(W=B._events=s(null),B._eventsCount=0),!Q)Q=W[Z]=V,++B._eventsCount;else if(typeof Q=="function"?Q=W[Z]=j?[V,Q]:[Q,V]:j?Q.unshift(V):Q.push(V),!Q.warned&&(z=f(B),z&&z>0&&Q.length>z)){Q.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+Q.length+' "'+String(Z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');se.name="MaxListenersExceededWarning",se.emitter=B,se.type=Z,se.count=Q.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",se.name,se.message)}return B}g.prototype.addListener=function(Z,V){return _(this,Z,V,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(Z,V){return _(this,Z,V,!0)};function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var B=new Array(arguments.length),Z=0;Z<B.length;++Z)B[Z]=arguments[Z];this.listener.apply(this.target,B)}}function E(B,Z,V){var j={fired:!1,wrapFn:void 0,target:B,type:Z,listener:V},z=c.call(w,j);return z.listener=V,j.wrapFn=z,z}g.prototype.once=function(Z,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(Z,E(this,Z,V)),this},g.prototype.prependOnceListener=function(Z,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Z,E(this,Z,V)),this},g.prototype.removeListener=function(Z,V){var j,z,W,Q,se;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(z=this._events,!z)return this;if(j=z[Z],!j)return this;if(j===V||j.listener===V)--this._eventsCount==0?this._events=s(null):(delete z[Z],z.removeListener&&this.emit("removeListener",Z,j.listener||V));else if(typeof j!="function"){for(W=-1,Q=j.length-1;Q>=0;Q--)if(j[Q]===V||j[Q].listener===V){se=j[Q].listener,W=Q;break}if(W<0)return this;W===0?j.shift():C(j,W),j.length===1&&(z[Z]=j[0]),z.removeListener&&this.emit("removeListener",Z,se||V)}return this},g.prototype.removeAllListeners=function(Z){var V,j,z;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):j[Z]&&(--this._eventsCount==0?this._events=s(null):delete j[Z]),this;if(arguments.length===0){var W=o(j),Q;for(z=0;z<W.length;++z)Q=W[z],Q!=="removeListener"&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(V=j[Z],typeof V=="function")this.removeListener(Z,V);else if(V)for(z=V.length-1;z>=0;z--)this.removeListener(Z,V[z]);return this};function T(B,Z,V){var j=B._events;if(!j)return[];var z=j[Z];return z?typeof z=="function"?V?[z.listener||z]:[z]:V?D(z):R(z,z.length):[]}g.prototype.listeners=function(Z){return T(this,Z,!0)},g.prototype.rawListeners=function(Z){return T(this,Z,!1)},g.listenerCount=function(B,Z){return typeof B.listenerCount=="function"?B.listenerCount(Z):A.call(B,Z)},g.prototype.listenerCount=A;function A(B){var Z=this._events;if(Z){var V=Z[B];if(typeof V=="function")return 1;if(V)return V.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function C(B,Z){for(var V=Z,j=V+1,z=B.length;j<z;V+=1,j+=1)B[V]=B[j];B.pop()}function R(B,Z){for(var V=new Array(Z),j=0;j<Z;++j)V[j]=B[j];return V}function D(B){for(var Z=new Array(B.length),V=0;V<Z.length;++V)Z[V]=B[V].listener||B[V];return Z}function O(B){var Z=function(){};return Z.prototype=B,new Z}function k(B){var Z=[];for(var V in B)Object.prototype.hasOwnProperty.call(B,V)&&Z.push(V);return V}function H(B){var Z=this;return function(){return Z.apply(B,arguments)}}},{}],53:[function(r,i,a){var s=r("./lib/parser");function o(){return(0,eval)("this")}i.exports={create:function(c,g){if(g=g||o(),c instanceof g.ArrayBuffer){var p=r("./lib/dom-bufferstream");return new s(new p(c,0,c.byteLength,!0,g))}else{var d=r("./lib/bufferstream");return new s(new d(c,0,c.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(r,i,a){function s(o,c,g,p){this.buffer=o,this.offset=c||0,g=typeof g=="number"?g:o.length,this.endPosition=this.offset+g,this.setBigEndian(p)}s.prototype={setBigEndian:function(o){this.bigEndian=!!o},nextUInt8:function(){var o=this.buffer.readUInt8(this.offset);return this.offset+=1,o},nextInt8:function(){var o=this.buffer.readInt8(this.offset);return this.offset+=1,o},nextUInt16:function(){var o=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,o},nextUInt32:function(){var o=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,o},nextInt16:function(){var o=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,o},nextInt32:function(){var o=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,o},nextFloat:function(){var o=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,o},nextDouble:function(){var o=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,o},nextBuffer:function(o){var c=this.buffer.slice(this.offset,this.offset+o);return this.offset+=o,c},remainingLength:function(){return this.endPosition-this.offset},nextString:function(o){var c=this.buffer.toString("utf8",this.offset,this.offset+o);return this.offset+=o,c},mark:function(){var o=this;return{openWithOffset:function(c){return c=(c||0)+this.offset,new s(o.buffer,c,o.endPosition-c,o.bigEndian)},offset:this.offset}},offsetFrom:function(o){return this.offset-o.offset},skip:function(o){this.offset+=o},branch:function(o,c){return c=typeof c=="number"?c:this.endPosition-(this.offset+o),new s(this.buffer,this.offset+o,c,this.bigEndian)}},i.exports=s},{}],55:[function(r,i,a){function s(f){return parseInt(f,10)}var o=3600,c=60;function g(f,l){f=f.map(s),l=l.map(s);var v=f[0],y=f[1]-1,h=f[2],m=l[0],_=l[1],w=l[2],E=Date.UTC(v,y,h,m,_,w,0),T=E/1e3;return T}function p(f){var l=f.substr(0,10).split("-"),v=f.substr(11,8).split(":"),y=f.substr(19,6),h=y.split(":").map(s),m=h[0]*o+h[1]*c,_=g(l,v);if(_-=m,typeof _=="number"&&!isNaN(_))return _}function d(f){var l=f.split(" "),v=l[0].split(":"),y=l[1].split(":"),h=g(v,y);if(typeof h=="number"&&!isNaN(h))return h}function u(f){var l=f.length===19&&f.charAt(4)===":",v=f.length===25&&f.charAt(10)==="T",y;if(v)return p(f);if(l)return d(f)}i.exports={parseDateWithSpecFormat:d,parseDateWithTimezoneFormat:p,parseExifDate:u}},{}],56:[function(r,i,a){function s(o,c,g,p,d,u){this.global=d,c=c||0,g=g||o.byteLength-c,this.arrayBuffer=o.slice(c,c+g),this.view=new d.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(p),this.offset=0,this.parentOffset=(u||0)+c}s.prototype={setBigEndian:function(o){this.littleEndian=!o},nextUInt8:function(){var o=this.view.getUint8(this.offset);return this.offset+=1,o},nextInt8:function(){var o=this.view.getInt8(this.offset);return this.offset+=1,o},nextUInt16:function(){var o=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,o},nextUInt32:function(){var o=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,o},nextInt16:function(){var o=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,o},nextInt32:function(){var o=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,o},nextFloat:function(){var o=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,o},nextDouble:function(){var o=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,o},nextBuffer:function(o){var c=this.arrayBuffer.slice(this.offset,this.offset+o);return this.offset+=o,c},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(o){var c=this.arrayBuffer.slice(this.offset,this.offset+o);return c=String.fromCharCode.apply(null,new this.global.Uint8Array(c)),this.offset+=o,c},mark:function(){var o=this;return{openWithOffset:function(c){return c=(c||0)+this.offset,new s(o.arrayBuffer,c,o.arrayBuffer.byteLength-c,!o.littleEndian,o.global,o.parentOffset)},offset:this.offset,getParentOffset:function(){return o.parentOffset}}},offsetFrom:function(o){return this.parentOffset+this.offset-(o.offset+o.getParentOffset())},skip:function(o){this.offset+=o},branch:function(o,c){return c=typeof c=="number"?c:this.arrayBuffer.byteLength-(this.offset+o),new s(this.arrayBuffer,this.offset+o,c,!this.littleEndian,this.global,this.parentOffset)}},i.exports=s},{}],57:[function(r,i,a){i.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(r,i,a){function s(d,u){switch(d){case 1:return u.nextUInt8();case 3:return u.nextUInt16();case 4:return u.nextUInt32();case 5:return[u.nextUInt32(),u.nextUInt32()];case 6:return u.nextInt8();case 8:return u.nextUInt16();case 9:return u.nextUInt32();case 10:return[u.nextInt32(),u.nextInt32()];case 11:return u.nextFloat();case 12:return u.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function o(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function c(d,u){var f=u.nextUInt16(),l=u.nextUInt16(),v=o(l),y=u.nextUInt32(),h=v*y,m,_,w;if(h>4&&(u=d.openWithOffset(u.nextUInt32())),l===2){m=u.nextString(y);var E=m.indexOf("\0");E!==-1&&(m=m.substr(0,E))}else if(l===7)m=u.nextBuffer(y);else if(l!==0)for(m=[],w=0;w<y;++w)m.push(s(l,u));return h<4&&u.skip(4-h),[f,m,l]}function g(d,u,f){var l=u.nextUInt16(),v,y;for(y=0;y<l;++y)v=c(d,u),f(v[0],v[1],v[2])}function p(d){var u=d.nextString(6);if(u!=="Exif\0\0")throw new Error("Invalid EXIF header");var f=d.mark(),l=d.nextUInt16();if(l===18761)d.setBigEndian(!1);else if(l===19789)d.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return f}i.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,u){var f;try{f=p(d)}catch{return!1}var l,v,y,h=f.openWithOffset(d.nextUInt32()),m=this.IFD0;g(f,h,function(R,D,O){switch(R){case 34853:v=D[0];break;case 34665:l=D[0];break;default:u(m,R,D,O);break}});var _=h.nextUInt32();if(_!==0){var w=f.openWithOffset(_);g(f,w,u.bind(null,this.IFD1))}if(v){var E=f.openWithOffset(v);g(f,E,u.bind(null,this.GPSIFD))}if(l){var T=f.openWithOffset(l),A=this.InteropIFD;g(f,T,function(R,D,O){R===40965?y=D[0]:u(A,R,D,O)})}if(y){var C=f.openWithOffset(y);g(f,C,u.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(r,i,a){i.exports={parseSections:function(s,o){var c,g;for(s.setBigEndian(!0);s.remainingLength()>0&&g!==218;){if(s.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=s.nextUInt8(),g>=208&&g<=217||g===218?c=0:c=s.nextUInt16()-2,o(g,s.branch(0,c)),s.skip(c)}},getSizeFromSOFSection:function(s){return s.skip(1),{height:s.nextUInt16(),width:s.nextUInt16()}},getSectionName:function(s){var o,c;switch(s){case 216:o="SOI";break;case 196:o="DHT";break;case 219:o="DQT";break;case 221:o="DRI";break;case 218:o="SOS";break;case 254:o="COM";break;case 217:o="EOI";break;default:s>=224&&s<=239?(o="APP",c=s-224):s>=192&&s<=207&&s!==196&&s!==200&&s!==204?(o="SOF",c=s-192):s>=208&&s<=215&&(o="RST",c=s-208);break}var g={name:o};return typeof c=="number"&&(g.index=c),g}}},{}],60:[function(r,i,a){var s=r("./jpeg"),o=r("./exif"),c=r("./simplify");function g(d,u,f,l,v,y,h){this.startMarker=d,this.tags=u,this.imageSize=f,this.thumbnailOffset=l,this.thumbnailLength=v,this.thumbnailType=y,this.app1Offset=h}g.prototype={hasThumbnail:function(d){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof d!="string"?!0:d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d=this._getThumbnailStream(),u;return s.parseSections(d,function(f,l){s.getSectionName(f).name==="SOF"&&(u=s.getSizeFromSOFSection(l))}),u}};function p(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}p.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d=this.stream.mark(),u=d.openWithOffset(0),f=this.flags,l,v,y,h,m,_,w,E,T;return f.resolveTagNames&&(w=r("./exif-tags")),f.resolveTagNames?(l={},E=function(A){return l[A.name]},T=function(A,C){l[A.name]=C}):(l=[],E=function(A){var C;for(C=0;C<l.length;++C)if(l[C].type===A.type&&l[C].section===A.section)return l.value},T=function(A,C){var R;for(R=0;R<l.length;++R)if(l[R].type===A.type&&l[R].section===A.section){l.value=C;return}}),s.parseSections(u,function(A,C){var R,D=C.offsetFrom(d);A===225?(R=o.parseTags(C,function(O,k,H,B){if(!(!f.readBinaryTags&&B===7)){if(k===513){if(y=H[0],f.hidePointers)return}else if(k===514){if(h=H[0],f.hidePointers)return}else if(k===259&&(m=H[0],f.hidePointers))return;if(!!f.returnTags)if(f.simplifyValues&&(H=c.simplifyValue(H,B)),f.resolveTagNames){var Z=O===o.GPSIFD?w.gps:w.exif,V=Z[k];V||(V=w.exif[k]),l.hasOwnProperty(V)||(l[V]=H)}else l.push({section:O,type:k,value:H})}}),R&&(_=D)):f.imageSize&&s.getSectionName(A).name==="SOF"&&(v=s.getSizeFromSOFSection(C))}),f.simplifyValues&&(c.castDegreeValues(E,T),c.castDateValues(E,T)),new g(d,l,v,y,h,m,_)}},i.exports=p},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(r,i,a){var s=r("./exif"),o=r("./date"),c=[{section:s.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:s.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],g=[{section:s.SubIFD,type:306,name:"ModifyDate"},{section:s.SubIFD,type:36867,name:"DateTimeOriginal"},{section:s.SubIFD,type:36868,name:"CreateDate"},{section:s.SubIFD,type:306,name:"ModifyDate"}];i.exports={castDegreeValues:function(p,d){c.forEach(function(u){var f=p(u);if(f){var l=p({section:u.section,type:u.refType,name:u.refName}),v=l===u.posVal?1:-1,y=(f[0]+f[1]/60+f[2]/3600)*v;d(u,y)}})},castDateValues:function(p,d){g.forEach(function(u){var f=p(u);if(f){var l=o.parseExifDate(f);typeof l!="undefined"&&d(u,l)}})},simplifyValue:function(p,d){return Array.isArray(p)&&(p=p.map(function(u){return d===10||d===5?u[0]/u[1]:u}),p.length===1&&(p=p[0])),p}}},{"./date":55,"./exif":58}],62:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault"),o=s(r("@babel/runtime/helpers/toConsumableArray")),c=function(f){return(0,o.default)(f).map(function(l){return l.charCodeAt(0)})},g=c("META-INF/mozilla.rsa"),p=c("[Content_Types].xml"),d=c("_rels/.rels");i.exports=function(u){var f=u instanceof Uint8Array?u:new Uint8Array(u);if(!(f&&f.length>1))return null;var l=function(O,k){k=Object.assign({offset:0},k);for(var H=0;H<O.length;H++)if(k.mask){if(O[H]!==(k.mask[H]&f[H+k.offset]))return!1}else if(O[H]!==f[H+k.offset])return!1;return!0},v=function(O,k){return l(c(O),k)};if(l([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(l([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(l([71,73,70]))return{ext:"gif",mime:"image/gif"};if(l([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(l([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((l([73,73,42,0])||l([77,77,0,42]))&&l([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(l([73,73,42,0])||l([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(l([66,77]))return{ext:"bmp",mime:"image/bmp"};if(l([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(l([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(l([80,75,3,4])){if(l([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(l(g,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(v("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(v("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(v("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var y=function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return O.findIndex(function(H,B,Z){return B>=k&&Z[B]===80&&Z[B+1]===75&&Z[B+2]===3&&Z[B+3]===4})},h=0,m=!1,_=null;do{var w=h+30;if(m||(m=l(p,{offset:w})||l(d,{offset:w})),_||(v("word/",{offset:w})?_={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:v("ppt/",{offset:w})?_={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:v("xl/",{offset:w})&&(_={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),m&&_)return _;h=y(f,w)}while(h>=0);if(_)return _}if(l([80,75])&&(f[2]===3||f[2]===5||f[2]===7)&&(f[3]===4||f[3]===6||f[3]===8))return{ext:"zip",mime:"application/zip"};if(l([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(l([82,97,114,33,26,7])&&(f[6]===0||f[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(l([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(l([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(l([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(l([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(l([51,103,112,53])||l([0,0,0])&&l([102,116,121,112],{offset:4})&&(l([109,112,52,49],{offset:8})||l([109,112,52,50],{offset:8})||l([105,115,111,109],{offset:8})||l([105,115,111,50],{offset:8})||l([109,109,112,52],{offset:8})||l([77,52,86],{offset:8})||l([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(l([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(l([26,69,223,163])){var E=f.subarray(4,4+4096),T=E.findIndex(function(D,O,k){return k[O]===66&&k[O+1]===130});if(T!==-1){var A=T+3,C=function(O){return(0,o.default)(O).every(function(k,H){return E[A+H]===k.charCodeAt(0)})};if(C("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(C("webm"))return{ext:"webm",mime:"video/webm"}}}if(l([0,0,0,20,102,116,121,112,113,116,32,32])||l([102,114,101,101],{offset:4})||l([102,116,121,112,113,116,32,32],{offset:4})||l([109,100,97,116],{offset:4})||l([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(l([82,73,70,70])){if(l([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(l([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(l([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(l([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(l([0,0,1,186])||l([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(l([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var R=0;R<2&&R<f.length-16;R++){if(l([73,68,51],{offset:R})||l([255,226],{offset:R,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(l([255,228],{offset:R,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(l([255,248],{offset:R,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(l([255,240],{offset:R,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(l([102,116,121,112,77,52,65],{offset:4})||l([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(l([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(l([79,103,103,83]))return l([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:l([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:l([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:l([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:l([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(l([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(l([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(l([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(l([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(l([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(l([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((f[0]===67||f[0]===70)&&l([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(l([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(l([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(l([119,79,70,70])&&(l([0,1,0,0],{offset:4})||l([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(l([119,79,70,50])&&(l([0,1,0,0],{offset:4})||l([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(l([76,80],{offset:34})&&(l([0,0,1],{offset:8})||l([1,0,2],{offset:8})||l([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(l([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(l([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(l([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(l([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(l([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(l([37,33]))return{ext:"ps",mime:"application/postscript"};if(l([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(l([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(l([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(l([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(l([77,83,67,70])||l([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(l([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(l([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(l([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(l([31,160])||l([31,157]))return{ext:"Z",mime:"application/x-compress"};if(l([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(l([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(l([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(l([71],{offset:4})&&(l([71],{offset:192})||l([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(l([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(l([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(l([0,0,0,12,106,80,32,32,13,10,135,10])){if(l([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(l([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(l([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(l([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(l([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(v("<?xml "))return{ext:"xml",mime:"application/xml"};if(l([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(l([102,116,121,112],{offset:4})){if(l([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(l([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(l([104,101,105,99],{offset:8})||l([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(l([104,101,118,99],{offset:8})||l([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return l([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(r,i,a){"use strict";var s=r("is-callable"),o=Object.prototype.toString,c=Object.prototype.hasOwnProperty,g=function(l,v,y){for(var h=0,m=l.length;h<m;h++)c.call(l,h)&&(y==null?v(l[h],h,l):v.call(y,l[h],h,l))},p=function(l,v,y){for(var h=0,m=l.length;h<m;h++)y==null?v(l.charAt(h),h,l):v.call(y,l.charAt(h),h,l)},d=function(l,v,y){for(var h in l)c.call(l,h)&&(y==null?v(l[h],h,l):v.call(y,l[h],h,l))},u=function(l,v,y){if(!s(v))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=y),o.call(l)==="[object Array]"?g(l,v,h):typeof l=="string"?p(l,v,h):d(l,v,h)};i.exports=u},{"is-callable":77}],64:[function(r,i,a){"use strict";function s(p,d,u,f){var l=0,f=f===void 0?{}:f,v=f.loop===void 0?null:f.loop,y=f.palette===void 0?null:f.palette;if(d<=0||u<=0||d>65535||u>65535)throw new Error("Width/Height invalid.");function h(R){var D=R.length;if(D<2||D>256||D&D-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return D}p[l++]=71,p[l++]=73,p[l++]=70,p[l++]=56,p[l++]=57,p[l++]=97;var m=0,_=0;if(y!==null){for(var w=h(y);w>>=1;)++m;if(w=1<<m,--m,f.background!==void 0){if(_=f.background,_>=w)throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(p[l++]=d&255,p[l++]=d>>8&255,p[l++]=u&255,p[l++]=u>>8&255,p[l++]=(y!==null?128:0)|m,p[l++]=_,p[l++]=0,y!==null)for(var E=0,T=y.length;E<T;++E){var A=y[E];p[l++]=A>>16&255,p[l++]=A>>8&255,p[l++]=A&255}if(v!==null){if(v<0||v>65535)throw new Error("Loop count invalid.");p[l++]=33,p[l++]=255,p[l++]=11,p[l++]=78,p[l++]=69,p[l++]=84,p[l++]=83,p[l++]=67,p[l++]=65,p[l++]=80,p[l++]=69,p[l++]=50,p[l++]=46,p[l++]=48,p[l++]=3,p[l++]=1,p[l++]=v&255,p[l++]=v>>8&255,p[l++]=0}var C=!1;this.addFrame=function(R,D,O,k,H,B){if(C===!0&&(--l,C=!1),B=B===void 0?{}:B,R<0||D<0||R>65535||D>65535)throw new Error("x/y invalid.");if(O<=0||k<=0||O>65535||k>65535)throw new Error("Width/Height invalid.");if(H.length<O*k)throw new Error("Not enough pixels for the frame size.");var Z=!0,V=B.palette;if(V==null&&(Z=!1,V=y),V==null)throw new Error("Must supply either a local or global palette.");for(var j=h(V),z=0;j>>=1;)++z;j=1<<z;var W=B.delay===void 0?0:B.delay,Q=B.disposal===void 0?0:B.disposal;if(Q<0||Q>3)throw new Error("Disposal out of range.");var se=!1,le=0;if(B.transparent!==void 0&&B.transparent!==null&&(se=!0,le=B.transparent,le<0||le>=j))throw new Error("Transparent color index.");if((Q!==0||se||W!==0)&&(p[l++]=33,p[l++]=249,p[l++]=4,p[l++]=Q<<2|(se===!0?1:0),p[l++]=W&255,p[l++]=W>>8&255,p[l++]=le,p[l++]=0),p[l++]=44,p[l++]=R&255,p[l++]=R>>8&255,p[l++]=D&255,p[l++]=D>>8&255,p[l++]=O&255,p[l++]=O>>8&255,p[l++]=k&255,p[l++]=k>>8&255,p[l++]=Z===!0?128|z-1:0,Z===!0)for(var fe=0,$=V.length;fe<$;++fe){var ae=V[fe];p[l++]=ae>>16&255,p[l++]=ae>>8&255,p[l++]=ae&255}return l=o(p,l,z<2?2:z,H),l},this.end=function(){return C===!1&&(p[l++]=59,C=!0),l},this.getOutputBuffer=function(){return p},this.setOutputBuffer=function(R){p=R},this.getOutputBufferPosition=function(){return l},this.setOutputBufferPosition=function(R){l=R}}function o(p,d,u,f){p[d++]=u;var l=d++,v=1<<u,y=v-1,h=v+1,m=h+1,_=u+1,w=0,E=0;function T(Z){for(;w>=Z;)p[d++]=E&255,E>>=8,w-=8,d===l+256&&(p[l]=255,l=d++)}function A(Z){E|=Z<<w,w+=_,T(8)}var C=f[0]&y,R={};A(v);for(var D=1,O=f.length;D<O;++D){var k=f[D]&y,H=C<<8|k,B=R[H];if(B===void 0){for(E|=C<<w,w+=_;w>=8;)p[d++]=E&255,E>>=8,w-=8,d===l+256&&(p[l]=255,l=d++);m===4096?(A(v),m=h+1,_=u+1,R={}):(m>=1<<_&&++_,R[H]=m++),C=k}else C=B}return A(C),A(h),T(1),l+1===d?p[l]=0:(p[l]=d-l-1,p[d++]=0),d}function c(p){var d=0;if(p[d++]!==71||p[d++]!==73||p[d++]!==70||p[d++]!==56||(p[d++]+1&253)!=56||p[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=p[d++]|p[d++]<<8,f=p[d++]|p[d++]<<8,l=p[d++],v=l>>7,y=l&7,h=1<<y+1,m=p[d++];p[d++];var _=null,w=null;v&&(_=d,w=h,d+=h*3);var E=!0,T=[],A=0,C=null,R=0,D=null;for(this.width=u,this.height=f;E&&d<p.length;)switch(p[d++]){case 33:switch(p[d++]){case 255:if(p[d]!==11||p[d+1]==78&&p[d+2]==69&&p[d+3]==84&&p[d+4]==83&&p[d+5]==67&&p[d+6]==65&&p[d+7]==80&&p[d+8]==69&&p[d+9]==50&&p[d+10]==46&&p[d+11]==48&&p[d+12]==3&&p[d+13]==1&&p[d+16]==0)d+=14,D=p[d++]|p[d++]<<8,d++;else for(d+=12;;){var O=p[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}break;case 249:if(p[d++]!==4||p[d+4]!==0)throw new Error("Invalid graphics extension block.");var k=p[d++];A=p[d++]|p[d++]<<8,C=p[d++],(k&1)==0&&(C=null),R=k>>2&7,d++;break;case 254:for(;;){var O=p[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}break;default:throw new Error("Unknown graphic control label: 0x"+p[d-1].toString(16))}break;case 44:var H=p[d++]|p[d++]<<8,B=p[d++]|p[d++]<<8,Z=p[d++]|p[d++]<<8,V=p[d++]|p[d++]<<8,j=p[d++],z=j>>7,W=j>>6&1,Q=j&7,se=1<<Q+1,le=_,fe=w,$=!1;if(z){var $=!0;le=d,fe=se,d+=se*3}var ae=d;for(d++;;){var O=p[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}T.push({x:H,y:B,width:Z,height:V,has_local_palette:$,palette_offset:le,palette_size:fe,data_offset:ae,data_length:d-ae,transparent_index:C,interlaced:!!W,delay:A,disposal:R});break;case 59:E=!1;break;default:throw new Error("Unknown gif block: 0x"+p[d-1].toString(16))}this.numFrames=function(){return T.length},this.loopCount=function(){return D},this.frameInfo=function(oe){if(oe<0||oe>=T.length)throw new Error("Frame index out of range.");return T[oe]},this.decodeAndBlitFrameBGRA=function(oe,ce){var he=this.frameInfo(oe),we=he.width*he.height,xe=new Uint8Array(we);g(p,he.data_offset,xe,we);var Oe=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var De=he.width,pe=u-De,de=De,ie=(he.y*u+he.x)*4,re=((he.y+he.height)*u+he.x)*4,q=ie,te=pe*4;he.interlaced===!0&&(te+=u*4*7);for(var G=8,L=0,I=xe.length;L<I;++L){var U=xe[L];if(de===0&&(q+=te,de=De,q>=re&&(te=pe*4+u*4*(G-1),q=ie+(De+pe)*(G<<1),G>>=1)),U===ge)q+=4;else{var J=p[Oe+U*3],ye=p[Oe+U*3+1],Ie=p[Oe+U*3+2];ce[q++]=Ie,ce[q++]=ye,ce[q++]=J,ce[q++]=255}--de}},this.decodeAndBlitFrameRGBA=function(oe,ce){var he=this.frameInfo(oe),we=he.width*he.height,xe=new Uint8Array(we);g(p,he.data_offset,xe,we);var Oe=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var De=he.width,pe=u-De,de=De,ie=(he.y*u+he.x)*4,re=((he.y+he.height)*u+he.x)*4,q=ie,te=pe*4;he.interlaced===!0&&(te+=u*4*7);for(var G=8,L=0,I=xe.length;L<I;++L){var U=xe[L];if(de===0&&(q+=te,de=De,q>=re&&(te=pe*4+u*4*(G-1),q=ie+(De+pe)*(G<<1),G>>=1)),U===ge)q+=4;else{var J=p[Oe+U*3],ye=p[Oe+U*3+1],Ie=p[Oe+U*3+2];ce[q++]=J,ce[q++]=ye,ce[q++]=Ie,ce[q++]=255}--de}}}function g(p,d,u,f){for(var l=p[d++],v=1<<l,y=v+1,h=y+1,m=l+1,_=(1<<m)-1,w=0,E=0,T=0,A=p[d++],C=new Int32Array(4096),R=null;;){for(;w<16&&A!==0;)E|=p[d++]<<w,w+=8,A===1?A=p[d++]:--A;if(w<m)break;var D=E&_;if(E>>=m,w-=m,D===v){h=y+1,m=l+1,_=(1<<m)-1,R=null;continue}else if(D===y)break;for(var O=D<h?D:R,k=0,H=O;H>v;)H=C[H]>>8,++k;var B=H,Z=T+k+(O!==D?1:0);if(Z>f){console.log("Warning, gif stream longer than expected.");return}u[T++]=B,T+=k;var V=T;for(O!==D&&(u[T++]=B),H=O;k--;)H=C[H],u[--V]=H&255,H>>=8;R!==null&&h<4096&&(C[h++]=R<<8|B,h>=_+1&&m<12&&(++m,_=_<<1|1)),R=D}return T!==f&&console.log("Warning, gif stream shorter than expected."),u}try{a.GifWriter=s,a.GifReader=c}catch{}},{}],65:[function(r,i,a){(function(s){"use strict";class o{constructor(...g){if(g.length===0)throw new Error("constructor requires parameters");let p=g[0];if(p!==null&&typeof p=="object")if(p instanceof o){let d=p.bitmap;this.bitmap={width:d.width,height:d.height,data:new s(d.width*d.height*4)},d.data.copy(this.bitmap.data)}else if(p.width&&p.height&&p.data)this.bitmap=p;else throw new Error("unrecognized constructor parameters");else if(typeof p=="number"&&typeof g[1]=="number"){let d=p,u=g[1],f=g[2];this.bitmap={width:d,height:u},s.isBuffer(f)?this.bitmap.data=f:(this.bitmap.data=new s(d*u*4),typeof f=="number"&&this.fillRGBA(f))}else throw new Error("unrecognized constructor parameters")}blit(g,p,d,u,f,l,v){if(u+l>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(p+l>g.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(f+v>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(d+v>g.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let y=this.bitmap.data,h=g.bitmap.data,m=this.bitmap.width*4,_=g.bitmap.width*4,w=l*4,E=f*m+u*4,T=d*_+p*4;for(;--v>=0;)y.copy(h,T,E,E+w),E+=m,T+=_;return this}fillRGBA(g){let p=this.bitmap.data,d=this.bitmap.height*4,u=0;for(;u<d;)p.writeUInt32BE(g,u),u+=4;for(;u<p.length;)p.copy(p,u,0,d),u+=d;return this}getRGBA(g,p){let d=(p*this.bitmap.width+g)*4;return this.bitmap.data.readUInt32BE(d)}getRGBASet(){let g=new Set,p=this.bitmap.data;for(let d=0;d<p.length;d+=4)g.add(p.readUInt32BE(d,!0));return g}greyscale(){let g=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(p,d,u)=>{let f=Math.round(.299*g[u]+.587*g[u+1]+.114*g[u+2]);g[u]=f,g[u+1]=f,g[u+2]=f}),this}reframe(g,p,d,u,f){let l=g<0?0:g,v=p<0?0:p,y=d+l>this.bitmap.width?this.bitmap.width-l:d,h=u+v>this.bitmap.height?this.bitmap.height-v:u,m=g<0?-g:0,_=p<0?-p:0,w;if(f===void 0){if(l!==g||v!=p||y!==d||h!==u)throw new GifError("fillRGBA required for this reframing");w=new o(d,u)}else w=new o(d,u,f);return this.blit(w,m,_,l,v,y,h),this.bitmap=w.bitmap,this}scale(g){if(g===1)return;if(!Number.isInteger(g)||g<1)throw new Error("the scale must be an integer >= 1");let p=this.bitmap.width,d=this.bitmap.height,u=p*g*4,f=this.bitmap.data,l=new s(d*u*g),v=0,y,h=0;for(let m=0;m<d;++m){y=h;for(let _=0;_<p;++_){let w=f.readUInt32BE(v,!0);for(let E=0;E<g;++E)l.writeUInt32BE(w,h),h+=4;v+=4}for(let _=1;_<g;++_)l.copy(l,h,y,h),h+=u,y+=u}return this.bitmap={width:p*g,height:d*g,data:l},this}scanAllCoords(g){let p=this.bitmap.width,d=this.bitmap.data.length,u=0,f=0;for(let l=0;l<d;l+=4)g(u,f,l),++u===p&&(u=0,++f)}scanAllIndexes(g){let p=this.bitmap.data.length;for(let d=0;d<p;d+=4)g(d)}}i.exports=o}).call(this,r("buffer").Buffer)},{buffer:48}],66:[function(r,i,a){"use strict";class s{constructor(g,p,d){this.width=d.width,this.height=d.height,this.loops=d.loops,this.usesTransparency=d.usesTransparency,this.colorScope=d.colorScope,this.frames=p,this.buffer=g}}s.GlobalColorsPreferred=0,s.GlobalColorsOnly=1,s.LocalColorsOnly=2;class o extends Error{constructor(g){super(g);g instanceof Error&&(this.stack="Gif"+g.stack)}}a.Gif=s,a.GifError=o},{}],67:[function(r,i,a){(function(s,o){"use strict";let c=r("omggif"),{Gif:g,GifError:p}=r("./gif"),d;s.nextTick(()=>{d=r("./gifutil")});let{GifFrame:u}=r("./gifframe"),f=200,l=100;class v{constructor(D={}){this._transparentRGB=null,typeof D.transparentRGB=="number"&&D.transparentRGB!==0&&(this._transparentRGBA=D.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(D){try{let O;try{O=new c.GifReader(D)}catch(Z){throw new p(Z)}let k=O.numFrames(),H=[],B={width:O.width,height:O.height,loops:O.loopCount()};B.usesTransparency=!1;for(let Z=0;Z<k;++Z){let V=this._decodeFrame(O,Z,B.usesTransparency);H.push(V.frame),V.usesTransparency&&(B.usesTransparency=!0)}return Promise.resolve(new g(D,H,B))}catch(O){return Promise.reject(O)}}encodeGif(D,O={}){try{if(D===null||D.length===0)throw new p("there are no frames");let k=d.getMaxDimensions(D);return O=Object.assign({},O),O.width=k.maxWidth,O.height=k.maxHeight,O.loops=O.loops||0,O.colorScope=O.colorScope||g.GlobalColorsPreferred,Promise.resolve(this._encodeGif(D,O))}catch(k){return Promise.reject(k)}}_decodeFrame(D,O,k){let H,B;try{if(H=D.frameInfo(O),B=new o(D.width*D.height*4),D.decodeAndBlitFrameRGBA(O,B),H.width!==D.width||H.height!==D.height){if(H.y&&(B=B.slice(H.y*D.width*4)),D.width>H.width)for(let j=0;j<H.height;++j)B.copy(B,j*H.width*4,(H.x+j*D.width)*4,(H.x+j*D.width)*4+H.width*4);B=B.slice(0,H.width*H.height*4)}}catch(j){throw new p(j)}let Z=!1;if(this._transparentRGBA===null){if(!k)for(let j=3;j<B.length;j+=4)B[j]===0&&(Z=!0,j=B.length)}else for(let j=3;j<B.length;j+=4)B[j]===0&&(B.writeUInt32BE(this._transparentRGBA,j-3),Z=!0);return{frame:new u(H.width,H.height,B,{xOffset:H.x,yOffset:H.y,disposalMethod:H.disposal,interlaced:H.interlaced,delayCentisecs:H.delay}),usesTransparency:Z}}_encodeGif(D,O){let k;if(O.colorScope===g.LocalColorsOnly)k=d.getColorInfo(D,0);else if(k=d.getColorInfo(D,256),!k.colors){if(O.colorScope===g.GlobalColorsOnly)throw new p("Too many color indexes for global color table");O.colorScope=g.LocalColorsOnly}O.usesTransparency=k.usesTransparency;let H=k.palettes;return O.colorScope===g.LocalColorsOnly?_(D,O,2e3,H):m(D,O,2e3,k)}_getSizeEstimateGlobal(D,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=f+3*256,H=A(D);return O.forEach(B=>{k+=E(B,H)}),k}_getSizeEstimateLocal(D,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=f;for(let H=0;H<O.length;++H){let B=D[H],Z=A(B);k+=E(O[H],Z)}return k}}a.GifCodec=v;function y(R,D){let O=R.indexOf(D);return O===-1?null:O}function h(R,D){for(var O=0,k=R.length-1,H;O<=k;)if(H=Math.floor((O+k)/2),R[H]>D)k=H-1;else if(R[H]<D)O=H+1;else return H;return null}function m(R,D,O,k){let H={colors:k.colors.slice(),usesTransparency:k.usesTransparency};w(H);let B={palette:H.colors,loop:D.loops},Z=new o(O),V;try{V=new c.GifWriter(Z,D.width,D.height,B)}catch(j){throw new p(j)}for(let j=0;j<R.length;++j)Z=C(V,j,R[j],k,!1);return new g(Z.slice(0,V.end()),R,D)}function _(R,D,O,k){let H={loop:D.loops},B=new o(O),Z;try{Z=new c.GifWriter(B,D.width,D.height,H)}catch(V){throw new p(V)}for(let V=0;V<R.length;++V)B=C(Z,V,R[V],k[V],!0);return new g(B.slice(0,Z.end()),R,D)}function w(R){let D=R.colors;R.usesTransparency&&D.push(0);let O=D.length,k=2;for(;O>k;)k<<=1;D.length=k,D.fill(0,O)}function E(R,D){let O=R.bitmap.width*R.bitmap.height;return O=Math.ceil(O*D/8),O+=Math.ceil(O/255),l+O+3*256}function T(R,D,O){let k=O.colors,H=k.length<=8?y:h,B=D.bitmap.data,Z=new o(B.length/4),V=k.length,j=0,z=0;for(;j<B.length;){if(B[j+3]!==0){let W=B.readUInt32BE(j,!0)>>8&16777215;Z[z]=H(k,W)}else Z[z]=V;j+=4,++z}if(O.usesTransparency){if(V===256)throw new p(`Frame ${R} already has 256 colorsand so can't use transparency`)}else V=null;return{buffer:Z,transparentIndex:V}}function A(R){let D=R.indexCount,O=0;for(--D;D;)++O,D>>=1;return O>0?O:1}function C(R,D,O,k,H){if(O.interlaced)throw new p("writing interlaced GIFs is not supported");let B=T(D,O,k),Z={delay:O.delayCentisecs,disposal:O.disposalMethod,transparent:B.transparentIndex};H&&(w(k),Z.palette=k.colors);try{let V=R.getOutputBuffer(),j=R.getOutputBufferPosition(),z,W=!0;for(;W;)if(z=R.addFrame(O.xOffset,O.yOffset,O.bitmap.width,O.bitmap.height,B.buffer,Z),W=!1,z>=V.length-1){let Q=new o(V.length*1.5);V.copy(Q),R.setOutputBuffer(Q),R.setOutputBufferPosition(j),V=Q,W=!0}return V}catch(V){throw new p(V)}}}).call(this,r("_process"),r("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(r,i,a){"use strict";let s=r("./bitmapimage"),{GifError:o}=r("./gif");class c extends s{constructor(...p){super(...p);if(p[0]instanceof c){let d=p[0];this.xOffset=d.xOffset,this.yOffset=d.yOffset,this.disposalMethod=d.disposalMethod,this.delayCentisecs=d.delayCentisecs,this.interlaced=d.interlaced}else{let d=p[p.length-1],u={};typeof d=="object"&&!(d instanceof s)&&(u=d),this.xOffset=u.xOffset||0,this.yOffset=u.yOffset||0,this.disposalMethod=u.disposalMethod!==void 0?u.disposalMethod:c.DisposeToBackgroundColor,this.delayCentisecs=u.delayCentisecs||8,this.interlaced=u.interlaced||!1}}getPalette(){let p=new Set,d=this.bitmap.data,u=0,f=!1;for(;u<d.length;){if(d[u+3]===0)f=!0;else{let h=d.readUInt32BE(u,!0)>>8&16777215;p.add(h)}u+=4}let l=new Array(p.size),v=p.values();for(u=0;u<l.length;++u)l[u]=v.next().value;l.sort((h,m)=>h-m);let y=l.length;return f&&++y,{colors:l,usesTransparency:f,indexCount:y}}}c.DisposeToAnything=0,c.DisposeNothing=1,c.DisposeToBackgroundColor=2,c.DisposeToPrevious=3,a.GifFrame=c},{"./bitmapimage":65,"./gif":66}],69:[function(r,i,a){(function(s){"use strict";let o=r("fs"),c=r("image-q"),g=r("./bitmapimage"),{GifFrame:p}=r("./gifframe"),{GifError:d}=r("./gif"),{GifCodec:u}=r("./gifcodec"),f=[".jpg",".jpeg",".png",".bmp"],l=new u;a.cloneFrames=function(m){let _=[];return m.forEach(w=>{_.push(new p(w))}),_},a.getColorInfo=function(m,_){let w=!1,E=[];for(let D=0;D<m.length;++D){let O=m[D].getPalette();if(O.usesTransparency&&(w=!0),O.indexCount>256)throw new d(`Frame ${D} uses more than 256 color indexes`);E.push(O)}if(_===0)return{usesTransparency:w,palettes:E};let T=new Set;E.forEach(D=>{D.colors.forEach(O=>{T.add(O)})});let A=T.size;if(w&&++A,_&&A>_)return{usesTransparency:w,palettes:E};let C=new Array(T.size),R=T.values();for(let D=0;D<C.length;++D)C[D]=R.next().value;return C.sort((D,O)=>D-O),{colors:C,indexCount:A,usesTransparency:w,palettes:E}},a.copyAsJimp=function(m,_){return a.shareAsJimp(m,new g(_))},a.getMaxDimensions=function(m){let _=0,w=0;return m.forEach(E=>{let T=E.xOffset+E.bitmap.width;T>_&&(_=T);let A=E.yOffset+E.bitmap.height;A>w&&(w=A)}),{maxWidth:_,maxHeight:w}},a.quantizeDekker=function(m,_,w){_=_||256,v(m,"NeuQuantFloat",_,0,w)},a.quantizeSorokin=function(m,_,w,E){_=_||256,w=w||"min-pop";let T;switch(w){case"min-pop":T=2;break;case"top-pop":T=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${w}'`)}v(m,"RGBQuant",_,T,E)},a.quantizeWu=function(m,_,w,E){if(_=_||256,w=w||5,w<1||w>8)throw new Error("Invalid quantization quality");v(m,"WuQuant",_,w,E)},a.read=function(m,_){return _=_||l,s.isBuffer(m)?_.decodeGif(m):y(m).then(w=>_.decodeGif(w))},a.shareAsJimp=function(m,_){let w=new m(_.bitmap.width,_.bitmap.height,0);return w.bitmap.data=_.bitmap.data,w},a.write=function(m,_,w,E){E=E||l;let T=m.match(/\.[a-zA-Z]+$/);if(T!==null&&f.includes(T[0].toLowerCase()))throw new Error(`GIF '${m}' has an unexpected suffix`);return E.encodeGif(_,w).then(A=>h(m,A.buffer).then(()=>A))};function v(m,_,w,E,T){let A=Array.isArray(m)?m:[m],C=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(T){if(C.indexOf(T.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${T.ditherAlgorithm}'`);T.serpentine===void 0&&(T.serpentine=!0),T.minimumColorDistanceToDither===void 0&&(T.minimumColorDistanceToDither=0),T.calculateErrorLikeGIMP===void 0&&(T.calculateErrorLikeGIMP=!1)}let R=new c.distance.Euclidean,D=new c.palette[_](R,w,E),O;T?O=new c.image.ErrorDiffusionArray(R,c.image.ErrorDiffusionArrayKernel[T.ditherAlgorithm],T.serpentine,T.minimumColorDistanceToDither,T.calculateErrorLikeGIMP):O=new c.image.NearestColor(R);let k=[];A.forEach(B=>{let Z=B.bitmap.data,V=new ArrayBuffer(Z.length),j=new Uint32Array(V);for(let W=0,Q=0;W<Z.length;W+=4,++Q)j[Q]=Z.readUInt32LE(W,!0);let z=c.utils.PointContainer.fromUint32Array(j,B.bitmap.width,B.bitmap.height);D.sample(z),k.push(z)});let H=D.quantize();for(let B=0;B<A.length;++B){let Z=A[B].bitmap.data,j=O.quantize(k[B],H).toUint32Array();for(let z=0,W=0;z<Z.length;z+=4,++W)Z.writeUInt32LE(j[W],z)}}function y(m){return new Promise((_,w)=>{o.readFile(m,(E,T)=>E?w(E):_(T))})}function h(m,_){return new Promise((w,E)=>{o.writeFile(m,_,T=>T?E(T):w())})}}).call(this,{isBuffer:r("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(r,i,a){"use strict";let s=r("./bitmapimage"),{Gif:o,GifError:c}=r("./gif"),{GifCodec:g}=r("./gifcodec"),{GifFrame:p}=r("./gifframe"),d=r("./gifutil");i.exports={BitmapImage:s,Gif:o,GifCodec:g,GifFrame:p,GifUtil:d,GifError:c}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(r,i,a){(function(s){var o;typeof zt!="undefined"?o=zt:typeof s!="undefined"?o=s:typeof self!="undefined"?o=self:o={},i.exports=o}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{}],72:[function(r,i,a){var s=r("http"),o=r("url"),c=i.exports;for(var g in s)s.hasOwnProperty(g)&&(c[g]=s[g]);c.request=function(d,u){return d=p(d),s.request.call(this,d,u)},c.get=function(d,u){return d=p(d),s.get.call(this,d,u)};function p(d){if(typeof d=="string"&&(d=o.parse(d)),d.protocol||(d.protocol="https:"),d.protocol!=="https:")throw new Error('Protocol "'+d.protocol+'" not supported. Expected "https:"');return d}},{http:156,url:180}],73:[function(r,i,a){a.read=function(s,o,c,g,p){var d,u,f=p*8-g-1,l=(1<<f)-1,v=l>>1,y=-7,h=c?p-1:0,m=c?-1:1,_=s[o+h];for(h+=m,d=_&(1<<-y)-1,_>>=-y,y+=f;y>0;d=d*256+s[o+h],h+=m,y-=8);for(u=d&(1<<-y)-1,d>>=-y,y+=g;y>0;u=u*256+s[o+h],h+=m,y-=8);if(d===0)d=1-v;else{if(d===l)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,g),d=d-v}return(_?-1:1)*u*Math.pow(2,d-g)},a.write=function(s,o,c,g,p,d){var u,f,l,v=d*8-p-1,y=(1<<v)-1,h=y>>1,m=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=g?0:d-1,w=g?1:-1,E=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,u=y):(u=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-u))<1&&(u--,l*=2),u+h>=1?o+=m/l:o+=m*Math.pow(2,1-h),o*l>=2&&(u++,l/=2),u+h>=y?(f=0,u=y):u+h>=1?(f=(o*l-1)*Math.pow(2,p),u=u+h):(f=o*Math.pow(2,h-1)*Math.pow(2,p),u=0));p>=8;s[c+_]=f&255,_+=w,f/=256,p-=8);for(u=u<<p|f,v+=p;v>0;s[c+_]=u&255,_+=w,u/=256,v-=8);s[c+_-w]|=E*128}},{}],74:[function(r,i,a){(function(o,c){typeof a=="object"&&typeof i=="object"?i.exports=c():typeof n=="function"&&n.amd?n("iq",[],c):typeof a=="object"?a.iq=c():o.iq=c()})(this,function(){return function(s){var o={};function c(g){if(o[g])return o[g].exports;var p=o[g]={exports:{},id:g,loaded:!1};return s[g].call(p.exports,p,p.exports,c),p.loaded=!0,p.exports}return c.m=s,c.c=o,c.p="",c(0)}([function(s,o,c){"use strict";var g=c(1);o.constants=g;var p=c(3);o.conversion=p;var d=c(12);o.distance=d;var u=c(20);o.palette=u;var f=c(30);o.image=f;var l=c(35);o.quality=l;var v=c(37);o.utils=v},function(s,o,c){"use strict";var g=c(2);o.bt709=g},function(s,o){"use strict";var c;(function(d){d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE"})(c||(c={})),o.Y=c;var g;(function(d){d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE"})(g||(g={})),o.x=g;var p;(function(d){d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE"})(p||(p={})),o.y=p},function(s,o,c){"use strict";var g=c(4);o.rgb2xyz=g.rgb2xyz;var p=c(5);o.rgb2hsl=p.rgb2hsl;var d=c(7);o.rgb2lab=d.rgb2lab;var u=c(9);o.lab2xyz=u.lab2xyz;var f=c(10);o.lab2rgb=f.lab2rgb;var l=c(8);o.xyz2lab=l.xyz2lab;var v=c(11);o.xyz2rgb=v.xyz2rgb},function(s,o){"use strict";function c(p){return p>.04045?Math.pow((p+.055)/1.055,2.4):p/12.92}function g(p,d,u){return p=c(p/255),d=c(d/255),u=c(u/255),{x:p*.4124+d*.3576+u*.1805,y:p*.2126+d*.7152+u*.0722,z:p*.0193+d*.1192+u*.9505}}o.rgb2xyz=g},function(s,o,c){"use strict";var g=c(6);function p(d,u,f){var l=g.min3(d,u,f),v=g.max3(d,u,f),y=v-l,h=(l+v)/510,m=0;h>0&&h<1&&(m=y/(h<.5?v+l:510-v-l));var _=0;return y>0&&(v===d?_=(u-f)/y:v===u?_=2+(f-d)/y:_=4+(d-u)/y,_*=60,_<0&&(_+=360)),{h:_,s:m,l:h}}o.rgb2hsl=p},function(s,o){"use strict";function c(v){return v*(Math.PI/180)}o.degrees2radians=c;function g(v,y,h){var m=v;return m<y&&(m=y),m<h&&(m=h),m}o.max3=g;function p(v,y,h){var m=v;return m>y&&(m=y),m>h&&(m=h),m}o.min3=p;function d(v,y,h){return v>h&&(v=h),v<y&&(v=y),v|0}o.intInRange=d;function u(v){return v=Math.round(v),v>255?v=255:v<0&&(v=0),v}o.inRange0to255Rounded=u;function f(v){return v>255?v=255:v<0&&(v=0),v}o.inRange0to255=f;function l(v,y){var h=typeof v[0],m;if(h==="number"||h==="string"){for(var _=Object.create(null),w=0,E=v.length;w<E;w++){var T=v[w];_[T]||_[T]===0||(_[T]=w)}m=v.sort(function(C,R){return y(C,R)||_[C]-_[R]})}else{var A=v.slice(0);m=v.sort(function(C,R){return y(C,R)||A.indexOf(C)-A.indexOf(R)})}return m}o.stableSort=l},function(s,o,c){"use strict";var g=c(4),p=c(8);function d(u,f,l){var v=g.rgb2xyz(u,f,l);return p.xyz2lab(v.x,v.y,v.z)}o.rgb2lab=d},function(s,o){"use strict";var c=.95047,g=1,p=1.08883;function d(f){return f>.008856?Math.pow(f,1/3):7.787*f+16/116}function u(f,l,v){if(f=d(f/c),l=d(l/g),v=d(v/p),116*l-16<0)throw new Error("xxx");return{L:Math.max(0,116*l-16),a:500*(f-l),b:200*(l-v)}}o.xyz2lab=u},function(s,o){"use strict";var c=.95047,g=1,p=1.08883;function d(f){return f>.206893034?Math.pow(f,3):(f-16/116)/7.787}function u(f,l,v){var y=(f+16)/116,h=l/500+y,m=y-v/200;return{x:c*d(h),y:g*d(y),z:p*d(m)}}o.lab2xyz=u},function(s,o,c){"use strict";var g=c(9),p=c(11);function d(u,f,l){var v=g.lab2xyz(u,f,l);return p.xyz2rgb(v.x,v.y,v.z)}o.lab2rgb=d},function(s,o,c){"use strict";var g=c(6);function p(u){return u>.0031308?1.055*Math.pow(u,1/2.4)-.055:12.92*u}function d(u,f,l){var v=p(u*3.2406+f*-1.5372+l*-.4986),y=p(u*-.9689+f*1.8758+l*.0415),h=p(u*.0557+f*-.204+l*1.057);return{r:g.inRange0to255Rounded(v*255),g:g.inRange0to255Rounded(y*255),b:g.inRange0to255Rounded(h*255)}}o.xyz2rgb=d},function(s,o,c){"use strict";var g=c(13);o.AbstractDistanceCalculator=g.AbstractDistanceCalculator;var p=c(14);o.CIE94Textiles=p.CIE94Textiles,o.CIE94GraphicArts=p.CIE94GraphicArts;var d=c(15);o.CIEDE2000=d.CIEDE2000;var u=c(16);o.CMETRIC=u.CMETRIC;var f=c(17);o.AbstractEuclidean=f.AbstractEuclidean,o.Euclidean=f.Euclidean,o.EuclideanRgbQuantWOAlpha=f.EuclideanRgbQuantWOAlpha,o.EuclideanRgbQuantWithAlpha=f.EuclideanRgbQuantWithAlpha;var l=c(18);o.AbstractManhattan=l.AbstractManhattan,o.Manhattan=l.Manhattan,o.ManhattanSRGB=l.ManhattanSRGB,o.ManhattanNommyde=l.ManhattanNommyde;var v=c(19);o.PNGQUANT=v.PNGQUANT},function(s,o){"use strict";var c=function(){function g(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return g.prototype.setWhitePoint=function(p,d,u,f){this._whitePoint={r:p>0?255/p:0,g:d>0?255/d:0,b:u>0?255/u:0,a:f>0?255/f:0},this._maxDistance=this.calculateRaw(p,d,u,f,0,0,0,0)},g.prototype.calculateNormalized=function(p,d){return this.calculateRaw(p.r,p.g,p.b,p.a,d.r,d.g,d.b,d.a)/this._maxDistance},g.prototype._setDefaults=function(){},g}();o.AbstractDistanceCalculator=c},function(s,o,c){"use strict";var g=this&&this.__extends||function(y,h){for(var m in h)h.hasOwnProperty(m)&&(y[m]=h[m]);function _(){this.constructor=y}y.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var p=c(13),d=c(7),u=c(6),f=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype.calculateRaw=function(m,_,w,E,T,A,C,R){var D=d.rgb2lab(u.inRange0to255(m*this._whitePoint.r),u.inRange0to255(_*this._whitePoint.g),u.inRange0to255(w*this._whitePoint.b)),O=d.rgb2lab(u.inRange0to255(T*this._whitePoint.r),u.inRange0to255(A*this._whitePoint.g),u.inRange0to255(C*this._whitePoint.b)),k=D.L-O.L,H=D.a-O.a,B=D.b-O.b,Z=Math.sqrt(D.a*D.a+D.b*D.b),V=Math.sqrt(O.a*O.a+O.b*O.b),j=Z-V,z=H*H+B*B-j*j;z=z<0?0:Math.sqrt(z);var W=(R-E)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(k/this._Kl,2)+Math.pow(j/(1+this._K1*Z),2)+Math.pow(z/(1+this._K2*Z),2)+Math.pow(W,2))},h}(p.AbstractDistanceCalculator);o.AbstractCIE94=f;var l=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},h}(f);o.CIE94Textiles=l;var v=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},h}(f);o.CIE94GraphicArts=v},function(s,o,c){"use strict";var g=this&&this.__extends||function(l,v){for(var y in v)v.hasOwnProperty(y)&&(l[y]=v[y]);function h(){this.constructor=l}l.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)};var p=c(13),d=c(7),u=c(6),f=function(l){g(v,l);function v(){l.apply(this,arguments)}return v.prototype.calculateRaw=function(y,h,m,_,w,E,T,A){var C=d.rgb2lab(u.inRange0to255(y*this._whitePoint.r),u.inRange0to255(h*this._whitePoint.g),u.inRange0to255(m*this._whitePoint.b)),R=d.rgb2lab(u.inRange0to255(w*this._whitePoint.r),u.inRange0to255(E*this._whitePoint.g),u.inRange0to255(T*this._whitePoint.b)),D=(A-_)*this._whitePoint.a*v._kA,O=this.calculateRawInLab(C,R);return Math.sqrt(O+D*D)},v.prototype.calculateRawInLab=function(y,h){var m=y.L,_=y.a,w=y.b,E=h.L,T=h.a,A=h.b,C=Math.sqrt(_*_+w*w),R=Math.sqrt(T*T+A*A),D=Math.pow((C+R)/2,7),O=.5*(1-Math.sqrt(D/(D+v._pow25to7))),k=(1+O)*_,H=(1+O)*T,B=Math.sqrt(k*k+w*w),Z=Math.sqrt(H*H+A*A),V=B*Z,j=v._calculatehp(w,k),z=v._calculatehp(A,H),W=Math.abs(j-z),Q=E-m,se=Z-B,le=v._calculate_dHp(V,W,z,j),fe=v._calculate_ahp(V,W,j,z),$=v._calculateT(fe),ae=(B+Z)/2,oe=Math.pow((m+E)/2-50,2),ce=1+.015*oe/Math.sqrt(20+oe),he=1+.045*ae,we=1+.015*$*ae,xe=v._calculateRT(fe,ae),Oe=Q/ce,ge=se/he,De=le/we;return Math.pow(Oe,2)+Math.pow(ge,2)+Math.pow(De,2)+xe*ge*De},v._calculatehp=function(y,h){var m=Math.atan2(y,h);return m>=0?m:m+v._deg360InRad},v._calculateRT=function(y,h){var m=Math.pow(h,7),_=2*Math.sqrt(m/(m+v._pow25to7)),w=v._deg30InRad*Math.exp(-Math.pow((y-v._deg275InRad)/v._deg25InRad,2));return-Math.sin(2*w)*_},v._calculateT=function(y){return 1-.17*Math.cos(y-v._deg30InRad)+.24*Math.cos(y*2)+.32*Math.cos(y*3+v._deg6InRad)-.2*Math.cos(y*4-v._deg63InRad)},v._calculate_ahp=function(y,h,m,_){var w=m+_;return y==0?w:h<=v._deg180InRad?w/2:w<v._deg360InRad?(w+v._deg360InRad)/2:(w-v._deg360InRad)/2},v._calculate_dHp=function(y,h,m,_){var w;return y==0?w=0:h<=v._deg180InRad?w=m-_:m<=_?w=m-_+v._deg360InRad:w=m-_-v._deg360InRad,2*Math.sqrt(y)*Math.sin(w/2)},v._kA=.25*100/255,v._pow25to7=Math.pow(25,7),v._deg360InRad=u.degrees2radians(360),v._deg180InRad=u.degrees2radians(180),v._deg30InRad=u.degrees2radians(30),v._deg6InRad=u.degrees2radians(6),v._deg63InRad=u.degrees2radians(63),v._deg275InRad=u.degrees2radians(275),v._deg25InRad=u.degrees2radians(25),v}(p.AbstractDistanceCalculator);o.CIEDE2000=f},function(s,o,c){"use strict";var g=this&&this.__extends||function(u,f){for(var l in f)f.hasOwnProperty(l)&&(u[l]=f[l]);function v(){this.constructor=u}u.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)};var p=c(13),d=function(u){g(f,u);function f(){u.apply(this,arguments)}return f.prototype.calculateRaw=function(l,v,y,h,m,_,w,E){var T=(l+m)/2*this._whitePoint.r,A=(l-m)*this._whitePoint.r,C=(v-_)*this._whitePoint.g,R=(y-w)*this._whitePoint.b,D=((512+T)*A*A>>8)+4*C*C+((767-T)*R*R>>8),O=(E-h)*this._whitePoint.a;return Math.sqrt(D+O*O)},f}(p.AbstractDistanceCalculator);o.CMETRIC=d},function(s,o,c){"use strict";var g=this&&this.__extends||function(y,h){for(var m in h)h.hasOwnProperty(m)&&(y[m]=h[m]);function _(){this.constructor=y}y.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var p=c(13),d=c(2),u=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype.calculateRaw=function(m,_,w,E,T,A,C,R){var D=T-m,O=A-_,k=C-w,H=R-E;return Math.sqrt(this._kR*D*D+this._kG*O*O+this._kB*k*k+this._kA*H*H)},h}(p.AbstractDistanceCalculator);o.AbstractEuclidean=u;var f=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},h}(u);o.Euclidean=f;var l=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=1},h}(u);o.EuclideanRgbQuantWithAlpha=l;var v=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=0},h}(u);o.EuclideanRgbQuantWOAlpha=v},function(s,o,c){"use strict";var g=this&&this.__extends||function(y,h){for(var m in h)h.hasOwnProperty(m)&&(y[m]=h[m]);function _(){this.constructor=y}y.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var p=c(13),d=c(2),u=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype.calculateRaw=function(m,_,w,E,T,A,C,R){var D=T-m,O=A-_,k=C-w,H=R-E;return D<0&&(D=0-D),O<0&&(O=0-O),k<0&&(k=0-k),H<0&&(H=0-H),this._kR*D+this._kG*O+this._kB*k+this._kA*H},h}(p.AbstractDistanceCalculator);o.AbstractManhattan=u;var f=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},h}(u);o.Manhattan=f;var l=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},h}(u);o.ManhattanNommyde=l;var v=function(y){g(h,y);function h(){y.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=1},h}(u);o.ManhattanSRGB=v},function(s,o,c){"use strict";var g=this&&this.__extends||function(u,f){for(var l in f)f.hasOwnProperty(l)&&(u[l]=f[l]);function v(){this.constructor=u}u.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)};var p=c(13),d=function(u){g(f,u);function f(){u.apply(this,arguments)}return f.prototype.calculateRaw=function(l,v,y,h,m,_,w,E){var T=(E-h)*this._whitePoint.a;return this._colordifference_ch(l*this._whitePoint.r,m*this._whitePoint.r,T)+this._colordifference_ch(v*this._whitePoint.g,_*this._whitePoint.g,T)+this._colordifference_ch(y*this._whitePoint.b,w*this._whitePoint.b,T)},f.prototype._colordifference_ch=function(l,v,y){var h=l-v,m=h+y;return h*h+m*m},f}(p.AbstractDistanceCalculator);o.PNGQUANT=d},function(s,o,c){"use strict";var g=c(21);o.NeuQuant=g.NeuQuant;var p=c(25);o.NeuQuantFloat=p.NeuQuantFloat;var d=c(26);o.RGBQuant=d.RGBQuant;var u=c(27);o.ColorHistogram=u.ColorHistogram;var f=c(29);o.WuQuant=f.WuQuant,o.WuColorCube=f.WuColorCube},function(s,o,c){"use strict";var g=c(22),p=c(24),d=3,u=function(){function l(v){this.r=this.g=this.b=this.a=v}return l.prototype.toPoint=function(){return p.Point.createByRGBA(this.r>>d,this.g>>d,this.b>>d,this.a>>d)},l.prototype.subtract=function(v,y,h,m){this.r-=v|0,this.g-=y|0,this.b-=h|0,this.a-=m|0},l}(),f=function(){function l(v,y){y===void 0&&(y=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<d,255<<d,255<<d,255<<d)}return l.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},l.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},l.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new u((v<<d+8)/this._networkSize|0),this._freq[v]=l._initialBias/this._networkSize|0,this._bias[v]=0},l.prototype._learn=function(){var v=this._sampleFactor,y=this._pointArray.length;y<l._minpicturebytes&&(v=1);var h=30+(v-1)/3|0,m=y/v|0,_=m/l._nCycles|0,w=l._initAlpha,E=(this._networkSize>>3)*l._radiusBias,T=E>>l._radiusBiasShift;T<=1&&(T=0);for(var A=0;A<T;A++)this._radPower[A]=w*((T*T-A*A)*l._radBias/(T*T))>>>0;var C;y<l._minpicturebytes?C=1:y%l._prime1!=0?C=l._prime1:y%l._prime2!=0?C=l._prime2:y%l._prime3!=0?C=l._prime3:C=l._prime4;for(var A=0,R=0;A<m;){var D=this._pointArray[R],O=D.b<<d,k=D.g<<d,H=D.r<<d,B=D.a<<d,Z=this._contest(O,k,H,B);if(this._alterSingle(w,Z,O,k,H,B),T!==0&&this._alterNeighbour(T,Z,O,k,H,B),R+=C,R>=y&&(R-=y),A++,_===0&&(_=1),A%_==0){w-=w/h|0,E-=E/l._radiusDecrease|0,T=E>>l._radiusBiasShift,T<=1&&(T=0);for(var V=0;V<T;V++)this._radPower[V]=w*((T*T-V*V)*l._radBias/(T*T))>>>0}}},l.prototype._buildPalette=function(){var v=new g.Palette;return this._network.forEach(function(y){v.add(y.toPoint())}),v.sort(),v},l.prototype._alterNeighbour=function(v,y,h,m,_,w){var E=y-v;E<-1&&(E=-1);var T=y+v;T>this._networkSize&&(T=this._networkSize);for(var A=y+1,C=y-1,R=1;A<T||C>E;){var D=this._radPower[R++]/l._alphaRadBias;if(A<T){var O=this._network[A++];O.subtract(D*(O.r-_),D*(O.g-m),D*(O.b-h),D*(O.a-w))}if(C>E){var O=this._network[C--];O.subtract(D*(O.r-_),D*(O.g-m),D*(O.b-h),D*(O.a-w))}}},l.prototype._alterSingle=function(v,y,h,m,_,w){v/=l._initAlpha;var E=this._network[y];E.subtract(v*(E.r-_),v*(E.g-m),v*(E.b-h),v*(E.a-w))},l.prototype._contest=function(v,y,h,m){for(var _=255*4<<d,w=~(1<<31),E=w,T=-1,A=T,C=0;C<this._networkSize;C++){var R=this._network[C],D=this._distance.calculateNormalized(R,{r:h,g:y,b:v,a:m})*_|0;D<w&&(w=D,T=C);var O=D-(this._bias[C]>>l._initialBiasShift-d);O<E&&(E=O,A=C);var k=this._freq[C]>>l._betaShift;this._freq[C]-=k,this._bias[C]+=k<<l._gammaShift}return this._freq[T]+=l._beta,this._bias[T]-=l._betaGamma,A},l._prime1=499,l._prime2=491,l._prime3=487,l._prime4=503,l._minpicturebytes=l._prime4,l._nCycles=100,l._initialBiasShift=16,l._initialBias=1<<l._initialBiasShift,l._gammaShift=10,l._betaShift=10,l._beta=l._initialBias>>l._betaShift,l._betaGamma=l._initialBias<<l._gammaShift-l._betaShift,l._radiusBiasShift=6,l._radiusBias=1<<l._radiusBiasShift,l._radiusDecrease=30,l._alphaBiasShift=10,l._initAlpha=1<<l._alphaBiasShift,l._radBiasShift=8,l._radBias=1<<l._radBiasShift,l._alphaRadBiasShift=l._alphaBiasShift+l._radBiasShift,l._alphaRadBias=1<<l._alphaRadBiasShift,l}();o.NeuQuant=f},function(s,o,c){"use strict";var g=c(23),p=c(5),d=10;function u(l,v){for(var y=360,h=y/v,m=h/2,_=1,w=h-m;_<v;_++,w+=h)if(l>=w&&l<w+h)return _;return 0}o.hueGroup=u;var f=function(){function l(){this._pointArray=[],this._i32idx={},this._pointContainer=new g.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return l.prototype.add=function(v){this._pointArray.push(v),this._pointContainer.setWidth(this._pointArray.length)},l.prototype.has=function(v){for(var y=this._pointArray.length-1;y>=0;y--)if(v.uint32===this._pointArray[y].uint32)return!0;return!1},l.prototype.getNearestColor=function(v,y){return this._pointArray[this.getNearestIndex(v,y)|0]},l.prototype.getPointContainer=function(){return this._pointContainer},l.prototype._nearestPointFromCache=function(v){return typeof this._i32idx[v]=="number"?this._i32idx[v]:-1},l.prototype.getNearestIndex=function(v,y){var h=this._nearestPointFromCache(""+y.uint32);if(h>=0)return h;var m=Number.MAX_VALUE;h=0;for(var _=0,w=this._pointArray.length;_<w;_++){var E=this._pointArray[_],T=v.calculateRaw(y.r,y.g,y.b,y.a,E.r,E.g,E.b,E.a);T<m&&(m=T,h=_)}return this._i32idx[y.uint32]=h,h},l.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(v,y){var h=p.rgb2hsl(v.r,v.g,v.b),m=p.rgb2hsl(y.r,y.g,y.b),_=v.r===v.g&&v.g===v.b?0:1+u(h.h,d),w=y.r===y.g&&y.g===y.b?0:1+u(m.h,d),E=w-_;if(E)return-E;var T=v.getLuminosity(!0),A=y.getLuminosity(!0);if(A-T!=0)return A-T;var C=(m.s*100|0)-(h.s*100|0);return C?-C:0})},l}();o.Palette=f},function(s,o,c){"use strict";var g=c(24),p=function(){function d(){this._width=0,this._height=0,this._pointArray=[]}return d.prototype.getWidth=function(){return this._width},d.prototype.getHeight=function(){return this._height},d.prototype.setWidth=function(u){this._width=u},d.prototype.setHeight=function(u){this._height=u},d.prototype.getPointArray=function(){return this._pointArray},d.prototype.clone=function(){var u=new d;u._width=this._width,u._height=this._height;for(var f=0,l=this._pointArray.length;f<l;f++)u._pointArray[f]=g.Point.createByUint32(this._pointArray[f].uint32|0);return u},d.prototype.toUint32Array=function(){for(var u=this._pointArray.length,f=new Uint32Array(u),l=0;l<u;l++)f[l]=this._pointArray[l].uint32;return f},d.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},d.fromHTMLImageElement=function(u){var f=u.naturalWidth,l=u.naturalHeight,v=document.createElement("canvas");v.width=f,v.height=l;var y=v.getContext("2d");return y.drawImage(u,0,0,f,l,0,0,f,l),d.fromHTMLCanvasElement(v)},d.fromHTMLCanvasElement=function(u){var f=u.width,l=u.height,v=u.getContext("2d"),y=v.getImageData(0,0,f,l);return d.fromImageData(y)},d.fromNodeCanvas=function(u){return d.fromHTMLCanvasElement(u)},d.fromImageData=function(u){var f=u.width,l=u.height;return d.fromCanvasPixelArray(u.data,f,l)},d.fromArray=function(u,f,l){var v=new Uint8Array(u);return d.fromUint8Array(v,f,l)},d.fromCanvasPixelArray=function(u,f,l){return d.fromArray(u,f,l)},d.fromUint8Array=function(u,f,l){return d.fromUint32Array(new Uint32Array(u.buffer),f,l)},d.fromUint32Array=function(u,f,l){var v=new d;v._width=f,v._height=l;for(var y=0,h=u.length;y<h;y++)v._pointArray[y]=g.Point.createByUint32(u[y]|0);return v},d}();o.PointContainer=p},function(s,o,c){"use strict";var g=c(2),p=function(){function d(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return d.createByQuadruplet=function(u){var f=new d;return f.r=u[0]|0,f.g=u[1]|0,f.b=u[2]|0,f.a=u[3]|0,f._loadUINT32(),f._loadQuadruplet(),f},d.createByRGBA=function(u,f,l,v){var y=new d;return y.r=u|0,y.g=f|0,y.b=l|0,y.a=v|0,y._loadUINT32(),y._loadQuadruplet(),y},d.createByUint32=function(u){var f=new d;return f.uint32=u>>>0,f._loadRGBA(),f._loadQuadruplet(),f},d.prototype.from=function(u){this.r=u.r,this.g=u.g,this.b=u.b,this.a=u.a,this.uint32=u.uint32,this.rgba[0]=u.r,this.rgba[1]=u.g,this.rgba[2]=u.b,this.rgba[3]=u.a},d.prototype.getLuminosity=function(u){var f=this.r,l=this.g,v=this.b;return u&&(f=Math.min(255,255-this.a+this.a*f/255),l=Math.min(255,255-this.a+this.a*l/255),v=Math.min(255,255-this.a+this.a*v/255)),f*g.Y.RED+l*g.Y.GREEN+v*g.Y.BLUE},d.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},d.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},d.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},d}();o.Point=p},function(s,o,c){"use strict";var g=c(22),p=c(24),d=3,u=function(){function l(v){this.r=this.g=this.b=this.a=v}return l.prototype.toPoint=function(){return p.Point.createByRGBA(this.r>>d,this.g>>d,this.b>>d,this.a>>d)},l.prototype.subtract=function(v,y,h,m){this.r-=v,this.g-=y,this.b-=h,this.a-=m},l}(),f=function(){function l(v,y){y===void 0&&(y=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<d,255<<d,255<<d,255<<d)}return l.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},l.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},l.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new u((v<<d+8)/this._networkSize),this._freq[v]=l._initialBias/this._networkSize,this._bias[v]=0},l.prototype._learn=function(){var v=this._sampleFactor,y=this._pointArray.length;y<l._minpicturebytes&&(v=1);var h=30+(v-1)/3,m=y/v,_=m/l._nCycles|0,w=l._initAlpha,E=(this._networkSize>>3)*l._radiusBias,T=E>>l._radiusBiasShift;T<=1&&(T=0);for(var A=0;A<T;A++)this._radPower[A]=w*((T*T-A*A)*l._radBias/(T*T));var C;y<l._minpicturebytes?C=1:y%l._prime1!=0?C=l._prime1:y%l._prime2!=0?C=l._prime2:y%l._prime3!=0?C=l._prime3:C=l._prime4;for(var A=0,R=0;A<m;){var D=this._pointArray[R],O=D.b<<d,k=D.g<<d,H=D.r<<d,B=D.a<<d,Z=this._contest(O,k,H,B);if(this._alterSingle(w,Z,O,k,H,B),T!=0&&this._alterNeighbour(T,Z,O,k,H,B),R+=C,R>=y&&(R-=y),A++,_==0&&(_=1),A%_==0){w-=w/h,E-=E/l._radiusDecrease,T=E>>l._radiusBiasShift,T<=1&&(T=0);for(var V=0;V<T;V++)this._radPower[V]=w*((T*T-V*V)*l._radBias/(T*T))}}},l.prototype._buildPalette=function(){var v=new g.Palette;return this._network.forEach(function(y){v.add(y.toPoint())}),v.sort(),v},l.prototype._alterNeighbour=function(v,y,h,m,_,w){var E=y-v;E<-1&&(E=-1);var T=y+v;T>this._networkSize&&(T=this._networkSize);for(var A=y+1,C=y-1,R=1;A<T||C>E;){var D=this._radPower[R++]/l._alphaRadBias;if(A<T){var O=this._network[A++];O.subtract(D*(O.r-_),D*(O.g-m),D*(O.b-h),D*(O.a-w))}if(C>E){var O=this._network[C--];O.subtract(D*(O.r-_),D*(O.g-m),D*(O.b-h),D*(O.a-w))}}},l.prototype._alterSingle=function(v,y,h,m,_,w){v/=l._initAlpha;var E=this._network[y];E.subtract(v*(E.r-_),v*(E.g-m),v*(E.b-h),v*(E.a-w))},l.prototype._contest=function(v,y,h,m){for(var _=255*4<<d,w=~(1<<31),E=w,T=-1,A=T,C=0;C<this._networkSize;C++){var R=this._network[C],D=this._distance.calculateNormalized(R,{r:h,g:y,b:v,a:m})*_;D<w&&(w=D,T=C);var O=D-(this._bias[C]>>l._initialBiasShift-d);O<E&&(E=O,A=C);var k=this._freq[C]>>l._betaShift;this._freq[C]-=k,this._bias[C]+=k<<l._gammaShift}return this._freq[T]+=l._beta,this._bias[T]-=l._betaGamma,A},l._prime1=499,l._prime2=491,l._prime3=487,l._prime4=503,l._minpicturebytes=l._prime4,l._nCycles=100,l._initialBiasShift=16,l._initialBias=1<<l._initialBiasShift,l._gammaShift=10,l._betaShift=10,l._beta=l._initialBias>>l._betaShift,l._betaGamma=l._initialBias<<l._gammaShift-l._betaShift,l._radiusBiasShift=6,l._radiusBias=1<<l._radiusBiasShift,l._radiusDecrease=30,l._alphaBiasShift=10,l._initAlpha=1<<l._alphaBiasShift,l._radBiasShift=8,l._radBias=1<<l._radBiasShift,l._alphaRadBiasShift=l._alphaBiasShift+l._radBiasShift,l._alphaRadBias=1<<l._alphaRadBiasShift,l}();o.NeuQuantFloat=f},function(s,o,c){"use strict";var g=c(22),p=c(24),d=c(27),u=c(6),f=function(){function v(y,h,m){this.index=y,this.color=h,this.distance=m}return v}(),l=function(){function v(y,h,m){h===void 0&&(h=256),m===void 0&&(m=2),this._distance=y,this._colors=h,this._histogram=new d.ColorHistogram(m,h),this._initialDistance=.01,this._distanceIncrement=.005}return v.prototype.sample=function(y){this._histogram.sample(y)},v.prototype.quantize=function(){var y=this._histogram.getImportanceSortedColorsIDXI32();if(y.length===0)throw new Error("No colors in image");var h=this._buildPalette(y);return h.sort(),h},v.prototype._buildPalette=function(y){for(var h=new g.Palette,m=h.getPointContainer().getPointArray(),_=new Array(y.length),w=0;w<y.length;w++)m.push(p.Point.createByUint32(y[w])),_[w]=1;for(var E=m.length,T=[],A=E,C=this._initialDistance;A>this._colors;){T.length=0;for(var w=0;w<E;w++)if(_[w]!==0){for(var R=m[w],D=w+1;D<E;D++)if(_[D]!==0){var O=m[D],k=this._distance.calculateNormalized(R,O);k<C&&(T.push(new f(D,O,k)),_[D]=0,A--)}}C+=A>this._colors*3?this._initialDistance:this._distanceIncrement}if(A<this._colors){u.stableSort(T,function(j,z){return z.distance-j.distance});for(var H=0;A<this._colors&&H<T.length;){var B=T[H];_[B.index]=1,A++,H++}}for(var Z=m.length,V=Z-1;V>=0;V--)_[V]===0&&(V!==Z-1&&(m[V]=m[Z-1]),--Z);return m.length=Z,h},v}();o.RGBQuant=l},function(s,o,c){"use strict";var g=c(28),p=c(6),d=function(){function u(f,l){this._method=f,this._minHueCols=l<<2,this._initColors=l<<2,this._hueStats=new g.HueStatistics(u._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return u.prototype.sample=function(f){switch(this._method){case 1:this._colorStats1D(f);break;case 2:this._colorStats2D(f);break}},u.prototype.getImportanceSortedColorsIDXI32=function(){var f=this,l=p.stableSort(Object.keys(this._histogram),function(E,T){return f._histogram[T]-f._histogram[E]});if(l.length===0)return[];var v;switch(this._method){case 1:var y=Math.min(l.length,this._initColors),h=l[y-1],m=this._histogram[h];v=l.slice(0,y);for(var _=y,w=l.length;_<w&&this._histogram[l[_]]==m;)v.push(l[_++]);this._hueStats.injectIntoArray(v);break;case 2:v=l;break;default:throw new Error("Incorrect method")}return v.map(function(E){return+E})},u.prototype._colorStats1D=function(f){for(var l=this._histogram,v=f.getPointArray(),y=v.length,h=0;h<y;h++){var m=v[h].uint32;this._hueStats.check(m),m in l?l[m]++:l[m]=1}},u.prototype._colorStats2D=function(f){var l=this,v=f.getWidth(),y=f.getHeight(),h=f.getPointArray(),m=u._boxSize[0],_=u._boxSize[1],w=m*_,E=this._makeBoxes(v,y,m,_),T=this._histogram;E.forEach(function(A){var C=Math.round(A.w*A.h/w)*u._boxPixels;C<2&&(C=2);var R={};l._iterateBox(A,v,function(D){var O=h[D].uint32;l._hueStats.check(O),O in T?T[O]++:O in R?++R[O]>=C&&(T[O]=R[O]):R[O]=1})}),this._hueStats.injectIntoDictionary(T)},u.prototype._iterateBox=function(f,l,v){var y=f,h=y.y*l+y.x,m=(y.y+y.h-1)*l+(y.x+y.w-1),_=l-y.w+1,w=0,E=h;do v.call(this,E),E+=++w%y.w==0?_:1;while(E<=m)},u.prototype._makeBoxes=function(f,l,v,y){for(var h=f%v,m=l%y,_=f-h,w=l-m,E=[],T=0;T<l;T+=y)for(var A=0;A<f;A+=v)E.push({x:A,y:T,w:A==_?h:v,h:T==w?m:y});return E},u._boxSize=[64,64],u._boxPixels=2,u._hueGroups=10,u}();o.ColorHistogram=d},function(s,o,c){"use strict";var g=c(5),p=c(22),d=function(){function f(){this.num=0,this.cols=[]}return f}(),u=function(){function f(l,v){this._numGroups=l,this._minCols=v,this._stats=[];for(var y=0;y<=l;y++)this._stats[y]=new d;this._groupsFull=0}return f.prototype.check=function(l){this._groupsFull==this._numGroups+1&&(this.check=function(){});var v=l&255,y=l>>>8&255,h=l>>>16&255,m=v==y&&y==h?0:1+p.hueGroup(g.rgb2hsl(v,y,h).h,this._numGroups),_=this._stats[m],w=this._minCols;_.num++,!(_.num>w)&&(_.num==w&&this._groupsFull++,_.num<=w&&this._stats[m].cols.push(l))},f.prototype.injectIntoDictionary=function(l){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(y){l[y]?l[y]++:l[y]=1})},f.prototype.injectIntoArray=function(l){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(y){l.indexOf(y)==-1&&l.push(y)})},f}();o.HueStatistics=u},function(s,o,c){"use strict";var g=c(22),p=c(24);function d(m){for(var _=[],w=0;w<m;w++)_[w]=0;return _}function u(m,_,w,E){for(var T=new Array(m),A=0;A<m;A++){T[A]=new Array(_);for(var C=0;C<_;C++){T[A][C]=new Array(w);for(var R=0;R<w;R++){T[A][C][R]=new Array(E);for(var D=0;D<E;D++)T[A][C][R][D]=0}}}return T}function f(m,_,w){for(var E=new Array(m),T=0;T<m;T++){E[T]=new Array(_);for(var A=0;A<_;A++){E[T][A]=new Array(w);for(var C=0;C<w;C++)E[T][A][C]=0}}return E}function l(m,_,w,E,T){for(var A=0;A<_;A++){m[A]=[];for(var C=0;C<w;C++){m[A][C]=[];for(var R=0;R<E;R++)m[A][C][R]=T}}}function v(m,_,w){for(var E=0;E<_;E++)m[E]=w}var y=function(){function m(){}return m}();o.WuColorCube=y;var h=function(){function m(_,w,E){w===void 0&&(w=256),E===void 0&&(E=5),this._distance=_,this._setQuality(E),this._initialize(w)}return m.prototype.sample=function(_){for(var w=_.getPointArray(),E=0,T=w.length;E<T;E++)this._addColor(w[E]);this._pixels=this._pixels.concat(w)},m.prototype.quantize=function(){this._preparePalette();for(var _=new g.Palette,w=0;w<this._colors;w++)if(this._sums[w]>0){var E=this._sums[w],T=this._reds[w]/E,A=this._greens[w]/E,C=this._blues[w]/E,R=this._alphas[w]/E,D=p.Point.createByRGBA(T|0,A|0,C|0,R|0);_.add(D)}return _.sort(),_},m.prototype._preparePalette=function(){this._calculateMoments();for(var _=0,w=d(this._colors),E=1;E<this._colors;++E){this._cut(this._cubes[_],this._cubes[E])?(w[_]=this._cubes[_].volume>1?this._calculateVariance(this._cubes[_]):0,w[E]=this._cubes[E].volume>1?this._calculateVariance(this._cubes[E]):0):(w[_]=0,E--),_=0;for(var T=w[0],A=1;A<=E;++A)w[A]>T&&(T=w[A],_=A);if(T<=0){this._colors=E+1;break}}for(var C=[],R=[],D=[],O=[],k=0;k<this._colors;++k){var H=m._volume(this._cubes[k],this._weights);H>0?(C[k]=m._volume(this._cubes[k],this._momentsRed)/H|0,R[k]=m._volume(this._cubes[k],this._momentsGreen)/H|0,D[k]=m._volume(this._cubes[k],this._momentsBlue)/H|0,O[k]=m._volume(this._cubes[k],this._momentsAlpha)/H|0):(C[k]=0,R[k]=0,D[k]=0,O[k]=0)}this._reds=d(this._colors+1),this._greens=d(this._colors+1),this._blues=d(this._colors+1),this._alphas=d(this._colors+1),this._sums=d(this._colors+1);for(var A=0,B=this._pixels.length;A<B;A++){for(var Z=this._pixels[A],V=-1,j=V,z=Number.MAX_VALUE,W=0;W<this._colors;W++){var Q=C[W],se=R[W],le=D[W],fe=O[W],$=this._distance.calculateRaw(Q,se,le,fe,Z.r,Z.g,Z.b,Z.a);$<z&&(z=$,j=W)}this._reds[j]+=Z.r,this._greens[j]+=Z.g,this._blues[j]+=Z.b,this._alphas[j]+=Z.a,this._sums[j]++}},m.prototype._addColor=function(_){var w=8-this._significantBitsPerChannel,E=(_.r>>w)+1,T=(_.g>>w)+1,A=(_.b>>w)+1,C=(_.a>>w)+1;this._weights[C][E][T][A]++,this._momentsRed[C][E][T][A]+=_.r,this._momentsGreen[C][E][T][A]+=_.g,this._momentsBlue[C][E][T][A]+=_.b,this._momentsAlpha[C][E][T][A]+=_.a,this._moments[C][E][T][A]+=this._table[_.r]+this._table[_.g]+this._table[_.b]+this._table[_.a]},m.prototype._calculateMoments=function(){for(var _=[],w=[],E=[],T=[],A=[],C=[],R=f(this._sideSize,this._sideSize,this._sideSize),D=f(this._sideSize,this._sideSize,this._sideSize),O=f(this._sideSize,this._sideSize,this._sideSize),k=f(this._sideSize,this._sideSize,this._sideSize),H=f(this._sideSize,this._sideSize,this._sideSize),B=f(this._sideSize,this._sideSize,this._sideSize),Z=1;Z<=this._alphaMaxSideIndex;++Z){l(R,this._sideSize,this._sideSize,this._sideSize,0),l(D,this._sideSize,this._sideSize,this._sideSize,0),l(O,this._sideSize,this._sideSize,this._sideSize,0),l(k,this._sideSize,this._sideSize,this._sideSize,0),l(H,this._sideSize,this._sideSize,this._sideSize,0),l(B,this._sideSize,this._sideSize,this._sideSize,0);for(var V=1;V<=this._maxSideIndex;++V){v(_,this._sideSize,0),v(w,this._sideSize,0),v(E,this._sideSize,0),v(T,this._sideSize,0),v(A,this._sideSize,0),v(C,this._sideSize,0);for(var j=1;j<=this._maxSideIndex;++j)for(var z=0,W=0,Q=0,se=0,le=0,fe=0,$=1;$<=this._maxSideIndex;++$)z+=this._weights[Z][V][j][$],W+=this._momentsRed[Z][V][j][$],Q+=this._momentsGreen[Z][V][j][$],se+=this._momentsBlue[Z][V][j][$],le+=this._momentsAlpha[Z][V][j][$],fe+=this._moments[Z][V][j][$],_[$]+=z,w[$]+=W,E[$]+=Q,T[$]+=se,A[$]+=le,C[$]+=fe,R[V][j][$]=R[V-1][j][$]+_[$],D[V][j][$]=D[V-1][j][$]+w[$],O[V][j][$]=O[V-1][j][$]+E[$],k[V][j][$]=k[V-1][j][$]+T[$],H[V][j][$]=H[V-1][j][$]+A[$],B[V][j][$]=B[V-1][j][$]+C[$],this._weights[Z][V][j][$]=this._weights[Z-1][V][j][$]+R[V][j][$],this._momentsRed[Z][V][j][$]=this._momentsRed[Z-1][V][j][$]+D[V][j][$],this._momentsGreen[Z][V][j][$]=this._momentsGreen[Z-1][V][j][$]+O[V][j][$],this._momentsBlue[Z][V][j][$]=this._momentsBlue[Z-1][V][j][$]+k[V][j][$],this._momentsAlpha[Z][V][j][$]=this._momentsAlpha[Z-1][V][j][$]+H[V][j][$],this._moments[Z][V][j][$]=this._moments[Z-1][V][j][$]+B[V][j][$]}}},m._volumeFloat=function(_,w){return w[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMaximum]-w[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]-w[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+w[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]-w[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+w[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+w[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-w[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(w[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]-w[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]-w[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+w[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-w[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+w[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]+w[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-w[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum])},m._volume=function(_,w){return m._volumeFloat(_,w)|0},m._top=function(_,w,E,T){var A;switch(w){case m.alpha:A=T[E][_.redMaximum][_.greenMaximum][_.blueMaximum]-T[E][_.redMaximum][_.greenMinimum][_.blueMaximum]-T[E][_.redMinimum][_.greenMaximum][_.blueMaximum]+T[E][_.redMinimum][_.greenMinimum][_.blueMaximum]-(T[E][_.redMaximum][_.greenMaximum][_.blueMinimum]-T[E][_.redMaximum][_.greenMinimum][_.blueMinimum]-T[E][_.redMinimum][_.greenMaximum][_.blueMinimum]+T[E][_.redMinimum][_.greenMinimum][_.blueMinimum]);break;case m.red:A=T[_.alphaMaximum][E][_.greenMaximum][_.blueMaximum]-T[_.alphaMaximum][E][_.greenMinimum][_.blueMaximum]-T[_.alphaMinimum][E][_.greenMaximum][_.blueMaximum]+T[_.alphaMinimum][E][_.greenMinimum][_.blueMaximum]-(T[_.alphaMaximum][E][_.greenMaximum][_.blueMinimum]-T[_.alphaMaximum][E][_.greenMinimum][_.blueMinimum]-T[_.alphaMinimum][E][_.greenMaximum][_.blueMinimum]+T[_.alphaMinimum][E][_.greenMinimum][_.blueMinimum]);break;case m.green:A=T[_.alphaMaximum][_.redMaximum][E][_.blueMaximum]-T[_.alphaMaximum][_.redMinimum][E][_.blueMaximum]-T[_.alphaMinimum][_.redMaximum][E][_.blueMaximum]+T[_.alphaMinimum][_.redMinimum][E][_.blueMaximum]-(T[_.alphaMaximum][_.redMaximum][E][_.blueMinimum]-T[_.alphaMaximum][_.redMinimum][E][_.blueMinimum]-T[_.alphaMinimum][_.redMaximum][E][_.blueMinimum]+T[_.alphaMinimum][_.redMinimum][E][_.blueMinimum]);break;case m.blue:A=T[_.alphaMaximum][_.redMaximum][_.greenMaximum][E]-T[_.alphaMaximum][_.redMaximum][_.greenMinimum][E]-T[_.alphaMaximum][_.redMinimum][_.greenMaximum][E]+T[_.alphaMaximum][_.redMinimum][_.greenMinimum][E]-(T[_.alphaMinimum][_.redMaximum][_.greenMaximum][E]-T[_.alphaMinimum][_.redMaximum][_.greenMinimum][E]-T[_.alphaMinimum][_.redMinimum][_.greenMaximum][E]+T[_.alphaMinimum][_.redMinimum][_.greenMinimum][E]);break;default:throw new Error("impossible")}return A|0},m._bottom=function(_,w,E){switch(w){case m.alpha:return-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case m.red:return-E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case m.green:return-E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case m.blue:return-E[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-(-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);default:return 0}},m.prototype._calculateVariance=function(_){var w=m._volume(_,this._momentsRed),E=m._volume(_,this._momentsGreen),T=m._volume(_,this._momentsBlue),A=m._volume(_,this._momentsAlpha),C=m._volumeFloat(_,this._moments),R=m._volume(_,this._weights),D=w*w+E*E+T*T+A*A;return C-D/R},m.prototype._maximize=function(_,w,E,T,A,C,R,D,O){for(var k=m._bottom(_,w,this._momentsRed)|0,H=m._bottom(_,w,this._momentsGreen)|0,B=m._bottom(_,w,this._momentsBlue)|0,Z=m._bottom(_,w,this._momentsAlpha)|0,V=m._bottom(_,w,this._weights)|0,j=0,z=-1,W=E;W<T;++W){var Q=k+m._top(_,w,W,this._momentsRed),se=H+m._top(_,w,W,this._momentsGreen),le=B+m._top(_,w,W,this._momentsBlue),fe=Z+m._top(_,w,W,this._momentsAlpha),$=V+m._top(_,w,W,this._weights);if($!=0){var ae=Q*Q+se*se+le*le+fe*fe,oe=ae/$;Q=A-Q,se=C-se,le=R-le,fe=D-fe,$=O-$,$!=0&&(ae=Q*Q+se*se+le*le+fe*fe,oe+=ae/$,oe>j&&(j=oe,z=W))}}return{max:j,position:z}},m.prototype._cut=function(_,w){var E,T=m._volume(_,this._momentsRed),A=m._volume(_,this._momentsGreen),C=m._volume(_,this._momentsBlue),R=m._volume(_,this._momentsAlpha),D=m._volume(_,this._weights),O=this._maximize(_,m.red,_.redMinimum+1,_.redMaximum,T,A,C,R,D),k=this._maximize(_,m.green,_.greenMinimum+1,_.greenMaximum,T,A,C,R,D),H=this._maximize(_,m.blue,_.blueMinimum+1,_.blueMaximum,T,A,C,R,D),B=this._maximize(_,m.alpha,_.alphaMinimum+1,_.alphaMaximum,T,A,C,R,D);if(B.max>=O.max&&B.max>=k.max&&B.max>=H.max){if(E=m.alpha,B.position<0)return!1}else O.max>=B.max&&O.max>=k.max&&O.max>=H.max?E=m.red:k.max>=B.max&&k.max>=O.max&&k.max>=H.max?E=m.green:E=m.blue;switch(w.redMaximum=_.redMaximum,w.greenMaximum=_.greenMaximum,w.blueMaximum=_.blueMaximum,w.alphaMaximum=_.alphaMaximum,E){case m.red:w.redMinimum=_.redMaximum=O.position,w.greenMinimum=_.greenMinimum,w.blueMinimum=_.blueMinimum,w.alphaMinimum=_.alphaMinimum;break;case m.green:w.greenMinimum=_.greenMaximum=k.position,w.redMinimum=_.redMinimum,w.blueMinimum=_.blueMinimum,w.alphaMinimum=_.alphaMinimum;break;case m.blue:w.blueMinimum=_.blueMaximum=H.position,w.redMinimum=_.redMinimum,w.greenMinimum=_.greenMinimum,w.alphaMinimum=_.alphaMinimum;break;case m.alpha:w.alphaMinimum=_.alphaMaximum=B.position,w.blueMinimum=_.blueMinimum,w.redMinimum=_.redMinimum,w.greenMinimum=_.greenMinimum;break}return _.volume=(_.redMaximum-_.redMinimum)*(_.greenMaximum-_.greenMinimum)*(_.blueMaximum-_.blueMinimum)*(_.alphaMaximum-_.alphaMinimum),w.volume=(w.redMaximum-w.redMinimum)*(w.greenMaximum-w.greenMinimum)*(w.blueMaximum-w.blueMinimum)*(w.alphaMaximum-w.alphaMinimum),!0},m.prototype._initialize=function(_){this._colors=_,this._cubes=[];for(var w=0;w<_;w++)this._cubes[w]=new y;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var E=0;E<256;++E)this._table[E]=E*E;this._pixels=[]},m.prototype._setQuality=function(_){_===void 0&&(_=5),this._significantBitsPerChannel=_,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},m.alpha=3,m.red=2,m.green=1,m.blue=0,m}();o.WuQuant=h},function(s,o,c){"use strict";var g=c(31);o.NearestColor=g.NearestColor;var p=c(32);o.ErrorDiffusionArray=p.ErrorDiffusionArray,o.ErrorDiffusionArrayKernel=p.ErrorDiffusionArrayKernel;var d=c(33);o.ErrorDiffusionRiemersma=d.ErrorDiffusionRiemersma},function(s,o){"use strict";var c=function(){function g(p){this._distance=p}return g.prototype.quantize=function(p,d){for(var u=p.getPointArray(),f=p.getWidth(),l=p.getHeight(),v=0;v<l;v++)for(var y=0,h=v*f;y<f;y++,h++){var m=u[h];m.from(d.getNearestColor(this._distance,m))}return p},g}();o.NearestColor=c},function(s,o,c){"use strict";var g=c(24),p=c(6);(function(f){f[f.FloydSteinberg=0]="FloydSteinberg",f[f.FalseFloydSteinberg=1]="FalseFloydSteinberg",f[f.Stucki=2]="Stucki",f[f.Atkinson=3]="Atkinson",f[f.Jarvis=4]="Jarvis",f[f.Burkes=5]="Burkes",f[f.Sierra=6]="Sierra",f[f.TwoSierra=7]="TwoSierra",f[f.SierraLite=8]="SierraLite"})(o.ErrorDiffusionArrayKernel||(o.ErrorDiffusionArrayKernel={}));var d=o.ErrorDiffusionArrayKernel,u=function(){function f(l,v,y,h,m){y===void 0&&(y=!0),h===void 0&&(h=0),m===void 0&&(m=!1),this._setKernel(v),this._distance=l,this._minColorDistance=h,this._serpentine=y,this._calculateErrorLikeGIMP=m}return f.prototype.quantize=function(l,v){for(var y=l.getPointArray(),h=new g.Point,m=l.getWidth(),_=l.getHeight(),w=[],E=1,T=1,A=0;A<this._kernel.length;A++){var C=this._kernel[A][2]+1;T<C&&(T=C)}for(var A=0;A<T;A++)this._fillErrorLine(w[A]=[],m);for(var R=0;R<_;R++){this._serpentine&&(E=E*-1);var D=R*m,O=E==1?0:m-1,k=E==1?m:-1;this._fillErrorLine(w[0],m),w.push(w.shift());for(var H=w[0],B=O,Z=D+O;B!==k;B+=E,Z+=E){var V=y[Z],j=H[B];h.from(V);var z=g.Point.createByRGBA(p.inRange0to255Rounded(V.r+j[0]),p.inRange0to255Rounded(V.g+j[1]),p.inRange0to255Rounded(V.b+j[2]),p.inRange0to255Rounded(V.a+j[3])),W=v.getNearestColor(this._distance,z);if(V.from(W),this._minColorDistance){var Q=this._distance.calculateNormalized(V,W);if(Q<this._minColorDistance)continue}var se=void 0,le=void 0,fe=void 0,$=void 0;this._calculateErrorLikeGIMP?(se=z.r-W.r,le=z.g-W.g,fe=z.b-W.b,$=z.a-W.a):(se=h.r-W.r,le=h.g-W.g,fe=h.b-W.b,$=h.a-W.a);for(var ae=E==1?0:this._kernel.length-1,oe=E==1?this._kernel.length:-1,A=ae;A!==oe;A+=E){var ce=this._kernel[A][1]*E,he=this._kernel[A][2];if(ce+B>=0&&ce+B<m&&he+R>=0&&he+R<_){var we=this._kernel[A][0],xe=w[he][ce+B];xe[0]=xe[0]+se*we,xe[1]=xe[1]+le*we,xe[2]=xe[2]+fe*we,xe[3]=xe[3]+$*we}}}}return l},f.prototype._fillErrorLine=function(l,v){l.length>v&&(l.length=v);for(var y=l.length,h=0;h<y;h++){var m=l[h];m[0]=m[1]=m[2]=m[3]=0}for(var h=y;h<v;h++)l[h]=[0,0,0,0]},f.prototype._setKernel=function(l){switch(l){case d.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case d.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case d.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case d.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case d.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case d.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case d.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case d.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case d.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+l)}},f}();o.ErrorDiffusionArray=u},function(s,o,c){"use strict";var g=c(34),p=c(24),d=c(6),u=function(){function f(l,v,y){v===void 0&&(v=16),y===void 0&&(y=1),this._distance=l,this._errorPropagation=y,this._errorQueueSize=v,this._max=this._errorQueueSize,this._createWeights()}return f.prototype.quantize=function(l,v){for(var y=this,h=new g.HilbertCurveBase,m=l.getPointArray(),_=l.getWidth(),w=l.getHeight(),E=[],T=0,A=0;A<this._errorQueueSize;A++)E[A]={r:0,g:0,b:0,a:0};return h.walk(_,w,function(C,R){for(var D=m[C+R*_],O=D.r,k=D.g,H=D.b,B=D.a,Z=0;Z<y._errorQueueSize;Z++){var V=y._weights[Z],j=E[(Z+T)%y._errorQueueSize];O+=j.r*V,k+=j.g*V,H+=j.b*V,B+=j.a*V}var z=p.Point.createByRGBA(d.inRange0to255Rounded(O),d.inRange0to255Rounded(k),d.inRange0to255Rounded(H),d.inRange0to255Rounded(B)),W=v.getNearestColor(y._distance,z);T=(T+1)%y._errorQueueSize;var Q=(T+y._errorQueueSize-1)%y._errorQueueSize;E[Q].r=D.r-W.r,E[Q].g=D.g-W.g,E[Q].b=D.b-W.b,E[Q].a=D.a-W.a,D.from(W)}),l},f.prototype._createWeights=function(){this._weights=[];for(var l=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),v=0,y=1;v<this._errorQueueSize;v++)this._weights[v]=(y+.5|0)/this._max*this._errorPropagation,y*=l},f}();o.ErrorDiffusionRiemersma=u},function(s,o){"use strict";var c;(function(p){p[p.NONE=0]="NONE",p[p.UP=1]="UP",p[p.LEFT=2]="LEFT",p[p.RIGHT=3]="RIGHT",p[p.DOWN=4]="DOWN"})(c||(c={}));var g=function(){function p(){}return p.prototype.walk=function(d,u,f){this._x=0,this._y=0,this._d=0,this._width=d,this._height=u,this._callback=f;var l=Math.max(d,u);this._level=Math.log(l)/Math.log(2)+1|0,this._walkHilbert(c.UP),this._visit(c.NONE)},p.prototype._walkHilbert=function(d){if(!(this._level<1)){switch(this._level--,d){case c.LEFT:this._walkHilbert(c.UP),this._visit(c.RIGHT),this._walkHilbert(c.LEFT),this._visit(c.DOWN),this._walkHilbert(c.LEFT),this._visit(c.LEFT),this._walkHilbert(c.DOWN);break;case c.RIGHT:this._walkHilbert(c.DOWN),this._visit(c.LEFT),this._walkHilbert(c.RIGHT),this._visit(c.UP),this._walkHilbert(c.RIGHT),this._visit(c.RIGHT),this._walkHilbert(c.UP);break;case c.UP:this._walkHilbert(c.LEFT),this._visit(c.DOWN),this._walkHilbert(c.UP),this._visit(c.RIGHT),this._walkHilbert(c.UP),this._visit(c.UP),this._walkHilbert(c.RIGHT);break;case c.DOWN:this._walkHilbert(c.RIGHT),this._visit(c.UP),this._walkHilbert(c.DOWN),this._visit(c.LEFT),this._walkHilbert(c.DOWN),this._visit(c.DOWN),this._walkHilbert(c.LEFT);break;default:break}this._level++}},p.prototype._visit=function(d){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),d){case c.LEFT:this._x--;break;case c.RIGHT:this._x++;break;case c.UP:this._y--;break;case c.DOWN:this._y++;break}},p}();o.HilbertCurveBase=g},function(s,o,c){"use strict";var g=c(36);o.SSIM=g.SSIM},function(s,o,c){"use strict";var g=c(2),p=.01,d=.03,u=function(){function f(){}return f.prototype.compare=function(l,v){if(l.getHeight()!==v.getHeight()||l.getWidth()!==v.getWidth())throw new Error("Images have different sizes!");var y=8,h=(1<<y)-1,m=Math.pow(p*h,2),_=Math.pow(d*h,2),w=0,E=0;return this._iterate(l,v,function(T,A,C,R){for(var D=0,O=0,k=0,H=0;H<T.length;H++)O+=Math.pow(T[H]-C,2),k+=Math.pow(A[H]-R,2),D+=(T[H]-C)*(A[H]-R);var B=T.length-1;O/=B,k/=B,D/=B;var Z=(2*C*R+m)*(2*D+_),V=(Math.pow(C,2)+Math.pow(R,2)+m)*(O+k+_),j=Z/V;E+=j,w++}),E/w},f.prototype._iterate=function(l,v,y){for(var h=8,m=l.getWidth(),_=l.getHeight(),w=0;w<_;w+=h)for(var E=0;E<m;E+=h){var T=Math.min(h,m-E),A=Math.min(h,_-w),C=this._calculateLumaValuesForWindow(l,E,w,T,A),R=this._calculateLumaValuesForWindow(v,E,w,T,A),D=this._calculateAverageLuma(C),O=this._calculateAverageLuma(R);y(C,R,D,O)}},f.prototype._calculateLumaValuesForWindow=function(l,v,y,h,m){for(var _=l.getPointArray(),w=[],E=0,T=y;T<y+m;T++)for(var A=T*l.getWidth(),C=v;C<v+h;C++){var R=_[A+C];w[E]=R.r*g.Y.RED+R.g*g.Y.GREEN+R.b*g.Y.BLUE,E++}return w},f.prototype._calculateAverageLuma=function(l){for(var v=0,y=0;y<l.length;y++)v+=l[y];return v/l.length},f}();o.SSIM=u},function(s,o,c){"use strict";var g=c(6);o.arithmetic=g;var p=c(28);o.HueStatistics=p.HueStatistics;var d=c(22);o.Palette=d.Palette;var u=c(24);o.Point=u.Point;var f=c(23);o.PointContainer=f.PointContainer}])})},{}],75:[function(r,i,a){typeof Object.create=="function"?i.exports=function(o,c){c&&(o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(o,c){if(c){o.super_=c;var g=function(){};g.prototype=c.prototype,o.prototype=new g,o.prototype.constructor=o}}},{}],76:[function(r,i,a){i.exports=function(c){return c!=null&&(s(c)||o(c)||!!c._isBuffer)};function s(c){return!!c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)}function o(c){return typeof c.readFloatLE=="function"&&typeof c.slice=="function"&&s(c.slice(0,0))}},{}],77:[function(r,i,a){"use strict";var s=Function.prototype.toString,o=/^\s*class\b/,c=function(v){try{var y=s.call(v);return o.test(y)}catch{return!1}},g=function(v){try{return c(v)?!1:(s.call(v),!0)}catch{return!1}},p=Object.prototype.toString,d="[object Function]",u="[object GeneratorFunction]",f=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";i.exports=function(v){if(!v||typeof v!="function"&&typeof v!="object")return!1;if(typeof v=="function"&&!v.prototype)return!0;if(f)return g(v);if(c(v))return!1;var y=p.call(v);return y===d||y===u}},{}],78:[function(r,i,a){i.exports=o;var s=Object.prototype.toString;function o(c){var g=s.call(c);return g==="[object Function]"||typeof c=="function"&&g!=="[object RegExp]"||typeof zt!="undefined"&&(c===zt.setTimeout||c===zt.alert||c===zt.confirm||c===zt.prompt)}},{}],79:[function(r,i,a){var s={}.toString;i.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],80:[function(r,i,a){var s=r("./lib/encoder"),o=r("./lib/decoder");i.exports={encode:s,decode:o}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(r,i,a){(function(s){var o=function(){"use strict";var p=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),d=4017,u=799,f=3406,l=2276,v=1567,y=3784,h=5793,m=2896;function _(){}function w(O,k){for(var H=0,B=[],Z,V,j=16;j>0&&!O[j-1];)j--;B.push({children:[],index:0});var z=B[0],W;for(Z=0;Z<j;Z++){for(V=0;V<O[Z];V++){for(z=B.pop(),z.children[z.index]=k[H];z.index>0;){if(B.length===0)throw new Error("Could not recreate Huffman Table");z=B.pop()}for(z.index++,B.push(z);B.length<=Z;)B.push(W={children:[],index:0}),z.children[z.index]=W.children,z=W;H++}Z+1<j&&(B.push(W={children:[],index:0}),z.children[z.index]=W.children,z=W)}return B[0].children}function E(O,k,H,B,Z,V,j,z,W,Q){var se=H.precision,le=H.samplesPerLine,fe=H.scanLines,$=H.mcusPerLine,ae=H.progressive,oe=H.maxH,ce=H.maxV,he=k,we=0,xe=0;function Oe(){if(xe>0)return xe--,we>>xe&1;if(we=O[k++],we==255){var X=O[k++];if(X)throw new Error("unexpected marker: "+(we<<8|X).toString(16))}return xe=7,we>>>7}function ge(X){for(var Ae=X,ke;(ke=Oe())!==null;){if(Ae=Ae[ke],typeof Ae=="number")return Ae;if(typeof Ae!="object")throw new Error("invalid huffman sequence")}return null}function De(X){for(var Ae=0;X>0;){var ke=Oe();if(ke===null)return;Ae=Ae<<1|ke,X--}return Ae}function pe(X){var Ae=De(X);return Ae>=1<<X-1?Ae:Ae+(-1<<X)+1}function de(X,Ae){var ke=ge(X.huffmanTableDC),Qe=ke===0?0:pe(ke);Ae[0]=X.pred+=Qe;for(var Re=1;Re<64;){var He=ge(X.huffmanTableAC),ue=He&15,Ke=He>>4;if(ue===0){if(Ke<15)break;Re+=16;continue}Re+=Ke;var pt=p[Re];Ae[pt]=pe(ue),Re++}}function ie(X,Ae){var ke=ge(X.huffmanTableDC),Qe=ke===0?0:pe(ke)<<W;Ae[0]=X.pred+=Qe}function re(X,Ae){Ae[0]|=Oe()<<W}var q=0;function te(X,Ae){if(q>0){q--;return}for(var ke=V,Qe=j;ke<=Qe;){var Re=ge(X.huffmanTableAC),He=Re&15,ue=Re>>4;if(He===0){if(ue<15){q=De(ue)+(1<<ue)-1;break}ke+=16;continue}ke+=ue;var Ke=p[ke];Ae[Ke]=pe(He)*(1<<W),ke++}}var G=0,L;function I(X,Ae){for(var ke=V,Qe=j,Re=0;ke<=Qe;){var He=p[ke],ue=Ae[He]<0?-1:1;switch(G){case 0:var Ke=ge(X.huffmanTableAC),pt=Ke&15,Re=Ke>>4;if(pt===0)Re<15?(q=De(Re)+(1<<Re),G=4):(Re=16,G=1);else{if(pt!==1)throw new Error("invalid ACn encoding");L=pe(pt),G=Re?2:3}continue;case 1:case 2:Ae[He]?Ae[He]+=(Oe()<<W)*ue:(Re--,Re===0&&(G=G==2?3:0));break;case 3:Ae[He]?Ae[He]+=(Oe()<<W)*ue:(Ae[He]=L<<W,G=0);break;case 4:Ae[He]&&(Ae[He]+=(Oe()<<W)*ue);break}ke++}G===4&&(q--,q===0&&(G=0))}function U(X,Ae,ke,Qe,Re){var He=ke/$|0,ue=ke%$,Ke=He*X.v+Qe,pt=ue*X.h+Re;X.blocks[Ke]===void 0&&Q.tolerantDecoding||Ae(X,X.blocks[Ke][pt])}function J(X,Ae,ke){var Qe=ke/X.blocksPerLine|0,Re=ke%X.blocksPerLine;X.blocks[Qe]===void 0&&Q.tolerantDecoding||Ae(X,X.blocks[Qe][Re])}var ye=B.length,Ie,be,Le,ze,qe,Ye;ae?V===0?Ye=z===0?ie:re:Ye=z===0?te:I:Ye=de;var Me=0,Ge,et;ye==1?et=B[0].blocksPerLine*B[0].blocksPerColumn:et=$*H.mcusPerColumn,Z||(Z=et);for(var ut,ct;Me<et;){for(be=0;be<ye;be++)B[be].pred=0;if(q=0,ye==1)for(Ie=B[0],qe=0;qe<Z;qe++)J(Ie,Ye,Me),Me++;else for(qe=0;qe<Z;qe++){for(be=0;be<ye;be++)for(Ie=B[be],ut=Ie.h,ct=Ie.v,Le=0;Le<ct;Le++)for(ze=0;ze<ut;ze++)U(Ie,Ye,Me,Le,ze);if(Me++,Me===et)break}if(Me===et)do{if(O[k]===255&&O[k+1]!==0)break;k+=1}while(k<O.length-2);if(xe=0,Ge=O[k]<<8|O[k+1],Ge<65280)throw new Error("marker was not found");if(Ge>=65488&&Ge<=65495)k+=2;else break}return k-he}function T(O,k){var H=[],B=k.blocksPerLine,Z=k.blocksPerColumn,V=B<<3,j=new Int32Array(64),z=new Uint8Array(64);function W(he,we,xe){var Oe=k.quantizationTable,ge,De,pe,de,ie,re,q,te,G,L=xe,I;for(I=0;I<64;I++)L[I]=he[I]*Oe[I];for(I=0;I<8;++I){var U=8*I;if(L[1+U]==0&&L[2+U]==0&&L[3+U]==0&&L[4+U]==0&&L[5+U]==0&&L[6+U]==0&&L[7+U]==0){G=h*L[0+U]+512>>10,L[0+U]=G,L[1+U]=G,L[2+U]=G,L[3+U]=G,L[4+U]=G,L[5+U]=G,L[6+U]=G,L[7+U]=G;continue}ge=h*L[0+U]+128>>8,De=h*L[4+U]+128>>8,pe=L[2+U],de=L[6+U],ie=m*(L[1+U]-L[7+U])+128>>8,te=m*(L[1+U]+L[7+U])+128>>8,re=L[3+U]<<4,q=L[5+U]<<4,G=ge-De+1>>1,ge=ge+De+1>>1,De=G,G=pe*y+de*v+128>>8,pe=pe*v-de*y+128>>8,de=G,G=ie-q+1>>1,ie=ie+q+1>>1,q=G,G=te+re+1>>1,re=te-re+1>>1,te=G,G=ge-de+1>>1,ge=ge+de+1>>1,de=G,G=De-pe+1>>1,De=De+pe+1>>1,pe=G,G=ie*l+te*f+2048>>12,ie=ie*f-te*l+2048>>12,te=G,G=re*u+q*d+2048>>12,re=re*d-q*u+2048>>12,q=G,L[0+U]=ge+te,L[7+U]=ge-te,L[1+U]=De+q,L[6+U]=De-q,L[2+U]=pe+re,L[5+U]=pe-re,L[3+U]=de+ie,L[4+U]=de-ie}for(I=0;I<8;++I){var J=I;if(L[1*8+J]==0&&L[2*8+J]==0&&L[3*8+J]==0&&L[4*8+J]==0&&L[5*8+J]==0&&L[6*8+J]==0&&L[7*8+J]==0){G=h*xe[I+0]+8192>>14,L[0*8+J]=G,L[1*8+J]=G,L[2*8+J]=G,L[3*8+J]=G,L[4*8+J]=G,L[5*8+J]=G,L[6*8+J]=G,L[7*8+J]=G;continue}ge=h*L[0*8+J]+2048>>12,De=h*L[4*8+J]+2048>>12,pe=L[2*8+J],de=L[6*8+J],ie=m*(L[1*8+J]-L[7*8+J])+2048>>12,te=m*(L[1*8+J]+L[7*8+J])+2048>>12,re=L[3*8+J],q=L[5*8+J],G=ge-De+1>>1,ge=ge+De+1>>1,De=G,G=pe*y+de*v+2048>>12,pe=pe*v-de*y+2048>>12,de=G,G=ie-q+1>>1,ie=ie+q+1>>1,q=G,G=te+re+1>>1,re=te-re+1>>1,te=G,G=ge-de+1>>1,ge=ge+de+1>>1,de=G,G=De-pe+1>>1,De=De+pe+1>>1,pe=G,G=ie*l+te*f+2048>>12,ie=ie*f-te*l+2048>>12,te=G,G=re*u+q*d+2048>>12,re=re*d-q*u+2048>>12,q=G,L[0*8+J]=ge+te,L[7*8+J]=ge-te,L[1*8+J]=De+q,L[6*8+J]=De-q,L[2*8+J]=pe+re,L[5*8+J]=pe-re,L[3*8+J]=de+ie,L[4*8+J]=de-ie}for(I=0;I<64;++I){var ye=128+(L[I]+8>>4);we[I]=ye<0?0:ye>255?255:ye}}D(V*Z*8);for(var Q,se,le=0;le<Z;le++){var fe=le<<3;for(Q=0;Q<8;Q++)H.push(new Uint8Array(V));for(var $=0;$<B;$++){W(k.blocks[le][$],z,j);var ae=0,oe=$<<3;for(se=0;se<8;se++){var ce=H[fe+se];for(Q=0;Q<8;Q++)ce[oe+Q]=z[ae++]}}}return H}function A(O){return O<0?0:O>255?255:O}_.prototype={load:function(k){var H=new XMLHttpRequest;H.open("GET",k,!0),H.responseType="arraybuffer",H.onload=function(){var B=new Uint8Array(H.response||H.mozResponseArrayBuffer);this.parse(B),this.onload&&this.onload()}.bind(this),H.send(null)},parse:function(k){var H=this.opts.maxResolutionInMP*1e3*1e3,B=0,Z=k.length;function V(){var ue=k[B]<<8|k[B+1];return B+=2,ue}function j(){var ue=V(),Ke=k.subarray(B,B+ue-2);return B+=Ke.length,Ke}function z(ue){var Ke=0,pt=0,P,Pe;for(Pe in ue.components)ue.components.hasOwnProperty(Pe)&&(P=ue.components[Pe],Ke<P.h&&(Ke=P.h),pt<P.v&&(pt=P.v));var Ue=Math.ceil(ue.samplesPerLine/8/Ke),Y=Math.ceil(ue.scanLines/8/pt);for(Pe in ue.components)if(ue.components.hasOwnProperty(Pe)){P=ue.components[Pe];var Se=Math.ceil(Math.ceil(ue.samplesPerLine/8)*P.h/Ke),Ve=Math.ceil(Math.ceil(ue.scanLines/8)*P.v/pt),lt=Ue*P.h,ve=Y*P.v,Be=ve*lt,je=[];D(Be*256);for(var tt=0;tt<ve;tt++){for(var it=[],gt=0;gt<lt;gt++)it.push(new Int32Array(64));je.push(it)}P.blocksPerLine=Se,P.blocksPerColumn=Ve,P.blocks=je}ue.maxH=Ke,ue.maxV=pt,ue.mcusPerLine=Ue,ue.mcusPerColumn=Y}var W=null,Q=null,se=null,le,fe,$=[],ae=[],oe=[],ce=[],he=V();if(this.comments=[],he!=65496)throw new Error("SOI not found");for(he=V();he!=65497;){var we,xe,Oe;switch(he){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ge=j();if(he===65534){var De=String.fromCharCode.apply(null,ge);this.comments.push(De)}he===65504&&ge[0]===74&&ge[1]===70&&ge[2]===73&&ge[3]===70&&ge[4]===0&&(W={version:{major:ge[5],minor:ge[6]},densityUnits:ge[7],xDensity:ge[8]<<8|ge[9],yDensity:ge[10]<<8|ge[11],thumbWidth:ge[12],thumbHeight:ge[13],thumbData:ge.subarray(14,14+3*ge[12]*ge[13])}),he===65505&&ge[0]===69&&ge[1]===120&&ge[2]===105&&ge[3]===102&&ge[4]===0&&(this.exifBuffer=ge.subarray(5,ge.length)),he===65518&&ge[0]===65&&ge[1]===100&&ge[2]===111&&ge[3]===98&&ge[4]===101&&ge[5]===0&&(Q={version:ge[6],flags0:ge[7]<<8|ge[8],flags1:ge[9]<<8|ge[10],transformCode:ge[11]});break;case 65499:for(var pe=V(),de=pe+B-2;B<de;){var ie=k[B++];D(64*4);var re=new Int32Array(64);if(ie>>4==0)for(xe=0;xe<64;xe++){var q=p[xe];re[q]=k[B++]}else if(ie>>4==1)for(xe=0;xe<64;xe++){var q=p[xe];re[q]=V()}else throw new Error("DQT: invalid table spec");$[ie&15]=re}break;case 65472:case 65473:case 65474:V(),le={},le.extended=he===65473,le.progressive=he===65474,le.precision=k[B++],le.scanLines=V(),le.samplesPerLine=V(),le.components={},le.componentsOrder=[];var te=le.scanLines*le.samplesPerLine;if(te>H){var G=Math.ceil((te-H)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${G}MP`)}var L=k[B++],I,U=0,J=0;for(we=0;we<L;we++){I=k[B];var ye=k[B+1]>>4,Ie=k[B+1]&15,be=k[B+2];le.componentsOrder.push(I),le.components[I]={h:ye,v:Ie,quantizationIdx:be},B+=3}z(le),ae.push(le);break;case 65476:var Le=V();for(we=2;we<Le;){var ze=k[B++],qe=new Uint8Array(16),Ye=0;for(xe=0;xe<16;xe++,B++)Ye+=qe[xe]=k[B];D(16+Ye);var Me=new Uint8Array(Ye);for(xe=0;xe<Ye;xe++,B++)Me[xe]=k[B];we+=17+Ye,(ze>>4==0?ce:oe)[ze&15]=w(qe,Me)}break;case 65501:V(),fe=V();break;case 65500:V(),V();break;case 65498:var Ge=V(),et=k[B++],ut=[],ct;for(we=0;we<et;we++){ct=le.components[k[B++]];var X=k[B++];ct.huffmanTableDC=ce[X>>4],ct.huffmanTableAC=oe[X&15],ut.push(ct)}var Ae=k[B++],ke=k[B++],Qe=k[B++],Re=E(k,B,le,ut,fe,Ae,ke,Qe>>4,Qe&15,this.opts);B+=Re;break;case 65535:k[B]!==255&&B--;break;default:if(k[B-3]==255&&k[B-2]>=192&&k[B-2]<=254){B-=3;break}throw new Error("unknown JPEG marker "+he.toString(16))}he=V()}if(ae.length!=1)throw new Error("only single frame JPEGs supported");for(var we=0;we<ae.length;we++){var He=ae[we].components;for(var xe in He)He[xe].quantizationTable=$[He[xe].quantizationIdx],delete He[xe].quantizationIdx}this.width=le.samplesPerLine,this.height=le.scanLines,this.jfif=W,this.adobe=Q,this.components=[];for(var we=0;we<le.componentsOrder.length;we++){var ct=le.components[le.componentsOrder[we]];this.components.push({lines:T(le,ct),scaleX:ct.h/le.maxH,scaleY:ct.v/le.maxV})}},getData:function(k,H){var B=this.width/k,Z=this.height/H,V,j,z,W,Q,se,le,fe,$,ae,oe=0,ce,he,we,xe,Oe,ge,De,pe,de,ie,re,q=k*H*this.components.length;D(q);var te=new Uint8Array(q);switch(this.components.length){case 1:for(V=this.components[0],ae=0;ae<H;ae++)for(Q=V.lines[0|ae*V.scaleY*Z],$=0;$<k;$++)ce=Q[0|$*V.scaleX*B],te[oe++]=ce;break;case 2:for(V=this.components[0],j=this.components[1],ae=0;ae<H;ae++)for(Q=V.lines[0|ae*V.scaleY*Z],se=j.lines[0|ae*j.scaleY*Z],$=0;$<k;$++)ce=Q[0|$*V.scaleX*B],te[oe++]=ce,ce=se[0|$*j.scaleX*B],te[oe++]=ce;break;case 3:for(re=!0,this.adobe&&this.adobe.transformCode?re=!0:typeof this.opts.colorTransform!="undefined"&&(re=!!this.opts.colorTransform),V=this.components[0],j=this.components[1],z=this.components[2],ae=0;ae<H;ae++)for(Q=V.lines[0|ae*V.scaleY*Z],se=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],$=0;$<k;$++)re?(ce=Q[0|$*V.scaleX*B],he=se[0|$*j.scaleX*B],we=le[0|$*z.scaleX*B],pe=A(ce+1.402*(we-128)),de=A(ce-.3441363*(he-128)-.71413636*(we-128)),ie=A(ce+1.772*(he-128))):(pe=Q[0|$*V.scaleX*B],de=se[0|$*j.scaleX*B],ie=le[0|$*z.scaleX*B]),te[oe++]=pe,te[oe++]=de,te[oe++]=ie;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(re=!1,this.adobe&&this.adobe.transformCode?re=!0:typeof this.opts.colorTransform!="undefined"&&(re=!!this.opts.colorTransform),V=this.components[0],j=this.components[1],z=this.components[2],W=this.components[3],ae=0;ae<H;ae++)for(Q=V.lines[0|ae*V.scaleY*Z],se=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],fe=W.lines[0|ae*W.scaleY*Z],$=0;$<k;$++)re?(ce=Q[0|$*V.scaleX*B],he=se[0|$*j.scaleX*B],we=le[0|$*z.scaleX*B],xe=fe[0|$*W.scaleX*B],Oe=255-A(ce+1.402*(we-128)),ge=255-A(ce-.3441363*(he-128)-.71413636*(we-128)),De=255-A(ce+1.772*(he-128))):(Oe=Q[0|$*V.scaleX*B],ge=se[0|$*j.scaleX*B],De=le[0|$*z.scaleX*B],xe=fe[0|$*W.scaleX*B]),te[oe++]=255-Oe,te[oe++]=255-ge,te[oe++]=255-De,te[oe++]=255-xe;break;default:throw new Error("Unsupported color mode")}return te},copyToImageData:function(k,H){var B=k.width,Z=k.height,V=k.data,j=this.getData(B,Z),z=0,W=0,Q,se,le,fe,$,ae,oe,ce,he;switch(this.components.length){case 1:for(se=0;se<Z;se++)for(Q=0;Q<B;Q++)le=j[z++],V[W++]=le,V[W++]=le,V[W++]=le,H&&(V[W++]=255);break;case 3:for(se=0;se<Z;se++)for(Q=0;Q<B;Q++)oe=j[z++],ce=j[z++],he=j[z++],V[W++]=oe,V[W++]=ce,V[W++]=he,H&&(V[W++]=255);break;case 4:for(se=0;se<Z;se++)for(Q=0;Q<B;Q++)$=j[z++],ae=j[z++],le=j[z++],fe=j[z++],oe=255-A($*(1-fe/255)+fe),ce=255-A(ae*(1-fe/255)+fe),he=255-A(le*(1-fe/255)+fe),V[W++]=oe,V[W++]=ce,V[W++]=he,H&&(V[W++]=255);break;default:throw new Error("Unsupported color mode")}}};var C=0,R=0;function D(O=0){var k=C+O;if(k>R){var H=Math.ceil((k-R)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${H}MB`)}C=k}return _.resetMaxMemoryUsage=function(O){C=0,R=O},_.getBytesAllocated=function(){return C},_.requestMemoryAllocation=D,_}();typeof i!="undefined"?i.exports=c:typeof zt!="undefined"&&(zt["jpeg-js"]=zt["jpeg-js"]||{},zt["jpeg-js"].decode=c);function c(g,p={}){var d={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},u={...d,...p},f=new Uint8Array(g),l=new o;l.opts=u,o.resetMaxMemoryUsage(u.maxMemoryUsageInMB*1024*1024),l.parse(f);var v=u.formatAsRGBA?4:3,y=l.width*l.height*v;try{o.requestMemoryAllocation(y);var h={width:l.width,height:l.height,exifBuffer:l.exifBuffer,data:u.useTArray?new Uint8Array(y):s.alloc(y)};l.comments.length>0&&(h.comments=l.comments)}catch(m){throw m instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+y):m}return l.copyToImageData(h,u.formatAsRGBA),h}}).call(this,r("buffer").Buffer)},{buffer:48}],82:[function(r,i,a){(function(s){var o=o||function(d){return s.from(d).toString("base64")};function c(d){var u=this,f=Math.round,l=Math.floor,v=new Array(64),y=new Array(64),h=new Array(64),m=new Array(64),_,w,E,T,A=new Array(65535),C=new Array(65535),R=new Array(64),D=new Array(64),O=[],k=0,H=7,B=new Array(64),Z=new Array(64),V=new Array(64),j=new Array(256),z=new Array(2048),W,Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ae=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(Le){for(var ze=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],qe=0;qe<64;qe++){var Ye=l((ze[qe]*Le+50)/100);Ye<1?Ye=1:Ye>255&&(Ye=255),v[Q[qe]]=Ye}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ge=0;Ge<64;Ge++){var et=l((Me[Ge]*Le+50)/100);et<1?et=1:et>255&&(et=255),y[Q[Ge]]=et}for(var ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ct=0,X=0;X<8;X++)for(var Ae=0;Ae<8;Ae++)h[ct]=1/(v[Q[ct]]*ut[X]*ut[Ae]*8),m[ct]=1/(y[Q[ct]]*ut[X]*ut[Ae]*8),ct++}function xe(Le,ze){for(var qe=0,Ye=0,Me=new Array,Ge=1;Ge<=16;Ge++){for(var et=1;et<=Le[Ge];et++)Me[ze[Ye]]=[],Me[ze[Ye]][0]=qe,Me[ze[Ye]][1]=Ge,Ye++,qe++;qe*=2}return Me}function Oe(){_=xe(se,le),w=xe(ae,oe),E=xe(fe,$),T=xe(ce,he)}function ge(){for(var Le=1,ze=2,qe=1;qe<=15;qe++){for(var Ye=Le;Ye<ze;Ye++)C[32767+Ye]=qe,A[32767+Ye]=[],A[32767+Ye][1]=qe,A[32767+Ye][0]=Ye;for(var Me=-(ze-1);Me<=-Le;Me++)C[32767+Me]=qe,A[32767+Me]=[],A[32767+Me][1]=qe,A[32767+Me][0]=ze-1+Me;Le<<=1,ze<<=1}}function De(){for(var Le=0;Le<256;Le++)z[Le]=19595*Le,z[Le+256>>0]=38470*Le,z[Le+512>>0]=7471*Le+32768,z[Le+768>>0]=-11059*Le,z[Le+1024>>0]=-21709*Le,z[Le+1280>>0]=32768*Le+8421375,z[Le+1536>>0]=-27439*Le,z[Le+1792>>0]=-5329*Le}function pe(Le){for(var ze=Le[0],qe=Le[1]-1;qe>=0;)ze&1<<qe&&(k|=1<<H),qe--,H--,H<0&&(k==255?(de(255),de(0)):de(k),H=7,k=0)}function de(Le){O.push(Le)}function ie(Le){de(Le>>8&255),de(Le&255)}function re(Le,ze){var qe,Ye,Me,Ge,et,ut,ct,X,Ae=0,ke,Qe=8,Re=64;for(ke=0;ke<Qe;++ke){qe=Le[Ae],Ye=Le[Ae+1],Me=Le[Ae+2],Ge=Le[Ae+3],et=Le[Ae+4],ut=Le[Ae+5],ct=Le[Ae+6],X=Le[Ae+7];var He=qe+X,ue=qe-X,Ke=Ye+ct,pt=Ye-ct,P=Me+ut,Pe=Me-ut,Ue=Ge+et,Y=Ge-et,Se=He+Ue,Ve=He-Ue,lt=Ke+P,ve=Ke-P;Le[Ae]=Se+lt,Le[Ae+4]=Se-lt;var Be=(ve+Ve)*.707106781;Le[Ae+2]=Ve+Be,Le[Ae+6]=Ve-Be,Se=Y+Pe,lt=Pe+pt,ve=pt+ue;var je=(Se-ve)*.382683433,tt=.5411961*Se+je,it=1.306562965*ve+je,gt=lt*.707106781,xt=ue+gt,Rt=ue-gt;Le[Ae+5]=Rt+tt,Le[Ae+3]=Rt-tt,Le[Ae+1]=xt+it,Le[Ae+7]=xt-it,Ae+=8}for(Ae=0,ke=0;ke<Qe;++ke){qe=Le[Ae],Ye=Le[Ae+8],Me=Le[Ae+16],Ge=Le[Ae+24],et=Le[Ae+32],ut=Le[Ae+40],ct=Le[Ae+48],X=Le[Ae+56];var Ct=qe+X,Qt=qe-X,Ut=Ye+ct,Pt=Ye-ct,$t=Me+ut,pn=Me-ut,Bt=Ge+et,zn=Ge-et,Zt=Ct+Bt,ln=Ct-Bt,hn=Ut+$t,tr=Ut-$t;Le[Ae]=Zt+hn,Le[Ae+32]=Zt-hn;var Tn=(tr+ln)*.707106781;Le[Ae+16]=ln+Tn,Le[Ae+48]=ln-Tn,Zt=zn+pn,hn=pn+Pt,tr=Pt+Qt;var nn=(Zt-tr)*.382683433,Rr=.5411961*Zt+nn,nr=1.306562965*tr+nn,Pr=hn*.707106781,Js=Qt+Pr,yu=Qt-Pr;Le[Ae+40]=yu+Rr,Le[Ae+24]=yu-Rr,Le[Ae+8]=Js+nr,Le[Ae+56]=Js-nr,Ae++}var gs;for(ke=0;ke<Re;++ke)gs=Le[ke]*ze[ke],R[ke]=gs>0?gs+.5|0:gs-.5|0;return R}function q(){ie(65504),ie(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),ie(1),ie(1),de(0),de(0)}function te(Le){if(!!Le){ie(65505),Le[0]===69&&Le[1]===120&&Le[2]===105&&Le[3]===102?ie(Le.length+2):(ie(Le.length+5+2),de(69),de(120),de(105),de(102),de(0));for(var ze=0;ze<Le.length;ze++)de(Le[ze])}}function G(Le,ze){ie(65472),ie(17),de(8),ie(ze),ie(Le),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)}function L(){ie(65499),ie(132),de(0);for(var Le=0;Le<64;Le++)de(v[Le]);de(1);for(var ze=0;ze<64;ze++)de(y[ze])}function I(){ie(65476),ie(418),de(0);for(var Le=0;Le<16;Le++)de(se[Le+1]);for(var ze=0;ze<=11;ze++)de(le[ze]);de(16);for(var qe=0;qe<16;qe++)de(fe[qe+1]);for(var Ye=0;Ye<=161;Ye++)de($[Ye]);de(1);for(var Me=0;Me<16;Me++)de(ae[Me+1]);for(var Ge=0;Ge<=11;Ge++)de(oe[Ge]);de(17);for(var et=0;et<16;et++)de(ce[et+1]);for(var ut=0;ut<=161;ut++)de(he[ut])}function U(){ie(65498),ie(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0)}function J(Le,ze,qe,Ye,Me){for(var Ge=Me[0],et=Me[240],ut,ct=16,X=63,Ae=64,ke=re(Le,ze),Qe=0;Qe<Ae;++Qe)D[Q[Qe]]=ke[Qe];var Re=D[0]-qe;qe=D[0],Re==0?pe(Ye[0]):(ut=32767+Re,pe(Ye[C[ut]]),pe(A[ut]));for(var He=63;He>0&&D[He]==0;He--);if(He==0)return pe(Ge),qe;for(var ue=1,Ke;ue<=He;){for(var pt=ue;D[ue]==0&&ue<=He;++ue);var P=ue-pt;if(P>=ct){Ke=P>>4;for(var Pe=1;Pe<=Ke;++Pe)pe(et);P=P&15}ut=32767+D[ue],pe(Me[(P<<4)+C[ut]]),pe(A[ut]),ue++}return He!=X&&pe(Ge),qe}function ye(){for(var Le=String.fromCharCode,ze=0;ze<256;ze++)j[ze]=Le(ze)}this.encode=function(Le,ze){var qe=new Date().getTime();ze&&Ie(ze),O=new Array,k=0,H=7,ie(65496),q(),te(Le.exifBuffer),L(),G(Le.width,Le.height),I(),U();var Ye=0,Me=0,Ge=0;k=0,H=7,this.encode.displayName="_encode_";for(var et=Le.data,ut=Le.width,ct=Le.height,X=ut*4,Ae=ut*3,ke,Qe=0,Re,He,ue,Ke,pt,P,Pe,Ue;Qe<ct;){for(ke=0;ke<X;){for(Ke=X*Qe+ke,pt=Ke,P=-1,Pe=0,Ue=0;Ue<64;Ue++)Pe=Ue>>3,P=(Ue&7)*4,pt=Ke+Pe*X+P,Qe+Pe>=ct&&(pt-=X*(Qe+1+Pe-ct)),ke+P>=X&&(pt-=ke+P-X+4),Re=et[pt++],He=et[pt++],ue=et[pt++],B[Ue]=(z[Re]+z[He+256>>0]+z[ue+512>>0]>>16)-128,Z[Ue]=(z[Re+768>>0]+z[He+1024>>0]+z[ue+1280>>0]>>16)-128,V[Ue]=(z[Re+1280>>0]+z[He+1536>>0]+z[ue+1792>>0]>>16)-128;Ye=J(B,h,Ye,_,E),Me=J(Z,m,Me,w,T),Ge=J(V,m,Ge,w,T),ke+=32}Qe+=8}if(H>=0){var Y=[];Y[1]=H+1,Y[0]=(1<<H+1)-1,pe(Y)}if(ie(65497),typeof i=="undefined")return new Uint8Array(O);return s.from(O);var Se,Ve};function Ie(Le){if(Le<=0&&(Le=1),Le>100&&(Le=100),W!=Le){var ze=0;Le<50?ze=Math.floor(5e3/Le):ze=Math.floor(200-Le*2),we(ze),W=Le}}function be(){var Le=new Date().getTime();d||(d=50),ye(),Oe(),ge(),De(),Ie(d);var ze=new Date().getTime()-Le}be()}typeof i!="undefined"?i.exports=g:typeof zt!="undefined"&&(zt["jpeg-js"]=zt["jpeg-js"]||{},zt["jpeg-js"].encode=g);function g(d,u){typeof u=="undefined"&&(u=50);var f=new c(u),l=f.encode(d,u);return{data:l,width:d.width,height:d.height}}function p(d){var u=typeof d=="string"?document.getElementById(d):d,f=document.createElement("canvas");f.width=u.width,f.height=u.height;var l=f.getContext("2d");return l.drawImage(u,0,0),l.getImageData(0,0,f.width,f.height)}}).call(this,r("buffer").Buffer)},{buffer:48}],83:[function(r,i,a){(function(s){var o=r("path"),c=r("fs"),g=parseInt("0777",8);i.exports=p.mkdirp=p.mkdirP=p;function p(d,u,f,l){typeof u=="function"?(f=u,u={}):(!u||typeof u!="object")&&(u={mode:u});var v=u.mode,y=u.fs||c;v===void 0&&(v=g&~s.umask()),l||(l=null);var h=f||function(){};d=o.resolve(d),y.mkdir(d,v,function(m){if(!m)return l=l||d,h(null,l);switch(m.code){case"ENOENT":p(o.dirname(d),u,function(_,w){_?h(_,w):p(d,u,h,w)});break;default:y.stat(d,function(_,w){_||!w.isDirectory()?h(m,l):h(null,l)});break}})}p.sync=function d(u,f,l){(!f||typeof f!="object")&&(f={mode:f});var v=f.mode,y=f.fs||c;v===void 0&&(v=g&~s.umask()),l||(l=null),u=o.resolve(u);try{y.mkdirSync(u,v),l=l||u}catch(m){switch(m.code){case"ENOENT":l=d(o.dirname(u),f,l),d(u,f,l);break;default:var h;try{h=y.statSync(u)}catch{throw m}if(!h.isDirectory())throw m;break}}return l}}).call(this,r("_process"))},{_process:133,fs:47,path:107}],84:[function(r,i,a){"use strict";var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function g(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function p(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var l=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(l.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(y){v[y]=y}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=p()?Object.assign:function(d,u){for(var f,l=g(d),v,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var h in f)o.call(f,h)&&(l[h]=f[h]);if(s){v=s(f);for(var m=0;m<v.length;m++)c.call(f,v[m])&&(l[v[m]]=f[v[m]])}}return l}},{}],85:[function(r,i,a){arguments[4][64][0].apply(a,arguments)},{dup:64}],86:[function(r,i,a){"use strict";var s=r("./lib/utils/common").assign,o=r("./lib/deflate"),c=r("./lib/inflate"),g=r("./lib/zlib/constants"),p={};s(p,o,c,g),i.exports=p},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(r,i,a){"use strict";var s=r("./zlib/deflate"),o=r("./utils/common"),c=r("./utils/strings"),g=r("./zlib/messages"),p=r("./zlib/zstream"),d=Object.prototype.toString,u=0,f=4,l=0,v=1,y=2,h=-1,m=0,_=8;function w(C){if(!(this instanceof w))return new w(C);this.options=o.assign({level:h,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},C||{});var R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(D!==l)throw new Error(g[D]);if(R.header&&s.deflateSetHeader(this.strm,R.header),R.dictionary){var O;if(typeof R.dictionary=="string"?O=c.string2buf(R.dictionary):d.call(R.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(R.dictionary):O=R.dictionary,D=s.deflateSetDictionary(this.strm,O),D!==l)throw new Error(g[D]);this._dict_set=!0}}w.prototype.push=function(C,R){var D=this.strm,O=this.options.chunkSize,k,H;if(this.ended)return!1;H=R===~~R?R:R===!0?f:u,typeof C=="string"?D.input=c.string2buf(C):d.call(C)==="[object ArrayBuffer]"?D.input=new Uint8Array(C):D.input=C,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(O),D.next_out=0,D.avail_out=O),k=s.deflate(D,H),k!==v&&k!==l)return this.onEnd(k),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(H===f||H===y))&&(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&k!==v);return H===f?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===l):(H===y&&(this.onEnd(l),D.avail_out=0),!0)},w.prototype.onData=function(C){this.chunks.push(C)},w.prototype.onEnd=function(C){C===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function E(C,R){var D=new w(R);if(D.push(C,!0),D.err)throw D.msg||g[D.err];return D.result}function T(C,R){return R=R||{},R.raw=!0,E(C,R)}function A(C,R){return R=R||{},R.gzip=!0,E(C,R)}a.Deflate=w,a.deflate=E,a.deflateRaw=T,a.gzip=A},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(r,i,a){"use strict";var s=r("./zlib/inflate"),o=r("./utils/common"),c=r("./utils/strings"),g=r("./zlib/constants"),p=r("./zlib/messages"),d=r("./zlib/zstream"),u=r("./zlib/gzheader"),f=Object.prototype.toString;function l(h){if(!(this instanceof l))return new l(h);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),m.windowBits>=0&&m.windowBits<16&&!(h&&h.windowBits)&&(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&(m.windowBits&15)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,m.windowBits);if(_!==g.Z_OK)throw new Error(p[_]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}l.prototype.push=function(h,m){var _=this.strm,w=this.options.chunkSize,E=this.options.dictionary,T,A,C,R,D,O,k=!1;if(this.ended)return!1;A=m===~~m?m:m===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof h=="string"?_.input=c.binstring2buf(h):f.call(h)==="[object ArrayBuffer]"?_.input=new Uint8Array(h):_.input=h,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(w),_.next_out=0,_.avail_out=w),T=s.inflate(_,g.Z_NO_FLUSH),T===g.Z_NEED_DICT&&E&&(typeof E=="string"?O=c.string2buf(E):f.call(E)==="[object ArrayBuffer]"?O=new Uint8Array(E):O=E,T=s.inflateSetDictionary(this.strm,O)),T===g.Z_BUF_ERROR&&k===!0&&(T=g.Z_OK,k=!1),T!==g.Z_STREAM_END&&T!==g.Z_OK)return this.onEnd(T),this.ended=!0,!1;_.next_out&&(_.avail_out===0||T===g.Z_STREAM_END||_.avail_in===0&&(A===g.Z_FINISH||A===g.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=c.utf8border(_.output,_.next_out),R=_.next_out-C,D=c.buf2string(_.output,C),_.next_out=R,_.avail_out=w-R,R&&o.arraySet(_.output,_.output,C,R,0),this.onData(D)):this.onData(o.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(k=!0)}while((_.avail_in>0||_.avail_out===0)&&T!==g.Z_STREAM_END);return T===g.Z_STREAM_END&&(A=g.Z_FINISH),A===g.Z_FINISH?(T=s.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===g.Z_OK):(A===g.Z_SYNC_FLUSH&&(this.onEnd(g.Z_OK),_.avail_out=0),!0)},l.prototype.onData=function(h){this.chunks.push(h)},l.prototype.onEnd=function(h){h===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function v(h,m){var _=new l(m);if(_.push(h,!0),_.err)throw _.msg||p[_.err];return _.result}function y(h,m){return m=m||{},m.raw=!0,v(h,m)}a.Inflate=l,a.inflate=v,a.inflateRaw=y,a.ungzip=v},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(r,i,a){arguments[4][36][0].apply(a,arguments)},{dup:36}],90:[function(r,i,a){"use strict";var s=r("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var g=new s.Buf8(256),p=0;p<256;p++)g[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;g[254]=g[254]=1,a.string2buf=function(u){var f,l,v,y,h,m=u.length,_=0;for(y=0;y<m;y++)l=u.charCodeAt(y),(l&64512)==55296&&y+1<m&&(v=u.charCodeAt(y+1),(v&64512)==56320&&(l=65536+(l-55296<<10)+(v-56320),y++)),_+=l<128?1:l<2048?2:l<65536?3:4;for(f=new s.Buf8(_),h=0,y=0;h<_;y++)l=u.charCodeAt(y),(l&64512)==55296&&y+1<m&&(v=u.charCodeAt(y+1),(v&64512)==56320&&(l=65536+(l-55296<<10)+(v-56320),y++)),l<128?f[h++]=l:l<2048?(f[h++]=192|l>>>6,f[h++]=128|l&63):l<65536?(f[h++]=224|l>>>12,f[h++]=128|l>>>6&63,f[h++]=128|l&63):(f[h++]=240|l>>>18,f[h++]=128|l>>>12&63,f[h++]=128|l>>>6&63,f[h++]=128|l&63);return f};function d(u,f){if(f<65537&&(u.subarray&&c||!u.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(u,f));for(var l="",v=0;v<f;v++)l+=String.fromCharCode(u[v]);return l}a.buf2binstring=function(u){return d(u,u.length)},a.binstring2buf=function(u){for(var f=new s.Buf8(u.length),l=0,v=f.length;l<v;l++)f[l]=u.charCodeAt(l);return f},a.buf2string=function(u,f){var l,v,y,h,m=f||u.length,_=new Array(m*2);for(v=0,l=0;l<m;){if(y=u[l++],y<128){_[v++]=y;continue}if(h=g[y],h>4){_[v++]=65533,l+=h-1;continue}for(y&=h===2?31:h===3?15:7;h>1&&l<m;)y=y<<6|u[l++]&63,h--;if(h>1){_[v++]=65533;continue}y<65536?_[v++]=y:(y-=65536,_[v++]=55296|y>>10&1023,_[v++]=56320|y&1023)}return d(_,v)},a.utf8border=function(u,f){var l;for(f=f||u.length,f>u.length&&(f=u.length),l=f-1;l>=0&&(u[l]&192)==128;)l--;return l<0||l===0?f:l+g[u[l]]>f?l:f}},{"./common":89}],91:[function(r,i,a){arguments[4][37][0].apply(a,arguments)},{dup:37}],92:[function(r,i,a){arguments[4][38][0].apply(a,arguments)},{dup:38}],93:[function(r,i,a){arguments[4][39][0].apply(a,arguments)},{dup:39}],94:[function(r,i,a){"use strict";var s=r("../utils/common"),o=r("./trees"),c=r("./adler32"),g=r("./crc32"),p=r("./messages"),d=0,u=1,f=3,l=4,v=5,y=0,h=1,m=-2,_=-3,w=-5,E=-1,T=1,A=2,C=3,R=4,D=0,O=2,k=8,H=9,B=15,Z=8,V=29,j=256,z=j+1+V,W=30,Q=19,se=2*z+1,le=15,fe=3,$=258,ae=$+fe+1,oe=32,ce=42,he=69,we=73,xe=91,Oe=103,ge=113,De=666,pe=1,de=2,ie=3,re=4,q=3;function te(P,Pe){return P.msg=p[Pe],Pe}function G(P){return(P<<1)-(P>4?9:0)}function L(P){for(var Pe=P.length;--Pe>=0;)P[Pe]=0}function I(P){var Pe=P.state,Ue=Pe.pending;Ue>P.avail_out&&(Ue=P.avail_out),Ue!==0&&(s.arraySet(P.output,Pe.pending_buf,Pe.pending_out,Ue,P.next_out),P.next_out+=Ue,Pe.pending_out+=Ue,P.total_out+=Ue,P.avail_out-=Ue,Pe.pending-=Ue,Pe.pending===0&&(Pe.pending_out=0))}function U(P,Pe){o._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,Pe),P.block_start=P.strstart,I(P.strm)}function J(P,Pe){P.pending_buf[P.pending++]=Pe}function ye(P,Pe){P.pending_buf[P.pending++]=Pe>>>8&255,P.pending_buf[P.pending++]=Pe&255}function Ie(P,Pe,Ue,Y){var Se=P.avail_in;return Se>Y&&(Se=Y),Se===0?0:(P.avail_in-=Se,s.arraySet(Pe,P.input,P.next_in,Se,Ue),P.state.wrap===1?P.adler=c(P.adler,Pe,Se,Ue):P.state.wrap===2&&(P.adler=g(P.adler,Pe,Se,Ue)),P.next_in+=Se,P.total_in+=Se,Se)}function be(P,Pe){var Ue=P.max_chain_length,Y=P.strstart,Se,Ve,lt=P.prev_length,ve=P.nice_match,Be=P.strstart>P.w_size-ae?P.strstart-(P.w_size-ae):0,je=P.window,tt=P.w_mask,it=P.prev,gt=P.strstart+$,xt=je[Y+lt-1],Rt=je[Y+lt];P.prev_length>=P.good_match&&(Ue>>=2),ve>P.lookahead&&(ve=P.lookahead);do if(Se=Pe,!(je[Se+lt]!==Rt||je[Se+lt-1]!==xt||je[Se]!==je[Y]||je[++Se]!==je[Y+1])){Y+=2,Se++;do;while(je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&Y<gt);if(Ve=$-(gt-Y),Y=gt-$,Ve>lt){if(P.match_start=Pe,lt=Ve,Ve>=ve)break;xt=je[Y+lt-1],Rt=je[Y+lt]}}while((Pe=it[Pe&tt])>Be&&--Ue!=0);return lt<=P.lookahead?lt:P.lookahead}function Le(P){var Pe=P.w_size,Ue,Y,Se,Ve,lt;do{if(Ve=P.window_size-P.lookahead-P.strstart,P.strstart>=Pe+(Pe-ae)){s.arraySet(P.window,P.window,Pe,Pe,0),P.match_start-=Pe,P.strstart-=Pe,P.block_start-=Pe,Y=P.hash_size,Ue=Y;do Se=P.head[--Ue],P.head[Ue]=Se>=Pe?Se-Pe:0;while(--Y);Y=Pe,Ue=Y;do Se=P.prev[--Ue],P.prev[Ue]=Se>=Pe?Se-Pe:0;while(--Y);Ve+=Pe}if(P.strm.avail_in===0)break;if(Y=Ie(P.strm,P.window,P.strstart+P.lookahead,Ve),P.lookahead+=Y,P.lookahead+P.insert>=fe)for(lt=P.strstart-P.insert,P.ins_h=P.window[lt],P.ins_h=(P.ins_h<<P.hash_shift^P.window[lt+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[lt+fe-1])&P.hash_mask,P.prev[lt&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=lt,lt++,P.insert--,!(P.lookahead+P.insert<fe)););}while(P.lookahead<ae&&P.strm.avail_in!==0)}function ze(P,Pe){var Ue=65535;for(Ue>P.pending_buf_size-5&&(Ue=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Le(P),P.lookahead===0&&Pe===d)return pe;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var Y=P.block_start+Ue;if((P.strstart===0||P.strstart>=Y)&&(P.lookahead=P.strstart-Y,P.strstart=Y,U(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-ae&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):(P.strstart>P.block_start&&(U(P,!1),P.strm.avail_out===0),pe)}function qe(P,Pe){for(var Ue,Y;;){if(P.lookahead<ae){if(Le(P),P.lookahead<ae&&Pe===d)return pe;if(P.lookahead===0)break}if(Ue=0,P.lookahead>=fe&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),Ue!==0&&P.strstart-Ue<=P.w_size-ae&&(P.match_length=be(P,Ue)),P.match_length>=fe)if(Y=o._tr_tally(P,P.strstart-P.match_start,P.match_length-fe),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=fe){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!=0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else Y=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(Y&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=P.strstart<fe-1?P.strstart:fe-1,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Ye(P,Pe){for(var Ue,Y,Se;;){if(P.lookahead<ae){if(Le(P),P.lookahead<ae&&Pe===d)return pe;if(P.lookahead===0)break}if(Ue=0,P.lookahead>=fe&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=fe-1,Ue!==0&&P.prev_length<P.max_lazy_match&&P.strstart-Ue<=P.w_size-ae&&(P.match_length=be(P,Ue),P.match_length<=5&&(P.strategy===T||P.match_length===fe&&P.strstart-P.match_start>4096)&&(P.match_length=fe-1)),P.prev_length>=fe&&P.match_length<=P.prev_length){Se=P.strstart+P.lookahead-fe,Y=o._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-fe),P.lookahead-=P.prev_length-1,P.prev_length-=2;do++P.strstart<=Se&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+fe-1])&P.hash_mask,Ue=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart);while(--P.prev_length!=0);if(P.match_available=0,P.match_length=fe-1,P.strstart++,Y&&(U(P,!1),P.strm.avail_out===0))return pe}else if(P.match_available){if(Y=o._tr_tally(P,0,P.window[P.strstart-1]),Y&&U(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return pe}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(Y=o._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<fe-1?P.strstart:fe-1,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Me(P,Pe){for(var Ue,Y,Se,Ve,lt=P.window;;){if(P.lookahead<=$){if(Le(P),P.lookahead<=$&&Pe===d)return pe;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=fe&&P.strstart>0&&(Se=P.strstart-1,Y=lt[Se],Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se])){Ve=P.strstart+$;do;while(Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Se<Ve);P.match_length=$-(Ve-Se),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=fe?(Ue=o._tr_tally(P,1,P.match_length-fe),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(Ue=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),Ue&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function Ge(P,Pe){for(var Ue;;){if(P.lookahead===0&&(Le(P),P.lookahead===0)){if(Pe===d)return pe;break}if(P.match_length=0,Ue=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,Ue&&(U(P,!1),P.strm.avail_out===0))return pe}return P.insert=0,Pe===l?(U(P,!0),P.strm.avail_out===0?ie:re):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?pe:de}function et(P,Pe,Ue,Y,Se){this.good_length=P,this.max_lazy=Pe,this.nice_length=Ue,this.max_chain=Y,this.func=Se}var ut;ut=[new et(0,0,0,0,ze),new et(4,4,8,4,qe),new et(4,5,16,8,qe),new et(4,6,32,32,qe),new et(4,4,16,16,Ye),new et(8,16,32,32,Ye),new et(8,16,128,128,Ye),new et(8,32,128,256,Ye),new et(32,128,258,1024,Ye),new et(32,258,258,4096,Ye)];function ct(P){P.window_size=2*P.w_size,L(P.head),P.max_lazy_match=ut[P.level].max_lazy,P.good_match=ut[P.level].good_length,P.nice_match=ut[P.level].nice_length,P.max_chain_length=ut[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=fe-1,P.match_available=0,P.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(se*2),this.dyn_dtree=new s.Buf16((2*W+1)*2),this.bl_tree=new s.Buf16((2*Q+1)*2),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(le+1),this.heap=new s.Buf16(2*z+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(P){var Pe;return!P||!P.state?te(P,m):(P.total_in=P.total_out=0,P.data_type=O,Pe=P.state,Pe.pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?ce:ge,P.adler=Pe.wrap===2?0:1,Pe.last_flush=d,o._tr_init(Pe),y)}function ke(P){var Pe=Ae(P);return Pe===y&&ct(P.state),Pe}function Qe(P,Pe){return!P||!P.state||P.state.wrap!==2?m:(P.state.gzhead=Pe,y)}function Re(P,Pe,Ue,Y,Se,Ve){if(!P)return m;var lt=1;if(Pe===E&&(Pe=6),Y<0?(lt=0,Y=-Y):Y>15&&(lt=2,Y-=16),Se<1||Se>H||Ue!==k||Y<8||Y>15||Pe<0||Pe>9||Ve<0||Ve>R)return te(P,m);Y===8&&(Y=9);var ve=new X;return P.state=ve,ve.strm=P,ve.wrap=lt,ve.gzhead=null,ve.w_bits=Y,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Se+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+fe-1)/fe),ve.window=new s.Buf8(ve.w_size*2),ve.head=new s.Buf16(ve.hash_size),ve.prev=new s.Buf16(ve.w_size),ve.lit_bufsize=1<<Se+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new s.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Pe,ve.strategy=Ve,ve.method=Ue,ke(P)}function He(P,Pe){return Re(P,Pe,k,B,Z,D)}function ue(P,Pe){var Ue,Y,Se,Ve;if(!P||!P.state||Pe>v||Pe<0)return P?te(P,m):m;if(Y=P.state,!P.output||!P.input&&P.avail_in!==0||Y.status===De&&Pe!==l)return te(P,P.avail_out===0?w:m);if(Y.strm=P,Ue=Y.last_flush,Y.last_flush=Pe,Y.status===ce)if(Y.wrap===2)P.adler=0,J(Y,31),J(Y,139),J(Y,8),Y.gzhead?(J(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),J(Y,Y.gzhead.time&255),J(Y,Y.gzhead.time>>8&255),J(Y,Y.gzhead.time>>16&255),J(Y,Y.gzhead.time>>24&255),J(Y,Y.level===9?2:Y.strategy>=A||Y.level<2?4:0),J(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(J(Y,Y.gzhead.extra.length&255),J(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(P.adler=g(P.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=he):(J(Y,0),J(Y,0),J(Y,0),J(Y,0),J(Y,0),J(Y,Y.level===9?2:Y.strategy>=A||Y.level<2?4:0),J(Y,q),Y.status=ge);else{var lt=k+(Y.w_bits-8<<4)<<8,ve=-1;Y.strategy>=A||Y.level<2?ve=0:Y.level<6?ve=1:Y.level===6?ve=2:ve=3,lt|=ve<<6,Y.strstart!==0&&(lt|=oe),lt+=31-lt%31,Y.status=ge,ye(Y,lt),Y.strstart!==0&&(ye(Y,P.adler>>>16),ye(Y,P.adler&65535)),P.adler=1}if(Y.status===he)if(Y.gzhead.extra){for(Se=Y.pending;Y.gzindex<(Y.gzhead.extra.length&65535)&&!(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size));)J(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=we)}else Y.status=we;if(Y.status===we)if(Y.gzhead.name){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.name.length?Ve=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:Ve=0,J(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.gzindex=0,Y.status=xe)}else Y.status=xe;if(Y.status===xe)if(Y.gzhead.comment){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),I(P),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.comment.length?Ve=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:Ve=0,J(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(P.adler=g(P.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.status=Oe)}else Y.status=Oe;if(Y.status===Oe&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&I(P),Y.pending+2<=Y.pending_buf_size&&(J(Y,P.adler&255),J(Y,P.adler>>8&255),P.adler=0,Y.status=ge)):Y.status=ge),Y.pending!==0){if(I(P),P.avail_out===0)return Y.last_flush=-1,y}else if(P.avail_in===0&&G(Pe)<=G(Ue)&&Pe!==l)return te(P,w);if(Y.status===De&&P.avail_in!==0)return te(P,w);if(P.avail_in!==0||Y.lookahead!==0||Pe!==d&&Y.status!==De){var Be=Y.strategy===A?Ge(Y,Pe):Y.strategy===C?Me(Y,Pe):ut[Y.level].func(Y,Pe);if((Be===ie||Be===re)&&(Y.status=De),Be===pe||Be===ie)return P.avail_out===0&&(Y.last_flush=-1),y;if(Be===de&&(Pe===u?o._tr_align(Y):Pe!==v&&(o._tr_stored_block(Y,0,0,!1),Pe===f&&(L(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),I(P),P.avail_out===0))return Y.last_flush=-1,y}return Pe!==l?y:Y.wrap<=0?h:(Y.wrap===2?(J(Y,P.adler&255),J(Y,P.adler>>8&255),J(Y,P.adler>>16&255),J(Y,P.adler>>24&255),J(Y,P.total_in&255),J(Y,P.total_in>>8&255),J(Y,P.total_in>>16&255),J(Y,P.total_in>>24&255)):(ye(Y,P.adler>>>16),ye(Y,P.adler&65535)),I(P),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?y:h)}function Ke(P){var Pe;return!P||!P.state?m:(Pe=P.state.status,Pe!==ce&&Pe!==he&&Pe!==we&&Pe!==xe&&Pe!==Oe&&Pe!==ge&&Pe!==De?te(P,m):(P.state=null,Pe===ge?te(P,_):y))}function pt(P,Pe){var Ue=Pe.length,Y,Se,Ve,lt,ve,Be,je,tt;if(!P||!P.state||(Y=P.state,lt=Y.wrap,lt===2||lt===1&&Y.status!==ce||Y.lookahead))return m;for(lt===1&&(P.adler=c(P.adler,Pe,Ue,0)),Y.wrap=0,Ue>=Y.w_size&&(lt===0&&(L(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),tt=new s.Buf8(Y.w_size),s.arraySet(tt,Pe,Ue-Y.w_size,Y.w_size,0),Pe=tt,Ue=Y.w_size),ve=P.avail_in,Be=P.next_in,je=P.input,P.avail_in=Ue,P.next_in=0,P.input=Pe,Le(Y);Y.lookahead>=fe;){Se=Y.strstart,Ve=Y.lookahead-(fe-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Se+fe-1])&Y.hash_mask,Y.prev[Se&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Se,Se++;while(--Ve);Y.strstart=Se,Y.lookahead=fe-1,Le(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=fe-1,Y.match_available=0,P.next_in=Be,P.input=je,P.avail_in=ve,Y.wrap=lt,y}a.deflateInit=He,a.deflateInit2=Re,a.deflateReset=ke,a.deflateResetKeep=Ae,a.deflateSetHeader=Qe,a.deflate=ue,a.deflateEnd=Ke,a.deflateSetDictionary=pt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(r,i,a){"use strict";function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},{}],96:[function(r,i,a){arguments[4][41][0].apply(a,arguments)},{dup:41}],97:[function(r,i,a){arguments[4][42][0].apply(a,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(r,i,a){arguments[4][43][0].apply(a,arguments)},{"../utils/common":89,dup:43}],99:[function(r,i,a){arguments[4][44][0].apply(a,arguments)},{dup:44}],100:[function(r,i,a){"use strict";var s=r("../utils/common"),o=4,c=0,g=1,p=2;function d(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var u=0,f=1,l=2,v=3,y=258,h=29,m=256,_=m+1+h,w=30,E=19,T=2*_+1,A=15,C=16,R=7,D=256,O=16,k=17,H=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,W=new Array((_+2)*2);d(W);var Q=new Array(w*2);d(Q);var se=new Array(z);d(se);var le=new Array(y-v+1);d(le);var fe=new Array(h);d(fe);var $=new Array(w);d($);function ae(X,Ae,ke,Qe,Re){this.static_tree=X,this.extra_bits=Ae,this.extra_base=ke,this.elems=Qe,this.max_length=Re,this.has_stree=X&&X.length}var oe,ce,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?se[X]:se[256+(X>>>7)]}function Oe(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,ke){X.bi_valid>C-ke?(X.bi_buf|=Ae<<X.bi_valid&65535,Oe(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=ke-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=ke)}function De(X,Ae,ke){ge(X,ke[Ae*2],ke[Ae*2+1])}function pe(X,Ae){var ke=0;do ke|=X&1,X>>>=1,ke<<=1;while(--Ae>0);return ke>>>1}function de(X){X.bi_valid===16?(Oe(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function ie(X,Ae){var ke=Ae.dyn_tree,Qe=Ae.max_code,Re=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ue=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,pt=Ae.stat_desc.max_length,P,Pe,Ue,Y,Se,Ve,lt=0;for(Y=0;Y<=A;Y++)X.bl_count[Y]=0;for(ke[X.heap[X.heap_max]*2+1]=0,P=X.heap_max+1;P<T;P++)Pe=X.heap[P],Y=ke[ke[Pe*2+1]*2+1]+1,Y>pt&&(Y=pt,lt++),ke[Pe*2+1]=Y,!(Pe>Qe)&&(X.bl_count[Y]++,Se=0,Pe>=Ke&&(Se=ue[Pe-Ke]),Ve=ke[Pe*2],X.opt_len+=Ve*(Y+Se),He&&(X.static_len+=Ve*(Re[Pe*2+1]+Se)));if(lt!==0){do{for(Y=pt-1;X.bl_count[Y]===0;)Y--;X.bl_count[Y]--,X.bl_count[Y+1]+=2,X.bl_count[pt]--,lt-=2}while(lt>0);for(Y=pt;Y!==0;Y--)for(Pe=X.bl_count[Y];Pe!==0;)Ue=X.heap[--P],!(Ue>Qe)&&(ke[Ue*2+1]!==Y&&(X.opt_len+=(Y-ke[Ue*2+1])*ke[Ue*2],ke[Ue*2+1]=Y),Pe--)}}function re(X,Ae,ke){var Qe=new Array(A+1),Re=0,He,ue;for(He=1;He<=A;He++)Qe[He]=Re=Re+ke[He-1]<<1;for(ue=0;ue<=Ae;ue++){var Ke=X[ue*2+1];Ke!==0&&(X[ue*2]=pe(Qe[Ke]++,Ke))}}function q(){var X,Ae,ke,Qe,Re,He=new Array(A+1);for(ke=0,Qe=0;Qe<h-1;Qe++)for(fe[Qe]=ke,X=0;X<1<<B[Qe];X++)le[ke++]=Qe;for(le[ke-1]=Qe,Re=0,Qe=0;Qe<16;Qe++)for($[Qe]=Re,X=0;X<1<<Z[Qe];X++)se[Re++]=Qe;for(Re>>=7;Qe<w;Qe++)for($[Qe]=Re<<7,X=0;X<1<<Z[Qe]-7;X++)se[256+Re++]=Qe;for(Ae=0;Ae<=A;Ae++)He[Ae]=0;for(X=0;X<=143;)W[X*2+1]=8,X++,He[8]++;for(;X<=255;)W[X*2+1]=9,X++,He[9]++;for(;X<=279;)W[X*2+1]=7,X++,He[7]++;for(;X<=287;)W[X*2+1]=8,X++,He[8]++;for(re(W,_+1,He),X=0;X<w;X++)Q[X*2+1]=5,Q[X*2]=pe(X,5);oe=new ae(W,B,m+1,_,A),ce=new ae(Q,Z,0,w,A),he=new ae(new Array(0),V,0,E,R)}function te(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<w;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<E;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[D*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function G(X){X.bi_valid>8?Oe(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function L(X,Ae,ke,Qe){G(X),Qe&&(Oe(X,ke),Oe(X,~ke)),s.arraySet(X.pending_buf,X.window,Ae,ke,X.pending),X.pending+=ke}function I(X,Ae,ke,Qe){var Re=Ae*2,He=ke*2;return X[Re]<X[He]||X[Re]===X[He]&&Qe[Ae]<=Qe[ke]}function U(X,Ae,ke){for(var Qe=X.heap[ke],Re=ke<<1;Re<=X.heap_len&&(Re<X.heap_len&&I(Ae,X.heap[Re+1],X.heap[Re],X.depth)&&Re++,!I(Ae,Qe,X.heap[Re],X.depth));)X.heap[ke]=X.heap[Re],ke=Re,Re<<=1;X.heap[ke]=Qe}function J(X,Ae,ke){var Qe,Re,He=0,ue,Ke;if(X.last_lit!==0)do Qe=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],Re=X.pending_buf[X.l_buf+He],He++,Qe===0?De(X,Re,Ae):(ue=le[Re],De(X,ue+m+1,Ae),Ke=B[ue],Ke!==0&&(Re-=fe[ue],ge(X,Re,Ke)),Qe--,ue=xe(Qe),De(X,ue,ke),Ke=Z[ue],Ke!==0&&(Qe-=$[ue],ge(X,Qe,Ke)));while(He<X.last_lit);De(X,D,Ae)}function ye(X,Ae){var ke=Ae.dyn_tree,Qe=Ae.stat_desc.static_tree,Re=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ue,Ke,pt=-1,P;for(X.heap_len=0,X.heap_max=T,ue=0;ue<He;ue++)ke[ue*2]!==0?(X.heap[++X.heap_len]=pt=ue,X.depth[ue]=0):ke[ue*2+1]=0;for(;X.heap_len<2;)P=X.heap[++X.heap_len]=pt<2?++pt:0,ke[P*2]=1,X.depth[P]=0,X.opt_len--,Re&&(X.static_len-=Qe[P*2+1]);for(Ae.max_code=pt,ue=X.heap_len>>1;ue>=1;ue--)U(X,ke,ue);P=He;do ue=X.heap[1],X.heap[1]=X.heap[X.heap_len--],U(X,ke,1),Ke=X.heap[1],X.heap[--X.heap_max]=ue,X.heap[--X.heap_max]=Ke,ke[P*2]=ke[ue*2]+ke[Ke*2],X.depth[P]=(X.depth[ue]>=X.depth[Ke]?X.depth[ue]:X.depth[Ke])+1,ke[ue*2+1]=ke[Ke*2+1]=P,X.heap[1]=P++,U(X,ke,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],ie(X,Ae),re(ke,pt,X.bl_count)}function Ie(X,Ae,ke){var Qe,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,P=4;for(ue===0&&(pt=138,P=3),Ae[(ke+1)*2+1]=65535,Qe=0;Qe<=ke;Qe++)He=ue,ue=Ae[(Qe+1)*2+1],!(++Ke<pt&&He===ue)&&(Ke<P?X.bl_tree[He*2]+=Ke:He!==0?(He!==Re&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[H*2]++,Ke=0,Re=He,ue===0?(pt=138,P=3):He===ue?(pt=6,P=3):(pt=7,P=4))}function be(X,Ae,ke){var Qe,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,P=4;for(ue===0&&(pt=138,P=3),Qe=0;Qe<=ke;Qe++)if(He=ue,ue=Ae[(Qe+1)*2+1],!(++Ke<pt&&He===ue)){if(Ke<P)do De(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==Re&&(De(X,He,X.bl_tree),Ke--),De(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(De(X,k,X.bl_tree),ge(X,Ke-3,3)):(De(X,H,X.bl_tree),ge(X,Ke-11,7));Ke=0,Re=He,ue===0?(pt=138,P=3):He===ue?(pt=6,P=3):(pt=7,P=4)}}function Le(X){var Ae;for(Ie(X,X.dyn_ltree,X.l_desc.max_code),Ie(X,X.dyn_dtree,X.d_desc.max_code),ye(X,X.bl_desc),Ae=E-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ze(X,Ae,ke,Qe){var Re;for(ge(X,Ae-257,5),ge(X,ke-1,5),ge(X,Qe-4,4),Re=0;Re<Qe;Re++)ge(X,X.bl_tree[j[Re]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,ke-1)}function qe(X){var Ae=4093624447,ke;for(ke=0;ke<=31;ke++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[ke*2]!==0)return c;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return g;for(ke=32;ke<m;ke++)if(X.dyn_ltree[ke*2]!==0)return g;return c}var Ye=!1;function Me(X){Ye||(q(),Ye=!0),X.l_desc=new we(X.dyn_ltree,oe),X.d_desc=new we(X.dyn_dtree,ce),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,te(X)}function Ge(X,Ae,ke,Qe){ge(X,(u<<1)+(Qe?1:0),3),L(X,Ae,ke,!0)}function et(X){ge(X,f<<1,3),De(X,D,W),de(X)}function ut(X,Ae,ke,Qe){var Re,He,ue=0;X.level>0?(X.strm.data_type===p&&(X.strm.data_type=qe(X)),ye(X,X.l_desc),ye(X,X.d_desc),ue=Le(X),Re=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=Re&&(Re=He)):Re=He=ke+5,ke+4<=Re&&Ae!==-1?Ge(X,Ae,ke,Qe):X.strategy===o||He===Re?(ge(X,(f<<1)+(Qe?1:0),3),J(X,W,Q)):(ge(X,(l<<1)+(Qe?1:0),3),ze(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ue+1),J(X,X.dyn_ltree,X.dyn_dtree)),te(X),Qe&&G(X)}function ct(X,Ae,ke){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=ke&255,X.last_lit++,Ae===0?X.dyn_ltree[ke*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[ke]+m+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=ut,a._tr_tally=ct,a._tr_align=et},{"../utils/common":89}],101:[function(r,i,a){arguments[4][46][0].apply(a,arguments)},{dup:46}],102:[function(r,i,a){i.exports=function(p){if(!p)throw new Error("no data provided");p=p.toString().trim();var d={pages:[],chars:[],kernings:[]},u=p.split(/\r\n?|\n/g);if(u.length===0)throw new Error("no data in BMFont file");for(var f=0;f<u.length;f++){var l=s(u[f],f);if(!!l)if(l.key==="page"){if(typeof l.data.id!="number")throw new Error("malformed file at line "+f+" -- needs page id=N");if(typeof l.data.file!="string")throw new Error("malformed file at line "+f+' -- needs page file="path"');d.pages[l.data.id]=l.data.file}else l.key==="chars"||l.key==="kernings"||(l.key==="char"?d.chars.push(l.data):l.key==="kerning"?d.kernings.push(l.data):d[l.key]=l.data)}return d};function s(g,p){if(g=g.replace(/\t+/g," ").trim(),!g)return null;var d=g.indexOf(" ");if(d===-1)throw new Error("no named row at line "+p);var u=g.substring(0,d);g=g.substring(d+1),g=g.replace(/letter=[\'\"]\S+[\'\"]/gi,""),g=g.split("="),g=g.map(function(h){return h.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var f=[],l=0;l<g.length;l++){var v=g[l];l===0?f.push({key:v[0],data:""}):l===g.length-1?f[f.length-1].data=o(v[0]):(f[f.length-1].data=o(v[0]),f.push({key:v[1],data:""}))}var y={key:u,data:{}};return f.forEach(function(h){y.data[h.key]=h.data}),y}function o(g){return!g||g.length===0?"":g.indexOf('"')===0||g.indexOf("'")===0?g.substring(1,g.length-1):g.indexOf(",")!==-1?c(g):parseInt(g,10)}function c(g){return g.split(",").map(function(p){return parseInt(p,10)})}},{}],103:[function(r,i,a){var s=[66,77,70];i.exports=function(y){if(y.length<6)throw new Error("invalid buffer length for BMFont");var h=s.every(function(T,A){return y.readUInt8(A)===T});if(!h)throw new Error("BMFont missing BMF byte header");var m=3,_=y.readUInt8(m++);if(_>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},E=0;E<5;E++)m+=o(w,y,m);return w};function o(v,y,h){if(h>y.length-1)return 0;var m=y.readUInt8(h++),_=y.readInt32LE(h);switch(h+=4,m){case 1:v.info=c(y,h);break;case 2:v.common=g(y,h);break;case 3:v.pages=p(y,h,_);break;case 4:v.chars=d(y,h,_);break;case 5:v.kernings=u(y,h,_);break}return 5+_}function c(v,y){var h={};h.size=v.readInt16LE(y);var m=v.readUInt8(y+2);return h.smooth=m>>7&1,h.unicode=m>>6&1,h.italic=m>>5&1,h.bold=m>>4&1,m>>3&1&&(h.fixedHeight=1),h.charset=v.readUInt8(y+3)||"",h.stretchH=v.readUInt16LE(y+4),h.aa=v.readUInt8(y+6),h.padding=[v.readInt8(y+7),v.readInt8(y+8),v.readInt8(y+9),v.readInt8(y+10)],h.spacing=[v.readInt8(y+11),v.readInt8(y+12)],h.outline=v.readUInt8(y+13),h.face=l(v,y+14),h}function g(v,y){var h={};h.lineHeight=v.readUInt16LE(y),h.base=v.readUInt16LE(y+2),h.scaleW=v.readUInt16LE(y+4),h.scaleH=v.readUInt16LE(y+6),h.pages=v.readUInt16LE(y+8);var m=v.readUInt8(y+10);return h.packed=0,h.alphaChnl=v.readUInt8(y+11),h.redChnl=v.readUInt8(y+12),h.greenChnl=v.readUInt8(y+13),h.blueChnl=v.readUInt8(y+14),h}function p(v,y,h){for(var m=[],_=f(v,y),w=_.length+1,E=h/w,T=0;T<E;T++)m[T]=v.slice(y,y+_.length).toString("utf8"),y+=w;return m}function d(v,y,h){for(var m=[],_=h/20,w=0;w<_;w++){var E={},T=w*20;E.id=v.readUInt32LE(y+0+T),E.x=v.readUInt16LE(y+4+T),E.y=v.readUInt16LE(y+6+T),E.width=v.readUInt16LE(y+8+T),E.height=v.readUInt16LE(y+10+T),E.xoffset=v.readInt16LE(y+12+T),E.yoffset=v.readInt16LE(y+14+T),E.xadvance=v.readInt16LE(y+16+T),E.page=v.readUInt8(y+18+T),E.chnl=v.readUInt8(y+19+T),m[w]=E}return m}function u(v,y,h){for(var m=[],_=h/10,w=0;w<_;w++){var E={},T=w*10;E.first=v.readUInt32LE(y+0+T),E.second=v.readUInt32LE(y+4+T),E.amount=v.readInt16LE(y+8+T),m[w]=E}return m}function f(v,y){for(var h=y;h<v.length&&v[h]!==0;h++);return v.slice(y,h)}function l(v,y){return f(v,y).toString("utf8")}},{}],104:[function(r,i,a){var s=r("./parse-attribs"),o=r("xml-parse-from-string"),c={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};i.exports=function(f){f=f.toString();var l=o(f),v={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(T){var A=l.getElementsByTagName(T)[0];A&&(v[T]=s(g(A)))});var y=l.getElementsByTagName("pages")[0];if(!y)throw new Error("malformed file -- no <pages> element");for(var h=y.getElementsByTagName("page"),m=0;m<h.length;m++){var _=h[m],w=parseInt(_.getAttribute("id"),10),E=_.getAttribute("file");if(isNaN(w))throw new Error('malformed file -- page "id" attribute is NaN');if(!E)throw new Error('malformed file -- needs page "file" attribute');v.pages[parseInt(w,10)]=E}return["chars","kernings"].forEach(function(T){var A=l.getElementsByTagName(T)[0];if(!!A)for(var C=T.substring(0,T.length-1),R=A.getElementsByTagName(C),D=0;D<R.length;D++){var O=R[D];v[T].push(s(g(O)))}}),v};function g(u){var f=p(u);return f.reduce(function(l,v){var y=d(v.nodeName);return l[y]=v.nodeValue,l},{})}function p(u){for(var f=[],l=0;l<u.attributes.length;l++)f.push(u.attributes[l]);return f}function d(u){return c[u.toLowerCase()]||u}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(r,i,a){var s="chasrset";i.exports=function(g){s in g&&(g.charset=g[s],delete g[s]);for(var p in g)p==="face"||p==="charset"||(p==="padding"||p==="spacing"?g[p]=o(g[p]):g[p]=parseInt(g[p],10));return g};function o(c){return c.split(",").map(function(g){return parseInt(g,10)})}},{}],106:[function(r,i,a){var s=r("trim"),o=r("for-each"),c=function(g){return Object.prototype.toString.call(g)==="[object Array]"};i.exports=function(g){if(!g)return{};var p={};return o(s(g).split(`
`),function(d){var u=d.indexOf(":"),f=s(d.slice(0,u)).toLowerCase(),l=s(d.slice(u+1));typeof p[f]=="undefined"?p[f]=l:c(p[f])?p[f].push(l):p[f]=[p[f],l]}),p}},{"for-each":63,trim:179}],107:[function(r,i,a){(function(s){function o(d,u){for(var f=0,l=d.length-1;l>=0;l--){var v=d[l];v==="."?d.splice(l,1):v===".."?(d.splice(l,1),f++):f&&(d.splice(l,1),f--)}if(u)for(;f--;f)d.unshift("..");return d}a.resolve=function(){for(var d="",u=!1,f=arguments.length-1;f>=-1&&!u;f--){var l=f>=0?arguments[f]:s.cwd();if(typeof l!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!l)continue;d=l+"/"+d,u=l.charAt(0)==="/"}return d=o(g(d.split("/"),function(v){return!!v}),!u).join("/"),(u?"/":"")+d||"."},a.normalize=function(d){var u=a.isAbsolute(d),f=p(d,-1)==="/";return d=o(g(d.split("/"),function(l){return!!l}),!u).join("/"),!d&&!u&&(d="."),d&&f&&(d+="/"),(u?"/":"")+d},a.isAbsolute=function(d){return d.charAt(0)==="/"},a.join=function(){var d=Array.prototype.slice.call(arguments,0);return a.normalize(g(d,function(u,f){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},a.relative=function(d,u){d=a.resolve(d).substr(1),u=a.resolve(u).substr(1);function f(w){for(var E=0;E<w.length&&w[E]==="";E++);for(var T=w.length-1;T>=0&&w[T]==="";T--);return E>T?[]:w.slice(E,T-E+1)}for(var l=f(d.split("/")),v=f(u.split("/")),y=Math.min(l.length,v.length),h=y,m=0;m<y;m++)if(l[m]!==v[m]){h=m;break}for(var _=[],m=h;m<l.length;m++)_.push("..");return _=_.concat(v.slice(h)),_.join("/")},a.sep="/",a.delimiter=":",a.dirname=function(d){if(typeof d!="string"&&(d=d+""),d.length===0)return".";for(var u=d.charCodeAt(0),f=u===47,l=-1,v=!0,y=d.length-1;y>=1;--y)if(u=d.charCodeAt(y),u===47){if(!v){l=y;break}}else v=!1;return l===-1?f?"/":".":f&&l===1?"/":d.slice(0,l)};function c(d){typeof d!="string"&&(d=d+"");var u=0,f=-1,l=!0,v;for(v=d.length-1;v>=0;--v)if(d.charCodeAt(v)===47){if(!l){u=v+1;break}}else f===-1&&(l=!1,f=v+1);return f===-1?"":d.slice(u,f)}a.basename=function(d,u){var f=c(d);return u&&f.substr(-1*u.length)===u&&(f=f.substr(0,f.length-u.length)),f},a.extname=function(d){typeof d!="string"&&(d=d+"");for(var u=-1,f=0,l=-1,v=!0,y=0,h=d.length-1;h>=0;--h){var m=d.charCodeAt(h);if(m===47){if(!v){f=h+1;break}continue}l===-1&&(v=!1,l=h+1),m===46?u===-1?u=h:y!==1&&(y=1):u!==-1&&(y=-1)}return u===-1||l===-1||y===0||y===1&&u===l-1&&u===f+1?"":d.slice(u,l)};function g(d,u){if(d.filter)return d.filter(u);for(var f=[],l=0;l<d.length;l++)u(d[l],l,d)&&f.push(d[l]);return f}var p="ab".substr(-1)==="b"?function(d,u,f){return d.substr(u,f)}:function(d,u,f){return u<0&&(u=d.length+u),d.substr(u,f)}}).call(this,r("_process"))},{_process:133}],108:[function(r,i,a){(function(s){"use strict";var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c=r("http"),g=r("https"),p=r("url"),d=r("querystring"),u=r("zlib"),f=r("util"),l=function(y,h){if(typeof y!="string"&&!y.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var m=(typeof y=="undefined"?"undefined":o(y))==="object"?p.parse(y.url):p.parse(y),_={hostname:m.hostname,port:m.port||(m.protocol.toLowerCase()==="http:"?80:443),path:m.path,method:"GET",headers:{},auth:m.auth||null,parse:"none",stream:!1};if((typeof y=="undefined"?"undefined":o(y))==="object"&&(_=Object.assign(_,y)),_.port=Number(_.port),_.hasOwnProperty("timeout")&&delete _.timeout,_.compressed===!0&&(_.headers["accept-encoding"]="gzip, deflate"),y.hasOwnProperty("form")){if(o(y.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var w=d.stringify(y.form);_.headers["Content-Type"]="application/x-www-form-urlencoded",_.headers["Content-Length"]=s.byteLength(w),y.data=w}var E=void 0,T=function(D){var O=D;_.compressed===!0&&(D.headers["content-encoding"]==="gzip"?O=D.pipe(u.createGunzip()):D.headers["content-encoding"]==="deflate"&&(O=D.pipe(u.createInflate()))),_.stream===!0?(D.stream=O,h(null,D)):(D.body=new s([]),O.on("data",function(k){D.body=s.concat([D.body,k])}),O.on("end",function(){if(h){if(_.parse==="json")try{D.body=JSON.parse(D.body.toString())}catch{h("Invalid JSON received.",D);return}h(null,D)}}))};switch(m.protocol.toLowerCase()){case"http:":E=c.request(_,T);break;case"https:":E=g.request(_,T);break;default:h&&h(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof y.timeout=="number"&&E.setTimeout(y.timeout,function(){E.abort(),h(new Error("Timeout has been reached."),null),h=null}),E.on("error",function(R){h&&h(R,null)}),y.hasOwnProperty("data")){var A=y.data;if(!(y.data instanceof s)&&o(y.data)==="object"){var C=_.headers["content-type"]||_.headers["Content-Type"];if(C==="application/x-www-form-urlencoded")A=d.stringify(y.data);else try{A=JSON.stringify(y.data)}catch{h(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}E.write(A)}E.end()};l.promisified=function(v,y){return new Promise(function(h,m){l(v,function(_,w){_?m(_):h(w)},y)})},f.promisify&&(l[f.promisify.custom]=l.promisified),i.exports=l}).call(this,r("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(r,i,a){"use strict";i.exports=s;function s(v,y,h,m,_,w){w||(w={});for(var E=w.threshold===void 0?.1:w.threshold,T=35215*E*E,A=0,C=0;C<_;C++)for(var R=0;R<m;R++){var D=(C*m+R)*4,O=c(v,y,D,D);if(O>T)!w.includeAA&&(o(v,R,C,m,_,y)||o(y,R,C,m,_,v))?h&&f(h,D,255,255,0):(h&&f(h,D,255,0,0),A++);else if(h){var k=u(l(v,D),.1);f(h,D,k,k,k)}}return A}function o(v,y,h,m,_,w){for(var E=Math.max(y-1,0),T=Math.max(h-1,0),A=Math.min(y+1,m-1),C=Math.min(h+1,_-1),R=(h*m+y)*4,D=0,O=0,k=0,H=0,B=0,Z,V,j,z,W=E;W<=A;W++)for(var Q=T;Q<=C;Q++)if(!(W===y&&Q===h)){var se=c(v,v,R,(Q*m+W)*4,!0);if(se===0?D++:se<0?k++:se>0&&O++,D>2)return!1;!w||(se<H&&(H=se,Z=W,V=Q),se>B&&(B=se,j=W,z=Q))}return w?k===0||O===0?!1:!o(v,Z,V,m,_)&&!o(w,Z,V,m,_)||!o(v,j,z,m,_)&&!o(w,j,z,m,_):!0}function c(v,y,h,m,_){var w=v[h+3]/255,E=y[m+3]/255,T=u(v[h+0],w),A=u(v[h+1],w),C=u(v[h+2],w),R=u(y[m+0],E),D=u(y[m+1],E),O=u(y[m+2],E),k=g(T,A,C)-g(R,D,O);if(_)return k;var H=p(T,A,C)-p(R,D,O),B=d(T,A,C)-d(R,D,O);return .5053*k*k+.299*H*H+.1957*B*B}function g(v,y,h){return v*.29889531+y*.58662247+h*.11448223}function p(v,y,h){return v*.59597799-y*.2741761-h*.32180189}function d(v,y,h){return v*.21147017-y*.52261711+h*.31114694}function u(v,y){return 255+(v-255)*y}function f(v,y,h,m,_){v[y+0]=h,v[y+1]=m,v[y+2]=_,v[y+3]=255}function l(v,y){var h=v[y+3]/255,m=u(v[y+0],h),_=u(v[y+1],h),w=u(v[y+2],h);return g(m,_,w)}},{}],110:[function(r,i,a){(function(s){"use strict";var o=r("./interlace"),c={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function g(u,f){var l=[],v=0;function y(){if(v===u.length)throw new Error("Ran out of data");var h=u[v];v++;var m,_,w,E,T,A,C,R;switch(f){default:throw new Error("unrecognised depth");case 16:C=u[v],v++,l.push((h<<8)+C);break;case 4:C=h&15,R=h>>4,l.push(R,C);break;case 2:T=h&3,A=h>>2&3,C=h>>4&3,R=h>>6&3,l.push(R,C,A,T);break;case 1:m=h&1,_=h>>1&1,w=h>>2&1,E=h>>3&1,T=h>>4&1,A=h>>5&1,C=h>>6&1,R=h>>7&1,l.push(R,C,A,T,E,w,_,m);break}}return{get:function(h){for(;l.length<h;)y();var m=l.slice(0,h);return l=l.slice(h),m},resetAfterLine:function(){l.length=0},end:function(){if(v!==u.length)throw new Error("extra data found")}}}function p(u,f,l,v,y,h){for(var m=u.width,_=u.height,w=u.index,E=0;E<_;E++)for(var T=0;T<m;T++){for(var A=l(T,E,w),C=0;C<4;C++){var R=c[v][C];if(R===255)f[A+C]=255;else{var D=R+h;if(D===y.length)throw new Error("Ran out of data");f[A+C]=y[D]}}h+=v}return h}function d(u,f,l,v,y,h){for(var m=u.width,_=u.height,w=u.index,E=0;E<_;E++){for(var T=0;T<m;T++)for(var A=y.get(v),C=l(T,E,w),R=0;R<4;R++){var D=c[v][R];f[C+R]=D!==255?A[D]:h}y.resetAfterLine()}}a.dataToBitMap=function(u,f){var l=f.width,v=f.height,y=f.depth,h=f.bpp,m=f.interlace;if(y!==8)var _=g(u,y);var w;y<=8?w=new s(l*v*4):w=new Uint16Array(l*v*4);var E=Math.pow(2,y)-1,T=0,A,C;if(m)A=o.getImagePasses(l,v),C=o.getInterlaceIterator(l,v);else{var R=0;C=function(){var O=R;return R+=4,O},A=[{width:l,height:v}]}for(var D=0;D<A.length;D++)y===8?T=p(A[D],w,C,h,u,T):d(A[D],w,C,h,_,E);if(y===8){if(T!==u.length)throw new Error("extra data found")}else _.end();return w}}).call(this,r("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(r,i,a){(function(s){"use strict";var o=r("./constants");i.exports=function(c,g,p,d){var u=[o.COLORTYPE_COLOR_ALPHA,o.COLORTYPE_ALPHA].indexOf(d.colorType)!==-1;if(d.colorType===d.inputColorType){var f=function(){var O=new ArrayBuffer(2);return new DataView(O).setInt16(0,256,!0),new Int16Array(O)[0]!==256}();if(d.bitDepth===8||d.bitDepth===16&&f)return c}var l=d.bitDepth!==16?c:new Uint16Array(c.buffer),v=255,y=o.COLORTYPE_TO_BPP_MAP[d.inputColorType];y==4&&!d.inputHasAlpha&&(y=3);var h=o.COLORTYPE_TO_BPP_MAP[d.colorType];d.bitDepth===16&&(v=65535,h*=2);var m=new s(g*p*h),_=0,w=0,E=d.bgColor||{};E.red===void 0&&(E.red=v),E.green===void 0&&(E.green=v),E.blue===void 0&&(E.blue=v);function T(O,k){var H,B,Z,V=v;switch(d.inputColorType){case o.COLORTYPE_COLOR_ALPHA:V=O[k+3],H=O[k],B=O[k+1],Z=O[k+2];break;case o.COLORTYPE_COLOR:H=O[k],B=O[k+1],Z=O[k+2];break;case o.COLORTYPE_ALPHA:V=O[k+1],H=O[k],B=H,Z=H;break;case o.COLORTYPE_GRAYSCALE:H=O[k],B=H,Z=H;break;default:throw new Error("input color type:"+d.inputColorType+" is not supported at present")}return d.inputHasAlpha&&(u||(V/=v,H=Math.min(Math.max(Math.round((1-V)*E.red+V*H),0),v),B=Math.min(Math.max(Math.round((1-V)*E.green+V*B),0),v),Z=Math.min(Math.max(Math.round((1-V)*E.blue+V*Z),0),v))),{red:H,green:B,blue:Z,alpha:V}}for(var A=0;A<p;A++)for(var C=0;C<g;C++){var R=T(l,_);switch(d.colorType){case o.COLORTYPE_COLOR_ALPHA:case o.COLORTYPE_COLOR:d.bitDepth===8?(m[w]=R.red,m[w+1]=R.green,m[w+2]=R.blue,u&&(m[w+3]=R.alpha)):(m.writeUInt16BE(R.red,w),m.writeUInt16BE(R.green,w+2),m.writeUInt16BE(R.blue,w+4),u&&m.writeUInt16BE(R.alpha,w+6));break;case o.COLORTYPE_ALPHA:case o.COLORTYPE_GRAYSCALE:var D=(R.red+R.green+R.blue)/3;d.bitDepth===8?(m[w]=D,u&&(m[w+1]=R.alpha)):(m.writeUInt16BE(D,w),u&&m.writeUInt16BE(R.alpha,w+2));break}_+=y,w+=h}return m}}).call(this,r("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(r,i,a){(function(s,o){"use strict";var c=r("util"),g=r("stream"),p=i.exports=function(){g.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};c.inherits(p,g),p.prototype.read=function(d,u){this._reads.push({length:Math.abs(d),allowLess:d<0,func:u}),s.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},p.prototype.write=function(d,u){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var f;return o.isBuffer(d)?f=d:f=new o(d,u||this._encoding),this._buffers.push(f),this._buffered+=f.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},p.prototype.end=function(d,u){d&&this.write(d,u),this.writable=!1,!!this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},p.prototype.destroySoon=p.prototype.end,p.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},p.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},p.prototype._processReadAllowingLess=function(d){this._reads.shift();var u=this._buffers[0];u.length>d.length?(this._buffered-=d.length,this._buffers[0]=u.slice(d.length),d.func.call(this,u.slice(0,d.length))):(this._buffered-=u.length,this._buffers.shift(),d.func.call(this,u))},p.prototype._processRead=function(d){this._reads.shift();for(var u=0,f=0,l=new o(d.length);u<d.length;){var v=this._buffers[f++],y=Math.min(v.length,d.length-u);v.copy(l,u,0,y),u+=y,y!==v.length&&(this._buffers[--f]=v.slice(y))}f>0&&this._buffers.splice(0,f),this._buffered-=d.length,d.func.call(this,l)},p.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var d=this._reads[0];if(d.allowLess)this._processReadAllowingLess(d);else if(this._buffered>=d.length)this._processRead(d);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(u){this.emit("error",u)}}}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(r,i,a){"use strict";i.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(r,i,a){"use strict";var s=[];(function(){for(var c=0;c<256;c++){for(var g=c,p=0;p<8;p++)g&1?g=3988292384^g>>>1:g=g>>>1;s[c]=g}})();var o=i.exports=function(){this._crc=-1};o.prototype.write=function(c){for(var g=0;g<c.length;g++)this._crc=s[(this._crc^c[g])&255]^this._crc>>>8;return!0},o.prototype.crc32=function(){return this._crc^-1},o.crc32=function(c){for(var g=-1,p=0;p<c.length;p++)g=s[(g^c[p])&255]^g>>>8;return g^-1}},{}],115:[function(r,i,a){(function(s){"use strict";var o=r("./paeth-predictor");function c(w,E,T,A,C){for(var R=0;R<T;R++)A[C+R]=w[E+R]}function g(w,E,T){for(var A=0,C=E+T,R=E;R<C;R++)A+=Math.abs(w[R]);return A}function p(w,E,T,A,C,R){for(var D=0;D<T;D++){var O=D>=R?w[E+D-R]:0,k=w[E+D]-O;A[C+D]=k}}function d(w,E,T,A){for(var C=0,R=0;R<T;R++){var D=R>=A?w[E+R-A]:0,O=w[E+R]-D;C+=Math.abs(O)}return C}function u(w,E,T,A,C){for(var R=0;R<T;R++){var D=E>0?w[E+R-T]:0,O=w[E+R]-D;A[C+R]=O}}function f(w,E,T){for(var A=0,C=E+T,R=E;R<C;R++){var D=E>0?w[R-T]:0,O=w[R]-D;A+=Math.abs(O)}return A}function l(w,E,T,A,C,R){for(var D=0;D<T;D++){var O=D>=R?w[E+D-R]:0,k=E>0?w[E+D-T]:0,H=w[E+D]-(O+k>>1);A[C+D]=H}}function v(w,E,T,A){for(var C=0,R=0;R<T;R++){var D=R>=A?w[E+R-A]:0,O=E>0?w[E+R-T]:0,k=w[E+R]-(D+O>>1);C+=Math.abs(k)}return C}function y(w,E,T,A,C,R){for(var D=0;D<T;D++){var O=D>=R?w[E+D-R]:0,k=E>0?w[E+D-T]:0,H=E>0&&D>=R?w[E+D-(T+R)]:0,B=w[E+D]-o(O,k,H);A[C+D]=B}}function h(w,E,T,A){for(var C=0,R=0;R<T;R++){var D=R>=A?w[E+R-A]:0,O=E>0?w[E+R-T]:0,k=E>0&&R>=A?w[E+R-(T+A)]:0,H=w[E+R]-o(D,O,k);C+=Math.abs(H)}return C}var m={0:c,1:p,2:u,3:l,4:y},_={0:g,1:d,2:f,3:v,4:h};i.exports=function(w,E,T,A,C){var R;if(!("filterType"in A)||A.filterType===-1)R=[0,1,2,3,4];else if(typeof A.filterType=="number")R=[A.filterType];else throw new Error("unrecognised filter types");A.bitDepth===16&&(C*=2);for(var D=E*C,O=0,k=0,H=new s((D+1)*T),B=R[0],Z=0;Z<T;Z++){if(R.length>1)for(var V=1/0,j=0;j<R.length;j++){var z=_[R[j]](w,k,D,C);z<V&&(B=R[j],V=z)}H[O]=B,O++,m[B](w,k,D,H,O,C),O+=D,k+=D}return H}}).call(this,r("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(r,i,a){(function(s){"use strict";var o=r("util"),c=r("./chunkstream"),g=r("./filter-parse"),p=i.exports=function(d){c.call(this);var u=[],f=this;this._filter=new g(d,{read:this.read.bind(this),write:function(l){u.push(l)},complete:function(){f.emit("complete",s.concat(u))}}),this._filter.start()};o.inherits(p,c)}).call(this,r("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(r,i,a){(function(s){"use strict";var o=r("./sync-reader"),c=r("./filter-parse");a.process=function(g,p){var d=[],u=new o(g),f=new c(p,{read:u.read.bind(u),write:function(l){d.push(l)},complete:function(){}});return f.start(),u.process(),s.concat(d)}}).call(this,r("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(r,i,a){(function(s){"use strict";var o=r("./interlace"),c=r("./paeth-predictor");function g(d,u,f){var l=d*u;return f!==8&&(l=Math.ceil(l/(8/f))),l}var p=i.exports=function(d,u){var f=d.width,l=d.height,v=d.interlace,y=d.bpp,h=d.depth;if(this.read=u.read,this.write=u.write,this.complete=u.complete,this._imageIndex=0,this._images=[],v)for(var m=o.getImagePasses(f,l),_=0;_<m.length;_++)this._images.push({byteWidth:g(m[_].width,y,h),height:m[_].height,lineIndex:0});else this._images.push({byteWidth:g(f,y,h),height:l,lineIndex:0});h===8?this._xComparison=y:h===16?this._xComparison=y*2:this._xComparison=1};p.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},p.prototype._unFilterType1=function(d,u,f){for(var l=this._xComparison,v=l-1,y=0;y<f;y++){var h=d[1+y],m=y>v?u[y-l]:0;u[y]=h+m}},p.prototype._unFilterType2=function(d,u,f){for(var l=this._lastLine,v=0;v<f;v++){var y=d[1+v],h=l?l[v]:0;u[v]=y+h}},p.prototype._unFilterType3=function(d,u,f){for(var l=this._xComparison,v=l-1,y=this._lastLine,h=0;h<f;h++){var m=d[1+h],_=y?y[h]:0,w=h>v?u[h-l]:0,E=Math.floor((w+_)/2);u[h]=m+E}},p.prototype._unFilterType4=function(d,u,f){for(var l=this._xComparison,v=l-1,y=this._lastLine,h=0;h<f;h++){var m=d[1+h],_=y?y[h]:0,w=h>v?u[h-l]:0,E=h>v&&y?y[h-l]:0,T=c(w,_,E);u[h]=m+T}},p.prototype._reverseFilterLine=function(d){var u=d[0],f,l=this._images[this._imageIndex],v=l.byteWidth;if(u===0)f=d.slice(1,v+1);else switch(f=new s(v),u){case 1:this._unFilterType1(d,f,v);break;case 2:this._unFilterType2(d,f,v);break;case 3:this._unFilterType3(d,f,v);break;case 4:this._unFilterType4(d,f,v);break;default:throw new Error("Unrecognised filter type - "+u)}this.write(f),l.lineIndex++,l.lineIndex>=l.height?(this._lastLine=null,this._imageIndex++,l=this._images[this._imageIndex]):this._lastLine=f,l?this.read(l.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,r("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(r,i,a){(function(s){"use strict";function o(p,d,u,f,l){for(var v=0,y=0;y<f;y++)for(var h=0;h<u;h++){var m=l[p[v]];if(!m)throw new Error("index "+p[v]+" not in palette");for(var _=0;_<4;_++)d[v+_]=m[_];v+=4}}function c(p,d,u,f,l){for(var v=0,y=0;y<f;y++)for(var h=0;h<u;h++){var m=!1;if(l.length===1?l[0]===p[v]&&(m=!0):l[0]===p[v]&&l[1]===p[v+1]&&l[2]===p[v+2]&&(m=!0),m)for(var _=0;_<4;_++)d[v+_]=0;v+=4}}function g(p,d,u,f,l){for(var v=255,y=Math.pow(2,l)-1,h=0,m=0;m<f;m++)for(var _=0;_<u;_++){for(var w=0;w<4;w++)d[h+w]=Math.floor(p[h+w]*v/y+.5);h+=4}}i.exports=function(p,d){var u=d.depth,f=d.width,l=d.height,v=d.colorType,y=d.transColor,h=d.palette,m=p;return v===3?o(p,m,f,l,h):(y&&c(p,m,f,l,y),u!==8&&(u===16&&(m=new s(f*l*4)),g(p,m,f,l,u))),m}}).call(this,r("buffer").Buffer)},{buffer:48}],120:[function(r,i,a){"use strict";var s=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];a.getImagePasses=function(o,c){for(var g=[],p=o%8,d=c%8,u=(o-p)/8,f=(c-d)/8,l=0;l<s.length;l++){for(var v=s[l],y=u*v.x.length,h=f*v.y.length,m=0;m<v.x.length&&v.x[m]<p;m++)y++;for(m=0;m<v.y.length&&v.y[m]<d;m++)h++;y>0&&h>0&&g.push({width:y,height:h,index:l})}return g},a.getInterlaceIterator=function(o){return function(c,g,p){var d=c%s[p].x.length,u=(c-d)/s[p].x.length*8+s[p].x[d],f=g%s[p].y.length,l=(g-f)/s[p].y.length*8+s[p].y[f];return u*4+l*o*4}}},{}],121:[function(r,i,a){(function(s){"use strict";var o=r("util"),c=r("stream"),g=r("./constants"),p=r("./packer"),d=i.exports=function(u){c.call(this);var f=u||{};this._packer=new p(f),this._deflate=this._packer.createDeflate(),this.readable=!0};o.inherits(d,c),d.prototype.pack=function(u,f,l,v){this.emit("data",new s(g.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(f,l)),v&&this.emit("data",this._packer.packGAMA(v));var y=this._packer.filterData(u,f,l);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(h){this.emit("data",this._packer.packIDAT(h))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(y)}}).call(this,r("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(r,i,a){(function(s){"use strict";var o=!0,c=r("zlib");c.deflateSync||(o=!1);var g=r("./constants"),p=r("./packer");i.exports=function(d,u){if(!o)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var f=u||{},l=new p(f),v=[];v.push(new s(g.PNG_SIGNATURE)),v.push(l.packIHDR(d.width,d.height)),d.gamma&&v.push(l.packGAMA(d.gamma));var y=l.filterData(d.data,d.width,d.height),h=c.deflateSync(y,l.getDeflateOptions());if(y=null,!h||!h.length)throw new Error("bad png - invalid compressed data response");return v.push(l.packIDAT(h)),v.push(l.packIEND()),s.concat(v)}}).call(this,r("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(r,i,a){(function(s){"use strict";var o=r("./constants"),c=r("./crc"),g=r("./bitpacker"),p=r("./filter-pack"),d=r("zlib"),u=i.exports=function(f){if(this._options=f,f.deflateChunkSize=f.deflateChunkSize||32*1024,f.deflateLevel=f.deflateLevel!=null?f.deflateLevel:9,f.deflateStrategy=f.deflateStrategy!=null?f.deflateStrategy:3,f.inputHasAlpha=f.inputHasAlpha!=null?f.inputHasAlpha:!0,f.deflateFactory=f.deflateFactory||d.createDeflate,f.bitDepth=f.bitDepth||8,f.colorType=typeof f.colorType=="number"?f.colorType:o.COLORTYPE_COLOR_ALPHA,f.inputColorType=typeof f.inputColorType=="number"?f.inputColorType:o.COLORTYPE_COLOR_ALPHA,[o.COLORTYPE_GRAYSCALE,o.COLORTYPE_COLOR,o.COLORTYPE_COLOR_ALPHA,o.COLORTYPE_ALPHA].indexOf(f.colorType)===-1)throw new Error("option color type:"+f.colorType+" is not supported at present");if([o.COLORTYPE_GRAYSCALE,o.COLORTYPE_COLOR,o.COLORTYPE_COLOR_ALPHA,o.COLORTYPE_ALPHA].indexOf(f.inputColorType)===-1)throw new Error("option input color type:"+f.inputColorType+" is not supported at present");if(f.bitDepth!==8&&f.bitDepth!==16)throw new Error("option bit depth:"+f.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(f,l,v){var y=g(f,l,v,this._options),h=o.COLORTYPE_TO_BPP_MAP[this._options.colorType],m=p(y,l,v,this._options,h);return m},u.prototype._packChunk=function(f,l){var v=l?l.length:0,y=new s(v+12);return y.writeUInt32BE(v,0),y.writeUInt32BE(f,4),l&&l.copy(y,8),y.writeInt32BE(c.crc32(y.slice(4,y.length-4)),y.length-4),y},u.prototype.packGAMA=function(f){var l=new s(4);return l.writeUInt32BE(Math.floor(f*o.GAMMA_DIVISION),0),this._packChunk(o.TYPE_gAMA,l)},u.prototype.packIHDR=function(f,l){var v=new s(13);return v.writeUInt32BE(f,0),v.writeUInt32BE(l,4),v[8]=this._options.bitDepth,v[9]=this._options.colorType,v[10]=0,v[11]=0,v[12]=0,this._packChunk(o.TYPE_IHDR,v)},u.prototype.packIDAT=function(f){return this._packChunk(o.TYPE_IDAT,f)},u.prototype.packIEND=function(){return this._packChunk(o.TYPE_IEND,null)}}).call(this,r("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(r,i,a){"use strict";i.exports=function(o,c,g){var p=o+c-g,d=Math.abs(p-o),u=Math.abs(p-c),f=Math.abs(p-g);return d<=u&&d<=f?o:u<=f?c:g}},{}],125:[function(r,i,a){"use strict";var s=r("util"),o=r("zlib"),c=r("./chunkstream"),g=r("./filter-parse-async"),p=r("./parser"),d=r("./bitmapper"),u=r("./format-normaliser"),f=i.exports=function(l){c.call(this),this._parser=new p(l,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=l,this.writable=!0,this._parser.start()};s.inherits(f,c),f.prototype._handleError=function(l){this.emit("error",l),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},f.prototype._inflateData=function(l){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=o.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var v=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,y=v*this._bitmapInfo.height,h=Math.max(y,o.Z_MIN_CHUNK);this._inflate=o.createInflate({chunkSize:h});var m=y,_=this.emit.bind(this,"error");this._inflate.on("error",function(E){!m||_(E)}),this._filter.on("complete",this._complete.bind(this));var w=this._filter.write.bind(this._filter);this._inflate.on("data",function(E){!m||(E.length>m&&(E=E.slice(0,m)),m-=E.length,w(E))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(l)},f.prototype._handleMetaData=function(l){this.emit("metadata",l),this._bitmapInfo=Object.create(l),this._filter=new g(this._bitmapInfo)},f.prototype._handleTransColor=function(l){this._bitmapInfo.transColor=l},f.prototype._handlePalette=function(l){this._bitmapInfo.palette=l},f.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},f.prototype._complete=function(l){if(!this.errord){try{var v=d.dataToBitMap(l,this._bitmapInfo),y=u(v,this._bitmapInfo);v=null}catch(h){this._handleError(h);return}this.emit("parsed",y)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(r,i,a){(function(s){"use strict";var o=!0,c=r("zlib"),g=r("./sync-inflate");c.deflateSync||(o=!1);var p=r("./sync-reader"),d=r("./filter-parse-sync"),u=r("./parser"),f=r("./bitmapper"),l=r("./format-normaliser");i.exports=function(v,y){if(!o)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var h;function m(Q){h=Q}var _;function w(Q){_=Q}function E(Q){_.transColor=Q}function T(Q){_.palette=Q}var A;function C(Q){A=Q}var R=[];function D(Q){R.push(Q)}var O=new p(v),k=new u(y,{read:O.read.bind(O),error:m,metadata:w,gamma:C,palette:T,transColor:E,inflateData:D});if(k.start(),O.process(),h)throw h;var H=s.concat(R);R.length=0;var B;if(_.interlace)B=c.inflateSync(H);else{var Z=(_.width*_.bpp*_.depth+7>>3)+1,V=Z*_.height;B=g(H,{chunkSize:V,maxLength:V})}if(H=null,!B||!B.length)throw new Error("bad png - invalid inflate data response");var j=d.process(B,_);H=null;var z=f.dataToBitMap(j,_);j=null;var W=l(z,_);return _.data=W,_.gamma=A||0,_}}).call(this,r("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(r,i,a){(function(s){"use strict";var o=r("./constants"),c=r("./crc"),g=i.exports=function(p,d){this._options=p,p.checkCRC=p.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[o.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[o.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[o.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[o.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[o.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[o.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=d.read,this.error=d.error,this.metadata=d.metadata,this.gamma=d.gamma,this.transColor=d.transColor,this.palette=d.palette,this.parsed=d.parsed,this.inflateData=d.inflateData,this.finished=d.finished};g.prototype.start=function(){this.read(o.PNG_SIGNATURE.length,this._parseSignature.bind(this))},g.prototype._parseSignature=function(p){for(var d=o.PNG_SIGNATURE,u=0;u<d.length;u++)if(p[u]!==d[u]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},g.prototype._parseChunkBegin=function(p){for(var d=p.readUInt32BE(0),u=p.readUInt32BE(4),f="",l=4;l<8;l++)f+=String.fromCharCode(p[l]);var v=Boolean(p[4]&32);if(!this._hasIHDR&&u!==o.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new c,this._crc.write(new s(f)),this._chunks[u])return this._chunks[u](d);if(!v){this.error(new Error("Unsupported critical chunk type "+f));return}this.read(d+4,this._skipChunk.bind(this))},g.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},g.prototype._parseChunkEnd=function(p){var d=p.readInt32BE(0),u=this._crc.crc32();if(this._options.checkCRC&&u!==d){this.error(new Error("Crc error - "+d+" - "+u));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleIHDR=function(p){this.read(p,this._parseIHDR.bind(this))},g.prototype._parseIHDR=function(p){this._crc.write(p);var d=p.readUInt32BE(0),u=p.readUInt32BE(4),f=p[8],l=p[9],v=p[10],y=p[11],h=p[12];if(f!==8&&f!==4&&f!==2&&f!==1&&f!==16){this.error(new Error("Unsupported bit depth "+f));return}if(!(l in o.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(v!==0){this.error(new Error("Unsupported compression method"));return}if(y!==0){this.error(new Error("Unsupported filter method"));return}if(h!==0&&h!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=l;var m=o.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:d,height:u,depth:f,interlace:Boolean(h),palette:Boolean(l&o.COLORTYPE_PALETTE),color:Boolean(l&o.COLORTYPE_COLOR),alpha:Boolean(l&o.COLORTYPE_ALPHA),bpp:m,colorType:l}),this._handleChunkEnd()},g.prototype._handlePLTE=function(p){this.read(p,this._parsePLTE.bind(this))},g.prototype._parsePLTE=function(p){this._crc.write(p);for(var d=Math.floor(p.length/3),u=0;u<d;u++)this._palette.push([p[u*3],p[u*3+1],p[u*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},g.prototype._handleTRNS=function(p){this.read(p,this._parseTRNS.bind(this))},g.prototype._parseTRNS=function(p){if(this._crc.write(p),this._colorType===o.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(p.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var d=0;d<p.length;d++)this._palette[d][3]=p[d];this.palette(this._palette)}this._colorType===o.COLORTYPE_GRAYSCALE&&this.transColor([p.readUInt16BE(0)]),this._colorType===o.COLORTYPE_COLOR&&this.transColor([p.readUInt16BE(0),p.readUInt16BE(2),p.readUInt16BE(4)]),this._handleChunkEnd()},g.prototype._handleGAMA=function(p){this.read(p,this._parseGAMA.bind(this))},g.prototype._parseGAMA=function(p){this._crc.write(p),this.gamma(p.readUInt32BE(0)/o.GAMMA_DIVISION),this._handleChunkEnd()},g.prototype._handleIDAT=function(p){this.read(-p,this._parseIDAT.bind(this,p))},g.prototype._parseIDAT=function(p,d){if(this._crc.write(d),this._colorType===o.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(d);var u=p-d.length;u>0?this._handleIDAT(u):this._handleChunkEnd()},g.prototype._handleIEND=function(p){this.read(p,this._parseIEND.bind(this))},g.prototype._parseIEND=function(p){this._crc.write(p),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,r("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(r,i,a){"use strict";var s=r("./parser-sync"),o=r("./packer-sync");a.read=function(c,g){return s(c,g||{})},a.write=function(c,g){return o(c,g)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(r,i,a){(function(s,o){"use strict";var c=r("util"),g=r("stream"),p=r("./parser-async"),d=r("./packer-async"),u=r("./png-sync"),f=a.PNG=function(l){g.call(this),l=l||{},this.width=l.width|0,this.height=l.height|0,this.data=this.width>0&&this.height>0?new o(4*this.width*this.height):null,l.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new p(l),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(v){this.data=v,this.emit("parsed",v)}.bind(this)),this._packer=new d(l),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};c.inherits(f,g),f.sync=u,f.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(s.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},f.prototype.parse=function(l,v){if(v){var y,h;y=function(m){this.removeListener("error",h),this.data=m,v(null,this)}.bind(this),h=function(m){this.removeListener("parsed",y),v(m,null)}.bind(this),this.once("parsed",y),this.once("error",h)}return this.end(l),this},f.prototype.write=function(l){return this._parser.write(l),!0},f.prototype.end=function(l){this._parser.end(l)},f.prototype._metadata=function(l){this.width=l.width,this.height=l.height,this.emit("metadata",l)},f.prototype._gamma=function(l){this.gamma=l},f.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},f.bitblt=function(l,v,y,h,m,_,w,E){if(y|=0,h|=0,m|=0,_|=0,w|=0,E|=0,y>l.width||h>l.height||y+m>l.width||h+_>l.height)throw new Error("bitblt reading outside image");if(w>v.width||E>v.height||w+m>v.width||E+_>v.height)throw new Error("bitblt writing outside image");for(var T=0;T<_;T++)l.data.copy(v.data,(E+T)*v.width+w<<2,(h+T)*l.width+y<<2,(h+T)*l.width+y+m<<2)},f.prototype.bitblt=function(l,v,y,h,m,_,w){return f.bitblt(this,l,v,y,h,m,_,w),this},f.adjustGamma=function(l){if(l.gamma){for(var v=0;v<l.height;v++)for(var y=0;y<l.width;y++)for(var h=l.width*v+y<<2,m=0;m<3;m++){var _=l.data[h+m]/255;_=Math.pow(_,1/2.2/l.gamma),l.data[h+m]=Math.round(_*255)}l.gamma=0}},f.prototype.adjustGamma=function(){f.adjustGamma(this)}}).call(this,r("_process"),r("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(r,i,a){(function(s,o){"use strict";var c=r("assert").ok,g=r("zlib"),p=r("util"),d=r("buffer").kMaxLength;function u(h){if(!(this instanceof u))return new u(h);h&&h.chunkSize<g.Z_MIN_CHUNK&&(h.chunkSize=g.Z_MIN_CHUNK),g.Inflate.call(this,h),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,h&&h.maxLength!=null&&(this._maxLength=h.maxLength)}function f(h){return new u(h)}function l(h,m){m&&s.nextTick(m),!!h._handle&&(h._handle.close(),h._handle=null)}u.prototype._processChunk=function(h,m,_){if(typeof _=="function")return g.Inflate._processChunk.call(this,h,m,_);var w=this,E=h&&h.length,T=this._chunkSize-this._offset,A=this._maxLength,C=0,R=[],D=0,O;this.on("error",function(Z){O=Z});function k(Z,V){if(!w._hadError){var j=T-V;if(c(j>=0,"have should not go down"),j>0){var z=w._buffer.slice(w._offset,w._offset+j);if(w._offset+=j,z.length>A&&(z=z.slice(0,A)),R.push(z),D+=z.length,A-=z.length,A===0)return!1}return(V===0||w._offset>=w._chunkSize)&&(T=w._chunkSize,w._offset=0,w._buffer=o.allocUnsafe(w._chunkSize)),V===0?(C+=E-Z,E=Z,!0):!1}}c(this._handle,"zlib binding closed");do{var H=this._handle.writeSync(m,h,C,E,this._buffer,this._offset,T);H=H||this._writeState}while(!this._hadError&&k(H[0],H[1]));if(this._hadError)throw O;if(D>=d)throw l(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+d.toString(16)+" bytes");var B=o.concat(R,D);return l(this),B},p.inherits(u,g.Inflate);function v(h,m){if(typeof m=="string"&&(m=o.from(m)),!(m instanceof o))throw new TypeError("Not a string or buffer");var _=h._finishFlushFlag;return _==null&&(_=g.Z_FINISH),h._processChunk(m,_)}function y(h,m){return v(new u(m),h)}i.exports=a=y,a.Inflate=u,a.createInflate=f,a.inflateSync=y}).call(this,r("_process"),r("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(r,i,a){"use strict";var s=i.exports=function(o){this._buffer=o,this._reads=[]};s.prototype.read=function(o,c){this._reads.push({length:Math.abs(o),allowLess:o<0,func:c})},s.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var o=this._reads[0];if(this._buffer.length&&(this._buffer.length>=o.length||o.allowLess)){this._reads.shift();var c=this._buffer;this._buffer=c.slice(o.length),o.func.call(this,c.slice(0,o.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(r,i,a){(function(s){"use strict";typeof s=="undefined"||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?i.exports={nextTick:o}:i.exports=s;function o(c,g,p,d){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,f,l;switch(u){case 0:case 1:return s.nextTick(c);case 2:return s.nextTick(function(){c.call(null,g)});case 3:return s.nextTick(function(){c.call(null,g,p)});case 4:return s.nextTick(function(){c.call(null,g,p,d)});default:for(f=new Array(u-1),l=0;l<f.length;)f[l++]=arguments[l];return s.nextTick(function(){c.apply(null,f)})}}}).call(this,r("_process"))},{_process:133}],133:[function(r,i,a){var s=i.exports={},o,c;function g(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=g}catch{o=g}try{typeof clearTimeout=="function"?c=clearTimeout:c=p}catch{c=p}})();function d(E){if(o===setTimeout)return setTimeout(E,0);if((o===g||!o)&&setTimeout)return o=setTimeout,setTimeout(E,0);try{return o(E,0)}catch{try{return o.call(null,E,0)}catch{return o.call(this,E,0)}}}function u(E){if(c===clearTimeout)return clearTimeout(E);if((c===p||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(E);try{return c(E)}catch{try{return c.call(null,E)}catch{return c.call(this,E)}}}var f=[],l=!1,v,y=-1;function h(){!l||!v||(l=!1,v.length?f=v.concat(f):y=-1,f.length&&m())}function m(){if(!l){var E=d(h);l=!0;for(var T=f.length;T;){for(v=f,f=[];++y<T;)v&&v[y].run();y=-1,T=f.length}v=null,l=!1,u(E)}}s.nextTick=function(E){var T=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)T[A-1]=arguments[A];f.push(new _(E,T)),f.length===1&&!l&&d(m)};function _(E,T){this.fun=E,this.array=T}_.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function w(){}s.on=w,s.addListener=w,s.once=w,s.off=w,s.removeListener=w,s.removeAllListeners=w,s.emit=w,s.prependListener=w,s.prependOnceListener=w,s.listeners=function(E){return[]},s.binding=function(E){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(E){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],134:[function(r,i,a){(function(s){(function(o){var c=typeof a=="object"&&a&&!a.nodeType&&a,g=typeof i=="object"&&i&&!i.nodeType&&i,p=typeof s=="object"&&s;(p.global===p||p.window===p||p.self===p)&&(o=p);var d,u=2147483647,f=36,l=1,v=26,y=38,h=700,m=72,_=128,w="-",E=/^xn--/,T=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=f-l,D=Math.floor,O=String.fromCharCode,k;function H(ae){throw new RangeError(C[ae])}function B(ae,oe){for(var ce=ae.length,he=[];ce--;)he[ce]=oe(ae[ce]);return he}function Z(ae,oe){var ce=ae.split("@"),he="";ce.length>1&&(he=ce[0]+"@",ae=ce[1]),ae=ae.replace(A,".");var we=ae.split("."),xe=B(we,oe).join(".");return he+xe}function V(ae){for(var oe=[],ce=0,he=ae.length,we,xe;ce<he;)we=ae.charCodeAt(ce++),we>=55296&&we<=56319&&ce<he?(xe=ae.charCodeAt(ce++),(xe&64512)==56320?oe.push(((we&1023)<<10)+(xe&1023)+65536):(oe.push(we),ce--)):oe.push(we);return oe}function j(ae){return B(ae,function(oe){var ce="";return oe>65535&&(oe-=65536,ce+=O(oe>>>10&1023|55296),oe=56320|oe&1023),ce+=O(oe),ce}).join("")}function z(ae){return ae-48<10?ae-22:ae-65<26?ae-65:ae-97<26?ae-97:f}function W(ae,oe){return ae+22+75*(ae<26)-((oe!=0)<<5)}function Q(ae,oe,ce){var he=0;for(ae=ce?D(ae/h):ae>>1,ae+=D(ae/oe);ae>R*v>>1;he+=f)ae=D(ae/R);return D(he+(R+1)*ae/(ae+y))}function se(ae){var oe=[],ce=ae.length,he,we=0,xe=_,Oe=m,ge,De,pe,de,ie,re,q,te,G;for(ge=ae.lastIndexOf(w),ge<0&&(ge=0),De=0;De<ge;++De)ae.charCodeAt(De)>=128&&H("not-basic"),oe.push(ae.charCodeAt(De));for(pe=ge>0?ge+1:0;pe<ce;){for(de=we,ie=1,re=f;pe>=ce&&H("invalid-input"),q=z(ae.charCodeAt(pe++)),(q>=f||q>D((u-we)/ie))&&H("overflow"),we+=q*ie,te=re<=Oe?l:re>=Oe+v?v:re-Oe,!(q<te);re+=f)G=f-te,ie>D(u/G)&&H("overflow"),ie*=G;he=oe.length+1,Oe=Q(we-de,he,de==0),D(we/he)>u-xe&&H("overflow"),xe+=D(we/he),we%=he,oe.splice(we++,0,xe)}return j(oe)}function le(ae){var oe,ce,he,we,xe,Oe,ge,De,pe,de,ie,re=[],q,te,G,L;for(ae=V(ae),q=ae.length,oe=_,ce=0,xe=m,Oe=0;Oe<q;++Oe)ie=ae[Oe],ie<128&&re.push(O(ie));for(he=we=re.length,we&&re.push(w);he<q;){for(ge=u,Oe=0;Oe<q;++Oe)ie=ae[Oe],ie>=oe&&ie<ge&&(ge=ie);for(te=he+1,ge-oe>D((u-ce)/te)&&H("overflow"),ce+=(ge-oe)*te,oe=ge,Oe=0;Oe<q;++Oe)if(ie=ae[Oe],ie<oe&&++ce>u&&H("overflow"),ie==oe){for(De=ce,pe=f;de=pe<=xe?l:pe>=xe+v?v:pe-xe,!(De<de);pe+=f)L=De-de,G=f-de,re.push(O(W(de+L%G,0))),De=D(L/G);re.push(O(W(De,0))),xe=Q(ce,te,he==we),ce=0,++he}++ce,++oe}return re.join("")}function fe(ae){return Z(ae,function(oe){return E.test(oe)?se(oe.slice(4).toLowerCase()):oe})}function $(ae){return Z(ae,function(oe){return T.test(oe)?"xn--"+le(oe):oe})}if(d={version:"1.4.1",ucs2:{decode:V,encode:j},decode:se,encode:le,toASCII:$,toUnicode:fe},typeof n=="function"&&typeof n.amd=="object"&&n.amd)n("punycode",function(){return d});else if(c&&g)if(i.exports==c)g.exports=d;else for(k in d)d.hasOwnProperty(k)&&(c[k]=d[k]);else o.punycode=d})(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{}],135:[function(r,i,a){"use strict";function s(c,g){return Object.prototype.hasOwnProperty.call(c,g)}i.exports=function(c,g,p,d){g=g||"&",p=p||"=";var u={};if(typeof c!="string"||c.length===0)return u;var f=/\+/g;c=c.split(g);var l=1e3;d&&typeof d.maxKeys=="number"&&(l=d.maxKeys);var v=c.length;l>0&&v>l&&(v=l);for(var y=0;y<v;++y){var h=c[y].replace(f,"%20"),m=h.indexOf(p),_,w,E,T;m>=0?(_=h.substr(0,m),w=h.substr(m+1)):(_=h,w=""),E=decodeURIComponent(_),T=decodeURIComponent(w),s(u,E)?o(u[E])?u[E].push(T):u[E]=[u[E],T]:u[E]=T}return u};var o=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}},{}],136:[function(r,i,a){"use strict";var s=function(p){switch(typeof p){case"string":return p;case"boolean":return p?"true":"false";case"number":return isFinite(p)?p:"";default:return""}};i.exports=function(p,d,u,f){return d=d||"&",u=u||"=",p===null&&(p=void 0),typeof p=="object"?c(g(p),function(l){var v=encodeURIComponent(s(l))+u;return o(p[l])?c(p[l],function(y){return v+encodeURIComponent(s(y))}).join(d):v+encodeURIComponent(s(p[l]))}).join(d):f?encodeURIComponent(s(f))+u+encodeURIComponent(s(p)):""};var o=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function c(p,d){if(p.map)return p.map(d);for(var u=[],f=0;f<p.length;f++)u.push(d(p[f],f));return u}var g=Object.keys||function(p){var d=[];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&d.push(u);return d}},{}],137:[function(r,i,a){"use strict";a.decode=a.parse=r("./decode"),a.encode=a.stringify=r("./encode")},{"./decode":135,"./encode":136}],138:[function(r,i,a){i.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(r,i,a){"use strict";var s=r("process-nextick-args"),o=Object.keys||function(h){var m=[];for(var _ in h)m.push(_);return m};i.exports=l;var c=r("core-util-is");c.inherits=r("inherits");var g=r("./_stream_readable"),p=r("./_stream_writable");c.inherits(l,g);for(var d=o(p.prototype),u=0;u<d.length;u++){var f=d[u];l.prototype[f]||(l.prototype[f]=p.prototype[f])}function l(h){if(!(this instanceof l))return new l(h);g.call(this,h),p.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(){this.allowHalfOpen||this._writableState.ended||s.nextTick(y,this)}function y(h){h.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),l.prototype._destroy=function(h,m){this.push(null),this.end(),s.nextTick(m,h)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(r,i,a){"use strict";i.exports=c;var s=r("./_stream_transform"),o=r("core-util-is");o.inherits=r("inherits"),o.inherits(c,s);function c(g){if(!(this instanceof c))return new c(g);s.call(this,g)}c.prototype._transform=function(g,p,d){d(null,g)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(r,i,a){(function(s,o){"use strict";var c=r("process-nextick-args");i.exports=O;var g=r("isarray"),p;O.ReadableState=D;var d=r("events").EventEmitter,u=function(ie,re){return ie.listeners(re).length},f=r("./internal/streams/stream"),l=r("safe-buffer").Buffer,v=o.Uint8Array||function(){};function y(ie){return l.from(ie)}function h(ie){return l.isBuffer(ie)||ie instanceof v}var m=r("core-util-is");m.inherits=r("inherits");var _=r("util"),w=void 0;_&&_.debuglog?w=_.debuglog("stream"):w=function(){};var E=r("./internal/streams/BufferList"),T=r("./internal/streams/destroy"),A;m.inherits(O,f);var C=["error","close","destroy","pause","resume"];function R(ie,re,q){if(typeof ie.prependListener=="function")return ie.prependListener(re,q);!ie._events||!ie._events[re]?ie.on(re,q):g(ie._events[re])?ie._events[re].unshift(q):ie._events[re]=[q,ie._events[re]]}function D(ie,re){p=p||r("./_stream_duplex"),ie=ie||{};var q=re instanceof p;this.objectMode=!!ie.objectMode,q&&(this.objectMode=this.objectMode||!!ie.readableObjectMode);var te=ie.highWaterMark,G=ie.readableHighWaterMark,L=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:q&&(G||G===0)?this.highWaterMark=G:this.highWaterMark=L,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(A||(A=r("string_decoder/").StringDecoder),this.decoder=new A(ie.encoding),this.encoding=ie.encoding)}function O(ie){if(p=p||r("./_stream_duplex"),!(this instanceof O))return new O(ie);this._readableState=new D(ie,this),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ie){!this._readableState||(this._readableState.destroyed=ie)}}),O.prototype.destroy=T.destroy,O.prototype._undestroy=T.undestroy,O.prototype._destroy=function(ie,re){this.push(null),re(ie)},O.prototype.push=function(ie,re){var q=this._readableState,te;return q.objectMode?te=!0:typeof ie=="string"&&(re=re||q.defaultEncoding,re!==q.encoding&&(ie=l.from(ie,re),re=""),te=!0),k(this,ie,re,!1,te)},O.prototype.unshift=function(ie){return k(this,ie,null,!0,!1)};function k(ie,re,q,te,G){var L=ie._readableState;if(re===null)L.reading=!1,W(ie,L);else{var I;G||(I=B(L,re)),I?ie.emit("error",I):L.objectMode||re&&re.length>0?(typeof re!="string"&&!L.objectMode&&Object.getPrototypeOf(re)!==l.prototype&&(re=y(re)),te?L.endEmitted?ie.emit("error",new Error("stream.unshift() after end event")):H(ie,L,re,!0):L.ended?ie.emit("error",new Error("stream.push() after EOF")):(L.reading=!1,L.decoder&&!q?(re=L.decoder.write(re),L.objectMode||re.length!==0?H(ie,L,re,!1):le(ie,L)):H(ie,L,re,!1))):te||(L.reading=!1)}return Z(L)}function H(ie,re,q,te){re.flowing&&re.length===0&&!re.sync?(ie.emit("data",q),ie.read(0)):(re.length+=re.objectMode?1:q.length,te?re.buffer.unshift(q):re.buffer.push(q),re.needReadable&&Q(ie)),le(ie,re)}function B(ie,re){var q;return!h(re)&&typeof re!="string"&&re!==void 0&&!ie.objectMode&&(q=new TypeError("Invalid non-string/buffer chunk")),q}function Z(ie){return!ie.ended&&(ie.needReadable||ie.length<ie.highWaterMark||ie.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(ie){return A||(A=r("string_decoder/").StringDecoder),this._readableState.decoder=new A(ie),this._readableState.encoding=ie,this};var V=8388608;function j(ie){return ie>=V?ie=V:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function z(ie,re){return ie<=0||re.length===0&&re.ended?0:re.objectMode?1:ie!==ie?re.flowing&&re.length?re.buffer.head.data.length:re.length:(ie>re.highWaterMark&&(re.highWaterMark=j(ie)),ie<=re.length?ie:re.ended?re.length:(re.needReadable=!0,0))}O.prototype.read=function(ie){w("read",ie),ie=parseInt(ie,10);var re=this._readableState,q=ie;if(ie!==0&&(re.emittedReadable=!1),ie===0&&re.needReadable&&(re.length>=re.highWaterMark||re.ended))return w("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?De(this):Q(this),null;if(ie=z(ie,re),ie===0&&re.ended)return re.length===0&&De(this),null;var te=re.needReadable;w("need readable",te),(re.length===0||re.length-ie<re.highWaterMark)&&(te=!0,w("length less than watermark",te)),re.ended||re.reading?(te=!1,w("reading or ended",te)):te&&(w("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(ie=z(q,re)));var G;return ie>0?G=we(ie,re):G=null,G===null?(re.needReadable=!0,ie=0):re.length-=ie,re.length===0&&(re.ended||(re.needReadable=!0),q!==ie&&re.ended&&De(this)),G!==null&&this.emit("data",G),G};function W(ie,re){if(!re.ended){if(re.decoder){var q=re.decoder.end();q&&q.length&&(re.buffer.push(q),re.length+=re.objectMode?1:q.length)}re.ended=!0,Q(ie)}}function Q(ie){var re=ie._readableState;re.needReadable=!1,re.emittedReadable||(w("emitReadable",re.flowing),re.emittedReadable=!0,re.sync?c.nextTick(se,ie):se(ie))}function se(ie){w("emit readable"),ie.emit("readable"),he(ie)}function le(ie,re){re.readingMore||(re.readingMore=!0,c.nextTick(fe,ie,re))}function fe(ie,re){for(var q=re.length;!re.reading&&!re.flowing&&!re.ended&&re.length<re.highWaterMark&&(w("maybeReadMore read 0"),ie.read(0),q!==re.length);)q=re.length;re.readingMore=!1}O.prototype._read=function(ie){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(ie,re){var q=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=ie;break;case 1:te.pipes=[te.pipes,ie];break;default:te.pipes.push(ie);break}te.pipesCount+=1,w("pipe count=%d opts=%j",te.pipesCount,re);var G=(!re||re.end!==!1)&&ie!==s.stdout&&ie!==s.stderr,L=G?U:Me;te.endEmitted?c.nextTick(L):q.once("end",L),ie.on("unpipe",I);function I(Ge,et){w("onunpipe"),Ge===q&&et&&et.hasUnpiped===!1&&(et.hasUnpiped=!0,Ie())}function U(){w("onend"),ie.end()}var J=$(q);ie.on("drain",J);var ye=!1;function Ie(){w("cleanup"),ie.removeListener("close",qe),ie.removeListener("finish",Ye),ie.removeListener("drain",J),ie.removeListener("error",ze),ie.removeListener("unpipe",I),q.removeListener("end",U),q.removeListener("end",Me),q.removeListener("data",Le),ye=!0,te.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&J()}var be=!1;q.on("data",Le);function Le(Ge){w("ondata"),be=!1;var et=ie.write(Ge);et===!1&&!be&&((te.pipesCount===1&&te.pipes===ie||te.pipesCount>1&&de(te.pipes,ie)!==-1)&&!ye&&(w("false write response, pause",q._readableState.awaitDrain),q._readableState.awaitDrain++,be=!0),q.pause())}function ze(Ge){w("onerror",Ge),Me(),ie.removeListener("error",ze),u(ie,"error")===0&&ie.emit("error",Ge)}R(ie,"error",ze);function qe(){ie.removeListener("finish",Ye),Me()}ie.once("close",qe);function Ye(){w("onfinish"),ie.removeListener("close",qe),Me()}ie.once("finish",Ye);function Me(){w("unpipe"),q.unpipe(ie)}return ie.emit("pipe",q),te.flowing||(w("pipe resume"),q.resume()),ie};function $(ie){return function(){var re=ie._readableState;w("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&u(ie,"data")&&(re.flowing=!0,he(ie))}}O.prototype.unpipe=function(ie){var re=this._readableState,q={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return ie&&ie!==re.pipes?this:(ie||(ie=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,ie&&ie.emit("unpipe",this,q),this);if(!ie){var te=re.pipes,G=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var L=0;L<G;L++)te[L].emit("unpipe",this,q);return this}var I=de(re.pipes,ie);return I===-1?this:(re.pipes.splice(I,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),ie.emit("unpipe",this,q),this)},O.prototype.on=function(ie,re){var q=f.prototype.on.call(this,ie,re);if(ie==="data")this._readableState.flowing!==!1&&this.resume();else if(ie==="readable"){var te=this._readableState;!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.emittedReadable=!1,te.reading?te.length&&Q(this):c.nextTick(ae,this))}return q},O.prototype.addListener=O.prototype.on;function ae(ie){w("readable nexttick read 0"),ie.read(0)}O.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(w("resume"),ie.flowing=!0,oe(this,ie)),this};function oe(ie,re){re.resumeScheduled||(re.resumeScheduled=!0,c.nextTick(ce,ie,re))}function ce(ie,re){re.reading||(w("resume read 0"),ie.read(0)),re.resumeScheduled=!1,re.awaitDrain=0,ie.emit("resume"),he(ie),re.flowing&&!re.reading&&ie.read(0)}O.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function he(ie){var re=ie._readableState;for(w("flow",re.flowing);re.flowing&&ie.read()!==null;);}O.prototype.wrap=function(ie){var re=this,q=this._readableState,te=!1;ie.on("end",function(){if(w("wrapped end"),q.decoder&&!q.ended){var I=q.decoder.end();I&&I.length&&re.push(I)}re.push(null)}),ie.on("data",function(I){if(w("wrapped data"),q.decoder&&(I=q.decoder.write(I)),!(q.objectMode&&I==null)&&!(!q.objectMode&&(!I||!I.length))){var U=re.push(I);U||(te=!0,ie.pause())}});for(var G in ie)this[G]===void 0&&typeof ie[G]=="function"&&(this[G]=function(I){return function(){return ie[I].apply(ie,arguments)}}(G));for(var L=0;L<C.length;L++)ie.on(C[L],this.emit.bind(this,C[L]));return this._read=function(I){w("wrapped _read",I),te&&(te=!1,ie.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=we;function we(ie,re){if(re.length===0)return null;var q;return re.objectMode?q=re.buffer.shift():!ie||ie>=re.length?(re.decoder?q=re.buffer.join(""):re.buffer.length===1?q=re.buffer.head.data:q=re.buffer.concat(re.length),re.buffer.clear()):q=xe(ie,re.buffer,re.decoder),q}function xe(ie,re,q){var te;return ie<re.head.data.length?(te=re.head.data.slice(0,ie),re.head.data=re.head.data.slice(ie)):ie===re.head.data.length?te=re.shift():te=q?Oe(ie,re):ge(ie,re),te}function Oe(ie,re){var q=re.head,te=1,G=q.data;for(ie-=G.length;q=q.next;){var L=q.data,I=ie>L.length?L.length:ie;if(I===L.length?G+=L:G+=L.slice(0,ie),ie-=I,ie===0){I===L.length?(++te,q.next?re.head=q.next:re.head=re.tail=null):(re.head=q,q.data=L.slice(I));break}++te}return re.length-=te,G}function ge(ie,re){var q=l.allocUnsafe(ie),te=re.head,G=1;for(te.data.copy(q),ie-=te.data.length;te=te.next;){var L=te.data,I=ie>L.length?L.length:ie;if(L.copy(q,q.length-ie,0,I),ie-=I,ie===0){I===L.length?(++G,te.next?re.head=te.next:re.head=re.tail=null):(re.head=te,te.data=L.slice(I));break}++G}return re.length-=G,q}function De(ie){var re=ie._readableState;if(re.length>0)throw new Error('"endReadable()" called on non-empty stream');re.endEmitted||(re.ended=!0,c.nextTick(pe,re,ie))}function pe(ie,re){!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,re.readable=!1,re.emit("end"))}function de(ie,re){for(var q=0,te=ie.length;q<te;q++)if(ie[q]===re)return q;return-1}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(r,i,a){"use strict";i.exports=g;var s=r("./_stream_duplex"),o=r("core-util-is");o.inherits=r("inherits"),o.inherits(g,s);function c(u,f){var l=this._transformState;l.transforming=!1;var v=l.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,f!=null&&this.push(f),v(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function g(u){if(!(this instanceof g))return new g(u);s.call(this,u),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",p)}function p(){var u=this;typeof this._flush=="function"?this._flush(function(f,l){d(u,f,l)}):d(this,null,null)}g.prototype.push=function(u,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,f)},g.prototype._transform=function(u,f,l){throw new Error("_transform() is not implemented")},g.prototype._write=function(u,f,l){var v=this._transformState;if(v.writecb=l,v.writechunk=u,v.writeencoding=f,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},g.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},g.prototype._destroy=function(u,f){var l=this;s.prototype._destroy.call(this,u,function(v){f(v),l.emit("close")})};function d(u,f,l){if(f)return u.emit("error",f);if(l!=null&&u.push(l),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(r,i,a){(function(s,o,c){"use strict";var g=r("process-nextick-args");i.exports=R;function p(ce,he,we){this.chunk=ce,this.encoding=he,this.callback=we,this.next=null}function d(ce){var he=this;this.next=null,this.entry=null,this.finish=function(){oe(he,ce)}}var u=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?c:g.nextTick,f;R.WritableState=A;var l=r("core-util-is");l.inherits=r("inherits");var v={deprecate:r("util-deprecate")},y=r("./internal/streams/stream"),h=r("safe-buffer").Buffer,m=o.Uint8Array||function(){};function _(ce){return h.from(ce)}function w(ce){return h.isBuffer(ce)||ce instanceof m}var E=r("./internal/streams/destroy");l.inherits(R,y);function T(){}function A(ce,he){f=f||r("./_stream_duplex"),ce=ce||{};var we=he instanceof f;this.objectMode=!!ce.objectMode,we&&(this.objectMode=this.objectMode||!!ce.writableObjectMode);var xe=ce.highWaterMark,Oe=ce.writableHighWaterMark,ge=this.objectMode?16:16*1024;xe||xe===0?this.highWaterMark=xe:we&&(Oe||Oe===0)?this.highWaterMark=Oe:this.highWaterMark=ge,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var De=ce.decodeStrings===!1;this.decodeStrings=!De,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){j(he,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}A.prototype.getBuffer=function(){for(var he=this.bufferedRequest,we=[];he;)we.push(he),he=he.next;return we},function(){try{Object.defineProperty(A.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(ce){return C.call(this,ce)?!0:this!==R?!1:ce&&ce._writableState instanceof A}})):C=function(ce){return ce instanceof this};function R(ce){if(f=f||r("./_stream_duplex"),!C.call(R,this)&&!(this instanceof f))return new R(ce);this._writableState=new A(ce,this),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),y.call(this)}R.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function D(ce,he){var we=new Error("write after end");ce.emit("error",we),g.nextTick(he,we)}function O(ce,he,we,xe){var Oe=!0,ge=!1;return we===null?ge=new TypeError("May not write null values to stream"):typeof we!="string"&&we!==void 0&&!he.objectMode&&(ge=new TypeError("Invalid non-string/buffer chunk")),ge&&(ce.emit("error",ge),g.nextTick(xe,ge),Oe=!1),Oe}R.prototype.write=function(ce,he,we){var xe=this._writableState,Oe=!1,ge=!xe.objectMode&&w(ce);return ge&&!h.isBuffer(ce)&&(ce=_(ce)),typeof he=="function"&&(we=he,he=null),ge?he="buffer":he||(he=xe.defaultEncoding),typeof we!="function"&&(we=T),xe.ended?D(this,we):(ge||O(this,xe,ce,we))&&(xe.pendingcb++,Oe=H(this,xe,ge,ce,he,we)),Oe},R.prototype.cork=function(){var ce=this._writableState;ce.corked++},R.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.finished&&!ce.bufferProcessing&&ce.bufferedRequest&&Q(this,ce))},R.prototype.setDefaultEncoding=function(he){if(typeof he=="string"&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+he);return this._writableState.defaultEncoding=he,this};function k(ce,he,we){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof he=="string"&&(he=h.from(he,we)),he}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(ce,he,we,xe,Oe,ge){if(!we){var De=k(he,xe,Oe);xe!==De&&(we=!0,Oe="buffer",xe=De)}var pe=he.objectMode?1:xe.length;he.length+=pe;var de=he.length<he.highWaterMark;if(de||(he.needDrain=!0),he.writing||he.corked){var ie=he.lastBufferedRequest;he.lastBufferedRequest={chunk:xe,encoding:Oe,isBuf:we,callback:ge,next:null},ie?ie.next=he.lastBufferedRequest:he.bufferedRequest=he.lastBufferedRequest,he.bufferedRequestCount+=1}else B(ce,he,!1,pe,xe,Oe,ge);return de}function B(ce,he,we,xe,Oe,ge,De){he.writelen=xe,he.writecb=De,he.writing=!0,he.sync=!0,we?ce._writev(Oe,he.onwrite):ce._write(Oe,ge,he.onwrite),he.sync=!1}function Z(ce,he,we,xe,Oe){--he.pendingcb,we?(g.nextTick(Oe,xe),g.nextTick($,ce,he),ce._writableState.errorEmitted=!0,ce.emit("error",xe)):(Oe(xe),ce._writableState.errorEmitted=!0,ce.emit("error",xe),$(ce,he))}function V(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function j(ce,he){var we=ce._writableState,xe=we.sync,Oe=we.writecb;if(V(we),he)Z(ce,we,xe,he,Oe);else{var ge=se(we);!ge&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&Q(ce,we),xe?u(z,ce,we,ge,Oe):z(ce,we,ge,Oe)}}function z(ce,he,we,xe){we||W(ce,he),he.pendingcb--,xe(),$(ce,he)}function W(ce,he){he.length===0&&he.needDrain&&(he.needDrain=!1,ce.emit("drain"))}function Q(ce,he){he.bufferProcessing=!0;var we=he.bufferedRequest;if(ce._writev&&we&&we.next){var xe=he.bufferedRequestCount,Oe=new Array(xe),ge=he.corkedRequestsFree;ge.entry=we;for(var De=0,pe=!0;we;)Oe[De]=we,we.isBuf||(pe=!1),we=we.next,De+=1;Oe.allBuffers=pe,B(ce,he,!0,he.length,Oe,"",ge.finish),he.pendingcb++,he.lastBufferedRequest=null,ge.next?(he.corkedRequestsFree=ge.next,ge.next=null):he.corkedRequestsFree=new d(he),he.bufferedRequestCount=0}else{for(;we;){var de=we.chunk,ie=we.encoding,re=we.callback,q=he.objectMode?1:de.length;if(B(ce,he,!1,q,de,ie,re),we=we.next,he.bufferedRequestCount--,he.writing)break}we===null&&(he.lastBufferedRequest=null)}he.bufferedRequest=we,he.bufferProcessing=!1}R.prototype._write=function(ce,he,we){we(new Error("_write() is not implemented"))},R.prototype._writev=null,R.prototype.end=function(ce,he,we){var xe=this._writableState;typeof ce=="function"?(we=ce,ce=null,he=null):typeof he=="function"&&(we=he,he=null),ce!=null&&this.write(ce,he),xe.corked&&(xe.corked=1,this.uncork()),!xe.ending&&!xe.finished&&ae(this,xe,we)};function se(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function le(ce,he){ce._final(function(we){he.pendingcb--,we&&ce.emit("error",we),he.prefinished=!0,ce.emit("prefinish"),$(ce,he)})}function fe(ce,he){!he.prefinished&&!he.finalCalled&&(typeof ce._final=="function"?(he.pendingcb++,he.finalCalled=!0,g.nextTick(le,ce,he)):(he.prefinished=!0,ce.emit("prefinish")))}function $(ce,he){var we=se(he);return we&&(fe(ce,he),he.pendingcb===0&&(he.finished=!0,ce.emit("finish"))),we}function ae(ce,he,we){he.ending=!0,$(ce,he),we&&(he.finished?g.nextTick(we):ce.once("finish",we)),he.ended=!0,ce.writable=!1}function oe(ce,he,we){var xe=ce.entry;for(ce.entry=null;xe;){var Oe=xe.callback;he.pendingcb--,Oe(we),xe=xe.next}he.corkedRequestsFree?he.corkedRequestsFree.next=ce:he.corkedRequestsFree=ce}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ce){!this._writableState||(this._writableState.destroyed=ce)}}),R.prototype.destroy=E.destroy,R.prototype._undestroy=E.undestroy,R.prototype._destroy=function(ce,he){this.end(),he(ce)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{},r("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(r,i,a){"use strict";function s(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}var o=r("safe-buffer").Buffer,c=r("util");function g(p,d,u){p.copy(d,u)}i.exports=function(){function p(){s(this,p),this.head=null,this.tail=null,this.length=0}return p.prototype.push=function(u){var f={data:u,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},p.prototype.unshift=function(u){var f={data:u,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},p.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},p.prototype.clear=function(){this.head=this.tail=null,this.length=0},p.prototype.join=function(u){if(this.length===0)return"";for(var f=this.head,l=""+f.data;f=f.next;)l+=u+f.data;return l},p.prototype.concat=function(u){if(this.length===0)return o.alloc(0);if(this.length===1)return this.head.data;for(var f=o.allocUnsafe(u>>>0),l=this.head,v=0;l;)g(l.data,f,v),v+=l.data.length,l=l.next;return f},p}(),c&&c.inspect&&c.inspect.custom&&(i.exports.prototype[c.inspect.custom]=function(){var p=c.inspect({length:this.length});return this.constructor.name+" "+p})},{"safe-buffer":147,util:33}],145:[function(r,i,a){"use strict";var s=r("process-nextick-args");function o(p,d){var u=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(d?d(p):p&&(!this._writableState||!this._writableState.errorEmitted)&&s.nextTick(g,this,p),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(v){!d&&v?(s.nextTick(g,u,v),u._writableState&&(u._writableState.errorEmitted=!0)):d&&d(v)}),this)}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(p,d){p.emit("error",d)}i.exports={destroy:o,undestroy:c}},{"process-nextick-args":132}],146:[function(r,i,a){i.exports=r("events").EventEmitter},{events:52}],147:[function(r,i,a){var s=r("buffer"),o=s.Buffer;function c(p,d){for(var u in p)d[u]=p[u]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?i.exports=s:(c(s,a),a.Buffer=g);function g(p,d,u){return o(p,d,u)}c(o,g),g.from=function(p,d,u){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,d,u)},g.alloc=function(p,d,u){if(typeof p!="number")throw new TypeError("Argument must be a number");var f=o(p);return d!==void 0?typeof u=="string"?f.fill(d,u):f.fill(d):f.fill(0),f},g.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},g.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(p)}},{buffer:48}],148:[function(r,i,a){"use strict";var s=r("safe-buffer").Buffer,o=s.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(A){if(!A)return"utf8";for(var C;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(C)return;A=(""+A).toLowerCase(),C=!0}}function g(A){var C=c(A);if(typeof C!="string"&&(s.isEncoding===o||!o(A)))throw new Error("Unknown encoding: "+A);return C||A}a.StringDecoder=p;function p(A){this.encoding=g(A);var C;switch(this.encoding){case"utf16le":this.text=h,this.end=m,C=4;break;case"utf8":this.fillLast=l,C=4;break;case"base64":this.text=_,this.end=w,C=3;break;default:this.write=E,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(C)}p.prototype.write=function(A){if(A.length===0)return"";var C,R;if(this.lastNeed){if(C=this.fillLast(A),C===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<A.length?C?C+this.text(A,R):this.text(A,R):C||""},p.prototype.end=y,p.prototype.text=v,p.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function d(A){return A<=127?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function u(A,C,R){var D=C.length-1;if(D<R)return 0;var O=d(C[D]);return O>=0?(O>0&&(A.lastNeed=O-1),O):--D<R||O===-2?0:(O=d(C[D]),O>=0?(O>0&&(A.lastNeed=O-2),O):--D<R||O===-2?0:(O=d(C[D]),O>=0?(O>0&&(O===2?O=0:A.lastNeed=O-3),O):0))}function f(A,C,R){if((C[0]&192)!=128)return A.lastNeed=0,"\uFFFD";if(A.lastNeed>1&&C.length>1){if((C[1]&192)!=128)return A.lastNeed=1,"\uFFFD";if(A.lastNeed>2&&C.length>2&&(C[2]&192)!=128)return A.lastNeed=2,"\uFFFD"}}function l(A){var C=this.lastTotal-this.lastNeed,R=f(this,A,C);if(R!==void 0)return R;if(this.lastNeed<=A.length)return A.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,C,0,A.length),this.lastNeed-=A.length}function v(A,C){var R=u(this,A,C);if(!this.lastNeed)return A.toString("utf8",C);this.lastTotal=R;var D=A.length-(R-this.lastNeed);return A.copy(this.lastChar,0,D),A.toString("utf8",C,D)}function y(A){var C=A&&A.length?this.write(A):"";return this.lastNeed?C+"\uFFFD":C}function h(A,C){if((A.length-C)%2==0){var R=A.toString("utf16le",C);if(R){var D=R.charCodeAt(R.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",C,A.length-1)}function m(A){var C=A&&A.length?this.write(A):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,R)}return C}function _(A,C){var R=(A.length-C)%3;return R===0?A.toString("base64",C):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",C,A.length-R))}function w(A){var C=A&&A.length?this.write(A):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function E(A){return A.toString(this.encoding)}function T(A){return A&&A.length?this.write(A):""}},{"safe-buffer":147}],149:[function(r,i,a){i.exports=r("./readable").PassThrough},{"./readable":150}],150:[function(r,i,a){a=i.exports=r("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=r("./lib/_stream_writable.js"),a.Duplex=r("./lib/_stream_duplex.js"),a.Transform=r("./lib/_stream_transform.js"),a.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(r,i,a){i.exports=r("./readable").Transform},{"./readable":150}],152:[function(r,i,a){i.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(r,i,a){var s=function(o){"use strict";var c=Object.prototype,g=c.hasOwnProperty,p,d=typeof Symbol=="function"?Symbol:{},u=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",l=d.toStringTag||"@@toStringTag";function v(le,fe,$,ae){var oe=fe&&fe.prototype instanceof T?fe:T,ce=Object.create(oe.prototype),he=new W(ae||[]);return ce._invoke=Z(le,$,he),ce}o.wrap=v;function y(le,fe,$){try{return{type:"normal",arg:le.call(fe,$)}}catch(ae){return{type:"throw",arg:ae}}}var h="suspendedStart",m="suspendedYield",_="executing",w="completed",E={};function T(){}function A(){}function C(){}var R={};R[u]=function(){return this};var D=Object.getPrototypeOf,O=D&&D(D(Q([])));O&&O!==c&&g.call(O,u)&&(R=O);var k=C.prototype=T.prototype=Object.create(R);A.prototype=k.constructor=C,C.constructor=A,C[l]=A.displayName="GeneratorFunction";function H(le){["next","throw","return"].forEach(function(fe){le[fe]=function($){return this._invoke(fe,$)}})}o.isGeneratorFunction=function(le){var fe=typeof le=="function"&&le.constructor;return fe?fe===A||(fe.displayName||fe.name)==="GeneratorFunction":!1},o.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,C):(le.__proto__=C,l in le||(le[l]="GeneratorFunction")),le.prototype=Object.create(k),le},o.awrap=function(le){return{__await:le}};function B(le){function fe(oe,ce,he,we){var xe=y(le[oe],le,ce);if(xe.type==="throw")we(xe.arg);else{var Oe=xe.arg,ge=Oe.value;return ge&&typeof ge=="object"&&g.call(ge,"__await")?Promise.resolve(ge.__await).then(function(De){fe("next",De,he,we)},function(De){fe("throw",De,he,we)}):Promise.resolve(ge).then(function(De){Oe.value=De,he(Oe)},function(De){return fe("throw",De,he,we)})}}var $;function ae(oe,ce){function he(){return new Promise(function(we,xe){fe(oe,ce,we,xe)})}return $=$?$.then(he,he):he()}this._invoke=ae}H(B.prototype),B.prototype[f]=function(){return this},o.AsyncIterator=B,o.async=function(le,fe,$,ae){var oe=new B(v(le,fe,$,ae));return o.isGeneratorFunction(fe)?oe:oe.next().then(function(ce){return ce.done?ce.value:oe.next()})};function Z(le,fe,$){var ae=h;return function(ce,he){if(ae===_)throw new Error("Generator is already running");if(ae===w){if(ce==="throw")throw he;return se()}for($.method=ce,$.arg=he;;){var we=$.delegate;if(we){var xe=V(we,$);if(xe){if(xe===E)continue;return xe}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ae===h)throw ae=w,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ae=_;var Oe=y(le,fe,$);if(Oe.type==="normal"){if(ae=$.done?w:m,Oe.arg===E)continue;return{value:Oe.arg,done:$.done}}else Oe.type==="throw"&&(ae=w,$.method="throw",$.arg=Oe.arg)}}}function V(le,fe){var $=le.iterator[fe.method];if($===p){if(fe.delegate=null,fe.method==="throw"){if(le.iterator.return&&(fe.method="return",fe.arg=p,V(le,fe),fe.method==="throw"))return E;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var ae=y($,le.iterator,fe.arg);if(ae.type==="throw")return fe.method="throw",fe.arg=ae.arg,fe.delegate=null,E;var oe=ae.arg;if(!oe)return fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,E;if(oe.done)fe[le.resultName]=oe.value,fe.next=le.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=p);else return oe;return fe.delegate=null,E}H(k),k[l]="Generator",k[u]=function(){return this},k.toString=function(){return"[object Generator]"};function j(le){var fe={tryLoc:le[0]};1 in le&&(fe.catchLoc=le[1]),2 in le&&(fe.finallyLoc=le[2],fe.afterLoc=le[3]),this.tryEntries.push(fe)}function z(le){var fe=le.completion||{};fe.type="normal",delete fe.arg,le.completion=fe}function W(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(j,this),this.reset(!0)}o.keys=function(le){var fe=[];for(var $ in le)fe.push($);return fe.reverse(),function ae(){for(;fe.length;){var oe=fe.pop();if(oe in le)return ae.value=oe,ae.done=!1,ae}return ae.done=!0,ae}};function Q(le){if(le){var fe=le[u];if(fe)return fe.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var $=-1,ae=function oe(){for(;++$<le.length;)if(g.call(le,$))return oe.value=le[$],oe.done=!1,oe;return oe.value=p,oe.done=!0,oe};return ae.next=ae}}return{next:se}}o.values=Q;function se(){return{value:p,done:!0}}return W.prototype={constructor:W,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(z),!le)for(var fe in this)fe.charAt(0)==="t"&&g.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=p)},stop:function(){this.done=!0;var le=this.tryEntries[0],fe=le.completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var fe=this;function $(xe,Oe){return ce.type="throw",ce.arg=le,fe.next=xe,Oe&&(fe.method="next",fe.arg=p),!!Oe}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var oe=this.tryEntries[ae],ce=oe.completion;if(oe.tryLoc==="root")return $("end");if(oe.tryLoc<=this.prev){var he=g.call(oe,"catchLoc"),we=g.call(oe,"finallyLoc");if(he&&we){if(this.prev<oe.catchLoc)return $(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return $(oe.finallyLoc)}else if(he){if(this.prev<oe.catchLoc)return $(oe.catchLoc,!0)}else if(we){if(this.prev<oe.finallyLoc)return $(oe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(le,fe){for(var $=this.tryEntries.length-1;$>=0;--$){var ae=this.tryEntries[$];if(ae.tryLoc<=this.prev&&g.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var oe=ae;break}}oe&&(le==="break"||le==="continue")&&oe.tryLoc<=fe&&fe<=oe.finallyLoc&&(oe=null);var ce=oe?oe.completion:{};return ce.type=le,ce.arg=fe,oe?(this.method="next",this.next=oe.finallyLoc,E):this.complete(ce)},complete:function(le,fe){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&fe&&(this.next=fe),E},finish:function(le){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var $=this.tryEntries[fe];if($.finallyLoc===le)return this.complete($.completion,$.afterLoc),z($),E}},catch:function(le){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var $=this.tryEntries[fe];if($.tryLoc===le){var ae=$.completion;if(ae.type==="throw"){var oe=ae.arg;z($)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(le,fe,$){return this.delegate={iterator:Q(le),resultName:fe,nextLoc:$},this.method==="next"&&(this.arg=p),E}},o}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=s}catch{Function("r","regeneratorRuntime = r")(s)}},{}],154:[function(r,i,a){var s=r("buffer"),o=s.Buffer;function c(p,d){for(var u in p)d[u]=p[u]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?i.exports=s:(c(s,a),a.Buffer=g);function g(p,d,u){return o(p,d,u)}g.prototype=Object.create(o.prototype),c(o,g),g.from=function(p,d,u){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,d,u)},g.alloc=function(p,d,u){if(typeof p!="number")throw new TypeError("Argument must be a number");var f=o(p);return d!==void 0?typeof u=="string"?f.fill(d,u):f.fill(d):f.fill(0),f},g.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},g.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(p)}},{buffer:48}],155:[function(r,i,a){i.exports=c;var s=r("events").EventEmitter,o=r("inherits");o(c,s),c.Readable=r("readable-stream/readable.js"),c.Writable=r("readable-stream/writable.js"),c.Duplex=r("readable-stream/duplex.js"),c.Transform=r("readable-stream/transform.js"),c.PassThrough=r("readable-stream/passthrough.js"),c.Stream=c;function c(){s.call(this)}c.prototype.pipe=function(g,p){var d=this;function u(_){g.writable&&g.write(_)===!1&&d.pause&&d.pause()}d.on("data",u);function f(){d.readable&&d.resume&&d.resume()}g.on("drain",f),!g._isStdio&&(!p||p.end!==!1)&&(d.on("end",v),d.on("close",y));var l=!1;function v(){l||(l=!0,g.end())}function y(){l||(l=!0,typeof g.destroy=="function"&&g.destroy())}function h(_){if(m(),s.listenerCount(this,"error")===0)throw _}d.on("error",h),g.on("error",h);function m(){d.removeListener("data",u),g.removeListener("drain",f),d.removeListener("end",v),d.removeListener("close",y),d.removeListener("error",h),g.removeListener("error",h),d.removeListener("end",m),d.removeListener("close",m),g.removeListener("close",m)}return d.on("end",m),d.on("close",m),g.on("close",m),g.emit("pipe",d),g}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(r,i,a){(function(s){var o=r("./lib/request"),c=r("./lib/response"),g=r("xtend"),p=r("builtin-status-codes"),d=r("url"),u=a;u.request=function(f,l){typeof f=="string"?f=d.parse(f):f=g(f);var v=s.location.protocol.search(/^https?:$/)===-1?"http:":"",y=f.protocol||v,h=f.hostname||f.host,m=f.port,_=f.path||"/";h&&h.indexOf(":")!==-1&&(h="["+h+"]"),f.url=(h?y+"//"+h:"")+(m?":"+m:"")+_,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var w=new o(f);return l&&w.on("response",l),w},u.get=function(l,v){var y=u.request(l,v);return y.end(),y},u.ClientRequest=o,u.IncomingMessage=c.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=p,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(r,i,a){(function(s){a.fetch=p(s.fetch)&&p(s.ReadableStream),a.writableStream=p(s.WritableStream),a.abortController=p(s.AbortController);var o;function c(){if(o!==void 0)return o;if(s.XMLHttpRequest){o=new s.XMLHttpRequest;try{o.open("GET",s.XDomainRequest?"/":"https://example.com")}catch{o=null}}else o=null;return o}function g(d){var u=c();if(!u)return!1;try{return u.responseType=d,u.responseType===d}catch{}return!1}a.arraybuffer=a.fetch||g("arraybuffer"),a.msstream=!a.fetch&&g("ms-stream"),a.mozchunkedarraybuffer=!a.fetch&&g("moz-chunked-arraybuffer"),a.overrideMimeType=a.fetch||(c()?p(c().overrideMimeType):!1);function p(d){return typeof d=="function"}o=null}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{}],158:[function(r,i,a){(function(s,o,c){var g=r("./capability"),p=r("inherits"),d=r("./response"),u=r("readable-stream"),f=d.IncomingMessage,l=d.readyStates;function v(_,w){return g.fetch&&w?"fetch":g.mozchunkedarraybuffer?"moz-chunked-arraybuffer":g.msstream?"ms-stream":g.arraybuffer&&_?"arraybuffer":"text"}var y=i.exports=function(_){var w=this;u.Writable.call(w),w._opts=_,w._body=[],w._headers={},_.auth&&w.setHeader("Authorization","Basic "+c.from(_.auth).toString("base64")),Object.keys(_.headers).forEach(function(A){w.setHeader(A,_.headers[A])});var E,T=!0;if(_.mode==="disable-fetch"||"requestTimeout"in _&&!g.abortController)T=!1,E=!0;else if(_.mode==="prefer-streaming")E=!1;else if(_.mode==="allow-wrong-content-type")E=!g.overrideMimeType;else if(!_.mode||_.mode==="default"||_.mode==="prefer-fast")E=!0;else throw new Error("Invalid value for opts.mode");w._mode=v(E,T),w._fetchTimer=null,w.on("finish",function(){w._onFinish()})};p(y,u.Writable),y.prototype.setHeader=function(_,w){var E=this,T=_.toLowerCase();m.indexOf(T)===-1&&(E._headers[T]={name:_,value:w})},y.prototype.getHeader=function(_){var w=this._headers[_.toLowerCase()];return w?w.value:null},y.prototype.removeHeader=function(_){var w=this;delete w._headers[_.toLowerCase()]},y.prototype._onFinish=function(){var _=this;if(!_._destroyed){var w=_._opts,E=_._headers,T=null;w.method!=="GET"&&w.method!=="HEAD"&&(T=new Blob(_._body,{type:(E["content-type"]||{}).value||""}));var A=[];if(Object.keys(E).forEach(function(k){var H=E[k].name,B=E[k].value;Array.isArray(B)?B.forEach(function(Z){A.push([H,Z])}):A.push([H,B])}),_._mode==="fetch"){var C=null,R=null;if(g.abortController){var D=new AbortController;C=D.signal,_._fetchAbortController=D,"requestTimeout"in w&&w.requestTimeout!==0&&(_._fetchTimer=o.setTimeout(function(){_.emit("requestTimeout"),_._fetchAbortController&&_._fetchAbortController.abort()},w.requestTimeout))}o.fetch(_._opts.url,{method:_._opts.method,headers:A,body:T||void 0,mode:"cors",credentials:w.withCredentials?"include":"same-origin",signal:C}).then(function(k){_._fetchResponse=k,_._connect()},function(k){o.clearTimeout(_._fetchTimer),_._destroyed||_.emit("error",k)})}else{var O=_._xhr=new o.XMLHttpRequest;try{O.open(_._opts.method,_._opts.url,!0)}catch(k){s.nextTick(function(){_.emit("error",k)});return}"responseType"in O&&(O.responseType=_._mode),"withCredentials"in O&&(O.withCredentials=!!w.withCredentials),_._mode==="text"&&"overrideMimeType"in O&&O.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in w&&(O.timeout=w.requestTimeout,O.ontimeout=function(){_.emit("requestTimeout")}),A.forEach(function(k){O.setRequestHeader(k[0],k[1])}),_._response=null,O.onreadystatechange=function(){switch(O.readyState){case l.LOADING:case l.DONE:_._onXHRProgress();break}},_._mode==="moz-chunked-arraybuffer"&&(O.onprogress=function(){_._onXHRProgress()}),O.onerror=function(){_._destroyed||_.emit("error",new Error("XHR error"))};try{O.send(T)}catch(k){s.nextTick(function(){_.emit("error",k)});return}}}};function h(_){try{var w=_.status;return w!==null&&w!==0}catch{return!1}}y.prototype._onXHRProgress=function(){var _=this;!h(_._xhr)||_._destroyed||(_._response||_._connect(),_._response._onXHRProgress())},y.prototype._connect=function(){var _=this;_._destroyed||(_._response=new f(_._xhr,_._fetchResponse,_._mode,_._fetchTimer),_._response.on("error",function(w){_.emit("error",w)}),_.emit("response",_._response))},y.prototype._write=function(_,w,E){var T=this;T._body.push(_),E()},y.prototype.abort=y.prototype.destroy=function(){var _=this;_._destroyed=!0,o.clearTimeout(_._fetchTimer),_._response&&(_._response._destroyed=!0),_._xhr?_._xhr.abort():_._fetchAbortController&&_._fetchAbortController.abort()},y.prototype.end=function(_,w,E){var T=this;typeof _=="function"&&(E=_,_=void 0),u.Writable.prototype.end.call(T,_,w,E)},y.prototype.flushHeaders=function(){},y.prototype.setTimeout=function(){},y.prototype.setNoDelay=function(){},y.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{},r("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(r,i,a){(function(s,o,c){var g=r("./capability"),p=r("inherits"),d=r("readable-stream"),u=a.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},f=a.IncomingMessage=function(l,v,y,h){var m=this;if(d.Readable.call(m),m._mode=y,m.headers={},m.rawHeaders=[],m.trailers={},m.rawTrailers=[],m.on("end",function(){s.nextTick(function(){m.emit("close")})}),y==="fetch"){let R=function(){w.read().then(function(D){if(!m._destroyed){if(D.done){o.clearTimeout(h),m.push(null);return}m.push(c.from(D.value)),R()}}).catch(function(D){o.clearTimeout(h),m._destroyed||m.emit("error",D)})};var C=R;if(m._fetchResponse=v,m.url=v.url,m.statusCode=v.status,m.statusMessage=v.statusText,v.headers.forEach(function(D,O){m.headers[O.toLowerCase()]=D,m.rawHeaders.push(O,D)}),g.writableStream){var _=new WritableStream({write:function(D){return new Promise(function(O,k){m._destroyed?k():m.push(c.from(D))?O():m._resumeFetch=O})},close:function(){o.clearTimeout(h),m._destroyed||m.push(null)},abort:function(D){m._destroyed||m.emit("error",D)}});try{v.body.pipeTo(_).catch(function(D){o.clearTimeout(h),m._destroyed||m.emit("error",D)});return}catch{}}var w=v.body.getReader();R()}else{m._xhr=l,m._pos=0,m.url=l.responseURL,m.statusCode=l.status,m.statusMessage=l.statusText;var E=l.getAllResponseHeaders().split(/\r?\n/);if(E.forEach(function(R){var D=R.match(/^([^:]+):\s*(.*)/);if(D){var O=D[1].toLowerCase();O==="set-cookie"?(m.headers[O]===void 0&&(m.headers[O]=[]),m.headers[O].push(D[2])):m.headers[O]!==void 0?m.headers[O]+=", "+D[2]:m.headers[O]=D[2],m.rawHeaders.push(D[1],D[2])}}),m._charset="x-user-defined",!g.overrideMimeType){var T=m.rawHeaders["mime-type"];if(T){var A=T.match(/;\s*charset=([^;])(;|$)/);A&&(m._charset=A[1].toLowerCase())}m._charset||(m._charset="utf-8")}}};p(f,d.Readable),f.prototype._read=function(){var l=this,v=l._resumeFetch;v&&(l._resumeFetch=null,v())},f.prototype._onXHRProgress=function(){var l=this,v=l._xhr,y=null;switch(l._mode){case"text":if(y=v.responseText,y.length>l._pos){var h=y.substr(l._pos);if(l._charset==="x-user-defined"){for(var m=c.alloc(h.length),_=0;_<h.length;_++)m[_]=h.charCodeAt(_)&255;l.push(m)}else l.push(h,l._charset);l._pos=y.length}break;case"arraybuffer":if(v.readyState!==u.DONE||!v.response)break;y=v.response,l.push(c.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=v.response,v.readyState!==u.LOADING||!y)break;l.push(c.from(new Uint8Array(y)));break;case"ms-stream":if(y=v.response,v.readyState!==u.LOADING)break;var w=new o.MSStreamReader;w.onprogress=function(){w.result.byteLength>l._pos&&(l.push(c.from(new Uint8Array(w.result.slice(l._pos)))),l._pos=w.result.byteLength)},w.onload=function(){l.push(null)},w.readAsArrayBuffer(y);break}l._xhr.readyState===u.DONE&&l._mode!=="ms-stream"&&l.push(null)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{},r("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(r,i,a){"use strict";function s(f,l){f.prototype=Object.create(l.prototype),f.prototype.constructor=f,f.__proto__=l}var o={};function c(f,l,v){v||(v=Error);function y(m,_,w){return typeof l=="string"?l:l(m,_,w)}var h=function(m){s(_,m);function _(w,E,T){return m.call(this,y(w,E,T))||this}return _}(v);h.prototype.name=v.name,h.prototype.code=f,o[f]=h}function g(f,l){if(Array.isArray(f)){var v=f.length;return f=f.map(function(y){return String(y)}),v>2?"one of ".concat(l," ").concat(f.slice(0,v-1).join(", "),", or ")+f[v-1]:v===2?"one of ".concat(l," ").concat(f[0]," or ").concat(f[1]):"of ".concat(l," ").concat(f[0])}else return"of ".concat(l," ").concat(String(f))}function p(f,l,v){return f.substr(!v||v<0?0:+v,l.length)===l}function d(f,l,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-l.length,v)===l}function u(f,l,v){return typeof v!="number"&&(v=0),v+l.length>f.length?!1:f.indexOf(l,v)!==-1}c("ERR_INVALID_OPT_VALUE",function(f,l){return'The value "'+l+'" is invalid for option "'+f+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(f,l,v){var y;typeof l=="string"&&p(l,"not ")?(y="must not be",l=l.replace(/^not /,"")):y="must be";var h;if(d(f," argument"))h="The ".concat(f," ").concat(y," ").concat(g(l,"type"));else{var m=u(f,".")?"property":"argument";h='The "'.concat(f,'" ').concat(m," ").concat(y," ").concat(g(l,"type"))}return h+=". Received type ".concat(typeof v),h},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=o},{}],161:[function(r,i,a){(function(s){"use strict";var o=new Set;function c(p){if(!o.has(p)){var d=p+" is an experimental feature. This feature could change at any time";o.add(p),s.emitWarning(d,"ExperimentalWarning")}}function g(){}i.exports.emitExperimentalWarning=s.emitWarning?c:g}).call(this,r("_process"))},{_process:133}],162:[function(r,i,a){(function(s){"use strict";var o=Object.keys||function(y){var h=[];for(var m in y)h.push(m);return h};i.exports=f;var c=r("./_stream_readable"),g=r("./_stream_writable");r("inherits")(f,c);for(var p=o(g.prototype),d=0;d<p.length;d++){var u=p[d];f.prototype[u]||(f.prototype[u]=g.prototype[u])}function f(y){if(!(this instanceof f))return new f(y);c.call(this,y),g.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||s.nextTick(v,this)}function v(y){y.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this,r("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(r,i,a){"use strict";i.exports=o;var s=r("./_stream_transform");r("inherits")(o,s);function o(c){if(!(this instanceof o))return new o(c);s.call(this,c)}o.prototype._transform=function(c,g,p){p(null,c)}},{"./_stream_transform":165,inherits:75}],164:[function(r,i,a){(function(s,o){"use strict";i.exports=z;var c;z.ReadableState=j;var g=r("events").EventEmitter,p=function(L,I){return L.listeners(I).length},d=r("./internal/streams/stream"),u=r("buffer").Buffer,f=o.Uint8Array||function(){};function l(G){return u.from(G)}function v(G){return u.isBuffer(G)||G instanceof f}var y=r("util"),h;y&&y.debuglog?h=y.debuglog("stream"):h=function(){};var m=r("./internal/streams/buffer_list"),_=r("./internal/streams/destroy"),w=r("./internal/streams/state"),E=w.getHighWaterMark,T=r("../errors").codes,A=T.ERR_INVALID_ARG_TYPE,C=T.ERR_STREAM_PUSH_AFTER_EOF,R=T.ERR_METHOD_NOT_IMPLEMENTED,D=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O=r("../experimentalWarning"),k=O.emitExperimentalWarning,H,B;r("inherits")(z,d);var Z=["error","close","destroy","pause","resume"];function V(G,L,I){if(typeof G.prependListener=="function")return G.prependListener(L,I);!G._events||!G._events[L]?G.on(L,I):Array.isArray(G._events[L])?G._events[L].unshift(I):G._events[L]=[I,G._events[L]]}function j(G,L,I){c=c||r("./_stream_duplex"),G=G||{},typeof I!="boolean"&&(I=L instanceof c),this.objectMode=!!G.objectMode,I&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=E(this,G,"readableHighWaterMark",I),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(H||(H=r("string_decoder/").StringDecoder),this.decoder=new H(G.encoding),this.encoding=G.encoding)}function z(G){if(c=c||r("./_stream_duplex"),!(this instanceof z))return new z(G);var L=this instanceof c;this._readableState=new j(G,this,L),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),d.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),z.prototype.destroy=_.destroy,z.prototype._undestroy=_.undestroy,z.prototype._destroy=function(G,L){L(G)},z.prototype.push=function(G,L){var I=this._readableState,U;return I.objectMode?U=!0:typeof G=="string"&&(L=L||I.defaultEncoding,L!==I.encoding&&(G=u.from(G,L),L=""),U=!0),W(this,G,L,!1,U)},z.prototype.unshift=function(G){return W(this,G,null,!0,!1)};function W(G,L,I,U,J){h("readableAddChunk",L);var ye=G._readableState;if(L===null)ye.reading=!1,ae(G,ye);else{var Ie;if(J||(Ie=se(ye,L)),Ie)G.emit("error",Ie);else if(ye.objectMode||L&&L.length>0)if(typeof L!="string"&&!ye.objectMode&&Object.getPrototypeOf(L)!==u.prototype&&(L=l(L)),U)ye.endEmitted?G.emit("error",new D):Q(G,ye,L,!0);else if(ye.ended)G.emit("error",new C);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!I?(L=ye.decoder.write(L),ye.objectMode||L.length!==0?Q(G,ye,L,!1):he(G,ye)):Q(G,ye,L,!1)}else U||(ye.reading=!1,he(G,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function Q(G,L,I,U){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,G.emit("data",I)):(L.length+=L.objectMode?1:I.length,U?L.buffer.unshift(I):L.buffer.push(I),L.needReadable&&oe(G)),he(G,L)}function se(G,L){var I;return!v(L)&&typeof L!="string"&&L!==void 0&&!G.objectMode&&(I=new A("chunk",["string","Buffer","Uint8Array"],L)),I}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(G){return H||(H=r("string_decoder/").StringDecoder),this._readableState.decoder=new H(G),this._readableState.encoding=this._readableState.decoder.encoding,this};var le=8388608;function fe(G){return G>=le?G=le:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function $(G,L){return G<=0||L.length===0&&L.ended?0:L.objectMode?1:G!==G?L.flowing&&L.length?L.buffer.head.data.length:L.length:(G>L.highWaterMark&&(L.highWaterMark=fe(G)),G<=L.length?G:L.ended?L.length:(L.needReadable=!0,0))}z.prototype.read=function(G){h("read",G),G=parseInt(G,10);var L=this._readableState,I=G;if(G!==0&&(L.emittedReadable=!1),G===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return h("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?re(this):oe(this),null;if(G=$(G,L),G===0&&L.ended)return L.length===0&&re(this),null;var U=L.needReadable;h("need readable",U),(L.length===0||L.length-G<L.highWaterMark)&&(U=!0,h("length less than watermark",U)),L.ended||L.reading?(U=!1,h("reading or ended",U)):U&&(h("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(G=$(I,L)));var J;return G>0?J=ie(G,L):J=null,J===null?(L.needReadable=!0,G=0):(L.length-=G,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),I!==G&&L.ended&&re(this)),J!==null&&this.emit("data",J),J};function ae(G,L){if(!L.ended){if(L.decoder){var I=L.decoder.end();I&&I.length&&(L.buffer.push(I),L.length+=L.objectMode?1:I.length)}L.ended=!0,L.sync?oe(G):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,ce(G)))}}function oe(G){var L=G._readableState;L.needReadable=!1,L.emittedReadable||(h("emitReadable",L.flowing),L.emittedReadable=!0,s.nextTick(ce,G))}function ce(G){var L=G._readableState;h("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&G.emit("readable"),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,de(G)}function he(G,L){L.readingMore||(L.readingMore=!0,s.nextTick(we,G,L))}function we(G,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var I=L.length;if(h("maybeReadMore read 0"),G.read(0),I===L.length)break}L.readingMore=!1}z.prototype._read=function(G){this.emit("error",new R("_read()"))},z.prototype.pipe=function(G,L){var I=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=G;break;case 1:U.pipes=[U.pipes,G];break;default:U.pipes.push(G);break}U.pipesCount+=1,h("pipe count=%d opts=%j",U.pipesCount,L);var J=(!L||L.end!==!1)&&G!==s.stdout&&G!==s.stderr,ye=J?be:ut;U.endEmitted?s.nextTick(ye):I.once("end",ye),G.on("unpipe",Ie);function Ie(ct,X){h("onunpipe"),ct===I&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,qe())}function be(){h("onend"),G.end()}var Le=xe(I);G.on("drain",Le);var ze=!1;function qe(){h("cleanup"),G.removeListener("close",Ge),G.removeListener("finish",et),G.removeListener("drain",Le),G.removeListener("error",Me),G.removeListener("unpipe",Ie),I.removeListener("end",be),I.removeListener("end",ut),I.removeListener("data",Ye),ze=!0,U.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&Le()}I.on("data",Ye);function Ye(ct){h("ondata");var X=G.write(ct);h("dest.write",X),X===!1&&((U.pipesCount===1&&U.pipes===G||U.pipesCount>1&&te(U.pipes,G)!==-1)&&!ze&&(h("false write response, pause",U.awaitDrain),U.awaitDrain++),I.pause())}function Me(ct){h("onerror",ct),ut(),G.removeListener("error",Me),p(G,"error")===0&&G.emit("error",ct)}V(G,"error",Me);function Ge(){G.removeListener("finish",et),ut()}G.once("close",Ge);function et(){h("onfinish"),G.removeListener("close",Ge),ut()}G.once("finish",et);function ut(){h("unpipe"),I.unpipe(G)}return G.emit("pipe",I),U.flowing||(h("pipe resume"),I.resume()),G};function xe(G){return function(){var I=G._readableState;h("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,I.awaitDrain===0&&p(G,"data")&&(I.flowing=!0,de(G))}}z.prototype.unpipe=function(G){var L=this._readableState,I={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return G&&G!==L.pipes?this:(G||(G=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,G&&G.emit("unpipe",this,I),this);if(!G){var U=L.pipes,J=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ye=0;ye<J;ye++)U[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=te(L.pipes,G);return Ie===-1?this:(L.pipes.splice(Ie,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),G.emit("unpipe",this,I),this)},z.prototype.on=function(G,L){var I=d.prototype.on.call(this,G,L),U=this._readableState;return G==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):G==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,h("on readable",U.length,U.reading),U.length?oe(this):U.reading||s.nextTick(ge,this)),I},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(G,L){var I=d.prototype.removeListener.call(this,G,L);return G==="readable"&&s.nextTick(Oe,this),I},z.prototype.removeAllListeners=function(G){var L=d.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&s.nextTick(Oe,this),L};function Oe(G){var L=G._readableState;L.readableListening=G.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:G.listenerCount("data")>0&&G.resume()}function ge(G){h("readable nexttick read 0"),G.read(0)}z.prototype.resume=function(){var G=this._readableState;return G.flowing||(h("resume"),G.flowing=!G.readableListening,De(this,G)),G.paused=!1,this};function De(G,L){L.resumeScheduled||(L.resumeScheduled=!0,s.nextTick(pe,G,L))}function pe(G,L){h("resume",L.reading),L.reading||G.read(0),L.resumeScheduled=!1,G.emit("resume"),de(G),L.flowing&&!L.reading&&G.read(0)}z.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function de(G){var L=G._readableState;for(h("flow",L.flowing);L.flowing&&G.read()!==null;);}z.prototype.wrap=function(G){var L=this,I=this._readableState,U=!1;G.on("end",function(){if(h("wrapped end"),I.decoder&&!I.ended){var Ie=I.decoder.end();Ie&&Ie.length&&L.push(Ie)}L.push(null)}),G.on("data",function(Ie){if(h("wrapped data"),I.decoder&&(Ie=I.decoder.write(Ie)),!(I.objectMode&&Ie==null)&&!(!I.objectMode&&(!Ie||!Ie.length))){var be=L.push(Ie);be||(U=!0,G.pause())}});for(var J in G)this[J]===void 0&&typeof G[J]=="function"&&(this[J]=function(be){return function(){return G[be].apply(G,arguments)}}(J));for(var ye=0;ye<Z.length;ye++)G.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Ie){h("wrapped _read",Ie),U&&(U=!1,G.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return k("Readable[Symbol.asyncIterator]"),B===void 0&&(B=r("./internal/streams/async_iterator")),B(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),z._fromList=ie,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie(G,L){if(L.length===0)return null;var I;return L.objectMode?I=L.buffer.shift():!G||G>=L.length?(L.decoder?I=L.buffer.join(""):L.buffer.length===1?I=L.buffer.first():I=L.buffer.concat(L.length),L.buffer.clear()):I=L.buffer.consume(G,L.decoder),I}function re(G){var L=G._readableState;h("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,s.nextTick(q,L,G))}function q(G,L){h("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,L.readable=!1,L.emit("end"))}function te(G,L){for(var I=0,U=G.length;I<U;I++)if(G[I]===L)return I;return-1}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(r,i,a){"use strict";i.exports=f;var s=r("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,c=s.ERR_MULTIPLE_CALLBACK,g=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=s.ERR_TRANSFORM_WITH_LENGTH_0,d=r("./_stream_duplex");r("inherits")(f,d);function u(y,h){var m=this._transformState;m.transforming=!1;var _=m.writecb;if(_===null)return this.emit("error",new c);m.writechunk=null,m.writecb=null,h!=null&&this.push(h),_(y);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",l)}function l(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,m){v(y,h,m)}):v(this,null,null)}f.prototype.push=function(y,h){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,h)},f.prototype._transform=function(y,h,m){m(new o("_transform()"))},f.prototype._write=function(y,h,m){var _=this._transformState;if(_.writecb=m,_.writechunk=y,_.writeencoding=h,!_.transforming){var w=this._readableState;(_.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},f.prototype._read=function(y){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},f.prototype._destroy=function(y,h){d.prototype._destroy.call(this,y,function(m){h(m)})};function v(y,h,m){if(h)return y.emit("error",h);if(m!=null&&y.push(m),y._writableState.length)throw new p;if(y._transformState.transforming)throw new g;return y.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(r,i,a){(function(s,o){"use strict";i.exports=V;function c(pe,de,ie){this.chunk=pe,this.encoding=de,this.callback=ie,this.next=null}function g(pe){var de=this;this.next=null,this.entry=null,this.finish=function(){De(de,pe)}}var p;V.WritableState=B;var d={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),f=r("buffer").Buffer,l=o.Uint8Array||function(){};function v(pe){return f.from(pe)}function y(pe){return f.isBuffer(pe)||pe instanceof l}var h=r("./internal/streams/destroy"),m=r("./internal/streams/state"),_=m.getHighWaterMark,w=r("../errors").codes,E=w.ERR_INVALID_ARG_TYPE,T=w.ERR_METHOD_NOT_IMPLEMENTED,A=w.ERR_MULTIPLE_CALLBACK,C=w.ERR_STREAM_CANNOT_PIPE,R=w.ERR_STREAM_DESTROYED,D=w.ERR_STREAM_NULL_VALUES,O=w.ERR_STREAM_WRITE_AFTER_END,k=w.ERR_UNKNOWN_ENCODING;r("inherits")(V,u);function H(){}function B(pe,de,ie){p=p||r("./_stream_duplex"),pe=pe||{},typeof ie!="boolean"&&(ie=de instanceof p),this.objectMode=!!pe.objectMode,ie&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=_(this,pe,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=pe.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){$(de,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pe.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}B.prototype.getBuffer=function(){for(var de=this.bufferedRequest,ie=[];de;)ie.push(de),de=de.next;return ie},function(){try{Object.defineProperty(B.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(de){return Z.call(this,de)?!0:this!==V?!1:de&&de._writableState instanceof B}})):Z=function(de){return de instanceof this};function V(pe){p=p||r("./_stream_duplex");var de=this instanceof p;if(!de&&!Z.call(V,this))return new V(pe);this._writableState=new B(pe,this,de),this.writable=!0,pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final)),u.call(this)}V.prototype.pipe=function(){this.emit("error",new C)};function j(pe,de){var ie=new O;pe.emit("error",ie),s.nextTick(de,ie)}function z(pe,de,ie,re){var q;return ie===null?q=new D:typeof ie!="string"&&!de.objectMode&&(q=new E("chunk",["string","Buffer"],ie)),q?(pe.emit("error",q),s.nextTick(re,q),!1):!0}V.prototype.write=function(pe,de,ie){var re=this._writableState,q=!1,te=!re.objectMode&&y(pe);return te&&!f.isBuffer(pe)&&(pe=v(pe)),typeof de=="function"&&(ie=de,de=null),te?de="buffer":de||(de=re.defaultEncoding),typeof ie!="function"&&(ie=H),re.ending?j(this,ie):(te||z(this,re,pe,ie))&&(re.pendingcb++,q=Q(this,re,te,pe,de,ie)),q},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&ce(this,pe))},V.prototype.setDefaultEncoding=function(de){if(typeof de=="string"&&(de=de.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((de+"").toLowerCase())>-1))throw new k(de);return this._writableState.defaultEncoding=de,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(pe,de,ie){return!pe.objectMode&&pe.decodeStrings!==!1&&typeof de=="string"&&(de=f.from(de,ie)),de}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Q(pe,de,ie,re,q,te){if(!ie){var G=W(de,re,q);re!==G&&(ie=!0,q="buffer",re=G)}var L=de.objectMode?1:re.length;de.length+=L;var I=de.length<de.highWaterMark;if(I||(de.needDrain=!0),de.writing||de.corked){var U=de.lastBufferedRequest;de.lastBufferedRequest={chunk:re,encoding:q,isBuf:ie,callback:te,next:null},U?U.next=de.lastBufferedRequest:de.bufferedRequest=de.lastBufferedRequest,de.bufferedRequestCount+=1}else se(pe,de,!1,L,re,q,te);return I}function se(pe,de,ie,re,q,te,G){de.writelen=re,de.writecb=G,de.writing=!0,de.sync=!0,de.destroyed?de.onwrite(new R("write")):ie?pe._writev(q,de.onwrite):pe._write(q,te,de.onwrite),de.sync=!1}function le(pe,de,ie,re,q){--de.pendingcb,ie?(s.nextTick(q,re),s.nextTick(Oe,pe,de),pe._writableState.errorEmitted=!0,pe.emit("error",re)):(q(re),pe._writableState.errorEmitted=!0,pe.emit("error",re),Oe(pe,de))}function fe(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}function $(pe,de){var ie=pe._writableState,re=ie.sync,q=ie.writecb;if(typeof q!="function")throw new A;if(fe(ie),de)le(pe,ie,re,de,q);else{var te=he(ie)||pe.destroyed;!te&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&ce(pe,ie),re?s.nextTick(ae,pe,ie,te,q):ae(pe,ie,te,q)}}function ae(pe,de,ie,re){ie||oe(pe,de),de.pendingcb--,re(),Oe(pe,de)}function oe(pe,de){de.length===0&&de.needDrain&&(de.needDrain=!1,pe.emit("drain"))}function ce(pe,de){de.bufferProcessing=!0;var ie=de.bufferedRequest;if(pe._writev&&ie&&ie.next){var re=de.bufferedRequestCount,q=new Array(re),te=de.corkedRequestsFree;te.entry=ie;for(var G=0,L=!0;ie;)q[G]=ie,ie.isBuf||(L=!1),ie=ie.next,G+=1;q.allBuffers=L,se(pe,de,!0,de.length,q,"",te.finish),de.pendingcb++,de.lastBufferedRequest=null,te.next?(de.corkedRequestsFree=te.next,te.next=null):de.corkedRequestsFree=new g(de),de.bufferedRequestCount=0}else{for(;ie;){var I=ie.chunk,U=ie.encoding,J=ie.callback,ye=de.objectMode?1:I.length;if(se(pe,de,!1,ye,I,U,J),ie=ie.next,de.bufferedRequestCount--,de.writing)break}ie===null&&(de.lastBufferedRequest=null)}de.bufferedRequest=ie,de.bufferProcessing=!1}V.prototype._write=function(pe,de,ie){ie(new T("_write()"))},V.prototype._writev=null,V.prototype.end=function(pe,de,ie){var re=this._writableState;return typeof pe=="function"?(ie=pe,pe=null,de=null):typeof de=="function"&&(ie=de,de=null),pe!=null&&this.write(pe,de),re.corked&&(re.corked=1,this.uncork()),re.ending||ge(this,re,ie),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(pe){return pe.ending&&pe.length===0&&pe.bufferedRequest===null&&!pe.finished&&!pe.writing}function we(pe,de){pe._final(function(ie){de.pendingcb--,ie&&pe.emit("error",ie),de.prefinished=!0,pe.emit("prefinish"),Oe(pe,de)})}function xe(pe,de){!de.prefinished&&!de.finalCalled&&(typeof pe._final=="function"&&!de.destroyed?(de.pendingcb++,de.finalCalled=!0,s.nextTick(we,pe,de)):(de.prefinished=!0,pe.emit("prefinish")))}function Oe(pe,de){var ie=he(de);return ie&&(xe(pe,de),de.pendingcb===0&&(de.finished=!0,pe.emit("finish"))),ie}function ge(pe,de,ie){de.ending=!0,Oe(pe,de),ie&&(de.finished?s.nextTick(ie):pe.once("finish",ie)),de.ended=!0,pe.writable=!1}function De(pe,de,ie){var re=pe.entry;for(pe.entry=null;re;){var q=re.callback;de.pendingcb--,q(ie),re=re.next}de.corkedRequestsFree.next=pe}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(de){!this._writableState||(this._writableState.destroyed=de)}}),V.prototype.destroy=h.destroy,V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(pe,de){de(pe)}}).call(this,r("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(r,i,a){(function(s){"use strict";var o;function c(C,R,D){return R in C?Object.defineProperty(C,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[R]=D,C}var g=r("./end-of-stream"),p=Symbol("lastResolve"),d=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),v=Symbol("handlePromise"),y=Symbol("stream");function h(C,R){return{value:C,done:R}}function m(C){var R=C[p];if(R!==null){var D=C[y].read();D!==null&&(C[l]=null,C[p]=null,C[d]=null,R(h(D,!1)))}}function _(C){s.nextTick(m,C)}function w(C,R){return function(D,O){C.then(function(){if(R[f]){D(h(void 0,!0));return}R[v](D,O)},O)}}var E=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((o={get stream(){return this[y]},next:function(){var R=this,D=this[u];if(D!==null)return Promise.reject(D);if(this[f])return Promise.resolve(h(void 0,!0));if(this[y].destroyed)return new Promise(function(B,Z){s.nextTick(function(){R[u]?Z(R[u]):B(h(void 0,!0))})});var O=this[l],k;if(O)k=new Promise(w(O,this));else{var H=this[y].read();if(H!==null)return Promise.resolve(h(H,!1));k=new Promise(this[v])}return this[l]=k,k}},c(o,Symbol.asyncIterator,function(){return this}),c(o,"return",function(){var R=this;return new Promise(function(D,O){R[y].destroy(null,function(k){if(k){O(k);return}D(h(void 0,!0))})})}),o),E),A=function(R){var D,O=Object.create(T,(D={},c(D,y,{value:R,writable:!0}),c(D,p,{value:null,writable:!0}),c(D,d,{value:null,writable:!0}),c(D,u,{value:null,writable:!0}),c(D,f,{value:R._readableState.endEmitted,writable:!0}),c(D,v,{value:function(H,B){var Z=O[y].read();Z?(O[l]=null,O[p]=null,O[d]=null,H(h(Z,!1))):(O[p]=H,O[d]=B)},writable:!0}),D));return O[l]=null,g(R,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=O[d];H!==null&&(O[l]=null,O[p]=null,O[d]=null,H(k)),O[u]=k;return}var B=O[p];B!==null&&(O[l]=null,O[p]=null,O[d]=null,B(h(void 0,!0))),O[f]=!0}),R.on("readable",_.bind(null,O)),O};i.exports=A}).call(this,r("_process"))},{"./end-of-stream":170,_process:133}],168:[function(r,i,a){"use strict";function s(l){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{},h=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(y).filter(function(m){return Object.getOwnPropertyDescriptor(y,m).enumerable}))),h.forEach(function(m){o(l,m,y[m])})}return l}function o(l,v,y){return v in l?Object.defineProperty(l,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):l[v]=y,l}var c=r("buffer"),g=c.Buffer,p=r("util"),d=p.inspect,u=d&&d.custom||"inspect";function f(l,v,y){g.prototype.copy.call(l,v,y)}i.exports=function(){function l(){this.head=null,this.tail=null,this.length=0}var v=l.prototype;return v.push=function(h){var m={data:h,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},v.unshift=function(h){var m={data:h,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length},v.shift=function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}},v.clear=function(){this.head=this.tail=null,this.length=0},v.join=function(h){if(this.length===0)return"";for(var m=this.head,_=""+m.data;m=m.next;)_+=h+m.data;return _},v.concat=function(h){if(this.length===0)return g.alloc(0);for(var m=g.allocUnsafe(h>>>0),_=this.head,w=0;_;)f(_.data,m,w),w+=_.data.length,_=_.next;return m},v.consume=function(h,m){var _;return h<this.head.data.length?(_=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?_=this.shift():_=m?this._getString(h):this._getBuffer(h),_},v.first=function(){return this.head.data},v._getString=function(h){var m=this.head,_=1,w=m.data;for(h-=w.length;m=m.next;){var E=m.data,T=h>E.length?E.length:h;if(T===E.length?w+=E:w+=E.slice(0,h),h-=T,h===0){T===E.length?(++_,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=E.slice(T));break}++_}return this.length-=_,w},v._getBuffer=function(h){var m=g.allocUnsafe(h),_=this.head,w=1;for(_.data.copy(m),h-=_.data.length;_=_.next;){var E=_.data,T=h>E.length?E.length:h;if(E.copy(m,m.length-h,0,T),h-=T,h===0){T===E.length?(++w,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(T));break}++w}return this.length-=w,m},v[u]=function(y,h){return d(this,s({},h,{depth:0,customInspect:!1}))},l}()},{buffer:48,util:33}],169:[function(r,i,a){(function(s){"use strict";function o(u,f){var l=this,v=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return v||y?(f?f(u):u&&(!this._writableState||!this._writableState.errorEmitted)&&s.nextTick(d,this,u),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(h){!f&&h?(s.nextTick(c,l,h),l._writableState&&(l._writableState.errorEmitted=!0)):f?(s.nextTick(g,l),f(h)):s.nextTick(g,l)}),this)}function c(u,f){d(u,f),g(u)}function g(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(u,f){u.emit("error",f)}i.exports={destroy:o,undestroy:p}}).call(this,r("_process"))},{_process:133}],170:[function(r,i,a){"use strict";var s=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(d){var u=!1;return function(){if(!u){u=!0;for(var f=arguments.length,l=new Array(f),v=0;v<f;v++)l[v]=arguments[v];d.apply(this,l)}}}function c(){}function g(d){return d.setHeader&&typeof d.abort=="function"}function p(d,u,f){if(typeof u=="function")return p(d,null,u);u||(u={}),f=o(f||c);var l=u.readable||u.readable!==!1&&d.readable,v=u.writable||u.writable!==!1&&d.writable,y=function(){d.writable||m()},h=d._writableState&&d._writableState.finished,m=function(){v=!1,h=!0,l||f.call(d)},_=d._readableState&&d._readableState.endEmitted,w=function(){l=!1,_=!0,v||f.call(d)},E=function(R){f.call(d,R)},T=function(){var R;if(l&&!_)return(!d._readableState||!d._readableState.ended)&&(R=new s),f.call(d,R);if(v&&!h)return(!d._writableState||!d._writableState.ended)&&(R=new s),f.call(d,R)},A=function(){d.req.on("finish",m)};return g(d)?(d.on("complete",m),d.on("abort",T),d.req?A():d.on("request",A)):v&&!d._writableState&&(d.on("end",y),d.on("close",y)),d.on("end",w),d.on("finish",m),u.error!==!1&&d.on("error",E),d.on("close",T),function(){d.removeListener("complete",m),d.removeListener("abort",T),d.removeListener("request",A),d.req&&d.req.removeListener("finish",m),d.removeListener("end",y),d.removeListener("close",y),d.removeListener("finish",m),d.removeListener("end",w),d.removeListener("error",E),d.removeListener("close",T)}}i.exports=p},{"../../../errors":160}],171:[function(r,i,a){"use strict";var s;function o(m){var _=!1;return function(){_||(_=!0,m.apply(void 0,arguments))}}var c=r("../../../errors").codes,g=c.ERR_MISSING_ARGS,p=c.ERR_STREAM_DESTROYED;function d(m){if(m)throw m}function u(m){return m.setHeader&&typeof m.abort=="function"}function f(m,_,w,E){E=o(E);var T=!1;m.on("close",function(){T=!0}),s===void 0&&(s=r("./end-of-stream")),s(m,{readable:_,writable:w},function(C){if(C)return E(C);T=!0,E()});var A=!1;return function(C){if(!T&&!A){if(A=!0,u(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();E(C||new p("pipe"))}}}function l(m){m()}function v(m,_){return m.pipe(_)}function y(m){return!m.length||typeof m[m.length-1]!="function"?d:m.pop()}function h(){for(var m=arguments.length,_=new Array(m),w=0;w<m;w++)_[w]=arguments[w];var E=y(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new g("streams");var T,A=_.map(function(C,R){var D=R<_.length-1,O=R>0;return f(C,D,O,function(k){T||(T=k),k&&A.forEach(l),!D&&(A.forEach(l),E(T))})});return _.reduce(v)}i.exports=h},{"../../../errors":160,"./end-of-stream":170}],172:[function(r,i,a){"use strict";var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;function o(g,p,d){return g.highWaterMark!=null?g.highWaterMark:p?g[d]:null}function c(g,p,d,u){var f=o(p,u,d);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var l=u?d:"highWaterMark";throw new s(l,f)}return Math.floor(f)}return g.objectMode?16:16*1024}i.exports={getHighWaterMark:c}},{"../../../errors":160}],173:[function(r,i,a){arguments[4][146][0].apply(a,arguments)},{dup:146,events:52}],174:[function(r,i,a){a=i.exports=r("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=r("./lib/_stream_writable.js"),a.Duplex=r("./lib/_stream_duplex.js"),a.Transform=r("./lib/_stream_transform.js"),a.PassThrough=r("./lib/_stream_passthrough.js"),a.finished=r("./lib/internal/streams/end-of-stream.js"),a.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(r,i,a){arguments[4][148][0].apply(a,arguments)},{dup:148,"safe-buffer":154}],176:[function(r,i,a){(function(s,o){var c=r("process/browser.js").nextTick,g=Function.prototype.apply,p=Array.prototype.slice,d={},u=0;a.setTimeout=function(){return new f(g.call(setTimeout,zt,arguments),clearTimeout)},a.setInterval=function(){return new f(g.call(setInterval,zt,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(l){l.close()};function f(l,v){this._id=l,this._clearFn=v}f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(zt,this._id)},a.enroll=function(l,v){clearTimeout(l._idleTimeoutId),l._idleTimeout=v},a.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},a._unrefActive=a.active=function(l){clearTimeout(l._idleTimeoutId);var v=l._idleTimeout;v>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},v))},a.setImmediate=typeof s=="function"?s:function(l){var v=u++,y=arguments.length<2?!1:p.call(arguments,1);return d[v]=!0,c(function(){d[v]&&(y?l.apply(null,y):l.call(null),a.clearImmediate(v))}),v},a.clearImmediate=typeof o=="function"?o:function(l){delete d[l]}}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(r,i,a){(function(s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z};a.clone=u,a.addLast=v,a.addFirst=y,a.removeLast=h,a.removeFirst=m,a.insert=_,a.removeAt=w,a.replaceAt=E,a.getIn=T,a.set=A,a.setIn=R,a.update=D,a.updateIn=O,a.merge=k,a.mergeDeep=H,a.mergeIn=B,a.omit=Z,a.addDefaults=V;var c="INVALID_ARGS";function g(z){throw new Error(z)}function p(z){var W=Object.keys(z);return Object.getOwnPropertySymbols?W.concat(Object.getOwnPropertySymbols(z)):W}var d={}.hasOwnProperty;function u(z){if(Array.isArray(z))return z.slice();for(var W=p(z),Q={},se=0;se<W.length;se++){var le=W[se];Q[le]=z[le]}return Q}function f(z,W,Q){var se=Q;se==null&&g(s.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":c);for(var le=!1,fe=arguments.length,$=Array(fe>3?fe-3:0),ae=3;ae<fe;ae++)$[ae-3]=arguments[ae];for(var oe=0;oe<$.length;oe++){var ce=$[oe];if(ce!=null){var he=p(ce);if(!!he.length)for(var we=0;we<=he.length;we++){var xe=he[we];if(!(z&&se[xe]!==void 0)){var Oe=ce[xe];W&&l(se[xe])&&l(Oe)&&(Oe=f(z,W,se[xe],Oe)),!(Oe===void 0||Oe===se[xe])&&(le||(le=!0,se=u(se)),se[xe]=Oe)}}}}return se}function l(z){var W=typeof z=="undefined"?"undefined":o(z);return z!=null&&W==="object"}function v(z,W){return Array.isArray(W)?z.concat(W):z.concat([W])}function y(z,W){return Array.isArray(W)?W.concat(z):[W].concat(z)}function h(z){return z.length?z.slice(0,z.length-1):z}function m(z){return z.length?z.slice(1):z}function _(z,W,Q){return z.slice(0,W).concat(Array.isArray(Q)?Q:[Q]).concat(z.slice(W))}function w(z,W){return W>=z.length||W<0?z:z.slice(0,W).concat(z.slice(W+1))}function E(z,W,Q){if(z[W]===Q)return z;for(var se=z.length,le=Array(se),fe=0;fe<se;fe++)le[fe]=z[fe];return le[W]=Q,le}function T(z,W){if(!Array.isArray(W)&&g(s.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":c),z!=null){for(var Q=z,se=0;se<W.length;se++){var le=W[se];if(Q=Q!=null?Q[le]:void 0,Q===void 0)return Q}return Q}}function A(z,W,Q){var se=typeof W=="number"?[]:{},le=z??se;if(le[W]===Q)return le;var fe=u(le);return fe[W]=Q,fe}function C(z,W,Q,se){var le=void 0,fe=W[se];if(se===W.length-1)le=Q;else{var $=l(z)&&l(z[fe])?z[fe]:typeof W[se+1]=="number"?[]:{};le=C($,W,Q,se+1)}return A(z,fe,le)}function R(z,W,Q){return W.length?C(z,W,Q,0):Q}function D(z,W,Q){var se=z==null?void 0:z[W],le=Q(se);return A(z,W,le)}function O(z,W,Q){var se=T(z,W),le=Q(se);return R(z,W,le)}function k(z,W,Q,se,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),oe=6;oe<$;oe++)ae[oe-6]=arguments[oe];return ae.length?f.call.apply(f,[null,!1,!1,z,W,Q,se,le,fe].concat(ae)):f(!1,!1,z,W,Q,se,le,fe)}function H(z,W,Q,se,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),oe=6;oe<$;oe++)ae[oe-6]=arguments[oe];return ae.length?f.call.apply(f,[null,!1,!0,z,W,Q,se,le,fe].concat(ae)):f(!1,!0,z,W,Q,se,le,fe)}function B(z,W,Q,se,le,fe,$){var ae=T(z,W);ae==null&&(ae={});for(var oe=void 0,ce=arguments.length,he=Array(ce>7?ce-7:0),we=7;we<ce;we++)he[we-7]=arguments[we];return he.length?oe=f.call.apply(f,[null,!1,!1,ae,Q,se,le,fe,$].concat(he)):oe=f(!1,!1,ae,Q,se,le,fe,$),R(z,W,oe)}function Z(z,W){for(var Q=Array.isArray(W)?W:[W],se=!1,le=0;le<Q.length;le++)if(d.call(z,Q[le])){se=!0;break}if(!se)return z;for(var fe={},$=p(z),ae=0;ae<$.length;ae++){var oe=$[ae];Q.indexOf(oe)>=0||(fe[oe]=z[oe])}return fe}function V(z,W,Q,se,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),oe=6;oe<$;oe++)ae[oe-6]=arguments[oe];return ae.length?f.call.apply(f,[null,!0,!1,z,W,Q,se,le,fe].concat(ae)):f(!0,!1,z,W,Q,se,le,fe)}var j={clone:u,addLast:v,addFirst:y,removeLast:h,removeFirst:m,insert:_,removeAt:w,replaceAt:E,getIn:T,set:A,setIn:R,update:D,updateIn:O,merge:k,mergeDeep:H,mergeIn:B,omit:Z,addDefaults:V};a.default=j}).call(this,r("_process"))},{_process:133}],178:[function(r,i,a){(function(s){var o=/^\s+/,c=/\s+$/,g=0,p=s.round,d=s.min,u=s.max,f=s.random;function l(q,te){if(q=q||"",te=te||{},q instanceof l)return q;if(!(this instanceof l))return new l(q,te);var G=v(q);this._originalInput=q,this._r=G.r,this._g=G.g,this._b=G.b,this._a=G.a,this._roundA=p(100*this._a)/100,this._format=te.format||G.format,this._gradientType=te.gradientType,this._r<1&&(this._r=p(this._r)),this._g<1&&(this._g=p(this._g)),this._b<1&&(this._b=p(this._b)),this._ok=G.ok,this._tc_id=g++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var q=this.toRgb();return(q.r*299+q.g*587+q.b*114)/1e3},getLuminance:function(){var q=this.toRgb(),te,G,L,I,U,J;return te=q.r/255,G=q.g/255,L=q.b/255,te<=.03928?I=te/12.92:I=s.pow((te+.055)/1.055,2.4),G<=.03928?U=G/12.92:U=s.pow((G+.055)/1.055,2.4),L<=.03928?J=L/12.92:J=s.pow((L+.055)/1.055,2.4),.2126*I+.7152*U+.0722*J},setAlpha:function(q){return this._a=$(q),this._roundA=p(100*this._a)/100,this},toHsv:function(){var q=_(this._r,this._g,this._b);return{h:q.h*360,s:q.s,v:q.v,a:this._a}},toHsvString:function(){var q=_(this._r,this._g,this._b),te=p(q.h*360),G=p(q.s*100),L=p(q.v*100);return this._a==1?"hsv("+te+", "+G+"%, "+L+"%)":"hsva("+te+", "+G+"%, "+L+"%, "+this._roundA+")"},toHsl:function(){var q=h(this._r,this._g,this._b);return{h:q.h*360,s:q.s,l:q.l,a:this._a}},toHslString:function(){var q=h(this._r,this._g,this._b),te=p(q.h*360),G=p(q.s*100),L=p(q.l*100);return this._a==1?"hsl("+te+", "+G+"%, "+L+"%)":"hsla("+te+", "+G+"%, "+L+"%, "+this._roundA+")"},toHex:function(q){return E(this._r,this._g,this._b,q)},toHexString:function(q){return"#"+this.toHex(q)},toHex8:function(q){return T(this._r,this._g,this._b,this._a,q)},toHex8String:function(q){return"#"+this.toHex8(q)},toRgb:function(){return{r:p(this._r),g:p(this._g),b:p(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+p(this._r)+", "+p(this._g)+", "+p(this._b)+")":"rgba("+p(this._r)+", "+p(this._g)+", "+p(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:p(ae(this._r,255)*100)+"%",g:p(ae(this._g,255)*100)+"%",b:p(ae(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+p(ae(this._r,255)*100)+"%, "+p(ae(this._g,255)*100)+"%, "+p(ae(this._b,255)*100)+"%)":"rgba("+p(ae(this._r,255)*100)+"%, "+p(ae(this._g,255)*100)+"%, "+p(ae(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:le[E(this._r,this._g,this._b,!0)]||!1},toFilter:function(q){var te="#"+A(this._r,this._g,this._b,this._a),G=te,L=this._gradientType?"GradientType = 1, ":"";if(q){var I=l(q);G="#"+A(I._r,I._g,I._b,I._a)}return"progid:DXImageTransform.Microsoft.gradient("+L+"startColorstr="+te+",endColorstr="+G+")"},toString:function(q){var te=!!q;q=q||this._format;var G=!1,L=this._a<1&&this._a>=0,I=!te&&L&&(q==="hex"||q==="hex6"||q==="hex3"||q==="hex4"||q==="hex8"||q==="name");return I?q==="name"&&this._a===0?this.toName():this.toRgbString():(q==="rgb"&&(G=this.toRgbString()),q==="prgb"&&(G=this.toPercentageRgbString()),(q==="hex"||q==="hex6")&&(G=this.toHexString()),q==="hex3"&&(G=this.toHexString(!0)),q==="hex4"&&(G=this.toHex8String(!0)),q==="hex8"&&(G=this.toHex8String()),q==="name"&&(G=this.toName()),q==="hsl"&&(G=this.toHslString()),q==="hsv"&&(G=this.toHsvString()),G||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(q,te){var G=q.apply(null,[this].concat([].slice.call(te)));return this._r=G._r,this._g=G._g,this._b=G._b,this.setAlpha(G._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(R,arguments)},greyscale:function(){return this._applyModification(D,arguments)},spin:function(){return this._applyModification(B,arguments)},_applyCombination:function(q,te){return q.apply(null,[this].concat([].slice.call(te)))},analogous:function(){return this._applyCombination(W,arguments)},complement:function(){return this._applyCombination(Z,arguments)},monochromatic:function(){return this._applyCombination(Q,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(V,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},l.fromRatio=function(q,te){if(typeof q=="object"){var G={};for(var L in q)q.hasOwnProperty(L)&&(L==="a"?G[L]=q[L]:G[L]=Oe(q[L]));q=G}return l(q,te)};function v(q){var te={r:0,g:0,b:0},G=1,L=null,I=null,U=null,J=!1,ye=!1;return typeof q=="string"&&(q=ie(q)),typeof q=="object"&&(de(q.r)&&de(q.g)&&de(q.b)?(te=y(q.r,q.g,q.b),J=!0,ye=String(q.r).substr(-1)==="%"?"prgb":"rgb"):de(q.h)&&de(q.s)&&de(q.v)?(L=Oe(q.s),I=Oe(q.v),te=w(q.h,L,I),J=!0,ye="hsv"):de(q.h)&&de(q.s)&&de(q.l)&&(L=Oe(q.s),U=Oe(q.l),te=m(q.h,L,U),J=!0,ye="hsl"),q.hasOwnProperty("a")&&(G=q.a)),G=$(G),{ok:J,format:q.format||ye,r:d(255,u(te.r,0)),g:d(255,u(te.g,0)),b:d(255,u(te.b,0)),a:G}}function y(q,te,G){return{r:ae(q,255)*255,g:ae(te,255)*255,b:ae(G,255)*255}}function h(q,te,G){q=ae(q,255),te=ae(te,255),G=ae(G,255);var L=u(q,te,G),I=d(q,te,G),U,J,ye=(L+I)/2;if(L==I)U=J=0;else{var Ie=L-I;switch(J=ye>.5?Ie/(2-L-I):Ie/(L+I),L){case q:U=(te-G)/Ie+(te<G?6:0);break;case te:U=(G-q)/Ie+2;break;case G:U=(q-te)/Ie+4;break}U/=6}return{h:U,s:J,l:ye}}function m(q,te,G){var L,I,U;q=ae(q,360),te=ae(te,100),G=ae(G,100);function J(be,Le,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?be+(Le-be)*6*ze:ze<1/2?Le:ze<2/3?be+(Le-be)*(2/3-ze)*6:be}if(te===0)L=I=U=G;else{var ye=G<.5?G*(1+te):G+te-G*te,Ie=2*G-ye;L=J(Ie,ye,q+1/3),I=J(Ie,ye,q),U=J(Ie,ye,q-1/3)}return{r:L*255,g:I*255,b:U*255}}function _(q,te,G){q=ae(q,255),te=ae(te,255),G=ae(G,255);var L=u(q,te,G),I=d(q,te,G),U,J,ye=L,Ie=L-I;if(J=L===0?0:Ie/L,L==I)U=0;else{switch(L){case q:U=(te-G)/Ie+(te<G?6:0);break;case te:U=(G-q)/Ie+2;break;case G:U=(q-te)/Ie+4;break}U/=6}return{h:U,s:J,v:ye}}function w(q,te,G){q=ae(q,360)*6,te=ae(te,100),G=ae(G,100);var L=s.floor(q),I=q-L,U=G*(1-te),J=G*(1-I*te),ye=G*(1-(1-I)*te),Ie=L%6,be=[G,J,U,U,ye,G][Ie],Le=[ye,G,G,J,U,U][Ie],ze=[U,U,ye,G,G,J][Ie];return{r:be*255,g:Le*255,b:ze*255}}function E(q,te,G,L){var I=[xe(p(q).toString(16)),xe(p(te).toString(16)),xe(p(G).toString(16))];return L&&I[0].charAt(0)==I[0].charAt(1)&&I[1].charAt(0)==I[1].charAt(1)&&I[2].charAt(0)==I[2].charAt(1)?I[0].charAt(0)+I[1].charAt(0)+I[2].charAt(0):I.join("")}function T(q,te,G,L,I){var U=[xe(p(q).toString(16)),xe(p(te).toString(16)),xe(p(G).toString(16)),xe(ge(L))];return I&&U[0].charAt(0)==U[0].charAt(1)&&U[1].charAt(0)==U[1].charAt(1)&&U[2].charAt(0)==U[2].charAt(1)&&U[3].charAt(0)==U[3].charAt(1)?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0)+U[3].charAt(0):U.join("")}function A(q,te,G,L){var I=[xe(ge(L)),xe(p(q).toString(16)),xe(p(te).toString(16)),xe(p(G).toString(16))];return I.join("")}l.equals=function(q,te){return!q||!te?!1:l(q).toRgbString()==l(te).toRgbString()},l.random=function(){return l.fromRatio({r:f(),g:f(),b:f()})};function C(q,te){te=te===0?0:te||10;var G=l(q).toHsl();return G.s-=te/100,G.s=oe(G.s),l(G)}function R(q,te){te=te===0?0:te||10;var G=l(q).toHsl();return G.s+=te/100,G.s=oe(G.s),l(G)}function D(q){return l(q).desaturate(100)}function O(q,te){te=te===0?0:te||10;var G=l(q).toHsl();return G.l+=te/100,G.l=oe(G.l),l(G)}function k(q,te){te=te===0?0:te||10;var G=l(q).toRgb();return G.r=u(0,d(255,G.r-p(255*-(te/100)))),G.g=u(0,d(255,G.g-p(255*-(te/100)))),G.b=u(0,d(255,G.b-p(255*-(te/100)))),l(G)}function H(q,te){te=te===0?0:te||10;var G=l(q).toHsl();return G.l-=te/100,G.l=oe(G.l),l(G)}function B(q,te){var G=l(q).toHsl(),L=(G.h+te)%360;return G.h=L<0?360+L:L,l(G)}function Z(q){var te=l(q).toHsl();return te.h=(te.h+180)%360,l(te)}function V(q){var te=l(q).toHsl(),G=te.h;return[l(q),l({h:(G+120)%360,s:te.s,l:te.l}),l({h:(G+240)%360,s:te.s,l:te.l})]}function j(q){var te=l(q).toHsl(),G=te.h;return[l(q),l({h:(G+90)%360,s:te.s,l:te.l}),l({h:(G+180)%360,s:te.s,l:te.l}),l({h:(G+270)%360,s:te.s,l:te.l})]}function z(q){var te=l(q).toHsl(),G=te.h;return[l(q),l({h:(G+72)%360,s:te.s,l:te.l}),l({h:(G+216)%360,s:te.s,l:te.l})]}function W(q,te,G){te=te||6,G=G||30;var L=l(q).toHsl(),I=360/G,U=[l(q)];for(L.h=(L.h-(I*te>>1)+720)%360;--te;)L.h=(L.h+I)%360,U.push(l(L));return U}function Q(q,te){te=te||6;for(var G=l(q).toHsv(),L=G.h,I=G.s,U=G.v,J=[],ye=1/te;te--;)J.push(l({h:L,s:I,v:U})),U=(U+ye)%1;return J}l.mix=function(q,te,G){G=G===0?0:G||50;var L=l(q).toRgb(),I=l(te).toRgb(),U=G/100,J={r:(I.r-L.r)*U+L.r,g:(I.g-L.g)*U+L.g,b:(I.b-L.b)*U+L.b,a:(I.a-L.a)*U+L.a};return l(J)},l.readability=function(q,te){var G=l(q),L=l(te);return(s.max(G.getLuminance(),L.getLuminance())+.05)/(s.min(G.getLuminance(),L.getLuminance())+.05)},l.isReadable=function(q,te,G){var L=l.readability(q,te),I,U;switch(U=!1,I=re(G),I.level+I.size){case"AAsmall":case"AAAlarge":U=L>=4.5;break;case"AAlarge":U=L>=3;break;case"AAAsmall":U=L>=7;break}return U},l.mostReadable=function(q,te,G){var L=null,I=0,U,J,ye,Ie;G=G||{},J=G.includeFallbackColors,ye=G.level,Ie=G.size;for(var be=0;be<te.length;be++)U=l.readability(q,te[be]),U>I&&(I=U,L=l(te[be]));return l.isReadable(q,L,{level:ye,size:Ie})||!J?L:(G.includeFallbackColors=!1,l.mostReadable(q,["#fff","#000"],G))};var se=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},le=l.hexNames=fe(se);function fe(q){var te={};for(var G in q)q.hasOwnProperty(G)&&(te[q[G]]=G);return te}function $(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function ae(q,te){he(q)&&(q="100%");var G=we(q);return q=d(te,u(0,parseFloat(q))),G&&(q=parseInt(q*te,10)/100),s.abs(q-te)<1e-6?1:q%te/parseFloat(te)}function oe(q){return d(1,u(0,q))}function ce(q){return parseInt(q,16)}function he(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function we(q){return typeof q=="string"&&q.indexOf("%")!=-1}function xe(q){return q.length==1?"0"+q:""+q}function Oe(q){return q<=1&&(q=q*100+"%"),q}function ge(q){return s.round(parseFloat(q)*255).toString(16)}function De(q){return ce(q)/255}var pe=function(){var q="[-\\+]?\\d+%?",te="[-\\+]?\\d*\\.\\d+%?",G="(?:"+te+")|(?:"+q+")",L="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",I="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?";return{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function de(q){return!!pe.CSS_UNIT.exec(q)}function ie(q){q=q.replace(o,"").replace(c,"").toLowerCase();var te=!1;if(se[q])q=se[q],te=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var G;return(G=pe.rgb.exec(q))?{r:G[1],g:G[2],b:G[3]}:(G=pe.rgba.exec(q))?{r:G[1],g:G[2],b:G[3],a:G[4]}:(G=pe.hsl.exec(q))?{h:G[1],s:G[2],l:G[3]}:(G=pe.hsla.exec(q))?{h:G[1],s:G[2],l:G[3],a:G[4]}:(G=pe.hsv.exec(q))?{h:G[1],s:G[2],v:G[3]}:(G=pe.hsva.exec(q))?{h:G[1],s:G[2],v:G[3],a:G[4]}:(G=pe.hex8.exec(q))?{r:ce(G[1]),g:ce(G[2]),b:ce(G[3]),a:De(G[4]),format:te?"name":"hex8"}:(G=pe.hex6.exec(q))?{r:ce(G[1]),g:ce(G[2]),b:ce(G[3]),format:te?"name":"hex"}:(G=pe.hex4.exec(q))?{r:ce(G[1]+""+G[1]),g:ce(G[2]+""+G[2]),b:ce(G[3]+""+G[3]),a:De(G[4]+""+G[4]),format:te?"name":"hex8"}:(G=pe.hex3.exec(q))?{r:ce(G[1]+""+G[1]),g:ce(G[2]+""+G[2]),b:ce(G[3]+""+G[3]),format:te?"name":"hex"}:!1}function re(q){var te,G;return q=q||{level:"AA",size:"small"},te=(q.level||"AA").toUpperCase(),G=(q.size||"small").toLowerCase(),te!=="AA"&&te!=="AAA"&&(te="AA"),G!=="small"&&G!=="large"&&(G="small"),{level:te,size:G}}typeof i!="undefined"&&i.exports?i.exports=l:typeof n=="function"&&n.amd?n(function(){return l}):zt.tinycolor=l})(Math)},{}],179:[function(r,i,a){a=i.exports=s;function s(o){return o.replace(/^\s*|\s*$/g,"")}a.left=function(o){return o.replace(/^\s*/,"")},a.right=function(o){return o.replace(/\s*$/,"")}},{}],180:[function(r,i,a){"use strict";var s=r("punycode"),o=r("./util");a.parse=C,a.resolve=D,a.resolveObject=O,a.format=R,a.Url=c;function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(u),l=["'"].concat(f),v=["%","/","?",";","#"].concat(l),y=["/","?","#"],h=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=r("querystring");function C(k,H,B){if(k&&o.isObject(k)&&k instanceof c)return k;var Z=new c;return Z.parse(k,H,B),Z}c.prototype.parse=function(k,H,B){if(!o.isString(k))throw new TypeError("Parameter 'url' must be a string, not "+typeof k);var Z=k.indexOf("?"),V=Z!==-1&&Z<k.indexOf("#")?"?":"#",j=k.split(V),z=/\\/g;j[0]=j[0].replace(z,"/"),k=j.join(V);var W=k;if(W=W.trim(),!B&&k.split("#").length===1){var Q=d.exec(W);if(Q)return this.path=W,this.href=W,this.pathname=Q[1],Q[2]?(this.search=Q[2],H?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var se=g.exec(W);if(se){se=se[0];var le=se.toLowerCase();this.protocol=le,W=W.substr(se.length)}if(B||se||W.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe=W.substr(0,2)==="//";fe&&!(se&&E[se])&&(W=W.substr(2),this.slashes=!0)}if(!E[se]&&(fe||se&&!T[se])){for(var $=-1,ae=0;ae<y.length;ae++){var oe=W.indexOf(y[ae]);oe!==-1&&($===-1||oe<$)&&($=oe)}var ce,he;$===-1?he=W.lastIndexOf("@"):he=W.lastIndexOf("@",$),he!==-1&&(ce=W.slice(0,he),W=W.slice(he+1),this.auth=decodeURIComponent(ce)),$=-1;for(var ae=0;ae<v.length;ae++){var oe=W.indexOf(v[ae]);oe!==-1&&($===-1||oe<$)&&($=oe)}$===-1&&($=W.length),this.host=W.slice(0,$),W=W.slice($),this.parseHost(),this.hostname=this.hostname||"";var we=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!we)for(var xe=this.hostname.split(/\./),ae=0,Oe=xe.length;ae<Oe;ae++){var ge=xe[ae];if(!!ge&&!ge.match(m)){for(var De="",pe=0,de=ge.length;pe<de;pe++)ge.charCodeAt(pe)>127?De+="x":De+=ge[pe];if(!De.match(m)){var ie=xe.slice(0,ae),re=xe.slice(ae+1),q=ge.match(_);q&&(ie.push(q[1]),re.unshift(q[2])),re.length&&(W="/"+re.join(".")+W),this.hostname=ie.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),we||(this.hostname=s.toASCII(this.hostname));var te=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+te,this.href+=this.host,we&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),W[0]!=="/"&&(W="/"+W))}if(!w[le])for(var ae=0,Oe=l.length;ae<Oe;ae++){var L=l[ae];if(W.indexOf(L)!==-1){var I=encodeURIComponent(L);I===L&&(I=escape(L)),W=W.split(L).join(I)}}var U=W.indexOf("#");U!==-1&&(this.hash=W.substr(U),W=W.slice(0,U));var J=W.indexOf("?");if(J!==-1?(this.search=W.substr(J),this.query=W.substr(J+1),H&&(this.query=A.parse(this.query)),W=W.slice(0,J)):H&&(this.search="",this.query={}),W&&(this.pathname=W),T[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var te=this.pathname||"",ye=this.search||"";this.path=te+ye}return this.href=this.format(),this};function R(k){return o.isString(k)&&(k=C(k)),k instanceof c?k.format():c.prototype.format.call(k)}c.prototype.format=function(){var k=this.auth||"";k&&(k=encodeURIComponent(k),k=k.replace(/%3A/i,":"),k+="@");var H=this.protocol||"",B=this.pathname||"",Z=this.hash||"",V=!1,j="";this.host?V=k+this.host:this.hostname&&(V=k+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(j=A.stringify(this.query));var z=this.search||j&&"?"+j||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||T[H])&&V!==!1?(V="//"+(V||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):V||(V=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),z&&z.charAt(0)!=="?"&&(z="?"+z),B=B.replace(/[?#]/g,function(W){return encodeURIComponent(W)}),z=z.replace("#","%23"),H+V+B+z+Z};function D(k,H){return C(k,!1,!0).resolve(H)}c.prototype.resolve=function(k){return this.resolveObject(C(k,!1,!0)).format()};function O(k,H){return k?C(k,!1,!0).resolveObject(H):H}c.prototype.resolveObject=function(k){if(o.isString(k)){var H=new c;H.parse(k,!1,!0),k=H}for(var B=new c,Z=Object.keys(this),V=0;V<Z.length;V++){var j=Z[V];B[j]=this[j]}if(B.hash=k.hash,k.href==="")return B.href=B.format(),B;if(k.slashes&&!k.protocol){for(var z=Object.keys(k),W=0;W<z.length;W++){var Q=z[W];Q!=="protocol"&&(B[Q]=k[Q])}return T[B.protocol]&&B.hostname&&!B.pathname&&(B.path=B.pathname="/"),B.href=B.format(),B}if(k.protocol&&k.protocol!==B.protocol){if(!T[k.protocol]){for(var se=Object.keys(k),le=0;le<se.length;le++){var fe=se[le];B[fe]=k[fe]}return B.href=B.format(),B}if(B.protocol=k.protocol,!k.host&&!E[k.protocol]){for(var Oe=(k.pathname||"").split("/");Oe.length&&!(k.host=Oe.shift()););k.host||(k.host=""),k.hostname||(k.hostname=""),Oe[0]!==""&&Oe.unshift(""),Oe.length<2&&Oe.unshift(""),B.pathname=Oe.join("/")}else B.pathname=k.pathname;if(B.search=k.search,B.query=k.query,B.host=k.host||"",B.auth=k.auth,B.hostname=k.hostname||k.host,B.port=k.port,B.pathname||B.search){var $=B.pathname||"",ae=B.search||"";B.path=$+ae}return B.slashes=B.slashes||k.slashes,B.href=B.format(),B}var oe=B.pathname&&B.pathname.charAt(0)==="/",ce=k.host||k.pathname&&k.pathname.charAt(0)==="/",he=ce||oe||B.host&&k.pathname,we=he,xe=B.pathname&&B.pathname.split("/")||[],Oe=k.pathname&&k.pathname.split("/")||[],ge=B.protocol&&!T[B.protocol];if(ge&&(B.hostname="",B.port=null,B.host&&(xe[0]===""?xe[0]=B.host:xe.unshift(B.host)),B.host="",k.protocol&&(k.hostname=null,k.port=null,k.host&&(Oe[0]===""?Oe[0]=k.host:Oe.unshift(k.host)),k.host=null),he=he&&(Oe[0]===""||xe[0]==="")),ce)B.host=k.host||k.host===""?k.host:B.host,B.hostname=k.hostname||k.hostname===""?k.hostname:B.hostname,B.search=k.search,B.query=k.query,xe=Oe;else if(Oe.length)xe||(xe=[]),xe.pop(),xe=xe.concat(Oe),B.search=k.search,B.query=k.query;else if(!o.isNullOrUndefined(k.search)){if(ge){B.hostname=B.host=xe.shift();var De=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;De&&(B.auth=De.shift(),B.host=B.hostname=De.shift())}return B.search=k.search,B.query=k.query,(!o.isNull(B.pathname)||!o.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!xe.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var pe=xe.slice(-1)[0],de=(B.host||k.host||xe.length>1)&&(pe==="."||pe==="..")||pe==="",ie=0,re=xe.length;re>=0;re--)pe=xe[re],pe==="."?xe.splice(re,1):pe===".."?(xe.splice(re,1),ie++):ie&&(xe.splice(re,1),ie--);if(!he&&!we)for(;ie--;ie)xe.unshift("..");he&&xe[0]!==""&&(!xe[0]||xe[0].charAt(0)!=="/")&&xe.unshift(""),de&&xe.join("/").substr(-1)!=="/"&&xe.push("");var q=xe[0]===""||xe[0]&&xe[0].charAt(0)==="/";if(ge){B.hostname=B.host=q?"":xe.length?xe.shift():"";var De=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;De&&(B.auth=De.shift(),B.host=B.hostname=De.shift())}return he=he||B.host&&xe.length,he&&!q&&xe.unshift(""),xe.length?B.pathname=xe.join("/"):(B.pathname=null,B.path=null),(!o.isNull(B.pathname)||!o.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=k.auth||B.auth,B.slashes=B.slashes||k.slashes,B.href=B.format(),B},c.prototype.parseHost=function(){var k=this.host,H=p.exec(k);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),k=k.substr(0,k.length-H.length)),k&&(this.hostname=k)}},{"./util":181,punycode:134,querystring:137}],181:[function(r,i,a){"use strict";i.exports={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}}},{}],182:[function(r,i,a){(function(s){(function(){var o={};typeof i=="object"?i.exports=o:self.UTIF=o;var c;typeof r=="function"?c=r("pako"):c=self.pako;function g(){(typeof s=="undefined"||s.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(p,d){(function(){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f=function(){function v(y){this.message="JPEG error: "+y}return v.prototype=Error(),v.prototype.name="JpegError",v.constructor=v}(),l=function(){function v(y,h){this.message=y,this.g=h}return v.prototype=Error(),v.prototype.name="DNLMarkerError",v.constructor=v}();(function(){function v(){this.M=null,this.B=-1}function y(E,T){for(var A=0,C=[],R,D,O=16;0<O&&!E[O-1];)O--;C.push({children:[],index:0});var k=C[0],H;for(R=0;R<O;R++){for(D=0;D<E[R];D++){for(k=C.pop(),k.children[k.index]=T[A];0<k.index;)k=C.pop();for(k.index++,C.push(k);C.length<=R;)C.push(H={children:[],index:0}),k.children[k.index]=H.children,k=H;A++}R+1<O&&(C.push(H={children:[],index:0}),k.children[k.index]=H.children,k=H)}return C[0].children}function h(E,T,A,C,R,D,O,k,H){function B(){if(0<ce)return ce--,oe>>ce&1;if(oe=E[T++],oe===255){var U=E[T++];if(U){if(U===220&&fe){T+=2;var J=E[T++]<<8|E[T++];if(0<J&&J!==A.g)throw new l("Found DNL marker (0xFFDC) while parsing scan data",J)}throw new f("unexpected marker "+(oe<<8|U).toString(16))}}return ce=7,oe>>>7}function Z(U){for(;;){if(U=U[B()],typeof U=="number")return U;if((typeof U=="undefined"?"undefined":u(U))!=="object")throw new f("invalid huffman sequence")}}function V(U){for(var J=0;0<U;)J=J<<1|B(),U--;return J}function j(U){if(U===1)return B()===1?1:-1;var J=V(U);return J>=1<<U-1?J:J+(-1<<U)+1}function z(U,J){var ye=Z(U.D);for(ye=ye===0?0:j(ye),U.a[J]=U.m+=ye,ye=1;64>ye;){var Ie=Z(U.o),be=Ie&15;if(Ie>>=4,be===0){if(15>Ie)break;ye+=16}else ye+=Ie,U.a[J+w[ye]]=j(be),ye++}}function W(U,J){var ye=Z(U.D);ye=ye===0?0:j(ye)<<H,U.a[J]=U.m+=ye}function Q(U,J){U.a[J]|=B()<<H}function se(U,J){if(0<he)he--;else for(var ye=D;ye<=O;){var Ie=Z(U.o),be=Ie&15;if(Ie>>=4,be===0){if(15>Ie){he=V(Ie)+(1<<Ie)-1;break}ye+=16}else ye+=Ie,U.a[J+w[ye]]=j(be)*(1<<H),ye++}}function le(U,J){for(var ye=D,Ie=0,be;ye<=O;){be=J+w[ye];var Le=0>U.a[be]?-1:1;switch(we){case 0:if(Ie=Z(U.o),be=Ie&15,Ie>>=4,be===0)15>Ie?(he=V(Ie)+(1<<Ie),we=4):(Ie=16,we=1);else{if(be!==1)throw new f("invalid ACn encoding");xe=j(be),we=Ie?2:3}continue;case 1:case 2:U.a[be]?U.a[be]+=Le*(B()<<H):(Ie--,Ie===0&&(we=we===2?3:0));break;case 3:U.a[be]?U.a[be]+=Le*(B()<<H):(U.a[be]=xe<<H,we=0);break;case 4:U.a[be]&&(U.a[be]+=Le*(B()<<H))}ye++}we===4&&(he--,he===0&&(we=0))}for(var fe=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,$=A.P,ae=T,oe=0,ce=0,he=0,we=0,xe,Oe=C.length,ge,De,pe,de,ie=A.S?D===0?k===0?W:Q:k===0?se:le:z,re=0,q=Oe===1?C[0].c*C[0].l:$*A.O,te,G;re<q;){var L=R?Math.min(q-re,R):q;for(ge=0;ge<Oe;ge++)C[ge].m=0;if(he=0,Oe===1){var I=C[0];for(de=0;de<L;de++)ie(I,64*((I.c+1)*(re/I.c|0)+re%I.c)),re++}else for(de=0;de<L;de++){for(ge=0;ge<Oe;ge++)for(I=C[ge],te=I.h,G=I.j,De=0;De<G;De++)for(pe=0;pe<te;pe++)ie(I,64*((I.c+1)*((re/$|0)*I.j+De)+(re%$*I.h+pe)));re++}if(ce=0,(I=_(E,T))&&I.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+I.f),T=I.offset),I=I&&I.F,!I||65280>=I)throw new f("marker was not found");if(65488<=I&&65495>=I)T+=2;else break}return(I=_(E,T))&&I.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+I.f),T=I.offset),T-ae}function m(E,T){for(var A=T.c,C=T.l,R=new Int16Array(64),D=0;D<C;D++)for(var O=0;O<A;O++){var k=64*((T.c+1)*D+O),H=R,B=T.G,Z=T.a;if(!B)throw new f("missing required Quantization Table.");for(var V=0;64>V;V+=8){var j=Z[k+V],z=Z[k+V+1],W=Z[k+V+2],Q=Z[k+V+3],se=Z[k+V+4],le=Z[k+V+5],fe=Z[k+V+6],$=Z[k+V+7];if(j*=B[V],(z|W|Q|se|le|fe|$)==0)j=5793*j+512>>10,H[V]=j,H[V+1]=j,H[V+2]=j,H[V+3]=j,H[V+4]=j,H[V+5]=j,H[V+6]=j,H[V+7]=j;else{z*=B[V+1],W*=B[V+2],Q*=B[V+3],se*=B[V+4],le*=B[V+5],fe*=B[V+6],$*=B[V+7];var ae=5793*j+128>>8,oe=5793*se+128>>8,ce=W,he=fe;se=2896*(z-$)+128>>8,$=2896*(z+$)+128>>8,Q<<=4,le<<=4,ae=ae+oe+1>>1,oe=ae-oe,j=3784*ce+1567*he+128>>8,ce=1567*ce-3784*he+128>>8,he=j,se=se+le+1>>1,le=se-le,$=$+Q+1>>1,Q=$-Q,ae=ae+he+1>>1,he=ae-he,oe=oe+ce+1>>1,ce=oe-ce,j=2276*se+3406*$+2048>>12,se=3406*se-2276*$+2048>>12,$=j,j=799*Q+4017*le+2048>>12,Q=4017*Q-799*le+2048>>12,le=j,H[V]=ae+$,H[V+7]=ae-$,H[V+1]=oe+le,H[V+6]=oe-le,H[V+2]=ce+Q,H[V+5]=ce-Q,H[V+3]=he+se,H[V+4]=he-se}}for(B=0;8>B;++B)j=H[B],z=H[B+8],W=H[B+16],Q=H[B+24],se=H[B+32],le=H[B+40],fe=H[B+48],$=H[B+56],(z|W|Q|se|le|fe|$)==0?(j=5793*j+8192>>14,j=-2040>j?0:2024<=j?255:j+2056>>4,Z[k+B]=j,Z[k+B+8]=j,Z[k+B+16]=j,Z[k+B+24]=j,Z[k+B+32]=j,Z[k+B+40]=j,Z[k+B+48]=j,Z[k+B+56]=j):(ae=5793*j+2048>>12,oe=5793*se+2048>>12,ce=W,he=fe,se=2896*(z-$)+2048>>12,$=2896*(z+$)+2048>>12,ae=(ae+oe+1>>1)+4112,oe=ae-oe,j=3784*ce+1567*he+2048>>12,ce=1567*ce-3784*he+2048>>12,he=j,se=se+le+1>>1,le=se-le,$=$+Q+1>>1,Q=$-Q,ae=ae+he+1>>1,he=ae-he,oe=oe+ce+1>>1,ce=oe-ce,j=2276*se+3406*$+2048>>12,se=3406*se-2276*$+2048>>12,$=j,j=799*Q+4017*le+2048>>12,Q=4017*Q-799*le+2048>>12,le=j,j=ae+$,$=ae-$,z=oe+le,fe=oe-le,W=ce+Q,le=ce-Q,Q=he+se,se=he-se,j=16>j?0:4080<=j?255:j>>4,z=16>z?0:4080<=z?255:z>>4,W=16>W?0:4080<=W?255:W>>4,Q=16>Q?0:4080<=Q?255:Q>>4,se=16>se?0:4080<=se?255:se>>4,le=16>le?0:4080<=le?255:le>>4,fe=16>fe?0:4080<=fe?255:fe>>4,$=16>$?0:4080<=$?255:$>>4,Z[k+B]=j,Z[k+B+8]=z,Z[k+B+16]=W,Z[k+B+24]=Q,Z[k+B+32]=se,Z[k+B+40]=le,Z[k+B+48]=fe,Z[k+B+56]=$)}return T.a}function _(E,T){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:T,C=E.length-1;if(A=A<T?A:T,T>=C)return null;var R=E[T]<<8|E[T+1];if(65472<=R&&65534>=R)return{f:null,F:R,offset:T};for(var D=E[A]<<8|E[A+1];!(65472<=D&&65534>=D);){if(++A>=C)return null;D=E[A]<<8|E[A+1]}return{f:R.toString(16),F:D,offset:A}}var w=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);v.prototype={parse:function(E){function T(){var ce=E[O]<<8|E[O+1];return O+=2,ce}function A(){var ce=T();ce=O+ce-2;var he=_(E,ce,O);return he&&he.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+he.f),ce=he.offset),ce=E.subarray(O,ce),O+=ce.length,ce}function C(ce){for(var he=Math.ceil(ce.v/8/ce.s),we=Math.ceil(ce.g/8/ce.u),xe=0;xe<ce.b.length;xe++){ae=ce.b[xe];var Oe=Math.ceil(Math.ceil(ce.v/8)*ae.h/ce.s),ge=Math.ceil(Math.ceil(ce.g/8)*ae.j/ce.u);ae.a=new Int16Array(64*we*ae.j*(he*ae.h+1)),ae.c=Oe,ae.l=ge}ce.P=he,ce.O=we}var R=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,D=R===void 0?null:R,O=0,k=null,H=0;R=[];var B=[],Z=[],V=T();if(V!==65496)throw new f("SOI not found");for(V=T();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var j=A();V===65518&&j[0]===65&&j[1]===100&&j[2]===111&&j[3]===98&&j[4]===101&&(k={version:j[5]<<8|j[6],Y:j[7]<<8|j[8],Z:j[9]<<8|j[10],W:j[11]});break;case 65499:V=T()+O-2;for(var z;O<V;){var W=E[O++],Q=new Uint16Array(64);if(W>>4==0)for(j=0;64>j;j++)z=w[j],Q[z]=E[O++];else if(W>>4==1)for(j=0;64>j;j++)z=w[j],Q[z]=T();else throw new f("DQT - invalid table spec");R[W&15]=Q}break;case 65472:case 65473:case 65474:if(se)throw new f("Only single frame JPEGs supported");T();var se={};for(se.X=V===65473,se.S=V===65474,se.precision=E[O++],V=T(),se.g=D||V,se.v=T(),se.b=[],se.C={},j=E[O++],V=Q=W=0;V<j;V++){z=E[O];var le=E[O+1]>>4,fe=E[O+1]&15;W<le&&(W=le),Q<fe&&(Q=fe),le=se.b.push({h:le,j:fe,T:E[O+2],G:null}),se.C[z]=le-1,O+=3}se.s=W,se.u=Q,C(se);break;case 65476:for(z=T(),V=2;V<z;){for(W=E[O++],Q=new Uint8Array(16),j=le=0;16>j;j++,O++)le+=Q[j]=E[O];for(fe=new Uint8Array(le),j=0;j<le;j++,O++)fe[j]=E[O];V+=17+le,(W>>4==0?Z:B)[W&15]=y(Q,fe)}break;case 65501:T();var $=T();break;case 65498:for(j=++H==1&&!D,T(),W=E[O++],z=[],V=0;V<W;V++){Q=se.C[E[O++]];var ae=se.b[Q];Q=E[O++],ae.D=Z[Q>>4],ae.o=B[Q&15],z.push(ae)}V=E[O++],W=E[O++],Q=E[O++];try{var oe=h(E,O,se,z,$,V,W,Q>>4,Q&15,j);O+=oe}catch(ce){if(ce instanceof l)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(E,{N:ce.g});throw ce}break;case 65500:O+=4;break;case 65535:E[O]!==255&&O--;break;default:if(E[O-3]===255&&192<=E[O-2]&&254>=E[O-2])O-=3;else if((j=_(E,O-2))&&j.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+j.f),O=j.offset;else throw new f("unknown marker "+V.toString(16))}V=T()}for(this.width=se.v,this.height=se.g,this.A=k,this.b=[],V=0;V<se.b.length;V++)ae=se.b[V],($=R[ae.T])&&(ae.G=$),this.b.push({R:m(se,ae),U:ae.h/se.s,V:ae.j/se.u,c:ae.c,l:ae.l});this.i=this.b.length},L:function(E,T){var A=this.width/E,C=this.height/T,R,D,O=this.b.length,k=E*T*O,H=new Uint8ClampedArray(k),B=new Uint32Array(E);for(D=0;D<O;D++){var Z=this.b[D],V=Z.U*A,j=Z.V*C,z=D,W=Z.R,Q=Z.c+1<<3;for(R=0;R<E;R++)Z=0|R*V,B[R]=(Z&4294967288)<<3|Z&7;for(V=0;V<T;V++)for(Z=0|V*j,Z=Q*(Z&4294967288)|(Z&7)<<3,R=0;R<E;R++)H[z]=W[Z+B[R]],z+=O}if(C=this.M)for(D=0;D<k;)for(A=Z=0;Z<O;Z++,D++,A+=2)H[D]=(H[D]*C[A]>>8)+C[A+1];return H},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(E){for(var T,A,C,R=0,D=E.length;R<D;R+=3)T=E[R],A=E[R+1],C=E[R+2],E[R]=T-179.456+1.402*C,E[R+1]=T+135.459-.344*A-.714*C,E[R+2]=T-226.816+1.772*A;return E},K:function(E){for(var T,A,C,R,D=0,O=0,k=E.length;O<k;O+=4)T=E[O],A=E[O+1],C=E[O+2],R=E[O+3],E[D++]=-122.67195406894+A*(-660635669420364e-19*A+.000437130475926232*C-54080610064599e-18*T+.00048449797120281*R-.154362151871126)+C*(-.000957964378445773*C+.000817076911346625*T-.00477271405408747*R+1.53380253221734)+T*(.000961250184130688*T-.00266257332283933*R+.48357088451265)+R*(-.000336197177618394*R+.484791561490776),E[D++]=107.268039397724+A*(219927104525741e-19*A-.000640992018297945*C+.000659397001245577*T+.000426105652938837*R-.176491792462875)+C*(-.000778269941513683*C+.00130872261408275*T+.000770482631801132*R-.151051492775562)+T*(.00126935368114843*T-.00265090189010898*R+.25802910206845)+R*(-.000318913117588328*R-.213742400323665),E[D++]=-20.810012546947+A*(-.000570115196973677*A-263409051004589e-19*C+.0020741088115012*T-.00288260236853442*R+.814272968359295)+C*(-153496057440975e-19*C-.000132689043961446*T+.000560833691242812*R-.195152027534049)+T*(.00174418132927582*T-.00255243321439347*R+.116935020465145)+R*(-.000343531996510555*R+.24165260232407);return E.subarray(0,D)},J:function(E){for(var T,A,C,R=0,D=E.length;R<D;R+=4)T=E[R],A=E[R+1],C=E[R+2],E[R]=434.456-T-1.402*C,E[R+1]=119.541-T+.344*A+.714*C,E[R+2]=481.816-T-1.772*A;return E},H:function(E){for(var T,A,C,R,D=0,O=1/255,k=0,H=E.length;k<H;k+=4)T=E[k]*O,A=E[k+1]*O,C=E[k+2]*O,R=E[k+3]*O,E[D++]=255+T*(-4.387332384609988*T+54.48615194189176*A+18.82290502165302*C+212.25662451639585*R-285.2331026137004)+A*(1.7149763477362134*A-5.6096736904047315*C-17.873870861415444*R-5.497006427196366)+C*(-2.5217340131683033*C-21.248923337353073*R+17.5119270841813)-R*(21.86122147463605*R+189.48180835922747),E[D++]=255+T*(8.841041422036149*T+60.118027045597366*A+6.871425592049007*C+31.159100130055922*R-79.2970844816548)+A*(-15.310361306967817*A+17.575251261109482*C+131.35250912493976*R-190.9453302588951)+C*(4.444339102852739*C+9.8632861493405*R-24.86741582555878)-R*(20.737325471181034*R+187.80453709719578),E[D++]=255+T*(.8842522430003296*T+8.078677503112928*A+30.89978309703729*C-.23883238689178934*R-14.183576799673286)+A*(10.49593273432072*A+63.02378494754052*C+50.606957656360734*R-112.23884253719248)+C*(.03296041114873217*C+115.60384449646641*R-193.58209356861505)-R*(22.33816807309886*R+180.12613974708367);return E.subarray(0,D)},getData:function(E,T,A){if(4<this.i)throw new f("Unsupported color mode");if(E=this.L(E,T),this.i===1&&A){A=E.length,T=new Uint8ClampedArray(3*A);for(var C=0,R=0;R<A;R++){var D=E[R];T[C++]=D,T[C++]=D,T[C++]=D}return T}if(this.i===3&&this.w())return this.I(E);if(this.i===4){if(this.w())return A?this.K(E):this.J(E);if(A)return this.H(E)}return E}},p.JpegDecoder=v})()})(),p.encodeImage=function(u,f,l,v){var y={t256:[f],t257:[l],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[l],t279:[f*l*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(v)for(var h in v)y[h]=v[h];for(var m=new Uint8Array(p.encode([y])),_=new Uint8Array(u),w=new Uint8Array(1e3+f*l*4),h=0;h<m.length;h++)w[h]=m[h];for(var h=0;h<_.length;h++)w[1e3+h]=_[h];return w.buffer},p.encode=function(u){var f=new Uint8Array(2e4),l=4,v=p._binBE;f[0]=77,f[1]=77,f[3]=42;var y=8;v.writeUint(f,l,y),l+=4;for(var h=0;h<u.length;h++){var m=p._writeIFD(v,f,y,u[h]);y=m[1],h<u.length-1&&v.writeUint(f,m[0],y)}return f.slice(0,y).buffer},p.decode=function(u){p.decode._decodeG3.allow2D=null;var f=new Uint8Array(u),l=0,v=p._binBE.readASCII(f,l,2);l+=2;var y=v=="II"?p._binLE:p._binBE,h=y.readUshort(f,l);l+=2;var m=y.readUint(f,l);l+=4;for(var _=[];;){var w=p._readIFD(y,f,m,_);if(m=y.readUint(f,w),m==0)break}return _},p.decodeImages=function(u,f){for(var l=new Uint8Array(u),v=p._binBE.readASCII(l,0,2),y=0;y<f.length;y++){var h=f[y];if(h.t256!=null){h.isLE=v=="II",h.width=h.t256[0],h.height=h.t257[0];var m=h.t259?h.t259[0]:1,_=h.t266?h.t266[0]:1;h.t284&&h.t284[0]==2&&g("PlanarConfiguration 2 should not be used!");var w=(h.t258?Math.min(32,h.t258[0]):1)*(h.t277?h.t277[0]:1),E=Math.ceil(h.width*w/8)*8,T=h.t273;T==null&&(T=h.t324);var A=h.t279;m==1&&T.length==1&&(A=[h.height*(E>>>3)]),A==null&&(A=h.t325);var C=new Uint8Array(h.height*(E>>>3)),R=0;if(h.t322!=null){for(var D=h.t322[0],O=h.t323[0],k=Math.floor((h.width+D-1)/D),H=Math.floor((h.height+O-1)/O),B=new Uint8Array(Math.ceil(D*O*w/8)|0),Z=0;Z<H;Z++)for(var V=0;V<k;V++){for(var j=Z*k+V,z=0;z<B.length;z++)B[z]=0;p.decode._decompress(h,l,T[j],A[j],m,B,0,_),m==6?C=B:p._copyTile(B,Math.ceil(D*w/8)|0,O,C,Math.ceil(h.width*w/8)|0,h.height,Math.ceil(V*D*w/8)|0,Z*O)}R=C.length*8}else{var W=h.t278?h.t278[0]:h.height;W=Math.min(W,h.height);for(var j=0;j<T.length;j++)p.decode._decompress(h,l,T[j],A[j],m,C,Math.ceil(R/8)|0,_),R+=E*W;R=Math.min(R,C.length*8)}h.data=new Uint8Array(C.buffer,0,Math.ceil(R/8)|0)}}},p.decode._decompress=function(u,f,l,v,y,h,m,_){if(y==1)for(var w=0;w<v;w++)h[m+w]=f[l+w];else if(y==3)p.decode._decodeG3(f,l,v,h,m,u.width,_);else if(y==4)p.decode._decodeG4(f,l,v,h,m,u.width,_);else if(y==5)p.decode._decodeLZW(f,l,h,m);else if(y==6)p.decode._decodeOldJPEG(u,f,l,v,h,m);else if(y==7)p.decode._decodeNewJPEG(u,f,l,v,h,m);else if(y==8)for(var E=new Uint8Array(f.buffer,l,v),T=d.inflate(E),A=0;A<T.length;A++)h[m+A]=T[A];else y==32773?p.decode._decodePackBits(f,l,v,h,m):y==32809?p.decode._decodeThunder(f,l,v,h,m):g("Unknown compression",y);if(u.t317&&u.t317[0]==2)for(var C=u.t277?u.t277[0]:1,R=u.t278?u.t278[0]:u.height,D=u.width*C,O=0;O<R;O++){var k=m+O*D;if(C==3)for(var w=3;w<D;w+=3)h[k+w]=h[k+w]+h[k+w-3]&255,h[k+w+1]=h[k+w+1]+h[k+w-2]&255,h[k+w+2]=h[k+w+2]+h[k+w-1]&255;else for(var w=C;w<D;w++)h[k+w]=h[k+w]+h[k+w-C]&255}},p.decode._decodeNikon=function(u,f,l,v,y){var h=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],m,_,w,E,T,A,C,R,D=0,O=0,k=0,H,B,l,Z,V;g(u.slice(f,f+100)),m=u[f],f++,_=u[f],f++,g(m.toString(16),_.toString(16),l)},p.decode._decodeNewJPEG=function(u,f,l,v,y,h){var m=u.t347,_=m?m.length:0,w=new Uint8Array(_+v);if(m){for(var E=216,T=217,A=0,C=0;C<_-1&&!(m[C]==255&&m[C+1]==T);C++)w[A++]=m[C];var R=f[l],D=f[l+1];(R!=255||D!=E)&&(w[A++]=R,w[A++]=D);for(var C=2;C<v;C++)w[A++]=f[l+C]}else for(var C=0;C<v;C++)w[C]=f[l+C];if(u.t262==32803){var O=u.t258[0],k=new LosslessJpegDecoder,H=k.decode(w),B=H.length;if(O==16)for(var C=0;C<B;C++)y[h++]=H[C]&255,y[h++]=H[C]>>>8;else if(O==12)for(var C=0;C<B;C+=2)y[h++]=H[C]>>>4,y[h++]=(H[C]<<4|H[C+1]>>>8)&255,y[h++]=H[C+1]&255;else throw new Error("unsupported bit depth "+O)}else{var Z=new p.JpegDecoder;Z.parse(w);for(var V=Z.getData(Z.width,Z.height),C=0;C<V.length;C++)y[h+C]=V[C]}u.t262[0]==6&&(u.t262[0]=2)},p.decode._decodeOldJPEGInit=function(u,f,l,v){var y=216,h=217,m=219,_=196,w=221,E=192,T=218,A=0,C=0,R,D,O=!1,k,H,B,Z=u.t513,V=Z?Z[0]:0,j=u.t514,z=j?j[0]:0,W=u.t324||u.t273||Z,Q=u.t530,se=0,le=0,fe=u.t277?u.t277[0]:1,$=u.t515;if(W&&(C=W[0],O=W.length>1),!O){if(f[l]==255&&f[l+1]==y)return{jpegOffset:l};if(Z!=null&&(f[l+V]==255&&f[l+V+1]==y?A=l+V:g("JPEGInterchangeFormat does not point to SOI"),j==null?g("JPEGInterchangeFormatLength field is missing"):(V>=C||V+z<=C)&&g("JPEGInterchangeFormatLength field value is invalid"),A!=null))return{jpegOffset:A}}if(Q!=null&&(se=Q[0],le=Q[1]),Z!=null&&j!=null)if(z>=2&&V+z<=C){for(f[l+V+z-2]==255&&f[l+V+z-1]==y?R=new Uint8Array(z-2):R=new Uint8Array(z),k=0;k<R.length;k++)R[k]=f[l+V+k];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(R==null){var ae=0,oe=[];oe[ae++]=255,oe[ae++]=y;var ce=u.t519;if(ce==null)throw new Error("JPEGQTables tag is missing");for(k=0;k<ce.length;k++)for(oe[ae++]=255,oe[ae++]=m,oe[ae++]=0,oe[ae++]=67,oe[ae++]=k,H=0;H<64;H++)oe[ae++]=f[l+ce[k]+H];for(B=0;B<2;B++){var he=u[B==0?"t520":"t521"];if(he==null)throw new Error((B==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(k=0;k<he.length;k++){oe[ae++]=255,oe[ae++]=_;var we=19;for(H=0;H<16;H++)we+=f[l+he[k]+H];for(oe[ae++]=we>>>8,oe[ae++]=we&255,oe[ae++]=k|B<<4,H=0;H<16;H++)oe[ae++]=f[l+he[k]+H];for(H=0;H<we;H++)oe[ae++]=f[l+he[k]+16+H]}}if(oe[ae++]=255,oe[ae++]=E,oe[ae++]=0,oe[ae++]=8+3*fe,oe[ae++]=8,oe[ae++]=u.height>>>8&255,oe[ae++]=u.height&255,oe[ae++]=u.width>>>8&255,oe[ae++]=u.width&255,oe[ae++]=fe,fe==1)oe[ae++]=1,oe[ae++]=17,oe[ae++]=0;else for(k=0;k<3;k++)oe[ae++]=k+1,oe[ae++]=k!=0?17:(se&15)<<4|le&15,oe[ae++]=k;$!=null&&$[0]!=0&&(oe[ae++]=255,oe[ae++]=w,oe[ae++]=0,oe[ae++]=4,oe[ae++]=$[0]>>>8&255,oe[ae++]=$[0]&255),R=new Uint8Array(oe)}var xe=-1;for(k=0;k<R.length-1;){if(R[k]==255&&R[k+1]==E){xe=k;break}k++}if(xe==-1){var Oe=new Uint8Array(R.length+10+3*fe);Oe.set(R);var ge=R.length;if(xe=R.length,R=Oe,R[ge++]=255,R[ge++]=E,R[ge++]=0,R[ge++]=8+3*fe,R[ge++]=8,R[ge++]=u.height>>>8&255,R[ge++]=u.height&255,R[ge++]=u.width>>>8&255,R[ge++]=u.width&255,R[ge++]=fe,fe==1)R[ge++]=1,R[ge++]=17,R[ge++]=0;else for(k=0;k<3;k++)R[ge++]=k+1,R[ge++]=k!=0?17:(se&15)<<4|le&15,R[ge++]=k}if(f[C]==255&&f[C+1]==T){var De=f[C+2]<<8|f[C+3];for(D=new Uint8Array(De+2),D[0]=f[C],D[1]=f[C+1],D[2]=f[C+2],D[3]=f[C+3],k=0;k<De-2;k++)D[k+4]=f[C+k+4]}else{D=new Uint8Array(2+6+2*fe);var pe=0;if(D[pe++]=255,D[pe++]=T,D[pe++]=0,D[pe++]=6+2*fe,D[pe++]=fe,fe==1)D[pe++]=1,D[pe++]=0;else for(k=0;k<3;k++)D[pe++]=k+1,D[pe++]=k<<4|k;D[pe++]=0,D[pe++]=63,D[pe++]=0}return{jpegOffset:l,tables:R,sosMarker:D,sofPosition:xe}},p.decode._decodeOldJPEG=function(u,f,l,v,y,h){var m,_,w,E,T,A=p.decode._decodeOldJPEGInit(u,f,l,v);if(A.jpegOffset!=null)for(_=l+v-A.jpegOffset,E=new Uint8Array(_),m=0;m<_;m++)E[m]=f[A.jpegOffset+m];else{for(w=A.tables.length,E=new Uint8Array(w+A.sosMarker.length+v+2),E.set(A.tables),T=w,E[A.sofPosition+5]=u.height>>>8&255,E[A.sofPosition+6]=u.height&255,E[A.sofPosition+7]=u.width>>>8&255,E[A.sofPosition+8]=u.width&255,(f[l]!=255||f[l+1]!=SOS)&&(E.set(A.sosMarker,bufoff),bufoff+=sosMarker.length),m=0;m<v;m++)E[bufoff++]=f[l+m];E[bufoff++]=255,E[bufoff++]=EOI}var C=new p.JpegDecoder;C.parse(E);for(var R=C.getData(C.width,C.height),m=0;m<R.length;m++)y[h+m]=R[m];u.t262[0]==6&&(u.t262[0]=2)},p.decode._decodePackBits=function(u,f,l,v,y){for(var h=new Int8Array(u.buffer),m=new Int8Array(v.buffer),_=f+l;f<_;){var w=h[f];if(f++,w>=0&&w<128)for(var E=0;E<w+1;E++)m[y]=h[f],y++,f++;if(w>=-127&&w<0){for(var E=0;E<-w+1;E++)m[y]=h[f],y++;f++}}},p.decode._decodeThunder=function(u,f,l,v,y){for(var h=[0,1,0,-1],m=[0,1,2,3,0,-3,-2,-1],_=f+l,w=y*2,E=0;f<_;){var T=u[f],A=T>>>6,C=T&63;if(f++,A==3&&(E=C&15,v[w>>>1]|=E<<4*(1-w&1),w++),A==0)for(var R=0;R<C;R++)v[w>>>1]|=E<<4*(1-w&1),w++;if(A==2)for(var R=0;R<2;R++){var D=C>>>3*(1-R)&7;D!=4&&(E+=m[D],v[w>>>1]|=E<<4*(1-w&1),w++)}if(A==1)for(var R=0;R<3;R++){var D=C>>>2*(2-R)&3;D!=2&&(E+=h[D],v[w>>>1]|=E<<4*(1-w&1),w++)}}},p.decode._dmap={"1":0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},p.decode._lens=function(){var u=function(w,E,T,A){for(var C=0;C<E.length;C++)w[E[C]]=T+C*A},f="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",l="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",v="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",y="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",h="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";f=f.split(","),l=l.split(","),v=v.split(","),y=y.split(","),h=h.split(",");var m={},_={};return u(m,f,0,1),u(m,v,64,64),u(m,h,1792,64),u(_,l,0,1),u(_,y,64,64),u(_,h,1792,64),[m,_]}(),p.decode._decodeG4=function(u,f,l,v,y,h,m){for(var _=p.decode,w=f<<3,E=0,T="",A=[],C=[],R=0;R<h;R++)C.push(0);C=_._makeDiff(C);for(var D=0,O=0,k=0,H=0,B=0,Z=0,V=0,j="",z=0,W=Math.ceil(h/8)*8;w>>>3<f+l;){H=_._findDiff(C,D+(D==0?0:1),1-Z),B=_._findDiff(C,H,Z);var Q=0;if(m==1&&(Q=u[w>>>3]>>>7-(w&7)&1),m==2&&(Q=u[w>>>3]>>>(w&7)&1),w++,T+=Q,j=="H"){if(_._lens[Z][T]!=null){var se=_._lens[Z][T];T="",E+=se,se<64&&(_._addNtimes(A,E,Z),D+=E,Z=1-Z,E=0,z--,z==0&&(j=""))}}else T=="0001"&&(T="",_._addNtimes(A,B-D,Z),D=B),T=="001"&&(T="",j="H",z=2),_._dmap[T]!=null&&(O=H+_._dmap[T],_._addNtimes(A,O-D,Z),D=O,T="",Z=1-Z);A.length==h&&j==""&&(_._writeBits(A,v,y*8+V*W),Z=0,V++,D=0,C=_._makeDiff(A),A=[])}},p.decode._findDiff=function(u,f,l){for(var v=0;v<u.length;v+=2)if(u[v]>=f&&u[v+1]==l)return u[v]},p.decode._makeDiff=function(u){var f=[];u[0]==1&&f.push(0,1);for(var l=1;l<u.length;l++)u[l-1]!=u[l]&&f.push(l,u[l]);return f.push(u.length,0,u.length,1),f},p.decode._decodeG3=function(u,f,l,v,y,h,m){for(var _=p.decode,w=f<<3,E=0,T="",A=[],C=[],R=0;R<h;R++)A.push(0);for(var D=0,O=0,k=0,H=0,B=0,Z=0,V=-1,j="",z=0,W=!1,Q=Math.ceil(h/8)*8;w>>>3<f+l;){H=_._findDiff(C,D+(D==0?0:1),1-Z),B=_._findDiff(C,H,Z);var se=0;if(m==1&&(se=u[w>>>3]>>>7-(w&7)&1),m==2&&(se=u[w>>>3]>>>(w&7)&1),w++,T+=se,W){if(_._lens[Z][T]!=null){var le=_._lens[Z][T];T="",E+=le,le<64&&(_._addNtimes(A,E,Z),Z=1-Z,E=0)}}else if(j=="H"){if(_._lens[Z][T]!=null){var le=_._lens[Z][T];T="",E+=le,le<64&&(_._addNtimes(A,E,Z),D+=E,Z=1-Z,E=0,z--,z==0&&(j=""))}}else T=="0001"&&(T="",_._addNtimes(A,B-D,Z),D=B),T=="001"&&(T="",j="H",z=2),_._dmap[T]!=null&&(O=H+_._dmap[T],_._addNtimes(A,O-D,Z),D=O,T="",Z=1-Z);T.endsWith("000000000001")&&(V>=0&&_._writeBits(A,v,y*8+V*Q),m==1&&(W=(u[w>>>3]>>>7-(w&7)&1)==1),m==2&&(W=(u[w>>>3]>>>(w&7)&1)==1),w++,_._decodeG3.allow2D==null&&(_._decodeG3.allow2D=W),_._decodeG3.allow2D||(W=!0,w--),T="",Z=0,V++,D=0,C=_._makeDiff(A),A=[])}A.length==h&&_._writeBits(A,v,y*8+V*Q)},p.decode._addNtimes=function(u,f,l){for(var v=0;v<f;v++)u.push(l)},p.decode._writeBits=function(u,f,l){for(var v=0;v<u.length;v++)f[l+v>>>3]|=u[v]<<7-(l+v&7)},p.decode._decodeLZW=function(u,f,l,v){if(p.decode._lzwTab==null){for(var y=new Uint32Array(65535),h=new Uint16Array(65535),T=new Uint8Array(2e6),m=0;m<256;m++)T[m<<2]=m,y[m]=m<<2,h[m]=1;p.decode._lzwTab=[y,h,T]}for(var _=p.decode._copyData,w=p.decode._lzwTab[0],E=p.decode._lzwTab[1],T=p.decode._lzwTab[2],A=258,C=258<<2,R=9,D=f<<3,O=256,k=257,H=0,B=0,Z=0;H=u[D>>>3]<<16|u[D+8>>>3]<<8|u[D+16>>>3],B=H>>24-(D&7)-R&(1<<R)-1,D+=R,B!=k;){if(B==O){if(R=9,A=258,C=258<<2,H=u[D>>>3]<<16|u[D+8>>>3]<<8|u[D+16>>>3],B=H>>24-(D&7)-R&(1<<R)-1,D+=R,B==k)break;l[v]=B,v++}else if(B<A){var V=w[B],j=E[B];if(_(T,V,l,v,j),v+=j,Z>=A)w[A]=C,T[w[A]]=V[0],E[A]=1,C=C+1+3&~3,A++;else{w[A]=C;var z=w[Z],W=E[Z];_(T,z,T,C,W),T[C+W]=T[V],W++,E[A]=W,A++,C=C+W+3&~3}A+1==1<<R&&R++}else{if(Z>=A)w[A]=C,E[A]=0,A++;else{w[A]=C;var z=w[Z],W=E[Z];_(T,z,T,C,W),T[C+W]=T[C],W++,E[A]=W,A++,_(T,C,l,v,W),v+=W,C=C+W+3&~3}A+1==1<<R&&R++}Z=B}},p.decode._copyData=function(u,f,l,v,y){for(var h=0;h<y;h+=4)l[v+h]=u[f+h],l[v+h+1]=u[f+h+1],l[v+h+2]=u[f+h+2],l[v+h+3]=u[f+h+3]},p.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},p.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},p._readIFD=function(u,f,l,v){var y=u.readUshort(f,l);l+=2;var h={};v.push(h);for(var m=0;m<y;m++){var _=u.readUshort(f,l);l+=2;var w=u.readUshort(f,l);l+=2;var E=u.readUint(f,l);l+=4;var T=u.readUint(f,l);l+=4;var A=[];if(h["t"+_]=A,w==1||w==7)for(var C=0;C<E;C++)A.push(f[(E<5?l-4:T)+C]);if(w==2&&A.push(u.readASCII(f,E<5?l-4:T,E-1)),w==3)for(var C=0;C<E;C++)A.push(u.readUshort(f,(E<3?l-4:T)+2*C));if(w==4)for(var C=0;C<E;C++)A.push(u.readUint(f,(E<2?l-4:T)+4*C));if(w==5)for(var C=0;C<E;C++)A.push(u.readUint(f,T+C*8)/u.readUint(f,T+C*8+4));if(w==8)for(var C=0;C<E;C++)A.push(u.readShort(f,(E<3?l-4:T)+2*C));if(w==9)for(var C=0;C<E;C++)A.push(u.readInt(f,(E<2?l-4:T)+4*C));if(w==10)for(var C=0;C<E;C++)A.push(u.readInt(f,T+C*8)/u.readInt(f,T+C*8+4));if(w==11)for(var C=0;C<E;C++)A.push(u.readFloat(f,T+C*4));if(w==12)for(var C=0;C<E;C++)A.push(u.readDouble(f,T+C*8));if(E!=0&&A.length==0&&g("unknown TIFF tag type: ",w,"num:",E),_==330)for(var C=0;C<E;C++)p._readIFD(u,f,A[C],v)}return l},p._writeIFD=function(u,f,l,v){var y=Object.keys(v);u.writeUshort(f,l,y.length),l+=2;for(var h=l+y.length*12+4,m=0;m<y.length;m++){var _=y[m],w=parseInt(_.slice(1)),E=p.ttypes[w];if(E==null)throw new Error("unknown type of tag: "+w);var T=v[_];E==2&&(T=T[0]+"\0");var A=T.length;u.writeUshort(f,l,w),l+=2,u.writeUshort(f,l,E),l+=2,u.writeUint(f,l,A),l+=4;var C=[-1,1,1,2,4,8,0,0,0,0,0,0,8][E]*A,R=l;if(C>4&&(u.writeUint(f,l,h),R=h),E==2&&u.writeASCII(f,R,T),E==3)for(var D=0;D<A;D++)u.writeUshort(f,R+2*D,T[D]);if(E==4)for(var D=0;D<A;D++)u.writeUint(f,R+4*D,T[D]);if(E==5)for(var D=0;D<A;D++)u.writeUint(f,R+8*D,Math.round(T[D]*1e4)),u.writeUint(f,R+8*D+4,1e4);if(E==12)for(var D=0;D<A;D++)u.writeDouble(f,R+8*D,T[D]);C>4&&(C+=C&1,h+=C),l+=4}return[l,h]},p.toRGBA8=function(u){var f=u.width,l=u.height,v=f*l,y=v*4,h=u.data,m=new Uint8Array(v*4),_=u.t262[0],w=u.t258?Math.min(32,u.t258[0]):1,E=u.isLE?1:0;if(_==0)for(var T=Math.ceil(w*f/8),A=0;A<l;A++){var C=A*T,R=A*f;if(w==1)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>3)]>>7-(D&7)&1;m[O]=m[O+1]=m[O+2]=(1-k)*255,m[O+3]=255}if(w==4)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>1)]>>4-4*(D&1)&15;m[O]=m[O+1]=m[O+2]=(15-k)*17,m[O+3]=255}if(w==8)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+D];m[O]=m[O+1]=m[O+2]=255-k,m[O+3]=255}}else if(_==1)for(var T=Math.ceil(w*f/8),A=0;A<l;A++){var C=A*T,R=A*f;if(w==1)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>3)]>>7-(D&7)&1;m[O]=m[O+1]=m[O+2]=k*255,m[O+3]=255}if(w==2)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>2)]>>6-2*(D&3)&3;m[O]=m[O+1]=m[O+2]=k*85,m[O+3]=255}if(w==8)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+D];m[O]=m[O+1]=m[O+2]=k,m[O+3]=255}if(w==16)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(2*D+E)];m[O]=m[O+1]=m[O+2]=Math.min(255,k),m[O+3]=255}}else if(_==2)if(w==8)if(u.t338)if(u.t338[0]>0)for(var D=0;D<y;D++)m[D]=h[D];else for(var D=0;D<y;D+=4)m[D]=h[D],m[D+1]=h[D+1],m[D+2]=h[D+2],m[D+3]=255;else{var H=u.t258?u.t258.length:3;if(H==4)for(var D=0;D<y;D++)m[D]=h[D];if(H==3)for(var D=0;D<v;D++){var O=D<<2,B=D*3;m[O]=h[B],m[O+1]=h[B+1],m[O+2]=h[B+2],m[O+3]=255}}else for(var D=0;D<v;D++){var O=D<<2,B=D*6;m[O]=h[B],m[O+1]=h[B+2],m[O+2]=h[B+4],m[O+3]=255}else if(_==3)for(var Z=u.t320,D=0;D<v;D++){var O=D<<2,V=h[D];m[O]=Z[V]>>8,m[O+1]=Z[256+V]>>8,m[O+2]=Z[512+V]>>8,m[O+3]=255}else if(_==5)for(var H=u.t258?u.t258.length:4,j=H>4?1:0,D=0;D<v;D++){var O=D<<2,z=D*H,W=255-h[z],Q=255-h[z+1],se=255-h[z+2],le=(255-h[z+3])*(1/255);m[O]=~~(W*le+.5),m[O+1]=~~(Q*le+.5),m[O+2]=~~(se*le+.5),m[O+3]=255*(1-j)+h[z+4]*j}else g("Unknown Photometric interpretation: "+_);return m},p.replaceIMG=function(){for(var u=document.getElementsByTagName("img"),f=0;f<u.length;f++){var l=u[f],v=l.getAttribute("src");if(v!=null){var y=v.split(".").pop().toLowerCase();if(!(y!="tif"&&y!="tiff")){var h=new XMLHttpRequest;p._xhrs.push(h),p._imgs.push(l),h.open("GET",v),h.responseType="arraybuffer",h.onload=p._imgLoaded,h.send()}}}},p._xhrs=[],p._imgs=[],p._imgLoaded=function(u){var f=u.target.response,l=p.decode(f),v=l[0];p.decodeImages(f,l);var y=p.toRGBA8(v),h=v.width,m=v.height,_=p._xhrs.indexOf(u.target),w=p._imgs[_];p._xhrs.splice(_,1),p._imgs.splice(_,1);var E=document.createElement("canvas");E.width=h,E.height=m;for(var T=E.getContext("2d"),A=T.createImageData(h,m),C=0;C<y.length;C++)A.data[C]=y[C];T.putImageData(A,0,0);for(var R=["style","class","id"],C=0;C<R.length;C++)E.setAttribute(R[C],w.getAttribute(R[C]));w.parentNode.replaceChild(E,w)},p._binBE={nextZero:function(u,f){for(;u[f]!=0;)f++;return f},readUshort:function(u,f){return u[f]<<8|u[f+1]},readShort:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+1],l[1]=u[f+0],p._binBE.i16[0]},readInt:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+3],l[1]=u[f+2],l[2]=u[f+1],l[3]=u[f+0],p._binBE.i32[0]},readUint:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+3],l[1]=u[f+2],l[2]=u[f+1],l[3]=u[f+0],p._binBE.ui32[0]},readASCII:function(u,f,l){for(var v="",y=0;y<l;y++)v+=String.fromCharCode(u[f+y]);return v},readFloat:function(u,f){for(var l=p._binBE.ui8,v=0;v<4;v++)l[v]=u[f+3-v];return p._binBE.fl32[0]},readDouble:function(u,f){for(var l=p._binBE.ui8,v=0;v<8;v++)l[v]=u[f+7-v];return p._binBE.fl64[0]},writeUshort:function(u,f,l){u[f]=l>>8&255,u[f+1]=l&255},writeUint:function(u,f,l){u[f]=l>>24&255,u[f+1]=l>>16&255,u[f+2]=l>>8&255,u[f+3]=l>>0&255},writeASCII:function(u,f,l){for(var v=0;v<l.length;v++)u[f+v]=l.charCodeAt(v)},writeDouble:function(u,f,l){p._binBE.fl64[0]=l;for(var v=0;v<8;v++)u[f+v]=p._binBE.ui8[7-v]}},p._binBE.ui8=new Uint8Array(8),p._binBE.i16=new Int16Array(p._binBE.ui8.buffer),p._binBE.i32=new Int32Array(p._binBE.ui8.buffer),p._binBE.ui32=new Uint32Array(p._binBE.ui8.buffer),p._binBE.fl32=new Float32Array(p._binBE.ui8.buffer),p._binBE.fl64=new Float64Array(p._binBE.ui8.buffer),p._binLE={nextZero:p._binBE.nextZero,readUshort:function(u,f){return u[f+1]<<8|u[f]},readShort:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+0],l[1]=u[f+1],p._binBE.i16[0]},readInt:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+0],l[1]=u[f+1],l[2]=u[f+2],l[3]=u[f+3],p._binBE.i32[0]},readUint:function(u,f){var l=p._binBE.ui8;return l[0]=u[f+0],l[1]=u[f+1],l[2]=u[f+2],l[3]=u[f+3],p._binBE.ui32[0]},readASCII:p._binBE.readASCII,readFloat:function(u,f){for(var l=p._binBE.ui8,v=0;v<4;v++)l[v]=u[f+v];return p._binBE.fl32[0]},readDouble:function(u,f){for(var l=p._binBE.ui8,v=0;v<8;v++)l[v]=u[f+v];return p._binBE.fl64[0]}},p._copyTile=function(u,f,l,v,y,h,m,_){for(var w=Math.min(f,y-m),E=Math.min(l,h-_),T=0;T<E;T++)for(var A=(_+T)*y+m,C=T*f,R=0;R<w;R++)v[A+R]=u[C+R]}})(o,c)})()}).call(this,r("_process"))},{_process:133,pako:86}],183:[function(r,i,a){(function(s){i.exports=o;function o(g,p){if(c("noDeprecation"))return g;var d=!1;function u(){if(!d){if(c("throwDeprecation"))throw new Error(p);c("traceDeprecation")?console.trace(p):console.warn(p),d=!0}return g.apply(this,arguments)}return u}function c(g){try{if(!s.localStorage)return!1}catch{return!1}var p=s.localStorage[g];return p==null?!1:String(p).toLowerCase()==="true"}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof zt!="undefined"?zt:{})},{}],184:[function(r,i,a){arguments[4][26][0].apply(a,arguments)},{dup:26}],185:[function(r,i,a){arguments[4][27][0].apply(a,arguments)},{dup:27}],186:[function(r,i,a){arguments[4][28][0].apply(a,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(r,i,a){"use strict";var s=r("global/window"),o=r("is-function"),c=r("parse-headers"),g=r("xtend");i.exports=f,i.exports.default=f,f.XMLHttpRequest=s.XMLHttpRequest||y,f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:s.XDomainRequest,p(["get","put","post","patch","head","delete"],function(h){f[h==="delete"?"del":h]=function(m,_,w){return _=u(m,_,w),_.method=h.toUpperCase(),l(_)}});function p(h,m){for(var _=0;_<h.length;_++)m(h[_])}function d(h){for(var m in h)if(h.hasOwnProperty(m))return!1;return!0}function u(h,m,_){var w=h;return o(m)?(_=m,typeof h=="string"&&(w={uri:h})):w=g(m,{uri:h}),w.callback=_,w}function f(h,m,_){return m=u(h,m,_),l(m)}function l(h){if(typeof h.callback=="undefined")throw new Error("callback argument missing");var m=!1,_=function(Q,se,le){m||(m=!0,h.callback(Q,se,le))};function w(){C.readyState===4&&setTimeout(A,0)}function E(){var W=void 0;if(C.response?W=C.response:W=C.responseText||v(C),V)try{W=JSON.parse(W)}catch{}return W}function T(W){return clearTimeout(j),W instanceof Error||(W=new Error(""+(W||"Unknown XMLHttpRequest Error"))),W.statusCode=0,_(W,z)}function A(){if(!D){var W;clearTimeout(j),h.useXDR&&C.status===void 0?W=200:W=C.status===1223?204:C.status;var Q=z,se=null;return W!==0?(Q={body:E(),statusCode:W,method:k,headers:{},url:O,rawRequest:C},C.getAllResponseHeaders&&(Q.headers=c(C.getAllResponseHeaders()))):se=new Error("Internal XMLHttpRequest Error"),_(se,Q,Q.body)}}var C=h.xhr||null;C||(h.cors||h.useXDR?C=new f.XDomainRequest:C=new f.XMLHttpRequest);var R,D,O=C.url=h.uri||h.url,k=C.method=h.method||"GET",H=h.body||h.data,B=C.headers=h.headers||{},Z=!!h.sync,V=!1,j,z={body:void 0,headers:{},statusCode:0,method:k,url:O,rawRequest:C};if("json"in h&&h.json!==!1&&(V=!0,B.accept||B.Accept||(B.Accept="application/json"),k!=="GET"&&k!=="HEAD"&&(B["content-type"]||B["Content-Type"]||(B["Content-Type"]="application/json"),H=JSON.stringify(h.json===!0?H:h.json))),C.onreadystatechange=w,C.onload=A,C.onerror=T,C.onprogress=function(){},C.onabort=function(){D=!0},C.ontimeout=T,C.open(k,O,!Z,h.username,h.password),Z||(C.withCredentials=!!h.withCredentials),!Z&&h.timeout>0&&(j=setTimeout(function(){if(!D){D=!0,C.abort("timeout");var W=new Error("XMLHttpRequest timeout");W.code="ETIMEDOUT",T(W)}},h.timeout)),C.setRequestHeader)for(R in B)B.hasOwnProperty(R)&&C.setRequestHeader(R,B[R]);else if(h.headers&&!d(h.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in h&&(C.responseType=h.responseType),"beforeSend"in h&&typeof h.beforeSend=="function"&&h.beforeSend(C),C.send(H||null),C}function v(h){try{if(h.responseType==="document")return h.responseXML;var m=h.responseXML&&h.responseXML.documentElement.nodeName==="parsererror";if(h.responseType===""&&!m)return h.responseXML}catch{}return null}function y(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(r,i,a){i.exports=function(){return typeof self.DOMParser!="undefined"?function(o){var c=new self.DOMParser;return c.parseFromString(o,"application/xml")}:typeof self.ActiveXObject!="undefined"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(o){var c=new self.ActiveXObject("Microsoft.XMLDOM");return c.async="false",c.loadXML(o),c}:function(o){var c=document.createElement("div");return c.innerHTML=o,c}}()},{}],189:[function(r,i,a){i.exports=o;var s=Object.prototype.hasOwnProperty;function o(){for(var c={},g=0;g<arguments.length;g++){var p=arguments[g];for(var d in p)s.call(p,d)&&(c[d]=p[d])}return c}},{}],190:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.srcOver=s,a.dstOver=o,a.multiply=c,a.add=g,a.screen=p,a.overlay=d,a.darken=u,a.lighten=f,a.hardLight=l,a.difference=v,a.exclusion=y;function s(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=(h.r*h.a+m.r*m.a*(1-h.a))/w,T=(h.g*h.a+m.g*m.a*(1-h.a))/w,A=(h.b*h.a+m.b*m.a*(1-h.a))/w;return{r:E,g:T,b:A,a:w}}function o(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=(m.r*m.a+h.r*h.a*(1-m.a))/w,T=(m.g*m.a+h.g*h.a*(1-m.a))/w,A=(m.b*m.a+h.b*h.a*(1-m.a))/w;return{r:E,g:T,b:A,a:w}}function c(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(E*C+E*(1-m.a)+C*(1-h.a))/w,k=(T*R+T*(1-m.a)+R*(1-h.a))/w,H=(A*D+A*(1-m.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function g(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(E+C)/w,k=(T+R)/w,H=(A+D)/w;return{r:O,g:k,b:H,a:w}}function p(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(E*m.a+C*h.a-E*C+E*(1-m.a)+C*(1-h.a))/w,k=(T*m.a+R*h.a-T*R+T*(1-m.a)+R*(1-h.a))/w,H=(A*m.a+D*h.a-A*D+A*(1-m.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function d(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(2*C<=m.a?2*E*C+E*(1-m.a)+C*(1-h.a):E*(1+m.a)+C*(1+h.a)-2*C*E-m.a*h.a)/w,k=(2*R<=m.a?2*T*R+T*(1-m.a)+R*(1-h.a):T*(1+m.a)+R*(1+h.a)-2*R*T-m.a*h.a)/w,H=(2*D<=m.a?2*A*D+A*(1-m.a)+D*(1-h.a):A*(1+m.a)+D*(1+h.a)-2*D*A-m.a*h.a)/w;return{r:O,g:k,b:H,a:w}}function u(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(Math.min(E*m.a,C*h.a)+E*(1-m.a)+C*(1-h.a))/w,k=(Math.min(T*m.a,R*h.a)+T*(1-m.a)+R*(1-h.a))/w,H=(Math.min(A*m.a,D*h.a)+A*(1-m.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function f(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(Math.max(E*m.a,C*h.a)+E*(1-m.a)+C*(1-h.a))/w,k=(Math.max(T*m.a,R*h.a)+T*(1-m.a)+R*(1-h.a))/w,H=(Math.max(A*m.a,D*h.a)+A*(1-m.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function l(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(2*E<=h.a?2*E*C+E*(1-m.a)+C*(1-h.a):E*(1+m.a)+C*(1+h.a)-2*C*E-m.a*h.a)/w,k=(2*T<=h.a?2*T*R+T*(1-m.a)+R*(1-h.a):T*(1+m.a)+R*(1+h.a)-2*R*T-m.a*h.a)/w,H=(2*A<=h.a?2*A*D+A*(1-m.a)+D*(1-h.a):A*(1+m.a)+D*(1+h.a)-2*D*A-m.a*h.a)/w;return{r:O,g:k,b:H,a:w}}function v(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(E+C-2*Math.min(E*m.a,C*h.a))/w,k=(T+R-2*Math.min(T*m.a,R*h.a))/w,H=(A+D-2*Math.min(A*m.a,D*h.a))/w;return{r:O,g:k,b:H,a:w}}function y(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=m.a+h.a-m.a*h.a,E=h.r*h.a,T=h.g*h.a,A=h.b*h.a,C=m.r*m.a,R=m.g*m.a,D=m.b*m.a,O=(E*m.a+C*h.a-2*E*C+E*(1-m.a)+C*(1-h.a))/w,k=(T*m.a+R*h.a-2*T*R+T*(1-m.a)+R*(1-h.a))/w,H=(A*m.a+D*h.a-2*A*D+A*(1-m.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}},{}],191:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var o=r("@jimp/utils"),c=s(r("../constants")),g=s(r("./composite-modes"));function p(d,u,f){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=arguments.length>4?arguments[4]:void 0;if(typeof l=="function"&&(v=l,l={}),!(d instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",v);if(typeof u!="number"||typeof f!="number")return o.throwError.call(this,"x and y must be numbers",v);var y=l,h=y.mode,m=y.opacitySource,_=y.opacityDest;h||(h=c.BLEND_SOURCE_OVER),(typeof m!="number"||m<0||m>1)&&(m=1),(typeof _!="number"||_<0||_>1)&&(_=1);var w=g[h];u=Math.round(u),f=Math.round(f);var E=this;return _!==1&&E.opacity(_),d.scanQuiet(0,0,d.bitmap.width,d.bitmap.height,function(T,A,C){var R=E.getPixelIndex(u+T,f+A,c.EDGE_CROP),D=w({r:this.bitmap.data[C+0]/255,g:this.bitmap.data[C+1]/255,b:this.bitmap.data[C+2]/255,a:this.bitmap.data[C+3]/255},{r:E.bitmap.data[R+0]/255,g:E.bitmap.data[R+1]/255,b:E.bitmap.data[R+2]/255,a:E.bitmap.data[R+3]/255},m);E.bitmap.data[R+0]=this.constructor.limit255(D.r*255),E.bitmap.data[R+1]=this.constructor.limit255(D.g*255),E.bitmap.data[R+2]=this.constructor.limit255(D.b*255),E.bitmap.data[R+3]=this.constructor.limit255(D.a*255)}),(0,o.isNodePattern)(v)&&v.call(this,null,this),this}i.exports=a.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.EDGE_CROP=a.EDGE_WRAP=a.EDGE_EXTEND=a.BLEND_EXCLUSION=a.BLEND_DIFFERENCE=a.BLEND_HARDLIGHT=a.BLEND_LIGHTEN=a.BLEND_DARKEN=a.BLEND_OVERLAY=a.BLEND_SCREEN=a.BLEND_ADD=a.BLEND_MULTIPLY=a.BLEND_DESTINATION_OVER=a.BLEND_SOURCE_OVER=a.VERTICAL_ALIGN_BOTTOM=a.VERTICAL_ALIGN_MIDDLE=a.VERTICAL_ALIGN_TOP=a.HORIZONTAL_ALIGN_RIGHT=a.HORIZONTAL_ALIGN_CENTER=a.HORIZONTAL_ALIGN_LEFT=a.AUTO=void 0;var s=-1;a.AUTO=s;var o=1;a.HORIZONTAL_ALIGN_LEFT=o;var c=2;a.HORIZONTAL_ALIGN_CENTER=c;var g=4;a.HORIZONTAL_ALIGN_RIGHT=g;var p=8;a.VERTICAL_ALIGN_TOP=p;var d=16;a.VERTICAL_ALIGN_MIDDLE=d;var u=32;a.VERTICAL_ALIGN_BOTTOM=u;var f="srcOver";a.BLEND_SOURCE_OVER=f;var l="dstOver";a.BLEND_DESTINATION_OVER=l;var v="multiply";a.BLEND_MULTIPLY=v;var y="add";a.BLEND_ADD=y;var h="screen";a.BLEND_SCREEN=h;var m="overlay";a.BLEND_OVERLAY=m;var _="darken";a.BLEND_DARKEN=_;var w="lighten";a.BLEND_LIGHTEN=w;var E="hardLight";a.BLEND_HARDLIGHT=E;var T="difference";a.BLEND_DIFFERENCE=T;var A="exclusion";a.BLEND_EXCLUSION=A;var C=1;a.EDGE_EXTEND=C;var R=2;a.EDGE_WRAP=R;var D=3;a.EDGE_CROP=D},{}],193:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireWildcard"),c=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.addConstants=Oe,a.addJimpMethods=ge,a.jimpEvMethod=De,a.jimpEvChange=pe,Object.defineProperty(a,"addType",{enumerable:!0,get:function(){return Z.addType}}),a.default=void 0;for(var g=c(r("@babel/runtime/helpers/construct")),p=c(r("@babel/runtime/helpers/slicedToArray")),d=c(r("@babel/runtime/helpers/classCallCheck")),u=c(r("@babel/runtime/helpers/createClass")),f=c(r("@babel/runtime/helpers/possibleConstructorReturn")),l=c(r("@babel/runtime/helpers/getPrototypeOf")),v=c(r("@babel/runtime/helpers/assertThisInitialized")),y=c(r("@babel/runtime/helpers/inherits")),h=c(r("@babel/runtime/helpers/defineProperty")),m=c(r("@babel/runtime/helpers/typeof")),_=c(r("fs")),w=c(r("path")),E=c(r("events")),T=r("@jimp/utils"),A=c(r("any-base")),C=c(r("mkdirp")),R=c(r("pixelmatch")),D=c(r("tinycolor2")),O=c(r("./modules/phash")),k=c(r("./request")),H=c(r("./composite")),B=c(r("./utils/promisify")),Z=o(r("./utils/mime")),V=r("./utils/image-bitmap"),j=o(r("./constants")),z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",W=[NaN,NaN],Q=2;Q<65;Q++){var se=(0,A.default)(A.default.BIN,z.slice(0,Q))(new Array(64+1).join("1"));W.push(se.length)}function le(){}function fe(re){return Object.prototype.toString.call(re).toLowerCase().indexOf("arraybuffer")>-1}function $(re){for(var q=s.alloc(re.byteLength),te=new Uint8Array(re),G=0;G<q.length;++G)q[G]=te[G];return q}function ae(re,q){(0,k.default)(re,function(te,G,L){if(te)return q(te);if("headers"in G&&"location"in G.headers)return re.url=G.headers.location,ae(re,q);if((0,m.default)(L)==="object"&&s.isBuffer(L))return q(null,L);var I="Could not load Buffer from <"+re.url+"> (HTTP: "+G.statusCode+")";return new Error(I)})}function oe(re,q){_.default&&typeof _.default.readFile=="function"&&!re.match(/^(http|ftp)s?:\/\/./)?_.default.readFile(re,q):ae({url:re},q)}function ce(re){return re&&(0,m.default)(re)==="object"&&typeof re.width=="number"&&typeof re.height=="number"&&(s.isBuffer(re.data)||re.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&re.data instanceof Uint8ClampedArray)&&(re.data.length===re.width*re.height*4||re.data.length===re.width*re.height*3)}function he(re){if(re.length%3!=0)throw new Error("Buffer length is incorrect");for(var q=s.allocUnsafe(re.length/3*4),te=0,G=0;G<re.length;G++)q[te]=re[G],(G+1)%3==0&&(q[++te]=255),te++;return q}var we={data:null,width:null,height:null},xe=function(re){(0,y.default)(q,re);function q(){for(var te,G=arguments.length,L=new Array(G),I=0;I<G;I++)L[I]=arguments[I];(0,d.default)(this,q),te=(0,f.default)(this,(0,l.default)(q).call(this)),(0,h.default)((0,v.default)(te),"bitmap",we),(0,h.default)((0,v.default)(te),"_background",0),(0,h.default)((0,v.default)(te),"_originalMime",q.MIME_PNG),(0,h.default)((0,v.default)(te),"_exif",null),(0,h.default)((0,v.default)(te),"_rgba",!0),(0,h.default)((0,v.default)(te),"writeAsync",function(ct){return(0,B.default)(te.write,(0,v.default)(te),ct)}),(0,h.default)((0,v.default)(te),"getBase64Async",function(ct){return(0,B.default)(te.getBase64,(0,v.default)(te),ct)}),(0,h.default)((0,v.default)(te),"getBuffer",V.getBuffer),(0,h.default)((0,v.default)(te),"getBufferAsync",V.getBufferAsync),(0,h.default)((0,v.default)(te),"getPixelColour",te.getPixelColor),(0,h.default)((0,v.default)(te),"setPixelColour",te.setPixelColor);var U=(0,v.default)(te),J=le;fe(L[0])&&(L[0]=$(L[0]));function ye(){for(var ct=arguments.length,X=new Array(ct),Ae=0;Ae<ct;Ae++)X[Ae]=arguments[Ae];var ke=X[0],Qe=ke||{};Qe.methodName="constructor",setTimeout(function(){var Re;ke&&J===le?U.emitError("constructor",ke):ke||U.emitMulti("constructor","initialized"),(Re=J).call.apply(Re,[U].concat(X))},1)}if(typeof L[0]=="number"&&typeof L[1]=="number"||parseInt(L[0],10)&&parseInt(L[1],10)){var Ie=parseInt(L[0],10),be=parseInt(L[1],10);if(J=L[2],typeof L[2]=="number"&&(te._background=L[2],J=L[3]),typeof L[2]=="string"&&(te._background=q.cssColorToHex(L[2]),J=L[3]),typeof J=="undefined"&&(J=le),typeof J!="function")return(0,f.default)(te,T.throwError.call((0,v.default)(te),"cb must be a function",ye));te.bitmap={data:s.alloc(Ie*be*4),width:Ie,height:be};for(var Le=0;Le<te.bitmap.data.length;Le+=4)te.bitmap.data.writeUInt32BE(te._background,Le);ye(null,(0,v.default)(te))}else if((0,m.default)(L[0])==="object"&&L[0].url){if(J=L[1]||le,typeof J!="function")return(0,f.default)(te,T.throwError.call((0,v.default)(te),"cb must be a function",ye));ae(L[0],function(ct,X){if(ct)return T.throwError.call((0,v.default)(te),ct,ye);te.parseBitmap(X,L[0].url,ye)})}else if(L[0]instanceof q){var ze=L[0];if(J=L[1],typeof J=="undefined"&&(J=le),typeof J!="function")return(0,f.default)(te,T.throwError.call((0,v.default)(te),"cb must be a function",ye));te.bitmap={data:s.from(ze.bitmap.data),width:ze.bitmap.width,height:ze.bitmap.height},te._quality=ze._quality,te._deflateLevel=ze._deflateLevel,te._deflateStrategy=ze._deflateStrategy,te._filterType=ze._filterType,te._rgba=ze._rgba,te._background=ze._background,te._originalMime=ze._originalMime,ye(null,(0,v.default)(te))}else if(ce(L[0])){var qe=L[0];J=L[1]||le;var Ye=qe.width*qe.height*4===qe.data.length,Me=Ye?s.from(qe.data):he(qe.data);te.bitmap={data:Me,width:qe.width,height:qe.height},ye(null,(0,v.default)(te))}else if(typeof L[0]=="string"){var Ge=L[0];if(J=L[1],typeof J=="undefined"&&(J=le),typeof J!="function")return(0,f.default)(te,T.throwError.call((0,v.default)(te),"cb must be a function",ye));oe(Ge,function(ct,X){if(ct)return T.throwError.call((0,v.default)(te),ct,ye);te.parseBitmap(X,Ge,ye)})}else if((0,m.default)(L[0])==="object"&&s.isBuffer(L[0])){var et=L[0];if(J=L[1],typeof J!="function")return(0,f.default)(te,T.throwError.call((0,v.default)(te),"cb must be a function",ye));te.parseBitmap(et,null,ye)}else{J=L[L.length-1],typeof J!="function"&&(J=L[L.length-2],typeof J!="function"&&(J=le));var ut=q.__extraConstructors.find(function(ct){return ct.test.apply(ct,L)});if(ut)new Promise(function(ct,X){var Ae;return(Ae=ut.run).call.apply(Ae,[(0,v.default)(te),ct,X].concat(L))}).then(function(){return ye(null,(0,v.default)(te))}).catch(ye);else return(0,f.default)(te,T.throwError.call((0,v.default)(te),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",ye))}return te}return(0,u.default)(q,[{key:"parseBitmap",value:function(G,L,I){V.parseBitmap.call(this,G,null,I)}},{key:"rgba",value:function(G,L){return typeof G!="boolean"?T.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",L):(this._rgba=G,(0,T.isNodePattern)(L)&&L.call(this,null,this),this)}},{key:"emitMulti",value:function(G,L){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I=Object.assign(I,{methodName:G,eventName:L}),this.emit("any",I),G&&this.emit(G,I),this.emit(L,I)}},{key:"emitError",value:function(G,L){this.emitMulti(G,"error",L)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===we?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var G=this._originalMime||q.MIME_PNG;return G}},{key:"getExtension",value:function(){var G=this.getMIME();return Z.getExtension(G)}},{key:"write",value:function(G,L){var I=this;if(!_.default||!_.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof G!="string")return T.throwError.call(this,"path must be a string",L);if(typeof L=="undefined"&&(L=le),typeof L!="function")return T.throwError.call(this,"cb must be a function",L);var U=Z.getType(G)||this.getMIME(),J=w.default.parse(G);return J.dir&&C.default.sync(J.dir),this.getBuffer(U,function(ye,Ie){if(ye)return T.throwError.call(I,ye,L);var be=_.default.createWriteStream(G);be.on("open",function(){be.write(Ie),be.end()}).on("error",function(Le){return T.throwError.call(I,Le,L)}),be.on("finish",function(){L.call(I,null,I)})}),this}},{key:"getBase64",value:function(G,L){return G===q.AUTO&&(G=this.getMIME()),typeof G!="string"?T.throwError.call(this,"mime must be a string",L):typeof L!="function"?T.throwError.call(this,"cb must be a function",L):(this.getBuffer(G,function(I,U){if(I)return T.throwError.call(this,I,L);var J="data:"+G+";base64,"+U.toString("base64");L.call(this,null,J)}),this)}},{key:"hash",value:function(G,L){if(G=G||64,typeof G=="function"&&(L=G,G=64),typeof G!="number")return T.throwError.call(this,"base must be a number",L);if(G<2||G>64)return T.throwError.call(this,"base must be a number between 2 and 64",L);var I=this.pHash();for(I=(0,A.default)(A.default.BIN,z.slice(0,G))(I);I.length<W[G];)I="0"+I;return(0,T.isNodePattern)(L)&&L.call(this,null,I),I}},{key:"pHash",value:function(){var G=new O.default;return G.getHash(this)}},{key:"distanceFromHash",value:function(G){var L=new O.default,I=L.getHash(this);return L.distance(I,G)}},{key:"getPixelIndex",value:function(G,L,I,U){var J,ye;if(typeof I=="function"&&typeof U=="undefined"&&(U=I,I=null),I||(I=q.EDGE_EXTEND),typeof G!="number"||typeof L!="number")return T.throwError.call(this,"x and y must be numbers",U);G=Math.round(G),L=Math.round(L),J=G,ye=L,I===q.EDGE_EXTEND&&(G<0&&(J=0),G>=this.bitmap.width&&(J=this.bitmap.width-1),L<0&&(ye=0),L>=this.bitmap.height&&(ye=this.bitmap.height-1)),I===q.EDGE_WRAP&&(G<0&&(J=this.bitmap.width+G),G>=this.bitmap.width&&(J=G%this.bitmap.width),L<0&&(J=this.bitmap.height+L),L>=this.bitmap.height&&(ye=L%this.bitmap.height));var Ie=this.bitmap.width*ye+J<<2;return(J<0||J>=this.bitmap.width)&&(Ie=-1),(ye<0||ye>=this.bitmap.height)&&(Ie=-1),(0,T.isNodePattern)(U)&&U.call(this,null,Ie),Ie}},{key:"getPixelColor",value:function(G,L,I){if(typeof G!="number"||typeof L!="number")return T.throwError.call(this,"x and y must be numbers",I);G=Math.round(G),L=Math.round(L);var U=this.getPixelIndex(G,L),J=this.bitmap.data.readUInt32BE(U);return(0,T.isNodePattern)(I)&&I.call(this,null,J),J}},{key:"setPixelColor",value:function(G,L,I,U){if(typeof G!="number"||typeof L!="number"||typeof I!="number")return T.throwError.call(this,"hex, x and y must be numbers",U);L=Math.round(L),I=Math.round(I);var J=this.getPixelIndex(L,I);return this.bitmap.data.writeUInt32BE(G,J),(0,T.isNodePattern)(U)&&U.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var G=0;G<this.bitmap.height;G++)for(var L=0;L<this.bitmap.width;L++){var I=this.bitmap.width*G+L<<2,U=this.bitmap.data[I+3];if(U!==255)return!0}return!1}},{key:"scanIterator",value:function(G,L,I,U){return typeof G!="number"||typeof L!="number"?T.throwError.call(this,"x and y must be numbers"):typeof I!="number"||typeof U!="number"?T.throwError.call(this,"w and h must be numbers"):(0,T.scanIterator)(this,G,L,I,U)}}]),q}(E.default);function Oe(re){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(re).forEach(function(te){var G=(0,p.default)(te,2),L=G[0],I=G[1];q[L]=I})}function ge(re){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(re).forEach(function(te){var G=(0,p.default)(te,2),L=G[0],I=G[1];q.prototype[L]=I})}Oe(j),ge({composite:H.default}),xe.__extraConstructors=[],xe.appendConstructorOption=function(re,q,te){xe.__extraConstructors.push({name:re,test:q,run:te})},xe.read=function(){for(var re=arguments.length,q=new Array(re),te=0;te<re;te++)q[te]=arguments[te];return new Promise(function(G,L){(0,g.default)(xe,q.concat([function(I,U){I?L(I):G(U)}]))})},xe.create=xe.read,xe.rgbaToInt=function(re,q,te,G,L){if(typeof re!="number"||typeof q!="number"||typeof te!="number"||typeof G!="number")return T.throwError.call(this,"r, g, b and a must be numbers",L);if(re<0||re>255)return T.throwError.call(this,"r must be between 0 and 255",L);if((q<0||q>255)&&T.throwError.call(this,"g must be between 0 and 255",L),te<0||te>255)return T.throwError.call(this,"b must be between 0 and 255",L);if(G<0||G>255)return T.throwError.call(this,"a must be between 0 and 255",L);re=Math.round(re),te=Math.round(te),q=Math.round(q),G=Math.round(G);var I=re*Math.pow(256,3)+q*Math.pow(256,2)+te*Math.pow(256,1)+G*Math.pow(256,0);return(0,T.isNodePattern)(L)&&L.call(this,null,I),I},xe.intToRGBA=function(re,q){if(typeof re!="number")return T.throwError.call(this,"i must be a number",q);var te={};return te.r=Math.floor(re/Math.pow(256,3)),te.g=Math.floor((re-te.r*Math.pow(256,3))/Math.pow(256,2)),te.b=Math.floor((re-te.r*Math.pow(256,3)-te.g*Math.pow(256,2))/Math.pow(256,1)),te.a=Math.floor((re-te.r*Math.pow(256,3)-te.g*Math.pow(256,2)-te.b*Math.pow(256,1))/Math.pow(256,0)),(0,T.isNodePattern)(q)&&q.call(this,null,te),te},xe.cssColorToHex=function(re){return re=re||0,typeof re=="number"?Number(re):parseInt((0,D.default)(re).toHex8(),16)},xe.limit255=function(re){return re=Math.max(re,0),re=Math.min(re,255),re},xe.diff=function(re,q){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(re instanceof xe)||!(q instanceof xe))return T.throwError.call(this,"img1 and img2 must be an Jimp images");var G=re.bitmap,L=q.bitmap;if((G.width!==L.width||G.height!==L.height)&&(G.width*G.height>L.width*L.height?re=re.cloneQuiet().resize(L.width,L.height):q=q.cloneQuiet().resize(G.width,G.height)),typeof te!="number"||te<0||te>1)return T.throwError.call(this,"threshold must be a number between 0 and 1");var I=new xe(G.width,G.height,4294967295),U=(0,R.default)(G.data,L.data,I.bitmap.data,I.bitmap.width,I.bitmap.height,{threshold:te});return{percent:U/(I.bitmap.width*I.bitmap.height),image:I}},xe.distance=function(re,q){var te=new O.default,G=te.getHash(re),L=te.getHash(q);return te.distance(G,L)},xe.compareHashes=function(re,q){var te=new O.default;return te.distance(re,q)},xe.colorDiff=function(re,q){var te=function(U){return Math.pow(U,2)},G=Math.max,L=255*255*3;return re.a!==0&&!re.a&&(re.a=255),q.a!==0&&!q.a&&(q.a=255),(G(te(re.r-q.r),te(re.r-q.r-re.a+q.a))+G(te(re.g-q.g),te(re.g-q.g-re.a+q.a))+G(te(re.b-q.b),te(re.b-q.b-re.a+q.a)))/L};function De(re,q,te){var G="before-"+q,L=q.replace(/e$/,"")+"ed";xe.prototype[re]=function(){for(var I,U=arguments.length,J=new Array(U),ye=0;ye<U;ye++)J[ye]=arguments[ye];var Ie=J[te.length-1],be=this;typeof Ie=="function"?(I=function(){for(var qe=arguments.length,Ye=new Array(qe),Me=0;Me<qe;Me++)Ye[Me]=arguments[Me];var Ge=Ye[0],et=Ye[1];Ge?be.emitError(re,Ge):be.emitMulti(re,L,(0,h.default)({},re,et)),Ie.apply(this,Ye)},J[J.length-1]=I):I=!1,this.emitMulti(re,G);var Le;try{Le=te.apply(this,J),I||this.emitMulti(re,L,(0,h.default)({},re,Le))}catch(ze){ze.methodName=re,this.emitError(re,ze)}return Le},xe.prototype[re+"Quiet"]=te}De("clone","clone",function(re){var q=new xe(this);return(0,T.isNodePattern)(re)&&re.call(q,null,q),q});function pe(re,q){De(re,"change",q)}pe("background",function(re,q){return typeof re!="number"?T.throwError.call(this,"hex must be a hexadecimal rgba value",q):(this._background=re,(0,T.isNodePattern)(q)&&q.call(this,null,this),this)}),pe("scan",function(re,q,te,G,L,I){if(typeof re!="number"||typeof q!="number")return T.throwError.call(this,"x and y must be numbers",I);if(typeof te!="number"||typeof G!="number")return T.throwError.call(this,"w and h must be numbers",I);if(typeof L!="function")return T.throwError.call(this,"f must be a function",I);var U=(0,T.scan)(this,re,q,te,G,L);return(0,T.isNodePattern)(I)&&I.call(this,null,U),U});var de;typeof zt!="undefined"&&(typeof zt=="undefined"?"undefined":(0,m.default)(zt))==="object"&&(de=zt),typeof self!="undefined"&&(typeof self=="undefined"?"undefined":(0,m.default)(self))==="object"&&(de=self),de.Jimp=xe,de.Buffer=s;var ie=xe;a.default=ie}).call(this,r("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(r,i,a){"use strict";function s(d,u){this.size=this.size||d,this.smallerSize=this.smallerSize||u,g(this.size)}s.prototype.size=32,s.prototype.smallerSize=8,s.prototype.distance=function(d,u){for(var f=0,l=0;l<d.length;l++)d[l]!==u[l]&&f++;return f/d.length},s.prototype.getHash=function(d){d=d.clone().resize(this.size,this.size),d.grayscale();for(var u=[],f=0;f<d.bitmap.width;f++){u[f]=[];for(var l=0;l<d.bitmap.height;l++)u[f][l]=o(d.getPixelColor(f,l)).b}for(var v=p(u,this.size),y=0,h=0;h<this.smallerSize;h++)for(var m=0;m<this.smallerSize;m++)y+=v[h][m];for(var _=y/(this.smallerSize*this.smallerSize),w="",E=0;E<this.smallerSize;E++)for(var T=0;T<this.smallerSize;T++)w+=v[E][T]>_?"1":"0";return w};function o(d){var u={};return u.r=Math.floor(d/Math.pow(256,3)),u.g=Math.floor((d-u.r*Math.pow(256,3))/Math.pow(256,2)),u.b=Math.floor((d-u.r*Math.pow(256,3)-u.g*Math.pow(256,2))/Math.pow(256,1)),u.a=Math.floor((d-u.r*Math.pow(256,3)-u.g*Math.pow(256,2)-u.b*Math.pow(256,1))/Math.pow(256,0)),u}var c=[];function g(d){for(var u=1;u<d;u++)c[u]=1;c[0]=1/Math.sqrt(2)}function p(d,u){for(var f=u,l=[],v=0;v<f;v++){l[v]=[];for(var y=0;y<f;y++){for(var h=0,m=0;m<f;m++)for(var _=0;_<f;_++)h+=Math.cos((2*m+1)/(2*f)*v*Math.PI)*Math.cos((2*_+1)/(2*f)*y*Math.PI)*d[m][_];h*=c[v]*c[y]/4,l[v][y]=h}}return l}i.exports=s},{}],195:[function(r,i,a){(function(s,o){"use strict";var c=r("@babel/runtime/helpers/interopRequireDefault"),g=c(r("@babel/runtime/helpers/defineProperty")),p=c(r("@babel/runtime/helpers/extends"));function d(f,l){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(f);l&&(y=y.filter(function(h){return Object.getOwnPropertyDescriptor(f,h).enumerable})),v.push.apply(v,y)}return v}function u(f){for(var l=1;l<arguments.length;l++){var v=arguments[l]!=null?arguments[l]:{};l%2?d(v,!0).forEach(function(y){(0,g.default)(f,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):d(v).forEach(function(y){Object.defineProperty(f,y,Object.getOwnPropertyDescriptor(v,y))})}return f}s.browser,i.exports=function(f,l){var v=new XMLHttpRequest;v.open("GET",f.url,!0),v.responseType="arraybuffer",v.addEventListener("load",function(){if(v.status<400)try{var y=o.from(this.response);l(null,v,y)}catch(h){return l(new Error("Response is not a buffer for url "+f.url+". Error: "+h.message))}else l(new Error("HTTP Status "+v.status+" for url "+f.url))}),v.addEventListener("error",function(y){l(y)}),v.send()}}).call(this,r("_process"),r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireWildcard"),c=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.parseBitmap=E,a.getBuffer=A,a.getBufferAsync=C;var g=c(r("@babel/runtime/helpers/slicedToArray")),p=c(r("file-type")),d=c(r("exif-parser")),u=r("@jimp/utils"),f=o(r("../constants")),l=o(r("./mime")),v=c(r("./promisify"));function y(R,D){var O=(0,p.default)(R);return O?O.mime:D?l.getType(D):null}function h(R){return R._exif&&R._exif.tags&&R._exif.tags.Orientation||1}function m(R){var D=R.getWidth(),O=R.getHeight();switch(h(R)){case 1:return null;case 2:return function(k,H){return[D-k-1,H]};case 3:return function(k,H){return[D-k-1,O-H-1]};case 4:return function(k,H){return[k,O-H-1]};case 5:return function(k,H){return[H,k]};case 6:return function(k,H){return[H,O-k-1]};case 7:return function(k,H){return[D-H-1,O-k-1]};case 8:return function(k,H){return[D-H-1,k]};default:return null}}function _(R,D,O,k){for(var H=R.bitmap.data,B=R.bitmap.width,Z=s.alloc(H.length),V=0;V<D;V++)for(var j=0;j<O;j++){var z=k(V,j),W=(0,g.default)(z,2),Q=W[0],se=W[1],le=D*j+V<<2,fe=B*se+Q<<2,$=H.readUInt32BE(fe);Z.writeUInt32BE($,le)}R.bitmap.data=Z,R.bitmap.width=D,R.bitmap.height=O}function w(R){if(!(h(R)<2)){var D=m(R),O=h(R)>4,k=O?R.bitmap.height:R.bitmap.width,H=O?R.bitmap.width:R.bitmap.height;_(R,k,H,D)}}function E(R,D,O){var k=y(R,D);if(typeof k!="string")return O(new Error("Could not find MIME for Buffer <"+D+">"));this._originalMime=k.toLowerCase();try{var H=this.getMIME();if(this.constructor.decoders[H])this.bitmap=this.constructor.decoders[H](R);else return u.throwError.call(this,"Unsupported MIME type: "+H,O)}catch(B){return O.call(this,B,this)}try{this._exif=d.default.create(R).parse(),w(this)}catch{}return O.call(this,null,this),this}function T(R,D){return new R(D.bitmap.width,D.bitmap.height,D._background).composite(D,0,0).bitmap}function A(R,D){if(R===f.AUTO&&(R=this.getMIME()),typeof R!="string")return u.throwError.call(this,"mime must be a string",D);if(typeof D!="function")return u.throwError.call(this,"cb must be a function",D);if(R=R.toLowerCase(),this._rgba&&this.constructor.hasAlpha[R]?this.bitmap.data=s.from(this.bitmap.data):this.bitmap.data=T(this.constructor,this).data,this.constructor.encoders[R]){var O=this.constructor.encoders[R](this);D.call(this,null,O)}else D.call(this,"Unsupported MIME type: "+R);return this}function C(R){return(0,v.default)(A,this,R)}}).call(this,r("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getExtension=a.getType=a.addType=void 0;var s={},o=function(u){return Object.entries(s).find(function(f){return f[1].includes(u)})||[]},c=function(u,f){s[u]=f};a.addType=c;var g=function(u){var f=u.split("/").slice(-1),l=f[f.length-1].split(".").pop(),v=o(l);return v[0]};a.getType=g;var p=function(u){return(s[u.toLowerCase()]||[])[0]};a.getExtension=p},{}],198:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=function(g,p){for(var d=arguments.length,u=new Array(d>2?d-2:0),f=2;f<d;f++)u[f-2]=arguments[f];return new Promise(function(l,v){u.push(function(y,h){y&&v(y),l(h)}),g.bind(p).apply(void 0,u)})},o=s;a.default=o,i.exports=a.default},{}],199:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireWildcard"),o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=l;var c=o(r("@babel/runtime/helpers/toConsumableArray")),g=o(r("@babel/runtime/helpers/defineProperty")),p=o(r("@babel/runtime/helpers/slicedToArray")),d=s(r("@jimp/core"));function u(v,y){var h=Object.keys(v);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(v);y&&(m=m.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),h.push.apply(h,m)}return h}function f(v){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?u(h,!0).forEach(function(m){(0,g.default)(v,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(h)):u(h).forEach(function(m){Object.defineProperty(v,m,Object.getOwnPropertyDescriptor(h,m))})}return v}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default,h={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function m(E){Object.entries(E).forEach(function(T){var A=(0,p.default)(T,2),C=A[0],R=A[1];h[C]=f({},h[C],{},R)})}function _(E){var T=E();Array.isArray(T.mime)?d.addType.apply(void 0,(0,c.default)(T.mime)):Object.entries(T.mime).forEach(function(A){return d.addType.apply(void 0,(0,c.default)(A))}),delete T.mime,m(T)}function w(E){var T=E(d.jimpEvChange)||{};!T.class&&!T.constants?m({class:T}):m(T)}return v.types&&(v.types.forEach(_),y.decoders=f({},y.decoders,{},h.decoders),y.encoders=f({},y.encoders,{},h.encoders),y.hasAlpha=f({},y.hasAlpha,{},h.hasAlpha)),v.plugins&&v.plugins.forEach(w),(0,d.addJimpMethods)(h.class,y),(0,d.addConstants)(h.constants,y),d.default}i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@jimp/custom")),c=s(r("@jimp/types")),g=s(r("@jimp/plugins")),p=(0,o.default)({types:[c.default],plugins:[g.default]});a.default=p,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/typeof")),c=r("@jimp/utils"),g=function(){return{blit:function(u,f,l,v,y,h,m,_){if(!(u instanceof this.constructor))return c.throwError.call(this,"The source must be a Jimp image",_);if(typeof f!="number"||typeof l!="number")return c.throwError.call(this,"x and y must be numbers",_);if(typeof v=="function")_=v,v=0,y=0,h=u.bitmap.width,m=u.bitmap.height;else if((0,o.default)(v)===(0,o.default)(y)&&(0,o.default)(y)===(0,o.default)(h)&&(0,o.default)(h)===(0,o.default)(m))v=v||0,y=y||0,h=h||u.bitmap.width,m=m||u.bitmap.height;else return c.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",_);f=Math.round(f),l=Math.round(l),v=Math.round(v),y=Math.round(y),h=Math.round(h),m=Math.round(m);var w=this.bitmap.width,E=this.bitmap.height,T=this;return u.scanQuiet(v,y,h,m,function(A,C,R){var D=f+A-v,O=l+C-y;if(D>=0&&O>=0&&w-D>0&&E-O>0){var k=T.getPixelIndex(D,O),H={r:this.bitmap.data[R],g:this.bitmap.data[R+1],b:this.bitmap.data[R+2],a:this.bitmap.data[R+3]},B={r:T.bitmap.data[k],g:T.bitmap.data[k+1],b:T.bitmap.data[k+2],a:T.bitmap.data[k+3]};T.bitmap.data[k]=(H.a*(H.r-B.r)-B.r+255>>8)+B.r,T.bitmap.data[k+1]=(H.a*(H.g-B.g)-B.g+255>>8)+B.g,T.bitmap.data[k+2]=(H.a*(H.b-B.b)-B.b+255>>8)+B.b,T.bitmap.data[k+3]=this.constructor.limit255(B.a+H.a)}}),(0,c.isNodePattern)(_)&&_.call(this,null,this),this}}};a.default=g,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shgTable=a.mulTable=void 0;var s=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];a.mulTable=s;var o=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];a.shgTable=o},{}],203:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=r("./blur-tables"),c=function(){return{blur:function(d,u){if(typeof d!="number")return s.throwError.call(this,"r must be a number",u);if(d<1)return s.throwError.call(this,"r must be greater than 0",u);for(var f,l,v,y,h,m,_,w,E,T,A,C,R,D,O=this.bitmap.width-1,k=this.bitmap.height-1,H=d+1,B=o.mulTable[d],Z=o.shgTable[d],V=[],j=[],z=[],W=[],Q=[],se=[],le=2;le-- >0;){for(C=0,R=0,m=0;m<this.bitmap.height;m++){for(f=this.bitmap.data[R]*H,l=this.bitmap.data[R+1]*H,v=this.bitmap.data[R+2]*H,y=this.bitmap.data[R+3]*H,_=1;_<=d;_++)w=R+((_>O?O:_)<<2),f+=this.bitmap.data[w++],l+=this.bitmap.data[w++],v+=this.bitmap.data[w++],y+=this.bitmap.data[w];for(h=0;h<this.bitmap.width;h++)V[C]=f,j[C]=l,z[C]=v,W[C]=y,m===0&&(Q[h]=((w=h+H)<O?w:O)<<2,se[h]=(w=h-d)>0?w<<2:0),E=R+Q[h],T=R+se[h],f+=this.bitmap.data[E++]-this.bitmap.data[T++],l+=this.bitmap.data[E++]-this.bitmap.data[T++],v+=this.bitmap.data[E++]-this.bitmap.data[T++],y+=this.bitmap.data[E]-this.bitmap.data[T],C++;R+=this.bitmap.width<<2}for(h=0;h<this.bitmap.width;h++){for(A=h,f=V[A]*H,l=j[A]*H,v=z[A]*H,y=W[A]*H,_=1;_<=d;_++)A+=_>k?0:this.bitmap.width,f+=V[A],l+=j[A],v+=z[A],y+=W[A];for(C=h<<2,m=0;m<this.bitmap.height;m++)D=y*B>>>Z,this.bitmap.data[C+3]=D,D>255&&(this.bitmap.data[C+3]=255),D>0?(D=255/D,this.bitmap.data[C]=(f*B>>>Z)*D,this.bitmap.data[C+1]=(l*B>>>Z)*D,this.bitmap.data[C+2]=(v*B>>>Z)*D):(this.bitmap.data[C+2]=0,this.bitmap.data[C+1]=0,this.bitmap.data[C]=0),h===0&&(Q[m]=((w=m+H)<k?w:k)*this.bitmap.width,se[m]=(w=m-d)>0?w*this.bitmap.width:0),E=h+Q[m],T=h+se[m],f+=V[E]-V[T],l+=j[E]-j[T],v+=z[E]-z[T],y+=W[E]-W[T],C+=this.bitmap.width<<2}}return(0,s.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=c,i.exports=a.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{circle:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;typeof p=="function"&&(d=p,p={});var u=p.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,f={x:typeof p.x=="number"?p.x:this.bitmap.width/2,y:typeof p.y=="number"?p.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,v,y){var h=Math.sqrt(Math.pow(l-f.x,2)+Math.pow(v-f.y,2));u-h<=0?this.bitmap.data[y+3]=0:u-h<1&&(this.bitmap.data[y+3]=255*(u-h))}),(0,s.isNodePattern)(d)&&d.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],205:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=o(r("@babel/runtime/helpers/toConsumableArray")),g=o(r("tinycolor2")),p=r("@jimp/utils");function d(h,m,_,w){for(var E=[0,0,0],T=(m.length-1)/2,A=0;A<m.length;A+=1)for(var C=0;C<m[A].length;C+=1){var R=h.getPixelIndex(_+A-T,w+C-T);E[0]+=h.bitmap.data[R]*m[A][C],E[1]+=h.bitmap.data[R+1]*m[A][C],E[2]+=h.bitmap.data[R+2]*m[A][C]}return E}var u=function(m){return typeof m!="undefined"&&m!==null};function f(h){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,_,w){var E=parseInt(.2126*this.bitmap.data[w]+.7152*this.bitmap.data[w+1]+.0722*this.bitmap.data[w+2],10);this.bitmap.data[w]=E,this.bitmap.data[w+1]=E,this.bitmap.data[w+2]=E}),(0,p.isNodePattern)(h)&&h.call(this,null,this),this}function l(h,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(m.r-h.r)*(_/100)+h.r,g:(m.g-h.g)*(_/100)+h.g,b:(m.b-h.b)*(_/100)+h.b}}function v(h,m){var _=this;return!h||!Array.isArray(h)?p.throwError.call(this,"actions must be an array",m):(h=h.map(function(w){return(w.apply==="xor"||w.apply==="mix")&&(w.params[0]=(0,g.default)(w.params[0]).toRgb()),w}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,T){var A={r:_.bitmap.data[T],g:_.bitmap.data[T+1],b:_.bitmap.data[T+2]},C=function(D,O){return _.constructor.limit255(A[D]+O)};h.forEach(function(R){if(R.apply==="mix")A=l(A,R.params[0],R.params[1]);else if(R.apply==="tint")A=l(A,{r:255,g:255,b:255},R.params[0]);else if(R.apply==="shade")A=l(A,{r:0,g:0,b:0},R.params[0]);else if(R.apply==="xor")A={r:A.r^R.params[0].r,g:A.g^R.params[0].g,b:A.b^R.params[0].b};else if(R.apply==="red")A.r=C("r",R.params[0]);else if(R.apply==="green")A.g=C("g",R.params[0]);else if(R.apply==="blue")A.b=C("b",R.params[0]);else{var D;if(R.apply==="hue"&&(R.apply="spin"),A=(0,g.default)(A),!A[R.apply])return p.throwError.call(_,"action "+R.apply+" not supported",m);A=(D=A)[R.apply].apply(D,(0,c.default)(R.params)).toRgb()}}),_.bitmap.data[T]=A.r,_.bitmap.data[T+1]=A.g,_.bitmap.data[T+2]=A.b}),(0,p.isNodePattern)(m)&&m.call(this,null,this),this)}var y=function(){return{brightness:function(_,w){return typeof _!="number"?p.throwError.call(this,"val must be numbers",w):_<-1||_>1?p.throwError.call(this,"val must be a number between -1 and +1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,T,A){_<0?(this.bitmap.data[A]=this.bitmap.data[A]*(1+_),this.bitmap.data[A+1]=this.bitmap.data[A+1]*(1+_),this.bitmap.data[A+2]=this.bitmap.data[A+2]*(1+_)):(this.bitmap.data[A]=this.bitmap.data[A]+(255-this.bitmap.data[A])*_,this.bitmap.data[A+1]=this.bitmap.data[A+1]+(255-this.bitmap.data[A+1])*_,this.bitmap.data[A+2]=this.bitmap.data[A+2]+(255-this.bitmap.data[A+2])*_)}),(0,p.isNodePattern)(w)&&w.call(this,null,this),this)},contrast:function(_,w){if(typeof _!="number")return p.throwError.call(this,"val must be numbers",w);if(_<-1||_>1)return p.throwError.call(this,"val must be a number between -1 and +1",w);var E=(_+1)/(1-_);function T(A){return A=Math.floor(E*(A-127)+127),A<0?0:A>255?255:A}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(A,C,R){this.bitmap.data[R]=T(this.bitmap.data[R]),this.bitmap.data[R+1]=T(this.bitmap.data[R+1]),this.bitmap.data[R+2]=T(this.bitmap.data[R+2])}),(0,p.isNodePattern)(w)&&w.call(this,null,this),this},posterize:function(_,w){return typeof _!="number"?p.throwError.call(this,"n must be numbers",w):(_<2&&(_=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,T,A){this.bitmap.data[A]=Math.floor(this.bitmap.data[A]/255*(_-1))/(_-1)*255,this.bitmap.data[A+1]=Math.floor(this.bitmap.data[A+1]/255*(_-1))/(_-1)*255,this.bitmap.data[A+2]=Math.floor(this.bitmap.data[A+2]/255*(_-1))/(_-1)*255}),(0,p.isNodePattern)(w)&&w.call(this,null,this),this)},greyscale:f,grayscale:f,opacity:function(_,w){return typeof _!="number"?p.throwError.call(this,"f must be a number",w):_<0||_>1?p.throwError.call(this,"f must be a number from 0 to 1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,T,A){var C=this.bitmap.data[A+3]*_;this.bitmap.data[A+3]=C}),(0,p.isNodePattern)(w)&&w.call(this,null,this),this)},sepia:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,T){var A=this.bitmap.data[T],C=this.bitmap.data[T+1],R=this.bitmap.data[T+2];A=A*.393+C*.769+R*.189,C=A*.349+C*.686+R*.168,R=A*.272+C*.534+R*.131,this.bitmap.data[T]=A<255?A:255,this.bitmap.data[T+1]=C<255?C:255,this.bitmap.data[T+2]=R<255?R:255}),(0,p.isNodePattern)(_)&&_.call(this,null,this),this},fade:function(_,w){return typeof _!="number"?p.throwError.call(this,"f must be a number",w):_<0||_>1?p.throwError.call(this,"f must be a number from 0 to 1",w):(this.opacity(1-_),(0,p.isNodePattern)(w)&&w.call(this,null,this),this)},convolution:function(_,w,E){typeof w=="function"&&typeof E=="undefined"&&(E=w,w=null),w||(w=this.constructor.EDGE_EXTEND);var T=s.from(this.bitmap.data),A=_.length,C=_[0].length,R=Math.floor(A/2),D=Math.floor(C/2),O=-R,k=-D,H,B,Z,V,j,z,W,Q,se,le;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(fe,$,ae){V=0,Z=0,B=0;for(var oe=O;oe<=R;oe++)for(var ce=k;ce<=D;ce++)Q=fe+ce,se=$+oe,H=_[oe+R][ce+D],le=this.getPixelIndex(Q,se,w),le===-1?(W=0,z=0,j=0):(j=this.bitmap.data[le+0],z=this.bitmap.data[le+1],W=this.bitmap.data[le+2]),B+=H*j,Z+=H*z,V+=H*W;B<0&&(B=0),Z<0&&(Z=0),V<0&&(V=0),B>255&&(B=255),Z>255&&(Z=255),V>255&&(V=255),T[ae+0]=B,T[ae+1]=Z,T[ae+2]=V}),this.bitmap.data=T,(0,p.isNodePattern)(E)&&E.call(this,null,this),this},opaque:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,T){this.bitmap.data[T+3]=255}),(0,p.isNodePattern)(_)&&_.call(this,null,this),this},pixelate:function(_,w,E,T,A,C){if(typeof w=="function")C=w,A=null,T=null,E=null,w=null;else{if(typeof _!="number")return p.throwError.call(this,"size must be a number",C);if(u(w)&&typeof w!="number")return p.throwError.call(this,"x must be a number",C);if(u(E)&&typeof E!="number")return p.throwError.call(this,"y must be a number",C);if(u(T)&&typeof T!="number")return p.throwError.call(this,"w must be a number",C);if(u(A)&&typeof A!="number")return p.throwError.call(this,"h must be a number",C)}var R=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];w=w||0,E=E||0,T=u(T)?T:this.bitmap.width-w,A=u(A)?A:this.bitmap.height-E;var D=this.cloneQuiet();return this.scanQuiet(w,E,T,A,function(O,k,H){O=_*Math.floor(O/_),k=_*Math.floor(k/_);var B=d(D,R,O,k);this.bitmap.data[H]=B[0],this.bitmap.data[H+1]=B[1],this.bitmap.data[H+2]=B[2]}),(0,p.isNodePattern)(C)&&C.call(this,null,this),this},convolute:function(_,w,E,T,A,C){if(!Array.isArray(_))return p.throwError.call(this,"the kernel must be an array",C);if(typeof w=="function")C=w,w=null,E=null,T=null,A=null;else{if(u(w)&&typeof w!="number")return p.throwError.call(this,"x must be a number",C);if(u(E)&&typeof E!="number")return p.throwError.call(this,"y must be a number",C);if(u(T)&&typeof T!="number")return p.throwError.call(this,"w must be a number",C);if(u(A)&&typeof A!="number")return p.throwError.call(this,"h must be a number",C)}var R=(_.length-1)/2;w=u(w)?w:R,E=u(E)?E:R,T=u(T)?T:this.bitmap.width-w,A=u(A)?A:this.bitmap.height-E;var D=this.cloneQuiet();return this.scanQuiet(w,E,T,A,function(O,k,H){var B=d(D,_,O,k);this.bitmap.data[H]=this.constructor.limit255(B[0]),this.bitmap.data[H+1]=this.constructor.limit255(B[1]),this.bitmap.data[H+2]=this.constructor.limit255(B[2])}),(0,p.isNodePattern)(C)&&C.call(this,null,this),this},color:v,colour:v}};a.default=y,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{contain:function(p,d,u,f,l){if(typeof p!="number"||typeof d!="number")return s.throwError.call(this,"w and h must be numbers",l);typeof u=="string"&&(typeof f=="function"&&typeof l=="undefined"&&(l=f),f=u,u=null),typeof u=="function"&&(typeof l=="undefined"&&(l=u),f=null,u=null),typeof f=="function"&&typeof l=="undefined"&&(l=f,f=null),u=u||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=u&(1<<3)-1,y=u>>3;if(!(v!==0&&!(v&v-1)||y!==0&&!(y&y-1)))return s.throwError.call(this,"only use one flag per alignment direction",l);var h=v>>1,m=y>>1,_=p/d>this.bitmap.width/this.bitmap.height?d/this.bitmap.height:p/this.bitmap.width,w=this.cloneQuiet().scale(_,f);return this.resize(p,d,f),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,T,A){this.bitmap.data.writeUInt32BE(this._background,A)}),this.blit(w,(this.bitmap.width-w.bitmap.width)/2*h,(this.bitmap.height-w.bitmap.height)/2*m),(0,s.isNodePattern)(l)&&l.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],207:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{cover:function(p,d,u,f,l){if(typeof p!="number"||typeof d!="number")return s.throwError.call(this,"w and h must be numbers",l);u&&typeof u=="function"&&typeof l=="undefined"?(l=u,u=null,f=null):typeof f=="function"&&typeof l=="undefined"&&(l=f,f=null),u=u||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=u&(1<<3)-1,y=u>>3;if(!(v!==0&&!(v&v-1)||y!==0&&!(y&y-1)))return s.throwError.call(this,"only use one flag per alignment direction",l);var h=v>>1,m=y>>1,_=p/d>this.bitmap.width/this.bitmap.height?p/this.bitmap.width:d/this.bitmap.height;return this.scale(_,f),this.crop((this.bitmap.width-p)/2*h,(this.bitmap.height-d)/2*m,p,d),(0,s.isNodePattern)(l)&&l.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],208:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var c=o(r("@babel/runtime/helpers/typeof")),g=r("@jimp/utils");function p(d){return d("crop",function(u,f,l,v,y){if(typeof u!="number"||typeof f!="number")return g.throwError.call(this,"x and y must be numbers",y);if(typeof l!="number"||typeof v!="number")return g.throwError.call(this,"w and h must be numbers",y);if(u=Math.round(u),f=Math.round(f),l=Math.round(l),v=Math.round(v),u===0&&l===this.bitmap.width){var h=l*f+u<<2,m=h+v*l<<2;this.bitmap.data=this.bitmap.data.slice(h,m)}else{var _=s.allocUnsafe(l*v*4),w=0;this.scanQuiet(u,f,l,v,function(E,T,A){var C=this.bitmap.data.readUInt32BE(A,!0);_.writeUInt32BE(C,w,!0),w+=4}),this.bitmap.data=_}return this.bitmap.width=l,this.bitmap.height=v,(0,g.isNodePattern)(y)&&y.call(this,null,this),this}),{class:{autocrop:function(){for(var f=this.bitmap.width,l=this.bitmap.height,v=1,y,h=0,m=2e-4,_=!0,w=!1,E={north:!1,south:!1,east:!1,west:!1},T=arguments.length,A=new Array(T),C=0;C<T;C++)A[C]=arguments[C];for(var R=0,D=A.length;R<D;R++)if(typeof A[R]=="number"&&(m=A[R]),typeof A[R]=="boolean"&&(_=A[R]),typeof A[R]=="function"&&(y=A[R]),(0,c.default)(A[R])==="object"){var O=A[R];typeof O.tolerance!="undefined"&&(m=O.tolerance),typeof O.cropOnlyFrames!="undefined"&&(_=O.cropOnlyFrames),typeof O.cropSymmetric!="undefined"&&(w=O.cropSymmetric),typeof O.leaveBorder!="undefined"&&(h=O.leaveBorder),typeof O.ignoreSides!="undefined"&&(E=O.ignoreSides)}var k=this.getPixelColor(0,0),H=this.constructor.intToRGBA(k),B=0,Z=0,V=0,j=0;if(k=this.getPixelColor(0,0),!E.north){e:for(var z=0;z<l-v;z++){for(var W=0;W<f;W++){var Q=this.getPixelColor(W,z),se=this.constructor.intToRGBA(Q);if(this.constructor.colorDiff(H,se)>m)break e}B++}}if(k=this.getPixelColor(f,0),!E.east){e:for(var le=0;le<f-v;le++){for(var fe=0+B;fe<l;fe++){var $=this.getPixelColor(le,fe),ae=this.constructor.intToRGBA($);if(this.constructor.colorDiff(H,ae)>m)break e}Z++}}if(k=this.getPixelColor(0,l),!E.south){e:for(var oe=l-1;oe>=B+v;oe--){for(var ce=f-Z-1;ce>=0;ce--){var he=this.getPixelColor(ce,oe),we=this.constructor.intToRGBA(he);if(this.constructor.colorDiff(H,we)>m)break e}V++}}if(k=this.getPixelColor(f,l),!E.west){e:for(var xe=f-1;xe>=0+Z+v;xe--){for(var Oe=l-1;Oe>=0+B;Oe--){var ge=this.getPixelColor(xe,Oe),De=this.constructor.intToRGBA(ge);if(this.constructor.colorDiff(H,De)>m)break e}j++}}var pe=!1;if(j-=h,Z-=h,B-=h,V-=h,w){var de=Math.min(Z,j),ie=Math.min(B,V);j=de,Z=de,B=ie,V=ie}j=j>=0?j:0,Z=Z>=0?Z:0,B=B>=0?B:0,V=V>=0?V:0;var re=f-(j+Z),q=l-(V+B);return _?pe=Z!==0&&B!==0&&j!==0&&V!==0:pe=Z!==0||B!==0||j!==0||V!==0,pe&&this.crop(Z,B,re,q),(0,g.isNodePattern)(y)&&y.call(this,null,this),this}}}}i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/typeof")),c=r("@jimp/utils"),g=function(){return{displace:function(u,f,l){if((0,o.default)(u)!=="object"||u.constructor!==this.constructor)return c.throwError.call(this,"The source must be a Jimp image",l);if(typeof f!="number")return c.throwError.call(this,"factor must be a number",l);var v=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,h,m){var _=u.bitmap.data[m]/256*f;_=Math.round(_);var w=this.getPixelIndex(y+_,h);this.bitmap.data[w]=v.bitmap.data[m],this.bitmap.data[w+1]=v.bitmap.data[m+1],this.bitmap.data[w+2]=v.bitmap.data[m+2]}),(0,c.isNodePattern)(l)&&l.call(this,null,this),this}}};a.default=g,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils");function o(g){var p=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,u,f){var l=((u&3)<<2)+d%4,v=p[l];this.bitmap.data[f]=Math.min(this.bitmap.data[f]+v,255),this.bitmap.data[f+1]=Math.min(this.bitmap.data[f+1]+v,255),this.bitmap.data[f+2]=Math.min(this.bitmap.data[f+2]+v,255)}),(0,s.isNodePattern)(g)&&g.call(this,null,this),this}var c=function(){return{dither565:o,dither16:o}};a.default=c,i.exports=a.default},{"@jimp/utils":235}],211:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{fisheye:function(){var p=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},u=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(u=d,d={r:2.5});var f=this.cloneQuiet(),l=f.bitmap,v=l.width,y=l.height;return f.scanQuiet(0,0,v,y,function(h,m){var _=h/v,w=m/y,E=Math.sqrt(Math.pow(_-.5,2)+Math.pow(w-.5,2)),T=2*Math.pow(E,d.r),A=(_-.5)/E,C=(w-.5)/E,R=Math.round((T*A+.5)*v),D=Math.round((T*C+.5)*y),O=f.getPixelColor(R,D);p.setPixelColor(O,h,m)}),this.setPixelColor(f.getPixelColor(v/2,y/2),v/2,y/2),(0,s.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],212:[function(r,i,a){(function(s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils");function c(p,d,u){if(typeof p!="boolean"||typeof d!="boolean")return o.throwError.call(this,"horizontal and vertical must be Booleans",u);var f=s.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,v,y){var h=p?this.bitmap.width-1-l:l,m=d?this.bitmap.height-1-v:v,_=this.bitmap.width*m+h<<2,w=this.bitmap.data.readUInt32BE(y);f.writeUInt32BE(w,_)}),this.bitmap.data=s.from(f),(0,o.isNodePattern)(u)&&u.call(this,null,this),this}var g=function(){return{flip:c,mirror:c}};a.default=g,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{gaussian:function(p,d){if(typeof p!="number")return s.throwError.call(this,"r must be a number",d);if(p<1)return s.throwError.call(this,"r must be greater than 0",d);for(var u=Math.ceil(p*2.57),f=u*2+1,l=p*p*2,v=l*Math.PI,y=[],h=0;h<f;h++){y[h]=[];for(var m=0;m<f;m++){var _=Math.pow(m-u,2)+Math.pow(h-u,2);y[h][m]=Math.exp(-_/l)/v}}for(var w=0;w<this.bitmap.height;w++)for(var E=0;E<this.bitmap.width;E++)for(var T=0,A=0,C=0,R=0,D=0,O=0;O<f;O++){for(var k=0;k<f;k++){var H=Math.min(this.bitmap.width-1,Math.max(0,k+E-u)),B=Math.min(this.bitmap.height-1,Math.max(0,O+w-u)),Z=y[O][k],V=B*this.bitmap.width+H<<2;T+=this.bitmap.data[V]*Z,A+=this.bitmap.data[V+1]*Z,C+=this.bitmap.data[V+2]*Z,R+=this.bitmap.data[V+3]*Z,D+=Z}var j=w*this.bitmap.width+E<<2;this.bitmap.data[j]=Math.round(T/D),this.bitmap.data[j+1]=Math.round(A/D),this.bitmap.data[j+2]=Math.round(C/D),this.bitmap.data[j+3]=Math.round(R/D)}return(0,s.isNodePattern)(d)&&d.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],214:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{invert:function(p){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,u,f){this.bitmap.data[f]=255-this.bitmap.data[f],this.bitmap.data[f+1]=255-this.bitmap.data[f+1],this.bitmap.data[f+2]=255-this.bitmap.data[f+2]}),(0,s.isNodePattern)(p)&&p.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],215:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{mask:function(p){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3?arguments[3]:void 0;if(!(p instanceof this.constructor))return s.throwError.call(this,"The source must be a Jimp image",f);if(typeof d!="number"||typeof u!="number")return s.throwError.call(this,"x and y must be numbers",f);d=Math.round(d),u=Math.round(u);var l=this.bitmap.width,v=this.bitmap.height,y=this;return p.scanQuiet(0,0,p.bitmap.width,p.bitmap.height,function(h,m,_){var w=d+h,E=u+m;if(w>=0&&E>=0&&w<l&&E<v){var T=y.getPixelIndex(w,E),A=this.bitmap.data,C=(A[_+0]+A[_+1]+A[_+2])/3;y.bitmap.data[T+3]*=C/255}}),(0,s.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],216:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils");function o(){var d={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,f,l){d.r[this.bitmap.data[l+0]]++,d.g[this.bitmap.data[l+1]]++,d.b[this.bitmap.data[l+2]]++}),d}var c=function(u,f,l){return(u-f)*255/(l-f)},g=function(u){return[u.findIndex(function(f){return f>0}),255-u.slice().reverse().findIndex(function(f){return f>0})]},p=function(){return{normalize:function(f){var l=o.call(this),v={r:g(l.r),g:g(l.g),b:g(l.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,h,m){var _=this.bitmap.data[m+0],w=this.bitmap.data[m+1],E=this.bitmap.data[m+2];this.bitmap.data[m+0]=c(_,v.r[0],v.r[1]),this.bitmap.data[m+1]=c(w,v.g[0],v.g[1]),this.bitmap.data[m+2]=c(E,v.b[0],v.b[1])}),(0,s.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=p,i.exports=a.default},{"@jimp/utils":235}],217:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=o(r("@babel/runtime/helpers/typeof")),g=o(r("@babel/runtime/helpers/toConsumableArray")),p=o(r("path")),d=o(r("load-bmfont")),u=r("@jimp/utils"),f=r("./measure-text");function l(E,T,A,C,R){return R===E.HORIZONTAL_ALIGN_LEFT?0:R===E.HORIZONTAL_ALIGN_CENTER?(C-(0,f.measureText)(T,A))/2:C-(0,f.measureText)(T,A)}function v(E,T,A,C,R){if(R.width>0&&R.height>0){var D=T.pages[R.page];E.blit(D,A+R.xoffset,C+R.yoffset,R.x,R.y,R.width,R.height)}return E}function y(E,T,A,C,R){for(var D=0;D<C.length;D++){var O=void 0;E.chars[C[D]]?O=C[D]:/\s/.test(C[D])?O="":O="?";var k=E.chars[O]||{},H=E.kernings[O];v(this,E,T,A,k||{});var B=H&&H[C[D+1]]?H[C[D+1]]:0;T+=B+(k.xadvance||R)}}function h(E,T,A){var C=T.split(" "),R=[],D=[],O=0;return C.forEach(function(k){var H=[].concat((0,g.default)(D),[k]).join(" "),B=(0,f.measureText)(E,H);B<=A?(B>O&&(O=B),D.push(k)):(R.push(D),D=[k])}),R.push(D),{lines:R,longestLine:O}}function m(E,T,A){var C=A.map(function(R){return E.read(T+"/"+R)});return Promise.all(C)}var _="browser/lib/",w=function(){return{constants:{measureText:f.measureText,measureTextHeight:f.measureTextHeight,FONT_SANS_8_BLACK:p.default.join(_,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:p.default.join(_,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:p.default.join(_,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:p.default.join(_,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:p.default.join(_,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:p.default.join(_,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:p.default.join(_,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:p.default.join(_,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:p.default.join(_,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:p.default.join(_,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:p.default.join(_,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:p.default.join(_,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:p.default.join(_,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(A,C){var R=this;return typeof A!="string"?u.throwError.call(this,"file must be a string",C):new Promise(function(D,O){C=C||function(k,H){k?O(k):D(H)},(0,d.default)(A,function(k,H){var B={},Z={};if(k)return u.throwError.call(R,k,C);for(var V=0;V<H.chars.length;V++)B[String.fromCharCode(H.chars[V].id)]=H.chars[V];for(var j=0;j<H.kernings.length;j++){var z=String.fromCharCode(H.kernings[j].first);Z[z]=Z[z]||{},Z[z][String.fromCharCode(H.kernings[j].second)]=H.kernings[j].amount}m(R,p.default.dirname(A),H.pages).then(function(W){C(null,{chars:B,kernings:Z,pages:W,common:H.common,info:H.info})})})})}},class:{print:function(A,C,R,D,O,k,H){var B=this;if(typeof O=="function"&&typeof H=="undefined"&&(H=O,O=1/0),typeof O=="undefined"&&(O=1/0),typeof k=="function"&&typeof H=="undefined"&&(H=k,k=1/0),typeof k=="undefined"&&(k=1/0),(0,c.default)(A)!=="object")return u.throwError.call(this,"font must be a Jimp loadFont",H);if(typeof C!="number"||typeof R!="number"||typeof O!="number")return u.throwError.call(this,"x, y and maxWidth must be numbers",H);if(typeof O!="number")return u.throwError.call(this,"maxWidth must be a number",H);if(typeof k!="number")return u.throwError.call(this,"maxHeight must be a number",H);var Z,V;if((0,c.default)(D)==="object"&&D.text!==null&&D.text!==void 0){Z=D.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,V=D.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var j=D;D=j.text}else Z=this.constructor.HORIZONTAL_ALIGN_LEFT,V=this.constructor.VERTICAL_ALIGN_TOP,D=D.toString();k!==1/0&&V===this.constructor.VERTICAL_ALIGN_BOTTOM?R+=k-(0,f.measureTextHeight)(A,D,O):k!==1/0&&V===this.constructor.VERTICAL_ALIGN_MIDDLE&&(R+=k/2-(0,f.measureTextHeight)(A,D,O)/2);var z=Object.entries(A.chars)[0][1].xadvance,W=h(A,D,O),Q=W.lines,se=W.longestLine;return Q.forEach(function(le){var fe=le.join(" "),$=l(B.constructor,A,fe,O,Z);y.call(B,A,C+$,R,fe,z),R+=A.common.lineHeight}),(0,u.isNodePattern)(H)&&H.call(this,null,this,{x:C+se,y:R}),this}}}};a.default=w,i.exports=a.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.measureText=s,a.measureTextHeight=o;function s(c,g){for(var p=0,d=0;d<g.length;d++)if(c.chars[g[d]]){var u=c.kernings[g[d]]&&c.kernings[g[d]][g[d+1]]?c.kernings[g[d]][g[d+1]]:0;p+=(c.chars[g[d]].xadvance||0)+u}return p}function o(c,g,p){for(var d=g.split(" "),u="",f=c.common.lineHeight,l=0;l<d.length;l++){var v=u+d[l]+" ",y=s(c,v);y>p&&l>0?(f+=c.common.lineHeight,u=d[l]+" "):u=v}return f}},{}],219:[function(r,i,a){(function(s){var o=r("xhr"),c=function(){},g=r("parse-bmfont-ascii"),p=r("parse-bmfont-xml"),d=r("parse-bmfont-binary"),u=r("./lib/is-binary"),f=r("xtend"),l=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();i.exports=function(h,m){m=typeof m=="function"?m:c,typeof h=="string"?h={uri:h}:h||(h={});var _=h.binary;_&&(h=y(h)),o(h,function(w,E,T){if(w)return m(w);if(!/^2/.test(E.statusCode))return m(new Error("http status code: "+E.statusCode));if(!T)return m(new Error("no body result"));var A=!1;if(v(T)){var C=new Uint8Array(T);T=new s(C,"binary")}u(T)&&(A=!0,typeof T=="string"&&(T=new s(T,"binary"))),A||(s.isBuffer(T)&&(T=T.toString(h.encoding)),T=T.trim());var R;try{var D=E.headers["content-type"];A?R=d(T):/json/.test(D)||T.charAt(0)==="{"?R=JSON.parse(T):/xml/.test(D)||T.charAt(0)==="<"?R=p(T):R=g(T)}catch(O){m(new Error("error parsing font "+O.message)),m=c}m(null,R)})};function v(h){var m=Object.prototype.toString;return m.call(h)==="[object ArrayBuffer]"}function y(h){if(l)return f(h,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest=="undefined")throw new Error("your browser does not support XHR loading");var m=new self.XMLHttpRequest;return m.overrideMimeType("text/plain; charset=x-user-defined"),f({xhr:m},h)}}).call(this,r("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(r,i,a){(function(s){var o=r("buffer-equal"),c=new s([66,77,70,3]);i.exports=function(g){return typeof g=="string"?g.substring(0,3)==="BMF":g.length>4&&o(g.slice(0,4),c)}}).call(this,r("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r("@jimp/utils"),g=o(r("./modules/resize")),p=o(r("./modules/resize2")),d=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(l,v,y,h){if(typeof l!="number"||typeof v!="number")return c.throwError.call(this,"w and h must be numbers",h);if(typeof y=="function"&&typeof h=="undefined"&&(h=y,y=null),l===this.constructor.AUTO&&v===this.constructor.AUTO)return c.throwError.call(this,"w and h cannot both be set to auto",h);if(l===this.constructor.AUTO&&(l=this.bitmap.width*(v/this.bitmap.height)),v===this.constructor.AUTO&&(v=this.bitmap.height*(l/this.bitmap.width)),l<0||v<0)return c.throwError.call(this,"w and h must be positive numbers",h);if(l=Math.round(l),v=Math.round(v),typeof p.default[y]=="function"){var m={data:s.alloc(l*v*4),width:l,height:v};p.default[y](this.bitmap,m),this.bitmap=m}else{var _=this,w=new g.default(this.bitmap.width,this.bitmap.height,l,v,!0,!0,function(E){_.bitmap.data=s.from(E),_.bitmap.width=l,_.bitmap.height=v});w.resize(this.bitmap.data)}return(0,c.isNodePattern)(h)&&h.call(this,null,this),this}}}};a.default=d,i.exports=a.default}).call(this,r("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(r,i,a){"use strict";function s(o,c,g,p,d,u,f){this.widthOriginal=Math.abs(Math.floor(o)||0),this.heightOriginal=Math.abs(Math.floor(c)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(p)||0),this.colorChannels=d?4:3,this.interpolationPass=Boolean(u),this.resizeCallback=typeof f=="function"?f:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}s.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},s.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},s.prototype._resizeWidthInterpolatedRGBChannels=function(o,c){var g=c?4:3,p=this.ratioWeightWidthPass,d=this.widthBuffer,u=0,f=0,l=0,v=0,y=0,h;for(h=0;u<1/3;h+=g,u+=p)for(f=h,l=0;f<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f]=o[l],d[f+1]=o[l+1],d[f+2]=o[l+2],c&&(d[f+3]=o[l+3]);u-=1/3;var m;for(m=this.widthOriginal-1;u<m;h+=g,u+=p)for(y=u%1,v=1-y,f=h,l=Math.floor(u)*g;f<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f+0]=o[l+0]*v+o[l+g+0]*y,d[f+1]=o[l+1]*v+o[l+g+1]*y,d[f+2]=o[l+2]*v+o[l+g+2]*y,c&&(d[f+3]=o[l+3]*v+o[l+g+3]*y);for(m=this.originalWidthMultipliedByChannels-g;h<this.targetWidthMultipliedByChannels;h+=g)for(f=h,l=m;f<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f]=o[l],d[f+1]=o[l+1],d[f+2]=o[l+2],c&&(d[f+3]=o[l+3]);return d},s.prototype._resizeWidthRGBChannels=function(o,c){var g=c?4:3,p=this.ratioWeightWidthPass,d=1/p,u=this.originalWidthMultipliedByChannels-g+1,f=this.targetWidthMultipliedByChannels-g+1,l=this.outputWidthWorkBench,v=this.widthBuffer,y=this.outputWidthWorkBenchOpaquePixelsCount,h=0,m=0,_=0,w=0,E=0,T=0,A=0,C=1,R=0,D=0,O=0,k=0;do{for(E=0;E<this.originalHeightMultipliedByChannels;)l[E++]=0,l[E++]=0,l[E++]=0,c&&(l[E++]=0,y[E/g-1]=0);h=p;do{for(m=1+_-w,C=Math.min(h,m),E=0,T=_;E<this.originalHeightMultipliedByChannels;T+=u)R=o[T],D=o[++T],O=o[++T],k=c?o[++T]:255,l[E++]+=(k?R:0)*C,l[E++]+=(k?D:0)*C,l[E++]+=(k?O:0)*C,c&&(l[E++]+=k*C,y[E/g-1]+=k?C:0);if(h>=m)_+=g,w=_,h-=m;else{w+=h;break}}while(h>0&&_<this.originalWidthMultipliedByChannels);for(E=0,T=A;E<this.originalHeightMultipliedByChannels;T+=f)h=c?y[E/g]:1,C=c?h?1/h:0:d,v[T]=l[E++]*C,v[++T]=l[E++]*C,v[++T]=l[E++]*C,c&&(v[++T]=l[E++]*d);A+=g}while(A<this.targetWidthMultipliedByChannels);return v},s.prototype._resizeHeightRGBChannels=function(o,c){var g=this.ratioWeightHeightPass,p=1/g,d=this.outputHeightWorkBench,u=this.heightBuffer,f=this.outputHeightWorkBenchOpaquePixelsCount,l=0,v=0,y=0,h=0,m=0,_=0,w=0,E=1,T=0,A=0,C=0,R=0;do{for(m=0;m<this.targetWidthMultipliedByChannels;)d[m++]=0,d[m++]=0,d[m++]=0,c&&(d[m++]=0,f[m/4-1]=0);l=g;do{for(v=1+y-h,E=Math.min(l,v),w=y,m=0;m<this.targetWidthMultipliedByChannels;)T=o[w++],A=o[w++],C=o[w++],R=c?o[w++]:255,d[m++]+=(R?T:0)*E,d[m++]+=(R?A:0)*E,d[m++]+=(R?C:0)*E,c&&(d[m++]+=R*E,f[m/4-1]+=R?E:0);if(l>=v)y=w,h=y,l-=v;else{h+=l;break}}while(l>0&&y<this.widthPassResultSize);for(m=0;m<this.targetWidthMultipliedByChannels;)l=c?f[m/4]:1,E=c?l?1/l:0:p,u[_++]=Math.round(d[m++]*E),u[_++]=Math.round(d[m++]*E),u[_++]=Math.round(d[m++]*E),c&&(u[_++]=Math.round(d[m++]*p))}while(_<this.finalResultSize);return u},s.prototype.resizeWidthInterpolatedRGB=function(o){return this._resizeWidthInterpolatedRGBChannels(o,!1)},s.prototype.resizeWidthInterpolatedRGBA=function(o){return this._resizeWidthInterpolatedRGBChannels(o,!0)},s.prototype.resizeWidthRGB=function(o){return this._resizeWidthRGBChannels(o,!1)},s.prototype.resizeWidthRGBA=function(o){return this._resizeWidthRGBChannels(o,!0)},s.prototype.resizeHeightInterpolated=function(o){for(var c=this.ratioWeightHeightPass,g=this.heightBuffer,p=0,d=0,u=0,f=0,l=0,v=0,y=0,h;p<1/3;p+=c)for(u=0;u<this.targetWidthMultipliedByChannels;)g[d++]=Math.round(o[u++]);for(p-=1/3,h=this.heightOriginal-1;p<h;p+=c)for(y=p%1,v=1-y,f=Math.floor(p)*this.targetWidthMultipliedByChannels,l=f+this.targetWidthMultipliedByChannels,u=0;u<this.targetWidthMultipliedByChannels;++u)g[d++]=Math.round(o[f++]*v+o[l++]*y);for(;d<this.finalResultSize;)for(u=0,f=h*this.targetWidthMultipliedByChannels;u<this.targetWidthMultipliedByChannels;++u)g[d++]=Math.round(o[f++]);return g},s.prototype.resizeHeightRGB=function(o){return this._resizeHeightRGBChannels(o,!1)},s.prototype.resizeHeightRGBA=function(o){return this._resizeHeightRGBChannels(o,!0)},s.prototype.resize=function(o){this.resizeCallback(this.resizeHeight(this.resizeWidth(o)))},s.prototype.bypassResizer=function(o){return o},s.prototype.initializeFirstPassBuffers=function(o){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),o||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},s.prototype.initializeSecondPassBuffers=function(o){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),o||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},s.prototype.generateFloatBuffer=function(o){try{return new Float32Array(o)}catch{return[]}},s.prototype.generateFloat64Buffer=function(o){try{return new Float64Array(o)}catch{return[]}},s.prototype.generateUint8Buffer=function(o){try{return new Uint8Array(o)}catch{return[]}},i.exports=s},{}],223:[function(r,i,a){(function(s){"use strict";i.exports={nearestNeighbor:function(c,g){for(var p=c.width,d=c.height,u=g.width,f=g.height,l=c.data,v=g.data,y=0;y<f;y++)for(var h=0;h<u;h++){var m=(y*u+h)*4,_=Math.floor(y*d/f),w=Math.floor(h*p/u),E=(_*p+w)*4;v[m++]=l[E++],v[m++]=l[E++],v[m++]=l[E++],v[m++]=l[E++]}},bilinearInterpolation:function(c,g){for(var p=c.width,d=c.height,u=g.width,f=g.height,l=c.data,v=g.data,y=function(k,H,B,Z,V){return H===Z?B:Math.round((k-H)*V+(Z-k)*B)},h=function(k,H,B,Z,V,j,z,W){var Q=(z*p+Z)*4+H,se=(z*p+V)*4+H,le=y(B,Z,l[Q],V,l[se]);if(W===z)v[k+H]=le;else{Q=(W*p+Z)*4+H,se=(W*p+V)*4+H;var fe=y(B,Z,l[Q],V,l[se]);v[k+H]=y(j,z,le,W,fe)}},m=0;m<f;m++)for(var _=0;_<u;_++){var w=(m*u+_)*4,E=_*p/u,T=Math.floor(E),A=Math.min(Math.ceil(E),p-1),C=m*d/f,R=Math.floor(C),D=Math.min(Math.ceil(C),d-1);h(w,0,E,T,A,C,R,D),h(w,1,E,T,A,C,R,D),h(w,2,E,T,A,C,R,D),h(w,3,E,T,A,C,R,D)}},_interpolate2D:function(c,g,p,d){for(var u=c.data,f=g.data,l=c.width,v=c.height,y=g.width,h=g.height,m=Math.max(1,Math.floor(l/y)),_=y*m,w=Math.max(1,Math.floor(v/h)),E=h*w,T=s.alloc(_*v*4),A=0;A<v;A++)for(var C=0;C<_;C++)for(var R=C*(l-1)/_,D=Math.floor(R),O=R-D,k=(A*l+D)*4,H=(A*_+C)*4,B=0;B<4;B++){var Z=k+B,V=D>0?u[Z-4]:2*u[Z]-u[Z+4],j=u[Z],z=u[Z+4],W=D<l-2?u[Z+8]:2*u[Z+4]-u[Z];T[H+B]=d(V,j,z,W,O)}for(var Q=s.alloc(_*E*4),se=0;se<E;se++)for(var le=0;le<_;le++)for(var fe=se*(v-1)/E,$=Math.floor(fe),ae=fe-$,oe=($*_+le)*4,ce=(se*_+le)*4,he=0;he<4;he++){var we=oe+he,xe=$>0?T[we-_*4]:2*T[we]-T[we+_*4],Oe=T[we],ge=T[we+_*4],De=$<v-2?T[we+_*8]:2*T[we+_*4]-T[we];Q[ce+he]=d(xe,Oe,ge,De,ae)}var pe=m*w;if(pe>1)for(var de=0;de<h;de++)for(var ie=0;ie<y;ie++){for(var re=0,q=0,te=0,G=0,L=0,I=0;I<w;I++)for(var U=de*w+I,J=0;J<m;J++){var ye=ie*m+J,Ie=(U*_+ye)*4,be=Q[Ie+3];be&&(re+=Q[Ie],q+=Q[Ie+1],te+=Q[Ie+2],L++),G+=be}var Le=(de*y+ie)*4;f[Le]=L?Math.round(re/L):0,f[Le+1]=L?Math.round(q/L):0,f[Le+2]=L?Math.round(te/L):0,f[Le+3]=Math.round(G/pe)}else g.data=Q},bicubicInterpolation:function(c,g,p){var d=function(f,l,v,y,h){var m=y-v-f+l,_=f-l-m,w=v-f,E=l;return Math.max(0,Math.min(255,m*(h*h*h)+_*(h*h)+w*h+E))};return this._interpolate2D(c,g,p,d)},hermiteInterpolation:function(c,g,p){var d=function(f,l,v,y,h){var m=l,_=.5*(v-f),w=f-2.5*l+2*v-.5*y,E=.5*(y-f)+1.5*(l-v);return Math.max(0,Math.min(255,Math.round(((E*h+w)*h+_)*h+m)))};return this._interpolate2D(c,g,p,d)},bezierInterpolation:function(c,g,p){var d=function(f,l,v,y,h){var m=l+(v-f)/4,_=v-(y-l)/4,w=1-h,E=l*w*w*w,T=3*m*w*w*h,A=3*_*w*h*h,C=v*h*h*h;return Math.max(0,Math.min(255,Math.round(E+T+A+C)))};return this._interpolate2D(c,g,p,d)}}}).call(this,r("buffer").Buffer)},{buffer:48}],224:[function(r,i,a){(function(s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("@jimp/utils");function c(p,d){p%=360;var u=p*Math.PI/180,f=Math.cos(u),l=Math.sin(u),v=this.bitmap.width,y=this.bitmap.height;if(d===!0||typeof d=="string"){v=Math.ceil(Math.abs(this.bitmap.width*f)+Math.abs(this.bitmap.height*l))+1,y=Math.ceil(Math.abs(this.bitmap.width*l)+Math.abs(this.bitmap.height*f))+1,v%2!=0&&v++,y%2!=0&&y++;var h=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,W,Q){this.bitmap.data.writeUInt32BE(this._background,Q)});var m=Math.max(v,y,this.bitmap.width,this.bitmap.height);this.resize(m,m,d),this.blit(h,this.bitmap.width/2-h.bitmap.width/2,this.bitmap.height/2-h.bitmap.height/2)}var _=this.bitmap.width,w=this.bitmap.height,E=s.alloc(this.bitmap.data.length);function T(z,W){return function(Q,se){return{x:Q+z,y:se+W}}}for(var A=T(-(_/2),-(w/2)),C=T(_/2+.5,w/2+.5),R=1;R<=w;R++)for(var D=1;D<=_;D++){var O=A(D,R),k=C(f*O.x-l*O.y,f*O.y+l*O.x),H=_*(R-1)+D-1<<2;if(k.x>=0&&k.x<_&&k.y>=0&&k.y<w){var B=(_*(k.y|0)+k.x|0)<<2,Z=this.bitmap.data.readUInt32BE(B);E.writeUInt32BE(Z,H)}else E.writeUInt32BE(this._background,H)}if(this.bitmap.data=E,d===!0||typeof d=="string"){var V=_/2-v/2,j=w/2-y/2;this.crop(V,j,v,y)}}var g=function(){return{rotate:function(u,f,l){return(typeof f=="undefined"||f===null)&&(f=!0),typeof f=="function"&&typeof l=="undefined"&&(l=f,f=!0),typeof u!="number"?o.throwError.call(this,"deg must be a number",l):typeof f!="boolean"&&typeof f!="string"?o.throwError.call(this,"mode must be a boolean or a string",l):(c.call(this,u,f,l),(0,o.isNodePattern)(l)&&l.call(this,null,this),this)}}};a.default=g,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{scale:function(p,d,u){if(typeof p!="number")return s.throwError.call(this,"f must be a number",u);if(p<0)return s.throwError.call(this,"f must be a positive number",u);typeof d=="function"&&typeof u=="undefined"&&(u=d,d=null);var f=this.bitmap.width*p,l=this.bitmap.height*p;return this.resize(f,l,d),(0,s.isNodePattern)(u)&&u.call(this,null,this),this},scaleToFit:function(p,d,u,f){if(typeof p!="number"||typeof d!="number")return s.throwError.call(this,"w and h must be numbers",f);typeof u=="function"&&typeof f=="undefined"&&(f=u,u=null);var l=p/d>this.bitmap.width/this.bitmap.height?d/this.bitmap.height:p/this.bitmap.width;return this.scale(l,u),(0,s.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],226:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{shadow:function(){var p=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(u=d,d={});var f=d,l=f.opacity,v=l===void 0?.7:l,y=f.size,h=y===void 0?1.1:y,m=f.x,_=m===void 0?-25:m,w=f.y,E=w===void 0?25:w,T=f.blur,A=T===void 0?5:T,C=this.clone(),R=this.clone();return R.scan(0,0,R.bitmap.width,R.bitmap.height,function(D,O,k){R.bitmap.data[k]=0,R.bitmap.data[k+1]=0,R.bitmap.data[k+2]=0,R.bitmap.data[k+3]=R.constructor.limit255(R.bitmap.data[k+3]*v),p.bitmap.data[k]=0,p.bitmap.data[k+1]=0,p.bitmap.data[k+2]=0,p.bitmap.data[k+3]=0}),R.resize(R.bitmap.width*h,R.bitmap.height*h).blur(A),this.composite(R,_,E),this.composite(C,0,0),(0,s.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],227:[function(r,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=r("@jimp/utils"),o=function(){return{threshold:function(p,d){var u=this,f=p.max,l=p.replace,v=l===void 0?255:l,y=p.autoGreyscale,h=y===void 0?!0:y;return typeof f!="number"?s.throwError.call(this,"max must be a number",d):typeof v!="number"?s.throwError.call(this,"replace must be a number",d):typeof h!="boolean"?s.throwError.call(this,"autoGreyscale must be a boolean",d):(f=this.constructor.limit255(f),v=this.constructor.limit255(v),h&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,_,w){var E=u.bitmap.data[w]<f?u.bitmap.data[w]:v;u.bitmap.data[w]=E,u.bitmap.data[w+1]=E,u.bitmap.data[w+2]=E}),(0,s.isNodePattern)(d)&&d.call(this,null,this),this)}}};a.default=o,i.exports=a.default},{"@jimp/utils":235}],228:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/toConsumableArray")),c=r("timm"),g=s(r("@jimp/plugin-blit")),p=s(r("@jimp/plugin-blur")),d=s(r("@jimp/plugin-circle")),u=s(r("@jimp/plugin-color")),f=s(r("@jimp/plugin-contain")),l=s(r("@jimp/plugin-cover")),v=s(r("@jimp/plugin-crop")),y=s(r("@jimp/plugin-displace")),h=s(r("@jimp/plugin-dither")),m=s(r("@jimp/plugin-fisheye")),_=s(r("@jimp/plugin-flip")),w=s(r("@jimp/plugin-gaussian")),E=s(r("@jimp/plugin-invert")),T=s(r("@jimp/plugin-mask")),A=s(r("@jimp/plugin-normalize")),C=s(r("@jimp/plugin-print")),R=s(r("@jimp/plugin-resize")),D=s(r("@jimp/plugin-rotate")),O=s(r("@jimp/plugin-scale")),k=s(r("@jimp/plugin-shadow")),H=s(r("@jimp/plugin-threshold")),B=[g.default,p.default,d.default,u.default,f.default,l.default,v.default,y.default,h.default,m.default,_.default,w.default,E.default,T.default,A.default,C.default,R.default,D.default,O.default,k.default,H.default],Z=function(j){var z=B.map(function(W){var Q=W(j)||{};return!Q.class&&!Q.constants&&(Q={class:Q}),Q});return c.mergeDeep.apply(void 0,(0,o.default)(z))};a.default=Z,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/defineProperty")),c=s(r("bmp-js")),g=r("@jimp/utils"),p="image/bmp",d="image/x-ms-bmp";function u(h){return(0,g.scan)(h,0,0,h.bitmap.width,h.bitmap.height,function(m,_,w){var E=this.bitmap.data[w+0],T=this.bitmap.data[w+1],A=this.bitmap.data[w+2],C=this.bitmap.data[w+3];this.bitmap.data[w+0]=C,this.bitmap.data[w+1]=A,this.bitmap.data[w+2]=T,this.bitmap.data[w+3]=E}).bitmap}function f(h){return(0,g.scan)({bitmap:h},0,0,h.width,h.height,function(m,_,w){var E=this.bitmap.data[w+0],T=this.bitmap.data[w+1],A=this.bitmap.data[w+2],C=this.bitmap.data[w+3];this.bitmap.data[w+0]=C,this.bitmap.data[w+1]=A,this.bitmap.data[w+2]=T,this.bitmap.data[w+3]=h.is_with_alpha?E:255}).bitmap}var l=function(m){return f(c.default.decode(m))},v=function(m){return c.default.encode(u(m)).data},y=function(){var m,_;return{mime:(0,o.default)({},p,["bmp"]),constants:{MIME_BMP:p,MIME_X_MS_BMP:d},decoders:(m={},(0,o.default)(m,p,l),(0,o.default)(m,d,l),m),encoders:(_={},(0,o.default)(_,p,v),(0,o.default)(_,d,v),_)}};a.default=y,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=o(r("@babel/runtime/helpers/defineProperty")),g=o(r("omggif")),p=r("gifwrap"),d="image/gif",u=function(){return{mime:(0,c.default)({},d,["gif"]),constants:{MIME_GIF:d},decoders:(0,c.default)({},d,function(l){var v=new g.default.GifReader(l),y=s.alloc(v.width*v.height*4);return v.decodeAndBlitFrameRGBA(0,y),{data:y,width:v.width,height:v.height}}),encoders:(0,c.default)({},d,function(l){var v=new p.BitmapImage(l.bitmap);p.GifUtil.quantizeDekker(v,256);var y=new p.GifFrame(v),h=new p.GifCodec;return h.encodeGif([y],{}).then(function(m){return m.buffer})})}};a.default=u,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/defineProperty")),c=s(r("jpeg-js")),g=r("@jimp/utils"),p="image/jpeg",d=function(){return{mime:(0,o.default)({},p,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:p},decoders:(0,o.default)({},p,c.default.decode),encoders:(0,o.default)({},p,function(f){return c.default.encode(f.bitmap,f._quality).data}),class:{_quality:100,quality:function(l,v){return typeof l!="number"?g.throwError.call(this,"n must be a number",v):l<0||l>100?g.throwError.call(this,"n must be a number 0 - 100",v):(this._quality=Math.round(l),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)}}}};a.default=d,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r("@babel/runtime/helpers/defineProperty")),c=r("pngjs"),g=r("@jimp/utils"),p="image/png",d=-1,u=0,f=1,l=2,v=3,y=4,h=function(){return{mime:(0,o.default)({},p,["png"]),constants:{MIME_PNG:p,PNG_FILTER_AUTO:d,PNG_FILTER_NONE:u,PNG_FILTER_SUB:f,PNG_FILTER_UP:l,PNG_FILTER_AVERAGE:v,PNG_FILTER_PATH:y},hasAlpha:(0,o.default)({},p,!0),decoders:(0,o.default)({},p,c.PNG.sync.read),encoders:(0,o.default)({},p,function(_){var w=new c.PNG({width:_.bitmap.width,height:_.bitmap.height});return w.data=_.bitmap.data,c.PNG.sync.write(w,{width:_.bitmap.width,height:_.bitmap.height,deflateLevel:_._deflateLevel,deflateStrategy:_._deflateStrategy,filterType:_._filterType,colorType:typeof _._colorType=="number"?_._colorType:_._rgba?6:2,inputHasAlpha:_._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:d,_colorType:null,deflateLevel:function(w,E){return typeof w!="number"?g.throwError.call(this,"l must be a number",E):w<0||w>9?g.throwError.call(this,"l must be a number 0 - 9",E):(this._deflateLevel=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},deflateStrategy:function(w,E){return typeof w!="number"?g.throwError.call(this,"s must be a number",E):w<0||w>3?g.throwError.call(this,"s must be a number 0 - 3",E):(this._deflateStrategy=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},filterType:function(w,E){return typeof w!="number"?g.throwError.call(this,"n must be a number",E):w<-1||w>4?g.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",E):(this._filterType=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},colorType:function(w,E){return typeof w!="number"?g.throwError.call(this,"s must be a number",E):w!==0&&w!==2&&w!==4&&w!==6?g.throwError.call(this,"s must be a number 0, 2, 4, 6.",E):(this._colorType=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)}}}};a.default=h,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(r,i,a){(function(s){"use strict";var o=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=o(r("@babel/runtime/helpers/defineProperty")),g=o(r("utif")),p="image/tiff",d=function(){return{mime:(0,c.default)({},p,["tiff","tif"]),constants:{MIME_TIFF:p},decoders:(0,c.default)({},p,function(f){var l=g.default.decode(f),v=l[0];g.default.decodeImages(f,l);var y=g.default.toRGBA8(v);return{data:s.from(y),width:v.t256[0],height:v.t257[0]}}),encoders:(0,c.default)({},p,function(f){var l=g.default.encodeImage(f.bitmap.data,f.bitmap.width,f.bitmap.height);return s.from(l)})}};a.default=d,i.exports=a.default}).call(this,r("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r("timm"),c=s(r("@jimp/jpeg")),g=s(r("@jimp/png")),p=s(r("@jimp/bmp")),d=s(r("@jimp/tiff")),u=s(r("@jimp/gif")),f=function(){return(0,o.mergeDeep)((0,c.default)(),(0,g.default)(),(0,p.default)(),(0,d.default)(),(0,u.default)())};a.default=f,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(r,i,a){"use strict";var s=r("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.isNodePattern=g,a.throwError=p,a.scan=d,a.scanIterator=u;var o=s(r("@babel/runtime/regenerator")),c=o.default.mark(u);function g(f){if(typeof f=="undefined")return!1;if(typeof f!="function")throw new TypeError("Callback must be a function");return!0}function p(f,l){if(typeof f=="string"&&(f=new Error(f)),typeof l=="function")return l.call(this,f);throw f}function d(f,l,v,y,h,m){l=Math.round(l),v=Math.round(v),y=Math.round(y),h=Math.round(h);for(var _=v;_<v+h;_++)for(var w=l;w<l+y;w++){var E=f.bitmap.width*_+w<<2;m.call(f,w,_,E)}return f}function u(f,l,v,y,h){var m,_,w;return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:l=Math.round(l),v=Math.round(v),y=Math.round(y),h=Math.round(h),m=v;case 5:if(!(m<v+h)){T.next=17;break}_=l;case 7:if(!(_<l+y)){T.next=14;break}return w=f.bitmap.width*m+_<<2,T.next=11,{x:_,y:m,idx:w,image:f};case 11:_++,T.next=7;break;case 14:m++,T.next=5;break;case 17:case"end":return T.stop()}},c)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})});var g5=hr(VA()),Rn=hr(jr());var xm={};s8(xm,{ACESFilmicToneMapping:()=>g1,AddEquation:()=>_f,AddOperation:()=>dC,AdditiveAnimationBlendMode:()=>Jb,AdditiveBlending:()=>Db,AlphaFormat:()=>SC,AlwaysDepth:()=>sC,AlwaysStencilFunc:()=>vR,AmbientLight:()=>N_,AmbientLightProbe:()=>yE,AnimationClip:()=>yd,AnimationLoader:()=>VP,AnimationMixer:()=>ME,AnimationObjectGroup:()=>SE,AnimationUtils:()=>Kn,ArcCurve:()=>c_,ArrayCamera:()=>Y1,ArrowHelper:()=>CL,Audio:()=>U_,AudioAnalyser:()=>xE,AudioContext:()=>gE,AudioListener:()=>iL,AudioLoader:()=>vE,AxesHelper:()=>NE,AxisHelper:()=>Y9,BackSide:()=>or,BasicDepthPacking:()=>pR,BasicShadowMap:()=>pk,BinaryTextureLoader:()=>$9,Bone:()=>tm,BooleanKeyframeTrack:()=>lu,BoundingBoxHelper:()=>q9,Box2:()=>Qf,Box3:()=>Vi,Box3Helper:()=>ML,BoxBufferGeometry:()=>Wo,BoxGeometry:()=>Wo,BoxHelper:()=>DE,BufferAttribute:()=>vn,BufferGeometry:()=>Gt,BufferGeometryLoader:()=>pE,ByteType:()=>_C,Cache:()=>Gf,Camera:()=>Vo,CameraHelper:()=>SL,CanvasRenderer:()=>tH,CanvasTexture:()=>im,CatmullRomCurve3:()=>d_,CineonToneMapping:()=>gC,CircleBufferGeometry:()=>rd,CircleGeometry:()=>rd,ClampToEdgeWrapping:()=>qr,Clock:()=>vm,Color:()=>bt,ColorKeyframeTrack:()=>C_,CompressedTexture:()=>s_,CompressedTextureLoader:()=>jP,ConeBufferGeometry:()=>id,ConeGeometry:()=>id,CubeCamera:()=>H0,CubeReflectionMapping:()=>yf,CubeRefractionMapping:()=>xf,CubeTexture:()=>Lf,CubeTextureLoader:()=>oE,CubeUVReflectionMapping:()=>Th,CubeUVRefractionMapping:()=>M0,CubicBezierCurve:()=>om,CubicBezierCurve3:()=>p_,CubicInterpolant:()=>iE,CullFaceBack:()=>Pb,CullFaceFront:()=>ZA,CullFaceFrontBack:()=>dk,CullFaceNone:()=>jA,Curve:()=>ji,CurvePath:()=>tE,CustomBlending:()=>XA,CustomToneMapping:()=>vC,CylinderBufferGeometry:()=>su,CylinderGeometry:()=>su,Cylindrical:()=>fL,DataTexture:()=>ru,DataTexture2DArray:()=>V0,DataTexture3D:()=>Z1,DataTextureLoader:()=>lE,DataUtils:()=>LL,DecrementStencilOp:()=>Mk,DecrementWrapStencilOp:()=>Ak,DefaultLoadingManager:()=>Wf,DepthFormat:()=>Gl,DepthStencilFormat:()=>Sf,DepthTexture:()=>Y0,DirectionalLight:()=>O_,DirectionalLightHelper:()=>EL,DiscreteInterpolant:()=>aE,DodecahedronBufferGeometry:()=>ad,DodecahedronGeometry:()=>ad,DoubleSide:()=>vf,DstAlphaFactor:()=>eC,DstColorFactor:()=>nC,DynamicBufferAttribute:()=>B9,DynamicCopyUsage:()=>Hk,DynamicDrawUsage:()=>Rh,DynamicReadUsage:()=>Bk,EdgesGeometry:()=>f_,EdgesHelper:()=>Q9,EllipseCurve:()=>sd,EqualDepth:()=>lC,EqualStencilFunc:()=>Lk,EquirectangularReflectionMapping:()=>E0,EquirectangularRefractionMapping:()=>S0,Euler:()=>Us,EventDispatcher:()=>ns,ExtrudeBufferGeometry:()=>Zs,ExtrudeGeometry:()=>Zs,FaceColors:()=>A9,FileLoader:()=>fs,FlatShading:()=>Ib,Float16BufferAttribute:()=>T2,Float32Attribute:()=>Z9,Float32BufferAttribute:()=>Ot,Float64Attribute:()=>X9,Float64BufferAttribute:()=>A2,FloatType:()=>zs,Fog:()=>Jh,FogExp2:()=>Qh,Font:()=>lH,FontLoader:()=>oH,FrontSide:()=>gf,Frustum:()=>jh,GLBufferAttribute:()=>AE,GLSL1:()=>Wk,GLSL3:()=>t2,GammaEncoding:()=>b1,GreaterDepth:()=>fC,GreaterEqualDepth:()=>uC,GreaterEqualStencilFunc:()=>Nk,GreaterStencilFunc:()=>Dk,GridHelper:()=>IE,Group:()=>tu,HalfFloatType:()=>bf,HemisphereLight:()=>P_,HemisphereLightHelper:()=>yL,HemisphereLightProbe:()=>_E,IcosahedronBufferGeometry:()=>fd,IcosahedronGeometry:()=>fd,ImageBitmapLoader:()=>mE,ImageLoader:()=>xd,ImageUtils:()=>Vl,ImmediateRenderObject:()=>uH,IncrementStencilOp:()=>Sk,IncrementWrapStencilOp:()=>Tk,InstancedBufferAttribute:()=>iu,InstancedBufferGeometry:()=>B_,InstancedInterleavedBuffer:()=>TE,InstancedMesh:()=>t_,Int16Attribute:()=>G9,Int16BufferAttribute:()=>S2,Int32Attribute:()=>V9,Int32BufferAttribute:()=>M2,Int8Attribute:()=>z9,Int8BufferAttribute:()=>w2,IntType:()=>xC,InterleavedBuffer:()=>nu,InterleavedBufferAttribute:()=>jo,Interpolant:()=>Xs,InterpolateDiscrete:()=>R0,InterpolateLinear:()=>P0,InterpolateSmooth:()=>x1,InvertStencilOp:()=>Ck,JSONLoader:()=>nH,KeepStencilOp:()=>S1,KeyframeTrack:()=>Ia,LOD:()=>V2,LatheBufferGeometry:()=>cd,LatheGeometry:()=>cd,Layers:()=>ql,LensFlare:()=>iH,LessDepth:()=>oC,LessEqualDepth:()=>m1,LessEqualStencilFunc:()=>Ik,LessStencilFunc:()=>Pk,Light:()=>Da,LightProbe:()=>wd,Line:()=>Vs,Line3:()=>RE,LineBasicMaterial:()=>Nr,LineCurve:()=>od,LineCurve3:()=>$2,LineDashedMaterial:()=>T_,LineLoop:()=>r_,LinePieces:()=>M9,LineSegments:()=>Mi,LineStrip:()=>S9,LinearEncoding:()=>Jr,LinearFilter:()=>Dr,LinearInterpolant:()=>A_,LinearMipMapLinearFilter:()=>yk,LinearMipMapNearestFilter:()=>_k,LinearMipmapLinearFilter:()=>wf,LinearMipmapNearestFilter:()=>Ub,LinearToneMapping:()=>pC,Loader:()=>vi,LoaderUtils:()=>gm,LoadingManager:()=>R_,LoopOnce:()=>fR,LoopPingPong:()=>hR,LoopRepeat:()=>cR,LuminanceAlphaFormat:()=>TC,LuminanceFormat:()=>MC,MOUSE:()=>Ra,Material:()=>Or,MaterialLoader:()=>dE,Math:()=>rF,MathUtils:()=>rF,Matrix3:()=>Cr,Matrix4:()=>Nt,MaxEquation:()=>Fb,Mesh:()=>br,MeshBasicMaterial:()=>Hs,MeshDepthMaterial:()=>Z0,MeshDistanceMaterial:()=>X0,MeshFaceMaterial:()=>R9,MeshLambertMaterial:()=>S_,MeshMatcapMaterial:()=>M_,MeshNormalMaterial:()=>E_,MeshPhongMaterial:()=>w_,MeshPhysicalMaterial:()=>x_,MeshStandardMaterial:()=>pm,MeshToonMaterial:()=>b_,MinEquation:()=>kb,MirroredRepeatWrapping:()=>A0,MixOperation:()=>hC,MultiMaterial:()=>P9,MultiplyBlending:()=>Nb,MultiplyOperation:()=>b0,NearestFilter:()=>Ar,NearestMipMapLinearFilter:()=>vk,NearestMipMapNearestFilter:()=>gk,NearestMipmapLinearFilter:()=>y1,NearestMipmapNearestFilter:()=>_1,NeverDepth:()=>aC,NeverStencilFunc:()=>Rk,NoBlending:()=>Oo,NoColors:()=>T9,NoToneMapping:()=>Bs,NormalAnimationBlendMode:()=>w1,NormalBlending:()=>Mh,NotEqualDepth:()=>cC,NotEqualStencilFunc:()=>Ok,NumberKeyframeTrack:()=>vd,Object3D:()=>fn,ObjectLoader:()=>QP,ObjectSpaceNormalMap:()=>gR,OctahedronBufferGeometry:()=>Bf,OctahedronGeometry:()=>Bf,OneFactor:()=>JA,OneMinusDstAlphaFactor:()=>tC,OneMinusDstColorFactor:()=>rC,OneMinusSrcAlphaFactor:()=>zb,OneMinusSrcColorFactor:()=>$A,OrthographicCamera:()=>La,PCFShadowMap:()=>Lb,PCFSoftShadowMap:()=>p1,PMREMGenerator:()=>F2,ParametricGeometry:()=>aH,Particle:()=>I9,ParticleBasicMaterial:()=>N9,ParticleSystem:()=>D9,ParticleSystemMaterial:()=>k9,Path:()=>ld,PerspectiveCamera:()=>Bn,Plane:()=>ss,PlaneBufferGeometry:()=>If,PlaneGeometry:()=>If,PlaneHelper:()=>TL,PointCloud:()=>L9,PointCloudMaterial:()=>O9,PointLight:()=>D_,PointLightHelper:()=>gL,Points:()=>nd,PointsMaterial:()=>au,PolarGridHelper:()=>xL,PolyhedronBufferGeometry:()=>js,PolyhedronGeometry:()=>js,PositionalAudio:()=>sL,PropertyBinding:()=>yn,PropertyMixer:()=>wE,QuadraticBezierCurve:()=>lm,QuadraticBezierCurve3:()=>um,Quaternion:()=>wr,QuaternionKeyframeTrack:()=>Hf,QuaternionLinearInterpolant:()=>sE,REVISION:()=>d1,RGBADepthPacking:()=>mR,RGBAFormat:()=>Qr,RGBAIntegerFormat:()=>DC,RGBA_ASTC_10x10_Format:()=>ZC,RGBA_ASTC_10x5_Format:()=>WC,RGBA_ASTC_10x6_Format:()=>VC,RGBA_ASTC_10x8_Format:()=>jC,RGBA_ASTC_12x10_Format:()=>XC,RGBA_ASTC_12x12_Format:()=>YC,RGBA_ASTC_4x4_Format:()=>NC,RGBA_ASTC_5x4_Format:()=>kC,RGBA_ASTC_5x5_Format:()=>FC,RGBA_ASTC_6x5_Format:()=>BC,RGBA_ASTC_6x6_Format:()=>zC,RGBA_ASTC_8x5_Format:()=>UC,RGBA_ASTC_8x6_Format:()=>HC,RGBA_ASTC_8x8_Format:()=>GC,RGBA_BPTC_Format:()=>qC,RGBA_ETC2_EAC_Format:()=>Qb,RGBA_PVRTC_2BPPV1_Format:()=>Yb,RGBA_PVRTC_4BPPV1_Format:()=>Xb,RGBA_S3TC_DXT1_Format:()=>Gb,RGBA_S3TC_DXT3_Format:()=>Wb,RGBA_S3TC_DXT5_Format:()=>Vb,RGBDEncoding:()=>e2,RGBEEncoding:()=>E1,RGBEFormat:()=>AC,RGBFormat:()=>Hl,RGBIntegerFormat:()=>IC,RGBM16Encoding:()=>$b,RGBM7Encoding:()=>Kb,RGB_ETC1_Format:()=>OC,RGB_ETC2_Format:()=>qb,RGB_PVRTC_2BPPV1_Format:()=>Zb,RGB_PVRTC_4BPPV1_Format:()=>jb,RGB_S3TC_DXT1_Format:()=>Hb,RGFormat:()=>PC,RGIntegerFormat:()=>LC,RawShaderMaterial:()=>Df,Ray:()=>zo,Raycaster:()=>H_,RectAreaLight:()=>k_,RedFormat:()=>CC,RedIntegerFormat:()=>RC,ReinhardToneMapping:()=>mC,RepeatWrapping:()=>T0,ReplaceStencilOp:()=>Ek,ReverseSubtractEquation:()=>qA,RingBufferGeometry:()=>hd,RingGeometry:()=>hd,SRGB8_ALPHA8_ASTC_10x10_Format:()=>oR,SRGB8_ALPHA8_ASTC_10x5_Format:()=>iR,SRGB8_ALPHA8_ASTC_10x6_Format:()=>aR,SRGB8_ALPHA8_ASTC_10x8_Format:()=>sR,SRGB8_ALPHA8_ASTC_12x10_Format:()=>lR,SRGB8_ALPHA8_ASTC_12x12_Format:()=>uR,SRGB8_ALPHA8_ASTC_4x4_Format:()=>QC,SRGB8_ALPHA8_ASTC_5x4_Format:()=>JC,SRGB8_ALPHA8_ASTC_5x5_Format:()=>KC,SRGB8_ALPHA8_ASTC_6x5_Format:()=>$C,SRGB8_ALPHA8_ASTC_6x6_Format:()=>eR,SRGB8_ALPHA8_ASTC_8x5_Format:()=>tR,SRGB8_ALPHA8_ASTC_8x6_Format:()=>nR,SRGB8_ALPHA8_ASTC_8x8_Format:()=>rR,Scene:()=>Ff,SceneUtils:()=>rH,ShaderChunk:()=>cn,ShaderLib:()=>os,ShaderMaterial:()=>Gs,ShadowMaterial:()=>y_,Shape:()=>ls,ShapeBufferGeometry:()=>zf,ShapeGeometry:()=>zf,ShapePath:()=>RL,ShapeUtils:()=>us,ShortType:()=>yC,Skeleton:()=>nm,SkeletonHelper:()=>LE,SkinnedMesh:()=>em,SmoothShading:()=>mk,Sphere:()=>Fo,SphereBufferGeometry:()=>Uf,SphereGeometry:()=>Uf,Spherical:()=>ym,SphericalHarmonics3:()=>F_,SplineCurve:()=>fm,SpotLight:()=>I_,SpotLightHelper:()=>pL,Sprite:()=>$0,SpriteMaterial:()=>q0,SrcAlphaFactor:()=>Bb,SrcAlphaSaturateFactor:()=>iC,SrcColorFactor:()=>KA,StaticCopyUsage:()=>Uk,StaticDrawUsage:()=>Ch,StaticReadUsage:()=>Fk,StereoCamera:()=>tL,StreamCopyUsage:()=>Gk,StreamDrawUsage:()=>kk,StreamReadUsage:()=>zk,StringKeyframeTrack:()=>uu,SubtractEquation:()=>YA,SubtractiveBlending:()=>Ob,TOUCH:()=>Ul,TangentSpaceNormalMap:()=>Af,TetrahedronBufferGeometry:()=>dd,TetrahedronGeometry:()=>dd,TextGeometry:()=>sH,Texture:()=>er,TextureLoader:()=>Vf,TorusBufferGeometry:()=>pd,TorusGeometry:()=>pd,TorusKnotBufferGeometry:()=>md,TorusKnotGeometry:()=>md,Triangle:()=>mr,TriangleFanDrawMode:()=>wk,TriangleStripDrawMode:()=>xk,TrianglesDrawMode:()=>dR,TubeBufferGeometry:()=>gd,TubeGeometry:()=>gd,UVMapping:()=>v1,Uint16Attribute:()=>W9,Uint16BufferAttribute:()=>B0,Uint32Attribute:()=>j9,Uint32BufferAttribute:()=>z0,Uint8Attribute:()=>U9,Uint8BufferAttribute:()=>b2,Uint8ClampedAttribute:()=>H9,Uint8ClampedBufferAttribute:()=>E2,Uniform:()=>_m,UniformsLib:()=>Et,UniformsUtils:()=>OR,UnsignedByteType:()=>No,UnsignedInt248Type:()=>Ef,UnsignedIntType:()=>C0,UnsignedShort4444Type:()=>wC,UnsignedShort5551Type:()=>bC,UnsignedShort565Type:()=>EC,UnsignedShortType:()=>Ah,VSMShadowMap:()=>Sh,Vector2:()=>ft,Vector3:()=>Ce,Vector4:()=>Dn,VectorKeyframeTrack:()=>_d,Vertex:()=>F9,VertexColors:()=>C9,VideoTexture:()=>X2,WebGL1Renderer:()=>G2,WebGLCubeRenderTarget:()=>G0,WebGLMultipleRenderTargets:()=>a2,WebGLMultisampleRenderTarget:()=>O0,WebGLRenderTarget:()=>Wi,WebGLRenderTargetCube:()=>eH,WebGLRenderer:()=>Cn,WebGLUtils:()=>mP,WireframeGeometry:()=>__,WireframeHelper:()=>J9,WrapAroundEnding:()=>L0,XHRLoader:()=>K9,ZeroCurvatureEnding:()=>Mf,ZeroFactor:()=>QA,ZeroSlopeEnding:()=>Tf,ZeroStencilOp:()=>bk,sRGBEncoding:()=>Wl});var d1="135",Ra={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ul={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jA=0,Pb=1,ZA=2,dk=3,pk=0,Lb=1,p1=2,Sh=3,gf=0,or=1,vf=2,Ib=1,mk=2,Oo=0,Mh=1,Db=2,Ob=3,Nb=4,XA=5,_f=100,YA=101,qA=102,kb=103,Fb=104,QA=200,JA=201,KA=202,$A=203,Bb=204,zb=205,eC=206,tC=207,nC=208,rC=209,iC=210,aC=0,sC=1,oC=2,m1=3,lC=4,uC=5,fC=6,cC=7,b0=0,hC=1,dC=2,Bs=0,pC=1,mC=2,gC=3,g1=4,vC=5,v1=300,yf=301,xf=302,E0=303,S0=304,Th=306,M0=307,T0=1e3,qr=1001,A0=1002,Ar=1003,_1=1004,gk=1004,y1=1005,vk=1005,Dr=1006,Ub=1007,_k=1007,wf=1008,yk=1008,No=1009,_C=1010,yC=1011,Ah=1012,xC=1013,C0=1014,zs=1015,bf=1016,wC=1017,bC=1018,EC=1019,Ef=1020,SC=1021,Hl=1022,Qr=1023,MC=1024,TC=1025,AC=Qr,Gl=1026,Sf=1027,CC=1028,RC=1029,PC=1030,LC=1031,IC=1032,DC=1033,Hb=33776,Gb=33777,Wb=33778,Vb=33779,jb=35840,Zb=35841,Xb=35842,Yb=35843,OC=36196,qb=37492,Qb=37496,NC=37808,kC=37809,FC=37810,BC=37811,zC=37812,UC=37813,HC=37814,GC=37815,WC=37816,VC=37817,jC=37818,ZC=37819,XC=37820,YC=37821,qC=36492,QC=37840,JC=37841,KC=37842,$C=37843,eR=37844,tR=37845,nR=37846,rR=37847,iR=37848,aR=37849,sR=37850,oR=37851,lR=37852,uR=37853,fR=2200,cR=2201,hR=2202,R0=2300,P0=2301,x1=2302,Mf=2400,Tf=2401,L0=2402,w1=2500,Jb=2501,dR=0,xk=1,wk=2,Jr=3e3,Wl=3001,b1=3007,E1=3002,Kb=3004,$b=3005,e2=3006,pR=3200,mR=3201,Af=0,gR=1,bk=0,S1=7680,Ek=7681,Sk=7682,Mk=7683,Tk=34055,Ak=34056,Ck=5386,Rk=512,Pk=513,Lk=514,Ik=515,Dk=516,Ok=517,Nk=518,vR=519,Ch=35044,Rh=35048,kk=35040,Fk=35045,Bk=35049,zk=35041,Uk=35046,Hk=35050,Gk=35042,Wk="100",t2="300 es",ns=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let r=this._listeners[e.type];if(r!==void 0){e.target=this;let i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}},Kr=[];for(let n=0;n<256;n++)Kr[n]=(n<16?"0":"")+n.toString(16);var M1=1234567,Cf=Math.PI/180,I0=180/Math.PI;function ea(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Kr[n&255]+Kr[n>>8&255]+Kr[n>>16&255]+Kr[n>>24&255]+"-"+Kr[e&255]+Kr[e>>8&255]+"-"+Kr[e>>16&15|64]+Kr[e>>24&255]+"-"+Kr[t&63|128]+Kr[t>>8&255]+"-"+Kr[t>>16&255]+Kr[t>>24&255]+Kr[r&255]+Kr[r>>8&255]+Kr[r>>16&255]+Kr[r>>24&255]).toUpperCase()}function $r(n,e,t){return Math.max(e,Math.min(t,n))}function n2(n,e){return(n%e+e)%e}function Vk(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function jk(n,e,t){return n!==e?(t-n)/(e-n):0}function D0(n,e,t){return(1-t)*n+t*e}function Zk(n,e,t,r){return D0(n,e,1-Math.exp(-t*r))}function Xk(n,e=1){return e-Math.abs(n2(n,e*2)-e)}function Yk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function qk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Qk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Jk(n,e){return n+Math.random()*(e-n)}function Kk(n){return n*(.5-Math.random())}function $k(n){return n!==void 0&&(M1=n%2147483647),M1=M1*16807%2147483647,(M1-1)/2147483646}function eF(n){return n*Cf}function tF(n){return n*I0}function r2(n){return(n&n-1)==0&&n!==0}function _R(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function yR(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nF(n,e,t,r,i){let a=Math.cos,s=Math.sin,o=a(t/2),c=s(t/2),g=a((e+r)/2),p=s((e+r)/2),d=a((e-r)/2),u=s((e-r)/2),f=a((r-e)/2),l=s((r-e)/2);switch(i){case"XYX":n.set(o*p,c*d,c*u,o*g);break;case"YZY":n.set(c*u,o*p,c*d,o*g);break;case"ZXZ":n.set(c*d,c*u,o*p,o*g);break;case"XZX":n.set(o*p,c*l,c*f,o*g);break;case"YXY":n.set(c*f,o*p,c*l,o*g);break;case"ZYZ":n.set(c*l,c*f,o*p,o*g);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var rF=Object.freeze({__proto__:null,DEG2RAD:Cf,RAD2DEG:I0,generateUUID:ea,clamp:$r,euclideanModulo:n2,mapLinear:Vk,inverseLerp:jk,lerp:D0,damp:Zk,pingpong:Xk,smoothstep:Yk,smootherstep:qk,randInt:Qk,randFloat:Jk,randFloatSpread:Kk,seededRandom:$k,degToRad:eF,radToDeg:tF,isPowerOfTwo:r2,ceilPowerOfTwo:_R,floorPowerOfTwo:yR,setQuaternionFromProperEuler:nF}),ft=class{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};ft.prototype.isVector2=!0;var Cr=class{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,a,s,o,c,g){let p=this.elements;return p[0]=e,p[1]=i,p[2]=o,p[3]=t,p[4]=a,p[5]=c,p[6]=r,p[7]=s,p[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],c=r[6],g=r[1],p=r[4],d=r[7],u=r[2],f=r[5],l=r[8],v=i[0],y=i[3],h=i[6],m=i[1],_=i[4],w=i[7],E=i[2],T=i[5],A=i[8];return a[0]=s*v+o*m+c*E,a[3]=s*y+o*_+c*T,a[6]=s*h+o*w+c*A,a[1]=g*v+p*m+d*E,a[4]=g*y+p*_+d*T,a[7]=g*h+p*w+d*A,a[2]=u*v+f*m+l*E,a[5]=u*y+f*_+l*T,a[8]=u*h+f*w+l*A,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],g=e[7],p=e[8];return t*s*p-t*o*g-r*a*p+r*o*c+i*a*g-i*s*c}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],g=e[7],p=e[8],d=p*s-o*g,u=o*c-p*a,f=g*a-s*c,l=t*d+r*u+i*f;if(l===0)return this.set(0,0,0,0,0,0,0,0,0);let v=1/l;return e[0]=d*v,e[1]=(i*g-p*r)*v,e[2]=(o*r-i*s)*v,e[3]=u*v,e[4]=(p*t-i*c)*v,e[5]=(i*a-o*t)*v,e[6]=f*v,e[7]=(r*c-g*t)*v,e[8]=(s*t-r*a)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){let c=Math.cos(a),g=Math.sin(a);return this.set(r*c,r*g,-r*(c*s+g*o)+s+e,-i*g,i*c,-i*(-g*s+c*o)+o+t,0,0,1),this}scale(e,t){let r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.elements,a=i[0],s=i[3],o=i[6],c=i[1],g=i[4],p=i[7];return i[0]=t*a+r*c,i[3]=t*s+r*g,i[6]=t*o+r*p,i[1]=-r*a+t*c,i[4]=-r*s+t*g,i[7]=-r*o+t*p,this}translate(e,t){let r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};Cr.prototype.isMatrix3=!0;function xR(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}var iF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ph(n,e){return new iF[n](e)}function T1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function wR(n,e=0){let t=3735928559^e,r=1103547991^e;for(let i=0,a;i<n.length;i++)a=n.charCodeAt(i),t=Math.imul(t^a,2654435761),r=Math.imul(r^a,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&r)+(t>>>0)}var Lh,Vl=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Lh===void 0&&(Lh=T1("canvas")),Lh.width=e.width,Lh.height=e.height;let r=Lh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Lh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},aF=0,er=class extends ns{constructor(e=er.DEFAULT_IMAGE,t=er.DEFAULT_MAPPING,r=qr,i=qr,a=Dr,s=wf,o=Qr,c=No,g=1,p=Jr){super();Object.defineProperty(this,"id",{value:aF++}),this.uuid=ea(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=g,this.format=o,this.internalFormat=null,this.type=c,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let i=this.image;if(i.uuid===void 0&&(i.uuid=ea()),!t&&e.images[i.uuid]===void 0){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(i2(i[s].image)):a.push(i2(i[s]))}else a=i2(i);e.images[i.uuid]={uuid:i.uuid,url:a}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==v1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case T0:e.x=e.x-Math.floor(e.x);break;case qr:e.x=e.x<0?0:1;break;case A0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case T0:e.y=e.y-Math.floor(e.y);break;case qr:e.y=e.y<0?0:1;break;case A0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};er.DEFAULT_IMAGE=void 0;er.DEFAULT_MAPPING=v1;er.prototype.isTexture=!0;function i2(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Vl.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Dn=class{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a,s=.01,o=.1,c=e.elements,g=c[0],p=c[4],d=c[8],u=c[1],f=c[5],l=c[9],v=c[2],y=c[6],h=c[10];if(Math.abs(p-u)<s&&Math.abs(d-v)<s&&Math.abs(l-y)<s){if(Math.abs(p+u)<o&&Math.abs(d+v)<o&&Math.abs(l+y)<o&&Math.abs(g+f+h-3)<o)return this.set(1,0,0,0),this;t=Math.PI;let _=(g+1)/2,w=(f+1)/2,E=(h+1)/2,T=(p+u)/4,A=(d+v)/4,C=(l+y)/4;return _>w&&_>E?_<s?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=T/r,a=A/r):w>E?w<s?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(w),r=T/i,a=C/i):E<s?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(E),r=A/a,i=C/a),this.set(r,i,a,t),this}let m=Math.sqrt((y-l)*(y-l)+(d-v)*(d-v)+(u-p)*(u-p));return Math.abs(m)<.001&&(m=1),this.x=(y-l)/m,this.y=(d-v)/m,this.z=(u-p)/m,this.w=Math.acos((g+f+h-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};Dn.prototype.isVector4=!0;var Wi=class extends ns{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Dn(0,0,e,t),this.scissorTest=!1,this.viewport=new Dn(0,0,e,t),this.texture=new er(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Dr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}};Wi.prototype.isWebGLRenderTarget=!0;var a2=class extends Wi{constructor(e,t,r){super(e,t);let i=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}};a2.prototype.isWebGLMultipleRenderTargets=!0;var O0=class extends Wi{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}};O0.prototype.isWebGLMultisampleRenderTarget=!0;var wr=class{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,a,s,o){let c=r[i+0],g=r[i+1],p=r[i+2],d=r[i+3],u=a[s+0],f=a[s+1],l=a[s+2],v=a[s+3];if(o===0){e[t+0]=c,e[t+1]=g,e[t+2]=p,e[t+3]=d;return}if(o===1){e[t+0]=u,e[t+1]=f,e[t+2]=l,e[t+3]=v;return}if(d!==v||c!==u||g!==f||p!==l){let y=1-o,h=c*u+g*f+p*l+d*v,m=h>=0?1:-1,_=1-h*h;if(_>Number.EPSILON){let E=Math.sqrt(_),T=Math.atan2(E,h*m);y=Math.sin(y*T)/E,o=Math.sin(o*T)/E}let w=o*m;if(c=c*y+u*w,g=g*y+f*w,p=p*y+l*w,d=d*y+v*w,y===1-o){let E=1/Math.sqrt(c*c+g*g+p*p+d*d);c*=E,g*=E,p*=E,d*=E}}e[t]=c,e[t+1]=g,e[t+2]=p,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){let o=r[i],c=r[i+1],g=r[i+2],p=r[i+3],d=a[s],u=a[s+1],f=a[s+2],l=a[s+3];return e[t]=o*l+p*d+c*f-g*u,e[t+1]=c*l+p*u+g*d-o*f,e[t+2]=g*l+p*f+o*u-c*d,e[t+3]=p*l-o*d-c*u-g*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,g=o(r/2),p=o(i/2),d=o(a/2),u=c(r/2),f=c(i/2),l=c(a/2);switch(s){case"XYZ":this._x=u*p*d+g*f*l,this._y=g*f*d-u*p*l,this._z=g*p*l+u*f*d,this._w=g*p*d-u*f*l;break;case"YXZ":this._x=u*p*d+g*f*l,this._y=g*f*d-u*p*l,this._z=g*p*l-u*f*d,this._w=g*p*d+u*f*l;break;case"ZXY":this._x=u*p*d-g*f*l,this._y=g*f*d+u*p*l,this._z=g*p*l+u*f*d,this._w=g*p*d-u*f*l;break;case"ZYX":this._x=u*p*d-g*f*l,this._y=g*f*d+u*p*l,this._z=g*p*l-u*f*d,this._w=g*p*d+u*f*l;break;case"YZX":this._x=u*p*d+g*f*l,this._y=g*f*d+u*p*l,this._z=g*p*l-u*f*d,this._w=g*p*d-u*f*l;break;case"XZY":this._x=u*p*d-g*f*l,this._y=g*f*d-u*p*l,this._z=g*p*l+u*f*d,this._w=g*p*d+u*f*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],c=t[9],g=t[2],p=t[6],d=t[10],u=r+o+d;if(u>0){let f=.5/Math.sqrt(u+1);this._w=.25/f,this._x=(p-c)*f,this._y=(a-g)*f,this._z=(s-i)*f}else if(r>o&&r>d){let f=2*Math.sqrt(1+r-o-d);this._w=(p-c)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(a+g)/f}else if(o>d){let f=2*Math.sqrt(1+o-r-d);this._w=(a-g)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(c+p)/f}else{let f=2*Math.sqrt(1+d-r-o);this._w=(s-i)/f,this._x=(a+g)/f,this._y=(c+p)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($r(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,c=t._y,g=t._z,p=t._w;return this._x=r*p+s*o+i*g-a*c,this._y=i*p+s*c+a*o-r*g,this._z=a*p+s*g+r*c-i*o,this._w=s*p-r*o-i*c-a*g,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,a=this._z,s=this._w,o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;let c=1-o*o;if(c<=Number.EPSILON){let f=1-t;return this._w=f*s+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*a+t*this._z,this.normalize(),this._onChangeCallback(),this}let g=Math.sqrt(c),p=Math.atan2(g,o),d=Math.sin((1-t)*p)/g,u=Math.sin(t*p)/g;return this._w=s*d+this._w*u,this._x=r*d+this._x*u,this._y=i*d+this._y*u,this._z=a*d+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};wr.prototype.isQuaternion=!0;var Ce=class{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(bR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bR.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,c=e.w,g=c*t+s*i-o*r,p=c*r+o*t-a*i,d=c*i+a*r-s*t,u=-a*t-s*r-o*i;return this.x=g*c+u*-a+p*-o-d*-s,this.y=p*c+u*-s+d*-a-g*-o,this.z=d*c+u*-o+g*-s-p*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,c=t.z;return this.x=i*c-a*o,this.y=a*s-r*c,this.z=r*o-i*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return s2.copy(this).projectOnVector(e),this.sub(s2)}reflect(e){return this.sub(s2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos($r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};Ce.prototype.isVector3=!0;var s2=new Ce,bR=new wr,Vi=class{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let c=0,g=e.length;c<g;c+=3){let p=e[c],d=e[c+1],u=e[c+2];p<t&&(t=p),d<r&&(r=d),u<i&&(i=u),p>a&&(a=p),d>s&&(s=d),u>o&&(o=u)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let c=0,g=e.count;c<g;c++){let p=e.getX(c),d=e.getY(c),u=e.getZ(c);p<t&&(t=p),d<r&&(r=d),u<i&&(i=u),p>a&&(a=p),d>s&&(s=d),u>o&&(o=u)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=N0.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);let t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),o2.copy(t.boundingBox),o2.applyMatrix4(e.matrixWorld),this.union(o2));let r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,N0),N0.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(k0),A1.subVectors(this.max,k0),Ih.subVectors(e.a,k0),Dh.subVectors(e.b,k0),Oh.subVectors(e.c,k0),jl.subVectors(Dh,Ih),Zl.subVectors(Oh,Dh),Rf.subVectors(Ih,Oh);let t=[0,-jl.z,jl.y,0,-Zl.z,Zl.y,0,-Rf.z,Rf.y,jl.z,0,-jl.x,Zl.z,0,-Zl.x,Rf.z,0,-Rf.x,-jl.y,jl.x,0,-Zl.y,Zl.x,0,-Rf.y,Rf.x,0];return!l2(t,Ih,Dh,Oh,A1)||(t=[1,0,0,0,1,0,0,0,1],!l2(t,Ih,Dh,Oh,A1))?!1:(C1.crossVectors(jl,Zl),t=[C1.x,C1.y,C1.z],l2(t,Ih,Dh,Oh,A1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return N0.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(N0).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ko),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Vi.prototype.isBox3=!0;var ko=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],N0=new Ce,o2=new Vi,Ih=new Ce,Dh=new Ce,Oh=new Ce,jl=new Ce,Zl=new Ce,Rf=new Ce,k0=new Ce,A1=new Ce,C1=new Ce,Pf=new Ce;function l2(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){Pf.fromArray(n,a);let o=i.x*Math.abs(Pf.x)+i.y*Math.abs(Pf.y)+i.z*Math.abs(Pf.z),c=e.dot(Pf),g=t.dot(Pf),p=r.dot(Pf);if(Math.max(-Math.max(c,g,p),Math.min(c,g,p))>o)return!1}return!0}var sF=new Vi,ER=new Ce,u2=new Ce,f2=new Ce,Fo=class{constructor(e=new Ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):sF.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){f2.subVectors(e,this.center);let t=f2.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(f2.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return u2.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(ER.copy(e.center).add(u2)),this.expandByPoint(ER.copy(e.center).sub(u2)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},Bo=new Ce,c2=new Ce,R1=new Ce,Xl=new Ce,h2=new Ce,P1=new Ce,d2=new Ce,zo=class{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Bo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Bo.copy(this.direction).multiplyScalar(t).add(this.origin),Bo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){c2.copy(e).add(t).multiplyScalar(.5),R1.copy(t).sub(e).normalize(),Xl.copy(this.origin).sub(c2);let a=e.distanceTo(t)*.5,s=-this.direction.dot(R1),o=Xl.dot(this.direction),c=-Xl.dot(R1),g=Xl.lengthSq(),p=Math.abs(1-s*s),d,u,f,l;if(p>0)if(d=s*c-o,u=s*o-c,l=a*p,d>=0)if(u>=-l)if(u<=l){let v=1/p;d*=v,u*=v,f=d*(d+s*u+2*o)+u*(s*d+u+2*c)+g}else u=a,d=Math.max(0,-(s*u+o)),f=-d*d+u*(u+2*c)+g;else u=-a,d=Math.max(0,-(s*u+o)),f=-d*d+u*(u+2*c)+g;else u<=-l?(d=Math.max(0,-(-s*a+o)),u=d>0?-a:Math.min(Math.max(-a,-c),a),f=-d*d+u*(u+2*c)+g):u<=l?(d=0,u=Math.min(Math.max(-a,-c),a),f=u*(u+2*c)+g):(d=Math.max(0,-(s*a+o)),u=d>0?a:Math.min(Math.max(-a,-c),a),f=-d*d+u*(u+2*c)+g);else u=s>0?-a:a,d=Math.max(0,-(s*u+o)),f=-d*d+u*(u+2*c)+g;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(R1).multiplyScalar(u).add(c2),f}intersectSphere(e,t){Bo.subVectors(e.center,this.origin);let r=Bo.dot(this.direction),i=Bo.dot(Bo)-r*r,a=e.radius*e.radius;if(i>a)return null;let s=Math.sqrt(a-i),o=r-s,c=r+s;return o<0&&c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,c,g=1/this.direction.x,p=1/this.direction.y,d=1/this.direction.z,u=this.origin;return g>=0?(r=(e.min.x-u.x)*g,i=(e.max.x-u.x)*g):(r=(e.max.x-u.x)*g,i=(e.min.x-u.x)*g),p>=0?(a=(e.min.y-u.y)*p,s=(e.max.y-u.y)*p):(a=(e.max.y-u.y)*p,s=(e.min.y-u.y)*p),r>s||a>i||((a>r||r!==r)&&(r=a),(s<i||i!==i)&&(i=s),d>=0?(o=(e.min.z-u.z)*d,c=(e.max.z-u.z)*d):(o=(e.max.z-u.z)*d,c=(e.min.z-u.z)*d),r>c||o>i)||((o>r||r!==r)&&(r=o),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Bo)!==null}intersectTriangle(e,t,r,i,a){h2.subVectors(t,e),P1.subVectors(r,e),d2.crossVectors(h2,P1);let s=this.direction.dot(d2),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Xl.subVectors(this.origin,e);let c=o*this.direction.dot(P1.crossVectors(Xl,P1));if(c<0)return null;let g=o*this.direction.dot(h2.cross(Xl));if(g<0||c+g>s)return null;let p=-o*Xl.dot(d2);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Nt=class{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,a,s,o,c,g,p,d,u,f,l,v,y){let h=this.elements;return h[0]=e,h[4]=t,h[8]=r,h[12]=i,h[1]=a,h[5]=s,h[9]=o,h[13]=c,h[2]=g,h[6]=p,h[10]=d,h[14]=u,h[3]=f,h[7]=l,h[11]=v,h[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,i=1/Nh.setFromMatrixColumn(e,0).length(),a=1/Nh.setFromMatrixColumn(e,1).length(),s=1/Nh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),c=Math.cos(i),g=Math.sin(i),p=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){let u=s*p,f=s*d,l=o*p,v=o*d;t[0]=c*p,t[4]=-c*d,t[8]=g,t[1]=f+l*g,t[5]=u-v*g,t[9]=-o*c,t[2]=v-u*g,t[6]=l+f*g,t[10]=s*c}else if(e.order==="YXZ"){let u=c*p,f=c*d,l=g*p,v=g*d;t[0]=u+v*o,t[4]=l*o-f,t[8]=s*g,t[1]=s*d,t[5]=s*p,t[9]=-o,t[2]=f*o-l,t[6]=v+u*o,t[10]=s*c}else if(e.order==="ZXY"){let u=c*p,f=c*d,l=g*p,v=g*d;t[0]=u-v*o,t[4]=-s*d,t[8]=l+f*o,t[1]=f+l*o,t[5]=s*p,t[9]=v-u*o,t[2]=-s*g,t[6]=o,t[10]=s*c}else if(e.order==="ZYX"){let u=s*p,f=s*d,l=o*p,v=o*d;t[0]=c*p,t[4]=l*g-f,t[8]=u*g+v,t[1]=c*d,t[5]=v*g+u,t[9]=f*g-l,t[2]=-g,t[6]=o*c,t[10]=s*c}else if(e.order==="YZX"){let u=s*c,f=s*g,l=o*c,v=o*g;t[0]=c*p,t[4]=v-u*d,t[8]=l*d+f,t[1]=d,t[5]=s*p,t[9]=-o*p,t[2]=-g*p,t[6]=f*d+l,t[10]=u-v*d}else if(e.order==="XZY"){let u=s*c,f=s*g,l=o*c,v=o*g;t[0]=c*p,t[4]=-d,t[8]=g*p,t[1]=u*d+v,t[5]=s*p,t[9]=f*d-l,t[2]=l*d-f,t[6]=o*p,t[10]=v*d+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oF,e,lF)}lookAt(e,t,r){let i=this.elements;return ta.subVectors(e,t),ta.lengthSq()===0&&(ta.z=1),ta.normalize(),Yl.crossVectors(r,ta),Yl.lengthSq()===0&&(Math.abs(r.z)===1?ta.x+=1e-4:ta.z+=1e-4,ta.normalize(),Yl.crossVectors(r,ta)),Yl.normalize(),L1.crossVectors(ta,Yl),i[0]=Yl.x,i[4]=L1.x,i[8]=ta.x,i[1]=Yl.y,i[5]=L1.y,i[9]=ta.y,i[2]=Yl.z,i[6]=L1.z,i[10]=ta.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],c=r[8],g=r[12],p=r[1],d=r[5],u=r[9],f=r[13],l=r[2],v=r[6],y=r[10],h=r[14],m=r[3],_=r[7],w=r[11],E=r[15],T=i[0],A=i[4],C=i[8],R=i[12],D=i[1],O=i[5],k=i[9],H=i[13],B=i[2],Z=i[6],V=i[10],j=i[14],z=i[3],W=i[7],Q=i[11],se=i[15];return a[0]=s*T+o*D+c*B+g*z,a[4]=s*A+o*O+c*Z+g*W,a[8]=s*C+o*k+c*V+g*Q,a[12]=s*R+o*H+c*j+g*se,a[1]=p*T+d*D+u*B+f*z,a[5]=p*A+d*O+u*Z+f*W,a[9]=p*C+d*k+u*V+f*Q,a[13]=p*R+d*H+u*j+f*se,a[2]=l*T+v*D+y*B+h*z,a[6]=l*A+v*O+y*Z+h*W,a[10]=l*C+v*k+y*V+h*Q,a[14]=l*R+v*H+y*j+h*se,a[3]=m*T+_*D+w*B+E*z,a[7]=m*A+_*O+w*Z+E*W,a[11]=m*C+_*k+w*V+E*Q,a[15]=m*R+_*H+w*j+E*se,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],c=e[9],g=e[13],p=e[2],d=e[6],u=e[10],f=e[14],l=e[3],v=e[7],y=e[11],h=e[15];return l*(+a*c*d-i*g*d-a*o*u+r*g*u+i*o*f-r*c*f)+v*(+t*c*f-t*g*u+a*s*u-i*s*f+i*g*p-a*c*p)+y*(+t*g*d-t*o*f-a*s*d+r*s*f+a*o*p-r*g*p)+h*(-i*o*p-t*c*d+t*o*u+i*s*d-r*s*u+r*c*p)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],g=e[7],p=e[8],d=e[9],u=e[10],f=e[11],l=e[12],v=e[13],y=e[14],h=e[15],m=d*y*g-v*u*g+v*c*f-o*y*f-d*c*h+o*u*h,_=l*u*g-p*y*g-l*c*f+s*y*f+p*c*h-s*u*h,w=p*v*g-l*d*g+l*o*f-s*v*f-p*o*h+s*d*h,E=l*d*c-p*v*c-l*o*u+s*v*u+p*o*y-s*d*y,T=t*m+r*_+i*w+a*E;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let A=1/T;return e[0]=m*A,e[1]=(v*u*a-d*y*a-v*i*f+r*y*f+d*i*h-r*u*h)*A,e[2]=(o*y*a-v*c*a+v*i*g-r*y*g-o*i*h+r*c*h)*A,e[3]=(d*c*a-o*u*a-d*i*g+r*u*g+o*i*f-r*c*f)*A,e[4]=_*A,e[5]=(p*y*a-l*u*a+l*i*f-t*y*f-p*i*h+t*u*h)*A,e[6]=(l*c*a-s*y*a-l*i*g+t*y*g+s*i*h-t*c*h)*A,e[7]=(s*u*a-p*c*a+p*i*g-t*u*g-s*i*f+t*c*f)*A,e[8]=w*A,e[9]=(l*d*a-p*v*a-l*r*f+t*v*f+p*r*h-t*d*h)*A,e[10]=(s*v*a-l*o*a+l*r*g-t*v*g-s*r*h+t*o*h)*A,e[11]=(p*o*a-s*d*a-p*r*g+t*d*g+s*r*f-t*o*f)*A,e[12]=E*A,e[13]=(p*v*i-l*d*i+l*r*u-t*v*u-p*r*y+t*d*y)*A,e[14]=(l*o*i-s*v*i-l*r*c+t*v*c+s*r*y-t*o*y)*A,e[15]=(s*d*i-p*o*i+p*r*c-t*d*c-s*r*u+t*o*u)*A,this}scale(e){let t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,c=e.z,g=a*s,p=a*o;return this.set(g*s+r,g*o-i*c,g*c+i*o,0,g*o+i*c,p*o+r,p*c-i*s,0,g*c-i*o,p*c+i*s,a*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,a=t._x,s=t._y,o=t._z,c=t._w,g=a+a,p=s+s,d=o+o,u=a*g,f=a*p,l=a*d,v=s*p,y=s*d,h=o*d,m=c*g,_=c*p,w=c*d,E=r.x,T=r.y,A=r.z;return i[0]=(1-(v+h))*E,i[1]=(f+w)*E,i[2]=(l-_)*E,i[3]=0,i[4]=(f-w)*T,i[5]=(1-(u+h))*T,i[6]=(y+m)*T,i[7]=0,i[8]=(l+_)*A,i[9]=(y-m)*A,i[10]=(1-(u+v))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements,a=Nh.set(i[0],i[1],i[2]).length(),s=Nh.set(i[4],i[5],i[6]).length(),o=Nh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],rs.copy(this);let g=1/a,p=1/s,d=1/o;return rs.elements[0]*=g,rs.elements[1]*=g,rs.elements[2]*=g,rs.elements[4]*=p,rs.elements[5]*=p,rs.elements[6]*=p,rs.elements[8]*=d,rs.elements[9]*=d,rs.elements[10]*=d,t.setFromRotationMatrix(rs),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let o=this.elements,c=2*a/(t-e),g=2*a/(r-i),p=(t+e)/(t-e),d=(r+i)/(r-i),u=-(s+a)/(s-a),f=-2*s*a/(s-a);return o[0]=c,o[4]=0,o[8]=p,o[12]=0,o[1]=0,o[5]=g,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,a,s){let o=this.elements,c=1/(t-e),g=1/(r-i),p=1/(s-a),d=(t+e)*c,u=(r+i)*g,f=(s+a)*p;return o[0]=2*c,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*g,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*p,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};Nt.prototype.isMatrix4=!0;var Nh=new Ce,rs=new Nt,oF=new Ce(0,0,0),lF=new Ce(1,1,1),Yl=new Ce,L1=new Ce,ta=new Ce,SR=new Nt,MR=new wr,Us=class{constructor(e=0,t=0,r=0,i=Us.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,a=i[0],s=i[4],o=i[8],c=i[1],g=i[5],p=i[9],d=i[2],u=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin($r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-p,f),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(u,g),this._z=0);break;case"YXZ":this._x=Math.asin(-$r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(c,g)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin($r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-s,g)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-$r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(u,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,g));break;case"YZX":this._z=Math.asin($r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,g),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-$r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(u,g),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-p,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return SR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return MR.setFromEuler(this),this.setFromQuaternion(MR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ce(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Us.prototype.isEuler=!0;Us.DefaultOrder="XYZ";Us.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var ql=class{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},uF=0,TR=new Ce,kh=new wr,Uo=new Nt,I1=new Ce,F0=new Ce,fF=new Ce,cF=new wr,AR=new Ce(1,0,0),CR=new Ce(0,1,0),RR=new Ce(0,0,1),hF={type:"added"},PR={type:"removed"},fn=class extends ns{constructor(){super();Object.defineProperty(this,"id",{value:uF++}),this.uuid=ea(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fn.DefaultUp.clone();let e=new Ce,t=new Us,r=new wr,i=new Ce(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Cr}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=fn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ql,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kh.setFromAxisAngle(e,t),this.quaternion.multiply(kh),this}rotateOnWorldAxis(e,t){return kh.setFromAxisAngle(e,t),this.quaternion.premultiply(kh),this}rotateX(e){return this.rotateOnAxis(AR,e)}rotateY(e){return this.rotateOnAxis(CR,e)}rotateZ(e){return this.rotateOnAxis(RR,e)}translateOnAxis(e,t){return TR.copy(e).applyQuaternion(this.quaternion),this.position.add(TR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(AR,e)}translateY(e){return this.translateOnAxis(CR,e)}translateZ(e){return this.translateOnAxis(RR,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Uo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?I1.copy(e):I1.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),F0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uo.lookAt(F0,I1,this.up):Uo.lookAt(I1,F0,this.up),this.quaternion.setFromRotationMatrix(Uo),i&&(Uo.extractRotation(i.matrixWorld),kh.setFromRotationMatrix(Uo),this.quaternion.premultiply(kh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(hF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(PR)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(PR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Uo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(F0,e,fF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(F0,cF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);let o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){let c=o.shapes;if(Array.isArray(c))for(let g=0,p=c.length;g<p;g++){let d=c[g];a(e.shapes,d)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let o=[];for(let c=0,g=this.material.length;c<g;c++)o.push(a(e.materials,this.material[c]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){let c=this.animations[o];i.animations.push(a(e.animations,c))}}if(t){let o=s(e.geometries),c=s(e.materials),g=s(e.textures),p=s(e.images),d=s(e.shapes),u=s(e.skeletons),f=s(e.animations);o.length>0&&(r.geometries=o),c.length>0&&(r.materials=c),g.length>0&&(r.textures=g),p.length>0&&(r.images=p),d.length>0&&(r.shapes=d),u.length>0&&(r.skeletons=u),f.length>0&&(r.animations=f)}return r.object=i,r;function s(o){let c=[];for(let g in o){let p=o[g];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};fn.DefaultUp=new Ce(0,1,0);fn.DefaultMatrixAutoUpdate=!0;fn.prototype.isObject3D=!0;var is=new Ce,Ho=new Ce,p2=new Ce,Go=new Ce,Fh=new Ce,Bh=new Ce,LR=new Ce,m2=new Ce,g2=new Ce,v2=new Ce,mr=class{constructor(e=new Ce,t=new Ce,r=new Ce){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),is.subVectors(e,t),i.cross(is);let a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){is.subVectors(i,t),Ho.subVectors(r,t),p2.subVectors(e,t);let s=is.dot(is),o=is.dot(Ho),c=is.dot(p2),g=Ho.dot(Ho),p=Ho.dot(p2),d=s*g-o*o;if(d===0)return a.set(-2,-1,-1);let u=1/d,f=(g*c-o*p)*u,l=(s*p-o*c)*u;return a.set(1-f-l,l,f)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Go),Go.x>=0&&Go.y>=0&&Go.x+Go.y<=1}static getUV(e,t,r,i,a,s,o,c){return this.getBarycoord(e,t,r,i,Go),c.set(0,0),c.addScaledVector(a,Go.x),c.addScaledVector(s,Go.y),c.addScaledVector(o,Go.z),c}static isFrontFacing(e,t,r,i){return is.subVectors(r,t),Ho.subVectors(e,t),is.cross(Ho).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return is.subVectors(this.c,this.b),Ho.subVectors(this.a,this.b),is.cross(Ho).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return mr.getUV(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return mr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,i=this.b,a=this.c,s,o;Fh.subVectors(i,r),Bh.subVectors(a,r),m2.subVectors(e,r);let c=Fh.dot(m2),g=Bh.dot(m2);if(c<=0&&g<=0)return t.copy(r);g2.subVectors(e,i);let p=Fh.dot(g2),d=Bh.dot(g2);if(p>=0&&d<=p)return t.copy(i);let u=c*d-p*g;if(u<=0&&c>=0&&p<=0)return s=c/(c-p),t.copy(r).addScaledVector(Fh,s);v2.subVectors(e,a);let f=Fh.dot(v2),l=Bh.dot(v2);if(l>=0&&f<=l)return t.copy(a);let v=f*g-c*l;if(v<=0&&g>=0&&l<=0)return o=g/(g-l),t.copy(r).addScaledVector(Bh,o);let y=p*l-f*d;if(y<=0&&d-p>=0&&f-l>=0)return LR.subVectors(a,i),o=(d-p)/(d-p+(f-l)),t.copy(i).addScaledVector(LR,o);let h=1/(y+v+u);return s=v*h,o=u*h,t.copy(r).addScaledVector(Fh,s).addScaledVector(Bh,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},dF=0,Or=class extends ns{constructor(){super();Object.defineProperty(this,"id",{value:dF++}),this.uuid=ea(),this.name="",this.type="Material",this.fog=!0,this.blending=Mh,this.side=gf,this.vertexColors=!1,this.opacity=1,this.format=Qr,this.transparent=!1,this.blendSrc=Bb,this.blendDst=zb,this.blendEquation=_f,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=m1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=S1,this.stencilZFail=S1,this.stencilZPass=S1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===Ib;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Mh&&(r.blending=this.blending),this.side!==gf&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==Qr&&(r.format=this.format),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(a){let s=[];for(let o in a){let c=a[o];delete c.metadata,s.push(c)}return s}if(t){let a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};Or.prototype.isMaterial=!0;var IR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},as={h:0,s:0,l:0},D1={h:0,s:0,l:0};function _2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function y2(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function x2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var bt=class{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=n2(e,1),t=$r(t,0,1),r=$r(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,a=2*r-i;this.r=_2(a,i,e+1/3),this.g=_2(a,i,e),this.b=_2(a,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,a=r[1],s=r[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let o=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,g=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(o,c,g)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=r[1],a=i.length;if(a===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(a===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){let t=IR[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){let r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=y2(e.r),this.g=y2(e.g),this.b=y2(e.b),this}copyLinearToSRGB(e){return this.r=x2(e.r),this.g=x2(e.g),this.b=x2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){let t=this.r,r=this.g,i=this.b,a=Math.max(t,r,i),s=Math.min(t,r,i),o,c,g=(s+a)/2;if(s===a)o=0,c=0;else{let p=a-s;switch(c=g<=.5?p/(a+s):p/(2-a-s),a){case t:o=(r-i)/p+(r<i?6:0);break;case r:o=(i-t)/p+2;break;case i:o=(t-r)/p+4;break}o/=6}return e.h=o,e.s=c,e.l=g,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(as),as.h+=e,as.s+=t,as.l+=r,this.setHSL(as.h,as.s,as.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(as),e.getHSL(D1);let r=D0(as.h,D1.h,t),i=D0(as.s,D1.s,t),a=D0(as.l,D1.l,t);return this.setHSL(r,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};bt.NAMES=IR;bt.prototype.isColor=!0;bt.prototype.r=1;bt.prototype.g=1;bt.prototype.b=1;var Hs=class extends Or{constructor(e){super();this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=b0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};Hs.prototype.isMeshBasicMaterial=!0;var jn=new Ce,O1=new ft,vn=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Ch,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new bt),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new ft),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Ce),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){let t=this.array,r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new Dn),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)O1.fromBufferAttribute(this,t),O1.applyMatrix3(e),this.setXY(t,O1.x,O1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix3(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)jn.x=this.getX(t),jn.y=this.getY(t),jn.z=this.getZ(t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)jn.x=this.getX(t),jn.y=this.getY(t),jn.z=this.getZ(t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)jn.x=this.getX(t),jn.y=this.getY(t),jn.z=this.getZ(t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ch&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};vn.prototype.isBufferAttribute=!0;var w2=class extends vn{constructor(e,t,r){super(new Int8Array(e),t,r)}},b2=class extends vn{constructor(e,t,r){super(new Uint8Array(e),t,r)}},E2=class extends vn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}},S2=class extends vn{constructor(e,t,r){super(new Int16Array(e),t,r)}},B0=class extends vn{constructor(e,t,r){super(new Uint16Array(e),t,r)}},M2=class extends vn{constructor(e,t,r){super(new Int32Array(e),t,r)}},z0=class extends vn{constructor(e,t,r){super(new Uint32Array(e),t,r)}},T2=class extends vn{constructor(e,t,r){super(new Uint16Array(e),t,r)}};T2.prototype.isFloat16BufferAttribute=!0;var Ot=class extends vn{constructor(e,t,r){super(new Float32Array(e),t,r)}},A2=class extends vn{constructor(e,t,r){super(new Float64Array(e),t,r)}},pF=0,Pa=new Nt,C2=new fn,zh=new Ce,na=new Vi,U0=new Vi,Ur=new Ce,Gt=class extends ns{constructor(){super();Object.defineProperty(this,"id",{value:pF++}),this.uuid=ea(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xR(e)>65535?z0:B0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let a=new Cr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pa.makeRotationFromQuaternion(e),this.applyMatrix4(Pa),this}rotateX(e){return Pa.makeRotationX(e),this.applyMatrix4(Pa),this}rotateY(e){return Pa.makeRotationY(e),this.applyMatrix4(Pa),this}rotateZ(e){return Pa.makeRotationZ(e),this.applyMatrix4(Pa),this}translate(e,t,r){return Pa.makeTranslation(e,t,r),this.applyMatrix4(Pa),this}scale(e,t,r){return Pa.makeScale(e,t,r),this.applyMatrix4(Pa),this}lookAt(e){return C2.lookAt(e),C2.updateMatrix(),this.applyMatrix4(C2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zh).negate(),this.translate(zh.x,zh.y,zh.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Ot(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let a=t[r];na.setFromBufferAttribute(a),this.morphTargetsRelative?(Ur.addVectors(this.boundingBox.min,na.min),this.boundingBox.expandByPoint(Ur),Ur.addVectors(this.boundingBox.max,na.max),this.boundingBox.expandByPoint(Ur)):(this.boundingBox.expandByPoint(na.min),this.boundingBox.expandByPoint(na.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fo);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ce,1/0);return}if(e){let r=this.boundingSphere.center;if(na.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){let o=t[a];U0.setFromBufferAttribute(o),this.morphTargetsRelative?(Ur.addVectors(na.min,U0.min),na.expandByPoint(Ur),Ur.addVectors(na.max,U0.max),na.expandByPoint(Ur)):(na.expandByPoint(U0.min),na.expandByPoint(U0.max))}na.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Ur.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ur));if(t)for(let a=0,s=t.length;a<s;a++){let o=t[a],c=this.morphTargetsRelative;for(let g=0,p=o.count;g<p;g++)Ur.fromBufferAttribute(o,g),c&&(zh.fromBufferAttribute(e,g),Ur.add(zh)),i=Math.max(i,r.distanceToSquared(Ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,a=t.normal.array,s=t.uv.array,o=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new vn(new Float32Array(4*o),4));let c=t.tangent.array,g=[],p=[];for(let D=0;D<o;D++)g[D]=new Ce,p[D]=new Ce;let d=new Ce,u=new Ce,f=new Ce,l=new ft,v=new ft,y=new ft,h=new Ce,m=new Ce;function _(D,O,k){d.fromArray(i,D*3),u.fromArray(i,O*3),f.fromArray(i,k*3),l.fromArray(s,D*2),v.fromArray(s,O*2),y.fromArray(s,k*2),u.sub(d),f.sub(d),v.sub(l),y.sub(l);let H=1/(v.x*y.y-y.x*v.y);!isFinite(H)||(h.copy(u).multiplyScalar(y.y).addScaledVector(f,-v.y).multiplyScalar(H),m.copy(f).multiplyScalar(v.x).addScaledVector(u,-y.x).multiplyScalar(H),g[D].add(h),g[O].add(h),g[k].add(h),p[D].add(m),p[O].add(m),p[k].add(m))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let D=0,O=w.length;D<O;++D){let k=w[D],H=k.start,B=k.count;for(let Z=H,V=H+B;Z<V;Z+=3)_(r[Z+0],r[Z+1],r[Z+2])}let E=new Ce,T=new Ce,A=new Ce,C=new Ce;function R(D){A.fromArray(a,D*3),C.copy(A);let O=g[D];E.copy(O),E.sub(A.multiplyScalar(A.dot(O))).normalize(),T.crossVectors(C,O);let H=T.dot(p[D])<0?-1:1;c[D*4]=E.x,c[D*4+1]=E.y,c[D*4+2]=E.z,c[D*4+3]=H}for(let D=0,O=w.length;D<O;++D){let k=w[D],H=k.start,B=k.count;for(let Z=H,V=H+B;Z<V;Z+=3)R(r[Z+0]),R(r[Z+1]),R(r[Z+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let u=0,f=r.count;u<f;u++)r.setXYZ(u,0,0,0);let i=new Ce,a=new Ce,s=new Ce,o=new Ce,c=new Ce,g=new Ce,p=new Ce,d=new Ce;if(e)for(let u=0,f=e.count;u<f;u+=3){let l=e.getX(u+0),v=e.getX(u+1),y=e.getX(u+2);i.fromBufferAttribute(t,l),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),p.subVectors(s,a),d.subVectors(i,a),p.cross(d),o.fromBufferAttribute(r,l),c.fromBufferAttribute(r,v),g.fromBufferAttribute(r,y),o.add(p),c.add(p),g.add(p),r.setXYZ(l,o.x,o.y,o.z),r.setXYZ(v,c.x,c.y,c.z),r.setXYZ(y,g.x,g.y,g.z)}else for(let u=0,f=t.count;u<f;u+=3)i.fromBufferAttribute(t,u+0),a.fromBufferAttribute(t,u+1),s.fromBufferAttribute(t,u+2),p.subVectors(s,a),d.subVectors(i,a),p.cross(d),r.setXYZ(u+0,p.x,p.y,p.z),r.setXYZ(u+1,p.x,p.y,p.z),r.setXYZ(u+2,p.x,p.y,p.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let r=this.attributes;for(let i in r){if(e.attributes[i]===void 0)continue;let s=r[i].array,o=e.attributes[i],c=o.array,g=o.itemSize*t,p=Math.min(c.length,s.length-g);for(let d=0,u=g;d<p;d++,u++)s[u]=c[d]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ur.fromBufferAttribute(e,t),Ur.normalize(),e.setXYZ(t,Ur.x,Ur.y,Ur.z)}toNonIndexed(){function e(o,c){let g=o.array,p=o.itemSize,d=o.normalized,u=new g.constructor(c.length*p),f=0,l=0;for(let v=0,y=c.length;v<y;v++){o.isInterleavedBufferAttribute?f=c[v]*o.data.stride+o.offset:f=c[v]*p;for(let h=0;h<p;h++)u[l++]=g[f++]}return new vn(u,p,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Gt,r=this.index.array,i=this.attributes;for(let o in i){let c=i[o],g=e(c,r);t.setAttribute(o,g)}let a=this.morphAttributes;for(let o in a){let c=[],g=a[o];for(let p=0,d=g.length;p<d;p++){let u=g[p],f=e(u,r);c.push(f)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let o=0,c=s.length;o<c;o++){let g=s[o];t.addGroup(g.start,g.count,g.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let g in c)c[g]!==void 0&&(e[g]=c[g]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let c in r){let g=r[c];e.data.attributes[c]=g.toJSON(e.data)}let i={},a=!1;for(let c in this.morphAttributes){let g=this.morphAttributes[c],p=[];for(let d=0,u=g.length;d<u;d++){let f=g[d];p.push(f.toJSON(e.data))}p.length>0&&(i[c]=p,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let g in i){let p=i[g];this.setAttribute(g,p.clone(t))}let a=e.morphAttributes;for(let g in a){let p=[],d=a[g];for(let u=0,f=d.length;u<f;u++)p.push(d[u].clone(t));this.morphAttributes[g]=p}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let g=0,p=s.length;g<p;g++){let d=s[g];this.addGroup(d.start,d.count,d.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};Gt.prototype.isBufferGeometry=!0;var DR=new Nt,Uh=new zo,R2=new Fo,Ql=new Ce,Jl=new Ce,Kl=new Ce,P2=new Ce,L2=new Ce,I2=new Ce,N1=new Ce,k1=new Ce,F1=new Ce,B1=new ft,z1=new ft,U1=new ft,D2=new Ce,H1=new Ce,br=class extends fn{constructor(e=new Gt,t=new Hs){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){let o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){let r=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),R2.copy(r.boundingSphere),R2.applyMatrix4(a),e.ray.intersectsSphere(R2)===!1)||(DR.copy(a).invert(),Uh.copy(e.ray).applyMatrix4(DR),r.boundingBox!==null&&Uh.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){let o=r.index,c=r.attributes.position,g=r.morphAttributes.position,p=r.morphTargetsRelative,d=r.attributes.uv,u=r.attributes.uv2,f=r.groups,l=r.drawRange;if(o!==null)if(Array.isArray(i))for(let v=0,y=f.length;v<y;v++){let h=f[v],m=i[h.materialIndex],_=Math.max(h.start,l.start),w=Math.min(o.count,Math.min(h.start+h.count,l.start+l.count));for(let E=_,T=w;E<T;E+=3){let A=o.getX(E),C=o.getX(E+1),R=o.getX(E+2);s=G1(this,m,e,Uh,c,g,p,d,u,A,C,R),s&&(s.faceIndex=Math.floor(E/3),s.face.materialIndex=h.materialIndex,t.push(s))}}else{let v=Math.max(0,l.start),y=Math.min(o.count,l.start+l.count);for(let h=v,m=y;h<m;h+=3){let _=o.getX(h),w=o.getX(h+1),E=o.getX(h+2);s=G1(this,i,e,Uh,c,g,p,d,u,_,w,E),s&&(s.faceIndex=Math.floor(h/3),t.push(s))}}else if(c!==void 0)if(Array.isArray(i))for(let v=0,y=f.length;v<y;v++){let h=f[v],m=i[h.materialIndex],_=Math.max(h.start,l.start),w=Math.min(c.count,Math.min(h.start+h.count,l.start+l.count));for(let E=_,T=w;E<T;E+=3){let A=E,C=E+1,R=E+2;s=G1(this,m,e,Uh,c,g,p,d,u,A,C,R),s&&(s.faceIndex=Math.floor(E/3),s.face.materialIndex=h.materialIndex,t.push(s))}}else{let v=Math.max(0,l.start),y=Math.min(c.count,l.start+l.count);for(let h=v,m=y;h<m;h+=3){let _=h,w=h+1,E=h+2;s=G1(this,i,e,Uh,c,g,p,d,u,_,w,E),s&&(s.faceIndex=Math.floor(h/3),t.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};br.prototype.isMesh=!0;function mF(n,e,t,r,i,a,s,o){let c;if(e.side===or?c=r.intersectTriangle(s,a,i,!0,o):c=r.intersectTriangle(i,a,s,e.side!==vf,o),c===null)return null;H1.copy(o),H1.applyMatrix4(n.matrixWorld);let g=t.ray.origin.distanceTo(H1);return g<t.near||g>t.far?null:{distance:g,point:H1.clone(),object:n}}function G1(n,e,t,r,i,a,s,o,c,g,p,d){Ql.fromBufferAttribute(i,g),Jl.fromBufferAttribute(i,p),Kl.fromBufferAttribute(i,d);let u=n.morphTargetInfluences;if(a&&u){N1.set(0,0,0),k1.set(0,0,0),F1.set(0,0,0);for(let l=0,v=a.length;l<v;l++){let y=u[l],h=a[l];y!==0&&(P2.fromBufferAttribute(h,g),L2.fromBufferAttribute(h,p),I2.fromBufferAttribute(h,d),s?(N1.addScaledVector(P2,y),k1.addScaledVector(L2,y),F1.addScaledVector(I2,y)):(N1.addScaledVector(P2.sub(Ql),y),k1.addScaledVector(L2.sub(Jl),y),F1.addScaledVector(I2.sub(Kl),y)))}Ql.add(N1),Jl.add(k1),Kl.add(F1)}n.isSkinnedMesh&&(n.boneTransform(g,Ql),n.boneTransform(p,Jl),n.boneTransform(d,Kl));let f=mF(n,e,t,r,Ql,Jl,Kl,D2);if(f){o&&(B1.fromBufferAttribute(o,g),z1.fromBufferAttribute(o,p),U1.fromBufferAttribute(o,d),f.uv=mr.getUV(D2,Ql,Jl,Kl,B1,z1,U1,new ft)),c&&(B1.fromBufferAttribute(c,g),z1.fromBufferAttribute(c,p),U1.fromBufferAttribute(c,d),f.uv2=mr.getUV(D2,Ql,Jl,Kl,B1,z1,U1,new ft));let l={a:g,b:p,c:d,normal:new Ce,materialIndex:0};mr.getNormal(Ql,Jl,Kl,l.normal),f.face=l}return f}var Wo=class extends Gt{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};let o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);let c=[],g=[],p=[],d=[],u=0,f=0;l("z","y","x",-1,-1,r,t,e,s,a,0),l("z","y","x",1,-1,r,t,-e,s,a,1),l("x","z","y",1,1,e,r,t,i,s,2),l("x","z","y",1,-1,e,r,-t,i,s,3),l("x","y","z",1,-1,e,t,r,i,a,4),l("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(c),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(d,2));function l(v,y,h,m,_,w,E,T,A,C,R){let D=w/A,O=E/C,k=w/2,H=E/2,B=T/2,Z=A+1,V=C+1,j=0,z=0,W=new Ce;for(let Q=0;Q<V;Q++){let se=Q*O-H;for(let le=0;le<Z;le++){let fe=le*D-k;W[v]=fe*m,W[y]=se*_,W[h]=B,g.push(W.x,W.y,W.z),W[v]=0,W[y]=0,W[h]=T>0?1:-1,p.push(W.x,W.y,W.z),d.push(le/A),d.push(1-Q/C),j+=1}}for(let Q=0;Q<C;Q++)for(let se=0;se<A;se++){let le=u+se+Z*Q,fe=u+se+Z*(Q+1),$=u+(se+1)+Z*(Q+1),ae=u+(se+1)+Z*Q;c.push(le,fe,ae),c.push(fe,$,ae),z+=6}o.addGroup(f,z,R),f+=z,u+=j}}static fromJSON(e){return new Wo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Hh(n){let e={};for(let t in n){e[t]={};for(let r in n[t]){let i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function mi(n){let e={};for(let t=0;t<n.length;t++){let r=Hh(n[t]);for(let i in r)e[i]=r[i]}return e}var OR={clone:Hh,merge:mi},gF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Gs=class extends Or{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=gF,this.fragmentShader=vF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}};Gs.prototype.isShaderMaterial=!0;var Vo=class extends fn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};Vo.prototype.isCamera=!0;var Bn=class extends Vo{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=I0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Cf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return I0*2*Math.atan(Math.tan(Cf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Cf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){let c=s.fullWidth,g=s.fullHeight;a+=s.offsetX*i/c,t-=s.offsetY*r/g,i*=s.width/c,r*=s.height/g}let o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};Bn.prototype.isPerspectiveCamera=!0;var Gh=90,Wh=1,H0=class extends fn{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;let i=new Bn(Gh,Wh,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Ce(1,0,0)),this.add(i);let a=new Bn(Gh,Wh,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Ce(-1,0,0)),this.add(a);let s=new Bn(Gh,Wh,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Ce(0,1,0)),this.add(s);let o=new Bn(Gh,Wh,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Ce(0,-1,0)),this.add(o);let c=new Bn(Gh,Wh,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Ce(0,0,1)),this.add(c);let g=new Bn(Gh,Wh,e,t);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new Ce(0,0,-1)),this.add(g)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,a,s,o,c,g]=this.children,p=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;let u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,g),e.setRenderTarget(d),e.xr.enabled=p}},Lf=class extends er{constructor(e,t,r,i,a,s,o,c,g,p){e=e!==void 0?e:[],t=t!==void 0?t:yf;super(e,t,r,i,a,s,o,c,g,p);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};Lf.prototype.isCubeTexture=!0;var G0=class extends Wi{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r);super(e,e,t);t=t||{},this.texture=new Lf(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dr,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Qr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Wo(5,5,5),a=new Gs({name:"CubemapFromEquirect",uniforms:Hh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:or,blending:Oo});a.uniforms.tEquirect.value=t;let s=new br(i,a),o=t.minFilter;return t.minFilter===wf&&(t.minFilter=Dr),new H0(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){let a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}};G0.prototype.isWebGLCubeRenderTarget=!0;var O2=new Ce,_F=new Ce,yF=new Cr,ss=class{constructor(e=new Ce(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=O2.subVectors(r,t).cross(_F.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(O2),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(r).multiplyScalar(a).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||yF.getNormalMatrix(e),i=this.coplanarPoint(O2).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};ss.prototype.isPlane=!0;var Vh=new Fo,W1=new Ce,jh=class{constructor(e=new ss,t=new ss,r=new ss,i=new ss,a=new ss,s=new ss){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],a=r[1],s=r[2],o=r[3],c=r[4],g=r[5],p=r[6],d=r[7],u=r[8],f=r[9],l=r[10],v=r[11],y=r[12],h=r[13],m=r[14],_=r[15];return t[0].setComponents(o-i,d-c,v-u,_-y).normalize(),t[1].setComponents(o+i,d+c,v+u,_+y).normalize(),t[2].setComponents(o+a,d+g,v+f,_+h).normalize(),t[3].setComponents(o-a,d-g,v-f,_-h).normalize(),t[4].setComponents(o-s,d-p,v-l,_-m).normalize(),t[5].setComponents(o+s,d+p,v+l,_+m).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Vh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Vh)}intersectsSprite(e){return Vh.center.set(0,0,0),Vh.radius=.7071067811865476,Vh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vh)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(W1.x=i.normal.x>0?e.max.x:e.min.x,W1.y=i.normal.y>0?e.max.y:e.min.y,W1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(W1)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function NR(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function xF(n,e){let t=e.isWebGL2,r=new WeakMap;function i(g,p){let d=g.array,u=g.usage,f=n.createBuffer();n.bindBuffer(p,f),n.bufferData(p,d,u),g.onUploadCallback();let l=5126;return d instanceof Float32Array?l=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?g.isFloat16BufferAttribute?t?l=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):l=5123:d instanceof Int16Array?l=5122:d instanceof Uint32Array?l=5125:d instanceof Int32Array?l=5124:d instanceof Int8Array?l=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(l=5121),{buffer:f,type:l,bytesPerElement:d.BYTES_PER_ELEMENT,version:g.version}}function a(g,p,d){let u=p.array,f=p.updateRange;n.bindBuffer(d,g),f.count===-1?n.bufferSubData(d,0,u):(t?n.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u,f.offset,f.count):n.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u.subarray(f.offset,f.offset+f.count)),f.count=-1)}function s(g){return g.isInterleavedBufferAttribute&&(g=g.data),r.get(g)}function o(g){g.isInterleavedBufferAttribute&&(g=g.data);let p=r.get(g);p&&(n.deleteBuffer(p.buffer),r.delete(g))}function c(g,p){if(g.isGLBufferAttribute){let u=r.get(g);(!u||u.version<g.version)&&r.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,version:g.version});return}g.isInterleavedBufferAttribute&&(g=g.data);let d=r.get(g);d===void 0?r.set(g,i(g,p)):d.version<g.version&&(a(d.buffer,g,p),d.version=g.version)}return{get:s,remove:o,update:c}}var If=class extends Gt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let a=e/2,s=t/2,o=Math.floor(r),c=Math.floor(i),g=o+1,p=c+1,d=e/o,u=t/c,f=[],l=[],v=[],y=[];for(let h=0;h<p;h++){let m=h*u-s;for(let _=0;_<g;_++){let w=_*d-a;l.push(w,-m,0),v.push(0,0,1),y.push(_/o),y.push(1-h/c)}}for(let h=0;h<c;h++)for(let m=0;m<o;m++){let _=m+g*h,w=m+g*(h+1),E=m+1+g*(h+1),T=m+1+g*h;f.push(_,w,T),f.push(w,E,T)}this.setIndex(f),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2))}static fromJSON(e){return new If(e.width,e.height,e.widthSegments,e.heightSegments)}},wF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,bF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,SF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,TF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,AF="vec3 transformed = vec3( position );",CF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,RF=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,PF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,LF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,IF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,DF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,FF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,BF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,UF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,HF=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,GF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,WF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,VF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ZF="gl_FragColor = linearToOutputTexel( gl_FragColor );",XF=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,YF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,QF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,JF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,KF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$F=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,eB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,tB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,nB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,rB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,iB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,aB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sB=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,oB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lB=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,uB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,cB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,hB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,dB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,pB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,mB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,gB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,vB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,_B=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,yB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,xB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,wB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,bB=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,EB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,SB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,MB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,AB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,RB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,LB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,IB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,DB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,FB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,BB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,zB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,UB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,HB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,GB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,WB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,VB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,jB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,YB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,qB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,QB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,JB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,KB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$B=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,ez=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,iz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,az=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sz=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,oz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,lz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uz=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,fz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,cz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,hz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,dz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,pz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,mz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,gz=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_z=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,wz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ez=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Sz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Mz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Tz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Az=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rz=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pz=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Iz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Oz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Nz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Bz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Gz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Wz=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cn={alphamap_fragment:wF,alphamap_pars_fragment:bF,alphatest_fragment:EF,alphatest_pars_fragment:SF,aomap_fragment:MF,aomap_pars_fragment:TF,begin_vertex:AF,beginnormal_vertex:CF,bsdfs:RF,bumpmap_pars_fragment:PF,clipping_planes_fragment:LF,clipping_planes_pars_fragment:IF,clipping_planes_pars_vertex:DF,clipping_planes_vertex:OF,color_fragment:NF,color_pars_fragment:kF,color_pars_vertex:FF,color_vertex:BF,common:zF,cube_uv_reflection_fragment:UF,defaultnormal_vertex:HF,displacementmap_pars_vertex:GF,displacementmap_vertex:WF,emissivemap_fragment:VF,emissivemap_pars_fragment:jF,encodings_fragment:ZF,encodings_pars_fragment:XF,envmap_fragment:YF,envmap_common_pars_fragment:qF,envmap_pars_fragment:QF,envmap_pars_vertex:JF,envmap_physical_pars_fragment:lB,envmap_vertex:KF,fog_vertex:$F,fog_pars_vertex:eB,fog_fragment:tB,fog_pars_fragment:nB,gradientmap_pars_fragment:rB,lightmap_fragment:iB,lightmap_pars_fragment:aB,lights_lambert_vertex:sB,lights_pars_begin:oB,lights_toon_fragment:uB,lights_toon_pars_fragment:fB,lights_phong_fragment:cB,lights_phong_pars_fragment:hB,lights_physical_fragment:dB,lights_physical_pars_fragment:pB,lights_fragment_begin:mB,lights_fragment_maps:gB,lights_fragment_end:vB,logdepthbuf_fragment:_B,logdepthbuf_pars_fragment:yB,logdepthbuf_pars_vertex:xB,logdepthbuf_vertex:wB,map_fragment:bB,map_pars_fragment:EB,map_particle_fragment:SB,map_particle_pars_fragment:MB,metalnessmap_fragment:TB,metalnessmap_pars_fragment:AB,morphnormal_vertex:CB,morphtarget_pars_vertex:RB,morphtarget_vertex:PB,normal_fragment_begin:LB,normal_fragment_maps:IB,normal_pars_fragment:DB,normal_pars_vertex:OB,normal_vertex:NB,normalmap_pars_fragment:kB,clearcoat_normal_fragment_begin:FB,clearcoat_normal_fragment_maps:BB,clearcoat_pars_fragment:zB,output_fragment:UB,packing:HB,premultiplied_alpha_fragment:GB,project_vertex:WB,dithering_fragment:VB,dithering_pars_fragment:jB,roughnessmap_fragment:ZB,roughnessmap_pars_fragment:XB,shadowmap_pars_fragment:YB,shadowmap_pars_vertex:qB,shadowmap_vertex:QB,shadowmask_pars_fragment:JB,skinbase_vertex:KB,skinning_pars_vertex:$B,skinning_vertex:ez,skinnormal_vertex:tz,specularmap_fragment:nz,specularmap_pars_fragment:rz,tonemapping_fragment:iz,tonemapping_pars_fragment:az,transmission_fragment:sz,transmission_pars_fragment:oz,uv_pars_fragment:lz,uv_pars_vertex:uz,uv_vertex:fz,uv2_pars_fragment:cz,uv2_pars_vertex:hz,uv2_vertex:dz,worldpos_vertex:pz,background_vert:mz,background_frag:gz,cube_vert:vz,cube_frag:_z,depth_vert:yz,depth_frag:xz,distanceRGBA_vert:wz,distanceRGBA_frag:bz,equirect_vert:Ez,equirect_frag:Sz,linedashed_vert:Mz,linedashed_frag:Tz,meshbasic_vert:Az,meshbasic_frag:Cz,meshlambert_vert:Rz,meshlambert_frag:Pz,meshmatcap_vert:Lz,meshmatcap_frag:Iz,meshnormal_vert:Dz,meshnormal_frag:Oz,meshphong_vert:Nz,meshphong_frag:kz,meshphysical_vert:Fz,meshphysical_frag:Bz,meshtoon_vert:zz,meshtoon_frag:Uz,points_vert:Hz,points_frag:Gz,shadow_vert:Wz,shadow_frag:Vz,sprite_vert:jz,sprite_frag:Zz},Et={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Cr},uv2Transform:{value:new Cr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Cr}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Cr}}},os={basic:{uniforms:mi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:mi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.fog,Et.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:mi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:mi([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:mi([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:mi([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:mi([Et.points,Et.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:mi([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:mi([Et.common,Et.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:mi([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:mi([Et.sprite,Et.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new Cr},t2D:{value:null}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},cube:{uniforms:mi([Et.envmap,{opacity:{value:1}}]),vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:mi([Et.common,Et.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:mi([Et.lights,Et.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};os.physical={uniforms:mi([os.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ft(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};function Xz(n,e,t,r,i){let a=new bt(0),s=0,o,c,g=null,p=0,d=null;function u(l,v){let y=!1,h=v.isScene===!0?v.background:null;h&&h.isTexture&&(h=e.get(h));let m=n.xr,_=m.getSession&&m.getSession();_&&_.environmentBlendMode==="additive"&&(h=null),h===null?f(a,s):h&&h.isColor&&(f(h,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),h&&(h.isCubeTexture||h.mapping===Th)?(c===void 0&&(c=new br(new Wo(1,1,1),new Gs({name:"BackgroundCubeMaterial",uniforms:Hh(os.cube.uniforms),vertexShader:os.cube.vertexShader,fragmentShader:os.cube.fragmentShader,side:or,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=h,c.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h.isRenderTargetTexture===!1?-1:1,(g!==h||p!==h.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,g=h,p=h.version,d=n.toneMapping),l.unshift(c,c.geometry,c.material,0,0,null)):h&&h.isTexture&&(o===void 0&&(o=new br(new If(2,2),new Gs({name:"BackgroundMaterial",uniforms:Hh(os.background.uniforms),vertexShader:os.background.vertexShader,fragmentShader:os.background.fragmentShader,side:gf,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=h,h.matrixAutoUpdate===!0&&h.updateMatrix(),o.material.uniforms.uvTransform.value.copy(h.matrix),(g!==h||p!==h.version||d!==n.toneMapping)&&(o.material.needsUpdate=!0,g=h,p=h.version,d=n.toneMapping),l.unshift(o,o.geometry,o.material,0,0,null))}function f(l,v){t.buffers.color.setClear(l.r,l.g,l.b,v,i)}return{getClearColor:function(){return a},setClearColor:function(l,v=1){a.set(l),s=v,f(a,s)},getClearAlpha:function(){return s},setClearAlpha:function(l){s=l,f(a,s)},render:u}}function Yz(n,e,t,r){let i=n.getParameter(34921),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},c=v(null),g=c;function p(H,B,Z,V,j){let z=!1;if(s){let W=l(V,Z,B);g!==W&&(g=W,u(g.object)),z=y(V,j),z&&h(V,j)}else{let W=B.wireframe===!0;(g.geometry!==V.id||g.program!==Z.id||g.wireframe!==W)&&(g.geometry=V.id,g.program=Z.id,g.wireframe=W,z=!0)}H.isInstancedMesh===!0&&(z=!0),j!==null&&t.update(j,34963),z&&(A(H,B,Z,V),j!==null&&n.bindBuffer(34963,t.get(j).buffer))}function d(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function u(H){return r.isWebGL2?n.bindVertexArray(H):a.bindVertexArrayOES(H)}function f(H){return r.isWebGL2?n.deleteVertexArray(H):a.deleteVertexArrayOES(H)}function l(H,B,Z){let V=Z.wireframe===!0,j=o[H.id];j===void 0&&(j={},o[H.id]=j);let z=j[B.id];z===void 0&&(z={},j[B.id]=z);let W=z[V];return W===void 0&&(W=v(d()),z[V]=W),W}function v(H){let B=[],Z=[],V=[];for(let j=0;j<i;j++)B[j]=0,Z[j]=0,V[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:Z,attributeDivisors:V,object:H,attributes:{},index:null}}function y(H,B){let Z=g.attributes,V=H.attributes,j=0;for(let z in V){let W=Z[z],Q=V[z];if(W===void 0||W.attribute!==Q||W.data!==Q.data)return!0;j++}return g.attributesNum!==j||g.index!==B}function h(H,B){let Z={},V=H.attributes,j=0;for(let z in V){let W=V[z],Q={};Q.attribute=W,W.data&&(Q.data=W.data),Z[z]=Q,j++}g.attributes=Z,g.attributesNum=j,g.index=B}function m(){let H=g.newAttributes;for(let B=0,Z=H.length;B<Z;B++)H[B]=0}function _(H){w(H,0)}function w(H,B){let Z=g.newAttributes,V=g.enabledAttributes,j=g.attributeDivisors;Z[H]=1,V[H]===0&&(n.enableVertexAttribArray(H),V[H]=1),j[H]!==B&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,B),j[H]=B)}function E(){let H=g.newAttributes,B=g.enabledAttributes;for(let Z=0,V=B.length;Z<V;Z++)B[Z]!==H[Z]&&(n.disableVertexAttribArray(Z),B[Z]=0)}function T(H,B,Z,V,j,z){r.isWebGL2===!0&&(Z===5124||Z===5125)?n.vertexAttribIPointer(H,B,Z,j,z):n.vertexAttribPointer(H,B,Z,V,j,z)}function A(H,B,Z,V){if(r.isWebGL2===!1&&(H.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;m();let j=V.attributes,z=Z.getAttributes(),W=B.defaultAttributeValues;for(let Q in z){let se=z[Q];if(se.location>=0){let le=j[Q];if(le===void 0&&(Q==="instanceMatrix"&&H.instanceMatrix&&(le=H.instanceMatrix),Q==="instanceColor"&&H.instanceColor&&(le=H.instanceColor)),le!==void 0){let fe=le.normalized,$=le.itemSize,ae=t.get(le);if(ae===void 0)continue;let oe=ae.buffer,ce=ae.type,he=ae.bytesPerElement;if(le.isInterleavedBufferAttribute){let we=le.data,xe=we.stride,Oe=le.offset;if(we&&we.isInstancedInterleavedBuffer){for(let ge=0;ge<se.locationSize;ge++)w(se.location+ge,we.meshPerAttribute);H.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ge=0;ge<se.locationSize;ge++)_(se.location+ge);n.bindBuffer(34962,oe);for(let ge=0;ge<se.locationSize;ge++)T(se.location+ge,$/se.locationSize,ce,fe,xe*he,(Oe+$/se.locationSize*ge)*he)}else{if(le.isInstancedBufferAttribute){for(let we=0;we<se.locationSize;we++)w(se.location+we,le.meshPerAttribute);H.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let we=0;we<se.locationSize;we++)_(se.location+we);n.bindBuffer(34962,oe);for(let we=0;we<se.locationSize;we++)T(se.location+we,$/se.locationSize,ce,fe,$*he,$/se.locationSize*we*he)}}else if(W!==void 0){let fe=W[Q];if(fe!==void 0)switch(fe.length){case 2:n.vertexAttrib2fv(se.location,fe);break;case 3:n.vertexAttrib3fv(se.location,fe);break;case 4:n.vertexAttrib4fv(se.location,fe);break;default:n.vertexAttrib1fv(se.location,fe)}}}}E()}function C(){O();for(let H in o){let B=o[H];for(let Z in B){let V=B[Z];for(let j in V)f(V[j].object),delete V[j];delete B[Z]}delete o[H]}}function R(H){if(o[H.id]===void 0)return;let B=o[H.id];for(let Z in B){let V=B[Z];for(let j in V)f(V[j].object),delete V[j];delete B[Z]}delete o[H.id]}function D(H){for(let B in o){let Z=o[B];if(Z[H.id]===void 0)continue;let V=Z[H.id];for(let j in V)f(V[j].object),delete V[j];delete Z[H.id]}}function O(){k(),g!==c&&(g=c,u(g.object))}function k(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:p,reset:O,resetDefaultState:k,dispose:C,releaseStatesOfGeometry:R,releaseStatesOfProgram:D,initAttributes:m,enableAttribute:_,disableUnusedAttributes:E}}function qz(n,e,t,r){let i=r.isWebGL2,a;function s(g){a=g}function o(g,p){n.drawArrays(a,g,p),t.update(p,a,1)}function c(g,p,d){if(d===0)return;let u,f;if(i)u=n,f="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[f](a,g,p,d),t.update(p,a,d)}this.setMode=s,this.render=o,this.renderInstances=c}function Qz(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let A=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(A){if(A==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext,o=t.precision!==void 0?t.precision:"highp",c=a(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);let g=s||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),u=n.getParameter(35660),f=n.getParameter(3379),l=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),h=n.getParameter(36348),m=n.getParameter(36349),_=u>0,w=s||e.has("OES_texture_float"),E=_&&w,T=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:g,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:p,maxTextures:d,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:l,maxAttributes:v,maxVertexUniforms:y,maxVaryings:h,maxFragmentUniforms:m,vertexTextures:_,floatFragmentTextures:w,floatVertexTextures:E,maxSamples:T}}function Jz(n){let e=this,t=null,r=0,i=!1,a=!1,s=new ss,o=new Cr,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,u,f){let l=d.length!==0||u||r!==0||i;return i=u,t=p(d,f,0),r=d.length,l},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1,g()},this.setState=function(d,u,f){let l=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,h=n.get(d);if(!i||l===null||l.length===0||a&&!y)a?p(null):g();else{let m=a?0:r,_=m*4,w=h.clippingState||null;c.value=w,w=p(l,u,_,f);for(let E=0;E!==_;++E)w[E]=t[E];h.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=m}};function g(){c.value!==t&&(c.value=t,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function p(d,u,f,l){let v=d!==null?d.length:0,y=null;if(v!==0){if(y=c.value,l!==!0||y===null){let h=f+v*4,m=u.matrixWorldInverse;o.getNormalMatrix(m),(y===null||y.length<h)&&(y=new Float32Array(h));for(let _=0,w=f;_!==v;++_,w+=4)s.copy(d[_]).applyMatrix4(m,o),s.normal.toArray(y,w),y[w+3]=s.constant}c.value=y,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function Kz(n){let e=new WeakMap;function t(s,o){return o===E0?s.mapping=yf:o===S0&&(s.mapping=xf),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let o=s.mapping;if(o===E0||o===S0)if(e.has(s)){let c=e.get(s).texture;return t(c,s.mapping)}else{let c=s.image;if(c&&c.height>0){let g=n.getRenderTarget(),p=new G0(c.height/2);return p.fromEquirectangularTexture(n,s),e.set(s,p),n.setRenderTarget(g),s.addEventListener("dispose",i),t(p.texture,s.mapping)}else return null}}return s}function i(s){let o=s.target;o.removeEventListener("dispose",i);let c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}var La=class extends Vo{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,a=r-e,s=r+e,o=i+t,c=i-t;if(this.view!==null&&this.view.enabled){let g=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=g*this.view.offsetX,s=a+g*this.view.width,o-=p*this.view.offsetY,c=o-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};La.prototype.isOrthographicCamera=!0;var Df=class extends Gs{constructor(e){super(e);this.type="RawShaderMaterial"}};Df.prototype.isRawShaderMaterial=!0;var Zh=4,$l=8,Ws=Math.pow(2,$l),kR=[.125,.215,.35,.446,.526,.582],FR=$l-Zh+1+kR.length,Xh=20,Of={[Jr]:0,[Wl]:1,[E1]:2,[Kb]:3,[$b]:4,[e2]:5,[b1]:6},N2=new La,{_lodPlanes:W0,_sizeLods:BR,_sigmas:V1}=eU(),zR=new bt,k2=null,Nf=(1+Math.sqrt(5))/2,Yh=1/Nf,UR=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,Nf,Yh),new Ce(0,Nf,-Yh),new Ce(Yh,0,Nf),new Ce(-Yh,0,Nf),new Ce(Nf,Yh,0),new Ce(-Nf,Yh,0)],F2=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=tU(Xh),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){k2=this._renderer.getRenderTarget();let a=this._allocateTargets();return this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=WR(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=GR(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<W0.length;e++)W0[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(k2),e.scissorTest=!1,j1(e,0,0,e.width,e.height)}_fromTexture(e){k2=this._renderer.getRenderTarget();let t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){let t={magFilter:Ar,minFilter:Ar,generateMipmaps:!1,type:No,format:AC,encoding:$z(e)?e.encoding:E1,depthBuffer:!1},r=HR(t);return r.depthBuffer=!e,this._pingPongRenderTarget=HR(t),r}_compileMaterial(e){let t=new br(W0[0],e);this._renderer.compile(t,N2)}_sceneToCubeUV(e,t,r,i){let a=90,s=1,o=new Bn(a,s,t,r),c=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],p=this._renderer,d=p.autoClear,u=p.outputEncoding,f=p.toneMapping;p.getClearColor(zR),p.toneMapping=Bs,p.outputEncoding=Jr,p.autoClear=!1;let l=new Hs({name:"PMREM.Background",side:or,depthWrite:!1,depthTest:!1}),v=new br(new Wo,l),y=!1,h=e.background;h?h.isColor&&(l.color.copy(h),e.background=null,y=!0):(l.color.copy(zR),y=!0);for(let m=0;m<6;m++){let _=m%3;_==0?(o.up.set(0,c[m],0),o.lookAt(g[m],0,0)):_==1?(o.up.set(0,0,c[m]),o.lookAt(0,g[m],0)):(o.up.set(0,c[m],0),o.lookAt(0,0,g[m])),j1(i,_*Ws,m>2?Ws:0,Ws,Ws),p.setRenderTarget(i),y&&p.render(v,o),p.render(e,o)}v.geometry.dispose(),v.material.dispose(),p.toneMapping=f,p.outputEncoding=u,p.autoClear=d,e.background=h}_setEncoding(e,t){e.value=Of[t.encoding]}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===yf||e.mapping===xf;i?this._cubemapShader==null&&(this._cubemapShader=WR()):this._equirectShader==null&&(this._equirectShader=GR());let a=i?this._cubemapShader:this._equirectShader,s=new br(W0[0],a),o=a.uniforms;o.envMap.value=e,i||o.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(o.inputEncoding,e),this._setEncoding(o.outputEncoding,t.texture),j1(t,0,0,3*Ws,2*Ws),r.setRenderTarget(t),r.render(s,N2)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<FR;i++){let a=Math.sqrt(V1[i]*V1[i]-V1[i-1]*V1[i-1]),s=UR[(i-1)%UR.length];this._blur(e,i-1,i,a,s)}t.autoClear=r}_blur(e,t,r,i,a){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){let c=this._renderer,g=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let p=3,d=new br(W0[i],g),u=g.uniforms,f=BR[r]-1,l=isFinite(a)?Math.PI/(2*f):2*Math.PI/(2*Xh-1),v=a/l,y=isFinite(a)?1+Math.floor(p*v):Xh;y>Xh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xh}`);let h=[],m=0;for(let T=0;T<Xh;++T){let A=T/v,C=Math.exp(-A*A/2);h.push(C),T==0?m+=C:T<y&&(m+=2*C)}for(let T=0;T<h.length;T++)h[T]=h[T]/m;u.envMap.value=e.texture,u.samples.value=y,u.weights.value=h,u.latitudinal.value=s==="latitudinal",o&&(u.poleAxis.value=o),u.dTheta.value=l,u.mipInt.value=$l-r,this._setEncoding(u.inputEncoding,e.texture),this._setEncoding(u.outputEncoding,e.texture);let _=BR[i],w=3*Math.max(0,Ws-2*_),E=(i===0?0:2*Ws)+2*_*(i>$l-Zh?i-$l+Zh:0);j1(t,w,E,3*_,2*_),c.setRenderTarget(t),c.render(d,N2)}};function $z(n){return n===void 0||n.type!==No?!1:n.encoding===Jr||n.encoding===Wl||n.encoding===b1}function eU(){let n=[],e=[],t=[],r=$l;for(let i=0;i<FR;i++){let a=Math.pow(2,r);e.push(a);let s=1/a;i>$l-Zh?s=kR[i-$l+Zh-1]:i==0&&(s=0),t.push(s);let o=1/(a-1),c=-o/2,g=1+o/2,p=[c,c,g,c,g,g,c,c,g,g,c,g],d=6,u=6,f=3,l=2,v=1,y=new Float32Array(f*u*d),h=new Float32Array(l*u*d),m=new Float32Array(v*u*d);for(let w=0;w<d;w++){let E=w%3*2/3-1,T=w>2?0:-1,A=[E,T,0,E+2/3,T,0,E+2/3,T+1,0,E,T,0,E+2/3,T+1,0,E,T+1,0];y.set(A,f*u*w),h.set(p,l*u*w);let C=[w,w,w,w,w,w];m.set(C,v*u*w)}let _=new Gt;_.setAttribute("position",new vn(y,f)),_.setAttribute("uv",new vn(h,l)),_.setAttribute("faceIndex",new vn(m,v)),n.push(_),r>Zh&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function HR(n){let e=new Wi(3*Ws,3*Ws,n);return e.texture.mapping=Th,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function j1(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function tU(n){let e=new Float32Array(n),t=new Ce(0,1,0);return new Df({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Of[Jr]},outputEncoding:{value:Of[Jr]}},vertexShader:B2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${z2()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function GR(){let n=new ft(1,1);return new Df({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Of[Jr]},outputEncoding:{value:Of[Jr]}},vertexShader:B2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${z2()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function WR(){return new Df({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Of[Jr]},outputEncoding:{value:Of[Jr]}},vertexShader:B2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${z2()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function B2(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function z2(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function nU(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){let c=o.mapping,g=c===E0||c===S0,p=c===yf||c===xf;if(g||p){if(e.has(o))return e.get(o).texture;{let d=o.image;if(g&&d&&d.height>0||p&&d&&i(d)){let u=n.getRenderTarget();t===null&&(t=new F2(n));let f=g?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),n.setRenderTarget(u),o.addEventListener("dispose",a),f.texture}else return null}}}return o}function i(o){let c=0,g=6;for(let p=0;p<g;p++)o[p]!==void 0&&c++;return c===g}function a(o){let c=o.target;c.removeEventListener("dispose",a);let g=e.get(c);g!==void 0&&(e.delete(c),g.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function rU(n){let e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){let i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function iU(n,e,t,r){let i={},a=new WeakMap;function s(d){let u=d.target;u.index!==null&&e.remove(u.index);for(let l in u.attributes)e.remove(u.attributes[l]);u.removeEventListener("dispose",s),delete i[u.id];let f=a.get(u);f&&(e.remove(f),a.delete(u)),r.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,t.memory.geometries--}function o(d,u){return i[u.id]===!0||(u.addEventListener("dispose",s),i[u.id]=!0,t.memory.geometries++),u}function c(d){let u=d.attributes;for(let l in u)e.update(u[l],34962);let f=d.morphAttributes;for(let l in f){let v=f[l];for(let y=0,h=v.length;y<h;y++)e.update(v[y],34962)}}function g(d){let u=[],f=d.index,l=d.attributes.position,v=0;if(f!==null){let m=f.array;v=f.version;for(let _=0,w=m.length;_<w;_+=3){let E=m[_+0],T=m[_+1],A=m[_+2];u.push(E,T,T,A,A,E)}}else{let m=l.array;v=l.version;for(let _=0,w=m.length/3-1;_<w;_+=3){let E=_+0,T=_+1,A=_+2;u.push(E,T,T,A,A,E)}}let y=new(xR(u)>65535?z0:B0)(u,1);y.version=v;let h=a.get(d);h&&e.remove(h),a.set(d,y)}function p(d){let u=a.get(d);if(u){let f=d.index;f!==null&&u.version<f.version&&g(d)}else g(d);return a.get(d)}return{get:o,update:c,getWireframeAttribute:p}}function aU(n,e,t,r){let i=r.isWebGL2,a;function s(u){a=u}let o,c;function g(u){o=u.type,c=u.bytesPerElement}function p(u,f){n.drawElements(a,f,o,u*c),t.update(f,a,1)}function d(u,f,l){if(l===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](a,f,o,u*c,l),t.update(f,a,l)}this.setMode=s,this.setIndex=g,this.render=p,this.renderInstances=d}function sU(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case 4:t.triangles+=o*(a/3);break;case 1:t.lines+=o*(a/2);break;case 3:t.lines+=o*(a-1);break;case 2:t.lines+=o*a;break;case 0:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}var V0=class extends er{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ar,this.minFilter=Ar,this.wrapR=qr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};V0.prototype.isDataTexture2DArray=!0;function oU(n,e){return n[0]-e[0]}function lU(n,e){return Math.abs(e[1])-Math.abs(n[1])}function VR(n,e){let t=1,r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function uU(n,e,t){let r={},i=new Float32Array(8),a=new WeakMap,s=new Ce,o=[];for(let g=0;g<8;g++)o[g]=[g,0];function c(g,p,d,u){let f=g.morphTargetInfluences;if(e.isWebGL2===!0){let l=p.morphAttributes.position.length,v=a.get(p);if(v===void 0||v.count!==l){v!==void 0&&v.texture.dispose();let m=p.morphAttributes.normal!==void 0,_=p.morphAttributes.position,w=p.morphAttributes.normal||[],E=p.attributes.position.count,T=m===!0?2:1,A=E*T,C=1;A>e.maxTextureSize&&(C=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);let R=new Float32Array(A*C*4*l),D=new V0(R,A,C,l);D.format=Qr,D.type=zs;let O=T*4;for(let k=0;k<l;k++){let H=_[k],B=w[k],Z=A*C*4*k;for(let V=0;V<H.count;V++){s.fromBufferAttribute(H,V),H.normalized===!0&&VR(s,H);let j=V*O;R[Z+j+0]=s.x,R[Z+j+1]=s.y,R[Z+j+2]=s.z,R[Z+j+3]=0,m===!0&&(s.fromBufferAttribute(B,V),B.normalized===!0&&VR(s,B),R[Z+j+4]=s.x,R[Z+j+5]=s.y,R[Z+j+6]=s.z,R[Z+j+7]=0)}}v={count:l,texture:D,size:new ft(A,C)},a.set(p,v)}let y=0;for(let m=0;m<f.length;m++)y+=f[m];let h=p.morphTargetsRelative?1:1-y;u.getUniforms().setValue(n,"morphTargetBaseInfluence",h),u.getUniforms().setValue(n,"morphTargetInfluences",f),u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{let l=f===void 0?0:f.length,v=r[p.id];if(v===void 0||v.length!==l){v=[];for(let w=0;w<l;w++)v[w]=[w,0];r[p.id]=v}for(let w=0;w<l;w++){let E=v[w];E[0]=w,E[1]=f[w]}v.sort(lU);for(let w=0;w<8;w++)w<l&&v[w][1]?(o[w][0]=v[w][0],o[w][1]=v[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(oU);let y=p.morphAttributes.position,h=p.morphAttributes.normal,m=0;for(let w=0;w<8;w++){let E=o[w],T=E[0],A=E[1];T!==Number.MAX_SAFE_INTEGER&&A?(y&&p.getAttribute("morphTarget"+w)!==y[T]&&p.setAttribute("morphTarget"+w,y[T]),h&&p.getAttribute("morphNormal"+w)!==h[T]&&p.setAttribute("morphNormal"+w,h[T]),i[w]=A,m+=A):(y&&p.hasAttribute("morphTarget"+w)===!0&&p.deleteAttribute("morphTarget"+w),h&&p.hasAttribute("morphNormal"+w)===!0&&p.deleteAttribute("morphNormal"+w),i[w]=0)}let _=p.morphTargetsRelative?1:1-m;u.getUniforms().setValue(n,"morphTargetBaseInfluence",_),u.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:c}}function fU(n,e,t,r){let i=new WeakMap;function a(c){let g=r.render.frame,p=c.geometry,d=e.get(c,p);return i.get(d)!==g&&(e.update(d),i.set(d,g)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),t.update(c.instanceMatrix,34962),c.instanceColor!==null&&t.update(c.instanceColor,34962)),d}function s(){i=new WeakMap}function o(c){let g=c.target;g.removeEventListener("dispose",o),t.remove(g.instanceMatrix),g.instanceColor!==null&&t.remove(g.instanceColor)}return{update:a,dispose:s}}var Z1=class extends er{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ar,this.minFilter=Ar,this.wrapR=qr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};Z1.prototype.isDataTexture3D=!0;var jR=new er,ZR=new V0,XR=new Z1,YR=new Lf,qR=[],QR=[],JR=new Float32Array(16),KR=new Float32Array(9),$R=new Float32Array(4);function qh(n,e,t){let r=n[0];if(r<=0||r>0)return n;let i=e*t,a=qR[i];if(a===void 0&&(a=new Float32Array(i),qR[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Si(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function gi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function X1(n,e){let t=QR[e];t===void 0&&(t=new Int32Array(e),QR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function cU(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function hU(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Si(t,e))return;n.uniform2fv(this.addr,e),gi(t,e)}}function dU(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Si(t,e))return;n.uniform3fv(this.addr,e),gi(t,e)}}function pU(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Si(t,e))return;n.uniform4fv(this.addr,e),gi(t,e)}}function mU(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),gi(t,e)}else{if(Si(t,r))return;$R.set(r),n.uniformMatrix2fv(this.addr,!1,$R),gi(t,r)}}function gU(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),gi(t,e)}else{if(Si(t,r))return;KR.set(r),n.uniformMatrix3fv(this.addr,!1,KR),gi(t,r)}}function vU(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),gi(t,e)}else{if(Si(t,r))return;JR.set(r),n.uniformMatrix4fv(this.addr,!1,JR),gi(t,r)}}function _U(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function yU(n,e){let t=this.cache;Si(t,e)||(n.uniform2iv(this.addr,e),gi(t,e))}function xU(n,e){let t=this.cache;Si(t,e)||(n.uniform3iv(this.addr,e),gi(t,e))}function wU(n,e){let t=this.cache;Si(t,e)||(n.uniform4iv(this.addr,e),gi(t,e))}function bU(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function EU(n,e){let t=this.cache;Si(t,e)||(n.uniform2uiv(this.addr,e),gi(t,e))}function SU(n,e){let t=this.cache;Si(t,e)||(n.uniform3uiv(this.addr,e),gi(t,e))}function MU(n,e){let t=this.cache;Si(t,e)||(n.uniform4uiv(this.addr,e),gi(t,e))}function TU(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||jR,i)}function AU(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||XR,i)}function CU(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||YR,i)}function RU(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||ZR,i)}function PU(n){switch(n){case 5126:return cU;case 35664:return hU;case 35665:return dU;case 35666:return pU;case 35674:return mU;case 35675:return gU;case 35676:return vU;case 5124:case 35670:return _U;case 35667:case 35671:return yU;case 35668:case 35672:return xU;case 35669:case 35673:return wU;case 5125:return bU;case 36294:return EU;case 36295:return SU;case 36296:return MU;case 35678:case 36198:case 36298:case 36306:case 35682:return TU;case 35679:case 36299:case 36307:return AU;case 35680:case 36300:case 36308:case 36293:return CU;case 36289:case 36303:case 36311:case 36292:return RU}}function LU(n,e){n.uniform1fv(this.addr,e)}function IU(n,e){let t=qh(e,this.size,2);n.uniform2fv(this.addr,t)}function DU(n,e){let t=qh(e,this.size,3);n.uniform3fv(this.addr,t)}function OU(n,e){let t=qh(e,this.size,4);n.uniform4fv(this.addr,t)}function NU(n,e){let t=qh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function kU(n,e){let t=qh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function FU(n,e){let t=qh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function BU(n,e){n.uniform1iv(this.addr,e)}function zU(n,e){n.uniform2iv(this.addr,e)}function UU(n,e){n.uniform3iv(this.addr,e)}function HU(n,e){n.uniform4iv(this.addr,e)}function GU(n,e){n.uniform1uiv(this.addr,e)}function WU(n,e){n.uniform2uiv(this.addr,e)}function VU(n,e){n.uniform3uiv(this.addr,e)}function jU(n,e){n.uniform4uiv(this.addr,e)}function ZU(n,e,t){let r=e.length,i=X1(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.safeSetTexture2D(e[a]||jR,i[a])}function XU(n,e,t){let r=e.length,i=X1(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture3D(e[a]||XR,i[a])}function YU(n,e,t){let r=e.length,i=X1(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.safeSetTextureCube(e[a]||YR,i[a])}function qU(n,e,t){let r=e.length,i=X1(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||ZR,i[a])}function QU(n){switch(n){case 5126:return LU;case 35664:return IU;case 35665:return DU;case 35666:return OU;case 35674:return NU;case 35675:return kU;case 35676:return FU;case 5124:case 35670:return BU;case 35667:case 35671:return zU;case 35668:case 35672:return UU;case 35669:case 35673:return HU;case 5125:return GU;case 36294:return WU;case 36295:return VU;case 36296:return jU;case 35678:case 36198:case 36298:case 36306:case 35682:return ZU;case 35679:case 36299:case 36307:return XU;case 35680:case 36300:case 36308:case 36293:return YU;case 36289:case 36303:case 36311:case 36292:return qU}}function JU(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=PU(e.type)}function eP(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=QU(e.type)}eP.prototype.updateCache=function(n){let e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),gi(e,n)};function tP(n){this.id=n,this.seq=[],this.map={}}tP.prototype.setValue=function(n,e,t){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let s=r[i];s.setValue(n,e[s.id],t)}};var U2=/(\w+)(\])?(\[|\.)?/g;function nP(n,e){n.seq.push(e),n.map[e.id]=e}function KU(n,e,t){let r=n.name,i=r.length;for(U2.lastIndex=0;;){let a=U2.exec(r),s=U2.lastIndex,o=a[1],c=a[2]==="]",g=a[3];if(c&&(o=o|0),g===void 0||g==="["&&s+2===i){nP(t,g===void 0?new JU(o,n,e):new eP(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new tP(o),nP(t,d)),t=d}}}function eu(n,e){this.seq=[],this.map={};let t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){let i=n.getActiveUniform(e,r),a=n.getUniformLocation(e,i.name);KU(i,a,this)}}eu.prototype.setValue=function(n,e,t,r){let i=this.map[e];i!==void 0&&i.setValue(n,t,r)};eu.prototype.setOptional=function(n,e,t){let r=e[t];r!==void 0&&this.setValue(n,t,r)};eu.upload=function(n,e,t,r){for(let i=0,a=e.length;i!==a;++i){let s=e[i],o=t[s.id];o.needsUpdate!==!1&&s.setValue(n,o.value,r)}};eu.seqWithValue=function(n,e){let t=[];for(let r=0,i=n.length;r!==i;++r){let a=n[r];a.id in e&&t.push(a)}return t};function rP(n,e,t){let r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}var $U=0;function e7(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function iP(n){switch(n){case Jr:return["Linear","( value )"];case Wl:return["sRGB","( value )"];case E1:return["RGBE","( value )"];case Kb:return["RGBM","( value, 7.0 )"];case $b:return["RGBM","( value, 16.0 )"];case e2:return["RGBD","( value, 256.0 )"];case b1:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function aP(n,e,t){let r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+e7(n.getShaderSource(e))}function kf(n,e){let t=iP(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function t7(n,e){let t=iP(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function n7(n,e){let t;switch(e){case pC:t="Linear";break;case mC:t="Reinhard";break;case gC:t="OptimizedCineon";break;case g1:t="ACESFilmic";break;case vC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function r7(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(j0).join(`
`)}function i7(n){let e=[];for(let t in n){let r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function a7(n,e){let t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){let a=n.getActiveAttrib(e,i),s=a.name,o=1;a.type===35674&&(o=2),a.type===35675&&(o=3),a.type===35676&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function j0(n){return n!==""}function sP(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oP(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var s7=/^[ \t]*#include +<([\w\d./]+)>/gm;function H2(n){return n.replace(s7,o7)}function o7(n,e){let t=cn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return H2(t)}var l7=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,u7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lP(n){return n.replace(u7,uP).replace(l7,f7)}function f7(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uP(n,e,t,r)}function uP(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function fP(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function c7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Lb?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===p1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Sh&&(e="SHADOWMAP_TYPE_VSM"),e}function h7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case yf:case xf:e="ENVMAP_TYPE_CUBE";break;case Th:case M0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function d7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case xf:case M0:e="ENVMAP_MODE_REFRACTION";break}return e}function p7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case b0:e="ENVMAP_BLENDING_MULTIPLY";break;case hC:e="ENVMAP_BLENDING_MIX";break;case dC:e="ENVMAP_BLENDING_ADD";break}return e}function m7(n,e,t,r){let i=n.getContext(),a=t.defines,s=t.vertexShader,o=t.fragmentShader,c=c7(t),g=h7(t),p=d7(t),d=p7(t),u=n.gammaFactor>0?n.gammaFactor:1,f=t.isWebGL2?"":r7(t),l=i7(a),v=i.createProgram(),y,h,m=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[l].filter(j0).join(`
`),y.length>0&&(y+=`
`),h=[f,l].filter(j0).join(`
`),h.length>0&&(h+=`
`)):(y=[fP(t),"#define SHADER_NAME "+t.shaderName,l,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+u,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(j0).join(`
`),h=[f,fP(t),"#define SHADER_NAME "+t.shaderName,l,"#define GAMMA_FACTOR "+u,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.envMap?"#define "+p:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Bs?"#define TONE_MAPPING":"",t.toneMapping!==Bs?cn.tonemapping_pars_fragment:"",t.toneMapping!==Bs?n7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Hl?"#define OPAQUE":"",cn.encodings_pars_fragment,t.map?kf("mapTexelToLinear",t.mapEncoding):"",t.matcap?kf("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?kf("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?kf("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?kf("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?kf("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?kf("lightMapTexelToLinear",t.lightMapEncoding):"",t7("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(j0).join(`
`)),s=H2(s),s=sP(s,t),s=oP(s,t),o=H2(o),o=sP(o,t),o=oP(o,t),s=lP(s),o=lP(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,h=["#define varying in",t.glslVersion===t2?"":"out highp vec4 pc_fragColor;",t.glslVersion===t2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h);let _=m+y+s,w=m+h+o,E=rP(i,35633,_),T=rP(i,35632,w);if(i.attachShader(v,E),i.attachShader(v,T),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){let R=i.getProgramInfoLog(v).trim(),D=i.getShaderInfoLog(E).trim(),O=i.getShaderInfoLog(T).trim(),k=!0,H=!0;if(i.getProgramParameter(v,35714)===!1){k=!1;let B=aP(i,E,"vertex"),Z=aP(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+B+`
`+Z)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||O==="")&&(H=!1);H&&(this.diagnostics={runnable:k,programLog:R,vertexShader:{log:D,prefix:y},fragmentShader:{log:O,prefix:h}})}i.deleteShader(E),i.deleteShader(T);let A;this.getUniforms=function(){return A===void 0&&(A=new eu(i,v)),A};let C;return this.getAttributes=function(){return C===void 0&&(C=a7(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=$U++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=T,this}function g7(n,e,t,r,i,a,s){let o=[],c=i.isWebGL2,g=i.logarithmicDepthBuffer,p=i.floatVertexTextures,d=i.maxVertexUniforms,u=i.vertexTextures,f=i.precision,l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function y(A){let R=A.skeleton.bones;if(p)return 1024;{let O=Math.floor((d-20)/4),k=Math.min(O,R.length);return k<R.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+R.length+" bones. This GPU supports "+k+"."),0):k}}function h(A){let C;return A&&A.isTexture?C=A.encoding:A&&A.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=A.texture.encoding):C=Jr,C}function m(A,C,R,D,O){let k=D.fog,H=A.isMeshStandardMaterial?D.environment:null,B=(A.isMeshStandardMaterial?t:e).get(A.envMap||H),Z=l[A.type],V=O.isSkinnedMesh?y(O):0;A.precision!==null&&(f=i.getMaxPrecision(A.precision),f!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",f,"instead."));let j,z;if(Z){let fe=os[Z];j=fe.vertexShader,z=fe.fragmentShader}else j=A.vertexShader,z=A.fragmentShader;let W=n.getRenderTarget(),Q=A.alphaTest>0,se=A.clearcoat>0;return{isWebGL2:c,shaderID:Z,shaderName:A.type,vertexShader:j,fragmentShader:z,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:f,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:u,outputEncoding:W!==null?h(W.texture):n.outputEncoding,map:!!A.map,mapEncoding:h(A.map),matcap:!!A.matcap,matcapEncoding:h(A.matcap),envMap:!!B,envMapMode:B&&B.mapping,envMapEncoding:h(B),envMapCubeUV:!!B&&(B.mapping===Th||B.mapping===M0),lightMap:!!A.lightMap,lightMapEncoding:h(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:h(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===gR,tangentSpaceNormalMap:A.normalMapType===Af,clearcoat:se,clearcoatMap:se&&!!A.clearcoatMap,clearcoatRoughnessMap:se&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:se&&!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,specularColorMapEncoding:h(A.specularColorMap),alphaMap:!!A.alphaMap,alphaTest:Q,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenColorMapEncoding:h(A.sheenColorMap),sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!O.geometry&&!!O.geometry.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!O.geometry&&!!O.geometry.attributes.color&&O.geometry.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||A.sheenRoughnessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||A.transmission>0||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||A.sheen>0||!!A.sheenColorMap||!!A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!k,useFog:A.fog,fogExp2:k&&k.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:g,skinning:O.isSkinnedMesh===!0&&V>0,maxBones:V,useVertexTexture:p,morphTargets:!!O.geometry&&!!O.geometry.morphAttributes.position,morphNormals:!!O.geometry&&!!O.geometry.morphAttributes.normal,morphTargetsCount:!!O.geometry&&!!O.geometry.morphAttributes.position?O.geometry.morphAttributes.position.length:0,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,format:A.format,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&R.length>0,shadowMapType:n.shadowMap.type,toneMapping:A.toneMapped?n.toneMapping:Bs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===vf,flipSided:A.side===or,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function _(A){let C=[];if(A.shaderID?C.push(A.shaderID):(C.push(wR(A.fragmentShader)),C.push(wR(A.vertexShader))),A.defines!==void 0)for(let R in A.defines)C.push(R),C.push(A.defines[R]);if(A.isRawShaderMaterial===!1){for(let R=0;R<v.length;R++)C.push(A[v[R]]);C.push(n.outputEncoding),C.push(n.gammaFactor)}return C.push(A.customProgramCacheKey),C.join()}function w(A){let C=l[A.type],R;if(C){let D=os[C];R=OR.clone(D.uniforms)}else R=A.uniforms;return R}function E(A,C){let R;for(let D=0,O=o.length;D<O;D++){let k=o[D];if(k.cacheKey===C){R=k,++R.usedTimes;break}}return R===void 0&&(R=new m7(n,C,A,a),o.push(R)),R}function T(A){if(--A.usedTimes==0){let C=o.indexOf(A);o[C]=o[o.length-1],o.pop(),A.destroy()}}return{getParameters:m,getProgramCacheKey:_,getUniforms:w,acquireProgram:E,releaseProgram:T,programs:o}}function v7(){let n=new WeakMap;function e(a){let s=n.get(a);return s===void 0&&(s={},n.set(a,s)),s}function t(a){n.delete(a)}function r(a,s,o){n.get(a)[s]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function _7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function cP(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function hP(n){let e=[],t=0,r=[],i=[],a=[],s={id:-1};function o(){t=0,r.length=0,i.length=0,a.length=0}function c(f,l,v,y,h,m){let _=e[t],w=n.get(v);return _===void 0?(_={id:f.id,object:f,geometry:l,material:v,program:w.program||s,groupOrder:y,renderOrder:f.renderOrder,z:h,group:m},e[t]=_):(_.id=f.id,_.object=f,_.geometry=l,_.material=v,_.program=w.program||s,_.groupOrder=y,_.renderOrder=f.renderOrder,_.z=h,_.group=m),t++,_}function g(f,l,v,y,h,m){let _=c(f,l,v,y,h,m);v.transmission>0?i.push(_):v.transparent===!0?a.push(_):r.push(_)}function p(f,l,v,y,h,m){let _=c(f,l,v,y,h,m);v.transmission>0?i.unshift(_):v.transparent===!0?a.unshift(_):r.unshift(_)}function d(f,l){r.length>1&&r.sort(f||_7),i.length>1&&i.sort(l||cP),a.length>1&&a.sort(l||cP)}function u(){for(let f=t,l=e.length;f<l;f++){let v=e[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}}return{opaque:r,transmissive:i,transparent:a,init:o,push:g,unshift:p,finish:u,sort:d}}function y7(n){let e=new WeakMap;function t(i,a){let s;return e.has(i)===!1?(s=new hP(n),e.set(i,[s])):a>=e.get(i).length?(s=new hP(n),e.get(i).push(s)):s=e.get(i)[a],s}function r(){e=new WeakMap}return{get:t,dispose:r}}function x7(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new bt};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new bt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":t={color:new bt,position:new Ce,halfWidth:new Ce,halfHeight:new Ce};break}return n[e.id]=t,t}}}function w7(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var b7=0;function E7(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function S7(n,e){let t=new x7,r=w7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)i.probe.push(new Ce);let a=new Ce,s=new Nt,o=new Nt;function c(p,d){let u=0,f=0,l=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let v=0,y=0,h=0,m=0,_=0,w=0,E=0,T=0;p.sort(E7);let A=d!==!0?Math.PI:1;for(let R=0,D=p.length;R<D;R++){let O=p[R],k=O.color,H=O.intensity,B=O.distance,Z=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=k.r*H*A,f+=k.g*H*A,l+=k.b*H*A;else if(O.isLightProbe)for(let V=0;V<9;V++)i.probe[V].addScaledVector(O.sh.coefficients[V],H);else if(O.isDirectionalLight){let V=t.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity*A),O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.directionalShadow[v]=z,i.directionalShadowMap[v]=Z,i.directionalShadowMatrix[v]=O.shadow.matrix,w++}i.directional[v]=V,v++}else if(O.isSpotLight){let V=t.get(O);if(V.position.setFromMatrixPosition(O.matrixWorld),V.color.copy(k).multiplyScalar(H*A),V.distance=B,V.coneCos=Math.cos(O.angle),V.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),V.decay=O.decay,O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.spotShadow[h]=z,i.spotShadowMap[h]=Z,i.spotShadowMatrix[h]=O.shadow.matrix,T++}i.spot[h]=V,h++}else if(O.isRectAreaLight){let V=t.get(O);V.color.copy(k).multiplyScalar(H),V.halfWidth.set(O.width*.5,0,0),V.halfHeight.set(0,O.height*.5,0),i.rectArea[m]=V,m++}else if(O.isPointLight){let V=t.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity*A),V.distance=O.distance,V.decay=O.decay,O.castShadow){let j=O.shadow,z=r.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,z.shadowCameraNear=j.camera.near,z.shadowCameraFar=j.camera.far,i.pointShadow[y]=z,i.pointShadowMap[y]=Z,i.pointShadowMatrix[y]=O.shadow.matrix,E++}i.point[y]=V,y++}else if(O.isHemisphereLight){let V=t.get(O);V.skyColor.copy(O.color).multiplyScalar(H*A),V.groundColor.copy(O.groundColor).multiplyScalar(H*A),i.hemi[_]=V,_++}}m>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_FLOAT_1,i.rectAreaLTC2=Et.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_HALF_1,i.rectAreaLTC2=Et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=u,i.ambient[1]=f,i.ambient[2]=l;let C=i.hash;(C.directionalLength!==v||C.pointLength!==y||C.spotLength!==h||C.rectAreaLength!==m||C.hemiLength!==_||C.numDirectionalShadows!==w||C.numPointShadows!==E||C.numSpotShadows!==T)&&(i.directional.length=v,i.spot.length=h,i.rectArea.length=m,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=E,i.spotShadowMatrix.length=T,C.directionalLength=v,C.pointLength=y,C.spotLength=h,C.rectAreaLength=m,C.hemiLength=_,C.numDirectionalShadows=w,C.numPointShadows=E,C.numSpotShadows=T,i.version=b7++)}function g(p,d){let u=0,f=0,l=0,v=0,y=0,h=d.matrixWorldInverse;for(let m=0,_=p.length;m<_;m++){let w=p[m];if(w.isDirectionalLight){let E=i.directional[u];E.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(a),E.direction.transformDirection(h),u++}else if(w.isSpotLight){let E=i.spot[l];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),E.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(a),E.direction.transformDirection(h),l++}else if(w.isRectAreaLight){let E=i.rectArea[v];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),o.identity(),s.copy(w.matrixWorld),s.premultiply(h),o.extractRotation(s),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(o),E.halfHeight.applyMatrix4(o),v++}else if(w.isPointLight){let E=i.point[f];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),f++}else if(w.isHemisphereLight){let E=i.hemi[y];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(h),E.direction.normalize(),y++}}}return{setup:c,setupView:g,state:i}}function dP(n,e){let t=new S7(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(d){r.push(d)}function o(d){i.push(d)}function c(d){t.setup(r,d)}function g(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:c,setupLightsView:g,pushLight:s,pushShadow:o}}function M7(n,e){let t=new WeakMap;function r(a,s=0){let o;return t.has(a)===!1?(o=new dP(n,e),t.set(a,[o])):s>=t.get(a).length?(o=new dP(n,e),t.get(a).push(o)):o=t.get(a)[s],o}function i(){t=new WeakMap}return{get:r,dispose:i}}var Z0=class extends Or{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=pR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}};Z0.prototype.isMeshDepthMaterial=!0;var X0=class extends Or{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Ce,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};X0.prototype.isMeshDistanceMaterial=!0;var T7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,A7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pP(n,e,t){let r=new jh,i=new ft,a=new ft,s=new Dn,o=new Z0({depthPacking:mR}),c=new X0,g={},p=t.maxTextureSize,d={0:or,1:gf,2:vf},u=new Gs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:T7,fragmentShader:A7}),f=u.clone();f.defines.HORIZONTAL_PASS=1;let l=new Gt;l.setAttribute("position",new vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let v=new br(l,u),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Lb,this.render=function(w,E,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||w.length===0)return;let A=n.getRenderTarget(),C=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Oo),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let O=0,k=w.length;O<k;O++){let H=w[O],B=H.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);let Z=B.getFrameExtents();if(i.multiply(Z),a.copy(B.mapSize),(i.x>p||i.y>p)&&(i.x>p&&(a.x=Math.floor(p/Z.x),i.x=a.x*Z.x,B.mapSize.x=a.x),i.y>p&&(a.y=Math.floor(p/Z.y),i.y=a.y*Z.y,B.mapSize.y=a.y)),B.map===null&&!B.isPointLightShadow&&this.type===Sh){let j={minFilter:Dr,magFilter:Dr,format:Qr};B.map=new Wi(i.x,i.y,j),B.map.texture.name=H.name+".shadowMap",B.mapPass=new Wi(i.x,i.y,j),B.camera.updateProjectionMatrix()}if(B.map===null){let j={minFilter:Ar,magFilter:Ar,format:Qr};B.map=new Wi(i.x,i.y,j),B.map.texture.name=H.name+".shadowMap",B.camera.updateProjectionMatrix()}n.setRenderTarget(B.map),n.clear();let V=B.getViewportCount();for(let j=0;j<V;j++){let z=B.getViewport(j);s.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),D.viewport(s),B.updateMatrices(H,j),r=B.getFrustum(),_(E,T,B.camera,H,this.type)}!B.isPointLightShadow&&this.type===Sh&&h(B,T),B.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(A,C,R)};function h(w,E){let T=e.update(v);u.defines.VSM_SAMPLES!==w.blurSamples&&(u.defines.VSM_SAMPLES=w.blurSamples,f.defines.VSM_SAMPLES=w.blurSamples,u.needsUpdate=!0,f.needsUpdate=!0),u.uniforms.shadow_pass.value=w.map.texture,u.uniforms.resolution.value=w.mapSize,u.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(E,null,T,u,v,null),f.uniforms.shadow_pass.value=w.mapPass.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(E,null,T,f,v,null)}function m(w,E,T,A,C,R,D){let O=null,k=A.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(k!==void 0?O=k:O=A.isPointLight===!0?c:o,n.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){let H=O.uuid,B=T.uuid,Z=g[H];Z===void 0&&(Z={},g[H]=Z);let V=Z[B];V===void 0&&(V=O.clone(),Z[B]=V),O=V}return O.visible=T.visible,O.wireframe=T.wireframe,D===Sh?O.side=T.shadowSide!==null?T.shadowSide:T.side:O.side=T.shadowSide!==null?T.shadowSide:d[T.side],O.alphaMap=T.alphaMap,O.alphaTest=T.alphaTest,O.clipShadows=T.clipShadows,O.clippingPlanes=T.clippingPlanes,O.clipIntersection=T.clipIntersection,O.displacementMap=T.displacementMap,O.displacementScale=T.displacementScale,O.displacementBias=T.displacementBias,O.wireframeLinewidth=T.wireframeLinewidth,O.linewidth=T.linewidth,A.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(A.matrixWorld),O.nearDistance=C,O.farDistance=R),O}function _(w,E,T,A,C){if(w.visible===!1)return;if(w.layers.test(E.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&C===Sh)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,w.matrixWorld);let O=e.update(w),k=w.material;if(Array.isArray(k)){let H=O.groups;for(let B=0,Z=H.length;B<Z;B++){let V=H[B],j=k[V.materialIndex];if(j&&j.visible){let z=m(w,O,j,A,T.near,T.far,C);n.renderBufferDirect(T,null,O,z,w,V)}}}else if(k.visible){let H=m(w,O,k,A,T.near,T.far,C);n.renderBufferDirect(T,null,O,H,w,null)}}let D=w.children;for(let O=0,k=D.length;O<k;O++)_(D[O],E,T,A,C)}}function C7(n,e,t){let r=t.isWebGL2;function i(){let be=!1,Le=new Dn,ze=null,qe=new Dn(0,0,0,0);return{setMask:function(Ye){ze!==Ye&&!be&&(n.colorMask(Ye,Ye,Ye,Ye),ze=Ye)},setLocked:function(Ye){be=Ye},setClear:function(Ye,Me,Ge,et,ut){ut===!0&&(Ye*=et,Me*=et,Ge*=et),Le.set(Ye,Me,Ge,et),qe.equals(Le)===!1&&(n.clearColor(Ye,Me,Ge,et),qe.copy(Le))},reset:function(){be=!1,ze=null,qe.set(-1,0,0,0)}}}function a(){let be=!1,Le=null,ze=null,qe=null;return{setTest:function(Ye){Ye?fe(2929):$(2929)},setMask:function(Ye){Le!==Ye&&!be&&(n.depthMask(Ye),Le=Ye)},setFunc:function(Ye){if(ze!==Ye){if(Ye)switch(Ye){case aC:n.depthFunc(512);break;case sC:n.depthFunc(519);break;case oC:n.depthFunc(513);break;case m1:n.depthFunc(515);break;case lC:n.depthFunc(514);break;case uC:n.depthFunc(518);break;case fC:n.depthFunc(516);break;case cC:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ze=Ye}},setLocked:function(Ye){be=Ye},setClear:function(Ye){qe!==Ye&&(n.clearDepth(Ye),qe=Ye)},reset:function(){be=!1,Le=null,ze=null,qe=null}}}function s(){let be=!1,Le=null,ze=null,qe=null,Ye=null,Me=null,Ge=null,et=null,ut=null;return{setTest:function(ct){be||(ct?fe(2960):$(2960))},setMask:function(ct){Le!==ct&&!be&&(n.stencilMask(ct),Le=ct)},setFunc:function(ct,X,Ae){(ze!==ct||qe!==X||Ye!==Ae)&&(n.stencilFunc(ct,X,Ae),ze=ct,qe=X,Ye=Ae)},setOp:function(ct,X,Ae){(Me!==ct||Ge!==X||et!==Ae)&&(n.stencilOp(ct,X,Ae),Me=ct,Ge=X,et=Ae)},setLocked:function(ct){be=ct},setClear:function(ct){ut!==ct&&(n.clearStencil(ct),ut=ct)},reset:function(){be=!1,Le=null,ze=null,qe=null,Ye=null,Me=null,Ge=null,et=null,ut=null}}}let o=new i,c=new a,g=new s,p={},d={},u=null,f=!1,l=null,v=null,y=null,h=null,m=null,_=null,w=null,E=!1,T=null,A=null,C=null,R=null,D=null,O=n.getParameter(35661),k=!1,H=0,B=n.getParameter(7938);B.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(B)[1]),k=H>=1):B.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),k=H>=2);let Z=null,V={},j=n.getParameter(3088),z=n.getParameter(2978),W=new Dn().fromArray(j),Q=new Dn().fromArray(z);function se(be,Le,ze){let qe=new Uint8Array(4),Ye=n.createTexture();n.bindTexture(be,Ye),n.texParameteri(be,10241,9728),n.texParameteri(be,10240,9728);for(let Me=0;Me<ze;Me++)n.texImage2D(Le+Me,0,6408,1,1,0,6408,5121,qe);return Ye}let le={};le[3553]=se(3553,3553,1),le[34067]=se(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),g.setClear(0),fe(2929),c.setFunc(m1),Oe(!1),ge(Pb),fe(2884),we(Oo);function fe(be){p[be]!==!0&&(n.enable(be),p[be]=!0)}function $(be){p[be]!==!1&&(n.disable(be),p[be]=!1)}function ae(be,Le){return d[be]!==Le?(n.bindFramebuffer(be,Le),d[be]=Le,r&&(be===36009&&(d[36160]=Le),be===36160&&(d[36009]=Le)),!0):!1}function oe(be){return u!==be?(n.useProgram(be),u=be,!0):!1}let ce={[_f]:32774,[YA]:32778,[qA]:32779};if(r)ce[kb]=32775,ce[Fb]=32776;else{let be=e.get("EXT_blend_minmax");be!==null&&(ce[kb]=be.MIN_EXT,ce[Fb]=be.MAX_EXT)}let he={[QA]:0,[JA]:1,[KA]:768,[Bb]:770,[iC]:776,[nC]:774,[eC]:772,[$A]:769,[zb]:771,[rC]:775,[tC]:773};function we(be,Le,ze,qe,Ye,Me,Ge,et){if(be===Oo){f===!0&&($(3042),f=!1);return}if(f===!1&&(fe(3042),f=!0),be!==XA){if(be!==l||et!==E){if((v!==_f||m!==_f)&&(n.blendEquation(32774),v=_f,m=_f),et)switch(be){case Mh:n.blendFuncSeparate(1,771,1,771);break;case Db:n.blendFunc(1,1);break;case Ob:n.blendFuncSeparate(0,0,769,771);break;case Nb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case Mh:n.blendFuncSeparate(770,771,1,771);break;case Db:n.blendFunc(770,1);break;case Ob:n.blendFunc(0,769);break;case Nb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}y=null,h=null,_=null,w=null,l=be,E=et}return}Ye=Ye||Le,Me=Me||ze,Ge=Ge||qe,(Le!==v||Ye!==m)&&(n.blendEquationSeparate(ce[Le],ce[Ye]),v=Le,m=Ye),(ze!==y||qe!==h||Me!==_||Ge!==w)&&(n.blendFuncSeparate(he[ze],he[qe],he[Me],he[Ge]),y=ze,h=qe,_=Me,w=Ge),l=be,E=null}function xe(be,Le){be.side===vf?$(2884):fe(2884);let ze=be.side===or;Le&&(ze=!ze),Oe(ze),be.blending===Mh&&be.transparent===!1?we(Oo):we(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),c.setFunc(be.depthFunc),c.setTest(be.depthTest),c.setMask(be.depthWrite),o.setMask(be.colorWrite);let qe=be.stencilWrite;g.setTest(qe),qe&&(g.setMask(be.stencilWriteMask),g.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),g.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),pe(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?fe(32926):$(32926)}function Oe(be){T!==be&&(be?n.frontFace(2304):n.frontFace(2305),T=be)}function ge(be){be!==jA?(fe(2884),be!==A&&(be===Pb?n.cullFace(1029):be===ZA?n.cullFace(1028):n.cullFace(1032))):$(2884),A=be}function De(be){be!==C&&(k&&n.lineWidth(be),C=be)}function pe(be,Le,ze){be?(fe(32823),(R!==Le||D!==ze)&&(n.polygonOffset(Le,ze),R=Le,D=ze)):$(32823)}function de(be){be?fe(3089):$(3089)}function ie(be){be===void 0&&(be=33984+O-1),Z!==be&&(n.activeTexture(be),Z=be)}function re(be,Le){Z===null&&ie();let ze=V[Z];ze===void 0&&(ze={type:void 0,texture:void 0},V[Z]=ze),(ze.type!==be||ze.texture!==Le)&&(n.bindTexture(be,Le||le[be]),ze.type=be,ze.texture=Le)}function q(){let be=V[Z];be!==void 0&&be.type!==void 0&&(n.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function te(){try{n.compressedTexImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function G(){try{n.texSubImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function L(){try{n.texStorage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function I(){try{n.texImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function U(){try{n.texImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function J(be){W.equals(be)===!1&&(n.scissor(be.x,be.y,be.z,be.w),W.copy(be))}function ye(be){Q.equals(be)===!1&&(n.viewport(be.x,be.y,be.z,be.w),Q.copy(be))}function Ie(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},Z=null,V={},d={},u=null,f=!1,l=null,v=null,y=null,h=null,m=null,_=null,w=null,E=!1,T=null,A=null,C=null,R=null,D=null,W.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),g.reset()}return{buffers:{color:o,depth:c,stencil:g},enable:fe,disable:$,bindFramebuffer:ae,useProgram:oe,setBlending:we,setMaterial:xe,setFlipSided:Oe,setCullFace:ge,setLineWidth:De,setPolygonOffset:pe,setScissorTest:de,activeTexture:ie,bindTexture:re,unbindTexture:q,compressedTexImage2D:te,texImage2D:I,texImage3D:U,texStorage2D:L,texSubImage2D:G,scissor:J,viewport:ye,reset:Ie}}function R7(n,e,t,r,i,a,s){let o=i.isWebGL2,c=i.maxTextures,g=i.maxCubemapSize,p=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,l=new WeakMap,v,y=!1;try{y=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function h(L,I){return y?new OffscreenCanvas(L,I):T1("canvas")}function m(L,I,U,J){let ye=1;if((L.width>J||L.height>J)&&(ye=J/Math.max(L.width,L.height)),ye<1||I===!0)if(typeof HTMLImageElement!="undefined"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&L instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&L instanceof ImageBitmap){let Ie=I?yR:Math.floor,be=Ie(ye*L.width),Le=Ie(ye*L.height);v===void 0&&(v=h(be,Le));let ze=U?h(be,Le):v;return ze.width=be,ze.height=Le,ze.getContext("2d").drawImage(L,0,0,be,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+L.width+"x"+L.height+") to ("+be+"x"+Le+")."),ze}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+L.width+"x"+L.height+")."),L;return L}function _(L){return r2(L.width)&&r2(L.height)}function w(L){return o?!1:L.wrapS!==qr||L.wrapT!==qr||L.minFilter!==Ar&&L.minFilter!==Dr}function E(L,I){return L.generateMipmaps&&I&&L.minFilter!==Ar&&L.minFilter!==Dr}function T(L){n.generateMipmap(L)}function A(L,I,U){if(o===!1)return I;if(L!==null){if(n[L]!==void 0)return n[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let J=I;return I===6403&&(U===5126&&(J=33326),U===5131&&(J=33325),U===5121&&(J=33321)),I===6407&&(U===5126&&(J=34837),U===5131&&(J=34843),U===5121&&(J=32849)),I===6408&&(U===5126&&(J=34836),U===5131&&(J=34842),U===5121&&(J=32856)),(J===33325||J===33326||J===34842||J===34836)&&e.get("EXT_color_buffer_float"),J}function C(L,I,U){return E(L,U)===!0?Math.log2(Math.max(I.width,I.height))+1:L.mipmaps.length>0?L.mipmaps.length:1}function R(L){return L===Ar||L===_1||L===y1?9728:9729}function D(L){let I=L.target;I.removeEventListener("dispose",D),k(I),I.isVideoTexture&&l.delete(I),s.memory.textures--}function O(L){let I=L.target;I.removeEventListener("dispose",O),H(I)}function k(L){let I=r.get(L);I.__webglInit!==void 0&&(n.deleteTexture(I.__webglTexture),r.remove(L))}function H(L){let I=L.texture,U=r.get(L),J=r.get(I);if(!!L){if(J.__webglTexture!==void 0&&(n.deleteTexture(J.__webglTexture),s.memory.textures--),L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++)n.deleteFramebuffer(U.__webglFramebuffer[ye]),U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer[ye]);else n.deleteFramebuffer(U.__webglFramebuffer),U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&n.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer&&n.deleteRenderbuffer(U.__webglColorRenderbuffer),U.__webglDepthRenderbuffer&&n.deleteRenderbuffer(U.__webglDepthRenderbuffer);if(L.isWebGLMultipleRenderTargets)for(let ye=0,Ie=I.length;ye<Ie;ye++){let be=r.get(I[ye]);be.__webglTexture&&(n.deleteTexture(be.__webglTexture),s.memory.textures--),r.remove(I[ye])}r.remove(I),r.remove(L)}}let B=0;function Z(){B=0}function V(){let L=B;return L>=c&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+c),B+=1,L}function j(L,I){let U=r.get(L);if(L.isVideoTexture&&ie(L),L.version>0&&U.__version!==L.version){let J=L.image;if(J===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(J.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(U,L,I);return}}t.activeTexture(33984+I),t.bindTexture(3553,U.__webglTexture)}function z(L,I){let U=r.get(L);if(L.version>0&&U.__version!==L.version){ae(U,L,I);return}t.activeTexture(33984+I),t.bindTexture(35866,U.__webglTexture)}function W(L,I){let U=r.get(L);if(L.version>0&&U.__version!==L.version){ae(U,L,I);return}t.activeTexture(33984+I),t.bindTexture(32879,U.__webglTexture)}function Q(L,I){let U=r.get(L);if(L.version>0&&U.__version!==L.version){oe(U,L,I);return}t.activeTexture(33984+I),t.bindTexture(34067,U.__webglTexture)}let se={[T0]:10497,[qr]:33071,[A0]:33648},le={[Ar]:9728,[_1]:9984,[y1]:9986,[Dr]:9729,[Ub]:9985,[wf]:9987};function fe(L,I,U){if(U?(n.texParameteri(L,10242,se[I.wrapS]),n.texParameteri(L,10243,se[I.wrapT]),(L===32879||L===35866)&&n.texParameteri(L,32882,se[I.wrapR]),n.texParameteri(L,10240,le[I.magFilter]),n.texParameteri(L,10241,le[I.minFilter])):(n.texParameteri(L,10242,33071),n.texParameteri(L,10243,33071),(L===32879||L===35866)&&n.texParameteri(L,32882,33071),(I.wrapS!==qr||I.wrapT!==qr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(L,10240,R(I.magFilter)),n.texParameteri(L,10241,R(I.minFilter)),I.minFilter!==Ar&&I.minFilter!==Dr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let J=e.get("EXT_texture_filter_anisotropic");if(I.type===zs&&e.has("OES_texture_float_linear")===!1||o===!1&&I.type===bf&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||r.get(I).__currentAnisotropy)&&(n.texParameterf(L,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy)}}function $(L,I){L.__webglInit===void 0&&(L.__webglInit=!0,I.addEventListener("dispose",D),L.__webglTexture=n.createTexture(),s.memory.textures++)}function ae(L,I,U){let J=3553;I.isDataTexture2DArray&&(J=35866),I.isDataTexture3D&&(J=32879),$(L,I),t.activeTexture(33984+U),t.bindTexture(J,L.__webglTexture),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);let ye=w(I)&&_(I.image)===!1,Ie=m(I.image,ye,!1,p),be=_(Ie)||o,Le=a.convert(I.format),ze=a.convert(I.type),qe=A(I.internalFormat,Le,ze,I.encoding);fe(J,I,be);let Ye,Me=I.mipmaps;if(I.isDepthTexture)qe=6402,o?I.type===zs?qe=36012:I.type===C0?qe=33190:I.type===Ef?qe=35056:qe=33189:I.type===zs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Gl&&qe===6402&&I.type!==Ah&&I.type!==C0&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Ah,ze=a.convert(I.type)),I.format===Sf&&qe===6402&&(qe=34041,I.type!==Ef&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Ef,ze=a.convert(I.type))),t.texImage2D(3553,0,qe,Ie.width,Ie.height,0,Le,ze,null);else if(I.isDataTexture)if(Me.length>0&&be){for(let Ge=0,et=Me.length;Ge<et;Ge++)Ye=Me[Ge],t.texImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Le,ze,Ye.data);I.generateMipmaps=!1}else t.texImage2D(3553,0,qe,Ie.width,Ie.height,0,Le,ze,Ie.data);else if(I.isCompressedTexture)for(let Ge=0,et=Me.length;Ge<et;Ge++)Ye=Me[Ge],I.format!==Qr&&I.format!==Hl?Le!==null?t.compressedTexImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Le,ze,Ye.data);else if(I.isDataTexture2DArray)t.texImage3D(35866,0,qe,Ie.width,Ie.height,Ie.depth,0,Le,ze,Ie.data);else if(I.isDataTexture3D)t.texImage3D(32879,0,qe,Ie.width,Ie.height,Ie.depth,0,Le,ze,Ie.data);else{let Ge=C(I,Ie,be),et=o&&I.isVideoTexture!==!0,ut=L.__version===void 0;if(Me.length>0&&be){et&&ut&&t.texStorage2D(3553,Ge,qe,Me[0].width,Me[0].height);for(let ct=0,X=Me.length;ct<X;ct++)Ye=Me[ct],et?t.texSubImage2D(3553,ct,0,0,Le,ze,Ye):t.texImage2D(3553,ct,qe,Le,ze,Ye);I.generateMipmaps=!1}else et?(ut&&t.texStorage2D(3553,Ge,qe,Ie.width,Ie.height),t.texSubImage2D(3553,0,0,0,Le,ze,Ie)):t.texImage2D(3553,0,qe,Le,ze,Ie)}E(I,be)&&T(J),L.__version=I.version,I.onUpdate&&I.onUpdate(I)}function oe(L,I,U){if(I.image.length!==6)return;$(L,I),t.activeTexture(33984+U),t.bindTexture(34067,L.__webglTexture),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);let J=I&&(I.isCompressedTexture||I.image[0].isCompressedTexture),ye=I.image[0]&&I.image[0].isDataTexture,Ie=[];for(let Ge=0;Ge<6;Ge++)!J&&!ye?Ie[Ge]=m(I.image[Ge],!1,!0,g):Ie[Ge]=ye?I.image[Ge].image:I.image[Ge];let be=Ie[0],Le=_(be)||o,ze=a.convert(I.format),qe=a.convert(I.type),Ye=A(I.internalFormat,ze,qe,I.encoding);fe(34067,I,Le);let Me;if(J)for(let Ge=0;Ge<6;Ge++){Me=Ie[Ge].mipmaps;for(let et=0;et<Me.length;et++){let ut=Me[et];I.format!==Qr&&I.format!==Hl?ze!==null?t.compressedTexImage2D(34069+Ge,et,Ye,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Ge,et,Ye,ut.width,ut.height,0,ze,qe,ut.data)}}else{Me=I.mipmaps;for(let Ge=0;Ge<6;Ge++)if(ye){t.texImage2D(34069+Ge,0,Ye,Ie[Ge].width,Ie[Ge].height,0,ze,qe,Ie[Ge].data);for(let et=0;et<Me.length;et++){let ct=Me[et].image[Ge].image;t.texImage2D(34069+Ge,et+1,Ye,ct.width,ct.height,0,ze,qe,ct.data)}}else{t.texImage2D(34069+Ge,0,Ye,ze,qe,Ie[Ge]);for(let et=0;et<Me.length;et++){let ut=Me[et];t.texImage2D(34069+Ge,et+1,Ye,ze,qe,ut.image[Ge])}}}E(I,Le)&&T(34067),L.__version=I.version,I.onUpdate&&I.onUpdate(I)}function ce(L,I,U,J,ye){let Ie=a.convert(U.format),be=a.convert(U.type),Le=A(U.internalFormat,Ie,be,U.encoding);r.get(I).__hasExternalTextures||(ye===32879||ye===35866?t.texImage3D(ye,0,Le,I.width,I.height,I.depth,0,Ie,be,null):t.texImage2D(ye,0,Le,I.width,I.height,0,Ie,be,null)),t.bindFramebuffer(36160,L),I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,J,ye,r.get(U).__webglTexture,0,de(I)):n.framebufferTexture2D(36160,J,ye,r.get(U).__webglTexture,0),t.bindFramebuffer(36160,null)}function he(L,I,U){if(n.bindRenderbuffer(36161,L),I.depthBuffer&&!I.stencilBuffer){let J=33189;if(U||I.useRenderToTexture){let ye=I.depthTexture;ye&&ye.isDepthTexture&&(ye.type===zs?J=36012:ye.type===C0&&(J=33190));let Ie=de(I);I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Ie,J,I.width,I.height):n.renderbufferStorageMultisample(36161,Ie,J,I.width,I.height)}else n.renderbufferStorage(36161,J,I.width,I.height);n.framebufferRenderbuffer(36160,36096,36161,L)}else if(I.depthBuffer&&I.stencilBuffer){let J=de(I);U&&I.useRenderbuffer?n.renderbufferStorageMultisample(36161,J,35056,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,J,35056,I.width,I.height):n.renderbufferStorage(36161,34041,I.width,I.height),n.framebufferRenderbuffer(36160,33306,36161,L)}else{let J=I.isWebGLMultipleRenderTargets===!0?I.texture[0]:I.texture,ye=a.convert(J.format),Ie=a.convert(J.type),be=A(J.internalFormat,ye,Ie,J.encoding),Le=de(I);U&&I.useRenderbuffer?n.renderbufferStorageMultisample(36161,Le,be,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Le,be,I.width,I.height):n.renderbufferStorage(36161,be,I.width,I.height)}n.bindRenderbuffer(36161,null)}function we(L,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,L),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),j(I.depthTexture,0);let J=r.get(I.depthTexture).__webglTexture,ye=de(I);if(I.depthTexture.format===Gl)I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,J,0,ye):n.framebufferTexture2D(36160,36096,3553,J,0);else if(I.depthTexture.format===Sf)I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,J,0,ye):n.framebufferTexture2D(36160,33306,3553,J,0);else throw new Error("Unknown depthTexture format")}function xe(L){let I=r.get(L),U=L.isWebGLCubeRenderTarget===!0;if(L.depthTexture&&!I.__autoAllocateDepthBuffer){if(U)throw new Error("target.depthTexture not supported in Cube render targets");we(I.__webglFramebuffer,L)}else if(U){I.__webglDepthbuffer=[];for(let J=0;J<6;J++)t.bindFramebuffer(36160,I.__webglFramebuffer[J]),I.__webglDepthbuffer[J]=n.createRenderbuffer(),he(I.__webglDepthbuffer[J],L,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),he(I.__webglDepthbuffer,L,!1);t.bindFramebuffer(36160,null)}function Oe(L,I,U){let J=r.get(L);I!==void 0&&ce(J.__webglFramebuffer,L,L.texture,36064,3553),U!==void 0&&xe(L)}function ge(L){let I=L.texture,U=r.get(L),J=r.get(I);L.addEventListener("dispose",O),L.isWebGLMultipleRenderTargets!==!0&&(J.__webglTexture===void 0&&(J.__webglTexture=n.createTexture()),J.__version=I.version,s.memory.textures++);let ye=L.isWebGLCubeRenderTarget===!0,Ie=L.isWebGLMultipleRenderTargets===!0,be=I.isDataTexture3D||I.isDataTexture2DArray,Le=_(L)||o;if(o&&I.format===Hl&&(I.type===zs||I.type===bf)&&(I.format=Qr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ye){U.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)U.__webglFramebuffer[ze]=n.createFramebuffer()}else if(U.__webglFramebuffer=n.createFramebuffer(),Ie)if(i.drawBuffers){let ze=L.texture;for(let qe=0,Ye=ze.length;qe<Ye;qe++){let Me=r.get(ze[qe]);Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(L.useRenderbuffer)if(o){U.__webglMultisampledFramebuffer=n.createFramebuffer(),U.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,U.__webglColorRenderbuffer);let ze=a.convert(I.format),qe=a.convert(I.type),Ye=A(I.internalFormat,ze,qe,I.encoding),Me=de(L);n.renderbufferStorageMultisample(36161,Me,Ye,L.width,L.height),t.bindFramebuffer(36160,U.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,U.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),L.depthBuffer&&(U.__webglDepthRenderbuffer=n.createRenderbuffer(),he(U.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ye){t.bindTexture(34067,J.__webglTexture),fe(34067,I,Le);for(let ze=0;ze<6;ze++)ce(U.__webglFramebuffer[ze],L,I,36064,34069+ze);E(I,Le)&&T(34067),t.unbindTexture()}else if(Ie){let ze=L.texture;for(let qe=0,Ye=ze.length;qe<Ye;qe++){let Me=ze[qe],Ge=r.get(Me);t.bindTexture(3553,Ge.__webglTexture),fe(3553,Me,Le),ce(U.__webglFramebuffer,L,Me,36064+qe,3553),E(Me,Le)&&T(3553)}t.unbindTexture()}else{let ze=3553;be&&(o?ze=I.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(ze,J.__webglTexture),fe(ze,I,Le),ce(U.__webglFramebuffer,L,I,36064,ze),E(I,Le)&&T(ze),t.unbindTexture()}L.depthBuffer&&xe(L)}function De(L){let I=_(L)||o,U=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let J=0,ye=U.length;J<ye;J++){let Ie=U[J];if(E(Ie,I)){let be=L.isWebGLCubeRenderTarget?34067:3553,Le=r.get(Ie).__webglTexture;t.bindTexture(be,Le),T(be),t.unbindTexture()}}}function pe(L){if(L.useRenderbuffer)if(o){let I=L.width,U=L.height,J=16384,ye=[36064],Ie=L.stencilBuffer?33306:36096;L.depthBuffer&&ye.push(Ie),L.ignoreDepthForMultisampleCopy||(L.depthBuffer&&(J|=256),L.stencilBuffer&&(J|=1024));let be=r.get(L);t.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,be.__webglFramebuffer),L.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[Ie]),n.invalidateFramebuffer(36009,[Ie])),n.blitFramebuffer(0,0,I,U,0,0,I,U,J,9728),n.invalidateFramebuffer(36008,ye),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function de(L){return o&&(L.useRenderbuffer||L.useRenderToTexture)?Math.min(d,L.samples):0}function ie(L){let I=s.render.frame;l.get(L)!==I&&(l.set(L,I),L.update())}let re=!1,q=!1;function te(L,I){L&&L.isWebGLRenderTarget&&(re===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),re=!0),L=L.texture),j(L,I)}function G(L,I){L&&L.isWebGLCubeRenderTarget&&(q===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),q=!0),L=L.texture),Q(L,I)}this.allocateTextureUnit=V,this.resetTextureUnits=Z,this.setTexture2D=j,this.setTexture2DArray=z,this.setTexture3D=W,this.setTextureCube=Q,this.rebindTextures=Oe,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=pe,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=ce,this.safeSetTexture2D=te,this.safeSetTextureCube=G}function mP(n,e,t){let r=t.isWebGL2;function i(a){let s;if(a===No)return 5121;if(a===wC)return 32819;if(a===bC)return 32820;if(a===EC)return 33635;if(a===_C)return 5120;if(a===yC)return 5122;if(a===Ah)return 5123;if(a===xC)return 5124;if(a===C0)return 5125;if(a===zs)return 5126;if(a===bf)return r?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===SC)return 6406;if(a===Hl)return 6407;if(a===Qr)return 6408;if(a===MC)return 6409;if(a===TC)return 6410;if(a===Gl)return 6402;if(a===Sf)return 34041;if(a===CC)return 6403;if(a===RC)return 36244;if(a===PC)return 33319;if(a===LC)return 33320;if(a===IC)return 36248;if(a===DC)return 36249;if(a===Hb||a===Gb||a===Wb||a===Vb)if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===Hb)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===Gb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Wb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Vb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===jb||a===Zb||a===Xb||a===Yb)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===jb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===Zb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===Xb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===Yb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===OC)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((a===qb||a===Qb)&&(s=e.get("WEBGL_compressed_texture_etc"),s!==null)){if(a===qb)return s.COMPRESSED_RGB8_ETC2;if(a===Qb)return s.COMPRESSED_RGBA8_ETC2_EAC}if(a===NC||a===kC||a===FC||a===BC||a===zC||a===UC||a===HC||a===GC||a===WC||a===VC||a===jC||a===ZC||a===XC||a===YC||a===QC||a===JC||a===KC||a===$C||a===eR||a===tR||a===nR||a===rR||a===iR||a===aR||a===sR||a===oR||a===lR||a===uR)return s=e.get("WEBGL_compressed_texture_astc"),s!==null?a:null;if(a===qC)return s=e.get("EXT_texture_compression_bptc"),s!==null?a:null;if(a===Ef)return r?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}var Y1=class extends Bn{constructor(e=[]){super();this.cameras=e}};Y1.prototype.isArrayCamera=!0;var tu=class extends fn{constructor(){super();this.type="Group"}};tu.prototype.isGroup=!0;var P7={type:"move"},q1=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null,o=this._targetRay,c=this._grip,g=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(o!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(P7))),g&&e.hand){s=!0;for(let v of e.hand.values()){let y=t.getJointPose(v,r);if(g.joints[v.jointName]===void 0){let m=new tu;m.matrixAutoUpdate=!1,m.visible=!1,g.joints[v.jointName]=m,g.add(m)}let h=g.joints[v.jointName];y!==null&&(h.matrix.fromArray(y.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=y.radius),h.visible=y!==null}let p=g.joints["index-finger-tip"],d=g.joints["thumb-tip"],u=p.position.distanceTo(d.position),f=.02,l=.005;g.inputState.pinching&&u>f+l?(g.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!g.inputState.pinching&&u<=f-l&&(g.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));return o!==null&&(o.visible=i!==null),c!==null&&(c.visible=a!==null),g!==null&&(g.visible=s!==null),this}},Y0=class extends er{constructor(e,t,r,i,a,s,o,c,g,p){if(p=p!==void 0?p:Gl,p!==Gl&&p!==Sf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&p===Gl&&(r=Ah),r===void 0&&p===Sf&&(r=Ef);super(null,i,a,s,o,c,p,r,g);this.image={width:e,height:t},this.magFilter=o!==void 0?o:Ar,this.minFilter=c!==void 0?c:Ar,this.flipY=!1,this.generateMipmaps=!1}};Y0.prototype.isDepthTexture=!0;var gP=class extends ns{constructor(e,t){super();let r=this,i=null,a=1,s=null,o="local-floor",c=e.extensions.has("WEBGL_multisampled_render_to_texture"),g=null,p=null,d=null,u=null,f=!1,l=null,v=t.getContextAttributes(),y=null,h=null,m=[],_=new Map,w=new Bn;w.layers.enable(1),w.viewport=new Dn;let E=new Bn;E.layers.enable(2),E.viewport=new Dn;let T=[w,E],A=new Y1;A.layers.enable(1),A.layers.enable(2);let C=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let se=m[Q];return se===void 0&&(se=new q1,m[Q]=se),se.getTargetRaySpace()},this.getControllerGrip=function(Q){let se=m[Q];return se===void 0&&(se=new q1,m[Q]=se),se.getGripSpace()},this.getHand=function(Q){let se=m[Q];return se===void 0&&(se=new q1,m[Q]=se),se.getHandSpace()};function D(Q){let se=_.get(Q.inputSource);se&&se.dispatchEvent({type:Q.type,data:Q.inputSource})}function O(){_.forEach(function(Q,se){Q.disconnect(se)}),_.clear(),C=null,R=null,e.setRenderTarget(y),u=null,d=null,p=null,i=null,h=null,W.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){a=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){o=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return d!==null?d:u},this.getBinding=function(){return p},this.getFrame=function(){return l},this.getSession=function(){return i},this.setSession=async function(Q){if(i=Q,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",O),i.addEventListener("inputsourceschange",k),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let se={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};u=new XRWebGLLayer(i,t,se),i.updateRenderState({baseLayer:u}),h=new Wi(u.framebufferWidth,u.framebufferHeight)}else{f=v.antialias;let se=null,le=null,fe=null;v.depth&&(fe=v.stencil?35056:33189,se=v.stencil?Sf:Gl,le=v.stencil?Ef:Ah);let $={colorFormat:v.alpha||f?32856:32849,depthFormat:fe,scaleFactor:a};p=new XRWebGLBinding(i,t),d=p.createProjectionLayer($),i.updateRenderState({layers:[d]}),f?h=new O0(d.textureWidth,d.textureHeight,{format:Qr,type:No,depthTexture:new Y0(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:v.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:c}):h=new Wi(d.textureWidth,d.textureHeight,{format:v.alpha?Qr:Hl,type:No,depthTexture:new Y0(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:v.stencil,ignoreDepth:d.ignoreDepthValues})}this.setFoveation(0),s=await i.requestReferenceSpace(o),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function k(Q){let se=i.inputSources;for(let le=0;le<m.length;le++)_.set(se[le],m[le]);for(let le=0;le<Q.removed.length;le++){let fe=Q.removed[le],$=_.get(fe);$&&($.dispatchEvent({type:"disconnected",data:fe}),_.delete(fe))}for(let le=0;le<Q.added.length;le++){let fe=Q.added[le],$=_.get(fe);$&&$.dispatchEvent({type:"connected",data:fe})}}let H=new Ce,B=new Ce;function Z(Q,se,le){H.setFromMatrixPosition(se.matrixWorld),B.setFromMatrixPosition(le.matrixWorld);let fe=H.distanceTo(B),$=se.projectionMatrix.elements,ae=le.projectionMatrix.elements,oe=$[14]/($[10]-1),ce=$[14]/($[10]+1),he=($[9]+1)/$[5],we=($[9]-1)/$[5],xe=($[8]-1)/$[0],Oe=(ae[8]+1)/ae[0],ge=oe*xe,De=oe*Oe,pe=fe/(-xe+Oe),de=pe*-xe;se.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(de),Q.translateZ(pe),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert();let ie=oe+pe,re=ce+pe,q=ge-de,te=De+(fe-de),G=he*ce/re*ie,L=we*ce/re*ie;Q.projectionMatrix.makePerspective(q,te,G,L,ie,re)}function V(Q,se){se===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(se.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(i===null)return;A.near=E.near=w.near=Q.near,A.far=E.far=w.far=Q.far,(C!==A.near||R!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),C=A.near,R=A.far);let se=Q.parent,le=A.cameras;V(A,se);for(let $=0;$<le.length;$++)V(le[$],se);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),Q.position.copy(A.position),Q.quaternion.copy(A.quaternion),Q.scale.copy(A.scale),Q.matrix.copy(A.matrix),Q.matrixWorld.copy(A.matrixWorld);let fe=Q.children;for(let $=0,ae=fe.length;$<ae;$++)fe[$].updateMatrixWorld(!0);le.length===2?Z(A,w,E):A.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return A},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(Q){d!==null&&(d.fixedFoveation=Q),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=Q)};let j=null;function z(Q,se){if(g=se.getViewerPose(s),l=se,g!==null){let fe=g.views;u!==null&&(e.setRenderTargetFramebuffer(h,u.framebuffer),e.setRenderTarget(h));let $=!1;fe.length!==A.cameras.length&&(A.cameras.length=0,$=!0);for(let ae=0;ae<fe.length;ae++){let oe=fe[ae],ce=null;if(u!==null)ce=u.getViewport(oe);else{let we=p.getViewSubImage(d,oe);ce=we.viewport,ae===0&&(e.setRenderTargetTextures(h,we.colorTexture,d.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(h))}let he=T[ae];he.matrix.fromArray(oe.transform.matrix),he.projectionMatrix.fromArray(oe.projectionMatrix),he.viewport.set(ce.x,ce.y,ce.width,ce.height),ae===0&&A.matrix.copy(he.matrix),$===!0&&A.cameras.push(he)}}let le=i.inputSources;for(let fe=0;fe<m.length;fe++){let $=m[fe],ae=le[fe];$.update(ae,se,s)}j&&j(Q,se),l=null}let W=new NR;W.setAnimationLoop(z),this.setAnimationLoop=function(Q){j=Q},this.dispose=function(){}}};function L7(n){function e(h,m){h.fogColor.value.copy(m.color),m.isFog?(h.fogNear.value=m.near,h.fogFar.value=m.far):m.isFogExp2&&(h.fogDensity.value=m.density)}function t(h,m,_,w,E){m.isMeshBasicMaterial?r(h,m):m.isMeshLambertMaterial?(r(h,m),c(h,m)):m.isMeshToonMaterial?(r(h,m),p(h,m)):m.isMeshPhongMaterial?(r(h,m),g(h,m)):m.isMeshStandardMaterial?(r(h,m),m.isMeshPhysicalMaterial?u(h,m,E):d(h,m)):m.isMeshMatcapMaterial?(r(h,m),f(h,m)):m.isMeshDepthMaterial?(r(h,m),l(h,m)):m.isMeshDistanceMaterial?(r(h,m),v(h,m)):m.isMeshNormalMaterial?(r(h,m),y(h,m)):m.isLineBasicMaterial?(i(h,m),m.isLineDashedMaterial&&a(h,m)):m.isPointsMaterial?s(h,m,_,w):m.isSpriteMaterial?o(h,m):m.isShadowMaterial?(h.color.value.copy(m.color),h.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function r(h,m){h.opacity.value=m.opacity,m.color&&h.diffuse.value.copy(m.color),m.emissive&&h.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.specularMap&&(h.specularMap.value=m.specularMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);let _=n.get(m).envMap;_&&(h.envMap.value=_,h.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,h.reflectivity.value=m.reflectivity,h.ior.value=m.ior,h.refractionRatio.value=m.refractionRatio),m.lightMap&&(h.lightMap.value=m.lightMap,h.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(h.aoMap.value=m.aoMap,h.aoMapIntensity.value=m.aoMapIntensity);let w;m.map?w=m.map:m.specularMap?w=m.specularMap:m.displacementMap?w=m.displacementMap:m.normalMap?w=m.normalMap:m.bumpMap?w=m.bumpMap:m.roughnessMap?w=m.roughnessMap:m.metalnessMap?w=m.metalnessMap:m.alphaMap?w=m.alphaMap:m.emissiveMap?w=m.emissiveMap:m.clearcoatMap?w=m.clearcoatMap:m.clearcoatNormalMap?w=m.clearcoatNormalMap:m.clearcoatRoughnessMap?w=m.clearcoatRoughnessMap:m.specularIntensityMap?w=m.specularIntensityMap:m.specularColorMap?w=m.specularColorMap:m.transmissionMap?w=m.transmissionMap:m.thicknessMap?w=m.thicknessMap:m.sheenColorMap?w=m.sheenColorMap:m.sheenRoughnessMap&&(w=m.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),h.uvTransform.value.copy(w.matrix));let E;m.aoMap?E=m.aoMap:m.lightMap&&(E=m.lightMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),h.uv2Transform.value.copy(E.matrix))}function i(h,m){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity}function a(h,m){h.dashSize.value=m.dashSize,h.totalSize.value=m.dashSize+m.gapSize,h.scale.value=m.scale}function s(h,m,_,w){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity,h.size.value=m.size*_,h.scale.value=w*.5,m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);let E;m.map?E=m.map:m.alphaMap&&(E=m.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),h.uvTransform.value.copy(E.matrix))}function o(h,m){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity,h.rotation.value=m.rotation,m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);let _;m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),h.uvTransform.value.copy(_.matrix))}function c(h,m){m.emissiveMap&&(h.emissiveMap.value=m.emissiveMap)}function g(h,m){h.specular.value.copy(m.specular),h.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(h.emissiveMap.value=m.emissiveMap),m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===or&&(h.bumpScale.value*=-1)),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===or&&h.normalScale.value.negate()),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias)}function p(h,m){m.gradientMap&&(h.gradientMap.value=m.gradientMap),m.emissiveMap&&(h.emissiveMap.value=m.emissiveMap),m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===or&&(h.bumpScale.value*=-1)),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===or&&h.normalScale.value.negate()),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias)}function d(h,m){h.roughness.value=m.roughness,h.metalness.value=m.metalness,m.roughnessMap&&(h.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(h.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(h.emissiveMap.value=m.emissiveMap),m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===or&&(h.bumpScale.value*=-1)),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===or&&h.normalScale.value.negate()),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias),n.get(m).envMap&&(h.envMapIntensity.value=m.envMapIntensity)}function u(h,m,_){d(h,m),h.ior.value=m.ior,m.sheen>0&&(h.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),h.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(h.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(h.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(h.clearcoat.value=m.clearcoat,h.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(h.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),h.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===or&&h.clearcoatNormalScale.value.negate())),m.transmission>0&&(h.transmission.value=m.transmission,h.transmissionSamplerMap.value=_.texture,h.transmissionSamplerSize.value.set(_.width,_.height),m.transmissionMap&&(h.transmissionMap.value=m.transmissionMap),h.thickness.value=m.thickness,m.thicknessMap&&(h.thicknessMap.value=m.thicknessMap),h.attenuationDistance.value=m.attenuationDistance,h.attenuationColor.value.copy(m.attenuationColor)),h.specularIntensity.value=m.specularIntensity,h.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(h.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(h.specularColorMap.value=m.specularColorMap)}function f(h,m){m.matcap&&(h.matcap.value=m.matcap),m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===or&&(h.bumpScale.value*=-1)),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===or&&h.normalScale.value.negate()),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias)}function l(h,m){m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias)}function v(h,m){m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias),h.referencePosition.value.copy(m.referencePosition),h.nearDistance.value=m.nearDistance,h.farDistance.value=m.farDistance}function y(h,m){m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===or&&(h.bumpScale.value*=-1)),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===or&&h.normalScale.value.negate()),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function I7(){let n=T1("canvas");return n.style.display="block",n}function Cn(n={}){let e=n.canvas!==void 0?n.canvas:I7(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,a=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,c=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,g=n.powerPreference!==void 0?n.powerPreference:"default",p=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,d=null,u=null,f=[],l=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Jr,this.physicallyCorrectLights=!1,this.toneMapping=Bs,this.toneMappingExposure=1;let v=this,y=!1,h=0,m=0,_=null,w=-1,E=null,T=new Dn,A=new Dn,C=null,R=e.width,D=e.height,O=1,k=null,H=null,B=new Dn(0,0,R,D),Z=new Dn(0,0,R,D),V=!1,j=[],z=new jh,W=!1,Q=!1,se=null,le=new Nt,fe=new Ce,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ae(){return _===null?O:1}let oe=t;function ce(ve,Be){for(let je=0;je<ve.length;je++){let tt=ve[je],it=e.getContext(tt,Be);if(it!==null)return it}return null}try{let ve={alpha:r,depth:i,stencil:a,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:g,failIfMajorPerformanceCaveat:p};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${d1}`),e.addEventListener("webglcontextlost",Ge,!1),e.addEventListener("webglcontextrestored",et,!1),oe===null){let Be=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Be.shift(),oe=ce(Be,ve),oe===null)throw ce(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ve){throw console.error("THREE.WebGLRenderer: "+ve.message),ve}let he,we,xe,Oe,ge,De,pe,de,ie,re,q,te,G,L,I,U,J,ye,Ie,be,Le,ze,qe;function Ye(){he=new rU(oe),we=new Qz(oe,he,n),he.init(we),ze=new mP(oe,he,we),xe=new C7(oe,he,we),j[0]=1029,Oe=new sU(oe),ge=new v7,De=new R7(oe,he,xe,ge,we,ze,Oe),pe=new Kz(v),de=new nU(v),ie=new xF(oe,we),qe=new Yz(oe,he,ie,we),re=new iU(oe,ie,Oe,qe),q=new fU(oe,re,ie,Oe),Ie=new uU(oe,we,De),U=new Jz(ge),te=new g7(v,pe,de,he,we,qe,U),G=new L7(ge),L=new y7(ge),I=new M7(he,we),ye=new Xz(v,pe,xe,q,o),J=new pP(v,q,we),be=new qz(oe,he,Oe,we),Le=new aU(oe,he,Oe,we),Oe.programs=te.programs,v.capabilities=we,v.extensions=he,v.properties=ge,v.renderLists=L,v.shadowMap=J,v.state=xe,v.info=Oe}Ye();let Me=new gP(v,oe);this.xr=Me,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.loseContext()},this.forceContextRestore=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ve){ve!==void 0&&(O=ve,this.setSize(R,D,!1))},this.getSize=function(ve){return ve.set(R,D)},this.setSize=function(ve,Be,je){if(Me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=ve,D=Be,e.width=Math.floor(ve*O),e.height=Math.floor(Be*O),je!==!1&&(e.style.width=ve+"px",e.style.height=Be+"px"),this.setViewport(0,0,ve,Be)},this.getDrawingBufferSize=function(ve){return ve.set(R*O,D*O).floor()},this.setDrawingBufferSize=function(ve,Be,je){R=ve,D=Be,O=je,e.width=Math.floor(ve*je),e.height=Math.floor(Be*je),this.setViewport(0,0,ve,Be)},this.getCurrentViewport=function(ve){return ve.copy(T)},this.getViewport=function(ve){return ve.copy(B)},this.setViewport=function(ve,Be,je,tt){ve.isVector4?B.set(ve.x,ve.y,ve.z,ve.w):B.set(ve,Be,je,tt),xe.viewport(T.copy(B).multiplyScalar(O).floor())},this.getScissor=function(ve){return ve.copy(Z)},this.setScissor=function(ve,Be,je,tt){ve.isVector4?Z.set(ve.x,ve.y,ve.z,ve.w):Z.set(ve,Be,je,tt),xe.scissor(A.copy(Z).multiplyScalar(O).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(ve){xe.setScissorTest(V=ve)},this.setOpaqueSort=function(ve){k=ve},this.setTransparentSort=function(ve){H=ve},this.getClearColor=function(ve){return ve.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(ve,Be,je){let tt=0;(ve===void 0||ve)&&(tt|=16384),(Be===void 0||Be)&&(tt|=256),(je===void 0||je)&&(tt|=1024),oe.clear(tt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ge,!1),e.removeEventListener("webglcontextrestored",et,!1),L.dispose(),I.dispose(),ge.dispose(),pe.dispose(),de.dispose(),q.dispose(),qe.dispose(),Me.dispose(),Me.removeEventListener("sessionstart",Qe),Me.removeEventListener("sessionend",Re),se&&(se.dispose(),se=null),He.stop()};function Ge(ve){ve.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;let ve=Oe.autoReset,Be=J.enabled,je=J.autoUpdate,tt=J.needsUpdate,it=J.type;Ye(),Oe.autoReset=ve,J.enabled=Be,J.autoUpdate=je,J.needsUpdate=tt,J.type=it}function ut(ve){let Be=ve.target;Be.removeEventListener("dispose",ut),ct(Be)}function ct(ve){X(ve),ge.remove(ve)}function X(ve){let Be=ge.get(ve).programs;Be!==void 0&&Be.forEach(function(je){te.releaseProgram(je)})}this.renderBufferDirect=function(ve,Be,je,tt,it,gt){Be===null&&(Be=$);let xt=it.isMesh&&it.matrixWorld.determinant()<0,Rt=Se(ve,Be,je,tt,it);xe.setMaterial(tt,xt);let Ct=je.index,Qt=je.attributes.position;if(Ct===null){if(Qt===void 0||Qt.count===0)return}else if(Ct.count===0)return;let Ut=1;tt.wireframe===!0&&(Ct=re.getWireframeAttribute(je),Ut=2),qe.setup(it,tt,Rt,je,Ct);let Pt,$t=be;Ct!==null&&(Pt=ie.get(Ct),$t=Le,$t.setIndex(Pt));let pn=Ct!==null?Ct.count:Qt.count,Bt=je.drawRange.start*Ut,zn=je.drawRange.count*Ut,Zt=gt!==null?gt.start*Ut:0,ln=gt!==null?gt.count*Ut:1/0,hn=Math.max(Bt,Zt),tr=Math.min(pn,Bt+zn,Zt+ln)-1,Tn=Math.max(0,tr-hn+1);if(Tn!==0){if(it.isMesh)tt.wireframe===!0?(xe.setLineWidth(tt.wireframeLinewidth*ae()),$t.setMode(1)):$t.setMode(4);else if(it.isLine){let nn=tt.linewidth;nn===void 0&&(nn=1),xe.setLineWidth(nn*ae()),it.isLineSegments?$t.setMode(1):it.isLineLoop?$t.setMode(2):$t.setMode(3)}else it.isPoints?$t.setMode(0):it.isSprite&&$t.setMode(4);if(it.isInstancedMesh)$t.renderInstances(hn,Tn,it.count);else if(je.isInstancedBufferGeometry){let nn=Math.min(je.instanceCount,je._maxInstanceCount);$t.renderInstances(hn,Tn,nn)}else $t.render(hn,Tn)}},this.compile=function(ve,Be){u=I.get(ve),u.init(),l.push(u),ve.traverseVisible(function(je){je.isLight&&je.layers.test(Be.layers)&&(u.pushLight(je),je.castShadow&&u.pushShadow(je))}),u.setupLights(v.physicallyCorrectLights),ve.traverse(function(je){let tt=je.material;if(tt)if(Array.isArray(tt))for(let it=0;it<tt.length;it++){let gt=tt[it];Ue(gt,ve,je)}else Ue(tt,ve,je)}),l.pop(),u=null};let Ae=null;function ke(ve){Ae&&Ae(ve)}function Qe(){He.stop()}function Re(){He.start()}let He=new NR;He.setAnimationLoop(ke),typeof window!="undefined"&&He.setContext(window),this.setAnimationLoop=function(ve){Ae=ve,Me.setAnimationLoop(ve),ve===null?He.stop():He.start()},Me.addEventListener("sessionstart",Qe),Me.addEventListener("sessionend",Re),this.render=function(ve,Be){if(Be!==void 0&&Be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ve.autoUpdate===!0&&ve.updateMatrixWorld(),Be.parent===null&&Be.updateMatrixWorld(),Me.enabled===!0&&Me.isPresenting===!0&&(Me.cameraAutoUpdate===!0&&Me.updateCamera(Be),Be=Me.getCamera()),ve.isScene===!0&&ve.onBeforeRender(v,ve,Be,_),u=I.get(ve,l.length),u.init(),l.push(u),le.multiplyMatrices(Be.projectionMatrix,Be.matrixWorldInverse),z.setFromProjectionMatrix(le),Q=this.localClippingEnabled,W=U.init(this.clippingPlanes,Q,Be),d=L.get(ve,f.length),d.init(),f.push(d),ue(ve,Be,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(k,H),W===!0&&U.beginShadows();let je=u.state.shadowsArray;if(J.render(je,ve,Be),W===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye.render(d,ve),u.setupLights(v.physicallyCorrectLights),Be.isArrayCamera){let tt=Be.cameras;for(let it=0,gt=tt.length;it<gt;it++){let xt=tt[it];Ke(d,ve,xt,xt.viewport)}}else Ke(d,ve,Be);_!==null&&(De.updateMultisampleRenderTarget(_),De.updateRenderTargetMipmap(_)),ve.isScene===!0&&ve.onAfterRender(v,ve,Be),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1),qe.resetDefaultState(),w=-1,E=null,l.pop(),l.length>0?u=l[l.length-1]:u=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function ue(ve,Be,je,tt){if(ve.visible===!1)return;if(ve.layers.test(Be.layers)){if(ve.isGroup)je=ve.renderOrder;else if(ve.isLOD)ve.autoUpdate===!0&&ve.update(Be);else if(ve.isLight)u.pushLight(ve),ve.castShadow&&u.pushShadow(ve);else if(ve.isSprite){if(!ve.frustumCulled||z.intersectsSprite(ve)){tt&&fe.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let xt=q.update(ve),Rt=ve.material;Rt.visible&&d.push(ve,xt,Rt,je,fe.z,null)}}else if((ve.isMesh||ve.isLine||ve.isPoints)&&(ve.isSkinnedMesh&&ve.skeleton.frame!==Oe.render.frame&&(ve.skeleton.update(),ve.skeleton.frame=Oe.render.frame),!ve.frustumCulled||z.intersectsObject(ve))){tt&&fe.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let xt=q.update(ve),Rt=ve.material;if(Array.isArray(Rt)){let Ct=xt.groups;for(let Qt=0,Ut=Ct.length;Qt<Ut;Qt++){let Pt=Ct[Qt],$t=Rt[Pt.materialIndex];$t&&$t.visible&&d.push(ve,xt,$t,je,fe.z,Pt)}}else Rt.visible&&d.push(ve,xt,Rt,je,fe.z,null)}}let gt=ve.children;for(let xt=0,Rt=gt.length;xt<Rt;xt++)ue(gt[xt],Be,je,tt)}function Ke(ve,Be,je,tt){let it=ve.opaque,gt=ve.transmissive,xt=ve.transparent;u.setupLightsView(je),gt.length>0&&pt(it,Be,je),tt&&xe.viewport(T.copy(tt)),it.length>0&&P(it,Be,je),gt.length>0&&P(gt,Be,je),xt.length>0&&P(xt,Be,je)}function pt(ve,Be,je){if(se===null){let xt=s===!0&&we.isWebGL2===!0?O0:Wi;se=new xt(1024,1024,{generateMipmaps:!0,type:ze.convert(bf)!==null?bf:No,minFilter:wf,magFilter:Ar,wrapS:qr,wrapT:qr,useRenderToTexture:he.has("WEBGL_multisampled_render_to_texture")})}let tt=v.getRenderTarget();v.setRenderTarget(se),v.clear();let it=v.toneMapping;v.toneMapping=Bs,P(ve,Be,je),v.toneMapping=it,De.updateMultisampleRenderTarget(se),De.updateRenderTargetMipmap(se),v.setRenderTarget(tt)}function P(ve,Be,je){let tt=Be.isScene===!0?Be.overrideMaterial:null;for(let it=0,gt=ve.length;it<gt;it++){let xt=ve[it],Rt=xt.object,Ct=xt.geometry,Qt=tt===null?xt.material:tt,Ut=xt.group;Rt.layers.test(je.layers)&&Pe(Rt,Be,je,Ct,Qt,Ut)}}function Pe(ve,Be,je,tt,it,gt){ve.onBeforeRender(v,Be,je,tt,it,gt),ve.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ve.matrixWorld),ve.normalMatrix.getNormalMatrix(ve.modelViewMatrix),it.onBeforeRender(v,Be,je,tt,ve,gt),it.transparent===!0&&it.side===vf?(it.side=or,it.needsUpdate=!0,v.renderBufferDirect(je,Be,tt,it,ve,gt),it.side=gf,it.needsUpdate=!0,v.renderBufferDirect(je,Be,tt,it,ve,gt),it.side=vf):v.renderBufferDirect(je,Be,tt,it,ve,gt),ve.onAfterRender(v,Be,je,tt,it,gt)}function Ue(ve,Be,je){Be.isScene!==!0&&(Be=$);let tt=ge.get(ve),it=u.state.lights,gt=u.state.shadowsArray,xt=it.state.version,Rt=te.getParameters(ve,it.state,gt,Be,je),Ct=te.getProgramCacheKey(Rt),Qt=tt.programs;tt.environment=ve.isMeshStandardMaterial?Be.environment:null,tt.fog=Be.fog,tt.envMap=(ve.isMeshStandardMaterial?de:pe).get(ve.envMap||tt.environment),Qt===void 0&&(ve.addEventListener("dispose",ut),Qt=new Map,tt.programs=Qt);let Ut=Qt.get(Ct);if(Ut!==void 0){if(tt.currentProgram===Ut&&tt.lightsStateVersion===xt)return Y(ve,Rt),Ut}else Rt.uniforms=te.getUniforms(ve),ve.onBuild(je,Rt,v),ve.onBeforeCompile(Rt,v),Ut=te.acquireProgram(Rt,Ct),Qt.set(Ct,Ut),tt.uniforms=Rt.uniforms;let Pt=tt.uniforms;(!ve.isShaderMaterial&&!ve.isRawShaderMaterial||ve.clipping===!0)&&(Pt.clippingPlanes=U.uniform),Y(ve,Rt),tt.needsLights=lt(ve),tt.lightsStateVersion=xt,tt.needsLights&&(Pt.ambientLightColor.value=it.state.ambient,Pt.lightProbe.value=it.state.probe,Pt.directionalLights.value=it.state.directional,Pt.directionalLightShadows.value=it.state.directionalShadow,Pt.spotLights.value=it.state.spot,Pt.spotLightShadows.value=it.state.spotShadow,Pt.rectAreaLights.value=it.state.rectArea,Pt.ltc_1.value=it.state.rectAreaLTC1,Pt.ltc_2.value=it.state.rectAreaLTC2,Pt.pointLights.value=it.state.point,Pt.pointLightShadows.value=it.state.pointShadow,Pt.hemisphereLights.value=it.state.hemi,Pt.directionalShadowMap.value=it.state.directionalShadowMap,Pt.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Pt.spotShadowMap.value=it.state.spotShadowMap,Pt.spotShadowMatrix.value=it.state.spotShadowMatrix,Pt.pointShadowMap.value=it.state.pointShadowMap,Pt.pointShadowMatrix.value=it.state.pointShadowMatrix);let $t=Ut.getUniforms(),pn=eu.seqWithValue($t.seq,Pt);return tt.currentProgram=Ut,tt.uniformsList=pn,Ut}function Y(ve,Be){let je=ge.get(ve);je.outputEncoding=Be.outputEncoding,je.instancing=Be.instancing,je.skinning=Be.skinning,je.morphTargets=Be.morphTargets,je.morphNormals=Be.morphNormals,je.morphTargetsCount=Be.morphTargetsCount,je.numClippingPlanes=Be.numClippingPlanes,je.numIntersection=Be.numClipIntersection,je.vertexAlphas=Be.vertexAlphas,je.vertexTangents=Be.vertexTangents}function Se(ve,Be,je,tt,it){Be.isScene!==!0&&(Be=$),De.resetTextureUnits();let gt=Be.fog,xt=tt.isMeshStandardMaterial?Be.environment:null,Rt=_===null?v.outputEncoding:_.texture.encoding,Ct=(tt.isMeshStandardMaterial?de:pe).get(tt.envMap||xt),Qt=tt.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,Ut=!!tt.normalMap&&!!je.attributes.tangent,Pt=!!je.morphAttributes.position,$t=!!je.morphAttributes.normal,pn=je.morphAttributes.position?je.morphAttributes.position.length:0,Bt=ge.get(tt),zn=u.state.lights;if(W===!0&&(Q===!0||ve!==E)){let nr=ve===E&&tt.id===w;U.setState(tt,ve,nr)}let Zt=!1;tt.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==zn.state.version||Bt.outputEncoding!==Rt||it.isInstancedMesh&&Bt.instancing===!1||!it.isInstancedMesh&&Bt.instancing===!0||it.isSkinnedMesh&&Bt.skinning===!1||!it.isSkinnedMesh&&Bt.skinning===!0||Bt.envMap!==Ct||tt.fog&&Bt.fog!==gt||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==U.numPlanes||Bt.numIntersection!==U.numIntersection)||Bt.vertexAlphas!==Qt||Bt.vertexTangents!==Ut||Bt.morphTargets!==Pt||Bt.morphNormals!==$t||we.isWebGL2===!0&&Bt.morphTargetsCount!==pn)&&(Zt=!0):(Zt=!0,Bt.__version=tt.version);let ln=Bt.currentProgram;Zt===!0&&(ln=Ue(tt,Be,it));let hn=!1,tr=!1,Tn=!1,nn=ln.getUniforms(),Rr=Bt.uniforms;if(xe.useProgram(ln.program)&&(hn=!0,tr=!0,Tn=!0),tt.id!==w&&(w=tt.id,tr=!0),hn||E!==ve){if(nn.setValue(oe,"projectionMatrix",ve.projectionMatrix),we.logarithmicDepthBuffer&&nn.setValue(oe,"logDepthBufFC",2/(Math.log(ve.far+1)/Math.LN2)),E!==ve&&(E=ve,tr=!0,Tn=!0),tt.isShaderMaterial||tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshStandardMaterial||tt.envMap){let nr=nn.map.cameraPosition;nr!==void 0&&nr.setValue(oe,fe.setFromMatrixPosition(ve.matrixWorld))}(tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshLambertMaterial||tt.isMeshBasicMaterial||tt.isMeshStandardMaterial||tt.isShaderMaterial)&&nn.setValue(oe,"isOrthographic",ve.isOrthographicCamera===!0),(tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshLambertMaterial||tt.isMeshBasicMaterial||tt.isMeshStandardMaterial||tt.isShaderMaterial||tt.isShadowMaterial||it.isSkinnedMesh)&&nn.setValue(oe,"viewMatrix",ve.matrixWorldInverse)}if(it.isSkinnedMesh){nn.setOptional(oe,it,"bindMatrix"),nn.setOptional(oe,it,"bindMatrixInverse");let nr=it.skeleton;nr&&(we.floatVertexTextures?(nr.boneTexture===null&&nr.computeBoneTexture(),nn.setValue(oe,"boneTexture",nr.boneTexture,De),nn.setValue(oe,"boneTextureSize",nr.boneTextureSize)):nn.setOptional(oe,nr,"boneMatrices"))}return!!je&&(je.morphAttributes.position!==void 0||je.morphAttributes.normal!==void 0)&&Ie.update(it,je,tt,ln),(tr||Bt.receiveShadow!==it.receiveShadow)&&(Bt.receiveShadow=it.receiveShadow,nn.setValue(oe,"receiveShadow",it.receiveShadow)),tr&&(nn.setValue(oe,"toneMappingExposure",v.toneMappingExposure),Bt.needsLights&&Ve(Rr,Tn),gt&&tt.fog&&G.refreshFogUniforms(Rr,gt),G.refreshMaterialUniforms(Rr,tt,O,D,se),eu.upload(oe,Bt.uniformsList,Rr,De)),tt.isShaderMaterial&&tt.uniformsNeedUpdate===!0&&(eu.upload(oe,Bt.uniformsList,Rr,De),tt.uniformsNeedUpdate=!1),tt.isSpriteMaterial&&nn.setValue(oe,"center",it.center),nn.setValue(oe,"modelViewMatrix",it.modelViewMatrix),nn.setValue(oe,"normalMatrix",it.normalMatrix),nn.setValue(oe,"modelMatrix",it.matrixWorld),ln}function Ve(ve,Be){ve.ambientLightColor.needsUpdate=Be,ve.lightProbe.needsUpdate=Be,ve.directionalLights.needsUpdate=Be,ve.directionalLightShadows.needsUpdate=Be,ve.pointLights.needsUpdate=Be,ve.pointLightShadows.needsUpdate=Be,ve.spotLights.needsUpdate=Be,ve.spotLightShadows.needsUpdate=Be,ve.rectAreaLights.needsUpdate=Be,ve.hemisphereLights.needsUpdate=Be}function lt(ve){return ve.isMeshLambertMaterial||ve.isMeshToonMaterial||ve.isMeshPhongMaterial||ve.isMeshStandardMaterial||ve.isShadowMaterial||ve.isShaderMaterial&&ve.lights===!0}this.getActiveCubeFace=function(){return h},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(ve,Be,je){ge.get(ve.texture).__webglTexture=Be,ge.get(ve.depthTexture).__webglTexture=je;let tt=ge.get(ve);tt.__hasExternalTextures=!0,tt.__hasExternalTextures&&(tt.__autoAllocateDepthBuffer=je===void 0,tt.__autoAllocateDepthBuffer||ve.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),ve.useRenderToTexture=!1,ve.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(ve,Be){let je=ge.get(ve);je.__webglFramebuffer=Be,je.__useDefaultFramebuffer=Be===void 0},this.setRenderTarget=function(ve,Be=0,je=0){_=ve,h=Be,m=je;let tt=!0;if(ve){let Ct=ge.get(ve);Ct.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),tt=!1):Ct.__webglFramebuffer===void 0?De.setupRenderTarget(ve):Ct.__hasExternalTextures&&De.rebindTextures(ve,ge.get(ve.texture).__webglTexture,ge.get(ve.depthTexture).__webglTexture)}let it=null,gt=!1,xt=!1;if(ve){let Ct=ve.texture;(Ct.isDataTexture3D||Ct.isDataTexture2DArray)&&(xt=!0);let Qt=ge.get(ve).__webglFramebuffer;ve.isWebGLCubeRenderTarget?(it=Qt[Be],gt=!0):ve.useRenderbuffer?it=ge.get(ve).__webglMultisampledFramebuffer:it=Qt,T.copy(ve.viewport),A.copy(ve.scissor),C=ve.scissorTest}else T.copy(B).multiplyScalar(O).floor(),A.copy(Z).multiplyScalar(O).floor(),C=V;if(xe.bindFramebuffer(36160,it)&&we.drawBuffers&&tt){let Ct=!1;if(ve)if(ve.isWebGLMultipleRenderTargets){let Qt=ve.texture;if(j.length!==Qt.length||j[0]!==36064){for(let Ut=0,Pt=Qt.length;Ut<Pt;Ut++)j[Ut]=36064+Ut;j.length=Qt.length,Ct=!0}}else(j.length!==1||j[0]!==36064)&&(j[0]=36064,j.length=1,Ct=!0);else(j.length!==1||j[0]!==1029)&&(j[0]=1029,j.length=1,Ct=!0);Ct&&(we.isWebGL2?oe.drawBuffers(j):he.get("WEBGL_draw_buffers").drawBuffersWEBGL(j))}if(xe.viewport(T),xe.scissor(A),xe.setScissorTest(C),gt){let Ct=ge.get(ve.texture);oe.framebufferTexture2D(36160,36064,34069+Be,Ct.__webglTexture,je)}else if(xt){let Ct=ge.get(ve.texture),Qt=Be||0;oe.framebufferTextureLayer(36160,36064,Ct.__webglTexture,je||0,Qt)}w=-1},this.readRenderTargetPixels=function(ve,Be,je,tt,it,gt,xt){if(!(ve&&ve.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Rt=ge.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&xt!==void 0&&(Rt=Rt[xt]),Rt){xe.bindFramebuffer(36160,Rt);try{let Ct=ve.texture,Qt=Ct.format,Ut=Ct.type;if(Qt!==Qr&&ze.convert(Qt)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Pt=Ut===bf&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(Ut!==No&&ze.convert(Ut)!==oe.getParameter(35738)&&!(Ut===zs&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe.checkFramebufferStatus(36160)===36053?Be>=0&&Be<=ve.width-tt&&je>=0&&je<=ve.height-it&&oe.readPixels(Be,je,tt,it,ze.convert(Qt),ze.convert(Ut),gt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{let Ct=_!==null?ge.get(_).__webglFramebuffer:null;xe.bindFramebuffer(36160,Ct)}}},this.copyFramebufferToTexture=function(ve,Be,je=0){let tt=Math.pow(2,-je),it=Math.floor(Be.image.width*tt),gt=Math.floor(Be.image.height*tt),xt=ze.convert(Be.format);we.isWebGL2&&(xt===6407&&(xt=32849),xt===6408&&(xt=32856)),De.setTexture2D(Be,0),oe.copyTexImage2D(3553,je,xt,ve.x,ve.y,it,gt,0),xe.unbindTexture()},this.copyTextureToTexture=function(ve,Be,je,tt=0){let it=Be.image.width,gt=Be.image.height,xt=ze.convert(je.format),Rt=ze.convert(je.type);De.setTexture2D(je,0),oe.pixelStorei(37440,je.flipY),oe.pixelStorei(37441,je.premultiplyAlpha),oe.pixelStorei(3317,je.unpackAlignment),Be.isDataTexture?oe.texSubImage2D(3553,tt,ve.x,ve.y,it,gt,xt,Rt,Be.image.data):Be.isCompressedTexture?oe.compressedTexSubImage2D(3553,tt,ve.x,ve.y,Be.mipmaps[0].width,Be.mipmaps[0].height,xt,Be.mipmaps[0].data):oe.texSubImage2D(3553,tt,ve.x,ve.y,xt,Rt,Be.image),tt===0&&je.generateMipmaps&&oe.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(ve,Be,je,tt,it=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let gt=ve.max.x-ve.min.x+1,xt=ve.max.y-ve.min.y+1,Rt=ve.max.z-ve.min.z+1,Ct=ze.convert(tt.format),Qt=ze.convert(tt.type),Ut;if(tt.isDataTexture3D)De.setTexture3D(tt,0),Ut=32879;else if(tt.isDataTexture2DArray)De.setTexture2DArray(tt,0),Ut=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,tt.flipY),oe.pixelStorei(37441,tt.premultiplyAlpha),oe.pixelStorei(3317,tt.unpackAlignment);let Pt=oe.getParameter(3314),$t=oe.getParameter(32878),pn=oe.getParameter(3316),Bt=oe.getParameter(3315),zn=oe.getParameter(32877),Zt=je.isCompressedTexture?je.mipmaps[0]:je.image;oe.pixelStorei(3314,Zt.width),oe.pixelStorei(32878,Zt.height),oe.pixelStorei(3316,ve.min.x),oe.pixelStorei(3315,ve.min.y),oe.pixelStorei(32877,ve.min.z),je.isDataTexture||je.isDataTexture3D?oe.texSubImage3D(Ut,it,Be.x,Be.y,Be.z,gt,xt,Rt,Ct,Qt,Zt.data):je.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(Ut,it,Be.x,Be.y,Be.z,gt,xt,Rt,Ct,Zt.data)):oe.texSubImage3D(Ut,it,Be.x,Be.y,Be.z,gt,xt,Rt,Ct,Qt,Zt),oe.pixelStorei(3314,Pt),oe.pixelStorei(32878,$t),oe.pixelStorei(3316,pn),oe.pixelStorei(3315,Bt),oe.pixelStorei(32877,zn),it===0&&tt.generateMipmaps&&oe.generateMipmap(Ut),xe.unbindTexture()},this.initTexture=function(ve){De.setTexture2D(ve,0),xe.unbindTexture()},this.resetState=function(){h=0,m=0,_=null,xe.reset(),qe.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Cn.prototype.isWebGLRenderer=!0;var G2=class extends Cn{};G2.prototype.isWebGL1Renderer=!0;var Qh=class{constructor(e,t=25e-5){this.name="",this.color=new bt(e),this.density=t}clone(){return new Qh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}};Qh.prototype.isFogExp2=!0;var Jh=class{constructor(e,t=1,r=1e3){this.name="",this.color=new bt(e),this.near=t,this.far=r}clone(){return new Jh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}};Jh.prototype.isFog=!0;var Ff=class extends fn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};Ff.prototype.isScene=!0;var nu=class{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ch,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ea()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ea()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ea()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};nu.prototype.isInterleavedBuffer=!0;var Er=new Ce,jo=class{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Er.x=this.getX(t),Er.y=this.getY(t),Er.z=this.getZ(t),Er.applyMatrix4(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Er.x=this.getX(t),Er.y=this.getY(t),Er.z=this.getZ(t),Er.applyNormalMatrix(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Er.x=this.getX(t),Er.y=this.getY(t),Er.z=this.getZ(t),Er.transformDirection(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new vn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new jo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};jo.prototype.isInterleavedBufferAttribute=!0;var q0=class extends Or{constructor(e){super();this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}};q0.prototype.isSpriteMaterial=!0;var Kh,Q0=new Ce,$h=new Ce,ed=new Ce,td=new ft,J0=new ft,vP=new Nt,Q1=new Ce,K0=new Ce,J1=new Ce,_P=new ft,W2=new ft,yP=new ft,$0=class extends fn{constructor(e){super();if(this.type="Sprite",Kh===void 0){Kh=new Gt;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new nu(t,5);Kh.setIndex([0,1,2,0,2,3]),Kh.setAttribute("position",new jo(r,3,0,!1)),Kh.setAttribute("uv",new jo(r,2,3,!1))}this.geometry=Kh,this.material=e!==void 0?e:new q0,this.center=new ft(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$h.setFromMatrixScale(this.matrixWorld),vP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ed.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$h.multiplyScalar(-ed.z);let r=this.material.rotation,i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));let s=this.center;K1(Q1.set(-.5,-.5,0),ed,s,$h,i,a),K1(K0.set(.5,-.5,0),ed,s,$h,i,a),K1(J1.set(.5,.5,0),ed,s,$h,i,a),_P.set(0,0),W2.set(1,0),yP.set(1,1);let o=e.ray.intersectTriangle(Q1,K0,J1,!1,Q0);if(o===null&&(K1(K0.set(-.5,.5,0),ed,s,$h,i,a),W2.set(0,1),o=e.ray.intersectTriangle(Q1,J1,K0,!1,Q0),o===null))return;let c=e.ray.origin.distanceTo(Q0);c<e.near||c>e.far||t.push({distance:c,point:Q0.clone(),uv:mr.getUV(Q0,Q1,K0,J1,_P,W2,yP,new ft),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};$0.prototype.isSprite=!0;function K1(n,e,t,r,i,a){td.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(J0.x=a*td.x-i*td.y,J0.y=i*td.x+a*td.y):J0.copy(td),n.copy(e),n.x+=J0.x,n.y+=J0.y,n.applyMatrix4(vP)}var $1=new Ce,xP=new Ce,V2=class extends fn{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let r=0,i=t.length;r<i;r++){let a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);let r=this.levels,i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){$1.setFromMatrixPosition(this.matrixWorld);let i=e.ray.origin.distanceTo($1);this.getObjectForDistance(i).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){$1.setFromMatrixPosition(e.matrixWorld),xP.setFromMatrixPosition(this.matrixWorld);let r=$1.distanceTo(xP)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let r=this.levels;for(let i=0,a=r.length;i<a;i++){let s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}},wP=new Ce,bP=new Dn,EP=new Dn,D7=new Ce,SP=new Nt,em=class extends br{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Dn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);let a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){let r=this.skeleton,i=this.geometry;bP.fromBufferAttribute(i.attributes.skinIndex,e),EP.fromBufferAttribute(i.attributes.skinWeight,e),wP.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){let s=EP.getComponent(a);if(s!==0){let o=bP.getComponent(a);SP.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(D7.copy(wP).applyMatrix4(SP),s)}}return t.applyMatrix4(this.bindMatrixInverse)}};em.prototype.isSkinnedMesh=!0;var tm=class extends fn{constructor(){super();this.type="Bone"}};tm.prototype.isBone=!0;var ru=class extends er{constructor(e=null,t=1,r=1,i,a,s,o,c,g=Ar,p=Ar,d,u){super(null,s,o,c,g,p,i,a,d,u);this.image={data:e,width:t,height:r},this.magFilter=g,this.minFilter=p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};ru.prototype.isDataTexture=!0;var MP=new Nt,O7=new Nt,nm=class{constructor(e=[],t=[]){this.uuid=ea(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new Nt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){let o=e[a]?e[a].matrixWorld:O7;MP.multiplyMatrices(o,t[a]),MP.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new nm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=_R(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new ru(t,e,e,Qr,zs);return this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let a=e.bones[r],s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new tm),this.bones.push(s),this.boneInverses.push(new Nt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){let s=t[i];e.bones.push(s.uuid);let o=r[i];e.boneInverses.push(o.toArray())}return e}},iu=class extends vn{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};iu.prototype.isInstancedBufferAttribute=!0;var TP=new Nt,AP=new Nt,e_=[],rm=new br,t_=class extends br{constructor(e,t,r){super(e,t);this.instanceMatrix=new iu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let r=this.matrixWorld,i=this.count;if(rm.geometry=this.geometry,rm.material=this.material,rm.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,TP),AP.multiplyMatrices(r,TP),rm.matrixWorld=AP,rm.raycast(e,e_);for(let s=0,o=e_.length;s<o;s++){let c=e_[s];c.instanceId=a,c.object=this,t.push(c)}e_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new iu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}};t_.prototype.isInstancedMesh=!0;var Nr=class extends Or{constructor(e){super();this.type="LineBasicMaterial",this.color=new bt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}};Nr.prototype.isLineBasicMaterial=!0;var CP=new Ce,RP=new Ce,PP=new Nt,j2=new zo,n_=new Fo,Vs=class extends fn{constructor(e=new Gt,t=new Nr){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)CP.fromBufferAttribute(t,i-1),RP.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=CP.distanceTo(RP);e.setAttribute("lineDistance",new Ot(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),n_.copy(r.boundingSphere),n_.applyMatrix4(i),n_.radius+=a,e.ray.intersectsSphere(n_)===!1)return;PP.copy(i).invert(),j2.copy(e.ray).applyMatrix4(PP);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,g=new Ce,p=new Ce,d=new Ce,u=new Ce,f=this.isLineSegments?2:1;if(r.isBufferGeometry){let l=r.index,y=r.attributes.position;if(l!==null){let h=Math.max(0,s.start),m=Math.min(l.count,s.start+s.count);for(let _=h,w=m-1;_<w;_+=f){let E=l.getX(_),T=l.getX(_+1);if(g.fromBufferAttribute(y,E),p.fromBufferAttribute(y,T),j2.distanceSqToSegment(g,p,u,d)>c)continue;u.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(u);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{let h=Math.max(0,s.start),m=Math.min(y.count,s.start+s.count);for(let _=h,w=m-1;_<w;_+=f){if(g.fromBufferAttribute(y,_),p.fromBufferAttribute(y,_+1),j2.distanceSqToSegment(g,p,u,d)>c)continue;u.applyMatrix4(this.matrixWorld);let T=e.ray.origin.distanceTo(u);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){let o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Vs.prototype.isLine=!0;var LP=new Ce,IP=new Ce,Mi=class extends Vs{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)LP.fromBufferAttribute(t,i),IP.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+LP.distanceTo(IP);e.setAttribute("lineDistance",new Ot(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}};Mi.prototype.isLineSegments=!0;var r_=class extends Vs{constructor(e,t){super(e,t);this.type="LineLoop"}};r_.prototype.isLineLoop=!0;var au=class extends Or{constructor(e){super();this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}};au.prototype.isPointsMaterial=!0;var DP=new Nt,Z2=new zo,i_=new Fo,a_=new Ce,nd=class extends fn{constructor(e=new Gt,t=new au){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),i_.copy(r.boundingSphere),i_.applyMatrix4(i),i_.radius+=a,e.ray.intersectsSphere(i_)===!1)return;DP.copy(i).invert(),Z2.copy(e.ray).applyMatrix4(DP);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o;if(r.isBufferGeometry){let g=r.index,d=r.attributes.position;if(g!==null){let u=Math.max(0,s.start),f=Math.min(g.count,s.start+s.count);for(let l=u,v=f;l<v;l++){let y=g.getX(l);a_.fromBufferAttribute(d,y),OP(a_,y,c,i,e,t,this)}}else{let u=Math.max(0,s.start),f=Math.min(d.count,s.start+s.count);for(let l=u,v=f;l<v;l++)a_.fromBufferAttribute(d,l),OP(a_,l,c,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){let o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};nd.prototype.isPoints=!0;function OP(n,e,t,r,i,a,s){let o=Z2.distanceSqToPoint(n);if(o<t){let c=new Ce;Z2.closestPointToPoint(n,c),c.applyMatrix4(r);let g=i.ray.origin.distanceTo(c);if(g<i.near||g>i.far)return;a.push({distance:g,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:s})}}var X2=class extends er{constructor(e,t,r,i,a,s,o,c,g){super(e,t,r,i,a,s,o,c,g);this.format=o!==void 0?o:Hl,this.minFilter=s!==void 0?s:Dr,this.magFilter=a!==void 0?a:Dr,this.generateMipmaps=!1;let p=this;function d(){p.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}};X2.prototype.isVideoTexture=!0;var s_=class extends er{constructor(e,t,r,i,a,s,o,c,g,p,d,u){super(null,s,o,c,g,p,i,a,d,u);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};s_.prototype.isCompressedTexture=!0;var im=class extends er{constructor(e,t,r,i,a,s,o,c,g){super(e,t,r,i,a,s,o,c,g);this.needsUpdate=!0}};im.prototype.isCanvasTexture=!0;var rd=class extends Gt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);let a=[],s=[],o=[],c=[],g=new Ce,p=new ft;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let d=0,u=3;d<=t;d++,u+=3){let f=r+d/t*i;g.x=e*Math.cos(f),g.y=e*Math.sin(f),s.push(g.x,g.y,g.z),o.push(0,0,1),p.x=(s[u]/e+1)/2,p.y=(s[u+1]/e+1)/2,c.push(p.x,p.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(o,3)),this.setAttribute("uv",new Ot(c,2))}static fromJSON(e){return new rd(e.radius,e.segments,e.thetaStart,e.thetaLength)}},su=class extends Gt{constructor(e=1,t=1,r=1,i=8,a=1,s=!1,o=0,c=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};let g=this;i=Math.floor(i),a=Math.floor(a);let p=[],d=[],u=[],f=[],l=0,v=[],y=r/2,h=0;m(),s===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(p),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(f,2));function m(){let w=new Ce,E=new Ce,T=0,A=(t-e)/r;for(let C=0;C<=a;C++){let R=[],D=C/a,O=D*(t-e)+e;for(let k=0;k<=i;k++){let H=k/i,B=H*c+o,Z=Math.sin(B),V=Math.cos(B);E.x=O*Z,E.y=-D*r+y,E.z=O*V,d.push(E.x,E.y,E.z),w.set(Z,A,V).normalize(),u.push(w.x,w.y,w.z),f.push(H,1-D),R.push(l++)}v.push(R)}for(let C=0;C<i;C++)for(let R=0;R<a;R++){let D=v[R][C],O=v[R+1][C],k=v[R+1][C+1],H=v[R][C+1];p.push(D,O,H),p.push(O,k,H),T+=6}g.addGroup(h,T,0),h+=T}function _(w){let E=l,T=new ft,A=new Ce,C=0,R=w===!0?e:t,D=w===!0?1:-1;for(let k=1;k<=i;k++)d.push(0,y*D,0),u.push(0,D,0),f.push(.5,.5),l++;let O=l;for(let k=0;k<=i;k++){let B=k/i*c+o,Z=Math.cos(B),V=Math.sin(B);A.x=R*V,A.y=y*D,A.z=R*Z,d.push(A.x,A.y,A.z),u.push(0,D,0),T.x=Z*.5+.5,T.y=V*.5*D+.5,f.push(T.x,T.y),l++}for(let k=0;k<i;k++){let H=E+k,B=O+k;w===!0?p.push(B,B+1,H):p.push(B+1,B,H),C+=3}g.addGroup(h,C,w===!0?1:2),h+=C}}static fromJSON(e){return new su(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},id=class extends su{constructor(e=1,t=1,r=8,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new id(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},js=class extends Gt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let a=[],s=[];o(i),g(r),p(),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(a.slice(),3)),this.setAttribute("uv",new Ot(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(m){let _=new Ce,w=new Ce,E=new Ce;for(let T=0;T<t.length;T+=3)f(t[T+0],_),f(t[T+1],w),f(t[T+2],E),c(_,w,E,m)}function c(m,_,w,E){let T=E+1,A=[];for(let C=0;C<=T;C++){A[C]=[];let R=m.clone().lerp(w,C/T),D=_.clone().lerp(w,C/T),O=T-C;for(let k=0;k<=O;k++)k===0&&C===T?A[C][k]=R:A[C][k]=R.clone().lerp(D,k/O)}for(let C=0;C<T;C++)for(let R=0;R<2*(T-C)-1;R++){let D=Math.floor(R/2);R%2==0?(u(A[C][D+1]),u(A[C+1][D]),u(A[C][D])):(u(A[C][D+1]),u(A[C+1][D+1]),u(A[C+1][D]))}}function g(m){let _=new Ce;for(let w=0;w<a.length;w+=3)_.x=a[w+0],_.y=a[w+1],_.z=a[w+2],_.normalize().multiplyScalar(m),a[w+0]=_.x,a[w+1]=_.y,a[w+2]=_.z}function p(){let m=new Ce;for(let _=0;_<a.length;_+=3){m.x=a[_+0],m.y=a[_+1],m.z=a[_+2];let w=y(m)/2/Math.PI+.5,E=h(m)/Math.PI+.5;s.push(w,1-E)}l(),d()}function d(){for(let m=0;m<s.length;m+=6){let _=s[m+0],w=s[m+2],E=s[m+4],T=Math.max(_,w,E),A=Math.min(_,w,E);T>.9&&A<.1&&(_<.2&&(s[m+0]+=1),w<.2&&(s[m+2]+=1),E<.2&&(s[m+4]+=1))}}function u(m){a.push(m.x,m.y,m.z)}function f(m,_){let w=m*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function l(){let m=new Ce,_=new Ce,w=new Ce,E=new Ce,T=new ft,A=new ft,C=new ft;for(let R=0,D=0;R<a.length;R+=9,D+=6){m.set(a[R+0],a[R+1],a[R+2]),_.set(a[R+3],a[R+4],a[R+5]),w.set(a[R+6],a[R+7],a[R+8]),T.set(s[D+0],s[D+1]),A.set(s[D+2],s[D+3]),C.set(s[D+4],s[D+5]),E.copy(m).add(_).add(w).divideScalar(3);let O=y(E);v(T,D+0,m,O),v(A,D+2,_,O),v(C,D+4,w,O)}}function v(m,_,w,E){E<0&&m.x===1&&(s[_]=m.x-1),w.x===0&&w.z===0&&(s[_]=E/2/Math.PI+.5)}function y(m){return Math.atan2(m.z,-m.x)}function h(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}static fromJSON(e){return new js(e.vertices,e.indices,e.radius,e.details)}},ad=class extends js{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ad(e.radius,e.detail)}},o_=new Ce,l_=new Ce,Y2=new Ce,u_=new mr,f_=class extends Gt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let i=Math.pow(10,4),a=Math.cos(Cf*t),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,g=[0,0,0],p=["a","b","c"],d=new Array(3),u={},f=[];for(let l=0;l<c;l+=3){s?(g[0]=s.getX(l),g[1]=s.getX(l+1),g[2]=s.getX(l+2)):(g[0]=l,g[1]=l+1,g[2]=l+2);let{a:v,b:y,c:h}=u_;if(v.fromBufferAttribute(o,g[0]),y.fromBufferAttribute(o,g[1]),h.fromBufferAttribute(o,g[2]),u_.getNormal(Y2),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(h.x*i)},${Math.round(h.y*i)},${Math.round(h.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let m=0;m<3;m++){let _=(m+1)%3,w=d[m],E=d[_],T=u_[p[m]],A=u_[p[_]],C=`${w}_${E}`,R=`${E}_${w}`;R in u&&u[R]?(Y2.dot(u[R].normal)<=a&&(f.push(T.x,T.y,T.z),f.push(A.x,A.y,A.z)),u[R]=null):C in u||(u[C]={index0:g[m],index1:g[_],normal:Y2.clone()})}}for(let l in u)if(u[l]){let{index0:v,index1:y}=u[l];o_.fromBufferAttribute(o,v),l_.fromBufferAttribute(o,y),f.push(o_.x,o_.y,o_.z),f.push(l_.x,l_.y,l_.z)}this.setAttribute("position",new Ot(f,3))}}},ji=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,a=r.length,s;t?s=t:s=e*r[a-1];let o=0,c=a-1,g;for(;o<=c;)if(i=Math.floor(o+(c-o)/2),g=r[i]-s,g<0)o=i+1;else if(g>0)c=i-1;else{c=i;break}if(i=c,r[i]===s)return i/(a-1);let p=r[i],u=r[i+1]-p,f=(s-p)/u;return(i+f)/(a-1)}getTangent(e,t){let r=1e-4,i=e-r,a=e+r;i<0&&(i=0),a>1&&(a=1);let s=this.getPoint(i),o=this.getPoint(a),c=t||(s.isVector2?new ft:new Ce);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new Ce,i=[],a=[],s=[],o=new Ce,c=new Nt;for(let f=0;f<=e;f++){let l=f/e;i[f]=this.getTangentAt(l,new Ce)}a[0]=new Ce,s[0]=new Ce;let g=Number.MAX_VALUE,p=Math.abs(i[0].x),d=Math.abs(i[0].y),u=Math.abs(i[0].z);p<=g&&(g=p,r.set(1,0,0)),d<=g&&(g=d,r.set(0,1,0)),u<=g&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let f=1;f<=e;f++){if(a[f]=a[f-1].clone(),s[f]=s[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();let l=Math.acos($r(i[f-1].dot(i[f]),-1,1));a[f].applyMatrix4(c.makeRotationAxis(o,l))}s[f].crossVectors(i[f],a[f])}if(t===!0){let f=Math.acos($r(a[0].dot(a[e]),-1,1));f/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(f=-f);for(let l=1;l<=e;l++)a[l].applyMatrix4(c.makeRotationAxis(i[l],f*l)),s[l].crossVectors(i[l],a[l])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},sd=class extends ji{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,c=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,t){let r=t||new ft,i=Math.PI*2,a=this.aEndAngle-this.aStartAngle,s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);let o=this.aStartAngle+e*a,c=this.aX+this.xRadius*Math.cos(o),g=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){let p=Math.cos(this.aRotation),d=Math.sin(this.aRotation),u=c-this.aX,f=g-this.aY;c=u*p-f*d+this.aX,g=u*d+f*p+this.aY}return r.set(c,g)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};sd.prototype.isEllipseCurve=!0;var c_=class extends sd{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s);this.type="ArcCurve"}};c_.prototype.isArcCurve=!0;function q2(){let n=0,e=0,t=0,r=0;function i(a,s,o,c){n=a,e=o,t=-3*a+3*s-2*o-c,r=2*a-2*s+o+c}return{initCatmullRom:function(a,s,o,c,g){i(s,o,g*(o-a),g*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,g,p,d){let u=(s-a)/g-(o-a)/(g+p)+(o-s)/p,f=(o-s)/p-(c-s)/(p+d)+(c-o)/d;u*=p,f*=p,i(s,o,u,f)},calc:function(a){let s=a*a,o=s*a;return n+e*a+t*s+r*o}}}var h_=new Ce,Q2=new q2,J2=new q2,K2=new q2,d_=class extends ji{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Ce){let r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e,o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let g,p;this.closed||o>0?g=i[(o-1)%a]:(h_.subVectors(i[0],i[1]).add(i[0]),g=h_);let d=i[o%a],u=i[(o+1)%a];if(this.closed||o+2<a?p=i[(o+2)%a]:(h_.subVectors(i[a-1],i[a-2]).add(i[a-1]),p=h_),this.curveType==="centripetal"||this.curveType==="chordal"){let f=this.curveType==="chordal"?.5:.25,l=Math.pow(g.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(u),f),y=Math.pow(u.distanceToSquared(p),f);v<1e-4&&(v=1),l<1e-4&&(l=v),y<1e-4&&(y=v),Q2.initNonuniformCatmullRom(g.x,d.x,u.x,p.x,l,v,y),J2.initNonuniformCatmullRom(g.y,d.y,u.y,p.y,l,v,y),K2.initNonuniformCatmullRom(g.z,d.z,u.z,p.z,l,v,y)}else this.curveType==="catmullrom"&&(Q2.initCatmullRom(g.x,d.x,u.x,p.x,this.tension),J2.initCatmullRom(g.y,d.y,u.y,p.y,this.tension),K2.initCatmullRom(g.z,d.z,u.z,p.z,this.tension));return r.set(Q2.calc(c),J2.calc(c),K2.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new Ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};d_.prototype.isCatmullRomCurve3=!0;function NP(n,e,t,r,i){let a=(r-e)*.5,s=(i-t)*.5,o=n*n,c=n*o;return(2*t-2*r+a+s)*c+(-3*t+3*r-2*a-s)*o+a*n+t}function N7(n,e){let t=1-n;return t*t*e}function k7(n,e){return 2*(1-n)*n*e}function F7(n,e){return n*n*e}function am(n,e,t,r){return N7(n,e)+k7(n,t)+F7(n,r)}function B7(n,e){let t=1-n;return t*t*t*e}function z7(n,e){let t=1-n;return 3*t*t*n*e}function U7(n,e){return 3*(1-n)*n*n*e}function H7(n,e){return n*n*n*e}function sm(n,e,t,r,i){return B7(n,e)+z7(n,t)+U7(n,r)+H7(n,i)}var om=class extends ji{constructor(e=new ft,t=new ft,r=new ft,i=new ft){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ft){let r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(sm(e,i.x,a.x,s.x,o.x),sm(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};om.prototype.isCubicBezierCurve=!0;var p_=class extends ji{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){let r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(sm(e,i.x,a.x,s.x,o.x),sm(e,i.y,a.y,s.y,o.y),sm(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};p_.prototype.isCubicBezierCurve3=!0;var od=class extends ji{constructor(e=new ft,t=new ft){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ft){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new ft;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};od.prototype.isLineCurve=!0;var $2=class extends ji{constructor(e=new Ce,t=new Ce){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Ce){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},lm=class extends ji{constructor(e=new ft,t=new ft,r=new ft){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ft){let r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(am(e,i.x,a.x,s.x),am(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};lm.prototype.isQuadraticBezierCurve=!0;var um=class extends ji{constructor(e=new Ce,t=new Ce,r=new Ce){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){let r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(am(e,i.x,a.x,s.x),am(e,i.y,a.y,s.y),am(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};um.prototype.isQuadraticBezierCurve3=!0;var fm=class extends ji{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ft){let r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,c=i[s===0?s:s-1],g=i[s],p=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(NP(o,c.x,g.x,p.x,d.x),NP(o,c.y,g.y,p.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new ft().fromArray(i))}return this}};fm.prototype.isSplineCurve=!0;var eE=Object.freeze({__proto__:null,ArcCurve:c_,CatmullRomCurve3:d_,CubicBezierCurve:om,CubicBezierCurve3:p_,EllipseCurve:sd,LineCurve:od,LineCurve3:$2,QuadraticBezierCurve:lm,QuadraticBezierCurve3:um,SplineCurve:fm}),tE=class extends ji{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new od(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),a=0;for(;a<i.length;){if(i[a]>=r){let s=i[a]-r,o=this.curves[a],c=o.getLength(),g=c===0?0:1-s/c;return o.getPointAt(g,t)}a++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,a=this.curves;i<a.length;i++){let s=a[i],o=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let g=0;g<c.length;g++){let p=c[g];r&&r.equals(p)||(t.push(p),r=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new eE[i.type]().fromJSON(i))}return this}},ld=class extends tE{constructor(e){super();this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new od(this.currentPoint.clone(),new ft(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let a=new lm(this.currentPoint.clone(),new ft(e,t),new ft(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){let o=new om(this.currentPoint.clone(),new ft(e,t),new ft(r,i),new ft(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new fm(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){let o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,c){let g=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+g,t+p,r,i,a,s,o,c),this}absellipse(e,t,r,i,a,s,o,c){let g=new sd(e,t,r,i,a,s,o,c);if(this.curves.length>0){let d=g.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(g);let p=g.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},ls=class extends ld{constructor(e){super(e);this.uuid=ea(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new ld().fromJSON(i))}return this}},G7={triangulate:function(n,e,t=2){let r=e&&e.length,i=r?e[0]*t:n.length,a=kP(n,0,i,t,!0),s=[];if(!a||a.next===a.prev)return s;let o,c,g,p,d,u,f;if(r&&(a=X7(n,e,a,t)),n.length>80*t){o=g=n[0],c=p=n[1];for(let l=t;l<i;l+=t)d=n[l],u=n[l+1],d<o&&(o=d),u<c&&(c=u),d>g&&(g=d),u>p&&(p=u);f=Math.max(g-o,p-c),f=f!==0?1/f:0}return cm(a,s,t,o,c,f),s}};function kP(n,e,t,r,i){let a,s;if(i===i9(n,e,t,r)>0)for(a=e;a<t;a+=r)s=zP(a,n[a],n[a+1],s);else for(a=t-r;a>=e;a-=r)s=zP(a,n[a],n[a+1],s);return s&&m_(s,s.next)&&(dm(s),s=s.next),s}function ou(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(m_(t,t.next)||lr(t.prev,t,t.next)===0)){if(dm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function cm(n,e,t,r,i,a,s){if(!n)return;!s&&a&&K7(n,r,i,a);let o=n,c,g;for(;n.prev!==n.next;){if(c=n.prev,g=n.next,a?V7(n,r,i,a):W7(n)){e.push(c.i/t),e.push(n.i/t),e.push(g.i/t),dm(n),n=g.next,o=g.next;continue}if(n=g,n===o){s?s===1?(n=j7(ou(n),e,t),cm(n,e,t,r,i,a,2)):s===2&&Z7(n,e,t,r,i,a):cm(ou(n),e,t,r,i,a,1);break}}}function W7(n){let e=n.prev,t=n,r=n.next;if(lr(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(ud(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&lr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function V7(n,e,t,r){let i=n.prev,a=n,s=n.next;if(lr(i,a,s)>=0)return!1;let o=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,c=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,g=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,p=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,d=nE(o,c,e,t,r),u=nE(g,p,e,t,r),f=n.prevZ,l=n.nextZ;for(;f&&f.z>=d&&l&&l.z<=u;){if(f!==n.prev&&f!==n.next&&ud(i.x,i.y,a.x,a.y,s.x,s.y,f.x,f.y)&&lr(f.prev,f,f.next)>=0||(f=f.prevZ,l!==n.prev&&l!==n.next&&ud(i.x,i.y,a.x,a.y,s.x,s.y,l.x,l.y)&&lr(l.prev,l,l.next)>=0))return!1;l=l.nextZ}for(;f&&f.z>=d;){if(f!==n.prev&&f!==n.next&&ud(i.x,i.y,a.x,a.y,s.x,s.y,f.x,f.y)&&lr(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;l&&l.z<=u;){if(l!==n.prev&&l!==n.next&&ud(i.x,i.y,a.x,a.y,s.x,s.y,l.x,l.y)&&lr(l.prev,l,l.next)>=0)return!1;l=l.nextZ}return!0}function j7(n,e,t){let r=n;do{let i=r.prev,a=r.next.next;!m_(i,a)&&FP(i,r,r.next,a)&&hm(i,a)&&hm(a,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(a.i/t),dm(r),dm(r.next),r=n=a),r=r.next}while(r!==n);return ou(r)}function Z7(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&t9(s,o)){let c=BP(s,o);s=ou(s,s.next),c=ou(c,c.next),cm(s,e,t,r,i,a),cm(c,e,t,r,i,a);return}o=o.next}s=s.next}while(s!==n)}function X7(n,e,t,r){let i=[],a,s,o,c,g;for(a=0,s=e.length;a<s;a++)o=e[a]*r,c=a<s-1?e[a+1]*r:n.length,g=kP(n,o,c,r,!1),g===g.next&&(g.steiner=!0),i.push(e9(g));for(i.sort(Y7),a=0;a<i.length;a++)q7(i[a],t),t=ou(t,t.next);return t}function Y7(n,e){return n.x-e.x}function q7(n,e){if(e=Q7(n,e),e){let t=BP(e,n);ou(e,e.next),ou(t,t.next)}}function Q7(n,e){let t=e,r=n.x,i=n.y,a=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){let u=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(u<=r&&u>a){if(a=u,u===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===a)return s;let o=s,c=s.x,g=s.y,p=1/0,d;t=s;do r>=t.x&&t.x>=c&&r!==t.x&&ud(i<g?r:a,i,c,g,i<g?a:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),hm(t,n)&&(d<p||d===p&&(t.x>s.x||t.x===s.x&&J7(s,t)))&&(s=t,p=d)),t=t.next;while(t!==o);return s}function J7(n,e){return lr(n.prev,n,e.prev)<0&&lr(e.next,n,n.next)<0}function K7(n,e,t,r){let i=n;do i.z===null&&(i.z=nE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,$7(i)}function $7(n){let e,t,r,i,a,s,o,c,g=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,r=t,o=0,e=0;e<g&&(o++,r=r.nextZ,!!r);e++);for(c=g;o>0||c>0&&r;)o!==0&&(c===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,g*=2}while(s>1);return n}function nE(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function e9(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ud(n,e,t,r,i,a,s,o){return(i-s)*(e-o)-(n-s)*(a-o)>=0&&(n-s)*(r-o)-(t-s)*(e-o)>=0&&(t-s)*(a-o)-(i-s)*(r-o)>=0}function t9(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!n9(n,e)&&(hm(n,e)&&hm(e,n)&&r9(n,e)&&(lr(n.prev,n,e.prev)||lr(n,e.prev,e))||m_(n,e)&&lr(n.prev,n,n.next)>0&&lr(e.prev,e,e.next)>0)}function lr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function m_(n,e){return n.x===e.x&&n.y===e.y}function FP(n,e,t,r){let i=v_(lr(n,e,t)),a=v_(lr(n,e,r)),s=v_(lr(t,r,n)),o=v_(lr(t,r,e));return!!(i!==a&&s!==o||i===0&&g_(n,t,e)||a===0&&g_(n,r,e)||s===0&&g_(t,n,r)||o===0&&g_(t,e,r))}function g_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function v_(n){return n>0?1:n<0?-1:0}function n9(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&FP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function hm(n,e){return lr(n.prev,n,n.next)<0?lr(n,e,n.next)>=0&&lr(n,n.prev,e)>=0:lr(n,e,n.prev)<0||lr(n,n.next,e)<0}function r9(n,e){let t=n,r=!1,i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function BP(n,e){let t=new rE(n.i,n.x,n.y),r=new rE(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function zP(n,e,t,r){let i=new rE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function rE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function i9(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}var us=class{static area(e){let t=e.length,r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return us.area(e)<0}static triangulateShape(e,t){let r=[],i=[],a=[];UP(e),HP(r,e);let s=e.length;t.forEach(UP);for(let c=0;c<t.length;c++)i.push(s),s+=t[c].length,HP(r,t[c]);let o=G7.triangulate(r,i);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}};function UP(n){let e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}var Zs=class extends Gt{constructor(e=new ls([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let r=this,i=[],a=[];for(let o=0,c=e.length;o<c;o++){let g=e[o];s(g)}this.setAttribute("position",new Ot(i,3)),this.setAttribute("uv",new Ot(a,2)),this.computeVertexNormals();function s(o){let c=[],g=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1,u=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,l=t.bevelSize!==void 0?t.bevelSize:f-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3,h=t.extrudePath,m=t.UVGenerator!==void 0?t.UVGenerator:a9;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let _,w=!1,E,T,A,C;h&&(_=h.getSpacedPoints(p),w=!0,u=!1,E=h.computeFrenetFrames(p,!1),T=new Ce,A=new Ce,C=new Ce),u||(y=0,f=0,l=0,v=0);let R=o.extractPoints(g),D=R.shape,O=R.holes;if(!us.isClockWise(D)){D=D.reverse();for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];us.isClockWise(pe)&&(O[ge]=pe.reverse())}}let H=us.triangulateShape(D,O),B=D;for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];D=D.concat(pe)}function Z(ge,De,pe){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),De.clone().multiplyScalar(pe).add(ge)}let V=D.length,j=H.length;function z(ge,De,pe){let de,ie,re,q=ge.x-De.x,te=ge.y-De.y,G=pe.x-ge.x,L=pe.y-ge.y,I=q*q+te*te,U=q*L-te*G;if(Math.abs(U)>Number.EPSILON){let J=Math.sqrt(I),ye=Math.sqrt(G*G+L*L),Ie=De.x-te/J,be=De.y+q/J,Le=pe.x-L/ye,ze=pe.y+G/ye,qe=((Le-Ie)*L-(ze-be)*G)/(q*L-te*G);de=Ie+q*qe-ge.x,ie=be+te*qe-ge.y;let Ye=de*de+ie*ie;if(Ye<=2)return new ft(de,ie);re=Math.sqrt(Ye/2)}else{let J=!1;q>Number.EPSILON?G>Number.EPSILON&&(J=!0):q<-Number.EPSILON?G<-Number.EPSILON&&(J=!0):Math.sign(te)===Math.sign(L)&&(J=!0),J?(de=-te,ie=q,re=Math.sqrt(I)):(de=q,ie=te,re=Math.sqrt(I/2))}return new ft(de/re,ie/re)}let W=[];for(let ge=0,De=B.length,pe=De-1,de=ge+1;ge<De;ge++,pe++,de++)pe===De&&(pe=0),de===De&&(de=0),W[ge]=z(B[ge],B[pe],B[de]);let Q=[],se,le=W.concat();for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];se=[];for(let de=0,ie=pe.length,re=ie-1,q=de+1;de<ie;de++,re++,q++)re===ie&&(re=0),q===ie&&(q=0),se[de]=z(pe[de],pe[re],pe[q]);Q.push(se),le=le.concat(se)}for(let ge=0;ge<y;ge++){let De=ge/y,pe=f*Math.cos(De*Math.PI/2),de=l*Math.sin(De*Math.PI/2)+v;for(let ie=0,re=B.length;ie<re;ie++){let q=Z(B[ie],W[ie],de);ce(q.x,q.y,-pe)}for(let ie=0,re=O.length;ie<re;ie++){let q=O[ie];se=Q[ie];for(let te=0,G=q.length;te<G;te++){let L=Z(q[te],se[te],de);ce(L.x,L.y,-pe)}}}let fe=l+v;for(let ge=0;ge<V;ge++){let De=u?Z(D[ge],le[ge],fe):D[ge];w?(A.copy(E.normals[0]).multiplyScalar(De.x),T.copy(E.binormals[0]).multiplyScalar(De.y),C.copy(_[0]).add(A).add(T),ce(C.x,C.y,C.z)):ce(De.x,De.y,0)}for(let ge=1;ge<=p;ge++)for(let De=0;De<V;De++){let pe=u?Z(D[De],le[De],fe):D[De];w?(A.copy(E.normals[ge]).multiplyScalar(pe.x),T.copy(E.binormals[ge]).multiplyScalar(pe.y),C.copy(_[ge]).add(A).add(T),ce(C.x,C.y,C.z)):ce(pe.x,pe.y,d/p*ge)}for(let ge=y-1;ge>=0;ge--){let De=ge/y,pe=f*Math.cos(De*Math.PI/2),de=l*Math.sin(De*Math.PI/2)+v;for(let ie=0,re=B.length;ie<re;ie++){let q=Z(B[ie],W[ie],de);ce(q.x,q.y,d+pe)}for(let ie=0,re=O.length;ie<re;ie++){let q=O[ie];se=Q[ie];for(let te=0,G=q.length;te<G;te++){let L=Z(q[te],se[te],de);w?ce(L.x,L.y+_[p-1].y,_[p-1].x+pe):ce(L.x,L.y,d+pe)}}}$(),ae();function $(){let ge=i.length/3;if(u){let De=0,pe=V*De;for(let de=0;de<j;de++){let ie=H[de];he(ie[2]+pe,ie[1]+pe,ie[0]+pe)}De=p+y*2,pe=V*De;for(let de=0;de<j;de++){let ie=H[de];he(ie[0]+pe,ie[1]+pe,ie[2]+pe)}}else{for(let De=0;De<j;De++){let pe=H[De];he(pe[2],pe[1],pe[0])}for(let De=0;De<j;De++){let pe=H[De];he(pe[0]+V*p,pe[1]+V*p,pe[2]+V*p)}}r.addGroup(ge,i.length/3-ge,0)}function ae(){let ge=i.length/3,De=0;oe(B,De),De+=B.length;for(let pe=0,de=O.length;pe<de;pe++){let ie=O[pe];oe(ie,De),De+=ie.length}r.addGroup(ge,i.length/3-ge,1)}function oe(ge,De){let pe=ge.length;for(;--pe>=0;){let de=pe,ie=pe-1;ie<0&&(ie=ge.length-1);for(let re=0,q=p+y*2;re<q;re++){let te=V*re,G=V*(re+1),L=De+de+te,I=De+ie+te,U=De+ie+G,J=De+de+G;we(L,I,U,J)}}}function ce(ge,De,pe){c.push(ge),c.push(De),c.push(pe)}function he(ge,De,pe){xe(ge),xe(De),xe(pe);let de=i.length/3,ie=m.generateTopUV(r,i,de-3,de-2,de-1);Oe(ie[0]),Oe(ie[1]),Oe(ie[2])}function we(ge,De,pe,de){xe(ge),xe(De),xe(de),xe(De),xe(pe),xe(de);let ie=i.length/3,re=m.generateSideWallUV(r,i,ie-6,ie-3,ie-2,ie-1);Oe(re[0]),Oe(re[1]),Oe(re[3]),Oe(re[1]),Oe(re[2]),Oe(re[3])}function xe(ge){i.push(c[ge*3+0]),i.push(c[ge*3+1]),i.push(c[ge*3+2])}function Oe(ge){a.push(ge.x),a.push(ge.y)}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return s9(t,r,e)}static fromJSON(e,t){let r=[];for(let a=0,s=e.shapes.length;a<s;a++){let o=t[e.shapes[a]];r.push(o)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new eE[i.type]().fromJSON(i)),new Zs(r,e.options)}},a9={generateTopUV:function(n,e,t,r,i){let a=e[t*3],s=e[t*3+1],o=e[r*3],c=e[r*3+1],g=e[i*3],p=e[i*3+1];return[new ft(a,s),new ft(o,c),new ft(g,p)]},generateSideWallUV:function(n,e,t,r,i,a){let s=e[t*3],o=e[t*3+1],c=e[t*3+2],g=e[r*3],p=e[r*3+1],d=e[r*3+2],u=e[i*3],f=e[i*3+1],l=e[i*3+2],v=e[a*3],y=e[a*3+1],h=e[a*3+2];return Math.abs(o-p)<Math.abs(s-g)?[new ft(s,1-c),new ft(g,1-d),new ft(u,1-l),new ft(v,1-h)]:[new ft(o,1-c),new ft(p,1-d),new ft(f,1-l),new ft(y,1-h)]}};function s9(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){let a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}var fd=class extends js{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fd(e.radius,e.detail)}},cd=class extends Gt{constructor(e=[new ft(0,.5),new ft(.5,0),new ft(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=$r(i,0,Math.PI*2);let a=[],s=[],o=[],c=1/t,g=new Ce,p=new ft;for(let d=0;d<=t;d++){let u=r+d*c*i,f=Math.sin(u),l=Math.cos(u);for(let v=0;v<=e.length-1;v++)g.x=e[v].x*f,g.y=e[v].y,g.z=e[v].x*l,s.push(g.x,g.y,g.z),p.x=d/t,p.y=v/(e.length-1),o.push(p.x,p.y)}for(let d=0;d<t;d++)for(let u=0;u<e.length-1;u++){let f=u+d*e.length,l=f,v=f+e.length,y=f+e.length+1,h=f+1;a.push(l,v,h),a.push(v,y,h)}if(this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("uv",new Ot(o,2)),this.computeVertexNormals(),i===Math.PI*2){let d=this.attributes.normal.array,u=new Ce,f=new Ce,l=new Ce,v=t*e.length*3;for(let y=0,h=0;y<e.length;y++,h+=3)u.x=d[h+0],u.y=d[h+1],u.z=d[h+2],f.x=d[v+h+0],f.y=d[v+h+1],f.z=d[v+h+2],l.addVectors(u,f).normalize(),d[h+0]=d[v+h+0]=l.x,d[h+1]=d[v+h+1]=l.y,d[h+2]=d[v+h+2]=l.z}}static fromJSON(e){return new cd(e.points,e.segments,e.phiStart,e.phiLength)}},Bf=class extends js{constructor(e=1,t=0){let r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bf(e.radius,e.detail)}},hd=class extends Gt{constructor(e=.5,t=1,r=8,i=1,a=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);let o=[],c=[],g=[],p=[],d=e,u=(t-e)/i,f=new Ce,l=new ft;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){let h=a+y/r*s;f.x=d*Math.cos(h),f.y=d*Math.sin(h),c.push(f.x,f.y,f.z),g.push(0,0,1),l.x=(f.x/t+1)/2,l.y=(f.y/t+1)/2,p.push(l.x,l.y)}d+=u}for(let v=0;v<i;v++){let y=v*(r+1);for(let h=0;h<r;h++){let m=h+y,_=m,w=m+r+1,E=m+r+2,T=m+1;o.push(_,w,T),o.push(w,E,T)}}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(g,3)),this.setAttribute("uv",new Ot(p,2))}static fromJSON(e){return new hd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},zf=class extends Gt{constructor(e=new ls([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let r=[],i=[],a=[],s=[],o=0,c=0;if(Array.isArray(e)===!1)g(e);else for(let p=0;p<e.length;p++)g(e[p]),this.addGroup(o,c,p),o+=c,c=0;this.setIndex(r),this.setAttribute("position",new Ot(i,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(s,2));function g(p){let d=i.length/3,u=p.extractPoints(t),f=u.shape,l=u.holes;us.isClockWise(f)===!1&&(f=f.reverse());for(let y=0,h=l.length;y<h;y++){let m=l[y];us.isClockWise(m)===!0&&(l[y]=m.reverse())}let v=us.triangulateShape(f,l);for(let y=0,h=l.length;y<h;y++){let m=l[y];f=f.concat(m)}for(let y=0,h=f.length;y<h;y++){let m=f[y];i.push(m.x,m.y,0),a.push(0,0,1),s.push(m.x,m.y)}for(let y=0,h=v.length;y<h;y++){let m=v[y],_=m[0]+d,w=m[1]+d,E=m[2]+d;r.push(_,w,E),c+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return o9(t,e)}static fromJSON(e,t){let r=[];for(let i=0,a=e.shapes.length;i<a;i++){let s=t[e.shapes[i]];r.push(s)}return new zf(r,e.curveSegments)}};function o9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}var Uf=class extends Gt{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let c=Math.min(s+o,Math.PI),g=0,p=[],d=new Ce,u=new Ce,f=[],l=[],v=[],y=[];for(let h=0;h<=r;h++){let m=[],_=h/r,w=0;h==0&&s==0?w=.5/t:h==r&&c==Math.PI&&(w=-.5/t);for(let E=0;E<=t;E++){let T=E/t;d.x=-e*Math.cos(i+T*a)*Math.sin(s+_*o),d.y=e*Math.cos(s+_*o),d.z=e*Math.sin(i+T*a)*Math.sin(s+_*o),l.push(d.x,d.y,d.z),u.copy(d).normalize(),v.push(u.x,u.y,u.z),y.push(T+w,1-_),m.push(g++)}p.push(m)}for(let h=0;h<r;h++)for(let m=0;m<t;m++){let _=p[h][m+1],w=p[h][m],E=p[h+1][m],T=p[h+1][m+1];(h!==0||s>0)&&f.push(_,w,T),(h!==r-1||c<Math.PI)&&f.push(w,E,T)}this.setIndex(f),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2))}static fromJSON(e){return new Uf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},dd=class extends js{constructor(e=1,t=0){let r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dd(e.radius,e.detail)}},pd=class extends Gt{constructor(e=1,t=.4,r=8,i=6,a=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);let s=[],o=[],c=[],g=[],p=new Ce,d=new Ce,u=new Ce;for(let f=0;f<=r;f++)for(let l=0;l<=i;l++){let v=l/i*a,y=f/r*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),o.push(d.x,d.y,d.z),p.x=e*Math.cos(v),p.y=e*Math.sin(v),u.subVectors(d,p).normalize(),c.push(u.x,u.y,u.z),g.push(l/i),g.push(f/r)}for(let f=1;f<=r;f++)for(let l=1;l<=i;l++){let v=(i+1)*f+l-1,y=(i+1)*(f-1)+l-1,h=(i+1)*(f-1)+l,m=(i+1)*f+l;s.push(v,y,m),s.push(y,h,m)}this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(g,2))}static fromJSON(e){return new pd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},md=class extends Gt{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);let o=[],c=[],g=[],p=[],d=new Ce,u=new Ce,f=new Ce,l=new Ce,v=new Ce,y=new Ce,h=new Ce;for(let _=0;_<=r;++_){let w=_/r*a*Math.PI*2;m(w,a,s,e,f),m(w+.01,a,s,e,l),y.subVectors(l,f),h.addVectors(l,f),v.crossVectors(y,h),h.crossVectors(v,y),v.normalize(),h.normalize();for(let E=0;E<=i;++E){let T=E/i*Math.PI*2,A=-t*Math.cos(T),C=t*Math.sin(T);d.x=f.x+(A*h.x+C*v.x),d.y=f.y+(A*h.y+C*v.y),d.z=f.z+(A*h.z+C*v.z),c.push(d.x,d.y,d.z),u.subVectors(d,f).normalize(),g.push(u.x,u.y,u.z),p.push(_/r),p.push(E/i)}}for(let _=1;_<=r;_++)for(let w=1;w<=i;w++){let E=(i+1)*(_-1)+(w-1),T=(i+1)*_+(w-1),A=(i+1)*_+w,C=(i+1)*(_-1)+w;o.push(E,T,C),o.push(T,A,C)}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(g,3)),this.setAttribute("uv",new Ot(p,2));function m(_,w,E,T,A){let C=Math.cos(_),R=Math.sin(_),D=E/w*_,O=Math.cos(D);A.x=T*(2+O)*.5*C,A.y=T*(2+O)*R*.5,A.z=T*Math.sin(D)*.5}}static fromJSON(e){return new md(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},gd=class extends Gt{constructor(e=new um(new Ce(-1,-1,0),new Ce(-1,1,0),new Ce(1,1,0)),t=64,r=1,i=8,a=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};let s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let o=new Ce,c=new Ce,g=new ft,p=new Ce,d=[],u=[],f=[],l=[];v(),this.setIndex(l),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(f,2));function v(){for(let _=0;_<t;_++)y(_);y(a===!1?t:0),m(),h()}function y(_){p=e.getPointAt(_/t,p);let w=s.normals[_],E=s.binormals[_];for(let T=0;T<=i;T++){let A=T/i*Math.PI*2,C=Math.sin(A),R=-Math.cos(A);c.x=R*w.x+C*E.x,c.y=R*w.y+C*E.y,c.z=R*w.z+C*E.z,c.normalize(),u.push(c.x,c.y,c.z),o.x=p.x+r*c.x,o.y=p.y+r*c.y,o.z=p.z+r*c.z,d.push(o.x,o.y,o.z)}}function h(){for(let _=1;_<=t;_++)for(let w=1;w<=i;w++){let E=(i+1)*(_-1)+(w-1),T=(i+1)*_+(w-1),A=(i+1)*_+w,C=(i+1)*(_-1)+w;l.push(E,T,C),l.push(T,A,C)}}function m(){for(let _=0;_<=t;_++)for(let w=0;w<=i;w++)g.x=_/t,g.y=w/i,f.push(g.x,g.y)}}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gd(new eE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},__=class extends Gt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],r=new Set,i=new Ce,a=new Ce;if(e.index!==null){let s=e.attributes.position,o=e.index,c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let g=0,p=c.length;g<p;++g){let d=c[g],u=d.start,f=d.count;for(let l=u,v=u+f;l<v;l+=3)for(let y=0;y<3;y++){let h=o.getX(l+y),m=o.getX(l+(y+1)%3);i.fromBufferAttribute(s,h),a.fromBufferAttribute(s,m),GP(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{let s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let g=0;g<3;g++){let p=3*o+g,d=3*o+(g+1)%3;i.fromBufferAttribute(s,p),a.fromBufferAttribute(s,d),GP(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ot(t,3))}}};function GP(n,e,t){let r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var WP=Object.freeze({__proto__:null,BoxGeometry:Wo,BoxBufferGeometry:Wo,CircleGeometry:rd,CircleBufferGeometry:rd,ConeGeometry:id,ConeBufferGeometry:id,CylinderGeometry:su,CylinderBufferGeometry:su,DodecahedronGeometry:ad,DodecahedronBufferGeometry:ad,EdgesGeometry:f_,ExtrudeGeometry:Zs,ExtrudeBufferGeometry:Zs,IcosahedronGeometry:fd,IcosahedronBufferGeometry:fd,LatheGeometry:cd,LatheBufferGeometry:cd,OctahedronGeometry:Bf,OctahedronBufferGeometry:Bf,PlaneGeometry:If,PlaneBufferGeometry:If,PolyhedronGeometry:js,PolyhedronBufferGeometry:js,RingGeometry:hd,RingBufferGeometry:hd,ShapeGeometry:zf,ShapeBufferGeometry:zf,SphereGeometry:Uf,SphereBufferGeometry:Uf,TetrahedronGeometry:dd,TetrahedronBufferGeometry:dd,TorusGeometry:pd,TorusBufferGeometry:pd,TorusKnotGeometry:md,TorusKnotBufferGeometry:md,TubeGeometry:gd,TubeBufferGeometry:gd,WireframeGeometry:__}),y_=class extends Or{constructor(e){super();this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}};y_.prototype.isShadowMaterial=!0;var pm=class extends Or{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Af,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};pm.prototype.isMeshStandardMaterial=!0;var x_=class extends pm{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $r(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};x_.prototype.isMeshPhysicalMaterial=!0;var w_=class extends Or{constructor(e){super();this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Af,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=b0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};w_.prototype.isMeshPhongMaterial=!0;var b_=class extends Or{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Af,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};b_.prototype.isMeshToonMaterial=!0;var E_=class extends Or{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Af,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}};E_.prototype.isMeshNormalMaterial=!0;var S_=class extends Or{constructor(e){super();this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=b0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};S_.prototype.isMeshLambertMaterial=!0;var M_=class extends Or{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Af,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}};M_.prototype.isMeshMatcapMaterial=!0;var T_=class extends Nr{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};T_.prototype.isLineDashedMaterial=!0;var l9=Object.freeze({__proto__:null,ShadowMaterial:y_,SpriteMaterial:q0,RawShaderMaterial:Df,ShaderMaterial:Gs,PointsMaterial:au,MeshPhysicalMaterial:x_,MeshStandardMaterial:pm,MeshPhongMaterial:w_,MeshToonMaterial:b_,MeshNormalMaterial:E_,MeshLambertMaterial:S_,MeshDepthMaterial:Z0,MeshDistanceMaterial:X0,MeshBasicMaterial:Hs,MeshMatcapMaterial:M_,LineDashedMaterial:T_,LineBasicMaterial:Nr,Material:Or}),Kn={arraySlice:function(n,e,t){return Kn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,a){return n[i]-n[a]}let t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){let r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){let o=t[a]*e;for(let c=0;c!==e;++c)i[s++]=n[o+c]}return i},flattenJSON:function(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)},subclip:function(n,e,t,r,i=30){let a=n.clone();a.name=e;let s=[];for(let c=0;c<a.tracks.length;++c){let g=a.tracks[c],p=g.getValueSize(),d=[],u=[];for(let f=0;f<g.times.length;++f){let l=g.times[f]*i;if(!(l<t||l>=r)){d.push(g.times[f]);for(let v=0;v<p;++v)u.push(g.values[f*p+v])}}d.length!==0&&(g.times=Kn.convertArray(d,g.times.constructor),g.values=Kn.convertArray(u,g.values.constructor),s.push(g))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);let i=t.tracks.length,a=e/r;for(let s=0;s<i;++s){let o=t.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;let g=n.tracks.find(function(h){return h.name===o.name&&h.ValueTypeName===c});if(g===void 0)continue;let p=0,d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=d/3);let u=0,f=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let l=o.times.length-1,v;if(a<=o.times[0]){let h=p,m=d-p;v=Kn.arraySlice(o.values,h,m)}else if(a>=o.times[l]){let h=l*d+p,m=h+d-p;v=Kn.arraySlice(o.values,h,m)}else{let h=o.createInterpolant(),m=p,_=d-p;h.evaluate(a),v=Kn.arraySlice(h.resultBuffer,m,_)}c==="quaternion"&&new wr().fromArray(v).normalize().conjugate().toArray(v);let y=g.times.length;for(let h=0;h<y;++h){let m=h*f+u;if(c==="quaternion")wr.multiplyQuaternionsFlat(g.values,m,v,0,g.values,m);else{let _=f-u*2;for(let w=0;w<_;++w)g.values[m+w]-=v[w]}}}return n.blendMode=Jb,n}},Xs=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,a)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){let o=t[1];e<o&&(r=2,a=o);for(let c=r-2;;){if(a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===c)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){let o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,a,e)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};Xs.prototype.beforeStart_=Xs.prototype.copySampleValue_;Xs.prototype.afterEnd_=Xs.prototype.copySampleValue_;var iE=class extends Xs{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mf,endingEnd:Mf}}intervalChanged_(e,t,r){let i=this.parameterPositions,a=e-2,s=e+1,o=i[a],c=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Tf:a=e,o=2*t-r;break;case L0:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Tf:s=e,c=2*r-t;break;case L0:s=1,c=r+i[1]-i[0];break;default:s=e-1,c=t}let g=(r-t)*.5,p=this.valueSize;this._weightPrev=g/(t-o),this._weightNext=g/(c-r),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,r,i){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,g=c-o,p=this._offsetPrev,d=this._offsetNext,u=this._weightPrev,f=this._weightNext,l=(r-t)/(i-t),v=l*l,y=v*l,h=-u*y+2*u*v-u*l,m=(1+u)*y+(-1.5-2*u)*v+(-.5+u)*l+1,_=(-1-f)*y+(1.5+f)*v+.5*l,w=f*y-f*v;for(let E=0;E!==o;++E)a[E]=h*s[p+E]+m*s[g+E]+_*s[c+E]+w*s[d+E];return a}},A_=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,g=c-o,p=(r-t)/(i-t),d=1-p;for(let u=0;u!==o;++u)a[u]=s[g+u]*d+s[c+u]*p;return a}},aE=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Ia=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kn.convertArray(t,this.TimeBufferType),this.values=Kn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Kn.convertArray(e.times,Array),values:Kn.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new aE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new A_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new iE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case R0:t=this.InterpolantFactoryMethodDiscrete;break;case P0:t=this.InterpolantFactoryMethodLinear;break;case x1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return R0;case this.InterpolantFactoryMethodLinear:return P0;case this.InterpolantFactoryMethodSmooth:return x1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);let o=this.getValueSize();this.times=Kn.arraySlice(r,a,s),this.values=Kn.arraySlice(this.values,a*o,s*o)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){let c=r[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(i!==void 0&&Kn.isTypedArray(i))for(let o=0,c=i.length;o!==c;++o){let g=i[o];if(isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,g),e=!1;break}}return e}optimize(){let e=Kn.arraySlice(this.times),t=Kn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===x1,a=e.length-1,s=1;for(let o=1;o<a;++o){let c=!1,g=e[o],p=e[o+1];if(g!==p&&(o!==1||g!==e[0]))if(i)c=!0;else{let d=o*r,u=d-r,f=d+r;for(let l=0;l!==r;++l){let v=t[d+l];if(v!==t[u+l]||v!==t[f+l]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];let d=o*r,u=s*r;for(let f=0;f!==r;++f)t[u+f]=t[d+f]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,c=s*r,g=0;g!==r;++g)t[c+g]=t[o+g];++s}return s!==e.length?(this.times=Kn.arraySlice(e,0,s),this.values=Kn.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){let e=Kn.arraySlice(this.times,0),t=Kn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Ia.prototype.TimeBufferType=Float32Array;Ia.prototype.ValueBufferType=Float32Array;Ia.prototype.DefaultInterpolation=P0;var lu=class extends Ia{};lu.prototype.ValueTypeName="bool";lu.prototype.ValueBufferType=Array;lu.prototype.DefaultInterpolation=R0;lu.prototype.InterpolantFactoryMethodLinear=void 0;lu.prototype.InterpolantFactoryMethodSmooth=void 0;var C_=class extends Ia{};C_.prototype.ValueTypeName="color";var vd=class extends Ia{};vd.prototype.ValueTypeName="number";var sE=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(r-t)/(i-t),g=e*o;for(let p=g+o;g!==p;g+=4)wr.slerpFlat(a,0,s,g-o,s,g,c);return a}},Hf=class extends Ia{InterpolantFactoryMethodLinear(e){return new sE(this.times,this.values,this.getValueSize(),e)}};Hf.prototype.ValueTypeName="quaternion";Hf.prototype.DefaultInterpolation=P0;Hf.prototype.InterpolantFactoryMethodSmooth=void 0;var uu=class extends Ia{};uu.prototype.ValueTypeName="string";uu.prototype.ValueBufferType=Array;uu.prototype.DefaultInterpolation=R0;uu.prototype.InterpolantFactoryMethodLinear=void 0;uu.prototype.InterpolantFactoryMethodSmooth=void 0;var _d=class extends Ia{};_d.prototype.ValueTypeName="vector";var yd=class{constructor(e,t=-1,r,i=w1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ea(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(f9(r[s]).scale(i));let a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)t.push(Ia.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let a=t.length,s=[];for(let o=0;o<a;o++){let c=[],g=[];c.push((o+a-1)%a,o,(o+1)%a),g.push(0,1,0);let p=Kn.getKeyframeOrder(c);c=Kn.sortedArray(c,1,p),g=Kn.sortedArray(g,1,p),!i&&c[0]===0&&(c.push(a),g.push(g[0])),s.push(new vd(".morphTargetInfluences["+t[o].name+"]",c,g).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){let g=e[o],p=g.name.match(a);if(p&&p.length>1){let d=p[1],u=i[d];u||(i[d]=u=[]),u.push(g)}}let s=[];for(let o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(d,u,f,l,v){if(f.length!==0){let y=[],h=[];Kn.flattenJSON(f,y,h,l),y.length!==0&&v.push(new d(u,y,h))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode,c=e.length||-1,g=e.hierarchy||[];for(let d=0;d<g.length;d++){let u=g[d].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let f={},l;for(l=0;l<u.length;l++)if(u[l].morphTargets)for(let v=0;v<u[l].morphTargets.length;v++)f[u[l].morphTargets[v]]=-1;for(let v in f){let y=[],h=[];for(let m=0;m!==u[l].morphTargets.length;++m){let _=u[l];y.push(_.time),h.push(_.morphTarget===v?1:0)}i.push(new vd(".morphTargetInfluence["+v+"]",y,h))}c=f.length*(s||1)}else{let f=".bones["+t[d].name+"]";r(_d,f+".position",u,"pos",i),r(Hf,f+".quaternion",u,"rot",i),r(_d,f+".scale",u,"scl",i)}}return i.length===0?null:new this(a,c,i,o)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function u9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vd;case"vector":case"vector2":case"vector3":case"vector4":return _d;case"color":return C_;case"quaternion":return Hf;case"bool":case"boolean":return lu;case"string":return uu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function f9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=u9(n.type);if(n.times===void 0){let t=[],r=[];Kn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}var Gf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},R_=class{constructor(e,t,r){let i=this,a=!1,s=0,o=0,c,g=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(p){o++,a===!1&&i.onStart!==void 0&&i.onStart(p,s,o),a=!0},this.itemEnd=function(p){s++,i.onProgress!==void 0&&i.onProgress(p,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(p){i.onError!==void 0&&i.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,d){return g.push(p,d),this},this.removeHandler=function(p){let d=g.indexOf(p);return d!==-1&&g.splice(d,2),this},this.getHandler=function(p){for(let d=0,u=g.length;d<u;d+=2){let f=g[d],l=g[d+1];if(f.global&&(f.lastIndex=0),f.test(p))return l}return null}}},Wf=new R_,vi=class{constructor(e){this.manager=e!==void 0?e:Wf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Zo={},fs=class extends vi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=Gf.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Zo[e]!==void 0){Zo[e].push({onLoad:t,onProgress:r,onError:i});return}Zo[e]=[],Zo[e].push({onLoad:t,onProgress:r,onError:i});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(s).then(o=>{if(o.status===200||o.status===0){o.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");let c=Zo[e],g=o.body.getReader(),p=o.headers.get("Content-Length"),d=p?parseInt(p):0,u=d!==0,f=0;return new ReadableStream({start(l){v();function v(){g.read().then(({done:y,value:h})=>{if(y)l.close();else{f+=h.byteLength;let m=new ProgressEvent("progress",{lengthComputable:u,loaded:f,total:d});for(let _=0,w=c.length;_<w;_++){let E=c[_];E.onProgress&&E.onProgress(m)}l.enqueue(h),v()}})}}})}else throw Error(`fetch for "${o.url}" responded with ${o.status}: ${o.statusText}`)}).then(o=>{let c=new Response(o);switch(this.responseType){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(g=>new DOMParser().parseFromString(g,this.mimeType));case"json":return c.json();default:return c.text()}}).then(o=>{Gf.add(e,o);let c=Zo[e];delete Zo[e];for(let g=0,p=c.length;g<p;g++){let d=c[g];d.onLoad&&d.onLoad(o)}this.manager.itemEnd(e)}).catch(o=>{let c=Zo[e];delete Zo[e];for(let g=0,p=c.length;g<p;g++){let d=c[g];d.onError&&d.onError(o)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},VP=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=new fs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e){let t=[];for(let r=0;r<e.length;r++){let i=yd.parse(e[r]);t.push(i)}return t}},jP=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=[],o=new s_,c=new fs(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let g=0;function p(d){c.load(e[d],function(u){let f=a.parse(u,!0);s[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},g+=1,g===6&&(f.mipmapCount===1&&(o.minFilter=Dr),o.image=s,o.format=f.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,u=e.length;d<u;++d)p(d);else c.load(e,function(d){let u=a.parse(d,!0);if(u.isCubemap){let f=u.mipmaps.length/u.mipmapCount;for(let l=0;l<f;l++){s[l]={mipmaps:[]};for(let v=0;v<u.mipmapCount;v++)s[l].mipmaps.push(u.mipmaps[l*u.mipmapCount+v]),s[l].format=u.format,s[l].width=u.width,s[l].height=u.height}o.image=s}else o.image.width=u.width,o.image.height=u.height,o.mipmaps=u.mipmaps;u.mipmapCount===1&&(o.minFilter=Dr),o.format=u.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}},xd=class extends vi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=Gf.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o=T1("img");function c(){p(),Gf.add(e,this),t&&t(this),a.manager.itemEnd(e)}function g(d){p(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){o.removeEventListener("load",c,!1),o.removeEventListener("error",g,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",g,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}},oE=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=new Lf,s=new xd(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(g){s.load(e[g],function(p){a.images[g]=p,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let g=0;g<e.length;++g)c(g);return a}},lE=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=new ru,o=new fs(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let g=a.parse(c);!g||(g.image!==void 0?s.image=g.image:g.data!==void 0&&(s.image.width=g.width,s.image.height=g.height,s.image.data=g.data),s.wrapS=g.wrapS!==void 0?g.wrapS:qr,s.wrapT=g.wrapT!==void 0?g.wrapT:qr,s.magFilter=g.magFilter!==void 0?g.magFilter:Dr,s.minFilter=g.minFilter!==void 0?g.minFilter:Dr,s.anisotropy=g.anisotropy!==void 0?g.anisotropy:1,g.encoding!==void 0&&(s.encoding=g.encoding),g.flipY!==void 0&&(s.flipY=g.flipY),g.format!==void 0&&(s.format=g.format),g.type!==void 0&&(s.type=g.type),g.mipmaps!==void 0&&(s.mipmaps=g.mipmaps,s.minFilter=wf),g.mipmapCount===1&&(s.minFilter=Dr),g.generateMipmaps!==void 0&&(s.generateMipmaps=g.generateMipmaps),s.needsUpdate=!0,t&&t(s,g))},r,i),s}},Vf=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=new er,s=new xd(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}},Da=class extends fn{constructor(e,t=1){super();this.type="Light",this.color=new bt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};Da.prototype.isLight=!0;var P_=class extends Da{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.groundColor=new bt(t)}copy(e){return Da.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}};P_.prototype.isHemisphereLight=!0;var ZP=new Nt,XP=new Ce,YP=new Ce,L_=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new jh,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;XP.setFromMatrixPosition(e.matrixWorld),t.position.copy(XP),YP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(YP),t.updateMatrixWorld(),ZP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},uE=class extends L_{constructor(){super(new Bn(50,1,.5,500));this.focus=1}updateMatrices(e){let t=this.camera,r=I0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}};uE.prototype.isSpotLightShadow=!0;var I_=class extends Da{constructor(e,t,r=0,i=Math.PI/3,a=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.target=new fn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.shadow=new uE}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};I_.prototype.isSpotLight=!0;var qP=new Nt,mm=new Ce,fE=new Ce,cE=class extends L_{constructor(){super(new Bn(90,1,.5,500));this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new Dn(2,1,1,1),new Dn(0,1,1,1),new Dn(3,1,1,1),new Dn(1,1,1,1),new Dn(3,0,1,1),new Dn(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),mm.setFromMatrixPosition(e.matrixWorld),r.position.copy(mm),fE.copy(r.position),fE.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(fE),r.updateMatrixWorld(),i.makeTranslation(-mm.x,-mm.y,-mm.z),qP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qP)}};cE.prototype.isPointLightShadow=!0;var D_=class extends Da{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new cE}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};D_.prototype.isPointLight=!0;var hE=class extends L_{constructor(){super(new La(-5,5,5,-5,.5,500))}};hE.prototype.isDirectionalLightShadow=!0;var O_=class extends Da{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.target=new fn,this.shadow=new hE}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};O_.prototype.isDirectionalLight=!0;var N_=class extends Da{constructor(e,t){super(e,t);this.type="AmbientLight"}};N_.prototype.isAmbientLight=!0;var k_=class extends Da{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}};k_.prototype.isRectAreaLight=!0;var F_=class{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){let r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){let r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}};F_.prototype.isSphericalHarmonics3=!0;var wd=class extends Da{constructor(e=new F_,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}};wd.prototype.isLightProbe=!0;var dE=class extends vi{constructor(e){super(e);this.textures={}}load(e,t,r,i){let a=this,s=new fs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e){let t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}let i=new l9[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let a in e.uniforms){let s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new bt().setHex(s.value);break;case"v2":i.uniforms[a].value=new ft().fromArray(s.value);break;case"v3":i.uniforms[a].value=new Ce().fromArray(s.value);break;case"v4":i.uniforms[a].value=new Dn().fromArray(s.value);break;case"m3":i.uniforms[a].value=new Cr().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Nt().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(let a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new ft().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}},gm=class{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},B_=class extends Gt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};B_.prototype.isInstancedBufferGeometry=!0;var pE=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=new fs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(f,l){if(t[l]!==void 0)return t[l];let y=f.interleavedBuffers[l],h=a(f,y.buffer),m=Ph(y.type,h),_=new nu(m,y.stride);return _.uuid=y.uuid,t[l]=_,_}function a(f,l){if(r[l]!==void 0)return r[l];let y=f.arrayBuffers[l],h=new Uint32Array(y).buffer;return r[l]=h,h}let s=e.isInstancedBufferGeometry?new B_:new Gt,o=e.data.index;if(o!==void 0){let f=Ph(o.type,o.array);s.setIndex(new vn(f,1))}let c=e.data.attributes;for(let f in c){let l=c[f],v;if(l.isInterleavedBufferAttribute){let y=i(e.data,l.data);v=new jo(y,l.itemSize,l.offset,l.normalized)}else{let y=Ph(l.type,l.array),h=l.isInstancedBufferAttribute?iu:vn;v=new h(y,l.itemSize,l.normalized)}l.name!==void 0&&(v.name=l.name),l.usage!==void 0&&v.setUsage(l.usage),l.updateRange!==void 0&&(v.updateRange.offset=l.updateRange.offset,v.updateRange.count=l.updateRange.count),s.setAttribute(f,v)}let g=e.data.morphAttributes;if(g)for(let f in g){let l=g[f],v=[];for(let y=0,h=l.length;y<h;y++){let m=l[y],_;if(m.isInterleavedBufferAttribute){let w=i(e.data,m.data);_=new jo(w,m.itemSize,m.offset,m.normalized)}else{let w=Ph(m.type,m.array);_=new vn(w,m.itemSize,m.normalized)}m.name!==void 0&&(_.name=m.name),v.push(_)}s.morphAttributes[f]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,l=d.length;f!==l;++f){let v=d[f];s.addGroup(v.start,v.count,v.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let f=new Ce;u.center!==void 0&&f.fromArray(u.center),s.boundingSphere=new Fo(f,u.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}},QP=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=this.path===""?gm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let o=new fs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let g=null;try{g=JSON.parse(c)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}let p=g.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(g,t)},r,i)}async loadAsync(e,t){let r=this,i=this.path===""?gm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;let a=new fs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);let s=await a.loadAsync(e,t),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){let r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(g)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),g=this.parseObject(e.object,a,c,o,r),p=this.parseSkeletons(e.skeletons,g);if(this.bindSkeletons(g,p),t!==void 0){let d=!1;for(let u in s)if(s[u]instanceof HTMLImageElement){d=!0;break}d===!1&&t(g)}return g}async parseAsync(e){let t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,i,o,s,t),g=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,g),c}parseShapes(e){let t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){let a=new ls().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){let r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=new nm().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){let r={};if(e!==void 0){let i=new pE;for(let a=0,s=e.length;a<s;a++){let o,c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(c);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:c.type in WP?o=WP[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),o.isBufferGeometry===!0&&c.userData!==void 0&&(o.userData=c.userData),r[c.uuid]=o}}return r}parseMaterials(e,t){let r={},i={};if(e!==void 0){let a=new dE;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){let c=e[s];if(c.type==="MultiMaterial"){let g=[];for(let p=0;p<c.materials.length;p++){let d=c.materials[p];r[d.uuid]===void 0&&(r[d.uuid]=a.parse(d)),g.push(r[d.uuid])}i[c.uuid]=g}else r[c.uuid]===void 0&&(r[c.uuid]=a.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){let t={};if(e!==void 0)for(let r=0;r<e.length;r++){let i=e[r],a=yd.parse(i);t[a.uuid]=a}return t}parseImages(e,t){let r=this,i={},a;function s(c){return r.manager.itemStart(c),a.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){let g=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(g)?g:r.resourcePath+g;return s(p)}else return c.data?{data:Ph(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){let c=new R_(t);a=new xd(c),a.setCrossOrigin(this.crossOrigin);for(let g=0,p=e.length;g<p;g++){let d=e[g],u=d.url;if(Array.isArray(u)){i[d.uuid]=[];for(let f=0,l=u.length;f<l;f++){let v=u[f],y=o(v);y!==null&&(y instanceof HTMLImageElement?i[d.uuid].push(y):i[d.uuid].push(new ru(y.data,y.width,y.height)))}}else{let f=o(d.url);f!==null&&(i[d.uuid]=f)}}}return i}async parseImagesAsync(e){let t=this,r={},i;async function a(s){if(typeof s=="string"){let o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(c)}else return s.data?{data:Ph(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new xd(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){let c=e[s],g=c.url;if(Array.isArray(g)){r[c.uuid]=[];for(let p=0,d=g.length;p<d;p++){let u=g[p],f=await a(u);f!==null&&(f instanceof HTMLImageElement?r[c.uuid].push(f):r[c.uuid].push(new ru(f.data,f.width,f.height)))}}else{let p=await a(c.url);p!==null&&(r[c.uuid]=p)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}let i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let c,g=t[o.image];Array.isArray(g)?(c=new Lf(g),g.length===6&&(c.needsUpdate=!0)):(g&&g.data?c=new ru(g.data,g.width,g.height):c=new er(g),g&&(c.needsUpdate=!0)),c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=r(o.mapping,c9)),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=r(o.wrap[0],JP),c.wrapT=r(o.wrap[1],JP)),o.format!==void 0&&(c.format=o.format),o.type!==void 0&&(c.type=o.type),o.encoding!==void 0&&(c.encoding=o.encoding),o.minFilter!==void 0&&(c.minFilter=r(o.minFilter,KP)),o.magFilter!==void 0&&(c.magFilter=r(o.magFilter,KP)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.userData!==void 0&&(c.userData=o.userData),i[o.uuid]=c}return i}parseObject(e,t,r,i,a){let s;function o(u){return t[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",u),t[u]}function c(u){if(u!==void 0){if(Array.isArray(u)){let f=[];for(let l=0,v=u.length;l<v;l++){let y=u[l];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),f.push(r[y])}return f}return r[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),r[u]}}function g(u){return i[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",u),i[u]}let p,d;switch(e.type){case"Scene":s=new Ff,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new bt(e.background):s.background=g(e.background)),e.environment!==void 0&&(s.environment=g(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Jh(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Qh(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new La(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new N_(e.color,e.intensity);break;case"DirectionalLight":s=new O_(e.color,e.intensity);break;case"PointLight":s=new D_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new k_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new I_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new P_(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new wd().fromJSON(e);break;case"SkinnedMesh":p=o(e.geometry),d=c(e.material),s=new em(p,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=o(e.geometry),d=c(e.material),s=new br(p,d);break;case"InstancedMesh":p=o(e.geometry),d=c(e.material);let u=e.count,f=e.instanceMatrix,l=e.instanceColor;s=new t_(p,d,u),s.instanceMatrix=new iu(new Float32Array(f.array),16),l!==void 0&&(s.instanceColor=new iu(new Float32Array(l.array),l.itemSize));break;case"LOD":s=new V2;break;case"Line":s=new Vs(o(e.geometry),c(e.material));break;case"LineLoop":s=new r_(o(e.geometry),c(e.material));break;case"LineSegments":s=new Mi(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new nd(o(e.geometry),c(e.material));break;case"Sprite":s=new $0(c(e.material));break;case"Group":s=new tu;break;case"Bone":s=new tm;break;default:s=new fn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){let u=e.children;for(let f=0;f<u.length;f++)s.add(this.parseObject(u[f],t,r,i,a))}if(e.animations!==void 0){let u=e.animations;for(let f=0;f<u.length;f++){let l=u[f];s.animations.push(a[l])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);let u=e.levels;for(let f=0;f<u.length;f++){let l=u[f],v=s.getObjectByProperty("uuid",l.object);v!==void 0&&s.addLevel(v,l.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){let i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},c9={UVMapping:v1,CubeReflectionMapping:yf,CubeRefractionMapping:xf,EquirectangularReflectionMapping:E0,EquirectangularRefractionMapping:S0,CubeUVReflectionMapping:Th,CubeUVRefractionMapping:M0},JP={RepeatWrapping:T0,ClampToEdgeWrapping:qr,MirroredRepeatWrapping:A0},KP={NearestFilter:Ar,NearestMipmapNearestFilter:_1,NearestMipmapLinearFilter:y1,LinearFilter:Dr,LinearMipmapNearestFilter:Ub,LinearMipmapLinearFilter:wf},mE=class extends vi{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=Gf.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){Gf.add(e,c),t&&t(c),a.manager.itemEnd(e)}).catch(function(c){i&&i(c),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}};mE.prototype.isImageBitmapLoader=!0;var z_,gE={getContext:function(){return z_===void 0&&(z_=new(window.AudioContext||window.webkitAudioContext)),z_},setContext:function(n){z_=n}},vE=class extends vi{constructor(e){super(e)}load(e,t,r,i){let a=this,s=new fs(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{let c=o.slice(0);gE.getContext().decodeAudioData(c,function(p){t(p)})}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}},_E=class extends wd{constructor(e,t,r=1){super(void 0,r);let i=new bt().set(e),a=new bt().set(t),s=new Ce(i.r,i.g,i.b),o=new Ce(a.r,a.g,a.b),c=Math.sqrt(Math.PI),g=c*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(c),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(g)}};_E.prototype.isHemisphereLightProbe=!0;var yE=class extends wd{constructor(e,t=1){super(void 0,t);let r=new bt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}};yE.prototype.isAmbientLightProbe=!0;var $P=new Nt,eL=new Nt,jf=new Nt,tL=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,jf.copy(e.projectionMatrix);let i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(Cf*t.fov*.5)/t.zoom,o,c;eL.elements[12]=-i,$P.elements[12]=i,o=-s*t.aspect+a,c=s*t.aspect+a,jf.elements[0]=2*t.near/(c-o),jf.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(jf),o=-s*t.aspect-a,c=s*t.aspect-a,jf.elements[0]=2*t.near/(c-o),jf.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(jf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply($P)}},vm=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=nL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=nL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function nL(){return(typeof performance=="undefined"?Date:performance).now()}var Zf=new Ce,rL=new wr,h9=new Ce,Xf=new Ce,iL=class extends fn{constructor(){super();this.type="AudioListener",this.context=gE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vm}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zf,rL,h9),Xf.set(0,0,-1).applyQuaternion(rL),t.positionX){let i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Zf.x,i),t.positionY.linearRampToValueAtTime(Zf.y,i),t.positionZ.linearRampToValueAtTime(Zf.z,i),t.forwardX.linearRampToValueAtTime(Xf.x,i),t.forwardY.linearRampToValueAtTime(Xf.y,i),t.forwardZ.linearRampToValueAtTime(Xf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Zf.x,Zf.y,Zf.z),t.setOrientation(Xf.x,Xf.y,Xf.z,r.x,r.y,r.z)}},U_=class extends fn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Yf=new Ce,aL=new wr,d9=new Ce,qf=new Ce,sL=class extends U_{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Yf,aL,d9),qf.set(0,0,1).applyQuaternion(aL);let t=this.panner;if(t.positionX){let r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Yf.x,r),t.positionY.linearRampToValueAtTime(Yf.y,r),t.positionZ.linearRampToValueAtTime(Yf.z,r),t.orientationX.linearRampToValueAtTime(qf.x,r),t.orientationY.linearRampToValueAtTime(qf.y,r),t.orientationZ.linearRampToValueAtTime(qf.z,r)}else t.setPosition(Yf.x,Yf.y,Yf.z),t.setOrientation(qf.x,qf.y,qf.z)}},xE=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}},wE=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,a=e*i+i,s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;let o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){let c=t*this._origIndex;this._mixBufferRegion(r,i,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let c=t,g=t+t;c!==g;++c)if(r[c]!==r[c+t]){o.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){wr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){let s=this._workIndex*a;wr.multiplyQuaternionsFlat(e,s,e,t,e,r),wr.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){let s=1-i;for(let o=0;o!==a;++o){let c=t+o;e[c]=e[c]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){let o=t+s;e[o]=e[o]+e[r+s]*i}}},bE="\\[\\]\\.:\\/",p9=new RegExp("["+bE+"]","g"),EE="[^"+bE+"]",m9="[^"+bE.replace("\\.","")+"]",g9=/((?:WC+[\/:])*)/.source.replace("WC",EE),v9=/(WCOD+)?/.source.replace("WCOD",m9),_9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",EE),y9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",EE),x9=new RegExp("^"+g9+v9+_9+y9+"$"),w9=["material","materials","bones"],oL=class{constructor(e,t,r){let i=r||yn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},yn=class{constructor(e,t,r){this.path=t,this.parsedPath=r||yn.parseTrackName(t),this.node=yn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new yn.Composite(e,t,r):new yn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(p9,"")}static parseTrackName(e){let t=x9.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let a=r.nodeName.substring(i+1);w9.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(a){for(let s=0;s<a.length;s++){let o=a[s];if(o.name===t||o.uuid===t)return o;let c=r(o.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,a=t.propertyIndex;if(e||(e=yn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let g=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===g){g=p;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(g!==void 0){if(e[g]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[g]}}let s=e[i];if(s===void 0){let g=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+g+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};yn.Composite=oL;yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yn.prototype.GetterByBindingType=[yn.prototype._getValue_direct,yn.prototype._getValue_array,yn.prototype._getValue_arrayElement,yn.prototype._getValue_toArray];yn.prototype.SetterByBindingTypeAndVersioning=[[yn.prototype._setValue_direct,yn.prototype._setValue_direct_setNeedsUpdate,yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_array,yn.prototype._setValue_array_setNeedsUpdate,yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_arrayElement,yn.prototype._setValue_arrayElement_setNeedsUpdate,yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_fromArray,yn.prototype._setValue_fromArray_setNeedsUpdate,yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var SE=class{constructor(){this.uuid=ea(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length,o,c=e.length,g=this.nCachedObjects_;for(let p=0,d=arguments.length;p!==d;++p){let u=arguments[p],f=u.uuid,l=t[f];if(l===void 0){l=c++,t[f]=l,e.push(u);for(let v=0,y=s;v!==y;++v)a[v].push(new yn(u,r[v],i[v]))}else if(l<g){o=e[l];let v=--g,y=e[v];t[y.uuid]=l,e[l]=y,t[f]=v,e[v]=u;for(let h=0,m=s;h!==m;++h){let _=a[h],w=_[v],E=_[l];_[l]=w,E===void 0&&(E=new yn(u,r[h],i[h])),_[v]=E}}else e[l]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=g}remove(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){let c=arguments[s],g=c.uuid,p=t[g];if(p!==void 0&&p>=a){let d=a++,u=e[d];t[u.uuid]=p,e[p]=u,t[g]=d,e[d]=c;for(let f=0,l=i;f!==l;++f){let v=r[f],y=v[d],h=v[p];v[p]=y,v[d]=h}}}this.nCachedObjects_=a}uncache(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){let g=arguments[o],p=g.uuid,d=t[p];if(d!==void 0)if(delete t[p],d<a){let u=--a,f=e[u],l=--s,v=e[l];t[f.uuid]=d,e[d]=f,t[v.uuid]=u,e[u]=v,e.pop();for(let y=0,h=i;y!==h;++y){let m=r[y],_=m[u],w=m[l];m[d]=_,m[u]=w,m.pop()}}else{let u=--s,f=e[u];u>0&&(t[f.uuid]=d),e[d]=f,e.pop();for(let l=0,v=i;l!==v;++l){let y=r[l];y[d]=y[u],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){let r=this._bindingsIndicesByPath,i=r[e],a=this._bindings;if(i!==void 0)return a[i];let s=this._paths,o=this._parsedPaths,c=this._objects,g=c.length,p=this.nCachedObjects_,d=new Array(g);i=a.length,r[e]=i,s.push(e),o.push(t),a.push(d);for(let u=p,f=c.length;u!==f;++u){let l=c[u];d[u]=new yn(l,e,t)}return d}unsubscribe_(e){let t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){let i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],g=e[o];t[g]=r,s[r]=c,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}};SE.prototype.isAnimationObjectGroup=!0;var lL=class{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;let a=t.tracks,s=a.length,o=new Array(s),c={endingStart:Mf,endingEnd:Mf};for(let g=0;g!==s;++g){let p=a[g].createInterpolant(null);o[g]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,a=i.time,s=this.timeScale,o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);let c=o.parameterPositions,g=o.sampleValues;return c[0]=a,c[1]=a+r,g[0]=e/s,g[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}let a=this._startTime;if(a!==null){let c=(e-a)*r;if(c<0||r===0)return;this._startTime=null,t=r*c}t*=this._updateTimeScale(e);let s=this._updateTime(t),o=this._updateWeight(e);if(o>0){let c=this._interpolants,g=this._propertyBindings;switch(this.blendMode){case Jb:for(let p=0,d=c.length;p!==d;++p)c[p].evaluate(s),g[p].accumulateAdditive(o);break;case w1:default:for(let p=0,d=c.length;p!==d;++p)c[p].evaluate(s),g[p].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,a=this._loopCount,s=r===hR;if(e===0)return a===-1?i:s&&(a&1)==1?t-i:i;if(r===fR){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){let o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);let c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let g=e<0;this._setEndings(g,!g,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)==1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=Tf,i.endingEnd=Tf):(e?i.endingStart=this.zeroSlopeAtStart?Tf:Mf:i.endingStart=L0,t?i.endingEnd=this.zeroSlopeAtEnd?Tf:Mf:i.endingEnd=L0)}_scheduleFading(e,t,r){let i=this._mixer,a=i.time,s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);let o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=t,o[1]=a+e,c[1]=r,this}},ME=class extends ns{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,c=r.uuid,g=this._bindingsByRootAndName,p=g[c];p===void 0&&(p={},g[c]=p);for(let d=0;d!==a;++d){let u=i[d],f=u.name,l=p[f];if(l!==void 0)s[d]=l;else{if(l=s[d],l!==void 0){l._cacheIndex===null&&(++l.referenceCount,this._addInactiveBinding(l,c,f));continue}let v=t&&t._propertyBindings[d].binding.parsedPath;l=new wE(yn.create(r,f,v),u.ValueTypeName,u.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,c,f),s[d]=l}o[d].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];a.useCount++==0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];--a.useCount==0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,a=this._actionsByClip,s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{let o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,g=c[c.length-1],p=e._byClipCacheIndex;g._byClipCacheIndex=p,c[p]=g,c.pop(),e._byClipCacheIndex=null;let d=o.actionByRoot,u=(e._localRoot||this._root).uuid;delete d[u],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let a=t[r];--a.referenceCount==0&&this._removeInactiveBinding(a)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,a=this._bindings,s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],c=t[t.length-1],g=e._cacheIndex;c._cacheIndex=g,t[g]=c,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new A_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){let i=t||this._root,a=i.uuid,s=typeof e=="string"?yd.findByName(i,e):e,o=s!==null?s.uuid:e,c=this._actionsByClip[o],g=null;if(r===void 0&&(s!==null?r=s.blendMode:r=w1),c!==void 0){let d=c.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;g=c.knownActions[0],s===null&&(s=g._clip)}if(s===null)return null;let p=new lL(this,s,t,r);return this._bindAction(p,g),this._addInactiveAction(p,o,a),p}existingAction(e,t){let r=t||this._root,i=r.uuid,a=typeof e=="string"?yd.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let g=0;g!==r;++g)t[g]._update(i,e,a,s);let o=this._bindings,c=this._nActiveBindings;for(let g=0;g!==c;++g)o[g].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){let s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){let g=s[o];this._deactivateAction(g);let p=g._cacheIndex,d=t[t.length-1];g._cacheIndex=null,g._byClipCacheIndex=null,d._cacheIndex=p,t[p]=d,t.pop(),this._removeInactiveBindingsForAction(g)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let s in r){let o=r[s].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(let s in a){let o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}};ME.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var _m=class{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new _m(this.value.clone===void 0?this.value:this.value.clone())}},TE=class extends nu{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}};TE.prototype.isInstancedInterleavedBuffer=!0;var AE=class{constructor(e,t,r,i,a){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}};AE.prototype.isGLBufferAttribute=!0;var H_=class{constructor(e,t,r=0,i=1/0){this.ray=new zo(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new ql,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return CE(e,this,r,t),r.sort(uL),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)CE(e[i],this,r,t);return r.sort(uL),r}};function uL(n,e){return n.distance-e.distance}function CE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){let i=n.children;for(let a=0,s=i.length;a<s;a++)CE(i[a],e,t,!0)}}var ym=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){let e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos($r(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},fL=class{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}},cL=new ft,Qf=class{constructor(e=new ft(1/0,1/0),t=new ft(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=cL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return cL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Qf.prototype.isBox2=!0;var hL=new Ce,G_=new Ce,RE=class{constructor(e=new Ce,t=new Ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){hL.subVectors(e,this.start),G_.subVectors(this.end,this.start);let r=G_.dot(G_),a=G_.dot(hL)/r;return t&&(a=$r(a,0,1)),a}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},dL=new Ce,pL=class extends fn{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;let r=new Gt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){let g=s/c*Math.PI*2,p=o/c*Math.PI*2;i.push(Math.cos(g),Math.sin(g),1,Math.cos(p),Math.sin(p),1)}r.setAttribute("position",new Ot(i,3));let a=new Nr({fog:!1,toneMapped:!1});this.cone=new Mi(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},fu=new Ce,W_=new Nt,PE=new Nt,LE=class extends Mi{constructor(e){let t=mL(e),r=new Gt,i=[],a=[],s=new bt(0,0,1),o=new bt(0,1,0);for(let g=0;g<t.length;g++){let p=t[g];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}r.setAttribute("position",new Ot(i,3)),r.setAttribute("color",new Ot(a,3));let c=new Nr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,r=this.geometry,i=r.getAttribute("position");PE.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){let o=t[a];o.parent&&o.parent.isBone&&(W_.multiplyMatrices(PE,o.matrixWorld),fu.setFromMatrixPosition(W_),i.setXYZ(s,fu.x,fu.y,fu.z),W_.multiplyMatrices(PE,o.parent.matrixWorld),fu.setFromMatrixPosition(W_),i.setXYZ(s+1,fu.x,fu.y,fu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}};function mL(n){let e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,mL(n.children[t]));return e}var gL=class extends br{constructor(e,t,r){let i=new Uf(t,4,2),a=new Hs({wireframe:!0,fog:!1,toneMapped:!1});super(i,a);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},b9=new Ce,vL=new bt,_L=new bt,yL=class extends fn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;let i=new Bf(t);i.rotateY(Math.PI*.5),this.material=new Hs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new vn(s,3)),this.add(new br(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");vL.copy(this.light.color),_L.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){let a=r<i/2?vL:_L;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(b9.setFromMatrixPosition(this.light.matrixWorld).negate())}},IE=class extends Mi{constructor(e=10,t=10,r=4473924,i=8947848){r=new bt(r),i=new bt(i);let a=t/2,s=e/t,o=e/2,c=[],g=[];for(let u=0,f=0,l=-o;u<=t;u++,l+=s){c.push(-o,0,l,o,0,l),c.push(l,0,-o,l,0,o);let v=u===a?r:i;v.toArray(g,f),f+=3,v.toArray(g,f),f+=3,v.toArray(g,f),f+=3,v.toArray(g,f),f+=3}let p=new Gt;p.setAttribute("position",new Ot(c,3)),p.setAttribute("color",new Ot(g,3));let d=new Nr({vertexColors:!0,toneMapped:!1});super(p,d);this.type="GridHelper"}},xL=class extends Mi{constructor(e=10,t=16,r=8,i=64,a=4473924,s=8947848){a=new bt(a),s=new bt(s);let o=[],c=[];for(let d=0;d<=t;d++){let u=d/t*(Math.PI*2),f=Math.sin(u)*e,l=Math.cos(u)*e;o.push(0,0,0),o.push(f,0,l);let v=d&1?a:s;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(let d=0;d<=r;d++){let u=d&1?a:s,f=e-e/r*d;for(let l=0;l<i;l++){let v=l/i*(Math.PI*2),y=Math.sin(v)*f,h=Math.cos(v)*f;o.push(y,0,h),c.push(u.r,u.g,u.b),v=(l+1)/i*(Math.PI*2),y=Math.sin(v)*f,h=Math.cos(v)*f,o.push(y,0,h),c.push(u.r,u.g,u.b)}}let g=new Gt;g.setAttribute("position",new Ot(o,3)),g.setAttribute("color",new Ot(c,3));let p=new Nr({vertexColors:!0,toneMapped:!1});super(g,p);this.type="PolarGridHelper"}},wL=new Ce,V_=new Ce,bL=new Ce,EL=class extends fn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Gt;i.setAttribute("position",new Ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let a=new Nr({fog:!1,toneMapped:!1});this.lightPlane=new Vs(i,a),this.add(this.lightPlane),i=new Gt,i.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Vs(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){wL.setFromMatrixPosition(this.light.matrixWorld),V_.setFromMatrixPosition(this.light.target.matrixWorld),bL.subVectors(V_,wL),this.lightPlane.lookAt(V_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(V_),this.targetLine.scale.z=bL.length()}},j_=new Ce,gr=new Vo,SL=class extends Mi{constructor(e){let t=new Gt,r=new Nr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={},o=new bt(16755200),c=new bt(16711680),g=new bt(43775),p=new bt(16777215),d=new bt(3355443);u("n1","n2",o),u("n2","n4",o),u("n4","n3",o),u("n3","n1",o),u("f1","f2",o),u("f2","f4",o),u("f4","f3",o),u("f3","f1",o),u("n1","f1",o),u("n2","f2",o),u("n3","f3",o),u("n4","f4",o),u("p","n1",c),u("p","n2",c),u("p","n3",c),u("p","n4",c),u("u1","u2",g),u("u2","u3",g),u("u3","u1",g),u("c","t",p),u("p","c",d),u("cn1","cn2",d),u("cn3","cn4",d),u("cf1","cf2",d),u("cf3","cf4",d);function u(l,v,y){f(l,y),f(v,y)}function f(l,v){i.push(0,0,0),a.push(v.r,v.g,v.b),s[l]===void 0&&(s[l]=[]),s[l].push(i.length/3-1)}t.setAttribute("position",new Ot(i,3)),t.setAttribute("color",new Ot(a,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){let e=this.geometry,t=this.pointMap,r=1,i=1;gr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Sr("c",t,e,gr,0,0,-1),Sr("t",t,e,gr,0,0,1),Sr("n1",t,e,gr,-r,-i,-1),Sr("n2",t,e,gr,r,-i,-1),Sr("n3",t,e,gr,-r,i,-1),Sr("n4",t,e,gr,r,i,-1),Sr("f1",t,e,gr,-r,-i,1),Sr("f2",t,e,gr,r,-i,1),Sr("f3",t,e,gr,-r,i,1),Sr("f4",t,e,gr,r,i,1),Sr("u1",t,e,gr,r*.7,i*1.1,-1),Sr("u2",t,e,gr,-r*.7,i*1.1,-1),Sr("u3",t,e,gr,0,i*2,-1),Sr("cf1",t,e,gr,-r,0,1),Sr("cf2",t,e,gr,r,0,1),Sr("cf3",t,e,gr,0,-i,1),Sr("cf4",t,e,gr,0,i,1),Sr("cn1",t,e,gr,-r,0,-1),Sr("cn2",t,e,gr,r,0,-1),Sr("cn3",t,e,gr,0,-i,-1),Sr("cn4",t,e,gr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Sr(n,e,t,r,i,a,s){j_.set(i,a,s).unproject(r);let o=e[n];if(o!==void 0){let c=t.getAttribute("position");for(let g=0,p=o.length;g<p;g++)c.setXYZ(o[g],j_.x,j_.y,j_.z)}}var Z_=new Vi,DE=class extends Mi{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Gt;a.setIndex(new vn(r,1)),a.setAttribute("position",new vn(i,3));super(a,new Nr({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Z_.setFromObject(this.object),Z_.isEmpty())return;let t=Z_.min,r=Z_.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Mi.prototype.copy.call(this,e),this.object=e.object,this}},ML=class extends Mi{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Gt;a.setIndex(new vn(r,1)),a.setAttribute("position",new Ot(i,3));super(a,new Nr({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},TL=class extends Vs{constructor(e,t=1,r=16776960){let i=r,a=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Gt;s.setAttribute("position",new Ot(a,3)),s.computeBoundingSphere();super(s,new Nr({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;let o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new Gt;c.setAttribute("position",new Ot(o,3)),c.computeBoundingSphere(),this.add(new br(c,new Hs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?or:gf,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},AL=new Ce,X_,OE,CL=class extends fn{constructor(e=new Ce(0,0,1),t=new Ce(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super();this.type="ArrowHelper",X_===void 0&&(X_=new Gt,X_.setAttribute("position",new Ot([0,0,0,0,1,0],3)),OE=new su(0,.5,1,5,1),OE.translate(0,-.5,0)),this.position.copy(t),this.line=new Vs(X_,new Nr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new br(OE,new Hs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{AL.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(AL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},NE=class extends Mi{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Gt;i.setAttribute("position",new Ot(t,3)),i.setAttribute("color",new Ot(r,3));let a=new Nr({vertexColors:!0,toneMapped:!1});super(i,a);this.type="AxesHelper"}setColors(e,t,r){let i=new bt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},RL=class{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ld,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,s){return this.currentPath.bezierCurveTo(e,t,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(m){let _=[];for(let w=0,E=m.length;w<E;w++){let T=m[w],A=new ls;A.curves=T.curves,_.push(A)}return _}function i(m,_){let w=_.length,E=!1;for(let T=w-1,A=0;A<w;T=A++){let C=_[T],R=_[A],D=R.x-C.x,O=R.y-C.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(C=_[A],D=-D,R=_[T],O=-O),m.y<C.y||m.y>R.y)continue;if(m.y===C.y){if(m.x===C.x)return!0}else{let k=O*(m.x-C.x)-D*(m.y-C.y);if(k===0)return!0;if(k<0)continue;E=!E}}else{if(m.y!==C.y)continue;if(R.x<=m.x&&m.x<=C.x||C.x<=m.x&&m.x<=R.x)return!0}}return E}let a=us.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return r(s);let o,c,g,p=[];if(s.length===1)return c=s[0],g=new ls,g.curves=c.curves,p.push(g),p;let d=!a(s[0].getPoints());d=e?!d:d;let u=[],f=[],l=[],v=0,y;f[v]=void 0,l[v]=[];for(let m=0,_=s.length;m<_;m++)c=s[m],y=c.getPoints(),o=a(y),o=e?!o:o,o?(!d&&f[v]&&v++,f[v]={s:new ls,p:y},f[v].s.curves=c.curves,d&&v++,l[v]=[]):l[v].push({h:c,p:y[0]});if(!f[0])return r(s);if(f.length>1){let m=!1,_=[];for(let w=0,E=f.length;w<E;w++)u[w]=[];for(let w=0,E=f.length;w<E;w++){let T=l[w];for(let A=0;A<T.length;A++){let C=T[A],R=!0;for(let D=0;D<f.length;D++)i(C.p,f[D].p)&&(w!==D&&_.push({froms:w,tos:D,hole:A}),R?(R=!1,u[D].push(C)):m=!0);R&&u[w].push(C)}}_.length>0&&(m||(l=u))}let h;for(let m=0,_=f.length;m<_;m++){g=f[m].s,p.push(g),h=l[m];for(let w=0,E=h.length;w<E;w++)g.holes.push(h[w].h)}return p}},PL=new Float32Array(1),E9=new Int32Array(PL.buffer),LL=class{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),PL[0]=e;let t=E9[0],r=t>>16&32768,i=t>>12&2047,a=t>>23&255;return a<103?r:a>142?(r|=31744,r|=(a==255?0:1)&&t&8388607,r):a<113?(i|=2048,r|=(i>>114-a)+(i>>113-a&1),r):(r|=a-112<<10|i>>1,r+=i&1,r)}},S9=0,M9=1,T9=0,A9=1,C9=2;function R9(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function P9(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function L9(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new nd(n,e)}function I9(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new $0(n)}function D9(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new nd(n,e)}function O9(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new au(n)}function N9(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new au(n)}function k9(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new au(n)}function F9(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ce(n,e,t)}function B9(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new vn(n,e).setUsage(Rh)}function z9(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new w2(n,e)}function U9(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new b2(n,e)}function H9(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new E2(n,e)}function G9(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new S2(n,e)}function W9(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new B0(n,e)}function V9(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new M2(n,e)}function j9(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new z0(n,e)}function Z9(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ot(n,e)}function X9(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new A2(n,e)}ji.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(ji.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};ld.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function Y9(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new NE(n)}function q9(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new DE(n,e)}function Q9(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Mi(new f_(n.geometry),new Nr({color:e!==void 0?e:16777215}))}IE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};LE.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function J9(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Mi(new __(n.geometry),new Nr({color:e!==void 0?e:16777215}))}vi.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),gm.extractUrlBase(n)};vi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function K9(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new fs(n)}function $9(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new lE(n)}Qf.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Qf.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Qf.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Qf.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Vi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Vi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Vi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Vi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Vi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Fo.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};jh.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};RE.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Cr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Cr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Cr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Cr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Cr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Cr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Nt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Nt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Nt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ce().setFromMatrixColumn(this,3)};Nt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Nt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Nt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Nt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Nt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Nt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Nt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Nt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Nt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Nt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Nt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Nt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Nt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Nt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Nt.prototype.makeFrustum=function(n,e,t,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,a)};Nt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ss.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};wr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};wr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};zo.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};zo.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};zo.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};mr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};mr.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};mr.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};mr.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};mr.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};mr.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),mr.getBarycoord(n,e,t,r,i)};mr.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),mr.getNormal(n,e,t,r)};ls.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};ls.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zs(this,n)};ls.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new zf(this,n)};ft.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ft.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ft.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ce.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Ce.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Ce.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Ce.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Ce.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Ce.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Ce.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Ce.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Dn.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Dn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};fn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};fn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};fn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};fn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};fn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(fn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});br.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(br.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),dR},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});em.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Bn.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Da.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(vn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Rh},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Rh)}}});vn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Rh:Ch),this};vn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},vn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Gt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Gt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new vn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Gt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Gt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Gt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Gt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Gt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Gt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});nu.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Rh:Ch),this};nu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Zs.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Zs.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Zs.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Ff.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};_m.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Or.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Ib}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Gs.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Cn.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Cn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Cn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Cn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Cn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Cn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Cn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Cn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Cn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Cn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Cn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Cn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Cn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Cn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Cn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Cn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Cn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Cn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Cn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Cn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Cn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Cn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Cn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Cn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Cn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Cn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Wl:Jr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(pP.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function eH(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new G0(n,t)}Object.defineProperties(Wi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});U_.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let e=this;return new vE().load(n,function(r){e.setBuffer(r)}),this};xE.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};H0.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};H0.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};Vl.crossOrigin=void 0;Vl.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let i=new Vf;i.setCrossOrigin(this.crossOrigin);let a=i.load(n,t,void 0,r);return e&&(a.mapping=e),a};Vl.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let i=new oE;i.setCrossOrigin(this.crossOrigin);let a=i.load(n,t,void 0,r);return e&&(a.mapping=e),a};Vl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Vl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function tH(){console.error("THREE.CanvasRenderer has been removed")}function nH(){console.error("THREE.JSONLoader has been removed.")}var rH={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function iH(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function aH(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Gt}function sH(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Gt}function oH(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function lH(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function uH(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d1}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d1);var xn=hr(jr());var Ti=hr(jr(),1);function fH(n){let e,t=new Set,r=(g,p)=>{let d=typeof g=="function"?g(e):g;if(d!==e){let u=e;e=p?d:Object.assign({},e,d),t.forEach(f=>f(e,u))}},i=()=>e,a=(g,p=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let u=p(e);function f(){let l=p(e);if(!d(u,l)){let v=u;g(u=l,v)}}return t.add(f),()=>t.delete(f)},c={setState:r,getState:i,subscribe:(g,p,d)=>p||d?a(g,p,d):(t.add(g),()=>t.delete(g)),destroy:()=>t.clear()};return e=n(r,i,c),c}var cH=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),IL=cH?Ti.useEffect:Ti.useLayoutEffect;function Y_(n){let e=typeof n=="function"?fH(n):n,t=(r=e.getState,i=Object.is)=>{let[,a]=(0,Ti.useReducer)(y=>y+1,0),s=e.getState(),o=(0,Ti.useRef)(s),c=(0,Ti.useRef)(r),g=(0,Ti.useRef)(i),p=(0,Ti.useRef)(!1),d=(0,Ti.useRef)();d.current===void 0&&(d.current=r(s));let u,f=!1;(o.current!==s||c.current!==r||g.current!==i||p.current)&&(u=r(s),f=!i(d.current,u)),IL(()=>{f&&(d.current=u),o.current=s,c.current=r,g.current=i,p.current=!1});let l=(0,Ti.useRef)(s);IL(()=>{let y=()=>{try{let m=e.getState(),_=c.current(m);g.current(d.current,_)||(o.current=m,d.current=_,a())}catch{p.current=!0,a()}},h=e.subscribe(y);return e.getState()!==l.current&&y(),h},[]);let v=f?u:d.current;return(0,Ti.useDebugValue)(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let r=[t,e];return{next(){let i=r.length<=0;return{value:r.shift(),done:i}}}},t}var VL=hr(NL()),bd=hr(sv());var q_=hr(FL()),Q_=[];function BL(n,e,t,r=0,i=!1){for(let s of e)if((0,q_.default)(t,s.args)){if(i)return;if(s.error)throw s.error;if(s.response)return s.response;throw s.promise}let a={args:t,promise:n(...t).then(s=>a.response=s??!0).catch(s=>a.error=s??"unknown error").then(()=>{r>0&&setTimeout(()=>{let s=e.indexOf(a);s!==-1&&e.splice(s,1)},r)})};if(e.push(a),!i)throw a.promise}function hH(n,...e){if(e===void 0||e.length===0)n.splice(0,n.length);else{let t=n.find(r=>(0,q_.default)(e,r.args));if(t){let r=n.indexOf(t);r!==-1&&n.splice(r,1)}}}function Ys(n,...e){return BL(n,Q_,e,Ys.lifespan)}Ys.lifespan=0;Ys.clear=(...n)=>hH(Q_,...n);Ys.preload=(n,...e)=>void BL(n,Q_,e,Ys.lifespan,!0);Ys.peek=(...n)=>{var e;return(e=Q_.find(t=>(0,q_.default)(n,t.args)))==null?void 0:e.response};function dH(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zL=dH;var ra=hr(jr()),FE=hr(HL());function GL(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n,a=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[s,o]=(0,ra.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,ra.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),g=e?typeof e=="number"?e:e.scroll:null,p=e?typeof e=="number"?e:e.resize:null,d=(0,ra.useRef)(!1);(0,ra.useEffect)(()=>(d.current=!0,()=>void(d.current=!1)));let[u,f,l]=(0,ra.useMemo)(()=>{let m=()=>{if(!c.current.element)return;let{left:_,top:w,width:E,height:T,bottom:A,right:C,x:R,y:D}=c.current.element.getBoundingClientRect(),O={left:_,top:w,width:E,height:T,bottom:A,right:C,x:R,y:D};c.current.element instanceof HTMLElement&&i&&(O.height=c.current.element.offsetHeight,O.width=c.current.element.offsetWidth),Object.freeze(O),d.current&&!vH(c.current.lastBounds,O)&&o(c.current.lastBounds=O)};return[m,p?(0,FE.default)(m,p):m,g?(0,FE.default)(m,g):m]},[o,i,g,p]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",l,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function y(){!c.current.element||(c.current.resizeObserver=new a(l),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(m=>m.addEventListener("scroll",l,{capture:!0,passive:!0})))}let h=m=>{!m||m===c.current.element||(v(),c.current.element=m,c.current.scrollContainers=WL(m),y())};return mH(l,Boolean(t)),pH(f),(0,ra.useEffect)(()=>{v(),y()},[t,l,f]),(0,ra.useEffect)(()=>v,[]),[h,s,u]}function pH(n){(0,ra.useEffect)(()=>{let e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function mH(n,e){(0,ra.useEffect)(()=>{if(e){let t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function WL(n){let e=[];if(!n||n===document.body)return e;let{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...WL(n.parentElement)]}var gH=["x","y","top","bottom","left","right","width","height"],vH=(n,e)=>gH.every(t=>n[t]===e[t]);var Gn={obj:n=>n===Object(n)&&!Gn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Gn.str(n)||Gn.num(n)||Gn.obj(n))return n===e;if(Gn.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return Gn.und(t)?n===e:!0}};function BE(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function jL(n,e,t,r){let i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function _H(n,e){let{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{jL(t.capturedMap,e,r,i)})}function yH(n){let e=new Ce;function t(d){var u;let f=n.getState(),{raycaster:l,mouse:v,camera:y,size:h}=f,{offsetX:m,offsetY:_}=(u=l.computeOffsets==null?void 0:l.computeOffsets(d,f))!=null?u:d,{width:w,height:E}=h;v.set(m/w*2-1,-(_/E)*2+1),l.setFromCamera(v,y)}function r(d){let{internal:u}=n.getState(),f=d.offsetX-u.initialClick[0],l=d.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+l*l))}function i(d){return d.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var l;return(l=u.__r3f)==null?void 0:l.handlers["onPointer"+f]}))}function a(d){let u=n.getState(),{raycaster:f,internal:l}=u;if(!f.enabled)return[];let v=new Set,y=[],h=d?d(l.interaction):l.interaction,m=f.intersectObjects(h,!0).filter(w=>{let E=BE(w);return v.has(E)?!1:(v.add(E),!0)});f.filter&&(m=f.filter(m,u));for(let w of m){let E=w.object;for(;E;){var _;(_=E.__r3f)!=null&&_.eventCount&&y.push({...w,eventObject:E}),E=E.parent}}return y}function s(d,u){let{internal:f}=n.getState();if("pointerId"in u&&f.capturedMap.has(u.pointerId))for(let l of f.capturedMap.get(u.pointerId).values())d.push(l.intersection);return d}function o(d,u,f,l){let{raycaster:v,mouse:y,camera:h,internal:m}=n.getState();if(d.length){let _=e.set(y.x,y.y,0).unproject(h),w={stopped:!1};for(let E of d){let T=O=>{var k,H;return(k=(H=m.capturedMap.get(O))==null?void 0:H.has(E.eventObject))!=null?k:!1},A=O=>{let k={intersection:E,target:u.target};m.capturedMap.has(O)?m.capturedMap.get(O).set(E.eventObject,k):m.capturedMap.set(O,new Map([[E.eventObject,k]])),u.target.setPointerCapture(O)},C=O=>{let k=m.capturedMap.get(O);k&&jL(m.capturedMap,E.eventObject,k,O)},R={};for(let O in u){let k=u[O];typeof k!="function"&&(R[O]=k)}let D={...E,...R,spaceX:y.x,spaceY:y.y,intersections:d,stopped:w.stopped,delta:f,unprojectedPoint:_,ray:v.ray,camera:h,stopPropagation:()=>{let O="pointerId"in u&&m.capturedMap.get(u.pointerId);if((!O||O.has(E.eventObject))&&(D.stopped=w.stopped=!0,m.hovered.size&&Array.from(m.hovered.values()).find(k=>k.eventObject===E.eventObject))){let k=d.slice(0,d.indexOf(E));c([...k,E])}},target:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:C},currentTarget:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:C},sourceEvent:u,nativeEvent:u};if(l(D),w.stopped===!0)break}}return d}function c(d){let{internal:u}=n.getState();Array.from(u.hovered.values()).forEach(f=>{if(!d.length||!d.find(l=>l.object===f.object&&l.index===f.index&&l.instanceId===f.instanceId)){let v=f.eventObject.__r3f,y=v==null?void 0:v.handlers;if(u.hovered.delete(BE(f)),v!=null&&v.eventCount){let h={...f,intersections:d||[]};y.onPointerOut==null||y.onPointerOut(h),y.onPointerLeave==null||y.onPointerLeave(h)}}})}let g=d=>{switch(d){case"onPointerLeave":case"onPointerCancel":return()=>c([]);case"onLostPointerCapture":return u=>{let{internal:f}=n.getState();"pointerId"in u&&!f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),c([]))}}return u=>{let{onPointerMissed:f,internal:l}=n.getState();t(u),l.lastEvent.current=u;let v=d==="onPointerMove",y=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",m=s(a(v?i:void 0),u),_=y?r(u):0;d==="onPointerDown"&&(l.initialClick=[u.offsetX,u.offsetY],l.initialHits=m.map(w=>w.eventObject)),y&&!m.length&&_<=2&&(p(u,l.interaction),f&&f(u)),v&&c(m),o(m,u,_,w=>{let E=w.eventObject,T=E.__r3f,A=T==null?void 0:T.handlers;if(!!(T!=null&&T.eventCount))if(v){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){let C=BE(w),R=l.hovered.get(C);R?R.stopped&&w.stopPropagation():(l.hovered.set(C,w),A.onPointerOver==null||A.onPointerOver(w),A.onPointerEnter==null||A.onPointerEnter(w))}A.onPointerMove==null||A.onPointerMove(w)}else{let C=A[d];C?(!y||l.initialHits.includes(E))&&(p(u,l.interaction.filter(R=>!l.initialHits.includes(R))),C(w)):y&&l.initialHits.includes(E)&&p(u,l.interaction.filter(R=>!l.initialHits.includes(R)))}})}};function p(d,u){u.forEach(f=>{var l;return(l=f.__r3f)==null||l.handlers.onPointerMissed==null?void 0:l.handlers.onPointerMissed(d)})}return{handlePointer:g}}var xH=n=>n&&!!n.memoized&&!!n.changes,J_=n=>n&&!!n.getState,zE=(n,e)=>{var t,r;return{root:J_(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:J_(n)?n.getState().scene:n}},ZL="__default",wH={},bH={};function EH(n,e){return!!(Gn.arr(n)&&Gn.equ(n,e)||n===e)}function Ed(n,e){let t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function SH(n){function e(u,{children:f,key:l,ref:v,...y},{children:h,key:m,ref:_,...w}={},E=!1){var T;let A=(T=u==null?void 0:u.__r3f)!=null?T:{},C=Object.entries(y),R=[];if(E){let O=Object.keys(w);for(let k=0;k<O.length;k++)y.hasOwnProperty(O[k])||C.unshift([O[k],ZL+"remove"])}C.forEach(([O,k])=>{var H;if((H=u.__r3f)!=null&&H.primitive&&O==="object"||EH(k,w[O]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(O))return R.push([O,k,!0,[]]);let B=[];O.includes("-")&&(B=O.split("-")),R.push([O,k,!1,B])});let D={...y};return A.memoizedProps&&A.memoizedProps.args&&(D.args=A.memoizedProps.args),A.memoizedProps&&A.memoizedProps.attach&&(D.attach=A.memoizedProps.attach),{accumulative:E,memoized:D,changes:R}}function t(u,f){var l,v,y;let h=(l=u==null?void 0:u.__r3f)!=null?l:{},m=h.root,_=(v=m==null||m.getState==null?void 0:m.getState())!=null?v:{},{memoized:w,changes:E}=xH(f)?f:e(u,f),T=h.eventCount;if(u.__r3f&&(u.__r3f.memoizedProps=w),E.forEach(([A,C,R,D])=>{let O=u,k=O[A];if(D.length&&(k=D.reduce((H,B)=>H[B],u),!(k&&k.set))){let[H,...B]=D.reverse();O=B.reverse().reduce((Z,V)=>Z[V],u),A=H}if(C===ZL+"remove")if(k&&k.constructor)C=new k.constructor(w.args);else if(O.constructor){let H=new O.constructor(O.__r3f.memoizedProps.args);C=H[k],H.dispose&&H.dispose()}else C=0;if(R)C?h.handlers[A]=C:delete h.handlers[A],h.eventCount=Object.keys(h.handlers).length;else if(k&&k.set&&(k.copy||k instanceof ql)){if(Array.isArray(C))k.fromArray?k.fromArray(C):k.set(...C);else if(k.copy&&C&&C.constructor&&k.constructor.name===C.constructor.name)k.copy(C);else if(C!==void 0){let H=k instanceof bt;!H&&k.setScalar?k.setScalar(C):k instanceof ql&&C instanceof ql?k.mask=C.mask:k.set(C),!_.linear&&H&&k.convertSRGBToLinear()}}else O[A]=C,!_.linear&&O[A]instanceof er&&(O[A].encoding=Wl);r(u)}),h.parent&&_.internal&&u.raycast&&T!==h.eventCount){let A=_.internal.interaction.indexOf(u);A>-1&&_.internal.interaction.splice(A,1),h.eventCount&&_.internal.interaction.push(u)}return E.length&&(y=u.__r3f)!=null&&y.parent&&i(u),u}function r(u){var f,l;let v=(f=u.__r3f)==null||(l=f.root)==null||l.getState==null?void 0:l.getState();v&&v.internal.frames===0&&v.invalidate()}function i(u){u.onUpdate==null||u.onUpdate(u)}function a(u,{args:f=[],...l},v,y,h){let m=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(!J_(v)&&h){let w=E=>E.return?w(E.return):E.stateNode&&E.stateNode.containerInfo;v=w(h)}if(!v||!J_(v))throw`No valid root for ${m}!`;if(u==="primitive"){if(l.object===void 0)throw"Primitives without 'object' are invalid!";let w=l.object;_=Ed(w,{root:v,primitive:!0})}else{let w=bH[m]||xm[m];if(!w)throw`${m} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(f))throw"The args prop must be an array!";_=Ed(new w(...f),{root:v,memoizedProps:{args:f.length===0?null:f}})}return"attachFns"in l||(m.endsWith("Geometry")?l={attach:"geometry",...l}:m.endsWith("Material")&&(l={attach:"material",...l})),t(_,l),_}function s(u,f){let l=!1;if(f){if(f.attachArray)Gn.arr(u[f.attachArray])||(u[f.attachArray]=[]),u[f.attachArray].push(f);else if(f.attachObject)Gn.obj(u[f.attachObject[0]])||(u[f.attachObject[0]]={}),u[f.attachObject[0]][f.attachObject[1]]=f;else if(f.attach&&!Gn.fun(f.attach))u[f.attach]=f;else if(Gn.arr(f.attachFns)){let[v]=f.attachFns;Gn.str(v)&&Gn.fun(u[v])?u[v](f):Gn.fun(v)&&v(f,u)}else f.isObject3D&&u.isObject3D&&(u.add(f),l=!0);l||u.__r3f.objects.push(f),f.__r3f||Ed(f,{}),f.__r3f.parent=u,i(f),r(f)}}function o(u,f,l){let v=!1;if(f){if(f.attachArray){let y=u[f.attachArray];Gn.arr(y)||(u[f.attachArray]=[]),y.splice(y.indexOf(l),0,f)}else{if(f.attachObject||f.attach&&!Gn.fun(f.attach))return s(u,f);if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});let y=u.children.filter(m=>m!==f),h=y.indexOf(l);u.children=[...y.slice(0,h),f,...y.slice(h)],v=!0}}v||u.__r3f.objects.push(f),f.__r3f||Ed(f,{}),f.__r3f.parent=u,i(f),r(f)}}function c(u,f,l=!1){u&&[...u].forEach(v=>g(f,v,l))}function g(u,f,l){if(f){var v,y;if(f.__r3f&&(f.__r3f.parent=null),(v=u.__r3f)!=null&&v.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==f)),f.attachArray)u[f.attachArray]=u[f.attachArray].filter(E=>E!==f);else if(f.attachObject)delete u[f.attachObject[0]][f.attachObject[1]];else if(f.attach&&!Gn.fun(f.attach)&&u[f.attach]===f)u[f.attach]=null;else if(Gn.arr(f.attachFns)){let[,E]=f.attachFns;Gn.str(E)&&Gn.fun(u[E])?u[E](f):Gn.fun(E)&&E(f,u)}else if(f.isObject3D&&u.isObject3D){var h;u.remove(f),(h=f.__r3f)!=null&&h.root&&_H(f.__r3f.root,f)}let _=(y=f.__r3f)==null?void 0:y.primitive,w=l===void 0?f.dispose!==null&&!_:l;if(!_){var m;c((m=f.__r3f)==null?void 0:m.objects,f,w),c(f.children,f,w)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),w&&f.dispose&&f.type!=="Scene"&&(0,bd.unstable_runWithPriority)(bd.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),r(u)}}function p(u,f,l,v){var y;let h=(y=u.__r3f)==null?void 0:y.parent;if(!h)return;let m=a(f,l,u.__r3f.root);f!=="primitive"&&u.children&&(u.children.forEach(_=>s(m,_)),u.children=[]),u.__r3f.objects.forEach(_=>s(m,_)),u.__r3f.objects=[],g(h,u),s(h,m),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=m,_.ref&&(typeof _.ref=="function"?_.ref(m):_.ref.current=m))})}return{reconciler:(0,VL.default)({now:bd.unstable_now,createInstance:a,removeChild:g,appendChild:s,appendInitialChild:s,insertBefore:o,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:Gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Gn.fun(setTimeout)?setTimeout:void 0,clearTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(u,f)=>{let{container:l,root:v}=zE(u,f);l.__r3f.root=v,s(l,f)},removeChildFromContainer:(u,f)=>g(zE(u,f).container,f),insertInContainerBefore:(u,f,l)=>o(zE(u,f).container,f,l),prepareUpdate(u,f,l,v){if(u.__r3f.primitive&&v.object&&v.object!==u)return[!0];{let{args:y=[],children:h,...m}=v,{args:_=[],children:w,...E}=l;if(!Array.isArray(y))throw"The args prop must be an array!";if(y.some((A,C)=>A!==_[C]))return[!0];let T=e(u,m,E,!0);if(T.changes.length)return[!1,T];if(u.attach&&typeof u.attach!="function"){let C=u.__r3f.parent;C&&C[u.attach]!==u&&s(C,u)}return null}},commitUpdate(u,[f,l],v,y,h,m){f?p(u,v,h,m):t(u,l)},hideInstance(u){u.isObject3D&&(u.visible=!1,r(u))},unhideInstance(u,f){(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0,r(u))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(u){return u},getRootHostContext(u){return wH},getChildHostContext(u){return u},createTextInstance(){},finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},commitMount(u){var f;let l=(f=u==null?void 0:u.__r3f)!=null?f:{};u.raycast&&l.handlers&&l.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(u){Ed(u)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}var MH=n=>!!(n!=null&&n.render),XL=n=>n&&n.isOrthographicCamera;function UE(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}var YL=xn.createContext(null),TH=(n,e,t,r)=>{let{gl:i,size:a,shadows:s=!1,linear:o=!1,flat:c=!1,vr:g=!1,orthographic:p=!1,frameloop:d="always",dpr:u=1,performance:f,clock:l=new vm,raycaster:v,camera:y,onPointerMissed:h}=r;s&&(i.shadowMap.enabled=!0,typeof s=="object"?Object.assign(i.shadowMap,s):i.shadowMap.type=p1),o&&(i.outputEncoding=Jr),c&&(i.toneMapping=Bs),d==="never"&&(l.stop(),l.elapsedTime=0);let m=Y_((T,A)=>{let C=new H_,{params:R,...D}=v||{};n(C,{enabled:!0,...D,params:{...C.params,...R}});let O=y instanceof Vo,k=O?y:p?new La(0,0,0,0,.1,1e3):new Bn(75,0,.1,1e3);O||(k.position.z=5,y&&n(k,y),y!=null&&y.rotation||k.lookAt(0,0,0));let H=UE(u),B=new Ce,Z=new Ce,V=new Ce;function j(Q=A().camera,se=Z,le=A().size){let{width:fe,height:$}=le,ae=fe/$;se instanceof Ce?V.copy(se):V.set(...se);let oe=Q.getWorldPosition(B).distanceTo(V);if(XL(Q))return{width:fe/Q.zoom,height:$/Q.zoom,factor:1,distance:oe,aspect:ae};{let ce=Q.fov*Math.PI/180,he=2*Math.tan(ce/2)*oe,we=he*(fe/$);return{width:we,height:he,factor:fe/we,distance:oe,aspect:ae}}}let z,W=Q=>T(se=>({performance:{...se.performance,current:Q}}));return{gl:i,set:T,get:A,invalidate:()=>e(A()),advance:(Q,se)=>t(Q,se,A()),linear:o,flat:c,scene:Ed(new Ff),camera:k,controls:null,raycaster:C,clock:l,mouse:new ft,vr:g,frameloop:d,onPointerMissed:h,performance:{current:1,min:.5,max:1,debounce:200,...f,regress:()=>{let Q=A();z&&clearTimeout(z),Q.performance.current!==Q.performance.min&&W(Q.performance.min),z=setTimeout(()=>W(A().performance.max),Q.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:H,dpr:H,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:j},setSize:(Q,se)=>{let le={width:Q,height:se};T(fe=>({size:le,viewport:{...fe.viewport,...j(k,Z,le)}}))},setDpr:Q=>T(se=>({viewport:{...se.viewport,dpr:UE(Q)}})),setFrameloop:(Q="always")=>T(()=>({frameloop:Q})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:xn.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Q,se=0)=>(T(({internal:le})=>({internal:{...le,priority:le.priority+(se>0?1:0),subscribers:[...le.subscribers,{ref:Q,priority:se}].sort((fe,$)=>fe.priority-$.priority)}})),()=>{T(({internal:le})=>({internal:{...le,priority:le.priority-(se>0?1:0),subscribers:le.subscribers.filter(fe=>fe.ref!==Q)}}))})}}}),_=m.getState(),w=_.size,E=_.viewport.dpr;return m.subscribe(()=>{let{camera:T,size:A,viewport:C,internal:R}=m.getState();(A!==w||C.dpr!==E)&&(!T.manual&&!(R.lastProps.camera instanceof Vo)&&(XL(T)?(T.left=A.width/-2,T.right=A.width/2,T.top=A.height/2,T.bottom=A.height/-2):T.aspect=A.width/A.height,T.updateProjectionMatrix(),T.updateMatrixWorld()),i.setPixelRatio(C.dpr),i.setSize(A.width,A.height),w=A,E=C.dpr)}),a&&_.setSize(a.width,a.height),m.subscribe(T=>e(T)),m};function AH(n,e){let t=e.length;return e.push(n),()=>void e.splice(t,1)}var cu,HE=[],qL=[],CH=[],QL=n=>AH(n,HE);function bm(n,e){for(cu=0;cu<n.length;cu++)n[cu](e)}function GE(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),cu=0;cu<e.internal.subscribers.length;cu++)e.internal.subscribers[cu].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function RH(n){let e=!1,t;function r(s){if(e=!0,t=0,bm(HE,s),n.forEach(o=>{let c=o.store.getState();c.internal.active&&(c.frameloop==="always"||c.internal.frames>0)&&(t+=GE(s,c))}),bm(qL,s),t>0)return requestAnimationFrame(r);bm(CH,s),e=!1}function i(s){if(!s)return n.forEach(o=>i(o.store.getState()));s.vr||!s.internal.active||s.frameloop==="never"||(s.internal.frames=Math.min(60,s.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function a(s,o=!0,c){o&&bm(HE,s),c?GE(s,c):n.forEach(g=>GE(s,g.store.getState())),o&&bm(qL,s)}return{loop:r,invalidate:i,advance:a}}function PH(n){let{handlePointer:e}=yH(n),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((r,i)=>({...r,[i]:e(i)}),{}),connect:r=>{var i;let{set:a,events:s}=n.getState();s.disconnect==null||s.disconnect(),a(o=>({events:{...o.events,connected:r}})),Object.entries((i=s==null?void 0:s.handlers)!=null?i:[]).forEach(([o,c])=>{let[g,p]=t[o];r.addEventListener(g,c,{passive:p})})},disconnect:()=>{let{set:r,events:i}=n.getState();if(i.connected){var a;Object.entries((a=i.handlers)!=null?a:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){let[c]=t[s];i.connected.removeEventListener(c,o)}}),r(s=>({events:{...s.events,connected:!1}}))}}}}var WE=typeof window!="undefined"?xn.useLayoutEffect:xn.useEffect;function LH({set:n}){return WE(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}var VE=class extends xn.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};VE.getDerivedStateFromError=()=>({error:!0});var JL=xn.forwardRef(function({children:e,fallback:t,tabIndex:r,resize:i,id:a,style:s,className:o,events:c,...g},p){let[d,{width:u,height:f}]=GL({scroll:!0,debounce:{scroll:50,resize:0},...i}),l=xn.useRef(null),[v,y]=xn.useState(!1),[h,m]=xn.useState(!1);if(v)throw v;if(h)throw h;return WE(()=>{u>0&&f>0&&NH(xn.createElement(VE,{set:m},xn.createElement(xn.Suspense,{fallback:xn.createElement(LH,{set:y})},e)),l.current,{...g,size:{width:u,height:f},events:c||PH})},[u,f,e]),WE(()=>{let _=l.current;return()=>r4(_)},[]),xn.createElement("div",{ref:d,id:a,className:o,tabIndex:r,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...s}},xn.createElement("canvas",{ref:zL([l,p]),style:{display:"block"}},t))});function KL(){let n=xn.useContext(YL);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function Oa(n=t=>t,e){return KL()(n,e)}function $L(n,e=0){let t=KL().getState().internal.subscribe,r=xn.useRef(n);return xn.useLayoutEffect(()=>void(r.current=n),[n]),xn.useLayoutEffect(()=>t(r,e),[e,t]),null}function IH(n){let e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function e4(n,e){return function(t,...r){let i=new t;return n&&n(i),Promise.all(r.map(a=>new Promise((s,o)=>i.load(a,c=>{c.scene&&Object.assign(c,IH(c.scene)),s(c)},e,c=>o(`Could not load ${a}: ${c.message}`)))))}}function Sd(n,e,t,r){let i=Array.isArray(e)?e:[e],a=Ys(e4(t,r),n,...i);return Array.isArray(e)?a:a[0]}Sd.preload=function(n,e,t){let r=Array.isArray(e)?e:[e];return Ys.preload(e4(t),n,...r)};Sd.clear=function(n,e){let t=Array.isArray(e)?e:[e];return Ys.clear(n,...t)};var Em=new Map,t4=["legacy","blocking","concurrent"],{invalidate:DH,advance:n4}=RH(Em),{reconciler:Sm,applyProps:K_}=SH(),OH=(n,e)=>{let t=typeof n=="function"?n(e):n;if(MH(t))return t;let r=new Cn({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n});return r.outputEncoding=Wl,r.toneMapping=g1,n&&K_(r,n),r};function NH(n,e,{gl:t,size:r,mode:i=t4[1],events:a,onCreated:s,...o}={}){var c;if(!r){var g,p,d,u;r={width:(g=(p=e.parentElement)==null?void 0:p.clientWidth)!=null?g:0,height:(d=(u=e.parentElement)==null?void 0:u.clientHeight)!=null?d:0}}let f=Em.get(e),l=f==null?void 0:f.fiber,v=f==null?void 0:f.store,y=(c=v)==null?void 0:c.getState();if(l&&y&&(o.dpr!==void 0&&!Gn.equ(y.viewport.dpr,UE(o.dpr))&&y.setDpr(o.dpr),(y.size.width!==r.width||y.size.height!==r.height)&&y.setSize(r.width,r.height),y.frameloop!==o.frameloop&&y.setFrameloop(o.frameloop),o.linear!==y.internal.lastProps.linear&&(r4(e),l=void 0)),!l){let h=OH(t,e);o.vr&&(h.xr.enabled=!0,h.setAnimationLoop(_=>n4(_,!0))),v=TH(K_,DH,n4,{gl:h,size:r,...o});let m=v.getState();l=Sm.createContainer(v,t4.indexOf(i),!1,null),Em.set(e,{fiber:l,store:v}),a&&m.set({events:a(v)})}if(v&&l)return Sm.updateContainer(xn.createElement(kH,{store:v,element:n,onCreated:s,target:e}),l,null,()=>{}),v;throw"Error creating root!"}function kH({store:n,element:e,onCreated:t,target:r}){return xn.useEffect(()=>{let i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),xn.createElement(YL.Provider,{value:n},e)}function r4(n,e){let t=Em.get(n),r=t==null?void 0:t.fiber;if(r){let i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Sm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var a,s,o;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),FH(i),Em.delete(n),e&&e(n)},500)})}}function FH(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(let r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}var MW=Sm.act;Sm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Jf(){return Jf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jf.apply(this,arguments)}var ei=hr(jr());var Mm=0,i4=Y_(n=>(Wf.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Mm)/(r-Mm)*100})},Wf.onLoad=()=>{n({active:!1})},Wf.onError=e=>n(t=>({errors:[...t.errors,e]})),Wf.onProgress=(e,t,r)=>{t===r&&(Mm=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Mm)/(r-Mm)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var BH=n=>`Loading ${n.toFixed(2)}%`;function jE({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:r,dataInterpolation:i=BH,initialState:a=s=>s}){let{active:s,progress:o}=i4(),c=ei.useRef(0),g=ei.useRef(0),p=ei.useRef(null),[d,u]=ei.useState(a(s));ei.useEffect(()=>{let l;return s!==d&&(l=setTimeout(()=>u(s),300)),()=>clearTimeout(l)},[d,s]);let f=ei.useCallback(()=>{!p.current||(c.current+=(o-c.current)/2,(c.current>.95*o||o===100)&&(c.current=o),p.current.innerText=i(c.current),c.current<o&&(g.current=requestAnimationFrame(f)))},[i,o]);return ei.useEffect(()=>(f(),()=>cancelAnimationFrame(g.current)),[f]),d?ei.createElement("div",{style:{...$_.container,opacity:s?1:0,...n}},ei.createElement("div",null,ei.createElement("div",{style:{...$_.inner,...e}},ei.createElement("div",{style:{...$_.bar,transform:`scaleX(${o/100})`,...t}}),ei.createElement("span",{ref:p,style:{...$_.data,...r}})))):null}var $_={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};var ey=qs(),jt=n=>Tm(n,ey),ty=qs();jt.write=n=>Tm(n,ty);var ny=qs();jt.onStart=n=>Tm(n,ny);var ZE=qs();jt.onFrame=n=>Tm(n,ZE);var XE=qs();jt.onFinish=n=>Tm(n,XE);var Kf=[];jt.setTimeout=(n,e)=>{let t=jt.now()+e,r=()=>{let a=Kf.findIndex(s=>s.cancel==r);~a&&Kf.splice(a,1),du.count-=~a?1:0},i={time:t,handler:n,cancel:r};return Kf.splice(a4(t),0,i),du.count+=1,s4(),i};var a4=n=>~(~Kf.findIndex(e=>e.time>n)||~Kf.length);jt.cancel=n=>{ey.delete(n),ty.delete(n)};jt.sync=n=>{qE=!0,jt.batchedUpdates(n),qE=!1};jt.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,jt.onStart(t)}return r.handler=n,r.cancel=()=>{ny.delete(t),e=null},r};var YE=typeof window!="undefined"?window.requestAnimationFrame:()=>{};jt.use=n=>YE=n;jt.now=typeof performance!="undefined"?()=>performance.now():Date.now;jt.batchedUpdates=n=>n();jt.catch=console.error;jt.frameLoop="always";jt.advance=()=>{jt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):l4()};var hu=-1,qE=!1;function Tm(n,e){qE?(e.delete(n),n(0)):(e.add(n),s4())}function s4(){hu<0&&(hu=0,jt.frameLoop!=="demand"&&YE(o4))}function o4(){~hu&&(YE(o4),jt.batchedUpdates(l4))}function l4(){let n=hu;hu=jt.now();let e=a4(hu);e&&(u4(Kf.splice(0,e),t=>t.handler()),du.count-=e),ny.flush(),ey.flush(n?Math.min(64,hu-n):16.667),ZE.flush(),ty.flush(),XE.flush()}function qs(){let n=new Set,e=n;return{add(t){du.count+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return du.count-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,du.count-=e.size,u4(e,r=>r(t)&&n.add(r)),du.count+=n.size,e=n)}}}function u4(n,e){n.forEach(t=>{try{e(t)}catch(r){jt.catch(r)}})}var du={count:0,clear(){hu=-1,Kf=[],ny=qs(),ey=qs(),ZE=qs(),ty=qs(),XE=qs(),du.count=0}};var ry=hr(jr()),cs=hr(jr());function iy(){}var f4=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),yt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Qs(n,e){if(yt.arr(n)){if(!yt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var Mn=(n,e)=>n.forEach(e);function hs(n,e,t){if(yt.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(let r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}var ia=n=>yt.und(n)?[]:yt.arr(n)?n:[n];function Md(n,e){if(n.size){let t=Array.from(n);n.clear(),Mn(t,e)}}var Td=(n,...e)=>Md(n,t=>t(...e)),QE,c4,pu=null,h4=!1,JE=iy,zH=n=>{n.to&&(c4=n.to),n.now&&(jt.now=n.now),n.colors!==void 0&&(pu=n.colors),n.skipAnimation!=null&&(h4=n.skipAnimation),n.createStringInterpolator&&(QE=n.createStringInterpolator),n.requestAnimationFrame&&jt.use(n.requestAnimationFrame),n.batchedUpdates&&(jt.batchedUpdates=n.batchedUpdates),n.willAdvance&&(JE=n.willAdvance),n.frameLoop&&(jt.frameLoop=n.frameLoop)},Na=Object.freeze({__proto__:null,get createStringInterpolator(){return QE},get to(){return c4},get colors(){return pu},get skipAnimation(){return h4},get willAdvance(){return JE},assign:zH}),Am=new Set,ka=[],KE=[],ay=0,Ad={get idle(){return!Am.size&&!ka.length},start(n){ay>n.priority?(Am.add(n),jt.onStart(UH)):(d4(n),jt($E))},advance:$E,sort(n){if(ay)jt.onFrame(()=>Ad.sort(n));else{let e=ka.indexOf(n);~e&&(ka.splice(e,1),p4(n))}},clear(){ka=[],Am.clear()}};function UH(){Am.forEach(d4),Am.clear(),jt($E)}function d4(n){ka.includes(n)||p4(n)}function p4(n){ka.splice(HH(ka,e=>e.priority>n.priority),0,n)}function $E(n){let e=KE;for(let t=0;t<ka.length;t++){let r=ka[t];ay=r.priority,r.idle||(JE(r),r.advance(n),r.idle||e.push(r))}return ay=0,KE=ka,KE.length=0,ka=e,ka.length>0}function HH(n,e){let t=n.findIndex(e);return t<0?n.length:t}var m4={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ds="[-+]?\\d*\\.?\\d+",sy=ds+"%";function oy(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var GH=new RegExp("rgb"+oy(ds,ds,ds)),WH=new RegExp("rgba"+oy(ds,ds,ds,ds)),VH=new RegExp("hsl"+oy(ds,sy,sy)),jH=new RegExp("hsla"+oy(ds,sy,sy,ds)),ZH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,XH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,YH=/^#([0-9a-fA-F]{6})$/,qH=/^#([0-9a-fA-F]{8})$/;function QH(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=YH.exec(n))?parseInt(e[1]+"ff",16)>>>0:pu&&pu[n]!==void 0?pu[n]:(e=GH.exec(n))?(Cd(e[1])<<24|Cd(e[2])<<16|Cd(e[3])<<8|255)>>>0:(e=WH.exec(n))?(Cd(e[1])<<24|Cd(e[2])<<16|Cd(e[3])<<8|_4(e[4]))>>>0:(e=ZH.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=qH.exec(n))?parseInt(e[1],16)>>>0:(e=XH.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=VH.exec(n))?(g4(v4(e[1]),ly(e[2]),ly(e[3]))|255)>>>0:(e=jH.exec(n))?(g4(v4(e[1]),ly(e[2]),ly(e[3]))|_4(e[4]))>>>0:null}function eS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function g4(n,e,t){let r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,a=eS(i,r,n+1/3),s=eS(i,r,n),o=eS(i,r,n-1/3);return Math.round(a*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function Cd(n){let e=parseInt(n,10);return e<0?0:e>255?255:e}function v4(n){return(parseFloat(n)%360+360)%360/360}function _4(n){let e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function ly(n){let e=parseFloat(n);return e<0?0:e>100?1:e/100}function y4(n){let e=QH(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${a})`}var mu=(n,e,t)=>{if(yt.fun(n))return n;if(yt.arr(n))return mu({range:n,output:e,extrapolate:t});if(yt.str(n.output[0]))return QE(n);let r=n,i=r.output,a=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(g=>g);return g=>{let p=KH(g,a);return JH(g,a[p],a[p+1],i[p],i[p+1],c,s,o,r.map)}};function JH(n,e,t,r,i,a,s,o,c){let g=c?c(n):n;if(g<e){if(s==="identity")return g;s==="clamp"&&(g=e)}if(g>t){if(o==="identity")return g;o==="clamp"&&(g=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?g=-g:t===1/0?g=g-e:g=(g-e)/(t-e),g=a(g),r===-1/0?g=-g:i===1/0?g=g+r:g=g*(i-r)+r,g)}function KH(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}function tS(){return tS=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tS.apply(this,arguments)}var Rd=Symbol.for("FluidValue.get"),$f=Symbol.for("FluidValue.observers"),Fa=n=>Boolean(n&&n[Rd]),Zi=n=>n&&n[Rd]?n[Rd]():n,nS=n=>n[$f]||null;function $H(n,e){n.eventObserved?n.eventObserved(e):n(e)}function Cm(n,e){let t=n[$f];t&&t.forEach(r=>{$H(r,e)})}var rS=class{constructor(e){if(this[Rd]=void 0,this[$f]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");eG(this,e)}},eG=(n,e)=>x4(n,Rd,e);function ec(n,e){if(n[Rd]){let t=n[$f];t||x4(n,$f,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function Pd(n,e){let t=n[$f];if(t&&t.has(e)){let r=t.size-1;r?t.delete(e):n[$f]=null,n.observerRemoved&&n.observerRemoved(r,e)}}var x4=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),uy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,tG=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,w4=new RegExp(`(${uy.source})(%|[a-z]+)`,"i"),iS,nG=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rG=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,fy=n=>{iS||(iS=pu?new RegExp(`(${Object.keys(pu).join("|")})(?!\\w)`,"g"):/^\b$/);let e=n.output.map(a=>Zi(a).replace(tG,y4).replace(iS,y4)),t=e.map(a=>a.match(uy).map(Number)),i=t[0].map((a,s)=>t.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(a=>mu(tS({},n,{output:a})));return a=>{var s;let o=!w4.test(e[0])&&((s=e.find(g=>w4.test(g)))==null?void 0:s.replace(uy,"")),c=0;return e[0].replace(uy,()=>`${i[c++](a)}${o||""}`).replace(nG,rG)}},aS="react-spring: ",b4=n=>{let e=n,t=!1;if(typeof e!="function")throw new TypeError(`${aS}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},iG=b4(console.warn);function E4(){iG(`${aS}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var aG=b4(console.warn);function S4(){aG(`${aS}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ld(n){return yt.str(n)&&(n[0]=="#"||/\d/.test(n)||n in(pu||{}))}var Rm=n=>(0,cs.useEffect)(n,sG),sG=[];function cy(){let n=(0,cs.useState)()[1],e=(0,cs.useState)(oG)[0];return Rm(e.unmount),()=>{e.current&&n({})}}function oG(){let n={current:!0,unmount:()=>()=>{n.current=!1}};return n}function M4(n,e){let[t]=(0,cs.useState)(()=>({inputs:e,result:n()})),r=(0,cs.useRef)(),i=r.current,a=i;return a?Boolean(e&&a.inputs&&lG(e,a.inputs))||(a={inputs:e,result:n()}):a=t,(0,cs.useEffect)(()=>{r.current=a,i==t&&(t.inputs=t.result=void 0)},[a]),a.result}function lG(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function sS(n){let e=(0,cs.useRef)();return(0,cs.useEffect)(()=>{e.current=n}),e.current}var hy=typeof window!="undefined"&&window.document&&window.document.createElement?ry.useLayoutEffect:ry.useEffect;var Im=hr(jr()),Ba=hr(jr());var T4=hr(jr()),Xo=hr(jr()),Pm=Symbol.for("Animated:node"),uG=n=>!!n&&n[Pm]===n,ps=n=>n&&n[Pm],dy=(n,e)=>f4(n,Pm,e),Lm=n=>n&&n[Pm]&&n[Pm].getPayload(),oS=class{constructor(){this.payload=void 0,dy(this,this)}getPayload(){return this.payload||[]}},gu=class extends oS{constructor(e){super();this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,yt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new gu(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return yt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,yt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},vu=class extends gu{constructor(e){super(0);this._string=null,this._toString=void 0,this._toString=mu({output:[e,e]})}static create(e){return new vu(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(yt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=mu({output:[this.getValue(),e]})),this._value=0,super.reset()}},py={dependencies:null},my=class extends oS{constructor(e){super();this.source=e,this.setValue(e)}getValue(e){let t={};return hs(this.source,(r,i)=>{uG(r)?t[i]=r.getValue(e):Fa(r)?t[i]=Zi(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Mn(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return hs(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){py.dependencies&&Fa(e)&&py.dependencies.add(e);let t=Lm(e);t&&Mn(t,r=>this.add(r))}},gy=class extends my{constructor(e){super(e)}static create(e){return new gy(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(fG)),!0)}};function fG(n){return(Ld(n)?vu:gu).create(n)}function vy(n){let e=ps(n);return e?e.constructor:yt.arr(n)?gy:Ld(n)?vu:gu}function _y(){return _y=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_y.apply(this,arguments)}var A4=(n,e)=>{let t=!yt.fun(n)||n.prototype&&n.prototype.isReactComponent;return(0,Xo.forwardRef)((r,i)=>{let a=(0,Xo.useRef)(null),s=t&&(0,Xo.useCallback)(l=>{a.current=hG(i,l)},[i]),[o,c]=cG(r,e),g=cy(),p=()=>{let l=a.current;if(t&&!l)return;(l?e.applyAnimatedValues(l,o.getValue(!0)):!1)===!1&&g()},d=new C4(p,c),u=(0,Xo.useRef)();hy(()=>{let l=u.current;u.current=d,Mn(c,v=>ec(v,d)),l&&(Mn(l.deps,v=>Pd(v,l)),jt.cancel(l.update))}),(0,Xo.useEffect)(p,[]),Rm(()=>()=>{let l=u.current;Mn(l.deps,v=>Pd(v,l))});let f=e.getComponentProps(o.getValue());return T4.createElement(n,_y({},f,{ref:s}))})},C4=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&jt.write(this.update)}};function cG(n,e){let t=new Set;return py.dependencies=t,n.style&&(n=_y({},n,{style:e.createAnimatedStyle(n.style)})),n=new my(n),py.dependencies=null,[n,t]}function hG(n,e){return n&&(yt.fun(n)?n(e):n.current=e),e}var R4=Symbol.for("AnimatedComponent"),P4=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new my(i),getComponentProps:r=i=>i}={})=>{let i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},a=s=>{let o=L4(s)||"Anonymous";return yt.str(s)?s=a[s]||(a[s]=A4(s,i)):s=s[R4]||(s[R4]=A4(s,i)),s.displayName=`Animated(${o})`,s};return hs(n,(s,o)=>{yt.arr(n)&&(o=L4(s)),a[o]=a(s)}),{animated:a}},L4=n=>yt.str(n)?n:n&&yt.str(n.displayName)?n.displayName:yt.fun(n)&&n.name||null;function Hr(){return Hr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hr.apply(this,arguments)}function tc(n,...e){return yt.fun(n)?n(...e):n}var Dm=(n,e)=>n===!0||!!(e&&n&&(yt.fun(n)?n(e):ia(n).includes(e))),I4=(n,e)=>yt.obj(n)?e&&n[e]:n,D4=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,dG=n=>n,lS=(n,e=dG)=>{let t=pG;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));let r={};for(let i of t){let a=e(n[i],i);yt.und(a)||(r[i]=a)}return r},pG=["config","onProps","onStart","onChange","onPause","onResume","onRest"],mG={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function gG(n){let e={},t=0;if(hs(n,(r,i)=>{mG[i]||(e[i]=r,t++)}),t)return e}function O4(n){let e=gG(n);if(e){let t={to:e};return hs(n,(r,i)=>i in e||(t[i]=r)),t}return Hr({},n)}function Om(n){return n=Zi(n),yt.arr(n)?n.map(Om):Ld(n)?Na.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function vG(n){for(let e in n)return!0;return!1}function uS(n){return yt.fun(n)||yt.arr(n)&&yt.obj(n[0])}function _G(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function yG(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}var xG={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},wG=n=>n,fS=Hr({},xG.default,{mass:1,damping:1,easing:wG,clamp:!1}),N4=class{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,fS)}};function bG(n,e,t){t&&(t=Hr({},t),k4(t,e),e=Hr({},t,e)),k4(n,e),Object.assign(n,e);for(let s in fS)n[s]==null&&(n[s]=fS[s]);let{mass:r,frequency:i,damping:a}=n;return yt.und(i)||(i<.01&&(i=.01),a<0&&(a=0),n.tension=Math.pow(2*Math.PI/i,2)*r,n.friction=4*Math.PI*a*r/i),n}function k4(n,e){if(!yt.und(e.decay))n.duration=void 0;else{let t=!yt.und(e.tension)||!yt.und(e.friction);(t||!yt.und(e.frequency)||!yt.und(e.damping)||!yt.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var F4=[],B4=class{constructor(){this.changed=!1,this.values=F4,this.toValues=null,this.fromValues=F4,this.to=void 0,this.from=void 0,this.config=new N4,this.immediate=!1}};function z4(n,{key:e,props:t,defaultProps:r,state:i,actions:a}){return new Promise((s,o)=>{var c;let g,p,d=Dm((c=t.cancel)!=null?c:r==null?void 0:r.cancel,e);if(d)l();else{yt.und(t.pause)||(i.paused=Dm(t.pause,e));let v=r==null?void 0:r.pause;v!==!0&&(v=i.paused||Dm(v,e)),g=tc(t.delay||0,e),v?(i.resumeQueue.add(f),a.pause()):(a.resume(),f())}function u(){i.resumeQueue.add(f),i.timeouts.delete(p),p.cancel(),g=p.time-jt.now()}function f(){g>0?(p=jt.setTimeout(l,g),i.pauseQueue.add(u),i.timeouts.add(p)):l()}function l(){i.pauseQueue.delete(u),i.timeouts.delete(p),n<=(i.cancelId||0)&&(d=!0);try{a.start(Hr({},t,{callId:n,cancel:d}),s)}catch(v){o(v)}}})}var cS=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Id(n.get()):e.every(t=>t.noop)?U4(n.get()):ms(n.get(),e.every(t=>t.finished)),U4=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),ms=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Id=n=>({value:n,cancelled:!0,finished:!1});function H4(n,e,t,r){let{callId:i,parentId:a,onRest:s}=e,{asyncTo:o,promise:c}=t;return!a&&n===o&&!e.reset?c:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;let g=lS(e,(y,h)=>h==="onRest"?void 0:y),p,d,u=new Promise((y,h)=>(p=y,d=h)),f=y=>{let h=i<=(t.cancelId||0)&&Id(r)||i!==t.asyncId&&ms(r,!1);if(h)throw y.result=h,d(y),y},l=(y,h)=>{let m=new hS,_=new dS;return(async()=>{if(Na.skipAnimation)throw Nm(t),_.result=ms(r,!1),d(_),_;f(m);let w=yt.obj(y)?Hr({},y):Hr({},h,{to:y});w.parentId=i,hs(g,(T,A)=>{yt.und(w[A])&&(w[A]=T)});let E=await r.start(w);return f(m),t.paused&&await new Promise(T=>{t.resumeQueue.add(T)}),E})()},v;if(Na.skipAnimation)return Nm(t),ms(r,!1);try{let y;yt.arr(n)?y=(async h=>{for(let m of h)await l(m)})(n):y=Promise.resolve(n(l,r.stop.bind(r))),await Promise.all([y.then(p),u]),v=ms(r.get(),!0,!1)}catch(y){if(y instanceof hS)v=y.result;else if(y instanceof dS)v=y.result;else throw y}finally{i==t.asyncId&&(t.asyncId=a,t.asyncTo=a?o:void 0,t.promise=a?c:void 0)}return yt.fun(s)&&jt.batchedUpdates(()=>{s(v,r,r.item)}),v})()}function Nm(n,e){Md(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var hS=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");this.result=void 0}},dS=class extends Error{constructor(){super("SkipAnimationSignal");this.result=void 0}},pS=n=>n instanceof yy,EG=1,yy=class extends rS{constructor(...e){super(...e);this.id=EG++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=ps(this);return e&&e.getValue()}to(...e){return Na.to(this,e)}interpolate(...e){return E4(),Na.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Cm(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ad.sort(this),Cm(this,{type:"priority",parent:this,priority:e})}},nc=Symbol.for("SpringPhase"),G4=1,mS=2,gS=4,vS=n=>(n[nc]&G4)>0,_u=n=>(n[nc]&mS)>0,km=n=>(n[nc]&gS)>0,W4=(n,e)=>e?n[nc]|=mS|G4:n[nc]&=~mS,V4=(n,e)=>e?n[nc]|=gS:n[nc]&=~gS,j4=class extends yy{constructor(e,t){super();if(this.key=void 0,this.animation=new B4,this.queue=void 0,this.defaultProps={},this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!yt.und(e)||!yt.und(t)){let r=yt.obj(e)?Hr({},e):Hr({},t,{from:e});yt.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(_u(this)||this._state.asyncTo)||km(this)}get goal(){return Zi(this.animation.to)}get velocity(){let e=ps(this);return e instanceof gu?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return vS(this)}get isAnimating(){return _u(this)}get isPaused(){return km(this)}advance(e){let t=!0,r=!1,i=this.animation,{config:a,toValues:s}=i,o=Lm(i.to);!o&&Fa(i.to)&&(s=ia(Zi(i.to))),i.values.forEach((p,d)=>{if(p.done)return;let u=p.constructor==vu?1:o?o[d].lastPosition:s[d],f=i.immediate,l=u;if(!f){if(l=p.lastPosition,a.tension<=0){p.done=!0;return}let v=p.elapsedTime+=e,y=i.fromValues[d],h=p.v0!=null?p.v0:p.v0=yt.arr(a.velocity)?a.velocity[d]:a.velocity,m;if(yt.und(a.duration))if(a.decay){let _=a.decay===!0?.998:a.decay,w=Math.exp(-(1-_)*v);l=y+h/(1-_)*(1-w),f=Math.abs(p.lastPosition-l)<.1,m=h*w}else{m=p.lastVelocity==null?h:p.lastVelocity;let _=a.precision||(y==u?.005:Math.min(1,Math.abs(u-y)*.001)),w=a.restVelocity||_/10,E=a.clamp?0:a.bounce,T=!yt.und(E),A=y==u?p.v0>0:y<u,C,R=!1,D=1,O=Math.ceil(e/D);for(let k=0;k<O&&(C=Math.abs(m)>w,!(!C&&(f=Math.abs(u-l)<=_,f)));++k){T&&(R=l==u||l>u==A,R&&(m=-m*E,l=u));let H=-a.tension*1e-6*(l-u),B=-a.friction*.001*m,Z=(H+B)/a.mass;m=m+Z*D,l=l+m*D}}else{let _=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,p.durationProgress>0&&(p.elapsedTime=a.duration*p.durationProgress,v=p.elapsedTime+=e)),_=(a.progress||0)+v/this._memoizedDuration,_=_>1?1:_<0?0:_,p.durationProgress=_),l=y+a.easing(_)*(u-y),m=(l-p.lastPosition)/e,f=_==1}p.lastVelocity=m,Number.isNaN(l)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[d].done&&(f=!1),f?p.done=!0:t=!1,p.setValue(l,a.round)&&(r=!0)});let c=ps(this),g=c.getValue();if(t){let p=Zi(i.to);(g!==p||r)&&!a.decay?(c.setValue(p),this._onChange(p)):r&&a.decay&&this._onChange(g),this._stop()}else r&&this._onChange(g)}set(e){return jt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(_u(this)){let{to:e,config:t}=this.animation;jt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return yt.und(e)?(r=this.queue||[],this.queue=[]):r=[yt.obj(e)?e:Hr({},t,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>cS(this,i))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),Nm(this._state,e&&this._lastCallId),jt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:i}=e;r=yt.obj(r)?r[t]:r,(r==null||uS(r))&&(r=void 0),i=yt.obj(i)?i[t]:i,i==null&&(i=void 0);let a={to:r,from:i};return vS(this)||(e.reverse&&([r,i]=[i,r]),i=Zi(i),yt.und(i)?ps(this)||this._set(r):this._set(i)),a}_update(e,t){let r=Hr({},e),{key:i,defaultProps:a}=this;r.default&&Object.assign(a,lS(r,(c,g)=>/^on/.test(g)?I4(c,i):c)),Y4(this,r,"onProps"),zm(this,"onProps",r,this);let s=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return z4(++this._lastCallId,{key:i,props:r,defaultProps:a,state:o,actions:{pause:()=>{km(this)||(V4(this,!0),Td(o.pauseQueue),zm(this,"onPause",ms(this,Fm(this,this.animation.to)),this))},resume:()=>{km(this)&&(V4(this,!1),_u(this)&&this._resume(),Td(o.resumeQueue),zm(this,"onResume",ms(this,Fm(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(c=>{if(r.loop&&c.finished&&!(t&&c.noop)){let g=Z4(r);if(g)return this._update(g,!0)}return c})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Id(this));let i=!yt.und(e.to),a=!yt.und(e.from);if(i||a)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(Id(this));let{key:s,defaultProps:o,animation:c}=this,{to:g,from:p}=c,{to:d=g,from:u=p}=e;a&&!i&&(!t.default||yt.und(d))&&(d=u),t.reverse&&([d,u]=[u,d]);let f=!Qs(u,p);f&&(c.from=u),u=Zi(u);let l=!Qs(d,g);l&&this._focus(d);let v=uS(t.to),{config:y}=c,{decay:h,velocity:m}=y;(i||a)&&(y.velocity=0),t.config&&!v&&bG(y,tc(t.config,s),t.config!==o.config?tc(o.config,s):void 0);let _=ps(this);if(!_||yt.und(d))return r(ms(this,!0));let w=yt.und(t.reset)?a&&!t.default:!yt.und(u)&&Dm(t.reset,s),E=w?u:this.get(),T=Om(d),A=yt.num(T)||yt.arr(T)||Ld(T),C=!v&&(!A||Dm(o.immediate||t.immediate,s));if(l){let k=vy(d);if(k!==_.constructor)if(C)_=this._set(T);else throw Error(`Cannot animate between ${_.constructor.name} and ${k.name}, as the "to" prop suggests`)}let R=_.constructor,D=Fa(d),O=!1;if(!D){let k=w||!vS(this)&&f;(l||k)&&(O=Qs(Om(E),T),D=!O),(!Qs(c.immediate,C)&&!C||!Qs(y.decay,h)||!Qs(y.velocity,m))&&(D=!0)}if(O&&_u(this)&&(c.changed&&!w?D=!0:D||this._stop(g)),!v&&((D||Fa(g))&&(c.values=_.getPayload(),c.toValues=Fa(d)?null:R==vu?[1]:ia(T)),c.immediate!=C&&(c.immediate=C,!C&&!w&&this._set(g)),D)){let{onRest:k}=c;Mn(MG,B=>Y4(this,t,B));let H=ms(this,Fm(this,g));Td(this._pendingCalls,H),this._pendingCalls.add(r),c.changed&&jt.batchedUpdates(()=>{c.changed=!w,k==null||k(H,this),w?tc(o.onRest,H):c.onStart==null||c.onStart(H,this)})}w&&this._set(E),v?r(H4(t.to,t,this._state,this)):D?this._start():_u(this)&&!l?this._pendingCalls.add(r):r(U4(E))}_focus(e){let t=this.animation;e!==t.to&&(nS(this)&&this._detach(),t.to=e,nS(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;Fa(t)&&(ec(t,this),pS(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Fa(e)&&Pd(e,this)}_set(e,t=!0){let r=Zi(e);if(!yt.und(r)){let i=ps(this);if(!i||!Qs(r,i.getValue())){let a=vy(r);!i||i.constructor!=a?dy(this,a.create(r)):i.setValue(r),i&&jt.batchedUpdates(()=>{this._onChange(r,t)})}}return ps(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,zm(this,"onStart",ms(this,Fm(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tc(this.animation.onChange,e,this)),tc(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;ps(this).reset(Zi(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),_u(this)||(W4(this,!0),km(this)||this._resume())}_resume(){Na.skipAnimation?this.finish():Ad.start(this)}_stop(e,t){if(_u(this)){W4(this,!1);let r=this.animation;Mn(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Cm(this,{type:"idle",parent:this});let i=t?Id(this.get()):ms(this.get(),Fm(this,e??r.to));Td(this._pendingCalls,i),r.changed&&(r.changed=!1,zm(this,"onRest",i,this))}}};function Fm(n,e){let t=Om(e),r=Om(n.get());return Qs(r,t)}function Z4(n,e=n.loop,t=n.to){let r=tc(e);if(r){let i=r!==!0&&O4(r),a=(i||n).reverse,s=!i||i.reset;return Bm(Hr({},n,{loop:e,default:!1,pause:void 0,to:!a||uS(t)?t:void 0,from:s?n.from:void 0,reset:s},i))}}function Bm(n){let{to:e,from:t}=n=O4(n),r=new Set;return yt.obj(e)&&X4(e,r),yt.obj(t)&&X4(t,r),n.keys=r.size?Array.from(r):null,n}function SG(n){let e=Bm(n);return yt.und(e.default)&&(e.default=lS(e)),e}function X4(n,e){hs(n,(t,r)=>t!=null&&e.add(r))}var MG=["onStart","onRest","onChange","onPause","onResume"];function Y4(n,e,t){n.animation[t]=e[t]!==D4(e,t)?I4(e[t],n.key):void 0}function zm(n,e,...t){var r,i,a,s;(r=(i=n.animation)[e])==null||r.call(i,...t),(a=(s=n.defaultProps)[e])==null||a.call(s,...t)}var TG=["onStart","onChange","onRest"],AG=1,q4=class{constructor(e,t){this.id=AG++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(Hr({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];yt.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Bm(e)),this}start(e){let{queue:t}=this;return e?t=ia(e).map(Bm):this.queue=[],this._flush?this._flush(this,t):(t5(this,t),_S(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let r=this.springs;Mn(ia(t),i=>r[i].stop(!!e))}else Nm(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(yt.und(e))this.start({pause:!0});else{let t=this.springs;Mn(ia(e),r=>t[r].pause())}return this}resume(e){if(yt.und(e))this.start({pause:!1});else{let t=this.springs;Mn(ia(e),r=>t[r].resume())}return this}each(e){hs(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,Md(e,([c,g])=>{g.value=this.get(),c(g,this,this._item)}));let s=!i&&this._started,o=a||s&&r.size?this.get():null;a&&t.size&&Md(t,([c,g])=>{g.value=o,c(g,this,this._item)}),s&&(this._started=!1,Md(r,([c,g])=>{g.value=o,c(g,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;jt.onFrame(this._onFrame)}};function _S(n,e){return Promise.all(e.map(t=>Q4(n,t))).then(t=>cS(n,t))}async function Q4(n,e,t){let{keys:r,to:i,from:a,loop:s,onRest:o,onResolve:c}=e,g=yt.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);let p=yt.arr(i)||yt.fun(i)?i:void 0;p?(e.to=void 0,e.onRest=void 0,g&&(g.onRest=void 0)):Mn(TG,v=>{let y=e[v];if(yt.fun(y)){let h=n._events[v];e[v]=({finished:m,cancelled:_})=>{let w=h.get(y);w?(m||(w.finished=!1),_&&(w.cancelled=!0)):h.set(y,{value:null,finished:m||!1,cancelled:_||!1})},g&&(g[v]=e[v])}});let d=n._state;e.pause===!d.paused?(d.paused=e.pause,Td(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);let u=(r||Object.keys(n.springs)).map(v=>n.springs[v].start(e)),f=e.cancel===!0||D4(e,"cancel")===!0;(p||f&&d.asyncId)&&u.push(z4(++n._lastAsyncId,{props:e,state:d,actions:{pause:iy,resume:iy,start(v,y){f?(Nm(d,n._lastAsyncId),y(Id(n))):(v.onRest=o,y(H4(p,v,d,n)))}}})),d.paused&&await new Promise(v=>{d.resumeQueue.add(v)});let l=cS(n,await Promise.all(u));if(s&&l.finished&&!(t&&l.noop)){let v=Z4(e,s,i);if(v)return t5(n,[v]),Q4(n,v,!0)}return c&&jt.batchedUpdates(()=>c(l,n,n.item)),l}function J4(n,e){let t=Hr({},n.springs);return e&&Mn(ia(e),r=>{yt.und(r.keys)&&(r=Bm(r)),yt.obj(r.to)||(r=Hr({},r,{to:void 0})),e5(t,r,i=>$4(i))}),K4(n,t),t}function K4(n,e){hs(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,ec(t,n))})}function $4(n,e){let t=new j4;return t.key=n,e&&ec(t,e),t}function e5(n,e,t){e.keys&&Mn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function t5(n,e){Mn(e,t=>{e5(n.springs,t,r=>$4(r,n))})}function CG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var RG=["children"],xy=n=>{let{children:e}=n,t=CG(n,RG),r=(0,Ba.useContext)(wy),i=t.pause||!!r.pause,a=t.immediate||!!r.immediate;t=M4(()=>({pause:i,immediate:a}),[i,a]);let{Provider:s}=wy;return Im.createElement(s,{value:t},e)},wy=PG(xy,{});xy.Provider=wy.Provider;xy.Consumer=wy.Consumer;function PG(n,e){return Object.assign(n,Im.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var LG=()=>{let n=[],e=function(i){S4();let a=[];return Mn(n,(s,o)=>{if(yt.und(i))a.push(s.start());else{let c=t(i,s,o);c&&a.push(s.start(c))}}),a};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){let i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return Mn(n,r=>r.pause(...arguments)),this},e.resume=function(){return Mn(n,r=>r.resume(...arguments)),this},e.set=function(r){Mn(n,i=>i.set(r))},e.start=function(r){let i=[];return Mn(n,(a,s)=>{if(yt.und(r))i.push(a.start());else{let o=this._getProps(r,a,s);o&&i.push(a.start(o))}}),i},e.stop=function(){return Mn(n,r=>r.stop(...arguments)),this},e.update=function(r){return Mn(n,(i,a)=>i.update(this._getProps(r,i,a))),this};let t=function(i,a,s){return yt.fun(i)?i(s,a):i};return e._getProps=t,e};function IG(n,e,t){let r=yt.fun(e)&&e;r&&!t&&(t=[]);let i=(0,Ba.useMemo)(()=>r||arguments.length==3?LG():void 0,[]),a=(0,Ba.useRef)(0),s=cy(),o=(0,Ba.useMemo)(()=>({ctrls:[],queue:[],flush(h,m){let _=J4(h,m);return a.current>0&&!o.queue.length&&!Object.keys(_).some(E=>!h.springs[E])?_S(h,m):new Promise(E=>{K4(h,_),o.queue.push(()=>{E(_S(h,m))}),s()})}}),[]),c=(0,Ba.useRef)([...o.ctrls]),g=[],p=sS(n)||0;(0,Ba.useMemo)(()=>{Mn(c.current.slice(n,p),h=>{_G(h,i),h.stop(!0)}),c.current.length=n,d(p,n)},[n]),(0,Ba.useMemo)(()=>{d(0,Math.min(p,n))},t);function d(h,m){for(let _=h;_<m;_++){let w=c.current[_]||(c.current[_]=new q4(null,o.flush)),E=r?r(_,w):e[_];E&&(g[_]=SG(E))}}let u=c.current.map((h,m)=>J4(h,g[m])),f=(0,Ba.useContext)(xy),l=sS(f),v=f!==l&&vG(f);hy(()=>{a.current++,o.ctrls=c.current;let{queue:h}=o;h.length&&(o.queue=[],Mn(h,m=>m())),Mn(c.current,(m,_)=>{i==null||i.add(m),v&&m.start({default:f});let w=g[_];w&&(yG(m,w.ref),m.ref?m.queue.push(w):m.start(w))})}),Rm(()=>()=>{Mn(o.ctrls,h=>h.stop(!0))});let y=u.map(h=>Hr({},h));return i?[y,i]:y}function n5(n,e){let t=yt.fun(n),[[r],i]=IG(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[r,i]:r}var r5;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(r5||(r5={}));var i5=class extends yy{constructor(e,t){super();this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=mu(...t);let r=this._get(),i=vy(r);dy(this,i.create(r))}advance(e){let t=this._get(),r=this.get();Qs(t,r)||(ps(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&a5(this._active)&&yS(this)}_get(){let e=yt.arr(this.source)?this.source.map(Zi):ia(Zi(this.source));return this.calc(...e)}_start(){this.idle&&!a5(this._active)&&(this.idle=!1,Mn(Lm(this),e=>{e.done=!1}),Na.skipAnimation?(jt.batchedUpdates(()=>this.advance()),yS(this)):Ad.start(this))}_attach(){let e=1;Mn(ia(this.source),t=>{Fa(t)&&ec(t,this),pS(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Mn(ia(this.source),e=>{Fa(e)&&Pd(e,this)}),this._active.clear(),yS(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ia(this.source).reduce((t,r)=>Math.max(t,(pS(r)?r.priority:0)+1),0))}};function DG(n){return n.idle!==!1}function a5(n){return!n.size||Array.from(n).every(DG)}function yS(n){n.idle||(n.idle=!0,Mn(Lm(n),e=>{e.done=!0}),Cm(n,{type:"idle",parent:n}))}Na.assign({createStringInterpolator:fy,to:(n,e)=>new i5(n,e)});var HW=Ad.advance;var OG=["primitive"].concat(Object.keys(xm).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));Na.assign({createStringInterpolator:fy,colors:m4,frameLoop:"demand"});QL(()=>{jt.advance()});var NG=P4(OG,{applyAnimatedValues:K_}),s5=NG.animated;function tn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var o5=(n,e)=>(n%e+e)%e,by=class extends ns{constructor(e,t){super();tn(this,"object",void 0),tn(this,"domElement",void 0),tn(this,"enabled",!0),tn(this,"target",new Ce),tn(this,"minDistance",0),tn(this,"maxDistance",1/0),tn(this,"minZoom",0),tn(this,"maxZoom",1/0),tn(this,"minPolarAngle",0),tn(this,"maxPolarAngle",Math.PI),tn(this,"minAzimuthAngle",-1/0),tn(this,"maxAzimuthAngle",1/0),tn(this,"enableDamping",!1),tn(this,"dampingFactor",.05),tn(this,"enableZoom",!0),tn(this,"zoomSpeed",1),tn(this,"enableRotate",!0),tn(this,"rotateSpeed",1),tn(this,"enablePan",!0),tn(this,"panSpeed",1),tn(this,"screenSpacePanning",!0),tn(this,"keyPanSpeed",7),tn(this,"autoRotate",!1),tn(this,"autoRotateSpeed",2),tn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),tn(this,"mouseButtons",{LEFT:Ra.ROTATE,MIDDLE:Ra.DOLLY,RIGHT:Ra.PAN}),tn(this,"touches",{ONE:Ul.ROTATE,TWO:Ul.DOLLY_PAN}),tn(this,"target0",void 0),tn(this,"position0",void 0),tn(this,"zoom0",void 0),tn(this,"_domElementKeyEvents",null),tn(this,"getPolarAngle",void 0),tn(this,"getAzimuthalAngle",void 0),tn(this,"setPolarAngle",void 0),tn(this,"setAzimuthalAngle",void 0),tn(this,"getDistance",void 0),tn(this,"listenToKeyEvents",void 0),tn(this,"saveState",void 0),tn(this,"reset",void 0),tn(this,"update",void 0),tn(this,"connect",void 0),tn(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Bn?this.object.zoom:1,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=Me=>{let Ge=o5(Me,2*Math.PI),et=p.phi;et<0&&(et+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let ut=Math.abs(Ge-et);2*Math.PI-ut<ut&&(Ge<et?Ge+=2*Math.PI:et+=2*Math.PI),d.phi=Ge-et,r.update()},this.setAzimuthalAngle=Me=>{let Ge=o5(Me,2*Math.PI),et=p.theta;et<0&&(et+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let ut=Math.abs(Ge-et);2*Math.PI-ut<ut&&(Ge<et?Ge+=2*Math.PI:et+=2*Math.PI),d.theta=Ge-et,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Me=>{Me.addEventListener("keydown",J),this._domElementKeyEvents=Me},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Bn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Bn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),c=o.NONE},this.update=(()=>{let Me=new Ce,Ge=new wr().setFromUnitVectors(e.up,new Ce(0,1,0)),et=Ge.clone().invert(),ut=new Ce,ct=new wr,X=2*Math.PI;return function(){let ke=r.object.position;Me.copy(ke).sub(r.target),Me.applyQuaternion(Ge),p.setFromVector3(Me),r.autoRotate&&c===o.NONE&&k(D()),r.enableDamping?(p.theta+=d.theta*r.dampingFactor,p.phi+=d.phi*r.dampingFactor):(p.theta+=d.theta,p.phi+=d.phi);let Qe=r.minAzimuthAngle,Re=r.maxAzimuthAngle;return isFinite(Qe)&&isFinite(Re)&&(Qe<-Math.PI?Qe+=X:Qe>Math.PI&&(Qe-=X),Re<-Math.PI?Re+=X:Re>Math.PI&&(Re-=X),Qe<=Re?p.theta=Math.max(Qe,Math.min(Re,p.theta)):p.theta=p.theta>(Qe+Re)/2?Math.max(Qe,p.theta):Math.min(Re,p.theta)),p.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=u,p.radius=Math.max(r.minDistance,Math.min(r.maxDistance,p.radius)),r.enableDamping===!0?r.target.addScaledVector(f,r.dampingFactor):r.target.add(f),Me.setFromSpherical(p),Me.applyQuaternion(et),ke.copy(r.target).add(Me),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,f.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),f.set(0,0,0)),u=1,l||ut.distanceToSquared(r.object.position)>g||8*(1-ct.dot(r.object.quaternion))>g?(r.dispatchEvent(i),ut.copy(r.object.position),ct.copy(r.object.quaternion),l=!1,!0):!1}})(),this.connect=Me=>{Me===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Me,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",be),r.domElement.addEventListener("pointerdown",re),r.domElement.addEventListener("pointercancel",G),r.domElement.addEventListener("wheel",U)},this.dispose=()=>{var Me,Ge,et,ut,ct,X;(Me=r.domElement)===null||Me===void 0||Me.removeEventListener("contextmenu",be),(Ge=r.domElement)===null||Ge===void 0||Ge.removeEventListener("pointerdown",re),(et=r.domElement)===null||et===void 0||et.removeEventListener("pointercancel",G),(ut=r.domElement)===null||ut===void 0||ut.removeEventListener("wheel",U),(ct=r.domElement)===null||ct===void 0||ct.ownerDocument.removeEventListener("pointermove",q),(X=r.domElement)===null||X===void 0||X.ownerDocument.removeEventListener("pointerup",te),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",J)};let r=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=o.NONE,g=1e-6,p=new ym,d=new ym,u=1,f=new Ce,l=!1,v=new ft,y=new ft,h=new ft,m=new ft,_=new ft,w=new ft,E=new ft,T=new ft,A=new ft,C=[],R={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function O(){return Math.pow(.95,r.zoomSpeed)}function k(Me){d.theta-=Me}function H(Me){d.phi-=Me}let B=(()=>{let Me=new Ce;return function(et,ut){Me.setFromMatrixColumn(ut,0),Me.multiplyScalar(-et),f.add(Me)}})(),Z=(()=>{let Me=new Ce;return function(et,ut){r.screenSpacePanning===!0?Me.setFromMatrixColumn(ut,1):(Me.setFromMatrixColumn(ut,0),Me.crossVectors(r.object.up,Me)),Me.multiplyScalar(et),f.add(Me)}})(),V=(()=>{let Me=new Ce;return function(et,ut){let ct=r.domElement;if(ct&&r.object instanceof Bn&&r.object.isPerspectiveCamera){let X=r.object.position;Me.copy(X).sub(r.target);let Ae=Me.length();Ae*=Math.tan(r.object.fov/2*Math.PI/180),B(2*et*Ae/ct.clientHeight,r.object.matrix),Z(2*ut*Ae/ct.clientHeight,r.object.matrix)}else ct&&r.object instanceof La&&r.object.isOrthographicCamera?(B(et*(r.object.right-r.object.left)/r.object.zoom/ct.clientWidth,r.object.matrix),Z(ut*(r.object.top-r.object.bottom)/r.object.zoom/ct.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(Me){r.object instanceof Bn&&r.object.isPerspectiveCamera?u/=Me:r.object instanceof La&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Me)),r.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(Me){r.object instanceof Bn&&r.object.isPerspectiveCamera?u*=Me:r.object instanceof La&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Me)),r.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(Me){v.set(Me.clientX,Me.clientY)}function Q(Me){E.set(Me.clientX,Me.clientY)}function se(Me){m.set(Me.clientX,Me.clientY)}function le(Me){y.set(Me.clientX,Me.clientY),h.subVectors(y,v).multiplyScalar(r.rotateSpeed);let Ge=r.domElement;Ge&&(k(2*Math.PI*h.x/Ge.clientHeight),H(2*Math.PI*h.y/Ge.clientHeight)),v.copy(y),r.update()}function fe(Me){T.set(Me.clientX,Me.clientY),A.subVectors(T,E),A.y>0?j(O()):A.y<0&&z(O()),E.copy(T),r.update()}function $(Me){_.set(Me.clientX,Me.clientY),w.subVectors(_,m).multiplyScalar(r.panSpeed),V(w.x,w.y),m.copy(_),r.update()}function ae(Me){Me.deltaY<0?z(O()):Me.deltaY>0&&j(O()),r.update()}function oe(Me){let Ge=!1;switch(Me.code){case r.keys.UP:V(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(Me.preventDefault(),r.update())}function ce(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);v.set(Me,Ge)}}function he(){if(C.length==1)m.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);m.set(Me,Ge)}}function we(){let Me=C[0].pageX-C[1].pageX,Ge=C[0].pageY-C[1].pageY,et=Math.sqrt(Me*Me+Ge*Ge);E.set(0,et)}function xe(){r.enableZoom&&we(),r.enablePan&&he()}function Oe(){r.enableZoom&&we(),r.enableRotate&&ce()}function ge(Me){if(C.length==1)y.set(Me.pageX,Me.pageY);else{let et=Ye(Me),ut=.5*(Me.pageX+et.x),ct=.5*(Me.pageY+et.y);y.set(ut,ct)}h.subVectors(y,v).multiplyScalar(r.rotateSpeed);let Ge=r.domElement;Ge&&(k(2*Math.PI*h.x/Ge.clientHeight),H(2*Math.PI*h.y/Ge.clientHeight)),v.copy(y)}function De(Me){if(C.length==1)_.set(Me.pageX,Me.pageY);else{let Ge=Ye(Me),et=.5*(Me.pageX+Ge.x),ut=.5*(Me.pageY+Ge.y);_.set(et,ut)}w.subVectors(_,m).multiplyScalar(r.panSpeed),V(w.x,w.y),m.copy(_)}function pe(Me){let Ge=Ye(Me),et=Me.pageX-Ge.x,ut=Me.pageY-Ge.y,ct=Math.sqrt(et*et+ut*ut);T.set(0,ct),A.set(0,Math.pow(T.y/E.y,r.zoomSpeed)),j(A.y),E.copy(T)}function de(Me){r.enableZoom&&pe(Me),r.enablePan&&De(Me)}function ie(Me){r.enableZoom&&pe(Me),r.enableRotate&&ge(Me)}function re(Me){if(r.enabled!==!1){if(C.length===0){var Ge,et;(Ge=r.domElement)===null||Ge===void 0||Ge.ownerDocument.addEventListener("pointermove",q),(et=r.domElement)===null||et===void 0||et.ownerDocument.addEventListener("pointerup",te)}Le(Me),Me.pointerType==="touch"?ye(Me):L(Me)}}function q(Me){r.enabled!==!1&&(Me.pointerType==="touch"?Ie(Me):I(Me))}function te(Me){if(ze(Me),C.length===0){var Ge,et,ut;(Ge=r.domElement)===null||Ge===void 0||Ge.releasePointerCapture(Me.pointerId),(et=r.domElement)===null||et===void 0||et.ownerDocument.removeEventListener("pointermove",q),(ut=r.domElement)===null||ut===void 0||ut.ownerDocument.removeEventListener("pointerup",te)}r.dispatchEvent(s),c=o.NONE}function G(Me){ze(Me)}function L(Me){let Ge;switch(Me.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case Ra.DOLLY:if(r.enableZoom===!1)return;Q(Me),c=o.DOLLY;break;case Ra.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enablePan===!1)return;se(Me),c=o.PAN}else{if(r.enableRotate===!1)return;W(Me),c=o.ROTATE}break;case Ra.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enableRotate===!1)return;W(Me),c=o.ROTATE}else{if(r.enablePan===!1)return;se(Me),c=o.PAN}break;default:c=o.NONE}c!==o.NONE&&r.dispatchEvent(a)}function I(Me){if(r.enabled!==!1)switch(c){case o.ROTATE:if(r.enableRotate===!1)return;le(Me);break;case o.DOLLY:if(r.enableZoom===!1)return;fe(Me);break;case o.PAN:if(r.enablePan===!1)return;$(Me);break}}function U(Me){r.enabled===!1||r.enableZoom===!1||c!==o.NONE&&c!==o.ROTATE||(Me.preventDefault(),r.dispatchEvent(a),ae(Me),r.dispatchEvent(s))}function J(Me){r.enabled===!1||r.enablePan===!1||oe(Me)}function ye(Me){switch(qe(Me),C.length){case 1:switch(r.touches.ONE){case Ul.ROTATE:if(r.enableRotate===!1)return;ce(),c=o.TOUCH_ROTATE;break;case Ul.PAN:if(r.enablePan===!1)return;he(),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(r.touches.TWO){case Ul.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;xe(),c=o.TOUCH_DOLLY_PAN;break;case Ul.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Oe(),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&r.dispatchEvent(a)}function Ie(Me){switch(qe(Me),c){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;ge(Me),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;De(Me),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;de(Me),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ie(Me),r.update();break;default:c=o.NONE}}function be(Me){r.enabled!==!1&&Me.preventDefault()}function Le(Me){C.push(Me)}function ze(Me){delete R[Me.pointerId];for(let Ge=0;Ge<C.length;Ge++)if(C[Ge].pointerId==Me.pointerId){C.splice(Ge,1);return}}function qe(Me){let Ge=R[Me.pointerId];Ge===void 0&&(Ge=new ft,R[Me.pointerId]=Ge),Ge.set(Me.pageX,Me.pageY)}function Ye(Me){let Ge=Me.pointerId===C[0].pointerId?C[1]:C[0];return R[Ge.pointerId]}t!==void 0&&this.connect(t),this.update()}};var l5=hr(jr()),xS=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Um(n){let e=Oa(r=>r.gl),t=Sd(Vf,xS(n)?Object.values(n):n);if((0,l5.useEffect)(()=>{(Array.isArray(t)?t:[t]).forEach(e.initTexture)},[e,t]),xS(n)){let r=Object.keys(n),i={};return r.forEach(a=>Object.assign(i,{[a]:t[r.indexOf(a)]})),i}else return t}Um.preload=n=>Sd.preload(Vf,n);Um.clear=n=>Sd.clear(Vf,n);var Yo=hr(jr());var wS=Yo.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:a,onStart:s,onEnd:o,...c},g)=>{let p=Oa(({invalidate:w})=>w),d=Oa(({camera:w})=>w),u=Oa(({gl:w})=>w),f=Oa(({events:w})=>w),l=Oa(({set:w})=>w),v=Oa(({get:w})=>w),y=Oa(({performance:w})=>w),h=e||d,m=r||(typeof f.connected!="boolean"?f.connected:u.domElement),_=Yo.useMemo(()=>new by(h),[h]);return $L(()=>{_.enabled&&_.update()}),Yo.useEffect(()=>{let w=E=>{p(),t&&y.regress(),a&&a(E)};return _.connect(m),_.addEventListener("change",w),s&&_.addEventListener("start",s),o&&_.addEventListener("end",o),()=>{_.removeEventListener("change",w),s&&_.removeEventListener("start",s),o&&_.removeEventListener("end",o),_.dispose()}},[m,a,s,o,t,_,p]),Yo.useEffect(()=>{if(n){let w=v().controls;return l({controls:_}),()=>l({controls:w})}},[n,_]),Yo.createElement("primitive",Jf({ref:g,object:_,enableDamping:i},c))});var Hm=hr(jr());function ti(n){let e=n+"BufferGeometry";return Hm.forwardRef(({args:t,children:r,...i},a)=>Hm.createElement("mesh",Jf({ref:a},i),Hm.createElement(e,{attach:"geometry",args:t}),r))}var kG=ti("box"),FG=ti("circle"),BG=ti("cone"),zG=ti("cylinder"),Dd=ti("sphere"),UG=ti("plane"),HG=ti("tube"),GG=ti("torus"),WG=ti("torusKnot"),VG=ti("tetrahedron"),jG=ti("ring"),ZG=ti("polyhedron"),XG=ti("icosahedron"),YG=ti("octahedron"),qG=ti("dodecahedron"),QG=ti("extrude"),JG=ti("lathe");var u5=class{value;next;constructor(e){this.value=e}},Ey=class{#e;#t;#n;constructor(){this.clear()}enqueue(e){let t=new u5(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){let e=this.#e;if(!!e)return this.#e=this.#e.next,this.#n--,e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function bS(n){if(!((Number.isInteger(n)||n===Number.POSITIVE_INFINITY)&&n>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new Ey,t=0,r=()=>{t--,e.size>0&&e.dequeue()()},i=async(o,c,g)=>{t++;let p=(async()=>o(...g))();c(p);try{await p}catch{}r()},a=(o,c,g)=>{e.enqueue(i.bind(void 0,o,c,g)),(async()=>{await Promise.resolve(),t<n&&e.size>0&&e.dequeue()()})()},s=(o,...c)=>new Promise(g=>{a(o,g,c)});return Object.defineProperties(s,{activeCount:{get:()=>t},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),s}var Sy=hr(f5()),v5=hr(h5()),MS=hr(p5());var KG=[];for(let n=0;n<256;n++)KG[n]=(n<16?"0":"")+n.toString(16);var $G=Math.PI/180,bV=180/Math.PI;function m5(n){return n*$G}var eW=n=>{let e=document.createElement("canvas").getContext("2d");return e.canvas.width=n.getWidth(),e.canvas.height=n.getHeight(),e.putImageData(new ImageData(Uint8ClampedArray.from(n.bitmap.data),n.bitmap.width,n.bitmap.height),0,0),e.canvas},tW=()=>{let[n,e]=(0,Rn.useState)();return(0,Rn.useEffect)(()=>{(()=>dx(void 0,null,function*(){let r=3,i=256,a=new MS.default(2**r*i,2**r*i,"#000000"),s=[],o=bS(4),c=[];for(let p=0;p<2**r;p++)for(let d=0;d<2**r;d++)c.push(()=>new Promise(u=>{(()=>dx(void 0,null,function*(){let l=`https://a.sat.owm.io/vane/2.0/weather/CL/${r}/${p}/${d}?appid=9de243494c0b295cca9337e1e96b00e2`,v=yield MS.default.read(l);s.push([v,p,d]),u()}))().catch(console.error)}));yield Promise.all((0,Sy.shuffle)(c).map(p=>o(p)));for(let[p,d,u]of s)a.composite(p,d*i,u*i);a.normalize();let g=eW(a);e(new im(g))}))().catch(console.error)},[]),n};var _5=()=>{let n=v5.default.getPosition(new Date,180,0);return new Ce(Math.cos(n.azimuth),-Math.sin(n.altitude),Math.sin(n.azimuth))},nW=()=>{let{camera:n}=Oa(),[e,t,r,i,a]=Um(["/items/earth/starmap_2020_8k.webp","/items/earth/world.200411.3x21600x10800.webp","/items/earth/earthbump4k.webp","/items/earth/earthspec4k-inverted.webp","/items/earth/VNL_v2_npp_2020_global_vcmslcfg_c202102150000.median_masked.sqrt.full.10k_5k.webp"]),s=tW(),[o,c]=(0,Rn.useState)(_5()),g=n5({to:{cloudsOpacity:s?1:0}});return(0,Rn.useEffect)(()=>{let p=setInterval(()=>c(_5()),1e3);return()=>clearInterval(p)},[]),Rn.default.createElement(Rn.default.Fragment,null,Rn.default.createElement(wS,{autoRotate:!0,autoRotateSpeed:.1,enableDamping:!0,minDistance:1.2,maxDistance:2.5,enablePan:!1,mouseButtons:{LEFT:Ra.ROTATE,RIGHT:Ra.ROTATE,MIDDLE:Ra.ROTATE}}),Rn.default.createElement(Dd,{args:[1e3,32,64]},Rn.default.createElement("meshBasicMaterial",{attach:"material",map:e,side:or})),Rn.default.createElement("ambientLight",{intensity:.01}),Rn.default.createElement("directionalLight",{intensity:5,position:o}),Rn.default.createElement(Dd,{name:"earth",args:[1,128,256]},Rn.default.createElement("meshPhysicalMaterial",{attach:"material",roughness:1,map:t,displacementMap:r,displacementScale:.01,roughnessMap:i,emissive:new bt("#ebe6c2"),emissiveMap:a,emissiveIntensity:.5})),Rn.default.createElement(Dd,{name:"clouds",args:[1.002,128,256]},Rn.default.createElement(s5.meshStandardMaterial,{transparent:!0,opacity:g.cloudsOpacity,color:"white",attach:"material",displacementMap:r,displacementScale:.01,alphaMap:s!=null?s:new er})),Rn.default.createElement("group",{name:"atmosphere"},(0,Sy.range)(16).map(p=>Rn.default.createElement(Dd,{args:[1.01+p/500,32,32],rotation:new Us(0,m5(360*(p/16)),0)},Rn.default.createElement("meshBasicMaterial",{transparent:!0,opacity:.01,color:"#7ab8d0"})))))},rW=()=>Rn.default.createElement("div",{className:"absolute inset-0 w-screen h-screen overscroll-none"},Rn.default.createElement(JL,{className:"w-100 h-100",gl:{physicallyCorrectLights:!0}},Rn.default.createElement(Rn.Suspense,{fallback:null},Rn.default.createElement(nW,null))),Rn.default.createElement(jE,null));g5.default.render(Rn.default.createElement(Rn.default.StrictMode,null,Rn.default.createElement(rW,null)),document.getElementById("react-app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */
/*! https://mths.be/punycode v1.4.1 by @mathias */
/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
