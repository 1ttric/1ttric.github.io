(()=>{var nD=Object.create;var Km=Object.defineProperty;var rD=Object.getOwnPropertyDescriptor;var iD=Object.getOwnPropertyNames;var aD=Object.getPrototypeOf,oD=Object.prototype.hasOwnProperty;var sD=r=>Km(r,"__esModule",{value:!0});var zd=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var Di=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),lD=(r,e)=>{for(var t in e)Km(r,t,{get:e[t],enumerable:!0})},uD=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iD(e))!oD.call(r,i)&&(t||i!=="default")&&Km(r,i,{get:()=>e[i],enumerable:!(n=rD(e,i))||n.enumerable});return r},ii=(r,e)=>uD(sD(Km(r!=null?nD(aD(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var $m=(r,e,t)=>new Promise((n,i)=>{var a=c=>{try{l(t.next(c))}catch(g){i(g)}},o=c=>{try{l(t.throw(c))}catch(g){i(g)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((t=t.apply(r,e)).next())});var eg=Di((o7,OE)=>{"use strict";var DE=Object.getOwnPropertySymbols,fD=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable;function hD(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function dD(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}OE.exports=dD()?Object.assign:function(r,e){for(var t,n=hD(r),i,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var o in t)fD.call(t,o)&&(n[o]=t[o]);if(DE){i=DE(t);for(var l=0;l<i.length;l++)cD.call(t,i[l])&&(n[i[l]]=t[i[l]])}}return n}});var JE=Di(xn=>{"use strict";var X_=eg(),vc=60103,NE=60106;xn.Fragment=60107;xn.StrictMode=60108;xn.Profiler=60114;var kE=60109,FE=60110,BE=60112;xn.Suspense=60113;var zE=60115,UE=60116;typeof Symbol=="function"&&Symbol.for&&(pa=Symbol.for,vc=pa("react.element"),NE=pa("react.portal"),xn.Fragment=pa("react.fragment"),xn.StrictMode=pa("react.strict_mode"),xn.Profiler=pa("react.profiler"),kE=pa("react.provider"),FE=pa("react.context"),BE=pa("react.forward_ref"),xn.Suspense=pa("react.suspense"),zE=pa("react.memo"),UE=pa("react.lazy"));var pa,HE=typeof Symbol=="function"&&Symbol.iterator;function pD(r){return r===null||typeof r!="object"?null:(r=HE&&r[HE]||r["@@iterator"],typeof r=="function"?r:null)}function Ud(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE={};function _c(r,e,t){this.props=r,this.context=e,this.refs=WE,this.updater=t||GE}_c.prototype.isReactComponent={};_c.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error(Ud(85));this.updater.enqueueSetState(this,r,e,"setState")};_c.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function VE(){}VE.prototype=_c.prototype;function Y_(r,e,t){this.props=r,this.context=e,this.refs=WE,this.updater=t||GE}var q_=Y_.prototype=new VE;q_.constructor=Y_;X_(q_,_c.prototype);q_.isPureReactComponent=!0;var J_={current:null},jE=Object.prototype.hasOwnProperty,ZE={key:!0,ref:!0,__self:!0,__source:!0};function XE(r,e,t){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)jE.call(e,n)&&!ZE.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var c=Array(l),g=0;g<l;g++)c[g]=arguments[g+2];i.children=c}if(r&&r.defaultProps)for(n in l=r.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:vc,type:r,key:a,ref:o,props:i,_owner:J_.current}}function mD(r,e){return{$$typeof:vc,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Q_(r){return typeof r=="object"&&r!==null&&r.$$typeof===vc}function gD(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var YE=/\/+/g;function K_(r,e){return typeof r=="object"&&r!==null&&r.key!=null?gD(""+r.key):e.toString(36)}function tg(r,e,t,n,i){var a=typeof r;(a==="undefined"||a==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case vc:case NE:o=!0}}if(o)return o=r,i=i(o),r=n===""?"."+K_(o,0):n,Array.isArray(i)?(t="",r!=null&&(t=r.replace(YE,"$&/")+"/"),tg(i,e,t,"",function(g){return g})):i!=null&&(Q_(i)&&(i=mD(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(YE,"$&/")+"/")+r)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(r))for(var l=0;l<r.length;l++){a=r[l];var c=n+K_(a,l);o+=tg(a,e,t,c,i)}else if(c=pD(r),typeof c=="function")for(r=c.call(r),l=0;!(a=r.next()).done;)a=a.value,c=n+K_(a,l++),o+=tg(a,e,t,c,i);else if(a==="object")throw e=""+r,Error(Ud(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e));return o}function ng(r,e,t){if(r==null)return r;var n=[],i=0;return tg(r,n,"","",function(a){return e.call(t,a,i++)}),n}function vD(r){if(r._status===-1){var e=r._result;e=e(),r._status=0,r._result=e,e.then(function(t){r._status===0&&(t=t.default,r._status=1,r._result=t)},function(t){r._status===0&&(r._status=2,r._result=t)})}if(r._status===1)return r._result;throw r._result}var qE={current:null};function us(){var r=qE.current;if(r===null)throw Error(Ud(321));return r}var _D={ReactCurrentDispatcher:qE,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:J_,IsSomeRendererActing:{current:!1},assign:X_};xn.Children={map:ng,forEach:function(r,e,t){ng(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return ng(r,function(){e++}),e},toArray:function(r){return ng(r,function(e){return e})||[]},only:function(r){if(!Q_(r))throw Error(Ud(143));return r}};xn.Component=_c;xn.PureComponent=Y_;xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_D;xn.cloneElement=function(r,e,t){if(r==null)throw Error(Ud(267,r));var n=X_({},r.props),i=r.key,a=r.ref,o=r._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=J_.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(c in e)jE.call(e,c)&&!ZE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=t;else if(1<c){l=Array(c);for(var g=0;g<c;g++)l[g]=arguments[g+2];n.children=l}return{$$typeof:vc,type:r.type,key:i,ref:a,props:n,_owner:o}};xn.createContext=function(r,e){return e===void 0&&(e=null),r={$$typeof:FE,_calculateChangedBits:e,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider={$$typeof:kE,_context:r},r.Consumer=r};xn.createElement=XE;xn.createFactory=function(r){var e=XE.bind(null,r);return e.type=r,e};xn.createRef=function(){return{current:null}};xn.forwardRef=function(r){return{$$typeof:BE,render:r}};xn.isValidElement=Q_;xn.lazy=function(r){return{$$typeof:UE,_payload:{_status:-1,_result:r},_init:vD}};xn.memo=function(r,e){return{$$typeof:zE,type:r,compare:e===void 0?null:e}};xn.useCallback=function(r,e){return us().useCallback(r,e)};xn.useContext=function(r,e){return us().useContext(r,e)};xn.useDebugValue=function(){};xn.useEffect=function(r,e){return us().useEffect(r,e)};xn.useImperativeHandle=function(r,e,t){return us().useImperativeHandle(r,e,t)};xn.useLayoutEffect=function(r,e){return us().useLayoutEffect(r,e)};xn.useMemo=function(r,e){return us().useMemo(r,e)};xn.useReducer=function(r,e,t){return us().useReducer(r,e,t)};xn.useRef=function(r){return us().useRef(r)};xn.useState=function(r){return us().useState(r)};xn.version="17.0.2"});var Ha=Di((l7,QE)=>{"use strict";QE.exports=JE()});var rS=Di(Rn=>{"use strict";var yc,Hd,rg,$_;typeof performance=="object"&&typeof performance.now=="function"?(KE=performance,Rn.unstable_now=function(){return KE.now()}):(ey=Date,$E=ey.now(),Rn.unstable_now=function(){return ey.now()-$E});var KE,ey,$E;typeof window=="undefined"||typeof MessageChannel!="function"?(xc=null,ty=null,ny=function(){if(xc!==null)try{var r=Rn.unstable_now();xc(!0,r),xc=null}catch(e){throw setTimeout(ny,0),e}},yc=function(r){xc!==null?setTimeout(yc,0,r):(xc=r,setTimeout(ny,0))},Hd=function(r,e){ty=setTimeout(r,e)},rg=function(){clearTimeout(ty)},Rn.unstable_shouldYield=function(){return!1},$_=Rn.unstable_forceFrameRate=function(){}):(eS=window.setTimeout,tS=window.clearTimeout,typeof console!="undefined"&&(nS=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof nS!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Gd=!1,Wd=null,ig=-1,ry=5,iy=0,Rn.unstable_shouldYield=function(){return Rn.unstable_now()>=iy},$_=function(){},Rn.unstable_forceFrameRate=function(r){0>r||125<r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ry=0<r?Math.floor(1e3/r):5},ay=new MessageChannel,ag=ay.port2,ay.port1.onmessage=function(){if(Wd!==null){var r=Rn.unstable_now();iy=r+ry;try{Wd(!0,r)?ag.postMessage(null):(Gd=!1,Wd=null)}catch(e){throw ag.postMessage(null),e}}else Gd=!1},yc=function(r){Wd=r,Gd||(Gd=!0,ag.postMessage(null))},Hd=function(r,e){ig=eS(function(){r(Rn.unstable_now())},e)},rg=function(){tS(ig),ig=-1});var xc,ty,ny,eS,tS,nS,Gd,Wd,ig,ry,iy,ay,ag;function oy(r,e){var t=r.length;r.push(e);e:for(;;){var n=t-1>>>1,i=r[n];if(i!==void 0&&0<sg(i,e))r[n]=e,r[t]=i,t=n;else break e}}function Ga(r){return r=r[0],r===void 0?null:r}function og(r){var e=r[0];if(e!==void 0){var t=r.pop();if(t!==e){r[0]=t;e:for(var n=0,i=r.length;n<i;){var a=2*(n+1)-1,o=r[a],l=a+1,c=r[l];if(o!==void 0&&0>sg(o,t))c!==void 0&&0>sg(c,o)?(r[n]=c,r[l]=t,n=l):(r[n]=o,r[a]=t,n=a);else if(c!==void 0&&0>sg(c,t))r[n]=c,r[l]=t,n=l;else break e}}return e}return null}function sg(r,e){var t=r.sortIndex-e.sortIndex;return t!==0?t:r.id-e.id}var go=[],nl=[],yD=1,ma=null,ai=3,lg=!1,Iu=!1,Vd=!1;function sy(r){for(var e=Ga(nl);e!==null;){if(e.callback===null)og(nl);else if(e.startTime<=r)og(nl),e.sortIndex=e.expirationTime,oy(go,e);else break;e=Ga(nl)}}function ly(r){if(Vd=!1,sy(r),!Iu)if(Ga(go)!==null)Iu=!0,yc(uy);else{var e=Ga(nl);e!==null&&Hd(ly,e.startTime-r)}}function uy(r,e){Iu=!1,Vd&&(Vd=!1,rg()),lg=!0;var t=ai;try{for(sy(e),ma=Ga(go);ma!==null&&(!(ma.expirationTime>e)||r&&!Rn.unstable_shouldYield());){var n=ma.callback;if(typeof n=="function"){ma.callback=null,ai=ma.priorityLevel;var i=n(ma.expirationTime<=e);e=Rn.unstable_now(),typeof i=="function"?ma.callback=i:ma===Ga(go)&&og(go),sy(e)}else og(go);ma=Ga(go)}if(ma!==null)var a=!0;else{var o=Ga(nl);o!==null&&Hd(ly,o.startTime-e),a=!1}return a}finally{ma=null,ai=t,lg=!1}}var xD=$_;Rn.unstable_IdlePriority=5;Rn.unstable_ImmediatePriority=1;Rn.unstable_LowPriority=4;Rn.unstable_NormalPriority=3;Rn.unstable_Profiling=null;Rn.unstable_UserBlockingPriority=2;Rn.unstable_cancelCallback=function(r){r.callback=null};Rn.unstable_continueExecution=function(){Iu||lg||(Iu=!0,yc(uy))};Rn.unstable_getCurrentPriorityLevel=function(){return ai};Rn.unstable_getFirstCallbackNode=function(){return Ga(go)};Rn.unstable_next=function(r){switch(ai){case 1:case 2:case 3:var e=3;break;default:e=ai}var t=ai;ai=e;try{return r()}finally{ai=t}};Rn.unstable_pauseExecution=function(){};Rn.unstable_requestPaint=xD;Rn.unstable_runWithPriority=function(r,e){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var t=ai;ai=r;try{return e()}finally{ai=t}};Rn.unstable_scheduleCallback=function(r,e,t){var n=Rn.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?n+t:n):t=n,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,r={id:yD++,callback:e,priorityLevel:r,startTime:t,expirationTime:i,sortIndex:-1},t>n?(r.sortIndex=t,oy(nl,r),Ga(go)===null&&r===Ga(nl)&&(Vd?rg():Vd=!0,Hd(ly,t-n))):(r.sortIndex=i,oy(go,r),Iu||lg||(Iu=!0,yc(uy))),r};Rn.unstable_wrapCallback=function(r){var e=ai;return function(){var t=ai;ai=e;try{return r.apply(this,arguments)}finally{ai=t}}}});var ug=Di((f7,iS)=>{"use strict";iS.exports=rS()});var V3=Di(wa=>{"use strict";var fg=Ha(),Jn=eg(),Nr=ug();function vt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!fg)throw Error(vt(227));var aS=new Set,jd={};function Du(r,e){wc(r,e),wc(r+"Capture",e)}function wc(r,e){for(jd[r]=e,r=0;r<e.length;r++)aS.add(e[r])}var fs=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),wD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oS=Object.prototype.hasOwnProperty,sS={},lS={};function bD(r){return oS.call(lS,r)?!0:oS.call(sS,r)?!1:wD.test(r)?lS[r]=!0:(sS[r]=!0,!1)}function ED(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function SD(r,e,t,n){if(e===null||typeof e=="undefined"||ED(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(r,e,t,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ur[r]=new vi(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Ur[e]=new vi(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ur[r]=new vi(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ur[r]=new vi(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ur[r]=new vi(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ur[r]=new vi(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ur[r]=new vi(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ur[r]=new vi(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ur[r]=new vi(r,5,!1,r.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function cy(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(fy,cy);Ur[e]=new vi(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(fy,cy);Ur[e]=new vi(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(fy,cy);Ur[e]=new vi(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ur[r]=new vi(r,1,!1,r.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ur[r]=new vi(r,1,!1,r.toLowerCase(),null,!0,!0)});function hy(r,e,t,n){var i=Ur.hasOwnProperty(e)?Ur[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(SD(e,t,i,n)&&(t=null),n||i===null?bD(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Ou=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zd=60103,Nu=60106,rl=60107,dy=60108,Xd=60114,py=60109,my=60110,cg=60112,Yd=60113,hg=60120,dg=60115,gy=60116,vy=60121,_y=60128,uS=60129,yy=60130,xy=60131;typeof Symbol=="function"&&Symbol.for&&(Ar=Symbol.for,Zd=Ar("react.element"),Nu=Ar("react.portal"),rl=Ar("react.fragment"),dy=Ar("react.strict_mode"),Xd=Ar("react.profiler"),py=Ar("react.provider"),my=Ar("react.context"),cg=Ar("react.forward_ref"),Yd=Ar("react.suspense"),hg=Ar("react.suspense_list"),dg=Ar("react.memo"),gy=Ar("react.lazy"),vy=Ar("react.block"),Ar("react.scope"),_y=Ar("react.opaque.id"),uS=Ar("react.debug_trace_mode"),yy=Ar("react.offscreen"),xy=Ar("react.legacy_hidden"));var Ar,fS=typeof Symbol=="function"&&Symbol.iterator;function qd(r){return r===null||typeof r!="object"?null:(r=fS&&r[fS]||r["@@iterator"],typeof r=="function"?r:null)}var wy;function Jd(r){if(wy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);wy=e&&e[1]||""}return`
`+wy+r}var by=!1;function pg(r,e){if(!r||by)return"";by=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){n=c}r.call(e.prototype)}else{try{throw Error()}catch(c){n=c}r()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{by=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Jd(r):""}function MD(r){switch(r.tag){case 5:return Jd(r.type);case 16:return Jd("Lazy");case 13:return Jd("Suspense");case 19:return Jd("SuspenseList");case 0:case 2:case 15:return r=pg(r.type,!1),r;case 11:return r=pg(r.type.render,!1),r;case 22:return r=pg(r.type._render,!1),r;case 1:return r=pg(r.type,!0),r;default:return""}}function bc(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case rl:return"Fragment";case Nu:return"Portal";case Xd:return"Profiler";case dy:return"StrictMode";case Yd:return"Suspense";case hg:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case my:return(r.displayName||"Context")+".Consumer";case py:return(r._context.displayName||"Context")+".Provider";case cg:var e=r.render;return e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case dg:return bc(r.type);case vy:return bc(r._render);case gy:e=r._payload,r=r._init;try{return bc(r(e))}catch{}}return null}function il(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function cS(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TD(r){var e=cS(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,a=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function mg(r){r._valueTracker||(r._valueTracker=TD(r))}function hS(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=cS(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function gg(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ey(r,e){var t=e.checked;return Jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function dS(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=il(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pS(r,e){e=e.checked,e!=null&&hy(r,"checked",e,!1)}function Sy(r,e){pS(r,e);var t=il(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?My(r,e.type,t):e.hasOwnProperty("defaultValue")&&My(r,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function mS(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function My(r,e,t){(e!=="number"||gg(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}function AD(r){var e="";return fg.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}function Ty(r,e){return r=Jn({children:void 0},e),(e=AD(e.children))&&(r.children=e),r}function Ec(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+il(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function Ay(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(vt(91));return Jn({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function gS(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(vt(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(vt(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:il(t)}}function vS(r,e){var t=il(e.value),n=il(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function _S(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}var Cy={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function yS(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ry(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?yS(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var vg,xS=function(r){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!==Cy.svg||"innerHTML"in r)r.innerHTML=e;else{for(vg=vg||document.createElement("div"),vg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vg.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Qd(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Kd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CD=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(r){CD.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Kd[e]=Kd[r]})});function wS(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Kd.hasOwnProperty(r)&&Kd[r]?(""+e).trim():e+"px"}function bS(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=wS(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var RD=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ly(r,e){if(e){if(RD[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(vt(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(vt(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(vt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(vt(62))}}function Py(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Iy(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Dy=null,Sc=null,Mc=null;function ES(r){if(r=gp(r)){if(typeof Dy!="function")throw Error(vt(280));var e=r.stateNode;e&&(e=Bg(e),Dy(r.stateNode,r.type,e))}}function SS(r){Sc?Mc?Mc.push(r):Mc=[r]:Sc=r}function MS(){if(Sc){var r=Sc,e=Mc;if(Mc=Sc=null,ES(r),e)for(r=0;r<e.length;r++)ES(e[r])}}function Oy(r,e){return r(e)}function TS(r,e,t,n,i){return r(e,t,n,i)}function Ny(){}var AS=Oy,ku=!1,ky=!1;function Fy(){(Sc!==null||Mc!==null)&&(Ny(),MS())}function LD(r,e,t){if(ky)return r(e,t);ky=!0;try{return AS(r,e,t)}finally{ky=!1,Fy()}}function $d(r,e){var t=r.stateNode;if(t===null)return null;var n=Bg(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(vt(231,e,typeof t));return t}var By=!1;if(fs)try{Tc={},Object.defineProperty(Tc,"passive",{get:function(){By=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{By=!1}var Tc;function PD(r,e,t,n,i,a,o,l,c){var g=Array.prototype.slice.call(arguments,3);try{e.apply(t,g)}catch(m){this.onError(m)}}var ep=!1,_g=null,yg=!1,zy=null,ID={onError:function(r){ep=!0,_g=r}};function DD(r,e,t,n,i,a,o,l,c){ep=!1,_g=null,PD.apply(ID,arguments)}function OD(r,e,t,n,i,a,o,l,c){if(DD.apply(this,arguments),ep){if(ep){var g=_g;ep=!1,_g=null}else throw Error(vt(198));yg||(yg=!0,zy=g)}}function Fu(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,(e.flags&1026)!=0&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function CS(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function RS(r){if(Fu(r)!==r)throw Error(vt(188))}function ND(r){var e=r.alternate;if(!e){if(e=Fu(r),e===null)throw Error(vt(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return RS(i),r;if(a===n)return RS(i),e;a=a.sibling}throw Error(vt(188))}if(t.return!==n.return)t=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,n=a;break}if(l===n){o=!0,n=i,t=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===t){o=!0,t=a,n=i;break}if(l===n){o=!0,n=a,t=i;break}l=l.sibling}if(!o)throw Error(vt(189))}}if(t.alternate!==n)throw Error(vt(190))}if(t.tag!==3)throw Error(vt(188));return t.stateNode.current===t?r:e}function LS(r){if(r=ND(r),!r)return null;for(var e=r;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===r)break;for(;!e.sibling;){if(!e.return||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function PS(r,e){for(var t=r.alternate;e!==null;){if(e===r||e===t)return!0;e=e.return}return!1}var IS,Uy,DS,OS,Hy=!1,vo=[],al=null,ol=null,sl=null,tp=new Map,np=new Map,rp=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(r,e,t,n,i){return{blockedOn:r,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[n]}}function kS(r,e){switch(r){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(e.pointerId)}}function ip(r,e,t,n,i,a){return r===null||r.nativeEvent!==a?(r=Gy(e,t,n,i,a),e!==null&&(e=gp(e),e!==null&&Uy(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function kD(r,e,t,n,i){switch(e){case"focusin":return al=ip(al,r,e,t,n,i),!0;case"dragenter":return ol=ip(ol,r,e,t,n,i),!0;case"mouseover":return sl=ip(sl,r,e,t,n,i),!0;case"pointerover":var a=i.pointerId;return tp.set(a,ip(tp.get(a)||null,r,e,t,n,i)),!0;case"gotpointercapture":return a=i.pointerId,np.set(a,ip(np.get(a)||null,r,e,t,n,i)),!0}return!1}function FD(r){var e=Bu(r.target);if(e!==null){var t=Fu(e);if(t!==null){if(e=t.tag,e===13){if(e=CS(t),e!==null){r.blockedOn=e,OS(r.lanePriority,function(){Nr.unstable_runWithPriority(r.priority,function(){DS(t)})});return}}else if(e===3&&t.stateNode.hydrate){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xg(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Yy(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t!==null)return e=gp(t),e!==null&&Uy(e),r.blockedOn=t,!1;e.shift()}return!0}function FS(r,e,t){xg(r)&&t.delete(e)}function BD(){for(Hy=!1;0<vo.length;){var r=vo[0];if(r.blockedOn!==null){r=gp(r.blockedOn),r!==null&&IS(r);break}for(var e=r.targetContainers;0<e.length;){var t=Yy(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t!==null){r.blockedOn=t;break}e.shift()}r.blockedOn===null&&vo.shift()}al!==null&&xg(al)&&(al=null),ol!==null&&xg(ol)&&(ol=null),sl!==null&&xg(sl)&&(sl=null),tp.forEach(FS),np.forEach(FS)}function ap(r,e){r.blockedOn===e&&(r.blockedOn=null,Hy||(Hy=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,BD)))}function BS(r){function e(i){return ap(i,r)}if(0<vo.length){ap(vo[0],r);for(var t=1;t<vo.length;t++){var n=vo[t];n.blockedOn===r&&(n.blockedOn=null)}}for(al!==null&&ap(al,r),ol!==null&&ap(ol,r),sl!==null&&ap(sl,r),tp.forEach(e),np.forEach(e),t=0;t<rp.length;t++)n=rp[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<rp.length&&(t=rp[0],t.blockedOn===null);)FD(t),t.blockedOn===null&&rp.shift()}function wg(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Ac={animationend:wg("Animation","AnimationEnd"),animationiteration:wg("Animation","AnimationIteration"),animationstart:wg("Animation","AnimationStart"),transitionend:wg("Transition","TransitionEnd")},Wy={},zS={};fs&&(zS=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function bg(r){if(Wy[r])return Wy[r];if(!Ac[r])return r;var e=Ac[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in zS)return Wy[r]=e[t];return r}var US=bg("animationend"),HS=bg("animationiteration"),GS=bg("animationstart"),WS=bg("transitionend"),VS=new Map,Vy=new Map,zD=["abort","abort",US,"animationEnd",HS,"animationIteration",GS,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",WS,"transitionEnd","waiting","waiting"];function jy(r,e){for(var t=0;t<r.length;t+=2){var n=r[t],i=r[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Vy.set(n,e),VS.set(n,i),Du(i,[n])}}var UD=Nr.unstable_now;UD();var Hn=8;function Cc(r){if((1&r)!=0)return Hn=15,1;if((2&r)!=0)return Hn=14,2;if((4&r)!=0)return Hn=13,4;var e=24&r;return e!==0?(Hn=12,e):(r&32)!=0?(Hn=11,32):(e=192&r,e!==0?(Hn=10,e):(r&256)!=0?(Hn=9,256):(e=3584&r,e!==0?(Hn=8,e):(r&4096)!=0?(Hn=7,4096):(e=4186112&r,e!==0?(Hn=6,e):(e=62914560&r,e!==0?(Hn=5,e):r&67108864?(Hn=4,67108864):(r&134217728)!=0?(Hn=3,134217728):(e=805306368&r,e!==0?(Hn=2,e):(1073741824&r)!=0?(Hn=1,1073741824):(Hn=8,r))))))}function HD(r){switch(r){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function GD(r){switch(r){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(vt(358,r))}}function op(r,e){var t=r.pendingLanes;if(t===0)return Hn=0;var n=0,i=0,a=r.expiredLanes,o=r.suspendedLanes,l=r.pingedLanes;if(a!==0)n=a,i=Hn=15;else if(a=t&134217727,a!==0){var c=a&~o;c!==0?(n=Cc(c),i=Hn):(l&=a,l!==0&&(n=Cc(l),i=Hn))}else a=t&~o,a!==0?(n=Cc(a),i=Hn):l!==0&&(n=Cc(l),i=Hn);if(n===0)return 0;if(n=31-ll(n),n=t&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&o)==0){if(Cc(e),i<=Hn)return e;Hn=i}if(e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-ll(e),i=1<<t,n|=r[t],e&=~i;return n}function jS(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Eg(r,e){switch(r){case 15:return 1;case 14:return 2;case 12:return r=Rc(24&~e),r===0?Eg(10,e):r;case 10:return r=Rc(192&~e),r===0?Eg(8,e):r;case 8:return r=Rc(3584&~e),r===0&&(r=Rc(4186112&~e),r===0&&(r=512)),r;case 2:return e=Rc(805306368&~e),e===0&&(e=268435456),e}throw Error(vt(358,r))}function Rc(r){return r&-r}function Zy(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Sg(r,e,t){r.pendingLanes|=e;var n=e-1;r.suspendedLanes&=n,r.pingedLanes&=n,r=r.eventTimes,e=31-ll(e),r[e]=t}var ll=Math.clz32?Math.clz32:jD,WD=Math.log,VD=Math.LN2;function jD(r){return r===0?32:31-(WD(r)/VD|0)|0}var ZD=Nr.unstable_UserBlockingPriority,XD=Nr.unstable_runWithPriority,Mg=!0;function YD(r,e,t,n){ku||Ny();var i=Xy,a=ku;ku=!0;try{TS(i,r,e,t,n)}finally{(ku=a)||Fy()}}function qD(r,e,t,n){XD(ZD,Xy.bind(null,r,e,t,n))}function Xy(r,e,t,n){if(Mg){var i;if((i=(e&4)==0)&&0<vo.length&&-1<NS.indexOf(r))r=Gy(null,r,e,t,n),vo.push(r);else{var a=Yy(r,e,t,n);if(a===null)i&&kS(r,n);else{if(i){if(-1<NS.indexOf(r)){r=Gy(a,r,e,t,n),vo.push(r);return}if(kD(a,r,e,t,n))return;kS(r,n)}yM(r,e,n,null,t)}}}}function Yy(r,e,t,n){var i=Iy(n);if(i=Bu(i),i!==null){var a=Fu(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=CS(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return yM(r,e,n,i,t),null}var ul=null,qy=null,Tg=null;function ZS(){if(Tg)return Tg;var r,e=qy,t=e.length,n,i="value"in ul?ul.value:ul.textContent,a=i.length;for(r=0;r<t&&e[r]===i[r];r++);var o=t-r;for(n=1;n<=o&&e[t-n]===i[a-n];n++);return Tg=i.slice(r,1<n?1-n:void 0)}function Ag(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Cg(){return!0}function XS(){return!1}function Zi(r){function e(t,n,i,a,o){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cg:XS,this.isPropagationStopped=XS,this}return Jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cg)},persist:function(){},isPersistent:Cg}),e}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=Zi(Lc),sp=Jn({},Lc,{view:0,detail:0}),JD=Zi(sp),Qy,Ky,lp,Rg=Jn({},sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ex,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lp&&(lp&&r.type==="mousemove"?(Qy=r.screenX-lp.screenX,Ky=r.screenY-lp.screenY):Ky=Qy=0,lp=r),Qy)},movementY:function(r){return"movementY"in r?r.movementY:Ky}}),YS=Zi(Rg),QD=Jn({},Rg,{dataTransfer:0}),KD=Zi(QD),$D=Jn({},sp,{relatedTarget:0}),$y=Zi($D),e6=Jn({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),t6=Zi(e6),n6=Jn({},Lc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),r6=Zi(n6),i6=Jn({},Lc,{data:0}),qS=Zi(i6),a6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l6(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=s6[r])?!!e[r]:!1}function ex(){return l6}var u6=Jn({},sp,{key:function(r){if(r.key){var e=a6[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Ag(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?o6[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ex,charCode:function(r){return r.type==="keypress"?Ag(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ag(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),f6=Zi(u6),c6=Jn({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JS=Zi(c6),h6=Jn({},sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ex}),d6=Zi(h6),p6=Jn({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),m6=Zi(p6),g6=Jn({},Rg,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),v6=Zi(g6),_6=[9,13,27,32],tx=fs&&"CompositionEvent"in window,up=null;fs&&"documentMode"in document&&(up=document.documentMode);var y6=fs&&"TextEvent"in window&&!up,QS=fs&&(!tx||up&&8<up&&11>=up),KS=String.fromCharCode(32),$S=!1;function eM(r,e){switch(r){case"keyup":return _6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tM(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Pc=!1;function x6(r,e){switch(r){case"compositionend":return tM(e);case"keypress":return e.which!==32?null:($S=!0,KS);case"textInput":return r=e.data,r===KS&&$S?null:r;default:return null}}function w6(r,e){if(Pc)return r==="compositionend"||!tx&&eM(r,e)?(r=ZS(),Tg=qy=ul=null,Pc=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QS&&e.locale!=="ko"?null:e.data;default:return null}}var b6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nM(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!b6[r.type]:e==="textarea"}function rM(r,e,t,n){SS(n),e=Og(e,"onChange"),0<e.length&&(t=new Jy("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var fp=null,cp=null;function E6(r){pM(r,0)}function Lg(r){var e=kc(r);if(hS(e))return r}function S6(r,e){if(r==="change")return e}var iM=!1;fs&&(fs?(Ig="oninput"in document,Ig||(nx=document.createElement("div"),nx.setAttribute("oninput","return;"),Ig=typeof nx.oninput=="function"),Pg=Ig):Pg=!1,iM=Pg&&(!document.documentMode||9<document.documentMode));var Pg,Ig,nx;function aM(){fp&&(fp.detachEvent("onpropertychange",oM),cp=fp=null)}function oM(r){if(r.propertyName==="value"&&Lg(cp)){var e=[];if(rM(e,cp,r,Iy(r)),r=E6,ku)r(e);else{ku=!0;try{Oy(r,e)}finally{ku=!1,Fy()}}}}function M6(r,e,t){r==="focusin"?(aM(),fp=e,cp=t,fp.attachEvent("onpropertychange",oM)):r==="focusout"&&aM()}function T6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lg(cp)}function A6(r,e){if(r==="click")return Lg(e)}function C6(r,e){if(r==="input"||r==="change")return Lg(e)}function R6(r,e){return r===e&&(r!==0||1/r==1/e)||r!==r&&e!==e}var ga=typeof Object.is=="function"?Object.is:R6,L6=Object.prototype.hasOwnProperty;function hp(r,e){if(ga(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++)if(!L6.call(e,t[n])||!ga(r[t[n]],e[t[n]]))return!1;return!0}function sM(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lM(r,e){var t=sM(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sM(t)}}function uM(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?uM(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function fM(){for(var r=window,e=gg();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=gg(r.document)}return e}function rx(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}var P6=fs&&"documentMode"in document&&11>=document.documentMode,Ic=null,ix=null,dp=null,ax=!1;function cM(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ax||Ic==null||Ic!==gg(n)||(n=Ic,"selectionStart"in n&&rx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dp&&hp(dp,n)||(dp=n,n=Og(ix,"onSelect"),0<n.length&&(e=new Jy("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=Ic)))}jy("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);jy("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);jy(zD,2);for(ox="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Dg=0;Dg<ox.length;Dg++)Vy.set(ox[Dg],0);var ox,Dg;wc("onMouseEnter",["mouseout","mouseover"]);wc("onMouseLeave",["mouseout","mouseover"]);wc("onPointerEnter",["pointerout","pointerover"]);wc("onPointerLeave",["pointerout","pointerover"]);Du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Du("onBeforeInput",["compositionend","keypress","textInput","paste"]);Du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hM=new Set("cancel close invalid load scroll toggle".split(" ").concat(pp));function dM(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,OD(n,e,void 0,r),r.currentTarget=null}function pM(r,e){e=(e&4)!=0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,g=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;dM(i,l,g),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,g=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;dM(i,l,g),a=c}}}if(yg)throw r=zy,yg=!1,zy=null,r}function Xn(r,e){var t=MM(e),n=r+"__bubble";t.has(n)||(_M(e,r,2,!1),t.add(n))}var mM="_reactListening"+Math.random().toString(36).slice(2);function gM(r){r[mM]||(r[mM]=!0,aS.forEach(function(e){hM.has(e)||vM(e,!1,r,null),vM(e,!0,r,null)}))}function vM(r,e,t,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=t;if(r==="selectionchange"&&t.nodeType!==9&&(a=t.ownerDocument),n!==null&&!e&&hM.has(r)){if(r!=="scroll")return;i|=2,a=n}var o=MM(a),l=r+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),_M(a,r,i,e),o.add(l))}function _M(r,e,t,n){var i=Vy.get(e);switch(i===void 0?2:i){case 0:i=YD;break;case 1:i=qD;break;default:i=Xy}t=i.bind(null,e,t,r),i=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function yM(r,e,t,n,i){var a=n;if((e&1)==0&&(e&2)==0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Bu(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}LD(function(){var g=a,m=Iy(t),d=[];e:{var u=VS.get(r);if(u!==void 0){var f=Jy,s=r;switch(r){case"keypress":if(Ag(t)===0)break e;case"keydown":case"keyup":f=f6;break;case"focusin":s="focus",f=$y;break;case"focusout":s="blur",f=$y;break;case"beforeblur":case"afterblur":f=$y;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=YS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=d6;break;case US:case HS:case GS:f=t6;break;case WS:f=m6;break;case"scroll":f=JD;break;case"wheel":f=v6;break;case"copy":case"cut":case"paste":f=r6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=JS}var v=(e&4)!=0,x=!v&&r==="scroll",h=v?u!==null?u+"Capture":null:u;v=[];for(var p=g,_;p!==null;){_=p;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,h!==null&&(w=$d(p,h),w!=null&&v.push(mp(p,w,_)))),x)break;p=p.return}0<v.length&&(u=new f(u,s,null,t,m),d.push({event:u,listeners:v}))}}if((e&7)==0){e:{if(u=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",u&&(e&16)==0&&(s=t.relatedTarget||t.fromElement)&&(Bu(s)||s[Nc]))break e;if((f||u)&&(u=m.window===m?m:(u=m.ownerDocument)?u.defaultView||u.parentWindow:window,f?(s=t.relatedTarget||t.toElement,f=g,s=s?Bu(s):null,s!==null&&(x=Fu(s),s!==x||s.tag!==5&&s.tag!==6)&&(s=null)):(f=null,s=g),f!==s)){if(v=YS,w="onMouseLeave",h="onMouseEnter",p="mouse",(r==="pointerout"||r==="pointerover")&&(v=JS,w="onPointerLeave",h="onPointerEnter",p="pointer"),x=f==null?u:kc(f),_=s==null?u:kc(s),u=new v(w,p+"leave",f,t,m),u.target=x,u.relatedTarget=_,w=null,Bu(m)===g&&(v=new v(h,p+"enter",s,t,m),v.target=_,v.relatedTarget=x,w=v),x=w,f&&s)t:{for(v=f,h=s,p=0,_=v;_;_=Dc(_))p++;for(_=0,w=h;w;w=Dc(w))_++;for(;0<p-_;)v=Dc(v),p--;for(;0<_-p;)h=Dc(h),_--;for(;p--;){if(v===h||h!==null&&v===h.alternate)break t;v=Dc(v),h=Dc(h)}v=null}else v=null;f!==null&&xM(d,u,f,v,!1),s!==null&&x!==null&&xM(d,x,s,v,!0)}}e:{if(u=g?kc(g):window,f=u.nodeName&&u.nodeName.toLowerCase(),f==="select"||f==="input"&&u.type==="file")var E=S6;else if(nM(u))if(iM)E=C6;else{E=T6;var A=M6}else(f=u.nodeName)&&f.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(E=A6);if(E&&(E=E(r,g))){rM(d,E,t,m);break e}A&&A(r,u,g),r==="focusout"&&(A=u._wrapperState)&&A.controlled&&u.type==="number"&&My(u,"number",u.value)}switch(A=g?kc(g):window,r){case"focusin":(nM(A)||A.contentEditable==="true")&&(Ic=A,ix=g,dp=null);break;case"focusout":dp=ix=Ic=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":ax=!1,cM(d,t,m);break;case"selectionchange":if(P6)break;case"keydown":case"keyup":cM(d,t,m)}var T;if(tx)e:{switch(r){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pc?eM(r,t)&&(C="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(QS&&t.locale!=="ko"&&(Pc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pc&&(T=ZS()):(ul=m,qy="value"in ul?ul.value:ul.textContent,Pc=!0)),A=Og(g,C),0<A.length&&(C=new qS(C,r,null,t,m),d.push({event:C,listeners:A}),T?C.data=T:(T=tM(t),T!==null&&(C.data=T)))),(T=y6?x6(r,t):w6(r,t))&&(g=Og(g,"onBeforeInput"),0<g.length&&(m=new qS("onBeforeInput","beforeinput",null,t,m),d.push({event:m,listeners:g}),m.data=T))}pM(d,e)})}function mp(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Og(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$d(r,t),a!=null&&n.unshift(mp(r,a,i)),a=$d(r,e),a!=null&&n.push(mp(r,a,i))),r=r.return}return n}function Dc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xM(r,e,t,n,i){for(var a=e._reactName,o=[];t!==null&&t!==n;){var l=t,c=l.alternate,g=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&g!==null&&(l=g,i?(c=$d(t,a),c!=null&&o.unshift(mp(t,c,l))):i||(c=$d(t,a),c!=null&&o.push(mp(t,c,l)))),t=t.return}o.length!==0&&r.push({event:e,listeners:o})}function Ng(){}var sx=null,lx=null;function wM(r,e){switch(r){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function ux(r,e){return r==="textarea"||r==="option"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bM=typeof setTimeout=="function"?setTimeout:void 0,I6=typeof clearTimeout=="function"?clearTimeout:void 0;function fx(r){r.nodeType===1?r.textContent="":r.nodeType===9&&(r=r.body,r!=null&&(r.textContent=""))}function Oc(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break}return r}function EM(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var cx=0;function D6(r){return{$$typeof:_y,toString:r,valueOf:r}}var kg=Math.random().toString(36).slice(2),fl="__reactFiber$"+kg,Fg="__reactProps$"+kg,Nc="__reactContainer$"+kg,SM="__reactEvents$"+kg;function Bu(r){var e=r[fl];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Nc]||t[fl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=EM(r);r!==null;){if(t=r[fl])return t;r=EM(r)}return e}r=t,t=r.parentNode}return null}function gp(r){return r=r[fl]||r[Nc],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function kc(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(vt(33))}function Bg(r){return r[Fg]||null}function MM(r){var e=r[SM];return e===void 0&&(e=r[SM]=new Set),e}var hx=[],Fc=-1;function cl(r){return{current:r}}function Yn(r){0>Fc||(r.current=hx[Fc],hx[Fc]=null,Fc--)}function ur(r,e){Fc++,hx[Fc]=r.current,r.current=e}var hl={},oi=cl(hl),Oi=cl(!1),zu=hl;function Bc(r,e){var t=r.type.contextTypes;if(!t)return hl;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in t)i[a]=e[a];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Ni(r){return r=r.childContextTypes,r!=null}function zg(){Yn(Oi),Yn(oi)}function TM(r,e,t){if(oi.current!==hl)throw Error(vt(168));ur(oi,e),ur(Oi,t)}function AM(r,e,t){var n=r.stateNode;if(r=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in r))throw Error(vt(108,bc(e)||"Unknown",i));return Jn({},t,n)}function Ug(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hl,zu=oi.current,ur(oi,r),ur(Oi,Oi.current),!0}function CM(r,e,t){var n=r.stateNode;if(!n)throw Error(vt(169));t?(r=AM(r,e,zu),n.__reactInternalMemoizedMergedChildContext=r,Yn(Oi),Yn(oi),ur(oi,r)):Yn(Oi),ur(Oi,t)}var dx=null,Uu=null,O6=Nr.unstable_runWithPriority,px=Nr.unstable_scheduleCallback,mx=Nr.unstable_cancelCallback,N6=Nr.unstable_shouldYield,RM=Nr.unstable_requestPaint,gx=Nr.unstable_now,k6=Nr.unstable_getCurrentPriorityLevel,Hg=Nr.unstable_ImmediatePriority,LM=Nr.unstable_UserBlockingPriority,PM=Nr.unstable_NormalPriority,IM=Nr.unstable_LowPriority,DM=Nr.unstable_IdlePriority,vx={},F6=RM!==void 0?RM:function(){},cs=null,Gg=null,_x=!1,OM=gx(),si=1e4>OM?gx:function(){return gx()-OM};function zc(){switch(k6()){case Hg:return 99;case LM:return 98;case PM:return 97;case IM:return 96;case DM:return 95;default:throw Error(vt(332))}}function NM(r){switch(r){case 99:return Hg;case 98:return LM;case 97:return PM;case 96:return IM;case 95:return DM;default:throw Error(vt(332))}}function Hu(r,e){return r=NM(r),O6(r,e)}function vp(r,e,t){return r=NM(r),px(r,e,t)}function _o(){if(Gg!==null){var r=Gg;Gg=null,mx(r)}kM()}function kM(){if(!_x&&cs!==null){_x=!0;var r=0;try{var e=cs;Hu(99,function(){for(;r<e.length;r++){var t=e[r];do t=t(!0);while(t!==null)}}),cs=null}catch(t){throw cs!==null&&(cs=cs.slice(r+1)),px(Hg,_o),t}finally{_x=!1}}}var B6=Ou.ReactCurrentBatchConfig;function Wa(r,e){if(r&&r.defaultProps){e=Jn({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}var Wg=cl(null),Vg=null,Uc=null,jg=null;function yx(){jg=Uc=Vg=null}function xx(r){var e=Wg.current;Yn(Wg),r.type._context._currentValue=e}function FM(r,e){for(;r!==null;){var t=r.alternate;if((r.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else r.childLanes|=e,t!==null&&(t.childLanes|=e);r=r.return}}function Hc(r,e){Vg=r,jg=Uc=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&e)!=0&&(Va=!0),r.firstContext=null)}function va(r,e){if(jg!==r&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(jg=r,e=1073741823),e={context:r,observedBits:e,next:null},Uc===null){if(Vg===null)throw Error(vt(308));Uc=e,Vg.dependencies={lanes:0,firstContext:e,responders:null}}else Uc=Uc.next=e;return r._currentValue}var dl=!1;function wx(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function BM(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pl(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function ml(r,e){if(r=r.updateQueue,r!==null){r=r.shared;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}}function zM(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?i=a=o:a=a.next=o,t=t.next}while(t!==null);a===null?i=a=e:a=a.next=e}else i=a=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function _p(r,e,t,n){var i=r.updateQueue;dl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,g=c.next;c.next=null,o===null?a=g:o.next=g,o=c;var m=r.alternate;if(m!==null){m=m.updateQueue;var d=m.lastBaseUpdate;d!==o&&(d===null?m.firstBaseUpdate=g:d.next=g,m.lastBaseUpdate=c)}}if(a!==null){d=i.baseState,o=0,m=g=c=null;do{l=a.lane;var u=a.eventTime;if((n&l)===l){m!==null&&(m=m.next={eventTime:u,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=r,s=a;switch(l=e,u=t,s.tag){case 1:if(f=s.payload,typeof f=="function"){d=f.call(u,d,l);break e}d=f;break e;case 3:f.flags=f.flags&-4097|64;case 0:if(f=s.payload,l=typeof f=="function"?f.call(u,d,l):f,l==null)break e;d=Jn({},d,l);break e;case 2:dl=!0}}a.callback!==null&&(r.flags|=32,l=i.effects,l===null?i.effects=[a]:l.push(a))}else u={eventTime:u,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(g=m=u,c=d):m=m.next=u,o|=l;if(a=a.next,a===null){if(l=i.shared.pending,l===null)break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);m===null&&(c=d),i.baseState=c,i.firstBaseUpdate=g,i.lastBaseUpdate=m,Lp|=o,r.lanes=o,r.memoizedState=d}}function UM(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(vt(191,i));i.call(n)}}}var HM=new fg.Component().refs;function Zg(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:Jn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Xg={isMounted:function(r){return(r=r._reactInternals)?Fu(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Xi(),i=_l(r),a=pl(n,i);a.payload=e,t!=null&&(a.callback=t),ml(r,a),yl(r,i,n)},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Xi(),i=_l(r),a=pl(n,i);a.tag=1,a.payload=e,t!=null&&(a.callback=t),ml(r,a),yl(r,i,n)},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Xi(),n=_l(r),i=pl(t,n);i.tag=2,e!=null&&(i.callback=e),ml(r,i),yl(r,n,t)}};function GM(r,e,t,n,i,a,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!hp(t,n)||!hp(i,a):!0}function WM(r,e,t){var n=!1,i=hl,a=e.contextType;return typeof a=="object"&&a!==null?a=va(a):(i=Ni(e)?zu:oi.current,n=e.contextTypes,a=(n=n!=null)?Bc(r,i):hl),e=new e(t,a),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xg,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=a),e}function VM(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Xg.enqueueReplaceState(e,e.state,null)}function bx(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs=HM,wx(r);var a=e.contextType;typeof a=="object"&&a!==null?i.context=va(a):(a=Ni(e)?zu:oi.current,i.context=Bc(r,a)),_p(r,t,i,n),i.state=r.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Zg(r,e,a,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xg.enqueueReplaceState(i,i.state,null),_p(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4)}var Yg=Array.isArray;function yp(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(vt(309));var n=t.stateNode}if(!n)throw Error(vt(147,r));var i=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===HM&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof r!="string")throw Error(vt(284));if(!t._owner)throw Error(vt(290,r))}return r}function qg(r,e){if(r.type!=="textarea")throw Error(vt(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function jM(r){function e(x,h){if(r){var p=x.lastEffect;p!==null?(p.nextEffect=h,x.lastEffect=h):x.firstEffect=x.lastEffect=h,h.nextEffect=null,h.flags=8}}function t(x,h){if(!r)return null;for(;h!==null;)e(x,h),h=h.sibling;return null}function n(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function i(x,h){return x=bl(x,h),x.index=0,x.sibling=null,x}function a(x,h,p){return x.index=p,r?(p=x.alternate,p!==null?(p=p.index,p<h?(x.flags=2,h):p):(x.flags=2,h)):h}function o(x){return r&&x.alternate===null&&(x.flags=2),x}function l(x,h,p,_){return h===null||h.tag!==6?(h=iw(p,x.mode,_),h.return=x,h):(h=i(h,p),h.return=x,h)}function c(x,h,p,_){return h!==null&&h.elementType===p.type?(_=i(h,p.props),_.ref=yp(x,h,p),_.return=x,_):(_=dv(p.type,p.key,p.props,null,x.mode,_),_.ref=yp(x,h,p),_.return=x,_)}function g(x,h,p,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=aw(p,x.mode,_),h.return=x,h):(h=i(h,p.children||[]),h.return=x,h)}function m(x,h,p,_,w){return h===null||h.tag!==7?(h=qc(p,x.mode,_,w),h.return=x,h):(h=i(h,p),h.return=x,h)}function d(x,h,p){if(typeof h=="string"||typeof h=="number")return h=iw(""+h,x.mode,p),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Zd:return p=dv(h.type,h.key,h.props,null,x.mode,p),p.ref=yp(x,null,h),p.return=x,p;case Nu:return h=aw(h,x.mode,p),h.return=x,h}if(Yg(h)||qd(h))return h=qc(h,x.mode,p,null),h.return=x,h;qg(x,h)}return null}function u(x,h,p,_){var w=h!==null?h.key:null;if(typeof p=="string"||typeof p=="number")return w!==null?null:l(x,h,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zd:return p.key===w?p.type===rl?m(x,h,p.props.children,_,w):c(x,h,p,_):null;case Nu:return p.key===w?g(x,h,p,_):null}if(Yg(p)||qd(p))return w!==null?null:m(x,h,p,_,null);qg(x,p)}return null}function f(x,h,p,_,w){if(typeof _=="string"||typeof _=="number")return x=x.get(p)||null,l(h,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zd:return x=x.get(_.key===null?p:_.key)||null,_.type===rl?m(h,x,_.props.children,w,_.key):c(h,x,_,w);case Nu:return x=x.get(_.key===null?p:_.key)||null,g(h,x,_,w)}if(Yg(_)||qd(_))return x=x.get(p)||null,m(h,x,_,w,null);qg(h,_)}return null}function s(x,h,p,_){for(var w=null,E=null,A=h,T=h=0,C=null;A!==null&&T<p.length;T++){A.index>T?(C=A,A=null):C=A.sibling;var R=u(x,A,p[T],_);if(R===null){A===null&&(A=C);break}r&&A&&R.alternate===null&&e(x,A),h=a(R,h,T),E===null?w=R:E.sibling=R,E=R,A=C}if(T===p.length)return t(x,A),w;if(A===null){for(;T<p.length;T++)A=d(x,p[T],_),A!==null&&(h=a(A,h,T),E===null?w=A:E.sibling=A,E=A);return w}for(A=n(x,A);T<p.length;T++)C=f(A,x,T,p[T],_),C!==null&&(r&&C.alternate!==null&&A.delete(C.key===null?T:C.key),h=a(C,h,T),E===null?w=C:E.sibling=C,E=C);return r&&A.forEach(function(D){return e(x,D)}),w}function v(x,h,p,_){var w=qd(p);if(typeof w!="function")throw Error(vt(150));if(p=w.call(p),p==null)throw Error(vt(151));for(var E=w=null,A=h,T=h=0,C=null,R=p.next();A!==null&&!R.done;T++,R=p.next()){A.index>T?(C=A,A=null):C=A.sibling;var D=u(x,A,R.value,_);if(D===null){A===null&&(A=C);break}r&&A&&D.alternate===null&&e(x,A),h=a(D,h,T),E===null?w=D:E.sibling=D,E=D,A=C}if(R.done)return t(x,A),w;if(A===null){for(;!R.done;T++,R=p.next())R=d(x,R.value,_),R!==null&&(h=a(R,h,T),E===null?w=R:E.sibling=R,E=R);return w}for(A=n(x,A);!R.done;T++,R=p.next())R=f(A,x,T,R.value,_),R!==null&&(r&&R.alternate!==null&&A.delete(R.key===null?T:R.key),h=a(R,h,T),E===null?w=R:E.sibling=R,E=R);return r&&A.forEach(function(O){return e(x,O)}),w}return function(x,h,p,_){var w=typeof p=="object"&&p!==null&&p.type===rl&&p.key===null;w&&(p=p.props.children);var E=typeof p=="object"&&p!==null;if(E)switch(p.$$typeof){case Zd:e:{for(E=p.key,w=h;w!==null;){if(w.key===E){switch(w.tag){case 7:if(p.type===rl){t(x,w.sibling),h=i(w,p.props.children),h.return=x,x=h;break e}break;default:if(w.elementType===p.type){t(x,w.sibling),h=i(w,p.props),h.ref=yp(x,w,p),h.return=x,x=h;break e}}t(x,w);break}else e(x,w);w=w.sibling}p.type===rl?(h=qc(p.props.children,x.mode,_,p.key),h.return=x,x=h):(_=dv(p.type,p.key,p.props,null,x.mode,_),_.ref=yp(x,h,p),_.return=x,x=_)}return o(x);case Nu:e:{for(w=p.key;h!==null;){if(h.key===w)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){t(x,h.sibling),h=i(h,p.children||[]),h.return=x,x=h;break e}else{t(x,h);break}else e(x,h);h=h.sibling}h=aw(p,x.mode,_),h.return=x,x=h}return o(x)}if(typeof p=="string"||typeof p=="number")return p=""+p,h!==null&&h.tag===6?(t(x,h.sibling),h=i(h,p),h.return=x,x=h):(t(x,h),h=iw(p,x.mode,_),h.return=x,x=h),o(x);if(Yg(p))return s(x,h,p,_);if(qd(p))return v(x,h,p,_);if(E&&qg(x,p),typeof p=="undefined"&&!w)switch(x.tag){case 1:case 22:case 0:case 11:case 15:throw Error(vt(152,bc(x.type)||"Component"))}return t(x,h)}}var Jg=jM(!0),ZM=jM(!1),xp={},yo=cl(xp),wp=cl(xp),bp=cl(xp);function Gu(r){if(r===xp)throw Error(vt(174));return r}function Ex(r,e){switch(ur(bp,e),ur(wp,r),ur(yo,xp),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ry(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Ry(e,r)}Yn(yo),ur(yo,e)}function Gc(){Yn(yo),Yn(wp),Yn(bp)}function XM(r){Gu(bp.current);var e=Gu(yo.current),t=Ry(e,r.type);e!==t&&(ur(wp,r),ur(yo,t))}function Sx(r){wp.current===r&&(Yn(yo),Yn(wp))}var fr=cl(0);function Qg(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hs=null,gl=null,xo=!1;function YM(r,e){var t=xa(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=r,t.flags=8,r.lastEffect!==null?(r.lastEffect.nextEffect=t,r.lastEffect=t):r.firstEffect=r.lastEffect=t}function qM(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Mx(r){if(xo){var e=gl;if(e){var t=e;if(!qM(r,e)){if(e=Oc(t.nextSibling),!e||!qM(r,e)){r.flags=r.flags&-1025|2,xo=!1,hs=r;return}YM(hs,t)}hs=r,gl=Oc(e.firstChild)}else r.flags=r.flags&-1025|2,xo=!1,hs=r}}function JM(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;hs=r}function Kg(r){if(r!==hs)return!1;if(!xo)return JM(r),xo=!0,!1;var e=r.type;if(r.tag!==5||e!=="head"&&e!=="body"&&!ux(e,r.memoizedProps))for(e=gl;e;)YM(r,e),e=Oc(e.nextSibling);if(JM(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(vt(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){gl=Oc(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}gl=null}}else gl=hs?Oc(r.stateNode.nextSibling):null;return!0}function Tx(){gl=hs=null,xo=!1}var Wc=[];function Ax(){for(var r=0;r<Wc.length;r++)Wc[r]._workInProgressVersionPrimary=null;Wc.length=0}var Ep=Ou.ReactCurrentDispatcher,_a=Ou.ReactCurrentBatchConfig,Sp=0,gr=null,li=null,Hr=null,$g=!1,Mp=!1;function ki(){throw Error(vt(321))}function Cx(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!ga(r[t],e[t]))return!1;return!0}function Rx(r,e,t,n,i,a){if(Sp=a,gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ep.current=r===null||r.memoizedState===null?U6:H6,r=t(n,i),Mp){a=0;do{if(Mp=!1,!(25>a))throw Error(vt(301));a+=1,Hr=li=null,e.updateQueue=null,Ep.current=G6,r=t(n,i)}while(Mp)}if(Ep.current=rv,e=li!==null&&li.next!==null,Sp=0,Hr=li=gr=null,$g=!1,e)throw Error(vt(300));return r}function Wu(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?gr.memoizedState=Hr=r:Hr=Hr.next=r,Hr}function Vu(){if(li===null){var r=gr.alternate;r=r!==null?r.memoizedState:null}else r=li.next;var e=Hr===null?gr.memoizedState:Hr.next;if(e!==null)Hr=e,li=r;else{if(r===null)throw Error(vt(310));li=r,r={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},Hr===null?gr.memoizedState=Hr=r:Hr=Hr.next=r}return Hr}function wo(r,e){return typeof e=="function"?e(r):e}function Tp(r){var e=Vu(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=r;var n=li,i=n.baseQueue,a=t.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,t.pending=null}if(i!==null){i=i.next,n=n.baseState;var l=o=a=null,c=i;do{var g=c.lane;if((Sp&g)===g)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===r?c.eagerState:r(n,c.action);else{var m={lane:g,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(o=l=m,a=n):l=l.next=m,gr.lanes|=g,Lp|=g}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,ga(n,e.memoizedState)||(Va=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}return[e.memoizedState,t.dispatch]}function Ap(r){var e=Vu(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,a=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do a=r(a,o.action),o=o.next;while(o!==i);ga(a,e.memoizedState)||(Va=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,n]}function QM(r,e,t){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?r=i===n:(r=r.mutableReadLanes,(r=(Sp&r)===r)&&(e._workInProgressVersionPrimary=n,Wc.push(e))),r)return t(e._source);throw Wc.push(e),Error(vt(350))}function KM(r,e,t,n){var i=_i;if(i===null)throw Error(vt(349));var a=e._getVersion,o=a(e._source),l=Ep.current,c=l.useState(function(){return QM(i,e,t)}),g=c[1],m=c[0];c=Hr;var d=r.memoizedState,u=d.refs,f=u.getSnapshot,s=d.source;d=d.subscribe;var v=gr;return r.memoizedState={refs:u,source:e,subscribe:n},l.useEffect(function(){u.getSnapshot=t,u.setSnapshot=g;var x=a(e._source);if(!ga(o,x)){x=t(e._source),ga(m,x)||(g(x),x=_l(v),i.mutableReadLanes|=x&i.pendingLanes),x=i.mutableReadLanes,i.entangledLanes|=x;for(var h=i.entanglements,p=x;0<p;){var _=31-ll(p),w=1<<_;h[_]|=x,p&=~w}}},[t,e,n]),l.useEffect(function(){return n(e._source,function(){var x=u.getSnapshot,h=u.setSnapshot;try{h(x(e._source));var p=_l(v);i.mutableReadLanes|=p&i.pendingLanes}catch(_){h(function(){throw _})}})},[e,n]),ga(f,t)&&ga(s,e)&&ga(d,n)||(r={pending:null,dispatch:null,lastRenderedReducer:wo,lastRenderedState:m},r.dispatch=g=Dx.bind(null,gr,r),c.queue=r,c.baseQueue=null,m=QM(i,e,t),c.memoizedState=c.baseState=m),m}function $M(r,e,t){var n=Vu();return KM(n,r,e,t)}function Cp(r){var e=Wu();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r=e.queue={pending:null,dispatch:null,lastRenderedReducer:wo,lastRenderedState:r},r=r.dispatch=Dx.bind(null,gr,r),[e.memoizedState,r]}function ev(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=gr.updateQueue,e===null?(e={lastEffect:null},gr.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function e3(r){var e=Wu();return r={current:r},e.memoizedState=r}function tv(){return Vu().memoizedState}function Lx(r,e,t,n){var i=Wu();gr.flags|=r,i.memoizedState=ev(1|e,t,void 0,n===void 0?null:n)}function Px(r,e,t,n){var i=Vu();n=n===void 0?null:n;var a=void 0;if(li!==null){var o=li.memoizedState;if(a=o.destroy,n!==null&&Cx(n,o.deps)){ev(e,t,a,n);return}}gr.flags|=r,i.memoizedState=ev(1|e,t,a,n)}function t3(r,e){return Lx(516,4,r,e)}function nv(r,e){return Px(516,4,r,e)}function n3(r,e){return Px(4,2,r,e)}function r3(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function i3(r,e,t){return t=t!=null?t.concat([r]):null,Px(4,2,r3.bind(null,e,r),t)}function Ix(){}function a3(r,e){var t=Vu();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function o3(r,e){var t=Vu();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function z6(r,e){var t=zc();Hu(98>t?98:t,function(){r(!0)}),Hu(97<t?97:t,function(){var n=_a.transition;_a.transition=1;try{r(!1),e()}finally{_a.transition=n}})}function Dx(r,e,t){var n=Xi(),i=_l(r),a={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=r.alternate,r===gr||o!==null&&o===gr)Mp=$g=!0;else{if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,t);if(a.eagerReducer=o,a.eagerState=c,ga(c,l))return}catch{}finally{}yl(r,i,n)}}var rv={readContext:va,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useOpaqueIdentifier:ki,unstable_isNewReconciler:!1},U6={readContext:va,useCallback:function(r,e){return Wu().memoizedState=[r,e===void 0?null:e],r},useContext:va,useEffect:t3,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Lx(4,2,r3.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Lx(4,2,r,e)},useMemo:function(r,e){var t=Wu();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Wu();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r=n.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},r=r.dispatch=Dx.bind(null,gr,r),[n.memoizedState,r]},useRef:e3,useState:Cp,useDebugValue:Ix,useDeferredValue:function(r){var e=Cp(r),t=e[0],n=e[1];return t3(function(){var i=_a.transition;_a.transition=1;try{n(r)}finally{_a.transition=i}},[r]),t},useTransition:function(){var r=Cp(!1),e=r[0];return r=z6.bind(null,r[1]),e3(r),[r,e]},useMutableSource:function(r,e,t){var n=Wu();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:r,subscribe:t},KM(n,r,e,t)},useOpaqueIdentifier:function(){if(xo){var r=!1,e=D6(function(){throw r||(r=!0,t("r:"+(cx++).toString(36))),Error(vt(355))}),t=Cp(e)[1];return(gr.mode&2)==0&&(gr.flags|=516,ev(5,function(){t("r:"+(cx++).toString(36))},void 0,null)),e}return e="r:"+(cx++).toString(36),Cp(e),e},unstable_isNewReconciler:!1},H6={readContext:va,useCallback:a3,useContext:va,useEffect:nv,useImperativeHandle:i3,useLayoutEffect:n3,useMemo:o3,useReducer:Tp,useRef:tv,useState:function(){return Tp(wo)},useDebugValue:Ix,useDeferredValue:function(r){var e=Tp(wo),t=e[0],n=e[1];return nv(function(){var i=_a.transition;_a.transition=1;try{n(r)}finally{_a.transition=i}},[r]),t},useTransition:function(){var r=Tp(wo)[0];return[tv().current,r]},useMutableSource:$M,useOpaqueIdentifier:function(){return Tp(wo)[0]},unstable_isNewReconciler:!1},G6={readContext:va,useCallback:a3,useContext:va,useEffect:nv,useImperativeHandle:i3,useLayoutEffect:n3,useMemo:o3,useReducer:Ap,useRef:tv,useState:function(){return Ap(wo)},useDebugValue:Ix,useDeferredValue:function(r){var e=Ap(wo),t=e[0],n=e[1];return nv(function(){var i=_a.transition;_a.transition=1;try{n(r)}finally{_a.transition=i}},[r]),t},useTransition:function(){var r=Ap(wo)[0];return[tv().current,r]},useMutableSource:$M,useOpaqueIdentifier:function(){return Ap(wo)[0]},unstable_isNewReconciler:!1},W6=Ou.ReactCurrentOwner,Va=!1;function Fi(r,e,t,n){e.child=r===null?ZM(e,null,t,n):Jg(e,r.child,t,n)}function s3(r,e,t,n,i){t=t.render;var a=e.ref;return Hc(e,i),n=Rx(r,e,t,n,a,i),r!==null&&!Va?(e.updateQueue=r.updateQueue,e.flags&=-517,r.lanes&=~i,ds(r,e,i)):(e.flags|=1,Fi(r,e,n,i),e.child)}function l3(r,e,t,n,i,a){if(r===null){var o=t.type;return typeof o=="function"&&!nw(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,u3(r,e,o,n,i,a)):(r=dv(t.type,null,n,e,e.mode,a),r.ref=e.ref,r.return=e,e.child=r)}return o=r.child,(i&a)==0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:hp,t(i,n)&&r.ref===e.ref)?ds(r,e,a):(e.flags|=1,r=bl(o,n),r.ref=e.ref,r.return=e,e.child=r)}function u3(r,e,t,n,i,a){if(r!==null&&hp(r.memoizedProps,n)&&r.ref===e.ref)if(Va=!1,(a&i)!=0)(r.flags&16384)!=0&&(Va=!0);else return e.lanes=r.lanes,ds(r,e,a);return Nx(r,e,t,n,a)}function Ox(r,e,t){var n=e.pendingProps,i=n.children,a=r!==null?r.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},hv(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},hv(e,a!==null?a.baseLanes:t);else return r=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r},hv(e,r),null;else a!==null?(n=a.baseLanes|t,e.memoizedState=null):n=t,hv(e,n);return Fi(r,e,i,t),e.child}function f3(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=128)}function Nx(r,e,t,n,i){var a=Ni(t)?zu:oi.current;return a=Bc(e,a),Hc(e,i),t=Rx(r,e,t,n,a,i),r!==null&&!Va?(e.updateQueue=r.updateQueue,e.flags&=-517,r.lanes&=~i,ds(r,e,i)):(e.flags|=1,Fi(r,e,t,i),e.child)}function c3(r,e,t,n,i){if(Ni(t)){var a=!0;Ug(e)}else a=!1;if(Hc(e,i),e.stateNode===null)r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),WM(e,t,n),bx(e,t,n,i),n=!0;else if(r===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,g=t.contextType;typeof g=="object"&&g!==null?g=va(g):(g=Ni(t)?zu:oi.current,g=Bc(e,g));var m=t.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==g)&&VM(e,o,n,g),dl=!1;var u=e.memoizedState;o.state=u,_p(e,n,o,i),c=e.memoizedState,l!==n||u!==c||Oi.current||dl?(typeof m=="function"&&(Zg(e,t,m,n),c=e.memoizedState),(l=dl||GM(e,t,l,n,u,c,g))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=g,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,BM(r,e),l=e.memoizedProps,g=e.type===e.elementType?l:Wa(e.type,l),o.props=g,d=e.pendingProps,u=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=va(c):(c=Ni(t)?zu:oi.current,c=Bc(e,c));var f=t.getDerivedStateFromProps;(m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||u!==c)&&VM(e,o,n,c),dl=!1,u=e.memoizedState,o.state=u,_p(e,n,o,i);var s=e.memoizedState;l!==d||u!==s||Oi.current||dl?(typeof f=="function"&&(Zg(e,t,f,n),s=e.memoizedState),(g=dl||GM(e,t,g,n,u,s,c))?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,s,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,s,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=s),o.props=n,o.state=s,o.context=c,n=g):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=256),n=!1)}return kx(r,e,t,n,a,i)}function kx(r,e,t,n,i,a){f3(r,e);var o=(e.flags&64)!=0;if(!n&&!o)return i&&CM(e,t,!1),ds(r,e,a);n=e.stateNode,W6.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&o?(e.child=Jg(e,r.child,null,a),e.child=Jg(e,null,l,a)):Fi(r,e,l,a),e.memoizedState=n.state,i&&CM(e,t,!0),e.child}function h3(r){var e=r.stateNode;e.pendingContext?TM(r,e.pendingContext,e.pendingContext!==e.context):e.context&&TM(r,e.context,!1),Ex(r,e.containerInfo)}var iv={dehydrated:null,retryLane:0};function d3(r,e,t){var n=e.pendingProps,i=fr.current,a=!1,o;return(o=(e.flags&64)!=0)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!=0),o?(a=!0,e.flags&=-65):r!==null&&r.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),ur(fr,i&1),r===null?(n.fallback!==void 0&&Mx(e),r=n.children,i=n.fallback,a?(r=p3(e,r,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=iv,r):typeof n.unstable_expectedLoadTime=="number"?(r=p3(e,r,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=iv,e.lanes=33554432,r):(t=rw({mode:"visible",children:r},e.mode,t,null),t.return=e,e.child=t)):r.memoizedState!==null?a?(n=g3(r,e,n.children,n.fallback,t),a=e.child,i=r.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=r.childLanes&~t,e.memoizedState=iv,n):(t=m3(r,e,n.children,t),e.memoizedState=null,t):a?(n=g3(r,e,n.children,n.fallback,t),a=e.child,i=r.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=r.childLanes&~t,e.memoizedState=iv,n):(t=m3(r,e,n.children,t),e.memoizedState=null,t)}function p3(r,e,t,n){var i=r.mode,a=r.child;return e={mode:"hidden",children:e},(i&2)==0&&a!==null?(a.childLanes=0,a.pendingProps=e):a=rw(e,i,0,null),t=qc(t,i,n,null),a.return=r,t.return=r,a.sibling=t,r.child=a,t}function m3(r,e,t,n){var i=r.child;return r=i.sibling,t=bl(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=n),t.return=e,t.sibling=null,r!==null&&(r.nextEffect=null,r.flags=8,e.firstEffect=e.lastEffect=r),e.child=t}function g3(r,e,t,n,i){var a=e.mode,o=r.child;r=o.sibling;var l={mode:"hidden",children:t};return(a&2)==0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=l,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=bl(o,l),r!==null?n=bl(r,n):(n=qc(n,a,i,null),n.flags|=2),n.return=e,t.return=e,t.sibling=n,e.child=t,n}function v3(r,e){r.lanes|=e;var t=r.alternate;t!==null&&(t.lanes|=e),FM(r.return,e)}function Fx(r,e,t,n,i,a){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i,o.lastEffect=a)}function _3(r,e,t){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Fi(r,e,n.children,t),n=fr.current,(n&2)!=0)n=n&1|2,e.flags|=64;else{if(r!==null&&(r.flags&64)!=0)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&v3(r,t);else if(r.tag===19)v3(r,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(ur(fr,n),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Qg(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Fx(e,!1,i,t,a,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Qg(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}Fx(e,!0,t,null,a,e.lastEffect);break;case"together":Fx(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ds(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Lp|=e.lanes,(t&e.childLanes)!=0){if(r!==null&&e.child!==r.child)throw Error(vt(153));if(e.child!==null){for(r=e.child,t=bl(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=bl(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var y3,Bx,x3,w3;y3=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Bx=function(){};x3=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Gu(yo.current);var a=null;switch(t){case"input":i=Ey(r,i),n=Ey(r,n),a=[];break;case"option":i=Ty(r,i),n=Ty(r,n),a=[];break;case"select":i=Jn({},i,{value:void 0}),n=Jn({},n,{value:void 0}),a=[];break;case"textarea":i=Ay(r,i),n=Ay(r,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Ng)}Ly(t,n);var o;t=null;for(g in i)if(!n.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var l=i[g];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(jd.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in n){var c=n[g];if(l=i!=null?i[g]:void 0,n.hasOwnProperty(g)&&c!==l&&(c!=null||l!=null))if(g==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(a||(a=[]),a.push(g,t)),t=c;else g==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(g,c)):g==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(g,""+c):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(jd.hasOwnProperty(g)?(c!=null&&g==="onScroll"&&Xn("scroll",r),a||l===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===_y?c.toString():(a=a||[]).push(g,c))}t&&(a=a||[]).push("style",t);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};w3=function(r,e,t,n){t!==n&&(e.flags|=4)};function Rp(r,e){if(!xo)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function V6(r,e,t){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ni(e.type)&&zg(),null;case 3:return Gc(),Yn(Oi),Yn(oi),Ax(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Kg(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Bx(e),null;case 5:Sx(e);var i=Gu(bp.current);if(t=e.type,r!==null&&e.stateNode!=null)x3(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(vt(166));return null}if(r=Gu(yo.current),Kg(e)){n=e.stateNode,t=e.type;var a=e.memoizedProps;switch(n[fl]=e,n[Fg]=a,t){case"dialog":Xn("cancel",n),Xn("close",n);break;case"iframe":case"object":case"embed":Xn("load",n);break;case"video":case"audio":for(r=0;r<pp.length;r++)Xn(pp[r],n);break;case"source":Xn("error",n);break;case"img":case"image":case"link":Xn("error",n),Xn("load",n);break;case"details":Xn("toggle",n);break;case"input":dS(n,a),Xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xn("invalid",n);break;case"textarea":gS(n,a),Xn("invalid",n)}Ly(t,a),r=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(r=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(r=["children",""+i]):jd.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Xn("scroll",n));switch(t){case"input":mg(n),mS(n,a,!0);break;case"textarea":mg(n),_S(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ng)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,r===Cy.html&&(r=yS(t)),r===Cy.html?t==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=o.createElement(t,{is:n.is}):(r=o.createElement(t),t==="select"&&(o=r,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):r=o.createElementNS(r,t),r[fl]=e,r[Fg]=n,y3(r,e,!1,!1),e.stateNode=r,o=Py(t,n),t){case"dialog":Xn("cancel",r),Xn("close",r),i=n;break;case"iframe":case"object":case"embed":Xn("load",r),i=n;break;case"video":case"audio":for(i=0;i<pp.length;i++)Xn(pp[i],r);i=n;break;case"source":Xn("error",r),i=n;break;case"img":case"image":case"link":Xn("error",r),Xn("load",r),i=n;break;case"details":Xn("toggle",r),i=n;break;case"input":dS(r,n),i=Ey(r,n),Xn("invalid",r);break;case"option":i=Ty(r,n);break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=Jn({},n,{value:void 0}),Xn("invalid",r);break;case"textarea":gS(r,n),i=Ay(r,n),Xn("invalid",r);break;default:i=n}Ly(t,i);var l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?bS(r,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xS(r,c)):a==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Qd(r,c):typeof c=="number"&&Qd(r,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xn("scroll",r):c!=null&&hy(r,a,c,o))}switch(t){case"input":mg(r),mS(r,n,!1);break;case"textarea":mg(r),_S(r);break;case"option":n.value!=null&&r.setAttribute("value",""+il(n.value));break;case"select":r.multiple=!!n.multiple,a=n.value,a!=null?Ec(r,!!n.multiple,a,!1):n.defaultValue!=null&&Ec(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Ng)}wM(t,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(r&&e.stateNode!=null)w3(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(vt(166));t=Gu(bp.current),Gu(yo.current),Kg(e)?(n=e.stateNode,t=e.memoizedProps,n[fl]=e,n.nodeValue!==t&&(e.flags|=4)):(n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[fl]=e,e.stateNode=n)}return null;case 13:return Yn(fr),n=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(n=n!==null,t=!1,r===null?e.memoizedProps.fallback!==void 0&&Kg(e):t=r.memoizedState!==null,n&&!t&&(e.mode&2)!=0&&(r===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(fr.current&1)!=0?Gr===0&&(Gr=3):((Gr===0||Gr===3)&&(Gr=4),_i===null||(Lp&134217727)==0&&(jc&134217727)==0||Xc(_i,ui))),(n||t)&&(e.flags|=4),null);case 4:return Gc(),Bx(e),r===null&&gM(e.stateNode.containerInfo),null;case 10:return xx(e),null;case 17:return Ni(e.type)&&zg(),null;case 19:if(Yn(fr),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!=0,o=n.rendering,o===null)if(a)Rp(n,!1);else{if(Gr!==0||r!==null&&(r.flags&64)!=0)for(r=e.child;r!==null;){if(o=Qg(r),o!==null){for(e.flags|=64,Rp(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=t,t=e.child;t!==null;)a=t,r=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=r,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,r=o.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return ur(fr,fr.current&1|2),e.child}r=r.sibling}n.tail!==null&&si()>qx&&(e.flags|=64,a=!0,Rp(n,!1),e.lanes=33554432)}else{if(!a)if(r=Qg(o),r!==null){if(e.flags|=64,a=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Rp(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!xo)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*si()-n.renderingStartTime>qx&&t!==1073741824&&(e.flags|=64,a=!0,Rp(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(t=n.last,t!==null?t.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=si(),t.sibling=null,e=fr.current,ur(fr,a?e&1|2:e&1),t):null;case 23:case 24:return tw(),r!==null&&r.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(vt(156,e.tag))}function j6(r){switch(r.tag){case 1:Ni(r.type)&&zg();var e=r.flags;return e&4096?(r.flags=e&-4097|64,r):null;case 3:if(Gc(),Yn(Oi),Yn(oi),Ax(),e=r.flags,(e&64)!=0)throw Error(vt(285));return r.flags=e&-4097|64,r;case 5:return Sx(r),null;case 13:return Yn(fr),e=r.flags,e&4096?(r.flags=e&-4097|64,r):null;case 19:return Yn(fr),null;case 4:return Gc(),null;case 10:return xx(r),null;case 23:case 24:return tw(),null;default:return null}}function zx(r,e){try{var t="",n=e;do t+=MD(n),n=n.return;while(n);var i=t}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:r,source:e,stack:i}}function Ux(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Z6=typeof WeakMap=="function"?WeakMap:Map;function b3(r,e,t){t=pl(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){sv||(sv=!0,Jx=n),Ux(r,e)},t}function E3(r,e,t){t=pl(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return Ux(r,e),n(i)}}var a=r.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this),Ux(r,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var X6=typeof WeakSet=="function"?WeakSet:Set;function S3(r){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){wl(r,t)}else e.current=null}function Y6(r,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&r!==null){var t=r.memoizedProps,n=r.memoizedState;r=e.stateNode,e=r.getSnapshotBeforeUpdate(e.elementType===e.type?t:Wa(e.type,t),n),r.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&fx(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(vt(163))}function q6(r,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){r=e=e.next;do{if((r.tag&3)==3){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){r=e=e.next;do{var i=r;n=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(z3(t,r),rO(t,r)),r=n}while(r!==e)}return;case 1:r=t.stateNode,t.flags&4&&(e===null?r.componentDidMount():(n=t.elementType===t.type?e.memoizedProps:Wa(t.type,e.memoizedProps),r.componentDidUpdate(n,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&UM(t,e,r);return;case 3:if(e=t.updateQueue,e!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}UM(t,e,r)}return;case 5:r=t.stateNode,e===null&&t.flags&4&&wM(t.type,t.memoizedProps)&&r.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&BS(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(vt(163))}function M3(r,e){for(var t=r;;){if(t.tag===5){var n=t.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=wS("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===r)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function T3(r,e){if(Uu&&typeof Uu.onCommitFiberUnmount=="function")try{Uu.onCommitFiberUnmount(dx,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null)){var t=r=r.next;do{var n=t,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!=0)z3(e,t);else{n=e;try{i()}catch(a){wl(n,a)}}t=t.next}while(t!==r)}break;case 1:if(S3(e),r=e.stateNode,typeof r.componentWillUnmount=="function")try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(a){wl(e,a)}break;case 5:S3(e);break;case 4:L3(r,e)}}function A3(r){r.alternate=null,r.child=null,r.dependencies=null,r.firstEffect=null,r.lastEffect=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.return=null,r.updateQueue=null}function C3(r){return r.tag===5||r.tag===3||r.tag===4}function R3(r){e:{for(var e=r.return;e!==null;){if(C3(e))break e;e=e.return}throw Error(vt(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(vt(161))}t.flags&16&&(Qd(e,""),t.flags&=-17);e:t:for(t=r;;){for(;t.sibling===null;){if(t.return===null||C3(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}n?Hx(r,t,e):Gx(r,t,e)}function Hx(r,e,t){var n=r.tag,i=n===5||n===6;if(i)r=i?r.stateNode:r.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ng));else if(n!==4&&(r=r.child,r!==null))for(Hx(r,e,t),r=r.sibling;r!==null;)Hx(r,e,t),r=r.sibling}function Gx(r,e,t){var n=r.tag,i=n===5||n===6;if(i)r=i?r.stateNode:r.stateNode.instance,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Gx(r,e,t),r=r.sibling;r!==null;)Gx(r,e,t),r=r.sibling}function L3(r,e){for(var t=e,n=!1,i,a;;){if(!n){n=t.return;e:for(;;){if(n===null)throw Error(vt(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(t.tag===5||t.tag===6){e:for(var o=r,l=t,c=l;;)if(T3(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,l=t.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(T3(r,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Wx(r,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do(n.tag&3)==3&&(r=n.destroy,n.destroy=void 0,r!==void 0&&r()),n=n.next;while(n!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){n=e.memoizedProps;var i=r!==null?r.memoizedProps:n;r=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(t[Fg]=n,r==="input"&&n.type==="radio"&&n.name!=null&&pS(t,n),Py(r,i),e=Py(r,n),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];o==="style"?bS(t,l):o==="dangerouslySetInnerHTML"?xS(t,l):o==="children"?Qd(t,l):hy(t,o,l,e)}switch(r){case"input":Sy(t,n);break;case"textarea":vS(t,n);break;case"select":r=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Ec(t,!!n.multiple,a,!1):r!==!!n.multiple&&(n.defaultValue!=null?Ec(t,!!n.multiple,n.defaultValue,!0):Ec(t,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(vt(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,BS(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Yx=si(),M3(e.child,!0)),P3(e);return;case 19:P3(e);return;case 17:return;case 23:case 24:M3(e,e.memoizedState!==null);return}throw Error(vt(163))}function P3(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new X6),e.forEach(function(n){var i=oO.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function J6(r,e){return r!==null&&(r=r.memoizedState,r===null||r.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Q6=Math.ceil,av=Ou.ReactCurrentDispatcher,Vx=Ou.ReactCurrentOwner,qt=0,_i=null,Cr=null,ui=0,ju=0,jx=cl(0),Gr=0,ov=null,Vc=0,Lp=0,jc=0,Zx=0,Xx=null,Yx=0,qx=1/0;function Zc(){qx=si()+500}var Lt=null,sv=!1,Jx=null,bo=null,vl=!1,Pp=null,Ip=90,Qx=[],Kx=[],ps=null,Dp=0,$x=null,lv=-1,ms=0,uv=0,Op=null,fv=!1;function Xi(){return(qt&48)!=0?si():lv!==-1?lv:lv=si()}function _l(r){if(r=r.mode,(r&2)==0)return 1;if((r&4)==0)return zc()===99?1:2;if(ms===0&&(ms=Vc),B6.transition!==0){uv!==0&&(uv=Xx!==null?Xx.pendingLanes:0),r=ms;var e=4186112&~uv;return e&=-e,e===0&&(r=4186112&~r,e=r&-r,e===0&&(e=8192)),e}return r=zc(),(qt&4)!=0&&r===98?r=Eg(12,ms):(r=HD(r),r=Eg(r,ms)),r}function yl(r,e,t){if(50<Dp)throw Dp=0,$x=null,Error(vt(185));if(r=cv(r,e),r===null)return null;Sg(r,e,t),r===_i&&(jc|=e,Gr===4&&Xc(r,ui));var n=zc();e===1?(qt&8)!=0&&(qt&48)==0?ew(r):(ya(r,t),qt===0&&(Zc(),_o())):((qt&4)==0||n!==98&&n!==99||(ps===null?ps=new Set([r]):ps.add(r)),ya(r,t)),Xx=r}function cv(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}function ya(r,e){for(var t=r.callbackNode,n=r.suspendedLanes,i=r.pingedLanes,a=r.expirationTimes,o=r.pendingLanes;0<o;){var l=31-ll(o),c=1<<l,g=a[l];if(g===-1){if((c&n)==0||(c&i)!=0){g=e,Cc(c);var m=Hn;a[l]=10<=m?g+250:6<=m?g+5e3:-1}}else g<=e&&(r.expiredLanes|=c);o&=~c}if(n=op(r,r===_i?ui:0),e=Hn,n===0)t!==null&&(t!==vx&&mx(t),r.callbackNode=null,r.callbackPriority=0);else{if(t!==null){if(r.callbackPriority===e)return;t!==vx&&mx(t)}e===15?(t=ew.bind(null,r),cs===null?(cs=[t],Gg=px(Hg,kM)):cs.push(t),t=vx):e===14?t=vp(99,ew.bind(null,r)):(t=GD(e),t=vp(t,I3.bind(null,r))),r.callbackPriority=e,r.callbackNode=t}}function I3(r){if(lv=-1,uv=ms=0,(qt&48)!=0)throw Error(vt(327));var e=r.callbackNode;if(xl()&&r.callbackNode!==e)return null;var t=op(r,r===_i?ui:0);if(t===0)return null;var n=t,i=qt;qt|=16;var a=k3();(_i!==r||ui!==n)&&(Zc(),Yc(r,n));do try{eO();break}catch(l){N3(r,l)}while(1);if(yx(),av.current=a,qt=i,Cr!==null?n=0:(_i=null,ui=0,n=Gr),(Vc&jc)!=0)Yc(r,0);else if(n!==0){if(n===2&&(qt|=64,r.hydrate&&(r.hydrate=!1,fx(r.containerInfo)),t=jS(r),t!==0&&(n=Np(r,t))),n===1)throw e=ov,Yc(r,0),Xc(r,t),ya(r,si()),e;switch(r.finishedWork=r.current.alternate,r.finishedLanes=t,n){case 0:case 1:throw Error(vt(345));case 2:Zu(r);break;case 3:if(Xc(r,t),(t&62914560)===t&&(n=Yx+500-si(),10<n)){if(op(r,0)!==0)break;if(i=r.suspendedLanes,(i&t)!==t){Xi(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=bM(Zu.bind(null,r),n);break}Zu(r);break;case 4:if(Xc(r,t),(t&4186112)===t)break;for(n=r.eventTimes,i=-1;0<t;){var o=31-ll(t);a=1<<o,o=n[o],o>i&&(i=o),t&=~a}if(t=i,t=si()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Q6(t/1960))-t,10<t){r.timeoutHandle=bM(Zu.bind(null,r),t);break}Zu(r);break;case 5:Zu(r);break;default:throw Error(vt(329))}}return ya(r,si()),r.callbackNode===e?I3.bind(null,r):null}function Xc(r,e){for(e&=~Zx,e&=~jc,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-ll(e),n=1<<t;r[t]=-1,e&=~n}}function ew(r){if((qt&48)!=0)throw Error(vt(327));if(xl(),r===_i&&(r.expiredLanes&ui)!=0){var e=ui,t=Np(r,e);(Vc&jc)!=0&&(e=op(r,e),t=Np(r,e))}else e=op(r,0),t=Np(r,e);if(r.tag!==0&&t===2&&(qt|=64,r.hydrate&&(r.hydrate=!1,fx(r.containerInfo)),e=jS(r),e!==0&&(t=Np(r,e))),t===1)throw t=ov,Yc(r,0),Xc(r,e),ya(r,si()),t;return r.finishedWork=r.current.alternate,r.finishedLanes=e,Zu(r),ya(r,si()),null}function K6(){if(ps!==null){var r=ps;ps=null,r.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ya(e,si())})}_o()}function D3(r,e){var t=qt;qt|=1;try{return r(e)}finally{qt=t,qt===0&&(Zc(),_o())}}function O3(r,e){var t=qt;qt&=-2,qt|=8;try{return r(e)}finally{qt=t,qt===0&&(Zc(),_o())}}function hv(r,e){ur(jx,ju),ju|=e,Vc|=e}function tw(){ju=jx.current,Yn(jx)}function Yc(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,I6(t)),Cr!==null)for(t=Cr.return;t!==null;){var n=t;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&zg();break;case 3:Gc(),Yn(Oi),Yn(oi),Ax();break;case 5:Sx(n);break;case 4:Gc();break;case 13:Yn(fr);break;case 19:Yn(fr);break;case 10:xx(n);break;case 23:case 24:tw()}t=t.return}_i=r,Cr=bl(r.current,null),ui=ju=Vc=e,Gr=0,ov=null,Zx=jc=Lp=0}function N3(r,e){do{var t=Cr;try{if(yx(),Ep.current=rv,$g){for(var n=gr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$g=!1}if(Sp=0,Hr=li=gr=null,Mp=!1,Vx.current=null,t===null||t.return===null){Gr=1,ov=e,Cr=null;break}e:{var a=r,o=t.return,l=t,c=e;if(e=ui,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=c;if((l.mode&2)==0){var m=l.alternate;m?(l.updateQueue=m.updateQueue,l.memoizedState=m.memoizedState,l.lanes=m.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=(fr.current&1)!=0,u=o;do{var f;if(f=u.tag===13){var s=u.memoizedState;if(s!==null)f=s.dehydrated!==null;else{var v=u.memoizedProps;f=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!d}}if(f){var x=u.updateQueue;if(x===null){var h=new Set;h.add(g),u.updateQueue=h}else x.add(g);if((u.mode&2)==0){if(u.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var p=pl(-1,1);p.tag=2,ml(l,p)}l.lanes|=1;break e}c=void 0,l=e;var _=a.pingCache;if(_===null?(_=a.pingCache=new Z6,c=new Set,_.set(g,c)):(c=_.get(g),c===void 0&&(c=new Set,_.set(g,c))),!c.has(l)){c.add(l);var w=aO.bind(null,a,g,l);g.then(w,w)}u.flags|=4096,u.lanes=e;break e}u=u.return}while(u!==null);c=Error((bc(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Gr!==5&&(Gr=2),c=zx(c,l),u=o;do{switch(u.tag){case 3:a=c,u.flags|=4096,e&=-e,u.lanes|=e;var E=b3(u,a,e);zM(u,E);break e;case 1:a=c;var A=u.type,T=u.stateNode;if((u.flags&64)==0&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bo===null||!bo.has(T)))){u.flags|=4096,e&=-e,u.lanes|=e;var C=E3(u,a,e);zM(u,C);break e}}u=u.return}while(u!==null)}B3(t)}catch(R){e=R,Cr===t&&t!==null&&(Cr=t=t.return);continue}break}while(1)}function k3(){var r=av.current;return av.current=rv,r===null?rv:r}function Np(r,e){var t=qt;qt|=16;var n=k3();_i===r&&ui===e||Yc(r,e);do try{$6();break}catch(i){N3(r,i)}while(1);if(yx(),qt=t,av.current=n,Cr!==null)throw Error(vt(261));return _i=null,ui=0,Gr}function $6(){for(;Cr!==null;)F3(Cr)}function eO(){for(;Cr!==null&&!N6();)F3(Cr)}function F3(r){var e=H3(r.alternate,r,ju);r.memoizedProps=r.pendingProps,e===null?B3(r):Cr=e,Vx.current=null}function B3(r){var e=r;do{var t=e.alternate;if(r=e.return,(e.flags&2048)==0){if(t=V6(t,e,ju),t!==null){Cr=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(ju&1073741824)!=0||(t.mode&4)==0){for(var n=0,i=t.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=n}r!==null&&(r.flags&2048)==0&&(r.firstEffect===null&&(r.firstEffect=e.firstEffect),e.lastEffect!==null&&(r.lastEffect!==null&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.flags&&(r.lastEffect!==null?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(t=j6(e),t!==null){t.flags&=2047,Cr=t;return}r!==null&&(r.firstEffect=r.lastEffect=null,r.flags|=2048)}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=r}while(e!==null);Gr===0&&(Gr=5)}function Zu(r){var e=zc();return Hu(99,tO.bind(null,r,e)),null}function tO(r,e){do xl();while(Pp!==null);if((qt&48)!=0)throw Error(vt(327));var t=r.finishedWork;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(vt(177));r.callbackNode=null;var n=t.lanes|t.childLanes,i=n,a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;for(var o=r.eventTimes,l=r.expirationTimes;0<a;){var c=31-ll(a),g=1<<c;i[c]=0,o[c]=-1,l[c]=-1,a&=~g}if(ps!==null&&(n&24)==0&&ps.has(r)&&ps.delete(r),r===_i&&(Cr=_i=null,ui=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,n=t.firstEffect):n=t:n=t.firstEffect,n!==null){if(i=qt,qt|=32,Vx.current=null,sx=Mg,o=fM(),rx(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(g=l.getSelection&&l.getSelection())&&g.rangeCount!==0){l=g.anchorNode,a=g.anchorOffset,c=g.focusNode,g=g.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var m=0,d=-1,u=-1,f=0,s=0,v=o,x=null;t:for(;;){for(var h;v!==l||a!==0&&v.nodeType!==3||(d=m+a),v!==c||g!==0&&v.nodeType!==3||(u=m+g),v.nodeType===3&&(m+=v.nodeValue.length),(h=v.firstChild)!==null;)x=v,v=h;for(;;){if(v===o)break t;if(x===l&&++f===a&&(d=m),x===c&&++s===g&&(u=m),(h=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=h}l=d===-1||u===-1?null:{start:d,end:u}}else l=null;l=l||{start:0,end:0}}else l=null;lx={focusedElem:o,selectionRange:l},Mg=!1,Op=null,fv=!1,Lt=n;do try{nO()}catch(R){if(Lt===null)throw Error(vt(330));wl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);Op=null,Lt=n;do try{for(o=r;Lt!==null;){var p=Lt.flags;if(p&16&&Qd(Lt.stateNode,""),p&128){var _=Lt.alternate;if(_!==null){var w=_.ref;w!==null&&(typeof w=="function"?w(null):w.current=null)}}switch(p&1038){case 2:R3(Lt),Lt.flags&=-3;break;case 6:R3(Lt),Lt.flags&=-3,Wx(Lt.alternate,Lt);break;case 1024:Lt.flags&=-1025;break;case 1028:Lt.flags&=-1025,Wx(Lt.alternate,Lt);break;case 4:Wx(Lt.alternate,Lt);break;case 8:l=Lt,L3(o,l);var E=l.alternate;A3(l),E!==null&&A3(E)}Lt=Lt.nextEffect}}catch(R){if(Lt===null)throw Error(vt(330));wl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);if(w=lx,_=fM(),p=w.focusedElem,o=w.selectionRange,_!==p&&p&&p.ownerDocument&&uM(p.ownerDocument.documentElement,p)){for(o!==null&&rx(p)&&(_=o.start,w=o.end,w===void 0&&(w=_),"selectionStart"in p?(p.selectionStart=_,p.selectionEnd=Math.min(w,p.value.length)):(w=(_=p.ownerDocument||document)&&_.defaultView||window,w.getSelection&&(w=w.getSelection(),l=p.textContent.length,E=Math.min(o.start,l),o=o.end===void 0?E:Math.min(o.end,l),!w.extend&&E>o&&(l=o,o=E,E=l),l=lM(p,E),a=lM(p,o),l&&a&&(w.rangeCount!==1||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(l.node,l.offset),w.removeAllRanges(),E>o?(w.addRange(_),w.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),w.addRange(_)))))),_=[],w=p;w=w.parentNode;)w.nodeType===1&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<_.length;p++)w=_[p],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}Mg=!!sx,lx=sx=null,r.current=t,Lt=n;do try{for(p=r;Lt!==null;){var A=Lt.flags;if(A&36&&q6(p,Lt.alternate,Lt),A&128){_=void 0;var T=Lt.ref;if(T!==null){var C=Lt.stateNode;switch(Lt.tag){case 5:_=C;break;default:_=C}typeof T=="function"?T(_):T.current=_}}Lt=Lt.nextEffect}}catch(R){if(Lt===null)throw Error(vt(330));wl(Lt,R),Lt=Lt.nextEffect}while(Lt!==null);Lt=null,F6(),qt=i}else r.current=t;if(vl)vl=!1,Pp=r,Ip=e;else for(Lt=n;Lt!==null;)e=Lt.nextEffect,Lt.nextEffect=null,Lt.flags&8&&(A=Lt,A.sibling=null,A.stateNode=null),Lt=e;if(n=r.pendingLanes,n===0&&(bo=null),n===1?r===$x?Dp++:(Dp=0,$x=r):Dp=0,t=t.stateNode,Uu&&typeof Uu.onCommitFiberRoot=="function")try{Uu.onCommitFiberRoot(dx,t,void 0,(t.current.flags&64)==64)}catch{}if(ya(r,si()),sv)throw sv=!1,r=Jx,Jx=null,r;return(qt&8)!=0||_o(),null}function nO(){for(;Lt!==null;){var r=Lt.alternate;fv||Op===null||((Lt.flags&8)!=0?PS(Lt,Op)&&(fv=!0):Lt.tag===13&&J6(r,Lt)&&PS(Lt,Op)&&(fv=!0));var e=Lt.flags;(e&256)!=0&&Y6(r,Lt),(e&512)==0||vl||(vl=!0,vp(97,function(){return xl(),null})),Lt=Lt.nextEffect}}function xl(){if(Ip!==90){var r=97<Ip?97:Ip;return Ip=90,Hu(r,iO)}return!1}function rO(r,e){Qx.push(e,r),vl||(vl=!0,vp(97,function(){return xl(),null}))}function z3(r,e){Kx.push(e,r),vl||(vl=!0,vp(97,function(){return xl(),null}))}function iO(){if(Pp===null)return!1;var r=Pp;if(Pp=null,(qt&48)!=0)throw Error(vt(331));var e=qt;qt|=32;var t=Kx;Kx=[];for(var n=0;n<t.length;n+=2){var i=t[n],a=t[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(vt(330));wl(a,c)}}for(t=Qx,Qx=[],n=0;n<t.length;n+=2){i=t[n],a=t[n+1];try{var l=i.create;i.destroy=l()}catch(c){if(a===null)throw Error(vt(330));wl(a,c)}}for(l=r.current.firstEffect;l!==null;)r=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=r;return qt=e,_o(),!0}function U3(r,e,t){e=zx(t,e),e=b3(r,e,1),ml(r,e),e=Xi(),r=cv(r,1),r!==null&&(Sg(r,1,e),ya(r,e))}function wl(r,e){if(r.tag===3)U3(r,r,e);else for(var t=r.return;t!==null;){if(t.tag===3){U3(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){r=zx(e,r);var i=E3(t,r,1);if(ml(t,i),i=Xi(),t=cv(t,1),t!==null)Sg(t,1,i),ya(t,i);else if(typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n)))try{n.componentDidCatch(e,r)}catch{}break}}t=t.return}}function aO(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Xi(),r.pingedLanes|=r.suspendedLanes&t,_i===r&&(ui&t)===t&&(Gr===4||Gr===3&&(ui&62914560)===ui&&500>si()-Yx?Yc(r,0):Zx|=t),ya(r,e)}function oO(r,e){var t=r.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=r.mode,(e&2)==0?e=1:(e&4)==0?e=zc()===99?1:2:(ms===0&&(ms=Vc),e=Rc(62914560&~ms),e===0&&(e=4194304))),t=Xi(),r=cv(r,e),r!==null&&(Sg(r,e,t),ya(r,t))}var H3;H3=function(r,e,t){var n=e.lanes;if(r!==null)if(r.memoizedProps!==e.pendingProps||Oi.current)Va=!0;else if((t&n)!=0)Va=(r.flags&16384)!=0;else{switch(Va=!1,e.tag){case 3:h3(e),Tx();break;case 5:XM(e);break;case 1:Ni(e.type)&&Ug(e);break;case 4:Ex(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;ur(Wg,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?d3(r,e,t):(ur(fr,fr.current&1),e=ds(r,e,t),e!==null?e.sibling:null);ur(fr,fr.current&1);break;case 19:if(n=(t&e.childLanes)!=0,(r.flags&64)!=0){if(n)return _3(r,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(fr,fr.current),n)break;return null;case 23:case 24:return e.lanes=0,Ox(r,e,t)}return ds(r,e,t)}else Va=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),r=e.pendingProps,i=Bc(e,oi.current),Hc(e,t),i=Rx(null,e,n,r,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(n)){var a=!0;Ug(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wx(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Zg(e,n,o,r),i.updater=Xg,e.stateNode=i,i._reactInternals=e,bx(e,n,r,t),e=kx(null,e,n,!0,a,t)}else e.tag=0,Fi(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),r=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=lO(i),r=Wa(i,r),a){case 0:e=Nx(null,e,i,r,t);break e;case 1:e=c3(null,e,i,r,t);break e;case 11:e=s3(null,e,i,r,t);break e;case 14:e=l3(null,e,i,Wa(i.type,r),n,t);break e}throw Error(vt(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wa(n,i),Nx(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wa(n,i),c3(r,e,n,i,t);case 3:if(h3(e),n=e.updateQueue,r===null||n===null)throw Error(vt(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,BM(r,e),_p(e,n,null,t),n=e.memoizedState.element,n===i)Tx(),e=ds(r,e,t);else{if(i=e.stateNode,(a=i.hydrate)&&(gl=Oc(e.stateNode.containerInfo.firstChild),hs=e,a=xo=!0),a){if(r=i.mutableSourceEagerHydrationData,r!=null)for(i=0;i<r.length;i+=2)a=r[i],a._workInProgressVersionPrimary=r[i+1],Wc.push(a);for(t=ZM(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Fi(r,e,n,t),Tx();e=e.child}return e;case 5:return XM(e),r===null&&Mx(e),n=e.type,i=e.pendingProps,a=r!==null?r.memoizedProps:null,o=i.children,ux(n,i)?o=null:a!==null&&ux(n,a)&&(e.flags|=16),f3(r,e),Fi(r,e,o,t),e.child;case 6:return r===null&&Mx(e),null;case 13:return d3(r,e,t);case 4:return Ex(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Jg(e,null,n,t):Fi(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wa(n,i),s3(r,e,n,i,t);case 7:return Fi(r,e,e.pendingProps,t),e.child;case 8:return Fi(r,e,e.pendingProps.children,t),e.child;case 12:return Fi(r,e,e.pendingProps.children,t),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var l=e.type._context;if(ur(Wg,l._currentValue),l._currentValue=a,o!==null)if(l=o.value,a=ga(l,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(l,a):1073741823)|0,a===0){if(o.children===i.children&&!Oi.current){e=ds(r,e,t);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var g=c.firstContext;g!==null;){if(g.context===n&&(g.observedBits&a)!=0){l.tag===1&&(g=pl(-1,t&-t),g.tag=2,ml(l,g)),l.lanes|=t,g=l.alternate,g!==null&&(g.lanes|=t),FM(l.return,t),c.lanes|=t;break}g=g.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Fi(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Hc(e,t),i=va(i,a.unstable_observedBits),n=n(i),e.flags|=1,Fi(r,e,n,t),e.child;case 14:return i=e.type,a=Wa(i,e.pendingProps),a=Wa(i.type,a),l3(r,e,i,a,n,t);case 15:return u3(r,e,e.type,e.pendingProps,n,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wa(n,i),r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ni(n)?(r=!0,Ug(e)):r=!1,Hc(e,t),WM(e,n,i),bx(e,n,i,t),kx(null,e,n,!0,r,t);case 19:return _3(r,e,t);case 23:return Ox(r,e,t);case 24:return Ox(r,e,t)}throw Error(vt(156,e.tag))};function sO(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(r,e,t,n){return new sO(r,e,t,n)}function nw(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lO(r){if(typeof r=="function")return nw(r)?1:0;if(r!=null){if(r=r.$$typeof,r===cg)return 11;if(r===dg)return 14}return 2}function bl(r,e){var t=r.alternate;return t===null?(t=xa(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function dv(r,e,t,n,i,a){var o=2;if(n=r,typeof r=="function")nw(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case rl:return qc(t.children,i,a,e);case uS:o=8,i|=16;break;case dy:o=8,i|=1;break;case Xd:return r=xa(12,t,e,i|8),r.elementType=Xd,r.type=Xd,r.lanes=a,r;case Yd:return r=xa(13,t,e,i),r.type=Yd,r.elementType=Yd,r.lanes=a,r;case hg:return r=xa(19,t,e,i),r.elementType=hg,r.lanes=a,r;case yy:return rw(t,i,a,e);case xy:return r=xa(24,t,e,i),r.elementType=xy,r.lanes=a,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case py:o=10;break e;case my:o=9;break e;case cg:o=11;break e;case dg:o=14;break e;case gy:o=16,n=null;break e;case vy:o=22;break e}throw Error(vt(130,r==null?r:typeof r,""))}return e=xa(o,t,e,i),e.elementType=r,e.type=n,e.lanes=a,e}function qc(r,e,t,n){return r=xa(7,r,n,e),r.lanes=t,r}function rw(r,e,t,n){return r=xa(23,r,n,e),r.elementType=yy,r.lanes=t,r}function iw(r,e,t){return r=xa(6,r,null,e),r.lanes=t,r}function aw(r,e,t){return e=xa(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function uO(r,e,t){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.mutableSourceEagerHydrationData=null}function fO(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function pv(r,e,t,n){var i=e.current,a=Xi(),o=_l(i);e:if(t){t=t._reactInternals;t:{if(Fu(t)!==t||t.tag!==1)throw Error(vt(170));var l=t;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ni(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(vt(171))}if(t.tag===1){var c=t.type;if(Ni(c)){t=AM(t,c,l);break e}}t=l}else t=hl;return e.context===null?e.context=t:e.pendingContext=t,e=pl(a,o),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),ml(i,e),yl(i,o,a),o}function ow(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function G3(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function sw(r,e){G3(r,e),(r=r.alternate)&&G3(r,e)}function cO(){return null}function lw(r,e,t){var n=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new uO(r,e,t!=null&&t.hydrate===!0),e=xa(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,wx(e),r[Nc]=t.current,gM(r.nodeType===8?r.parentNode:r),n)for(r=0;r<n.length;r++){e=n[r];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}lw.prototype.render=function(r){pv(r,this._internalRoot,null,null)};lw.prototype.unmount=function(){var r=this._internalRoot,e=r.containerInfo;pv(null,r,null,function(){e[Nc]=null})};function kp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function hO(r,e){if(e||(e=r?r.nodeType===9?r.documentElement:r.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=r.lastChild;)r.removeChild(t);return new lw(r,0,e?{hydrate:!0}:void 0)}function mv(r,e,t,n,i){var a=t._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var l=i;i=function(){var g=ow(o);l.call(g)}}pv(e,o,r,i)}else{if(a=t._reactRootContainer=hO(t,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var g=ow(o);c.call(g)}}O3(function(){pv(e,o,r,i)})}return ow(o)}IS=function(r){if(r.tag===13){var e=Xi();yl(r,4,e),sw(r,4)}};Uy=function(r){if(r.tag===13){var e=Xi();yl(r,67108864,e),sw(r,67108864)}};DS=function(r){if(r.tag===13){var e=Xi(),t=_l(r);yl(r,t,e),sw(r,t)}};OS=function(r,e){return e()};Dy=function(r,e,t){switch(e){case"input":if(Sy(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=Bg(n);if(!i)throw Error(vt(90));hS(n),Sy(n,i)}}}break;case"textarea":vS(r,t);break;case"select":e=t.value,e!=null&&Ec(r,!!t.multiple,e,!1)}};Oy=D3;TS=function(r,e,t,n,i){var a=qt;qt|=4;try{return Hu(98,r.bind(null,e,t,n,i))}finally{qt=a,qt===0&&(Zc(),_o())}};Ny=function(){(qt&49)==0&&(K6(),xl())};AS=function(r,e){var t=qt;qt|=2;try{return r(e)}finally{qt=t,qt===0&&(Zc(),_o())}};function W3(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(e))throw Error(vt(200));return fO(r,e,null,t)}var dO={Events:[gp,kc,Bg,SS,MS,xl,{current:!1}]},Fp={findFiberByHostInstance:Bu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},pO={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ou.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=LS(r),r===null?null:r.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||cO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Bp.isDisabled&&Bp.supportsFiber))try{dx=Bp.inject(pO),Uu=Bp}catch{}var Bp;wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dO;wa.createPortal=W3;wa.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(vt(188)):Error(vt(268,Object.keys(r)));return r=LS(e),r=r===null?null:r.stateNode,r};wa.flushSync=function(r,e){var t=qt;if((t&48)!=0)return r(e);qt|=1;try{if(r)return Hu(99,r.bind(null,e))}finally{qt=t,_o()}};wa.hydrate=function(r,e,t){if(!kp(e))throw Error(vt(200));return mv(null,r,e,!0,t)};wa.render=function(r,e,t){if(!kp(e))throw Error(vt(200));return mv(null,r,e,!1,t)};wa.unmountComponentAtNode=function(r){if(!kp(r))throw Error(vt(40));return r._reactRootContainer?(O3(function(){mv(null,null,r,!1,function(){r._reactRootContainer=null,r[Nc]=null})}),!0):!1};wa.unstable_batchedUpdates=D3;wa.unstable_createPortal=function(r,e){return W3(r,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};wa.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!kp(t))throw Error(vt(200));if(r==null||r._reactInternals===void 0)throw Error(vt(38));return mv(r,e,t,!1,n)};wa.version="17.0.2"});var X3=Di((h7,Z3)=>{"use strict";function j3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j3)}catch(r){console.error(r)}}j3(),Z3.exports=V3()});var kR=Di((p7,F0)=>{F0.exports=function(e){var t={},n=eg(),i=Ha(),a=ug();function o(b){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+b,N=1;N<arguments.length;N++)S+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+b+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,g=60106,m=60107,d=60108,u=60114,f=60109,s=60110,v=60112,x=60113,h=60120,p=60115,_=60116,w=60121,E=60129,A=60130,T=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;c=C("react.element"),g=C("react.portal"),m=C("react.fragment"),d=C("react.strict_mode"),u=C("react.profiler"),f=C("react.provider"),s=C("react.context"),v=C("react.forward_ref"),x=C("react.suspense"),h=C("react.suspense_list"),p=C("react.memo"),_=C("react.lazy"),w=C("react.block"),C("react.scope"),E=C("react.debug_trace_mode"),A=C("react.offscreen"),T=C("react.legacy_hidden")}var R=typeof Symbol=="function"&&Symbol.iterator;function D(b){return b===null||typeof b!="object"?null:(b=R&&b[R]||b["@@iterator"],typeof b=="function"?b:null)}function O(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case m:return"Fragment";case g:return"Portal";case u:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case h:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case s:return(b.displayName||"Context")+".Consumer";case f:return(b._context.displayName||"Context")+".Provider";case v:var S=b.render;return S=S.displayName||S.name||"",b.displayName||(S!==""?"ForwardRef("+S+")":"ForwardRef");case p:return O(b.type);case w:return O(b._render);case _:S=b._payload,b=b._init;try{return O(b(S))}catch{}}return null}function k(b){var S=b,N=b;if(b.alternate)for(;S.return;)S=S.return;else{b=S;do S=b,(S.flags&1026)!=0&&(N=S.return),b=S.return;while(b)}return S.tag===3?N:null}function H(b){if(k(b)!==b)throw Error(o(188))}function B(b){var S=b.alternate;if(!S){if(S=k(b),S===null)throw Error(o(188));return S!==b?null:b}for(var N=b,K=S;;){var ne=N.return;if(ne===null)break;var _e=ne.alternate;if(_e===null){if(K=ne.return,K!==null){N=K;continue}break}if(ne.child===_e.child){for(_e=ne.child;_e;){if(_e===N)return H(ne),b;if(_e===K)return H(ne),S;_e=_e.sibling}throw Error(o(188))}if(N.return!==K.return)N=ne,K=_e;else{for(var Ne=!1,Ze=ne.child;Ze;){if(Ze===N){Ne=!0,N=ne,K=_e;break}if(Ze===K){Ne=!0,K=ne,N=_e;break}Ze=Ze.sibling}if(!Ne){for(Ze=_e.child;Ze;){if(Ze===N){Ne=!0,N=_e,K=ne;break}if(Ze===K){Ne=!0,K=_e,N=ne;break}Ze=Ze.sibling}if(!Ne)throw Error(o(189))}}if(N.alternate!==K)throw Error(o(190))}if(N.tag!==3)throw Error(o(188));return N.stateNode.current===N?b:S}function Z(b){if(b=B(b),!b)return null;for(var S=b;;){if(S.tag===5||S.tag===6)return S;if(S.child)S.child.return=S,S=S.child;else{if(S===b)break;for(;!S.sibling;){if(!S.return||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}}return null}function V(b){if(b=B(b),!b)return null;for(var S=b;;){if(S.tag===5||S.tag===6)return S;if(S.child&&S.tag!==4)S.child.return=S,S=S.child;else{if(S===b)break;for(;!S.sibling;){if(!S.return||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}}return null}function j(b,S){for(var N=b.alternate;S!==null;){if(S===b||S===N)return!0;S=S.return}return!1}var z=e.getPublicInstance,W=e.getRootHostContext,J=e.getChildHostContext,oe=e.prepareForCommit,le=e.resetAfterCommit,fe=e.createInstance,$=e.appendInitialChild,ae=e.finalizeInitialChildren,se=e.prepareUpdate,ce=e.shouldSetTextContent,he=e.createTextInstance,we=e.scheduleTimeout,xe=e.cancelTimeout,Oe=e.noTimeout,ge=e.isPrimaryRenderer,De=e.supportsMutation,pe=e.supportsPersistence,de=e.supportsHydration,ie=e.getInstanceFromNode,re=e.makeOpaqueHydratingObject,q=e.makeClientId,te=e.beforeActiveInstanceBlur,G=e.afterActiveInstanceBlur,P=e.preparePortalMount,I=e.supportsTestSelectors,U=e.findFiberRoot,Q=e.getBoundingRect,ye=e.getTextContent,Ie=e.isHiddenSubtree,be=e.matchAccessibilityRole,Pe=e.setFocusIfFocusable,ze=e.setupIntersectionObserver,qe=e.appendChild,Ye=e.appendChildToContainer,Me=e.commitTextUpdate,Ge=e.commitMount,et=e.commitUpdate,ut=e.insertBefore,ct=e.insertInContainerBefore,X=e.removeChild,Ae=e.removeChildFromContainer,ke=e.resetTextContent,Je=e.hideInstance,Re=e.hideTextInstance,He=e.unhideInstance,ue=e.unhideTextInstance,Ke=e.clearContainer,pt=e.cloneInstance,L=e.createContainerChildSet,Le=e.appendChildToContainerChildSet,Ue=e.finalizeContainerChildren,Y=e.replaceContainerChildren,Se=e.cloneHiddenInstance,Ve=e.cloneHiddenTextInstance,lt=e.canHydrateInstance,ve=e.canHydrateTextInstance,Be=e.isSuspenseInstancePending,je=e.isSuspenseInstanceFallback,tt=e.getNextHydratableSibling,it=e.getFirstHydratableChild,gt=e.hydrateInstance,yt=e.hydrateTextInstance,Ct=e.getNextHydratableInstanceAfterSuspenseInstance,At=e.commitHydratedContainer,Yt=e.commitHydratedSuspenseInstance,zt;function Rt(b){if(zt===void 0)try{throw Error()}catch(N){var S=N.stack.trim().match(/\n( *(at )?)/);zt=S&&S[1]||""}return`
`+zt+b}var Qt=!1;function hn(b,S){if(!b||Qt)return"";Qt=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(at){var K=at}Reflect.construct(b,[],S)}else{try{S.call()}catch(at){K=at}b.call(S.prototype)}else{try{throw Error()}catch(at){K=at}b()}}catch(at){if(at&&K&&typeof at.stack=="string"){for(var ne=at.stack.split(`
`),_e=K.stack.split(`
`),Ne=ne.length-1,Ze=_e.length-1;1<=Ne&&0<=Ze&&ne[Ne]!==_e[Ze];)Ze--;for(;1<=Ne&&0<=Ze;Ne--,Ze--)if(ne[Ne]!==_e[Ze]){if(Ne!==1||Ze!==1)do if(Ne--,Ze--,0>Ze||ne[Ne]!==_e[Ze])return`
`+ne[Ne].replace(" at new "," at ");while(1<=Ne&&0<=Ze);break}}}finally{Qt=!1,Error.prepareStackTrace=N}return(b=b?b.displayName||b.name:"")?Rt(b):""}var Ft=[],kn=-1;function Vt(b){return{current:b}}function on(b){0>kn||(b.current=Ft[kn],Ft[kn]=null,kn--)}function fn(b,S){kn++,Ft[kn]=b.current,b.current=S}var Kn={},Sn=Vt(Kn),en=Vt(!1),Mr=Kn;function $n(b,S){var N=b.type.contextTypes;if(!N)return Kn;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===S)return K.__reactInternalMemoizedMaskedChildContext;var ne={},_e;for(_e in N)ne[_e]=S[_e];return K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=S,b.__reactInternalMemoizedMaskedChildContext=ne),ne}function Tr(b){return b=b.childContextTypes,b!=null}function Oo(){on(en),on(Sn)}function Ql(b,S,N){if(Sn.current!==Kn)throw Error(o(168));fn(Sn,S),fn(en,N)}function eo(b,S,N){var K=b.stateNode;if(b=S.childContextTypes,typeof K.getChildContext!="function")return N;K=K.getChildContext();for(var ne in K)if(!(ne in b))throw Error(o(108,O(S)||"Unknown",ne));return n({},N,K)}function Kl(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Kn,Mr=Sn.current,fn(Sn,b),fn(en,en.current),!0}function Kh(b,S,N){var K=b.stateNode;if(!K)throw Error(o(169));N?(b=eo(b,S,Mr),K.__reactInternalMemoizedMergedChildContext=b,on(en),on(Sn),fn(Sn,b)):on(en),fn(en,N)}var $l=null,No=null,j0=a.unstable_now;j0();var ko=0,Pn=8;function Fo(b){if((1&b)!=0)return Pn=15,1;if((2&b)!=0)return Pn=14,2;if((4&b)!=0)return Pn=13,4;var S=24&b;return S!==0?(Pn=12,S):(b&32)!=0?(Pn=11,32):(S=192&b,S!==0?(Pn=10,S):(b&256)!=0?(Pn=9,256):(S=3584&b,S!==0?(Pn=8,S):(b&4096)!=0?(Pn=7,4096):(S=4186112&b,S!==0?(Pn=6,S):(S=62914560&b,S!==0?(Pn=5,S):b&67108864?(Pn=4,67108864):(b&134217728)!=0?(Pn=3,134217728):(S=805306368&b,S!==0?(Pn=2,S):(1073741824&b)!=0?(Pn=1,1073741824):(Pn=8,b))))))}function Z0(b){switch(b){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function X0(b){switch(b){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,b))}}function Bo(b,S){var N=b.pendingLanes;if(N===0)return Pn=0;var K=0,ne=0,_e=b.expiredLanes,Ne=b.suspendedLanes,Ze=b.pingedLanes;if(_e!==0)K=_e,ne=Pn=15;else if(_e=N&134217727,_e!==0){var at=_e&~Ne;at!==0?(K=Fo(at),ne=Pn):(Ze&=_e,Ze!==0&&(K=Fo(Ze),ne=Pn))}else _e=N&~Ne,_e!==0?(K=Fo(_e),ne=Pn):Ze!==0&&(K=Fo(Ze),ne=Pn);if(K===0)return 0;if(K=31-Ca(K),K=N&((0>K?0:1<<K)<<1)-1,S!==0&&S!==K&&(S&Ne)==0){if(Fo(S),ne<=Pn)return S;Pn=ne}if(S=b.entangledLanes,S!==0)for(b=b.entanglements,S&=K;0<S;)N=31-Ca(S),ne=1<<N,K|=b[N],S&=~ne;return K}function Y0(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function eu(b,S){switch(b){case 15:return 1;case 14:return 2;case 12:return b=to(24&~S),b===0?eu(10,S):b;case 10:return b=to(192&~S),b===0?eu(8,S):b;case 8:return b=to(3584&~S),b===0&&(b=to(4186112&~S),b===0&&(b=512)),b;case 2:return S=to(805306368&~S),S===0&&(S=268435456),S}throw Error(o(358,b))}function to(b){return b&-b}function tu(b){for(var S=[],N=0;31>N;N++)S.push(b);return S}function Aa(b,S,N){b.pendingLanes|=S;var K=S-1;b.suspendedLanes&=K,b.pingedLanes&=K,b=b.eventTimes,S=31-Ca(S),b[S]=N}var Ca=Math.clz32?Math.clz32:J0,q0=Math.log,a_=Math.LN2;function J0(b){return b===0?32:31-(q0(b)/a_|0)|0}var Q0=a.unstable_runWithPriority,Rf=a.unstable_scheduleCallback,Lf=a.unstable_cancelCallback,o_=a.unstable_shouldYield,K0=a.unstable_requestPaint,$h=a.unstable_now,$0=a.unstable_getCurrentPriorityLevel,Pf=a.unstable_ImmediatePriority,em=a.unstable_UserBlockingPriority,tm=a.unstable_NormalPriority,nm=a.unstable_LowPriority,If=a.unstable_IdlePriority,ed={},s_=K0!==void 0?K0:function(){},Ra=null,Df=null,td=!1,Dn=$h(),Kt=1e4>Dn?$h:function(){return $h()-Dn};function Is(){switch($0()){case Pf:return 99;case em:return 98;case tm:return 97;case nm:return 96;case If:return 95;default:throw Error(o(332))}}function rm(b){switch(b){case 99:return Pf;case 98:return em;case 97:return tm;case 96:return nm;case 95:return If;default:throw Error(o(332))}}function La(b,S){return b=rm(b),Q0(b,S)}function nu(b,S,N){return b=rm(b),Rf(b,S,N)}function bi(){if(Df!==null){var b=Df;Df=null,Lf(b)}im()}function im(){if(!td&&Ra!==null){td=!0;var b=0;try{var S=Ra;La(99,function(){for(;b<S.length;b++){var N=S[b];do N=N(!0);while(N!==null)}}),Ra=null}catch(N){throw Ra!==null&&(Ra=Ra.slice(b+1)),Rf(Pf,bi),N}finally{td=!1}}}var am=l.ReactCurrentBatchConfig;function l_(b,S){return b===S&&(b!==0||1/b==1/S)||b!==b&&S!==S}var Mn=typeof Object.is=="function"?Object.is:l_,nd=Object.prototype.hasOwnProperty;function Ki(b,S){if(Mn(b,S))return!0;if(typeof b!="object"||b===null||typeof S!="object"||S===null)return!1;var N=Object.keys(b),K=Object.keys(S);if(N.length!==K.length)return!1;for(K=0;K<N.length;K++)if(!nd.call(S,N[K])||!Mn(b[N[K]],S[N[K]]))return!1;return!0}function om(b){switch(b.tag){case 5:return Rt(b.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return b=hn(b.type,!1),b;case 11:return b=hn(b.type.render,!1),b;case 22:return b=hn(b.type._render,!1),b;case 1:return b=hn(b.type,!0),b;default:return""}}function di(b,S){if(b&&b.defaultProps){S=n({},S),b=b.defaultProps;for(var N in b)S[N]===void 0&&(S[N]=b[N]);return S}return S}var Fr=Vt(null),ru=null,zo=null,iu=null;function Of(){iu=zo=ru=null}function rd(b,S){b=b.type._context,ge?(fn(Fr,b._currentValue),b._currentValue=S):(fn(Fr,b._currentValue2),b._currentValue2=S)}function Nf(b){var S=Fr.current;on(Fr),b=b.type._context,ge?b._currentValue=S:b._currentValue2=S}function Jr(b,S){for(;b!==null;){var N=b.alternate;if((b.childLanes&S)===S){if(N===null||(N.childLanes&S)===S)break;N.childLanes|=S}else b.childLanes|=S,N!==null&&(N.childLanes|=S);b=b.return}}function Ds(b,S){ru=b,iu=zo=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&S)!=0&&(ei=!0),b.firstContext=null)}function Wn(b,S){if(iu!==b&&S!==!1&&S!==0)if((typeof S!="number"||S===1073741823)&&(iu=b,S=1073741823),S={context:b,observedBits:S,next:null},zo===null){if(ru===null)throw Error(o(308));zo=S,ru.dependencies={lanes:0,firstContext:S,responders:null}}else zo=zo.next=S;return ge?b._currentValue:b._currentValue2}var no=!1;function kf(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pa(b,S){b=b.updateQueue,S.updateQueue===b&&(S.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Hi(b,S){return{eventTime:b,lane:S,tag:0,payload:null,callback:null,next:null}}function $i(b,S){if(b=b.updateQueue,b!==null){b=b.shared;var N=b.pending;N===null?S.next=S:(S.next=N.next,N.next=S),b.pending=S}}function Fn(b,S){var N=b.updateQueue,K=b.alternate;if(K!==null&&(K=K.updateQueue,N===K)){var ne=null,_e=null;if(N=N.firstBaseUpdate,N!==null){do{var Ne={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};_e===null?ne=_e=Ne:_e=_e.next=Ne,N=N.next}while(N!==null);_e===null?ne=_e=S:_e=_e.next=S}else ne=_e=S;N={baseState:K.baseState,firstBaseUpdate:ne,lastBaseUpdate:_e,shared:K.shared,effects:K.effects},b.updateQueue=N;return}b=N.lastBaseUpdate,b===null?N.firstBaseUpdate=S:b.next=S,N.lastBaseUpdate=S}function Ei(b,S,N,K){var ne=b.updateQueue;no=!1;var _e=ne.firstBaseUpdate,Ne=ne.lastBaseUpdate,Ze=ne.shared.pending;if(Ze!==null){ne.shared.pending=null;var at=Ze,_t=at.next;at.next=null,Ne===null?_e=_t:Ne.next=_t,Ne=at;var It=b.alternate;if(It!==null){It=It.updateQueue;var jt=It.lastBaseUpdate;jt!==Ne&&(jt===null?It.firstBaseUpdate=_t:jt.next=_t,It.lastBaseUpdate=at)}}if(_e!==null){jt=ne.baseState,Ne=0,It=_t=at=null;do{Ze=_e.lane;var xt=_e.eventTime;if((K&Ze)===Ze){It!==null&&(It=It.next={eventTime:xt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var An=b,Bn=_e;switch(Ze=S,xt=N,Bn.tag){case 1:if(An=Bn.payload,typeof An=="function"){jt=An.call(xt,jt,Ze);break e}jt=An;break e;case 3:An.flags=An.flags&-4097|64;case 0:if(An=Bn.payload,Ze=typeof An=="function"?An.call(xt,jt,Ze):An,Ze==null)break e;jt=n({},jt,Ze);break e;case 2:no=!0}}_e.callback!==null&&(b.flags|=32,Ze=ne.effects,Ze===null?ne.effects=[_e]:Ze.push(_e))}else xt={eventTime:xt,lane:Ze,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},It===null?(_t=It=xt,at=jt):It=It.next=xt,Ne|=Ze;if(_e=_e.next,_e===null){if(Ze=ne.shared.pending,Ze===null)break;_e=Ze.next,Ze.next=null,ne.lastBaseUpdate=Ze,ne.shared.pending=null}}while(1);It===null&&(at=jt),ne.baseState=at,ne.firstBaseUpdate=_t,ne.lastBaseUpdate=It,Su|=Ne,b.lanes=Ne,b.memoizedState=jt}}function Ff(b,S,N){if(b=S.effects,S.effects=null,b!==null)for(S=0;S<b.length;S++){var K=b[S],ne=K.callback;if(ne!==null){if(K.callback=null,K=N,typeof ne!="function")throw Error(o(191,ne));ne.call(K)}}}var sm=new i.Component().refs;function Os(b,S,N,K){S=b.memoizedState,N=N(K,S),N=N==null?S:n({},S,N),b.memoizedState=N,b.lanes===0&&(b.updateQueue.baseState=N)}var Bf={isMounted:function(b){return(b=b._reactInternals)?k(b)===b:!1},enqueueSetState:function(b,S,N){b=b._reactInternals;var K=Zn(),ne=la(b),_e=Hi(K,ne);_e.payload=S,N!=null&&(_e.callback=N),$i(b,_e),Ai(b,ne,K)},enqueueReplaceState:function(b,S,N){b=b._reactInternals;var K=Zn(),ne=la(b),_e=Hi(K,ne);_e.tag=1,_e.payload=S,N!=null&&(_e.callback=N),$i(b,_e),Ai(b,ne,K)},enqueueForceUpdate:function(b,S){b=b._reactInternals;var N=Zn(),K=la(b),ne=Hi(N,K);ne.tag=2,S!=null&&(ne.callback=S),$i(b,ne),Ai(b,K,N)}};function lm(b,S,N,K,ne,_e,Ne){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(K,_e,Ne):S.prototype&&S.prototype.isPureReactComponent?!Ki(N,K)||!Ki(ne,_e):!0}function um(b,S,N){var K=!1,ne=Kn,_e=S.contextType;return typeof _e=="object"&&_e!==null?_e=Wn(_e):(ne=Tr(S)?Mr:Sn.current,K=S.contextTypes,_e=(K=K!=null)?$n(b,ne):Kn),S=new S(N,_e),b.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Bf,b.stateNode=S,S._reactInternals=b,K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=ne,b.__reactInternalMemoizedMaskedChildContext=_e),S}function id(b,S,N,K){b=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(N,K),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(N,K),S.state!==b&&Bf.enqueueReplaceState(S,S.state,null)}function Ns(b,S,N,K){var ne=b.stateNode;ne.props=N,ne.state=b.memoizedState,ne.refs=sm,kf(b);var _e=S.contextType;typeof _e=="object"&&_e!==null?ne.context=Wn(_e):(_e=Tr(S)?Mr:Sn.current,ne.context=$n(b,_e)),Ei(b,N,ne,K),ne.state=b.memoizedState,_e=S.getDerivedStateFromProps,typeof _e=="function"&&(Os(b,S,_e,N),ne.state=b.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof ne.getSnapshotBeforeUpdate=="function"||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(S=ne.state,typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount(),S!==ne.state&&Bf.enqueueReplaceState(ne,ne.state,null),Ei(b,N,ne,K),ne.state=b.memoizedState),typeof ne.componentDidMount=="function"&&(b.flags|=4)}var Ia=Array.isArray;function au(b,S,N){if(b=N.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(o(309));var K=N.stateNode}if(!K)throw Error(o(147,b));var ne=""+b;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===ne?S.ref:(S=function(_e){var Ne=K.refs;Ne===sm&&(Ne=K.refs={}),_e===null?delete Ne[ne]:Ne[ne]=_e},S._stringRef=ne,S)}if(typeof b!="string")throw Error(o(284));if(!N._owner)throw Error(o(290,b))}return b}function ou(b,S){if(b.type!=="textarea")throw Error(o(31,Object.prototype.toString.call(S)==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":S))}function ad(b){function S(nt,Qe){if(b){var st=nt.lastEffect;st!==null?(st.nextEffect=Qe,nt.lastEffect=Qe):nt.firstEffect=nt.lastEffect=Qe,Qe.nextEffect=null,Qe.flags=8}}function N(nt,Qe){if(!b)return null;for(;Qe!==null;)S(nt,Qe),Qe=Qe.sibling;return null}function K(nt,Qe){for(nt=new Map;Qe!==null;)Qe.key!==null?nt.set(Qe.key,Qe):nt.set(Qe.index,Qe),Qe=Qe.sibling;return nt}function ne(nt,Qe){return nt=ho(nt,Qe),nt.index=0,nt.sibling=null,nt}function _e(nt,Qe,st){return nt.index=st,b?(st=nt.alternate,st!==null?(st=st.index,st<Qe?(nt.flags=2,Qe):st):(nt.flags=2,Qe)):Qe}function Ne(nt){return b&&nt.alternate===null&&(nt.flags=2),nt}function Ze(nt,Qe,st,Mt){return Qe===null||Qe.tag!==6?(Qe=Dd(st,nt.mode,Mt),Qe.return=nt,Qe):(Qe=ne(Qe,st),Qe.return=nt,Qe)}function at(nt,Qe,st,Mt){return Qe!==null&&Qe.elementType===st.type?(Mt=ne(Qe,st.props),Mt.ref=au(nt,Qe,st),Mt.return=nt,Mt):(Mt=fc(st.type,st.key,st.props,null,nt.mode,Mt),Mt.ref=au(nt,Qe,st),Mt.return=nt,Mt)}function _t(nt,Qe,st,Mt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==st.containerInfo||Qe.stateNode.implementation!==st.implementation?(Qe=Od(st,nt.mode,Mt),Qe.return=nt,Qe):(Qe=ne(Qe,st.children||[]),Qe.return=nt,Qe)}function It(nt,Qe,st,Mt,kt){return Qe===null||Qe.tag!==7?(Qe=ca(st,nt.mode,Mt,kt),Qe.return=nt,Qe):(Qe=ne(Qe,st),Qe.return=nt,Qe)}function jt(nt,Qe,st){if(typeof Qe=="string"||typeof Qe=="number")return Qe=Dd(""+Qe,nt.mode,st),Qe.return=nt,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case c:return st=fc(Qe.type,Qe.key,Qe.props,null,nt.mode,st),st.ref=au(nt,null,Qe),st.return=nt,st;case g:return Qe=Od(Qe,nt.mode,st),Qe.return=nt,Qe}if(Ia(Qe)||D(Qe))return Qe=ca(Qe,nt.mode,st,null),Qe.return=nt,Qe;ou(nt,Qe)}return null}function xt(nt,Qe,st,Mt){var kt=Qe!==null?Qe.key:null;if(typeof st=="string"||typeof st=="number")return kt!==null?null:Ze(nt,Qe,""+st,Mt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case c:return st.key===kt?st.type===m?It(nt,Qe,st.props.children,Mt,kt):at(nt,Qe,st,Mt):null;case g:return st.key===kt?_t(nt,Qe,st,Mt):null}if(Ia(st)||D(st))return kt!==null?null:It(nt,Qe,st,Mt,null);ou(nt,st)}return null}function An(nt,Qe,st,Mt,kt){if(typeof Mt=="string"||typeof Mt=="number")return nt=nt.get(st)||null,Ze(Qe,nt,""+Mt,kt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case c:return nt=nt.get(Mt.key===null?st:Mt.key)||null,Mt.type===m?It(Qe,nt,Mt.props.children,kt,Mt.key):at(Qe,nt,Mt,kt);case g:return nt=nt.get(Mt.key===null?st:Mt.key)||null,_t(Qe,nt,Mt,kt)}if(Ia(Mt)||D(Mt))return nt=nt.get(st)||null,It(Qe,nt,Mt,kt,null);ou(Qe,Mt)}return null}function Bn(nt,Qe,st,Mt){for(var kt=null,On=null,Zt=Qe,yn=Qe=0,dn=null;Zt!==null&&yn<st.length;yn++){Zt.index>yn?(dn=Zt,Zt=null):dn=Zt.sibling;var Jt=xt(nt,Zt,st[yn],Mt);if(Jt===null){Zt===null&&(Zt=dn);break}b&&Zt&&Jt.alternate===null&&S(nt,Zt),Qe=_e(Jt,Qe,yn),On===null?kt=Jt:On.sibling=Jt,On=Jt,Zt=dn}if(yn===st.length)return N(nt,Zt),kt;if(Zt===null){for(;yn<st.length;yn++)Zt=jt(nt,st[yn],Mt),Zt!==null&&(Qe=_e(Zt,Qe,yn),On===null?kt=Zt:On.sibling=Zt,On=Zt);return kt}for(Zt=K(nt,Zt);yn<st.length;yn++)dn=An(Zt,nt,yn,st[yn],Mt),dn!==null&&(b&&dn.alternate!==null&&Zt.delete(dn.key===null?yn:dn.key),Qe=_e(dn,Qe,yn),On===null?kt=dn:On.sibling=dn,On=dn);return b&&Zt.forEach(function(po){return S(nt,po)}),kt}function ni(nt,Qe,st,Mt){var kt=D(st);if(typeof kt!="function")throw Error(o(150));if(st=kt.call(st),st==null)throw Error(o(151));for(var On=kt=null,Zt=Qe,yn=Qe=0,dn=null,Jt=st.next();Zt!==null&&!Jt.done;yn++,Jt=st.next()){Zt.index>yn?(dn=Zt,Zt=null):dn=Zt.sibling;var po=xt(nt,Zt,Jt.value,Mt);if(po===null){Zt===null&&(Zt=dn);break}b&&Zt&&po.alternate===null&&S(nt,Zt),Qe=_e(po,Qe,yn),On===null?kt=po:On.sibling=po,On=po,Zt=dn}if(Jt.done)return N(nt,Zt),kt;if(Zt===null){for(;!Jt.done;yn++,Jt=st.next())Jt=jt(nt,Jt.value,Mt),Jt!==null&&(Qe=_e(Jt,Qe,yn),On===null?kt=Jt:On.sibling=Jt,On=Jt);return kt}for(Zt=K(nt,Zt);!Jt.done;yn++,Jt=st.next())Jt=An(Zt,nt,yn,Jt.value,Mt),Jt!==null&&(b&&Jt.alternate!==null&&Zt.delete(Jt.key===null?yn:Jt.key),Qe=_e(Jt,Qe,yn),On===null?kt=Jt:On.sibling=Jt,On=Jt);return b&&Zt.forEach(function(x_){return S(nt,x_)}),kt}return function(nt,Qe,st,Mt){var kt=typeof st=="object"&&st!==null&&st.type===m&&st.key===null;kt&&(st=st.props.children);var On=typeof st=="object"&&st!==null;if(On)switch(st.$$typeof){case c:e:{for(On=st.key,kt=Qe;kt!==null;){if(kt.key===On){switch(kt.tag){case 7:if(st.type===m){N(nt,kt.sibling),Qe=ne(kt,st.props.children),Qe.return=nt,nt=Qe;break e}break;default:if(kt.elementType===st.type){N(nt,kt.sibling),Qe=ne(kt,st.props),Qe.ref=au(nt,kt,st),Qe.return=nt,nt=Qe;break e}}N(nt,kt);break}else S(nt,kt);kt=kt.sibling}st.type===m?(Qe=ca(st.props.children,nt.mode,Mt,st.key),Qe.return=nt,nt=Qe):(Mt=fc(st.type,st.key,st.props,null,nt.mode,Mt),Mt.ref=au(nt,Qe,st),Mt.return=nt,nt=Mt)}return Ne(nt);case g:e:{for(kt=st.key;Qe!==null;){if(Qe.key===kt)if(Qe.tag===4&&Qe.stateNode.containerInfo===st.containerInfo&&Qe.stateNode.implementation===st.implementation){N(nt,Qe.sibling),Qe=ne(Qe,st.children||[]),Qe.return=nt,nt=Qe;break e}else{N(nt,Qe);break}else S(nt,Qe);Qe=Qe.sibling}Qe=Od(st,nt.mode,Mt),Qe.return=nt,nt=Qe}return Ne(nt)}if(typeof st=="string"||typeof st=="number")return st=""+st,Qe!==null&&Qe.tag===6?(N(nt,Qe.sibling),Qe=ne(Qe,st),Qe.return=nt,nt=Qe):(N(nt,Qe),Qe=Dd(st,nt.mode,Mt),Qe.return=nt,nt=Qe),Ne(nt);if(Ia(st))return Bn(nt,Qe,st,Mt);if(D(st))return ni(nt,Qe,st,Mt);if(On&&ou(nt,st),typeof st=="undefined"&&!kt)switch(nt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,O(nt.type)||"Component"))}return N(nt,Qe)}}var ks=ad(!0),zf=ad(!1),Fs={},Si=Vt(Fs),Uo=Vt(Fs),ro=Vt(Fs);function ea(b){if(b===Fs)throw Error(o(174));return b}function Uf(b,S){fn(ro,S),fn(Uo,b),fn(Si,Fs),b=W(S),on(Si),fn(Si,b)}function wr(){on(Si),on(Uo),on(ro)}function Hf(b){var S=ea(ro.current),N=ea(Si.current);S=J(N,b.type,S),N!==S&&(fn(Uo,b),fn(Si,S))}function Ho(b){Uo.current===b&&(on(Si),on(Uo))}var Vn=Vt(0);function su(b){for(var S=b;S!==null;){if(S.tag===13){var N=S.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||Be(N)||je(N)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&64)!=0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===b)break;for(;S.sibling===null;){if(S.return===null||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var Da=null,Go=null,ta=!1;function fm(b,S){var N=Ci(5,null,null,0);N.elementType="DELETED",N.type="DELETED",N.stateNode=S,N.return=b,N.flags=8,b.lastEffect!==null?(b.lastEffect.nextEffect=N,b.lastEffect=N):b.firstEffect=b.lastEffect=N}function cm(b,S){switch(b.tag){case 5:return S=lt(S,b.type,b.pendingProps),S!==null?(b.stateNode=S,!0):!1;case 6:return S=ve(S,b.pendingProps),S!==null?(b.stateNode=S,!0):!1;case 13:return!1;default:return!1}}function io(b){if(ta){var S=Go;if(S){var N=S;if(!cm(b,S)){if(S=tt(N),!S||!cm(b,S)){b.flags=b.flags&-1025|2,ta=!1,Da=b;return}fm(Da,N)}Da=b,Go=it(S)}else b.flags=b.flags&-1025|2,ta=!1,Da=b}}function hm(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Da=b}function Gf(b){if(!de||b!==Da)return!1;if(!ta)return hm(b),ta=!0,!1;var S=b.type;if(b.tag!==5||S!=="head"&&S!=="body"&&!ce(S,b.memoizedProps))for(S=Go;S;)fm(b,S),S=tt(S);if(hm(b),b.tag===13){if(!de)throw Error(o(316));if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(o(317));Go=Ct(b)}else Go=Da?tt(b.stateNode):null;return!0}function lu(){de&&(Go=Da=null,ta=!1)}var Wo=[];function na(){for(var b=0;b<Wo.length;b++){var S=Wo[b];ge?S._workInProgressVersionPrimary=null:S._workInProgressVersionSecondary=null}Wo.length=0}var ao=l.ReactCurrentDispatcher,Mi=l.ReactCurrentBatchConfig,uu=0,er=null,tr=null,In=null,fu=!1,cu=!1;function Qr(){throw Error(o(321))}function od(b,S){if(S===null)return!1;for(var N=0;N<S.length&&N<b.length;N++)if(!Mn(b[N],S[N]))return!1;return!0}function sd(b,S,N,K,ne,_e){if(uu=_e,er=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,ao.current=b===null||b.memoizedState===null?Zf:oo,b=N(K,ne),cu){_e=0;do{if(cu=!1,!(25>_e))throw Error(o(301));_e+=1,In=tr=null,S.updateQueue=null,ao.current=Xf,b=N(K,ne)}while(cu)}if(ao.current=jf,S=tr!==null&&tr.next!==null,uu=0,In=tr=er=null,fu=!1,S)throw Error(o(300));return b}function Vo(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?er.memoizedState=In=b:In=In.next=b,In}function Kr(){if(tr===null){var b=er.alternate;b=b!==null?b.memoizedState:null}else b=tr.next;var S=In===null?er.memoizedState:In.next;if(S!==null)In=S,tr=b;else{if(b===null)throw Error(o(310));tr=b,b={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},In===null?er.memoizedState=In=b:In=In.next=b}return In}function Xe(b,S){return typeof S=="function"?S(b):S}function ot(b){var S=Kr(),N=S.queue;if(N===null)throw Error(o(311));N.lastRenderedReducer=b;var K=tr,ne=K.baseQueue,_e=N.pending;if(_e!==null){if(ne!==null){var Ne=ne.next;ne.next=_e.next,_e.next=Ne}K.baseQueue=ne=_e,N.pending=null}if(ne!==null){ne=ne.next,K=K.baseState;var Ze=Ne=_e=null,at=ne;do{var _t=at.lane;if((uu&_t)===_t)Ze!==null&&(Ze=Ze.next={lane:0,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null}),K=at.eagerReducer===b?at.eagerState:b(K,at.action);else{var It={lane:_t,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null};Ze===null?(Ne=Ze=It,_e=K):Ze=Ze.next=It,er.lanes|=_t,Su|=_t}at=at.next}while(at!==null&&at!==ne);Ze===null?_e=K:Ze.next=Ne,Mn(K,S.memoizedState)||(ei=!0),S.memoizedState=K,S.baseState=_e,S.baseQueue=Ze,N.lastRenderedState=K}return[S.memoizedState,N.dispatch]}function rt(b){var S=Kr(),N=S.queue;if(N===null)throw Error(o(311));N.lastRenderedReducer=b;var K=N.dispatch,ne=N.pending,_e=S.memoizedState;if(ne!==null){N.pending=null;var Ne=ne=ne.next;do _e=b(_e,Ne.action),Ne=Ne.next;while(Ne!==ne);Mn(_e,S.memoizedState)||(ei=!0),S.memoizedState=_e,S.baseQueue===null&&(S.baseState=_e),N.lastRenderedState=_e}return[_e,K]}function Tt(b,S,N){var K=S._getVersion;K=K(S._source);var ne=ge?S._workInProgressVersionPrimary:S._workInProgressVersionSecondary;if(ne!==null?b=ne===K:(b=b.mutableReadLanes,(b=(uu&b)===b)&&(ge?S._workInProgressVersionPrimary=K:S._workInProgressVersionSecondary=K,Wo.push(S))),b)return N(S._source);throw Wo.push(S),Error(o(350))}function Xt(b,S,N,K){var ne=zr;if(ne===null)throw Error(o(349));var _e=S._getVersion,Ne=_e(S._source),Ze=ao.current,at=Ze.useState(function(){return Tt(ne,S,N)}),_t=at[1],It=at[0];at=In;var jt=b.memoizedState,xt=jt.refs,An=xt.getSnapshot,Bn=jt.source;jt=jt.subscribe;var ni=er;return b.memoizedState={refs:xt,source:S,subscribe:K},Ze.useEffect(function(){xt.getSnapshot=N,xt.setSnapshot=_t;var nt=_e(S._source);if(!Mn(Ne,nt)){nt=N(S._source),Mn(It,nt)||(_t(nt),nt=la(ni),ne.mutableReadLanes|=nt&ne.pendingLanes),nt=ne.mutableReadLanes,ne.entangledLanes|=nt;for(var Qe=ne.entanglements,st=nt;0<st;){var Mt=31-Ca(st),kt=1<<Mt;Qe[Mt]|=nt,st&=~kt}}},[N,S,K]),Ze.useEffect(function(){return K(S._source,function(){var nt=xt.getSnapshot,Qe=xt.setSnapshot;try{Qe(nt(S._source));var st=la(ni);ne.mutableReadLanes|=st&ne.pendingLanes}catch(Mt){Qe(function(){throw Mt})}})},[S,K]),Mn(An,N)&&Mn(Bn,S)&&Mn(jt,K)||(b={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:It},b.dispatch=_t=fd.bind(null,er,b),at.queue=b,at.baseQueue=null,It=Tt(ne,S,N),at.memoizedState=at.baseState=It),It}function gn(b,S,N){var K=Kr();return Xt(K,b,S,N)}function jn(b){var S=Vo();return typeof b=="function"&&(b=b()),S.memoizedState=S.baseState=b,b=S.queue={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:b},b=b.dispatch=fd.bind(null,er,b),[S.memoizedState,b]}function bn(b,S,N,K){return b={tag:b,create:S,destroy:N,deps:K,next:null},S=er.updateQueue,S===null?(S={lastEffect:null},er.updateQueue=S,S.lastEffect=b.next=b):(N=S.lastEffect,N===null?S.lastEffect=b.next=b:(K=N.next,N.next=b,b.next=K,S.lastEffect=b)),b}function Wf(b){var S=Vo();return b={current:b},S.memoizedState=b}function Vf(){return Kr().memoizedState}function $r(b,S,N,K){var ne=Vo();er.flags|=b,ne.memoizedState=bn(1|S,N,void 0,K===void 0?null:K)}function Bs(b,S,N,K){var ne=Kr();K=K===void 0?null:K;var _e=void 0;if(tr!==null){var Ne=tr.memoizedState;if(_e=Ne.destroy,K!==null&&od(K,Ne.deps)){bn(S,N,_e,K);return}}er.flags|=b,ne.memoizedState=bn(1|S,N,_e,K)}function dm(b,S){return $r(516,4,b,S)}function Oa(b,S){return Bs(516,4,b,S)}function hu(b,S){return Bs(4,2,b,S)}function du(b,S){if(typeof S=="function")return b=b(),S(b),function(){S(null)};if(S!=null)return b=b(),S.current=b,function(){S.current=null}}function En(b,S,N){return N=N!=null?N.concat([b]):null,Bs(4,2,du.bind(null,S,b),N)}function ld(){}function ud(b,S){var N=Kr();S=S===void 0?null:S;var K=N.memoizedState;return K!==null&&S!==null&&od(S,K[1])?K[0]:(N.memoizedState=[b,S],b)}function pu(b,S){var N=Kr();S=S===void 0?null:S;var K=N.memoizedState;return K!==null&&S!==null&&od(S,K[1])?K[0]:(b=b(),N.memoizedState=[b,S],b)}function u_(b,S){var N=Is();La(98>N?98:N,function(){b(!0)}),La(97<N?97:N,function(){var K=Mi.transition;Mi.transition=1;try{b(!1),S()}finally{Mi.transition=K}})}function fd(b,S,N){var K=Zn(),ne=la(b),_e={lane:ne,action:N,eagerReducer:null,eagerState:null,next:null},Ne=S.pending;if(Ne===null?_e.next=_e:(_e.next=Ne.next,Ne.next=_e),S.pending=_e,Ne=b.alternate,b===er||Ne!==null&&Ne===er)cu=fu=!0;else{if(b.lanes===0&&(Ne===null||Ne.lanes===0)&&(Ne=S.lastRenderedReducer,Ne!==null))try{var Ze=S.lastRenderedState,at=Ne(Ze,N);if(_e.eagerReducer=Ne,_e.eagerState=at,Mn(at,Ze))return}catch{}finally{}Ai(b,ne,K)}}var jf={readContext:Wn,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useOpaqueIdentifier:Qr,unstable_isNewReconciler:!1},Zf={readContext:Wn,useCallback:function(b,S){return Vo().memoizedState=[b,S===void 0?null:S],b},useContext:Wn,useEffect:dm,useImperativeHandle:function(b,S,N){return N=N!=null?N.concat([b]):null,$r(4,2,du.bind(null,S,b),N)},useLayoutEffect:function(b,S){return $r(4,2,b,S)},useMemo:function(b,S){var N=Vo();return S=S===void 0?null:S,b=b(),N.memoizedState=[b,S],b},useReducer:function(b,S,N){var K=Vo();return S=N!==void 0?N(S):S,K.memoizedState=K.baseState=S,b=K.queue={pending:null,dispatch:null,lastRenderedReducer:b,lastRenderedState:S},b=b.dispatch=fd.bind(null,er,b),[K.memoizedState,b]},useRef:Wf,useState:jn,useDebugValue:ld,useDeferredValue:function(b){var S=jn(b),N=S[0],K=S[1];return dm(function(){var ne=Mi.transition;Mi.transition=1;try{K(b)}finally{Mi.transition=ne}},[b]),N},useTransition:function(){var b=jn(!1),S=b[0];return b=u_.bind(null,b[1]),Wf(b),[b,S]},useMutableSource:function(b,S,N){var K=Vo();return K.memoizedState={refs:{getSnapshot:S,setSnapshot:null},source:b,subscribe:N},Xt(K,b,S,N)},useOpaqueIdentifier:function(){if(ta){var b=!1,S=re(function(){throw b||(b=!0,N(q())),Error(o(355))}),N=jn(S)[1];return(er.mode&2)==0&&(er.flags|=516,bn(5,function(){N(q())},void 0,null)),S}return S=q(),jn(S),S},unstable_isNewReconciler:!1},oo={readContext:Wn,useCallback:ud,useContext:Wn,useEffect:Oa,useImperativeHandle:En,useLayoutEffect:hu,useMemo:pu,useReducer:ot,useRef:Vf,useState:function(){return ot(Xe)},useDebugValue:ld,useDeferredValue:function(b){var S=ot(Xe),N=S[0],K=S[1];return Oa(function(){var ne=Mi.transition;Mi.transition=1;try{K(b)}finally{Mi.transition=ne}},[b]),N},useTransition:function(){var b=ot(Xe)[0];return[Vf().current,b]},useMutableSource:gn,useOpaqueIdentifier:function(){return ot(Xe)[0]},unstable_isNewReconciler:!1},Xf={readContext:Wn,useCallback:ud,useContext:Wn,useEffect:Oa,useImperativeHandle:En,useLayoutEffect:hu,useMemo:pu,useReducer:rt,useRef:Vf,useState:function(){return rt(Xe)},useDebugValue:ld,useDeferredValue:function(b){var S=rt(Xe),N=S[0],K=S[1];return Oa(function(){var ne=Mi.transition;Mi.transition=1;try{K(b)}finally{Mi.transition=ne}},[b]),N},useTransition:function(){var b=rt(Xe)[0];return[Vf().current,b]},useMutableSource:gn,useOpaqueIdentifier:function(){return rt(Xe)[0]},unstable_isNewReconciler:!1},pm=l.ReactCurrentOwner,ei=!1;function Br(b,S,N,K){S.child=b===null?zf(S,null,N,K):ks(S,b.child,N,K)}function cd(b,S,N,K,ne){N=N.render;var _e=S.ref;return Ds(S,ne),K=sd(b,S,N,K,_e,ne),b!==null&&!ei?(S.updateQueue=b.updateQueue,S.flags&=-517,b.lanes&=~ne,Un(b,S,ne)):(S.flags|=1,Br(b,S,K,ne),S.child)}function mu(b,S,N,K,ne,_e){if(b===null){var Ne=N.type;return typeof Ne=="function"&&!Au(Ne)&&Ne.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(S.tag=15,S.type=Ne,hd(b,S,Ne,K,ne,_e)):(b=fc(N.type,null,K,S,S.mode,_e),b.ref=S.ref,b.return=S,S.child=b)}return Ne=b.child,(ne&_e)==0&&(ne=Ne.memoizedProps,N=N.compare,N=N!==null?N:Ki,N(ne,K)&&b.ref===S.ref)?Un(b,S,_e):(S.flags|=1,b=ho(Ne,K),b.ref=S.ref,b.return=S,S.child=b)}function hd(b,S,N,K,ne,_e){if(b!==null&&Ki(b.memoizedProps,K)&&b.ref===S.ref)if(ei=!1,(_e&ne)!=0)(b.flags&16384)!=0&&(ei=!0);else return S.lanes=b.lanes,Un(b,S,_e);return zs(b,S,N,K,_e)}function jo(b,S,N){var K=S.pendingProps,ne=K.children,_e=b!==null?b.memoizedState:null;if(K.mode==="hidden"||K.mode==="unstable-defer-without-hiding")if((S.mode&4)==0)S.memoizedState={baseLanes:0},ac(S,N);else if((N&1073741824)!=0)S.memoizedState={baseLanes:0},ac(S,_e!==null?_e.baseLanes:N);else return b=_e!==null?_e.baseLanes|N:N,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:b},ac(S,b),null;else _e!==null?(K=_e.baseLanes|N,S.memoizedState=null):K=N,ac(S,K);return Br(b,S,ne,N),S.child}function so(b,S){var N=S.ref;(b===null&&N!==null||b!==null&&b.ref!==N)&&(S.flags|=128)}function zs(b,S,N,K,ne){var _e=Tr(N)?Mr:Sn.current;return _e=$n(S,_e),Ds(S,ne),N=sd(b,S,N,K,_e,ne),b!==null&&!ei?(S.updateQueue=b.updateQueue,S.flags&=-517,b.lanes&=~ne,Un(b,S,ne)):(S.flags|=1,Br(b,S,N,ne),S.child)}function mm(b,S,N,K,ne){if(Tr(N)){var _e=!0;Kl(S)}else _e=!1;if(Ds(S,ne),S.stateNode===null)b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),um(S,N,K),Ns(S,N,K,ne),K=!0;else if(b===null){var Ne=S.stateNode,Ze=S.memoizedProps;Ne.props=Ze;var at=Ne.context,_t=N.contextType;typeof _t=="object"&&_t!==null?_t=Wn(_t):(_t=Tr(N)?Mr:Sn.current,_t=$n(S,_t));var It=N.getDerivedStateFromProps,jt=typeof It=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";jt||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Ze!==K||at!==_t)&&id(S,Ne,K,_t),no=!1;var xt=S.memoizedState;Ne.state=xt,Ei(S,K,Ne,ne),at=S.memoizedState,Ze!==K||xt!==at||en.current||no?(typeof It=="function"&&(Os(S,N,It,K),at=S.memoizedState),(Ze=no||lm(S,N,Ze,K,xt,at,_t))?(jt||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(S.flags|=4)):(typeof Ne.componentDidMount=="function"&&(S.flags|=4),S.memoizedProps=K,S.memoizedState=at),Ne.props=K,Ne.state=at,Ne.context=_t,K=Ze):(typeof Ne.componentDidMount=="function"&&(S.flags|=4),K=!1)}else{Ne=S.stateNode,Pa(b,S),Ze=S.memoizedProps,_t=S.type===S.elementType?Ze:di(S.type,Ze),Ne.props=_t,jt=S.pendingProps,xt=Ne.context,at=N.contextType,typeof at=="object"&&at!==null?at=Wn(at):(at=Tr(N)?Mr:Sn.current,at=$n(S,at));var An=N.getDerivedStateFromProps;(It=typeof An=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Ze!==jt||xt!==at)&&id(S,Ne,K,at),no=!1,xt=S.memoizedState,Ne.state=xt,Ei(S,K,Ne,ne);var Bn=S.memoizedState;Ze!==jt||xt!==Bn||en.current||no?(typeof An=="function"&&(Os(S,N,An,K),Bn=S.memoizedState),(_t=no||lm(S,N,_t,K,xt,Bn,at))?(It||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate(K,Bn,at),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate(K,Bn,at)),typeof Ne.componentDidUpdate=="function"&&(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(S.flags|=256)):(typeof Ne.componentDidUpdate!="function"||Ze===b.memoizedProps&&xt===b.memoizedState||(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Ze===b.memoizedProps&&xt===b.memoizedState||(S.flags|=256),S.memoizedProps=K,S.memoizedState=Bn),Ne.props=K,Ne.state=Bn,Ne.context=at,K=_t):(typeof Ne.componentDidUpdate!="function"||Ze===b.memoizedProps&&xt===b.memoizedState||(S.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Ze===b.memoizedProps&&xt===b.memoizedState||(S.flags|=256),K=!1)}return dd(b,S,N,K,_e,ne)}function dd(b,S,N,K,ne,_e){so(b,S);var Ne=(S.flags&64)!=0;if(!K&&!Ne)return ne&&Kh(S,N,!1),Un(b,S,_e);K=S.stateNode,pm.current=S;var Ze=Ne&&typeof N.getDerivedStateFromError!="function"?null:K.render();return S.flags|=1,b!==null&&Ne?(S.child=ks(S,b.child,null,_e),S.child=ks(S,null,Ze,_e)):Br(b,S,Ze,_e),S.memoizedState=K.state,ne&&Kh(S,N,!0),S.child}function gm(b){var S=b.stateNode;S.pendingContext?Ql(b,S.pendingContext,S.pendingContext!==S.context):S.context&&Ql(b,S.context,!1),Uf(b,S.containerInfo)}var Zo={dehydrated:null,retryLane:0};function gu(b,S,N){var K=S.pendingProps,ne=Vn.current,_e=!1,Ne;return(Ne=(S.flags&64)!=0)||(Ne=b!==null&&b.memoizedState===null?!1:(ne&2)!=0),Ne?(_e=!0,S.flags&=-65):b!==null&&b.memoizedState===null||K.fallback===void 0||K.unstable_avoidThisFallback===!0||(ne|=1),fn(Vn,ne&1),b===null?(K.fallback!==void 0&&io(S),b=K.children,ne=K.fallback,_e?(b=Yf(S,b,ne,N),S.child.memoizedState={baseLanes:N},S.memoizedState=Zo,b):typeof K.unstable_expectedLoadTime=="number"?(b=Yf(S,b,ne,N),S.child.memoizedState={baseLanes:N},S.memoizedState=Zo,S.lanes=33554432,b):(N=cc({mode:"visible",children:b},S.mode,N,null),N.return=S,S.child=N)):b.memoizedState!==null?_e?(K=pd(b,S,K.children,K.fallback,N),_e=S.child,ne=b.child.memoizedState,_e.memoizedState=ne===null?{baseLanes:N}:{baseLanes:ne.baseLanes|N},_e.childLanes=b.childLanes&~N,S.memoizedState=Zo,K):(N=vm(b,S,K.children,N),S.memoizedState=null,N):_e?(K=pd(b,S,K.children,K.fallback,N),_e=S.child,ne=b.child.memoizedState,_e.memoizedState=ne===null?{baseLanes:N}:{baseLanes:ne.baseLanes|N},_e.childLanes=b.childLanes&~N,S.memoizedState=Zo,K):(N=vm(b,S,K.children,N),S.memoizedState=null,N)}function Yf(b,S,N,K){var ne=b.mode,_e=b.child;return S={mode:"hidden",children:S},(ne&2)==0&&_e!==null?(_e.childLanes=0,_e.pendingProps=S):_e=cc(S,ne,0,null),N=ca(N,ne,K,null),_e.return=b,N.return=b,_e.sibling=N,b.child=_e,N}function vm(b,S,N,K){var ne=b.child;return b=ne.sibling,N=ho(ne,{mode:"visible",children:N}),(S.mode&2)==0&&(N.lanes=K),N.return=S,N.sibling=null,b!==null&&(b.nextEffect=null,b.flags=8,S.firstEffect=S.lastEffect=b),S.child=N}function pd(b,S,N,K,ne){var _e=S.mode,Ne=b.child;b=Ne.sibling;var Ze={mode:"hidden",children:N};return(_e&2)==0&&S.child!==Ne?(N=S.child,N.childLanes=0,N.pendingProps=Ze,Ne=N.lastEffect,Ne!==null?(S.firstEffect=N.firstEffect,S.lastEffect=Ne,Ne.nextEffect=null):S.firstEffect=S.lastEffect=null):N=ho(Ne,Ze),b!==null?K=ho(b,K):(K=ca(K,_e,ne,null),K.flags|=2),K.return=S,N.return=S,N.sibling=K,S.child=N,K}function _m(b,S){b.lanes|=S;var N=b.alternate;N!==null&&(N.lanes|=S),Jr(b.return,S)}function md(b,S,N,K,ne,_e){var Ne=b.memoizedState;Ne===null?b.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:K,tail:N,tailMode:ne,lastEffect:_e}:(Ne.isBackwards=S,Ne.rendering=null,Ne.renderingStartTime=0,Ne.last=K,Ne.tail=N,Ne.tailMode=ne,Ne.lastEffect=_e)}function or(b,S,N){var K=S.pendingProps,ne=K.revealOrder,_e=K.tail;if(Br(b,S,K.children,N),K=Vn.current,(K&2)!=0)K=K&1|2,S.flags|=64;else{if(b!==null&&(b.flags&64)!=0)e:for(b=S.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&_m(b,N);else if(b.tag===19)_m(b,N);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)break e;for(;b.sibling===null;){if(b.return===null||b.return===S)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}K&=1}if(fn(Vn,K),(S.mode&2)==0)S.memoizedState=null;else switch(ne){case"forwards":for(N=S.child,ne=null;N!==null;)b=N.alternate,b!==null&&su(b)===null&&(ne=N),N=N.sibling;N=ne,N===null?(ne=S.child,S.child=null):(ne=N.sibling,N.sibling=null),md(S,!1,ne,N,_e,S.lastEffect);break;case"backwards":for(N=null,ne=S.child,S.child=null;ne!==null;){if(b=ne.alternate,b!==null&&su(b)===null){S.child=ne;break}b=ne.sibling,ne.sibling=N,N=ne,ne=b}md(S,!0,N,null,_e,S.lastEffect);break;case"together":md(S,!1,null,null,void 0,S.lastEffect);break;default:S.memoizedState=null}return S.child}function Un(b,S,N){if(b!==null&&(S.dependencies=b.dependencies),Su|=S.lanes,(N&S.childLanes)!=0){if(b!==null&&S.child!==b.child)throw Error(o(153));if(S.child!==null){for(b=S.child,N=ho(b,b.pendingProps),S.child=N,N.return=S;b.sibling!==null;)b=b.sibling,N=N.sibling=ho(b,b.pendingProps),N.return=S;N.sibling=null}return S.child}return null}function ra(b){b.flags|=4}var vu,Us,qf,Hs;if(De)vu=function(b,S){for(var N=S.child;N!==null;){if(N.tag===5||N.tag===6)$(b,N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},Us=function(){},qf=function(b,S,N,K,ne){if(b=b.memoizedProps,b!==K){var _e=S.stateNode,Ne=ea(Si.current);N=se(_e,N,b,K,ne,Ne),(S.updateQueue=N)&&ra(S)}},Hs=function(b,S,N,K){N!==K&&ra(S)};else if(pe){vu=function(b,S,N,K){for(var ne=S.child;ne!==null;){if(ne.tag===5){var _e=ne.stateNode;N&&K&&(_e=Se(_e,ne.type,ne.memoizedProps,ne)),$(b,_e)}else if(ne.tag===6)_e=ne.stateNode,N&&K&&(_e=Ve(_e,ne.memoizedProps,ne)),$(b,_e);else if(ne.tag!==4){if(ne.tag===13&&(ne.flags&4)!=0&&(_e=ne.memoizedState!==null)){var Ne=ne.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,vu(b,Ne,!0,_e)),_e=Ne.sibling,_e!==null)){_e.return=ne,ne=_e;continue}}if(ne.child!==null){ne.child.return=ne,ne=ne.child;continue}}if(ne===S)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===S)return;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}};var Gs=function(b,S,N,K){for(var ne=S.child;ne!==null;){if(ne.tag===5){var _e=ne.stateNode;N&&K&&(_e=Se(_e,ne.type,ne.memoizedProps,ne)),Le(b,_e)}else if(ne.tag===6)_e=ne.stateNode,N&&K&&(_e=Ve(_e,ne.memoizedProps,ne)),Le(b,_e);else if(ne.tag!==4){if(ne.tag===13&&(ne.flags&4)!=0&&(_e=ne.memoizedState!==null)){var Ne=ne.child;if(Ne!==null&&(Ne.child!==null&&(Ne.child.return=Ne,Gs(b,Ne,!0,_e)),_e=Ne.sibling,_e!==null)){_e.return=ne,ne=_e;continue}}if(ne.child!==null){ne.child.return=ne,ne=ne.child;continue}}if(ne===S)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===S)return;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}};Us=function(b){var S=b.stateNode;if(b.firstEffect!==null){var N=S.containerInfo,K=L(N);Gs(K,b,!1,!1),S.pendingChildren=K,ra(b),Ue(N,K)}},qf=function(b,S,N,K,ne){var _e=b.stateNode,Ne=b.memoizedProps;if((b=S.firstEffect===null)&&Ne===K)S.stateNode=_e;else{var Ze=S.stateNode,at=ea(Si.current),_t=null;Ne!==K&&(_t=se(Ze,N,Ne,K,ne,at)),b&&_t===null?S.stateNode=_e:(_e=pt(_e,_t,N,Ne,K,S,b,Ze),ae(_e,N,K,ne,at)&&ra(S),S.stateNode=_e,b?ra(S):vu(_e,S,!1,!1))}},Hs=function(b,S,N,K){N!==K?(b=ea(ro.current),N=ea(Si.current),S.stateNode=he(K,b,N,S),ra(S)):S.stateNode=b.stateNode}}else Us=function(){},qf=function(){},Hs=function(){};function Xo(b,S){if(!ta)switch(b.tailMode){case"hidden":S=b.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?b.tail=null:N.sibling=null;break;case"collapsed":N=b.tail;for(var K=null;N!==null;)N.alternate!==null&&(K=N),N=N.sibling;K===null?S||b.tail===null?b.tail=null:b.tail.sibling=null:K.sibling=null}}function Ws(b,S,N){var K=S.pendingProps;switch(S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Tr(S.type)&&Oo(),null;case 3:return wr(),on(en),on(Sn),na(),K=S.stateNode,K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(b===null||b.child===null)&&(Gf(S)?ra(S):K.hydrate||(S.flags|=256)),Us(S),null;case 5:Ho(S);var ne=ea(ro.current);if(N=S.type,b!==null&&S.stateNode!=null)qf(b,S,N,K,ne),b.ref!==S.ref&&(S.flags|=128);else{if(!K){if(S.stateNode===null)throw Error(o(166));return null}if(b=ea(Si.current),Gf(S)){if(!de)throw Error(o(175));b=gt(S.stateNode,S.type,S.memoizedProps,ne,b,S),S.updateQueue=b,b!==null&&ra(S)}else{var _e=fe(N,K,ne,b,S);vu(_e,S,!1,!1),S.stateNode=_e,ae(_e,N,K,ne,b)&&ra(S)}S.ref!==null&&(S.flags|=128)}return null;case 6:if(b&&S.stateNode!=null)Hs(b,S,b.memoizedProps,K);else{if(typeof K!="string"&&S.stateNode===null)throw Error(o(166));if(b=ea(ro.current),ne=ea(Si.current),Gf(S)){if(!de)throw Error(o(176));yt(S.stateNode,S.memoizedProps,S)&&ra(S)}else S.stateNode=he(K,b,ne,S)}return null;case 13:return on(Vn),K=S.memoizedState,(S.flags&64)!=0?(S.lanes=N,S):(K=K!==null,ne=!1,b===null?S.memoizedProps.fallback!==void 0&&Gf(S):ne=b.memoizedState!==null,K&&!ne&&(S.mode&2)!=0&&(b===null&&S.memoizedProps.unstable_avoidThisFallback!==!0||(Vn.current&1)!=0?br===0&&(br=3):((br===0||br===3)&&(br=4),zr===null||(Su&134217727)==0&&(lo&134217727)==0||co(zr,Ir))),pe&&K&&(S.flags|=4),De&&(K||ne)&&(S.flags|=4),null);case 4:return wr(),Us(S),b===null&&P(S.stateNode.containerInfo),null;case 10:return Nf(S),null;case 17:return Tr(S.type)&&Oo(),null;case 19:if(on(Vn),K=S.memoizedState,K===null)return null;if(ne=(S.flags&64)!=0,_e=K.rendering,_e===null)if(ne)Xo(K,!1);else{if(br!==0||b!==null&&(b.flags&64)!=0)for(b=S.child;b!==null;){if(_e=su(b),_e!==null){for(S.flags|=64,Xo(K,!1),b=_e.updateQueue,b!==null&&(S.updateQueue=b,S.flags|=4),K.lastEffect===null&&(S.firstEffect=null),S.lastEffect=K.lastEffect,b=N,K=S.child;K!==null;)ne=K,N=b,ne.flags&=2,ne.nextEffect=null,ne.firstEffect=null,ne.lastEffect=null,_e=ne.alternate,_e===null?(ne.childLanes=0,ne.lanes=N,ne.child=null,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=_e.childLanes,ne.lanes=_e.lanes,ne.child=_e.child,ne.memoizedProps=_e.memoizedProps,ne.memoizedState=_e.memoizedState,ne.updateQueue=_e.updateQueue,ne.type=_e.type,N=_e.dependencies,ne.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),K=K.sibling;return fn(Vn,Vn.current&1|2),S.child}b=b.sibling}K.tail!==null&&Kt()>nc&&(S.flags|=64,ne=!0,Xo(K,!1),S.lanes=33554432)}else{if(!ne)if(b=su(_e),b!==null){if(S.flags|=64,ne=!0,b=b.updateQueue,b!==null&&(S.updateQueue=b,S.flags|=4),Xo(K,!0),K.tail===null&&K.tailMode==="hidden"&&!_e.alternate&&!ta)return S=S.lastEffect=K.lastEffect,S!==null&&(S.nextEffect=null),null}else 2*Kt()-K.renderingStartTime>nc&&N!==1073741824&&(S.flags|=64,ne=!0,Xo(K,!1),S.lanes=33554432);K.isBackwards?(_e.sibling=S.child,S.child=_e):(b=K.last,b!==null?b.sibling=_e:S.child=_e,K.last=_e)}return K.tail!==null?(b=K.tail,K.rendering=b,K.tail=b.sibling,K.lastEffect=S.lastEffect,K.renderingStartTime=Kt(),b.sibling=null,S=Vn.current,fn(Vn,ne?S&1|2:S&1),b):null;case 23:case 24:return es(),b!==null&&b.memoizedState!==null!=(S.memoizedState!==null)&&K.mode!=="unstable-defer-without-hiding"&&(S.flags|=4),null}throw Error(o(156,S.tag))}function _u(b){switch(b.tag){case 1:Tr(b.type)&&Oo();var S=b.flags;return S&4096?(b.flags=S&-4097|64,b):null;case 3:if(wr(),on(en),on(Sn),na(),S=b.flags,(S&64)!=0)throw Error(o(285));return b.flags=S&-4097|64,b;case 5:return Ho(b),null;case 13:return on(Vn),S=b.flags,S&4096?(b.flags=S&-4097|64,b):null;case 19:return on(Vn),null;case 4:return wr(),null;case 10:return Nf(b),null;case 23:case 24:return es(),null;default:return null}}function Yo(b,S){try{var N="",K=S;do N+=om(K),K=K.return;while(K);var ne=N}catch(_e){ne=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:b,source:S,stack:ne}}function Vs(b,S){try{console.error(S.value)}catch(N){setTimeout(function(){throw N})}}var js=typeof WeakMap=="function"?WeakMap:Map;function ym(b,S,N){N=Hi(-1,N),N.tag=3,N.payload={element:null};var K=S.value;return N.callback=function(){Ys||(Ys=!0,ka=K),Vs(b,S)},N}function xm(b,S,N){N=Hi(-1,N),N.tag=3;var K=b.type.getDerivedStateFromError;if(typeof K=="function"){var ne=S.value;N.payload=function(){return Vs(b,S),K(ne)}}var _e=b.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(N.callback=function(){typeof K!="function"&&(nr===null?nr=new Set([this]):nr.add(this),Vs(b,S));var Ne=S.stack;this.componentDidCatch(S.value,{componentStack:Ne!==null?Ne:""})}),N}var f_=typeof WeakSet=="function"?WeakSet:Set;function wm(b){var S=b.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){Ba(b,N)}else S.current=null}function c_(b,S){switch(S.tag){case 0:case 11:case 15:case 22:return;case 1:if(S.flags&256&&b!==null){var N=b.memoizedProps,K=b.memoizedState;b=S.stateNode,S=b.getSnapshotBeforeUpdate(S.elementType===S.type?N:di(S.type,N),K),b.__reactInternalSnapshotBeforeUpdate=S}return;case 3:De&&S.flags&256&&Ke(S.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(o(163))}function yu(b,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var N=S=S.next;do{if((N.tag&b)===b){var K=N.destroy;N.destroy=void 0,K!==void 0&&K()}N=N.next}while(N!==S)}}function xu(b,S,N){switch(N.tag){case 0:case 11:case 15:case 22:if(S=N.updateQueue,S=S!==null?S.lastEffect:null,S!==null){b=S=S.next;do{if((b.tag&3)==3){var K=b.create;b.destroy=K()}b=b.next}while(b!==S)}if(S=N.updateQueue,S=S!==null?S.lastEffect:null,S!==null){b=S=S.next;do{var ne=b;K=ne.next,ne=ne.tag,(ne&4)!=0&&(ne&1)!=0&&(Cm(N,b),Cd(N,b)),b=K}while(b!==S)}return;case 1:b=N.stateNode,N.flags&4&&(S===null?b.componentDidMount():(K=N.elementType===N.type?S.memoizedProps:di(N.type,S.memoizedProps),b.componentDidUpdate(K,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate))),S=N.updateQueue,S!==null&&Ff(N,S,b);return;case 3:if(S=N.updateQueue,S!==null){if(b=null,N.child!==null)switch(N.child.tag){case 5:b=z(N.child.stateNode);break;case 1:b=N.child.stateNode}Ff(N,S,b)}return;case 5:b=N.stateNode,S===null&&N.flags&4&&Ge(b,N.type,N.memoizedProps,N);return;case 6:return;case 4:return;case 12:return;case 13:de&&N.memoizedState===null&&(N=N.alternate,N!==null&&(N=N.memoizedState,N!==null&&(N=N.dehydrated,N!==null&&Yt(N))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function gd(b,S){if(De)for(var N=b;;){if(N.tag===5){var K=N.stateNode;S?Je(K):He(N.stateNode,N.memoizedProps)}else if(N.tag===6)K=N.stateNode,S?Re(K):ue(K,N.memoizedProps);else if((N.tag!==23&&N.tag!==24||N.memoizedState===null||N===b)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===b)break;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Ee(b,S){if(No&&typeof No.onCommitFiberUnmount=="function")try{No.onCommitFiberUnmount($l,S)}catch{}switch(S.tag){case 0:case 11:case 14:case 15:case 22:if(b=S.updateQueue,b!==null&&(b=b.lastEffect,b!==null)){var N=b=b.next;do{var K=N,ne=K.destroy;if(K=K.tag,ne!==void 0)if((K&4)!=0)Cm(S,N);else{K=S;try{ne()}catch(_e){Ba(K,_e)}}N=N.next}while(N!==b)}break;case 1:if(wm(S),b=S.stateNode,typeof b.componentWillUnmount=="function")try{b.props=S.memoizedProps,b.state=S.memoizedState,b.componentWillUnmount()}catch(_e){Ba(S,_e)}break;case 5:wm(S);break;case 4:De?bm(b,S):pe&&pe&&(S=S.stateNode.containerInfo,b=L(S),Y(S,b))}}function qo(b,S){for(var N=S;;)if(Ee(b,N),N.child===null||De&&N.tag===4){if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function wu(b){b.alternate=null,b.child=null,b.dependencies=null,b.firstEffect=null,b.lastEffect=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.return=null,b.updateQueue=null}function pi(b){return b.tag===5||b.tag===3||b.tag===4}function sn(b){if(De){e:{for(var S=b.return;S!==null;){if(pi(S))break e;S=S.return}throw Error(o(160))}var N=S;switch(S=N.stateNode,N.tag){case 5:var K=!1;break;case 3:S=S.containerInfo,K=!0;break;case 4:S=S.containerInfo,K=!0;break;default:throw Error(o(161))}N.flags&16&&(ke(S),N.flags&=-17);e:t:for(N=b;;){for(;N.sibling===null;){if(N.return===null||pi(N.return)){N=null;break e}N=N.return}for(N.sibling.return=N.return,N=N.sibling;N.tag!==5&&N.tag!==6&&N.tag!==18;){if(N.flags&2||N.child===null||N.tag===4)continue t;N.child.return=N,N=N.child}if(!(N.flags&2)){N=N.stateNode;break e}}K?vd(b,N,S):_d(b,N,S)}}function vd(b,S,N){var K=b.tag,ne=K===5||K===6;if(ne)b=ne?b.stateNode:b.stateNode.instance,S?ct(N,b,S):Ye(N,b);else if(K!==4&&(b=b.child,b!==null))for(vd(b,S,N),b=b.sibling;b!==null;)vd(b,S,N),b=b.sibling}function _d(b,S,N){var K=b.tag,ne=K===5||K===6;if(ne)b=ne?b.stateNode:b.stateNode.instance,S?ut(N,b,S):qe(N,b);else if(K!==4&&(b=b.child,b!==null))for(_d(b,S,N),b=b.sibling;b!==null;)_d(b,S,N),b=b.sibling}function bm(b,S){for(var N=S,K=!1,ne,_e;;){if(!K){K=N.return;e:for(;;){if(K===null)throw Error(o(160));switch(ne=K.stateNode,K.tag){case 5:_e=!1;break e;case 3:ne=ne.containerInfo,_e=!0;break e;case 4:ne=ne.containerInfo,_e=!0;break e}K=K.return}K=!0}if(N.tag===5||N.tag===6)qo(b,N),_e?Ae(ne,N.stateNode):X(ne,N.stateNode);else if(N.tag===4){if(N.child!==null){ne=N.stateNode.containerInfo,_e=!0,N.child.return=N,N=N.child;continue}}else if(Ee(b,N),N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return,N.tag===4&&(K=!1)}N.sibling.return=N.return,N=N.sibling}}function Na(b,S){if(De){switch(S.tag){case 0:case 11:case 14:case 15:case 22:yu(3,S);return;case 1:return;case 5:var N=S.stateNode;if(N!=null){var K=S.memoizedProps;b=b!==null?b.memoizedProps:K;var ne=S.type,_e=S.updateQueue;S.updateQueue=null,_e!==null&&et(N,_e,ne,b,K,S)}return;case 6:if(S.stateNode===null)throw Error(o(162));N=S.memoizedProps,Me(S.stateNode,b!==null?b.memoizedProps:N,N);return;case 3:de&&(S=S.stateNode,S.hydrate&&(S.hydrate=!1,At(S.containerInfo)));return;case 12:return;case 13:Em(S),Jf(S);return;case 19:Jf(S);return;case 17:return;case 23:case 24:gd(S,S.memoizedState!==null);return}throw Error(o(163))}switch(S.tag){case 0:case 11:case 14:case 15:case 22:yu(3,S);return;case 12:return;case 13:Em(S),Jf(S);return;case 19:Jf(S);return;case 3:de&&(N=S.stateNode,N.hydrate&&(N.hydrate=!1,At(N.containerInfo)));break;case 23:case 24:return}e:if(pe){switch(S.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:S=S.stateNode,Y(S.containerInfo,S.pendingChildren);break e}throw Error(o(163))}}function Em(b){b.memoizedState!==null&&(Md=Kt(),De&&gd(b.child,!0))}function Jf(b){var S=b.updateQueue;if(S!==null){b.updateQueue=null;var N=b.stateNode;N===null&&(N=b.stateNode=new f_),S.forEach(function(K){var ne=sc.bind(null,b,K);N.has(K)||(N.add(K),K.then(ne,ne))})}}function h_(b,S){return b!==null&&(b=b.memoizedState,b===null||b.dehydrated!==null)?(S=S.memoizedState,S!==null&&S.dehydrated===null):!1}var Qf=0,Kf=1,Ti=2,$f=3,ec=4;if(typeof Symbol=="function"&&Symbol.for){var bu=Symbol.for;Qf=bu("selector.component"),Kf=bu("selector.has_pseudo_class"),Ti=bu("selector.role"),$f=bu("selector.test_id"),ec=bu("selector.text")}function yd(b){var S=ie(b);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(o(364));return S}if(b=U(b),b===null)throw Error(o(362));return b.stateNode.current}function xd(b,S){switch(S.$$typeof){case Qf:if(b.type===S.value)return!0;break;case Kf:e:{S=S.value,b=[b,0];for(var N=0;N<b.length;){var K=b[N++],ne=b[N++],_e=S[ne];if(K.tag!==5||!Ie(K)){for(;_e!=null&&xd(K,_e);)ne++,_e=S[ne];if(ne===S.length){S=!0;break e}else for(K=K.child;K!==null;)b.push(K,ne),K=K.sibling}}S=!1}return S;case Ti:if(b.tag===5&&be(b.stateNode,S.value))return!0;break;case ec:if((b.tag===5||b.tag===6)&&(b=ye(b),b!==null&&0<=b.indexOf(S.value)))return!0;break;case $f:if(b.tag===5&&(b=b.memoizedProps["data-testname"],typeof b=="string"&&b.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(o(365,S))}return!1}function Gi(b){switch(b.$$typeof){case Qf:return"<"+(O(b.value)||"Unknown")+">";case Kf:return":has("+(Gi(b)||"")+")";case Ti:return'[role="'+b.value+'"]';case ec:return'"'+b.value+'"';case $f:return'[data-testname="'+b.value+'"]';default:throw Error(o(365,b))}}function Sm(b,S){var N=[];b=[b,0];for(var K=0;K<b.length;){var ne=b[K++],_e=b[K++],Ne=S[_e];if(ne.tag!==5||!Ie(ne)){for(;Ne!=null&&xd(ne,Ne);)_e++,Ne=S[_e];if(_e===S.length)N.push(ne);else for(ne=ne.child;ne!==null;)b.push(ne,_e),ne=ne.sibling}}return N}function wd(b,S){if(!I)throw Error(o(363));b=yd(b),b=Sm(b,S),S=[],b=Array.from(b);for(var N=0;N<b.length;){var K=b[N++];if(K.tag===5)Ie(K)||S.push(K.stateNode);else for(K=K.child;K!==null;)b.push(K),K=K.sibling}return S}var tc=null;function d_(b){if(tc===null)try{var S=("require"+Math.random()).slice(0,7);tc=(F0&&F0[S]).call(F0,"timers").setImmediate}catch{tc=function(K){var ne=new MessageChannel;ne.port1.onmessage=K,ne.port2.postMessage(void 0)}}return tc(b)}var p_=Math.ceil,ia=l.ReactCurrentDispatcher,bd=l.ReactCurrentOwner,Ed=l.IsSomeRendererActing,Pt=0,zr=null,dr=null,Ir=0,Jo=0,Sd=Vt(0),br=0,Eu=null,Zs=0,Su=0,lo=0,Qo=0,Xs=null,Md=0,nc=1/0;function uo(){nc=Kt()+500}var Et=null,Ys=!1,ka=null,nr=null,fo=!1,qs=null,Js=90,Ko=[],aa=[],oa=null,Mu=0,Qs=null,rc=-1,sa=0,sr=0,$o=null,Ks=!1;function Zn(){return(Pt&48)!=0?Kt():rc!==-1?rc:rc=Kt()}function la(b){if(b=b.mode,(b&2)==0)return 1;if((b&4)==0)return Is()===99?1:2;if(sa===0&&(sa=Zs),am.transition!==0){sr!==0&&(sr=Xs!==null?Xs.pendingLanes:0),b=sa;var S=4186112&~sr;return S&=-S,S===0&&(b=4186112&~b,S=b&-b,S===0&&(S=8192)),S}return b=Is(),(Pt&4)!=0&&b===98?b=eu(12,sa):(b=Z0(b),b=eu(b,sa)),b}function Ai(b,S,N){if(50<Mu)throw Mu=0,Qs=null,Error(o(185));if(b=ua(b,S),b===null)return null;Aa(b,S,N),b===zr&&(lo|=S,br===4&&co(b,Ir));var K=Is();S===1?(Pt&8)!=0&&(Pt&48)==0?Td(b):(ti(b,N),Pt===0&&(uo(),bi())):((Pt&4)==0||K!==98&&K!==99||(oa===null?oa=new Set([b]):oa.add(b)),ti(b,N)),Xs=b}function ua(b,S){b.lanes|=S;var N=b.alternate;for(N!==null&&(N.lanes|=S),N=b,b=b.return;b!==null;)b.childLanes|=S,N=b.alternate,N!==null&&(N.childLanes|=S),N=b,b=b.return;return N.tag===3?N.stateNode:null}function ti(b,S){for(var N=b.callbackNode,K=b.suspendedLanes,ne=b.pingedLanes,_e=b.expirationTimes,Ne=b.pendingLanes;0<Ne;){var Ze=31-Ca(Ne),at=1<<Ze,_t=_e[Ze];if(_t===-1){if((at&K)==0||(at&ne)!=0){_t=S,Fo(at);var It=Pn;_e[Ze]=10<=It?_t+250:6<=It?_t+5e3:-1}}else _t<=S&&(b.expiredLanes|=at);Ne&=~at}if(K=Bo(b,b===zr?Ir:0),S=Pn,K===0)N!==null&&(N!==ed&&Lf(N),b.callbackNode=null,b.callbackPriority=0);else{if(N!==null){if(b.callbackPriority===S)return;N!==ed&&Lf(N)}S===15?(N=Td.bind(null,b),Ra===null?(Ra=[N],Df=Rf(Pf,im)):Ra.push(N),N=ed):S===14?N=nu(99,Td.bind(null,b)):(N=X0(S),N=nu(N,Dr.bind(null,b))),b.callbackPriority=S,b.callbackNode=N}}function Dr(b){if(rc=-1,sr=sa=0,(Pt&48)!=0)throw Error(o(327));var S=b.callbackNode;if(fa()&&b.callbackNode!==S)return null;var N=Bo(b,b===zr?Ir:0);if(N===0)return null;var K=N,ne=Pt;Pt|=16;var _e=Am();(zr!==b||Ir!==K)&&(uo(),ts(b,K));do try{v_();break}catch(Ze){Tm(b,Ze)}while(1);if(Of(),ia.current=_e,Pt=ne,dr!==null?K=0:(zr=null,Ir=0,K=br),(Zs&lo)!=0)ts(b,0);else if(K!==0){if(K===2&&(Pt|=64,b.hydrate&&(b.hydrate=!1,Ke(b.containerInfo)),N=Y0(b),N!==0&&(K=Fa(b,N))),K===1)throw S=Eu,ts(b,0),co(b,N),ti(b,Kt()),S;switch(b.finishedWork=b.current.alternate,b.finishedLanes=N,K){case 0:case 1:throw Error(o(345));case 2:ns(b);break;case 3:if(co(b,N),(N&62914560)===N&&(K=Md+500-Kt(),10<K)){if(Bo(b,0)!==0)break;if(ne=b.suspendedLanes,(ne&N)!==N){Zn(),b.pingedLanes|=b.suspendedLanes&ne;break}b.timeoutHandle=we(ns.bind(null,b),K);break}ns(b);break;case 4:if(co(b,N),(N&4186112)===N)break;for(K=b.eventTimes,ne=-1;0<N;){var Ne=31-Ca(N);_e=1<<Ne,Ne=K[Ne],Ne>ne&&(ne=Ne),N&=~_e}if(N=ne,N=Kt()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*p_(N/1960))-N,10<N){b.timeoutHandle=we(ns.bind(null,b),N);break}ns(b);break;case 5:ns(b);break;default:throw Error(o(329))}}return ti(b,Kt()),b.callbackNode===S?Dr.bind(null,b):null}function co(b,S){for(S&=~Qo,S&=~lo,b.suspendedLanes|=S,b.pingedLanes&=~S,b=b.expirationTimes;0<S;){var N=31-Ca(S),K=1<<N;b[N]=-1,S&=~K}}function Td(b){if((Pt&48)!=0)throw Error(o(327));if(fa(),b===zr&&(b.expiredLanes&Ir)!=0){var S=Ir,N=Fa(b,S);(Zs&lo)!=0&&(S=Bo(b,S),N=Fa(b,S))}else S=Bo(b,0),N=Fa(b,S);if(b.tag!==0&&N===2&&(Pt|=64,b.hydrate&&(b.hydrate=!1,Ke(b.containerInfo)),S=Y0(b),S!==0&&(N=Fa(b,S))),N===1)throw N=Eu,ts(b,0),co(b,S),ti(b,Kt()),N;return b.finishedWork=b.current.alternate,b.finishedLanes=S,ns(b),ti(b,Kt()),null}function m_(){if(oa!==null){var b=oa;oa=null,b.forEach(function(S){S.expiredLanes|=24&S.pendingLanes,ti(S,Kt())})}bi()}function Mm(b,S){var N=Pt;Pt|=1;try{return b(S)}finally{Pt=N,Pt===0&&(uo(),bi())}}function ic(b,S){var N=Pt;if((N&48)!=0)return b(S);Pt|=1;try{if(b)return La(99,b.bind(null,S))}finally{Pt=N,bi()}}function ac(b,S){fn(Sd,Jo),Jo|=S,Zs|=S}function es(){Jo=Sd.current,on(Sd)}function ts(b,S){b.finishedWork=null,b.finishedLanes=0;var N=b.timeoutHandle;if(N!==Oe&&(b.timeoutHandle=Oe,xe(N)),dr!==null)for(N=dr.return;N!==null;){var K=N;switch(K.tag){case 1:K=K.type.childContextTypes,K!=null&&Oo();break;case 3:wr(),on(en),on(Sn),na();break;case 5:Ho(K);break;case 4:wr();break;case 13:on(Vn);break;case 19:on(Vn);break;case 10:Nf(K);break;case 23:case 24:es()}N=N.return}zr=b,dr=ho(b.current,null),Ir=Jo=Zs=S,br=0,Eu=null,Qo=lo=Su=0}function Tm(b,S){do{var N=dr;try{if(Of(),ao.current=jf,fu){for(var K=er.memoizedState;K!==null;){var ne=K.queue;ne!==null&&(ne.pending=null),K=K.next}fu=!1}if(uu=0,In=tr=er=null,cu=!1,bd.current=null,N===null||N.return===null){br=1,Eu=S,dr=null;break}e:{var _e=b,Ne=N.return,Ze=N,at=S;if(S=Ir,Ze.flags|=2048,Ze.firstEffect=Ze.lastEffect=null,at!==null&&typeof at=="object"&&typeof at.then=="function"){var _t=at;if((Ze.mode&2)==0){var It=Ze.alternate;It?(Ze.updateQueue=It.updateQueue,Ze.memoizedState=It.memoizedState,Ze.lanes=It.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var jt=(Vn.current&1)!=0,xt=Ne;do{var An;if(An=xt.tag===13){var Bn=xt.memoizedState;if(Bn!==null)An=Bn.dehydrated!==null;else{var ni=xt.memoizedProps;An=ni.fallback===void 0?!1:ni.unstable_avoidThisFallback!==!0?!0:!jt}}if(An){var nt=xt.updateQueue;if(nt===null){var Qe=new Set;Qe.add(_t),xt.updateQueue=Qe}else nt.add(_t);if((xt.mode&2)==0){if(xt.flags|=64,Ze.flags|=16384,Ze.flags&=-2981,Ze.tag===1)if(Ze.alternate===null)Ze.tag=17;else{var st=Hi(-1,1);st.tag=2,$i(Ze,st)}Ze.lanes|=1;break e}at=void 0,Ze=S;var Mt=_e.pingCache;if(Mt===null?(Mt=_e.pingCache=new js,at=new Set,Mt.set(_t,at)):(at=Mt.get(_t),at===void 0&&(at=new Set,Mt.set(_t,at))),!at.has(Ze)){at.add(Ze);var kt=Rm.bind(null,_e,_t,Ze);_t.then(kt,kt)}xt.flags|=4096,xt.lanes=S;break e}xt=xt.return}while(xt!==null);at=Error((O(Ze.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}br!==5&&(br=2),at=Yo(at,Ze),xt=Ne;do{switch(xt.tag){case 3:_e=at,xt.flags|=4096,S&=-S,xt.lanes|=S;var On=ym(xt,_e,S);Fn(xt,On);break e;case 1:_e=at;var Zt=xt.type,yn=xt.stateNode;if((xt.flags&64)==0&&(typeof Zt.getDerivedStateFromError=="function"||yn!==null&&typeof yn.componentDidCatch=="function"&&(nr===null||!nr.has(yn)))){xt.flags|=4096,S&=-S,xt.lanes|=S;var dn=xm(xt,_e,S);Fn(xt,dn);break e}}xt=xt.return}while(xt!==null)}Ad(N)}catch(Jt){S=Jt,dr===N&&N!==null&&(dr=N=N.return);continue}break}while(1)}function Am(){var b=ia.current;return ia.current=jf,b===null?jf:b}function Fa(b,S){var N=Pt;Pt|=16;var K=Am();zr===b&&Ir===S||ts(b,S);do try{g_();break}catch(ne){Tm(b,ne)}while(1);if(Of(),Pt=N,ia.current=K,dr!==null)throw Error(o(261));return zr=null,Ir=0,br}function g_(){for(;dr!==null;)oc(dr)}function v_(){for(;dr!==null&&!o_();)oc(dr)}function oc(b){var S=Lm(b.alternate,b,Jo);b.memoizedProps=b.pendingProps,S===null?Ad(b):dr=S,bd.current=null}function Ad(b){var S=b;do{var N=S.alternate;if(b=S.return,(S.flags&2048)==0){if(N=Ws(N,S,Jo),N!==null){dr=N;return}if(N=S,N.tag!==24&&N.tag!==23||N.memoizedState===null||(Jo&1073741824)!=0||(N.mode&4)==0){for(var K=0,ne=N.child;ne!==null;)K|=ne.lanes|ne.childLanes,ne=ne.sibling;N.childLanes=K}b!==null&&(b.flags&2048)==0&&(b.firstEffect===null&&(b.firstEffect=S.firstEffect),S.lastEffect!==null&&(b.lastEffect!==null&&(b.lastEffect.nextEffect=S.firstEffect),b.lastEffect=S.lastEffect),1<S.flags&&(b.lastEffect!==null?b.lastEffect.nextEffect=S:b.firstEffect=S,b.lastEffect=S))}else{if(N=_u(S),N!==null){N.flags&=2047,dr=N;return}b!==null&&(b.firstEffect=b.lastEffect=null,b.flags|=2048)}if(S=S.sibling,S!==null){dr=S;return}dr=S=b}while(S!==null);br===0&&(br=5)}function ns(b){var S=Is();return La(99,__.bind(null,b,S)),null}function __(b,S){do fa();while(qs!==null);if((Pt&48)!=0)throw Error(o(327));var N=b.finishedWork;if(N===null)return null;if(b.finishedWork=null,b.finishedLanes=0,N===b.current)throw Error(o(177));b.callbackNode=null;var K=N.lanes|N.childLanes,ne=K,_e=b.pendingLanes&~ne;b.pendingLanes=ne,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=ne,b.mutableReadLanes&=ne,b.entangledLanes&=ne,ne=b.entanglements;for(var Ne=b.eventTimes,Ze=b.expirationTimes;0<_e;){var at=31-Ca(_e),_t=1<<at;ne[at]=0,Ne[at]=-1,Ze[at]=-1,_e&=~_t}if(oa!==null&&(K&24)==0&&oa.has(b)&&oa.delete(b),b===zr&&(dr=zr=null,Ir=0),1<N.flags?N.lastEffect!==null?(N.lastEffect.nextEffect=N,K=N.firstEffect):K=N:K=N.firstEffect,K!==null){ne=Pt,Pt|=32,bd.current=null,$o=oe(b.containerInfo),Ks=!1,Et=K;do try{y_()}catch(Qe){if(Et===null)throw Error(o(330));Ba(Et,Qe),Et=Et.nextEffect}while(Et!==null);$o=null,Et=K;do try{for(Ne=b;Et!==null;){var It=Et.flags;if(It&16&&De&&ke(Et.stateNode),It&128){var jt=Et.alternate;if(jt!==null){var xt=jt.ref;xt!==null&&(typeof xt=="function"?xt(null):xt.current=null)}}switch(It&1038){case 2:sn(Et),Et.flags&=-3;break;case 6:sn(Et),Et.flags&=-3,Na(Et.alternate,Et);break;case 1024:Et.flags&=-1025;break;case 1028:Et.flags&=-1025,Na(Et.alternate,Et);break;case 4:Na(Et.alternate,Et);break;case 8:Ze=Ne,_e=Et,De?bm(Ze,_e):qo(Ze,_e);var An=_e.alternate;wu(_e),An!==null&&wu(An)}Et=Et.nextEffect}}catch(Qe){if(Et===null)throw Error(o(330));Ba(Et,Qe),Et=Et.nextEffect}while(Et!==null);Ks&&G(),le(b.containerInfo),b.current=N,Et=K;do try{for(It=b;Et!==null;){var Bn=Et.flags;if(Bn&36&&xu(It,Et.alternate,Et),Bn&128){jt=void 0;var ni=Et.ref;if(ni!==null){var nt=Et.stateNode;switch(Et.tag){case 5:jt=z(nt);break;default:jt=nt}typeof ni=="function"?ni(jt):ni.current=jt}}Et=Et.nextEffect}}catch(Qe){if(Et===null)throw Error(o(330));Ba(Et,Qe),Et=Et.nextEffect}while(Et!==null);Et=null,s_(),Pt=ne}else b.current=N;if(fo)fo=!1,qs=b,Js=S;else for(Et=K;Et!==null;)S=Et.nextEffect,Et.nextEffect=null,Et.flags&8&&(Bn=Et,Bn.sibling=null,Bn.stateNode=null),Et=S;if(K=b.pendingLanes,K===0&&(nr=null),K===1?b===Qs?Mu++:(Mu=0,Qs=b):Mu=0,N=N.stateNode,No&&typeof No.onCommitFiberRoot=="function")try{No.onCommitFiberRoot($l,N,void 0,(N.current.flags&64)==64)}catch{}if(ti(b,Kt()),Ys)throw Ys=!1,b=ka,ka=null,b;return(Pt&8)!=0||bi(),null}function y_(){for(;Et!==null;){var b=Et.alternate;Ks||$o===null||((Et.flags&8)!=0?j(Et,$o)&&(Ks=!0,te()):Et.tag===13&&h_(b,Et)&&j(Et,$o)&&(Ks=!0,te()));var S=Et.flags;(S&256)!=0&&c_(b,Et),(S&512)==0||fo||(fo=!0,nu(97,function(){return fa(),null})),Et=Et.nextEffect}}function fa(){if(Js!==90){var b=97<Js?97:Js;return Js=90,La(b,Rd)}return!1}function Cd(b,S){Ko.push(S,b),fo||(fo=!0,nu(97,function(){return fa(),null}))}function Cm(b,S){aa.push(S,b),fo||(fo=!0,nu(97,function(){return fa(),null}))}function Rd(){if(qs===null)return!1;var b=qs;if(qs=null,(Pt&48)!=0)throw Error(o(331));var S=Pt;Pt|=32;var N=aa;aa=[];for(var K=0;K<N.length;K+=2){var ne=N[K],_e=N[K+1],Ne=ne.destroy;if(ne.destroy=void 0,typeof Ne=="function")try{Ne()}catch(at){if(_e===null)throw Error(o(330));Ba(_e,at)}}for(N=Ko,Ko=[],K=0;K<N.length;K+=2){ne=N[K],_e=N[K+1];try{var Ze=ne.create;ne.destroy=Ze()}catch(at){if(_e===null)throw Error(o(330));Ba(_e,at)}}for(Ze=b.current.firstEffect;Ze!==null;)b=Ze.nextEffect,Ze.nextEffect=null,Ze.flags&8&&(Ze.sibling=null,Ze.stateNode=null),Ze=b;return Pt=S,bi(),!0}function Ld(b,S,N){S=Yo(N,S),S=ym(b,S,1),$i(b,S),S=Zn(),b=ua(b,1),b!==null&&(Aa(b,1,S),ti(b,S))}function Ba(b,S){if(b.tag===3)Ld(b,b,S);else for(var N=b.return;N!==null;){if(N.tag===3){Ld(N,b,S);break}else if(N.tag===1){var K=N.stateNode;if(typeof N.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(nr===null||!nr.has(K))){b=Yo(S,b);var ne=xm(N,b,1);if($i(N,ne),ne=Zn(),N=ua(N,1),N!==null)Aa(N,1,ne),ti(N,ne);else if(typeof K.componentDidCatch=="function"&&(nr===null||!nr.has(K)))try{K.componentDidCatch(S,b)}catch{}break}}N=N.return}}function Rm(b,S,N){var K=b.pingCache;K!==null&&K.delete(S),S=Zn(),b.pingedLanes|=b.suspendedLanes&N,zr===b&&(Ir&N)===N&&(br===4||br===3&&(Ir&62914560)===Ir&&500>Kt()-Md?ts(b,0):Qo|=N),ti(b,S)}function sc(b,S){var N=b.stateNode;N!==null&&N.delete(S),S=0,S===0&&(S=b.mode,(S&2)==0?S=1:(S&4)==0?S=Is()===99?1:2:(sa===0&&(sa=Zs),S=to(62914560&~sa),S===0&&(S=4194304))),N=Zn(),b=ua(b,S),b!==null&&(Aa(b,S,N),ti(b,N))}var Lm;Lm=function(b,S,N){var K=S.lanes;if(b!==null)if(b.memoizedProps!==S.pendingProps||en.current)ei=!0;else if((N&K)!=0)ei=(b.flags&16384)!=0;else{switch(ei=!1,S.tag){case 3:gm(S),lu();break;case 5:Hf(S);break;case 1:Tr(S.type)&&Kl(S);break;case 4:Uf(S,S.stateNode.containerInfo);break;case 10:rd(S,S.memoizedProps.value);break;case 13:if(S.memoizedState!==null)return(N&S.child.childLanes)!=0?gu(b,S,N):(fn(Vn,Vn.current&1),S=Un(b,S,N),S!==null?S.sibling:null);fn(Vn,Vn.current&1);break;case 19:if(K=(N&S.childLanes)!=0,(b.flags&64)!=0){if(K)return or(b,S,N);S.flags|=64}var ne=S.memoizedState;if(ne!==null&&(ne.rendering=null,ne.tail=null,ne.lastEffect=null),fn(Vn,Vn.current),K)break;return null;case 23:case 24:return S.lanes=0,jo(b,S,N)}return Un(b,S,N)}else ei=!1;switch(S.lanes=0,S.tag){case 2:if(K=S.type,b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),b=S.pendingProps,ne=$n(S,Sn.current),Ds(S,N),ne=sd(null,S,K,b,ne,N),S.flags|=1,typeof ne=="object"&&ne!==null&&typeof ne.render=="function"&&ne.$$typeof===void 0){if(S.tag=1,S.memoizedState=null,S.updateQueue=null,Tr(K)){var _e=!0;Kl(S)}else _e=!1;S.memoizedState=ne.state!==null&&ne.state!==void 0?ne.state:null,kf(S);var Ne=K.getDerivedStateFromProps;typeof Ne=="function"&&Os(S,K,Ne,b),ne.updater=Bf,S.stateNode=ne,ne._reactInternals=S,Ns(S,K,b,N),S=dd(null,S,K,!0,_e,N)}else S.tag=0,Br(null,S,ne,N),S=S.child;return S;case 16:ne=S.elementType;e:{switch(b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),b=S.pendingProps,_e=ne._init,ne=_e(ne._payload),S.type=ne,_e=S.tag=nn(ne),b=di(ne,b),_e){case 0:S=zs(null,S,ne,b,N);break e;case 1:S=mm(null,S,ne,b,N);break e;case 11:S=cd(null,S,ne,b,N);break e;case 14:S=mu(null,S,ne,di(ne.type,b),K,N);break e}throw Error(o(306,ne,""))}return S;case 0:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:di(K,ne),zs(b,S,K,ne,N);case 1:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:di(K,ne),mm(b,S,K,ne,N);case 3:if(gm(S),K=S.updateQueue,b===null||K===null)throw Error(o(282));if(K=S.pendingProps,ne=S.memoizedState,ne=ne!==null?ne.element:null,Pa(b,S),Ei(S,K,null,N),K=S.memoizedState.element,K===ne)lu(),S=Un(b,S,N);else{if(ne=S.stateNode,(_e=ne.hydrate)&&(de?(Go=it(S.stateNode.containerInfo),Da=S,_e=ta=!0):_e=!1),_e){if(de&&(b=ne.mutableSourceEagerHydrationData,b!=null))for(ne=0;ne<b.length;ne+=2)_e=b[ne],Ne=b[ne+1],ge?_e._workInProgressVersionPrimary=Ne:_e._workInProgressVersionSecondary=Ne,Wo.push(_e);for(N=zf(S,null,K,N),S.child=N;N;)N.flags=N.flags&-3|1024,N=N.sibling}else Br(b,S,K,N),lu();S=S.child}return S;case 5:return Hf(S),b===null&&io(S),K=S.type,ne=S.pendingProps,_e=b!==null?b.memoizedProps:null,Ne=ne.children,ce(K,ne)?Ne=null:_e!==null&&ce(K,_e)&&(S.flags|=16),so(b,S),Br(b,S,Ne,N),S.child;case 6:return b===null&&io(S),null;case 13:return gu(b,S,N);case 4:return Uf(S,S.stateNode.containerInfo),K=S.pendingProps,b===null?S.child=ks(S,null,K,N):Br(b,S,K,N),S.child;case 11:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:di(K,ne),cd(b,S,K,ne,N);case 7:return Br(b,S,S.pendingProps,N),S.child;case 8:return Br(b,S,S.pendingProps.children,N),S.child;case 12:return Br(b,S,S.pendingProps.children,N),S.child;case 10:e:{if(K=S.type._context,ne=S.pendingProps,Ne=S.memoizedProps,_e=ne.value,rd(S,_e),Ne!==null){var Ze=Ne.value;if(_e=Mn(Ze,_e)?0:(typeof K._calculateChangedBits=="function"?K._calculateChangedBits(Ze,_e):1073741823)|0,_e===0){if(Ne.children===ne.children&&!en.current){S=Un(b,S,N);break e}}else for(Ze=S.child,Ze!==null&&(Ze.return=S);Ze!==null;){var at=Ze.dependencies;if(at!==null){Ne=Ze.child;for(var _t=at.firstContext;_t!==null;){if(_t.context===K&&(_t.observedBits&_e)!=0){Ze.tag===1&&(_t=Hi(-1,N&-N),_t.tag=2,$i(Ze,_t)),Ze.lanes|=N,_t=Ze.alternate,_t!==null&&(_t.lanes|=N),Jr(Ze.return,N),at.lanes|=N;break}_t=_t.next}}else Ne=Ze.tag===10&&Ze.type===S.type?null:Ze.child;if(Ne!==null)Ne.return=Ze;else for(Ne=Ze;Ne!==null;){if(Ne===S){Ne=null;break}if(Ze=Ne.sibling,Ze!==null){Ze.return=Ne.return,Ne=Ze;break}Ne=Ne.return}Ze=Ne}}Br(b,S,ne.children,N),S=S.child}return S;case 9:return ne=S.type,_e=S.pendingProps,K=_e.children,Ds(S,N),ne=Wn(ne,_e.unstable_observedBits),K=K(ne),S.flags|=1,Br(b,S,K,N),S.child;case 14:return ne=S.type,_e=di(ne,S.pendingProps),_e=di(ne.type,_e),mu(b,S,ne,_e,K,N);case 15:return hd(b,S,S.type,S.pendingProps,K,N);case 17:return K=S.type,ne=S.pendingProps,ne=S.elementType===K?ne:di(K,ne),b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2),S.tag=1,Tr(K)?(b=!0,Kl(S)):b=!1,Ds(S,N),um(S,K,ne),Ns(S,K,ne,N),dd(null,S,K,!0,b,N);case 19:return or(b,S,N);case 23:return jo(b,S,N);case 24:return jo(b,S,N)}throw Error(o(156,S.tag))};var Tu={current:!1},lc=a.unstable_flushAllWithoutAsserting,Pm=typeof lc=="function";function uc(){if(lc!==void 0)return lc();for(var b=!1;fa();)b=!0;return b}function Im(b){try{uc(),d_(function(){uc()?Im(b):b()})}catch(S){b(S)}}var $s=0,Pd=!1;function Id(b,S,N,K){this.tag=b,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(b,S,N,K){return new Id(b,S,N,K)}function Au(b){return b=b.prototype,!(!b||!b.isReactComponent)}function nn(b){if(typeof b=="function")return Au(b)?1:0;if(b!=null){if(b=b.$$typeof,b===v)return 11;if(b===p)return 14}return 2}function ho(b,S){var N=b.alternate;return N===null?(N=Ci(b.tag,S,b.key,b.mode),N.elementType=b.elementType,N.type=b.type,N.stateNode=b.stateNode,N.alternate=b,b.alternate=N):(N.pendingProps=S,N.type=b.type,N.flags=0,N.nextEffect=null,N.firstEffect=null,N.lastEffect=null),N.childLanes=b.childLanes,N.lanes=b.lanes,N.child=b.child,N.memoizedProps=b.memoizedProps,N.memoizedState=b.memoizedState,N.updateQueue=b.updateQueue,S=b.dependencies,N.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},N.sibling=b.sibling,N.index=b.index,N.ref=b.ref,N}function fc(b,S,N,K,ne,_e){var Ne=2;if(K=b,typeof b=="function")Au(b)&&(Ne=1);else if(typeof b=="string")Ne=5;else e:switch(b){case m:return ca(N.children,ne,_e,S);case E:Ne=8,ne|=16;break;case d:Ne=8,ne|=1;break;case u:return b=Ci(12,N,S,ne|8),b.elementType=u,b.type=u,b.lanes=_e,b;case x:return b=Ci(13,N,S,ne),b.type=x,b.elementType=x,b.lanes=_e,b;case h:return b=Ci(19,N,S,ne),b.elementType=h,b.lanes=_e,b;case A:return cc(N,ne,_e,S);case T:return b=Ci(24,N,S,ne),b.elementType=T,b.lanes=_e,b;default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case f:Ne=10;break e;case s:Ne=9;break e;case v:Ne=11;break e;case p:Ne=14;break e;case _:Ne=16,K=null;break e;case w:Ne=22;break e}throw Error(o(130,b==null?b:typeof b,""))}return S=Ci(Ne,N,S,ne),S.elementType=b,S.type=K,S.lanes=_e,S}function ca(b,S,N,K){return b=Ci(7,b,K,S),b.lanes=N,b}function cc(b,S,N,K){return b=Ci(23,b,K,S),b.elementType=A,b.lanes=N,b}function Dd(b,S,N){return b=Ci(6,b,null,S),b.lanes=N,b}function Od(b,S,N){return S=Ci(4,b.children!==null?b.children:[],b.key,S),S.lanes=N,S.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},S}function Ri(b,S,N){this.tag=S,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.pendingContext=this.context=null,this.hydrate=N,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),de&&(this.mutableSourceEagerHydrationData=null)}function Dm(b){var S=b._reactInternals;if(S===void 0)throw typeof b.render=="function"?Error(o(188)):Error(o(268,Object.keys(b)));return b=Z(S),b===null?null:b.stateNode}function Cu(b,S){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var N=b.retryLane;b.retryLane=N!==0&&N<S?N:S}}function el(b,S){Cu(b,S),(b=b.alternate)&&Cu(b,S)}function Om(b){return b=Z(b),b===null?null:b.stateNode}function Nm(){return null}return t.IsThisRendererActing=Tu,t.act=function(b){function S(){$s--,Ed.current=N,Tu.current=K}Pd===!1&&(Pd=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),$s++;var N=Ed.current,K=Tu.current;Ed.current=!0,Tu.current=!0;try{var ne=Mm(b)}catch(_e){throw S(),_e}if(ne!==null&&typeof ne=="object"&&typeof ne.then=="function")return{then:function(_e,Ne){ne.then(function(){1<$s||Pm===!0&&N===!0?(S(),_e()):Im(function(Ze){S(),Ze?Ne(Ze):_e()})},function(Ze){S(),Ne(Ze)})}};try{$s!==1||Pm!==!1&&N!==!1||uc(),S()}catch(_e){throw S(),_e}return{then:function(_e){_e()}}},t.attemptContinuousHydration=function(b){if(b.tag===13){var S=Zn();Ai(b,67108864,S),el(b,67108864)}},t.attemptHydrationAtCurrentPriority=function(b){if(b.tag===13){var S=Zn(),N=la(b);Ai(b,N,S),el(b,N)}},t.attemptSynchronousHydration=function(b){switch(b.tag){case 3:var S=b.stateNode;if(S.hydrate){var N=Fo(S.pendingLanes);S.expiredLanes|=N&S.pendingLanes,ti(S,Kt()),(Pt&48)==0&&(uo(),bi())}break;case 13:var K=Zn();ic(function(){return Ai(b,1,K)}),el(b,4)}},t.attemptUserBlockingHydration=function(b){if(b.tag===13){var S=Zn();Ai(b,4,S),el(b,4)}},t.batchedEventUpdates=function(b,S){var N=Pt;Pt|=2;try{return b(S)}finally{Pt=N,Pt===0&&(uo(),bi())}},t.batchedUpdates=Mm,t.createComponentSelector=function(b){return{$$typeof:Qf,value:b}},t.createContainer=function(b,S,N){return b=new Ri(b,S,N),S=Ci(3,null,null,S===2?7:S===1?3:0),b.current=S,S.stateNode=b,kf(S),b},t.createHasPsuedoClassSelector=function(b){return{$$typeof:Kf,value:b}},t.createPortal=function(b,S,N){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:K==null?null:""+K,children:b,containerInfo:S,implementation:N}},t.createRoleSelector=function(b){return{$$typeof:Ti,value:b}},t.createTestNameSelector=function(b){return{$$typeof:$f,value:b}},t.createTextSelector=function(b){return{$$typeof:ec,value:b}},t.deferredUpdates=function(b){return La(97,b)},t.discreteUpdates=function(b,S,N,K,ne){var _e=Pt;Pt|=4;try{return La(98,b.bind(null,S,N,K,ne))}finally{Pt=_e,Pt===0&&(uo(),bi())}},t.findAllNodes=wd,t.findBoundingRects=function(b,S){if(!I)throw Error(o(363));S=wd(b,S),b=[];for(var N=0;N<S.length;N++)b.push(Q(S[N]));for(S=b.length-1;0<S;S--){N=b[S];for(var K=N.x,ne=K+N.width,_e=N.y,Ne=_e+N.height,Ze=S-1;0<=Ze;Ze--)if(S!==Ze){var at=b[Ze],_t=at.x,It=_t+at.width,jt=at.y,xt=jt+at.height;if(K>=_t&&_e>=jt&&ne<=It&&Ne<=xt){b.splice(S,1);break}else if(K!==_t||N.width!==at.width||xt<_e||jt>Ne){if(!(_e!==jt||N.height!==at.height||It<K||_t>ne)){_t>K&&(at.width+=_t-K,at.x=K),It<ne&&(at.width=ne-_t),b.splice(S,1);break}}else{jt>_e&&(at.height+=jt-_e,at.y=_e),xt<Ne&&(at.height=Ne-jt),b.splice(S,1);break}}}return b},t.findHostInstance=Dm,t.findHostInstanceWithNoPortals=function(b){return b=V(b),b===null?null:b.tag===20?b.stateNode.instance:b.stateNode},t.findHostInstanceWithWarning=function(b){return Dm(b)},t.flushControlled=function(b){var S=Pt;Pt|=1;try{La(99,b)}finally{Pt=S,Pt===0&&(uo(),bi())}},t.flushDiscreteUpdates=function(){(Pt&49)==0&&(m_(),fa())},t.flushPassiveEffects=fa,t.flushSync=ic,t.focusWithin=function(b,S){if(!I)throw Error(o(363));for(b=yd(b),S=Sm(b,S),S=Array.from(S),b=0;b<S.length;){var N=S[b++];if(!Ie(N)){if(N.tag===5&&Pe(N.stateNode))return!0;for(N=N.child;N!==null;)S.push(N),N=N.sibling}}return!1},t.getCurrentUpdateLanePriority=function(){return ko},t.getFindAllNodesFailureDescription=function(b,S){if(!I)throw Error(o(363));var N=0,K=[];b=[yd(b),0];for(var ne=0;ne<b.length;){var _e=b[ne++],Ne=b[ne++],Ze=S[Ne];if((_e.tag!==5||!Ie(_e))&&(xd(_e,Ze)&&(K.push(Gi(Ze)),Ne++,Ne>N&&(N=Ne)),Ne<S.length))for(_e=_e.child;_e!==null;)b.push(_e,Ne),_e=_e.sibling}if(N<S.length){for(b=[];N<S.length;N++)b.push(Gi(S[N]));return`findAllNodes was able to match part of the selector:
  `+(K.join(" > ")+`

No matching component was found for:
  `)+b.join(" > ")}return null},t.getPublicRootInstance=function(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return z(b.child.stateNode);default:return b.child.stateNode}},t.injectIntoDevTools=function(b){if(b={bundleType:b.bundleType,version:b.version,rendererPackageName:b.rendererPackageName,rendererConfig:b.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Om,findFiberByHostInstance:b.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")b=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S.isDisabled&&S.supportsFiber)try{$l=S.inject(b),No=S}catch{}b=!0}return b},t.observeVisibleRects=function(b,S,N,K){if(!I)throw Error(o(363));b=wd(b,S);var ne=ze(b,N,K).disconnect;return{disconnect:function(){ne()}}},t.registerMutableSourceForHydration=function(b,S){var N=S._getVersion;N=N(S._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[S,N]:b.mutableSourceEagerHydrationData.push(S,N)},t.runWithPriority=function(b,S){var N=ko;try{return ko=b,S()}finally{ko=N}},t.shouldSuspend=function(){return!1},t.unbatchedUpdates=function(b,S){var N=Pt;Pt&=-2,Pt|=8;try{return b(S)}finally{Pt=N,Pt===0&&(uo(),bi())}},t.updateContainer=function(b,S,N,K){var ne=S.current,_e=Zn(),Ne=la(ne);e:if(N){N=N._reactInternals;t:{if(k(N)!==N||N.tag!==1)throw Error(o(170));var Ze=N;do{switch(Ze.tag){case 3:Ze=Ze.stateNode.context;break t;case 1:if(Tr(Ze.type)){Ze=Ze.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ze=Ze.return}while(Ze!==null);throw Error(o(171))}if(N.tag===1){var at=N.type;if(Tr(at)){N=eo(N,at,Ze);break e}}N=Ze}else N=Kn;return S.context===null?S.context=N:S.pendingContext=N,S=Hi(_e,Ne),S.payload={element:b},K=K===void 0?null:K,K!==null&&(S.callback=K),$i(ne,S),Ai(ne,Ne,_e),Ne},t}});var BR=Di((m7,FR)=>{"use strict";FR.exports=kR()});var UR=Di((g7,zR)=>{"use strict";zR.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!=0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!=0;){var o=a[i];if(!r(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}});var VR=Di((y7,WR)=>{function m2(r,e,t){var n,i,a,o,l;e==null&&(e=100);function c(){var m=Date.now()-o;m<e&&m>=0?n=setTimeout(c,e-m):(n=null,t||(l=r.apply(a,i),a=i=null))}var g=function(){a=this,i=arguments,o=Date.now();var m=t&&!n;return n||(n=setTimeout(c,e)),m&&(l=r.apply(a,i),a=i=null),l};return g.clear=function(){n&&(clearTimeout(n),n=null)},g.flush=function(){n&&(l=r.apply(a,i),a=i=null,clearTimeout(n),n=null)},g}m2.debounce=m2;WR.exports=m2});var hL=Di((Qh,V0)=>{(function(){var r,e="4.17.21",t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",g=1,m=2,d=4,u=1,f=2,s=1,v=2,x=4,h=8,p=16,_=32,w=64,E=128,A=256,T=512,C=30,R="...",D=800,O=16,k=1,H=2,B=3,Z=1/0,V=9007199254740991,j=17976931348623157e292,z=0/0,W=4294967295,J=W-1,oe=W>>>1,le=[["ary",E],["bind",s],["bindKey",v],["curry",h],["curryRight",p],["flip",T],["partial",_],["partialRight",w],["rearg",A]],fe="[object Arguments]",$="[object Array]",ae="[object AsyncFunction]",se="[object Boolean]",ce="[object Date]",he="[object DOMException]",we="[object Error]",xe="[object Function]",Oe="[object GeneratorFunction]",ge="[object Map]",De="[object Number]",pe="[object Null]",de="[object Object]",ie="[object Promise]",re="[object Proxy]",q="[object RegExp]",te="[object Set]",G="[object String]",P="[object Symbol]",I="[object Undefined]",U="[object WeakMap]",Q="[object WeakSet]",ye="[object ArrayBuffer]",Ie="[object DataView]",be="[object Float32Array]",Pe="[object Float64Array]",ze="[object Int8Array]",qe="[object Int16Array]",Ye="[object Int32Array]",Me="[object Uint8Array]",Ge="[object Uint8ClampedArray]",et="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,Re=RegExp(ke.source),He=RegExp(Je.source),ue=/<%-([\s\S]+?)%>/g,Ke=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(Y.source),Ve=/^\s+/,lt=/\s/,ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,it=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,At=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,zt=/^\[object .+?Constructor\]$/,Rt=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,hn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,kn=/['\n\r\u2028\u2029\\]/g,Vt="\\ud800-\\udfff",on="\\u0300-\\u036f",fn="\\ufe20-\\ufe2f",Kn="\\u20d0-\\u20ff",Sn=on+fn+Kn,en="\\u2700-\\u27bf",Mr="a-z\\xdf-\\xf6\\xf8-\\xff",$n="\\xac\\xb1\\xd7\\xf7",Tr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Oo="\\u2000-\\u206f",Ql=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eo="A-Z\\xc0-\\xd6\\xd8-\\xde",Kl="\\ufe0e\\ufe0f",Kh=$n+Tr+Oo+Ql,$l="['\u2019]",No="["+Vt+"]",j0="["+Kh+"]",ko="["+Sn+"]",Pn="\\d+",Fo="["+en+"]",Z0="["+Mr+"]",X0="[^"+Vt+Kh+Pn+en+Mr+eo+"]",Bo="\\ud83c[\\udffb-\\udfff]",Y0="(?:"+ko+"|"+Bo+")",eu="[^"+Vt+"]",to="(?:\\ud83c[\\udde6-\\uddff]){2}",tu="[\\ud800-\\udbff][\\udc00-\\udfff]",Aa="["+eo+"]",Ca="\\u200d",q0="(?:"+Z0+"|"+X0+")",a_="(?:"+Aa+"|"+X0+")",J0="(?:"+$l+"(?:d|ll|m|re|s|t|ve))?",Q0="(?:"+$l+"(?:D|LL|M|RE|S|T|VE))?",Rf=Y0+"?",Lf="["+Kl+"]?",o_="(?:"+Ca+"(?:"+[eu,to,tu].join("|")+")"+Lf+Rf+")*",K0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$h="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$0=Lf+Rf+o_,Pf="(?:"+[Fo,to,tu].join("|")+")"+$0,em="(?:"+[eu+ko+"?",ko,to,tu,No].join("|")+")",tm=RegExp($l,"g"),nm=RegExp(ko,"g"),If=RegExp(Bo+"(?="+Bo+")|"+em+$0,"g"),ed=RegExp([Aa+"?"+Z0+"+"+J0+"(?="+[j0,Aa,"$"].join("|")+")",a_+"+"+Q0+"(?="+[j0,Aa+q0,"$"].join("|")+")",Aa+"?"+q0+"+"+J0,Aa+"+"+Q0,$h,K0,Pn,Pf].join("|"),"g"),s_=RegExp("["+Ca+Vt+Sn+Kl+"]"),Ra=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Df=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],td=-1,Dn={};Dn[be]=Dn[Pe]=Dn[ze]=Dn[qe]=Dn[Ye]=Dn[Me]=Dn[Ge]=Dn[et]=Dn[ut]=!0,Dn[fe]=Dn[$]=Dn[ye]=Dn[se]=Dn[Ie]=Dn[ce]=Dn[we]=Dn[xe]=Dn[ge]=Dn[De]=Dn[de]=Dn[q]=Dn[te]=Dn[G]=Dn[U]=!1;var Kt={};Kt[fe]=Kt[$]=Kt[ye]=Kt[Ie]=Kt[se]=Kt[ce]=Kt[be]=Kt[Pe]=Kt[ze]=Kt[qe]=Kt[Ye]=Kt[ge]=Kt[De]=Kt[de]=Kt[q]=Kt[te]=Kt[G]=Kt[P]=Kt[Me]=Kt[Ge]=Kt[et]=Kt[ut]=!0,Kt[we]=Kt[xe]=Kt[U]=!1;var Is={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},rm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},La={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bi=parseFloat,im=parseInt,am=typeof global=="object"&&global&&global.Object===Object&&global,l_=typeof self=="object"&&self&&self.Object===Object&&self,Mn=am||l_||Function("return this")(),nd=typeof Qh=="object"&&Qh&&!Qh.nodeType&&Qh,Ki=nd&&typeof V0=="object"&&V0&&!V0.nodeType&&V0,om=Ki&&Ki.exports===nd,di=om&&am.process,Fr=function(){try{var Xe=Ki&&Ki.require&&Ki.require("util").types;return Xe||di&&di.binding&&di.binding("util")}catch{}}(),ru=Fr&&Fr.isArrayBuffer,zo=Fr&&Fr.isDate,iu=Fr&&Fr.isMap,Of=Fr&&Fr.isRegExp,rd=Fr&&Fr.isSet,Nf=Fr&&Fr.isTypedArray;function Jr(Xe,ot,rt){switch(rt.length){case 0:return Xe.call(ot);case 1:return Xe.call(ot,rt[0]);case 2:return Xe.call(ot,rt[0],rt[1]);case 3:return Xe.call(ot,rt[0],rt[1],rt[2])}return Xe.apply(ot,rt)}function Ds(Xe,ot,rt,Tt){for(var Xt=-1,gn=Xe==null?0:Xe.length;++Xt<gn;){var jn=Xe[Xt];ot(Tt,jn,rt(jn),Xe)}return Tt}function Wn(Xe,ot){for(var rt=-1,Tt=Xe==null?0:Xe.length;++rt<Tt&&ot(Xe[rt],rt,Xe)!==!1;);return Xe}function no(Xe,ot){for(var rt=Xe==null?0:Xe.length;rt--&&ot(Xe[rt],rt,Xe)!==!1;);return Xe}function kf(Xe,ot){for(var rt=-1,Tt=Xe==null?0:Xe.length;++rt<Tt;)if(!ot(Xe[rt],rt,Xe))return!1;return!0}function Pa(Xe,ot){for(var rt=-1,Tt=Xe==null?0:Xe.length,Xt=0,gn=[];++rt<Tt;){var jn=Xe[rt];ot(jn,rt,Xe)&&(gn[Xt++]=jn)}return gn}function Hi(Xe,ot){var rt=Xe==null?0:Xe.length;return!!rt&&Ia(Xe,ot,0)>-1}function $i(Xe,ot,rt){for(var Tt=-1,Xt=Xe==null?0:Xe.length;++Tt<Xt;)if(rt(ot,Xe[Tt]))return!0;return!1}function Fn(Xe,ot){for(var rt=-1,Tt=Xe==null?0:Xe.length,Xt=Array(Tt);++rt<Tt;)Xt[rt]=ot(Xe[rt],rt,Xe);return Xt}function Ei(Xe,ot){for(var rt=-1,Tt=ot.length,Xt=Xe.length;++rt<Tt;)Xe[Xt+rt]=ot[rt];return Xe}function Ff(Xe,ot,rt,Tt){var Xt=-1,gn=Xe==null?0:Xe.length;for(Tt&&gn&&(rt=Xe[++Xt]);++Xt<gn;)rt=ot(rt,Xe[Xt],Xt,Xe);return rt}function sm(Xe,ot,rt,Tt){var Xt=Xe==null?0:Xe.length;for(Tt&&Xt&&(rt=Xe[--Xt]);Xt--;)rt=ot(rt,Xe[Xt],Xt,Xe);return rt}function Os(Xe,ot){for(var rt=-1,Tt=Xe==null?0:Xe.length;++rt<Tt;)if(ot(Xe[rt],rt,Xe))return!0;return!1}var Bf=ks("length");function lm(Xe){return Xe.split("")}function um(Xe){return Xe.match(tt)||[]}function id(Xe,ot,rt){var Tt;return rt(Xe,function(Xt,gn,jn){if(ot(Xt,gn,jn))return Tt=gn,!1}),Tt}function Ns(Xe,ot,rt,Tt){for(var Xt=Xe.length,gn=rt+(Tt?1:-1);Tt?gn--:++gn<Xt;)if(ot(Xe[gn],gn,Xe))return gn;return-1}function Ia(Xe,ot,rt){return ot===ot?uu(Xe,ot,rt):Ns(Xe,ou,rt)}function au(Xe,ot,rt,Tt){for(var Xt=rt-1,gn=Xe.length;++Xt<gn;)if(Tt(Xe[Xt],ot))return Xt;return-1}function ou(Xe){return Xe!==Xe}function ad(Xe,ot){var rt=Xe==null?0:Xe.length;return rt?Uo(Xe,ot)/rt:z}function ks(Xe){return function(ot){return ot==null?r:ot[Xe]}}function zf(Xe){return function(ot){return Xe==null?r:Xe[ot]}}function Fs(Xe,ot,rt,Tt,Xt){return Xt(Xe,function(gn,jn,bn){rt=Tt?(Tt=!1,gn):ot(rt,gn,jn,bn)}),rt}function Si(Xe,ot){var rt=Xe.length;for(Xe.sort(ot);rt--;)Xe[rt]=Xe[rt].value;return Xe}function Uo(Xe,ot){for(var rt,Tt=-1,Xt=Xe.length;++Tt<Xt;){var gn=ot(Xe[Tt]);gn!==r&&(rt=rt===r?gn:rt+gn)}return rt}function ro(Xe,ot){for(var rt=-1,Tt=Array(Xe);++rt<Xe;)Tt[rt]=ot(rt);return Tt}function ea(Xe,ot){return Fn(ot,function(rt){return[rt,Xe[rt]]})}function Uf(Xe){return Xe&&Xe.slice(0,fu(Xe)+1).replace(Ve,"")}function wr(Xe){return function(ot){return Xe(ot)}}function Hf(Xe,ot){return Fn(ot,function(rt){return Xe[rt]})}function Ho(Xe,ot){return Xe.has(ot)}function Vn(Xe,ot){for(var rt=-1,Tt=Xe.length;++rt<Tt&&Ia(ot,Xe[rt],0)>-1;);return rt}function su(Xe,ot){for(var rt=Xe.length;rt--&&Ia(ot,Xe[rt],0)>-1;);return rt}function Da(Xe,ot){for(var rt=Xe.length,Tt=0;rt--;)Xe[rt]===ot&&++Tt;return Tt}var Go=zf(Is),ta=zf(rm);function fm(Xe){return"\\"+nu[Xe]}function cm(Xe,ot){return Xe==null?r:Xe[ot]}function io(Xe){return s_.test(Xe)}function hm(Xe){return Ra.test(Xe)}function Gf(Xe){for(var ot,rt=[];!(ot=Xe.next()).done;)rt.push(ot.value);return rt}function lu(Xe){var ot=-1,rt=Array(Xe.size);return Xe.forEach(function(Tt,Xt){rt[++ot]=[Xt,Tt]}),rt}function Wo(Xe,ot){return function(rt){return Xe(ot(rt))}}function na(Xe,ot){for(var rt=-1,Tt=Xe.length,Xt=0,gn=[];++rt<Tt;){var jn=Xe[rt];(jn===ot||jn===c)&&(Xe[rt]=c,gn[Xt++]=rt)}return gn}function ao(Xe){var ot=-1,rt=Array(Xe.size);return Xe.forEach(function(Tt){rt[++ot]=Tt}),rt}function Mi(Xe){var ot=-1,rt=Array(Xe.size);return Xe.forEach(function(Tt){rt[++ot]=[Tt,Tt]}),rt}function uu(Xe,ot,rt){for(var Tt=rt-1,Xt=Xe.length;++Tt<Xt;)if(Xe[Tt]===ot)return Tt;return-1}function er(Xe,ot,rt){for(var Tt=rt+1;Tt--;)if(Xe[Tt]===ot)return Tt;return Tt}function tr(Xe){return io(Xe)?Qr(Xe):Bf(Xe)}function In(Xe){return io(Xe)?od(Xe):lm(Xe)}function fu(Xe){for(var ot=Xe.length;ot--&&lt.test(Xe.charAt(ot)););return ot}var cu=zf(La);function Qr(Xe){for(var ot=If.lastIndex=0;If.test(Xe);)++ot;return ot}function od(Xe){return Xe.match(If)||[]}function sd(Xe){return Xe.match(ed)||[]}var Vo=function Xe(ot){ot=ot==null?Mn:Kr.defaults(Mn.Object(),ot,Kr.pick(Mn,Df));var rt=ot.Array,Tt=ot.Date,Xt=ot.Error,gn=ot.Function,jn=ot.Math,bn=ot.Object,Wf=ot.RegExp,Vf=ot.String,$r=ot.TypeError,Bs=rt.prototype,dm=gn.prototype,Oa=bn.prototype,hu=ot["__core-js_shared__"],du=dm.toString,En=Oa.hasOwnProperty,ld=0,ud=function(){var y=/[^.]+$/.exec(hu&&hu.keys&&hu.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),pu=Oa.toString,u_=du.call(bn),fd=Mn._,jf=Wf("^"+du.call(En).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zf=om?ot.Buffer:r,oo=ot.Symbol,Xf=ot.Uint8Array,pm=Zf?Zf.allocUnsafe:r,ei=Wo(bn.getPrototypeOf,bn),Br=bn.create,cd=Oa.propertyIsEnumerable,mu=Bs.splice,hd=oo?oo.isConcatSpreadable:r,jo=oo?oo.iterator:r,so=oo?oo.toStringTag:r,zs=function(){try{var y=Ru(bn,"defineProperty");return y({},"",{}),y}catch{}}(),mm=ot.clearTimeout!==Mn.clearTimeout&&ot.clearTimeout,dd=Tt&&Tt.now!==Mn.Date.now&&Tt.now,gm=ot.setTimeout!==Mn.setTimeout&&ot.setTimeout,Zo=jn.ceil,gu=jn.floor,Yf=bn.getOwnPropertySymbols,vm=Zf?Zf.isBuffer:r,pd=ot.isFinite,_m=Bs.join,md=Wo(bn.keys,bn),or=jn.max,Un=jn.min,ra=Tt.now,vu=ot.parseInt,Us=jn.random,qf=Bs.reverse,Hs=Ru(ot,"DataView"),Gs=Ru(ot,"Map"),Xo=Ru(ot,"Promise"),Ws=Ru(ot,"Set"),_u=Ru(ot,"WeakMap"),Yo=Ru(bn,"create"),Vs=_u&&new _u,js={},ym=Lu(Hs),xm=Lu(Gs),f_=Lu(Xo),wm=Lu(Ws),c_=Lu(_u),yu=oo?oo.prototype:r,xu=yu?yu.valueOf:r,gd=yu?yu.toString:r;function Ee(y){if(lr(y)&&!tn(y)&&!(y instanceof sn)){if(y instanceof pi)return y;if(En.call(y,"__wrapped__"))return K2(y)}return new pi(y)}var qo=function(){function y(){}return function(M){if(!rr(M))return{};if(Br)return Br(M);y.prototype=M;var F=new y;return y.prototype=r,F}}();function wu(){}function pi(y,M){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=r}Ee.templateSettings={escape:ue,evaluate:Ke,interpolate:pt,variable:"",imports:{_:Ee}},Ee.prototype=wu.prototype,Ee.prototype.constructor=Ee,pi.prototype=qo(wu.prototype),pi.prototype.constructor=pi;function sn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function vd(){var y=new sn(this.__wrapped__);return y.__actions__=dn(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=dn(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=dn(this.__views__),y}function _d(){if(this.__filtered__){var y=new sn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function bm(){var y=this.__wrapped__.value(),M=this.__dir__,F=tn(y),ee=M<0,me=F?y.length:0,Te=RL(0,me,this.__views__),Fe=Te.start,We=Te.end,$e=We-Fe,ht=ee?We:Fe-1,dt=this.__iteratees__,mt=dt.length,St=0,Nt=Un($e,this.__takeCount__);if(!F||!ee&&me==$e&&Nt==$e)return _e(y,this.__actions__);var Gt=[];e:for(;$e--&&St<Nt;){ht+=M;for(var an=-1,Wt=y[ht];++an<mt;){var cn=dt[an],pn=cn.iteratee,Vi=cn.type,gi=pn(Wt);if(Vi==H)Wt=gi;else if(!gi){if(Vi==k)continue e;break e}}Gt[St++]=Wt}return Gt}sn.prototype=qo(wu.prototype),sn.prototype.constructor=sn;function Na(y){var M=-1,F=y==null?0:y.length;for(this.clear();++M<F;){var ee=y[M];this.set(ee[0],ee[1])}}function Em(){this.__data__=Yo?Yo(null):{},this.size=0}function Jf(y){var M=this.has(y)&&delete this.__data__[y];return this.size-=M?1:0,M}function h_(y){var M=this.__data__;if(Yo){var F=M[y];return F===o?r:F}return En.call(M,y)?M[y]:r}function Qf(y){var M=this.__data__;return Yo?M[y]!==r:En.call(M,y)}function Kf(y,M){var F=this.__data__;return this.size+=this.has(y)?0:1,F[y]=Yo&&M===r?o:M,this}Na.prototype.clear=Em,Na.prototype.delete=Jf,Na.prototype.get=h_,Na.prototype.has=Qf,Na.prototype.set=Kf;function Ti(y){var M=-1,F=y==null?0:y.length;for(this.clear();++M<F;){var ee=y[M];this.set(ee[0],ee[1])}}function $f(){this.__data__=[],this.size=0}function ec(y){var M=this.__data__,F=Xs(M,y);if(F<0)return!1;var ee=M.length-1;return F==ee?M.pop():mu.call(M,F,1),--this.size,!0}function bu(y){var M=this.__data__,F=Xs(M,y);return F<0?r:M[F][1]}function yd(y){return Xs(this.__data__,y)>-1}function xd(y,M){var F=this.__data__,ee=Xs(F,y);return ee<0?(++this.size,F.push([y,M])):F[ee][1]=M,this}Ti.prototype.clear=$f,Ti.prototype.delete=ec,Ti.prototype.get=bu,Ti.prototype.has=yd,Ti.prototype.set=xd;function Gi(y){var M=-1,F=y==null?0:y.length;for(this.clear();++M<F;){var ee=y[M];this.set(ee[0],ee[1])}}function Sm(){this.size=0,this.__data__={hash:new Na,map:new(Gs||Ti),string:new Na}}function wd(y){var M=Gm(this,y).delete(y);return this.size-=M?1:0,M}function tc(y){return Gm(this,y).get(y)}function d_(y){return Gm(this,y).has(y)}function p_(y,M){var F=Gm(this,y),ee=F.size;return F.set(y,M),this.size+=F.size==ee?0:1,this}Gi.prototype.clear=Sm,Gi.prototype.delete=wd,Gi.prototype.get=tc,Gi.prototype.has=d_,Gi.prototype.set=p_;function ia(y){var M=-1,F=y==null?0:y.length;for(this.__data__=new Gi;++M<F;)this.add(y[M])}function bd(y){return this.__data__.set(y,o),this}function Ed(y){return this.__data__.has(y)}ia.prototype.add=ia.prototype.push=bd,ia.prototype.has=Ed;function Pt(y){var M=this.__data__=new Ti(y);this.size=M.size}function zr(){this.__data__=new Ti,this.size=0}function dr(y){var M=this.__data__,F=M.delete(y);return this.size=M.size,F}function Ir(y){return this.__data__.get(y)}function Jo(y){return this.__data__.has(y)}function Sd(y,M){var F=this.__data__;if(F instanceof Ti){var ee=F.__data__;if(!Gs||ee.length<t-1)return ee.push([y,M]),this.size=++F.size,this;F=this.__data__=new Gi(ee)}return F.set(y,M),this.size=F.size,this}Pt.prototype.clear=zr,Pt.prototype.delete=dr,Pt.prototype.get=Ir,Pt.prototype.has=Jo,Pt.prototype.set=Sd;function br(y,M){var F=tn(y),ee=!F&&Pu(y),me=!F&&!ee&&tl(y),Te=!F&&!ee&&!me&&mc(y),Fe=F||ee||me||Te,We=Fe?ro(y.length,Vf):[],$e=We.length;for(var ht in y)(M||En.call(y,ht))&&!(Fe&&(ht=="length"||me&&(ht=="offset"||ht=="parent")||Te&&(ht=="buffer"||ht=="byteLength"||ht=="byteOffset")||as(ht,$e)))&&We.push(ht);return We}function Eu(y){var M=y.length;return M?y[Id(0,M-1)]:r}function Zs(y,M){return Wm(dn(y),ka(M,0,y.length))}function Su(y){return Wm(dn(y))}function lo(y,M,F){(F!==r&&!za(y[M],F)||F===r&&!(M in y))&&Et(y,M,F)}function Qo(y,M,F){var ee=y[M];(!(En.call(y,M)&&za(ee,F))||F===r&&!(M in y))&&Et(y,M,F)}function Xs(y,M){for(var F=y.length;F--;)if(za(y[F][0],M))return F;return-1}function Md(y,M,F,ee){return aa(y,function(me,Te,Fe){M(ee,me,F(me),Fe)}),ee}function nc(y,M){return y&&Jt(M,Or(M),y)}function uo(y,M){return y&&Jt(M,Pi(M),y)}function Et(y,M,F){M=="__proto__"&&zs?zs(y,M,{configurable:!0,enumerable:!0,value:F,writable:!0}):y[M]=F}function Ys(y,M){for(var F=-1,ee=M.length,me=rt(ee),Te=y==null;++F<ee;)me[F]=Te?r:B_(y,M[F]);return me}function ka(y,M,F){return y===y&&(F!==r&&(y=y<=F?y:F),M!==r&&(y=y>=M?y:M)),y}function nr(y,M,F,ee,me,Te){var Fe,We=M&g,$e=M&m,ht=M&d;if(F&&(Fe=me?F(y,ee,me,Te):F(y)),Fe!==r)return Fe;if(!rr(y))return y;var dt=tn(y);if(dt){if(Fe=PL(y),!We)return dn(y,Fe)}else{var mt=ri(y),St=mt==xe||mt==Oe;if(tl(y))return Bn(y,We);if(mt==de||mt==fe||St&&!me){if(Fe=$e||St?{}:W2(y),!We)return $e?x_(y,uo(Fe,y)):po(y,nc(Fe,y))}else{if(!Kt[mt])return me?y:{};Fe=IL(y,mt,We)}}Te||(Te=new Pt);var Nt=Te.get(y);if(Nt)return Nt;Te.set(y,Fe),_E(y)?y.forEach(function(Wt){Fe.add(nr(Wt,M,F,Wt,y,Te))}):gE(y)&&y.forEach(function(Wt,cn){Fe.set(cn,nr(Wt,M,F,cn,y,Te))});var Gt=ht?$e?S_:E_:$e?Pi:Or,an=dt?r:Gt(y);return Wn(an||y,function(Wt,cn){an&&(cn=Wt,Wt=y[cn]),Qo(Fe,cn,nr(Wt,M,F,cn,y,Te))}),Fe}function fo(y){var M=Or(y);return function(F){return qs(F,y,M)}}function qs(y,M,F){var ee=F.length;if(y==null)return!ee;for(y=bn(y);ee--;){var me=F[ee],Te=M[me],Fe=y[me];if(Fe===r&&!(me in y)||!Te(Fe))return!1}return!0}function Js(y,M,F){if(typeof y!="function")throw new $r(i);return Fd(function(){y.apply(r,F)},M)}function Ko(y,M,F,ee){var me=-1,Te=Hi,Fe=!0,We=y.length,$e=[],ht=M.length;if(!We)return $e;F&&(M=Fn(M,wr(F))),ee?(Te=$i,Fe=!1):M.length>=t&&(Te=Ho,Fe=!1,M=new ia(M));e:for(;++me<We;){var dt=y[me],mt=F==null?dt:F(dt);if(dt=ee||dt!==0?dt:0,Fe&&mt===mt){for(var St=ht;St--;)if(M[St]===mt)continue e;$e.push(dt)}else Te(M,mt,ee)||$e.push(dt)}return $e}var aa=R2(Zn),oa=R2(la,!0);function Mu(y,M){var F=!0;return aa(y,function(ee,me,Te){return F=!!M(ee,me,Te),F}),F}function Qs(y,M,F){for(var ee=-1,me=y.length;++ee<me;){var Te=y[ee],Fe=M(Te);if(Fe!=null&&(We===r?Fe===Fe&&!Wi(Fe):F(Fe,We)))var We=Fe,$e=Te}return $e}function rc(y,M,F,ee){var me=y.length;for(F=rn(F),F<0&&(F=-F>me?0:me+F),ee=ee===r||ee>me?me:rn(ee),ee<0&&(ee+=me),ee=F>ee?0:xE(ee);F<ee;)y[F++]=M;return y}function sa(y,M){var F=[];return aa(y,function(ee,me,Te){M(ee,me,Te)&&F.push(ee)}),F}function sr(y,M,F,ee,me){var Te=-1,Fe=y.length;for(F||(F=OL),me||(me=[]);++Te<Fe;){var We=y[Te];M>0&&F(We)?M>1?sr(We,M-1,F,ee,me):Ei(me,We):ee||(me[me.length]=We)}return me}var $o=L2(),Ks=L2(!0);function Zn(y,M){return y&&$o(y,M,Or)}function la(y,M){return y&&Ks(y,M,Or)}function Ai(y,M){return Pa(M,function(F){return os(y[F])})}function ua(y,M){M=It(M,y);for(var F=0,ee=M.length;y!=null&&F<ee;)y=y[mo(M[F++])];return F&&F==ee?y:r}function ti(y,M,F){var ee=M(y);return tn(y)?ee:Ei(ee,F(y))}function Dr(y){return y==null?y===r?I:pe:so&&so in bn(y)?CL(y):HL(y)}function co(y,M){return y>M}function Td(y,M){return y!=null&&En.call(y,M)}function m_(y,M){return y!=null&&M in bn(y)}function Mm(y,M,F){return y>=Un(M,F)&&y<or(M,F)}function ic(y,M,F){for(var ee=F?$i:Hi,me=y[0].length,Te=y.length,Fe=Te,We=rt(Te),$e=1/0,ht=[];Fe--;){var dt=y[Fe];Fe&&M&&(dt=Fn(dt,wr(M))),$e=Un(dt.length,$e),We[Fe]=!F&&(M||me>=120&&dt.length>=120)?new ia(Fe&&dt):r}dt=y[0];var mt=-1,St=We[0];e:for(;++mt<me&&ht.length<$e;){var Nt=dt[mt],Gt=M?M(Nt):Nt;if(Nt=F||Nt!==0?Nt:0,!(St?Ho(St,Gt):ee(ht,Gt,F))){for(Fe=Te;--Fe;){var an=We[Fe];if(!(an?Ho(an,Gt):ee(y[Fe],Gt,F)))continue e}St&&St.push(Gt),ht.push(Nt)}}return ht}function ac(y,M,F,ee){return Zn(y,function(me,Te,Fe){M(ee,F(me),Te,Fe)}),ee}function es(y,M,F){M=It(M,y),y=X2(y,M);var ee=y==null?y:y[mo(ha(M))];return ee==null?r:Jr(ee,y,F)}function ts(y){return lr(y)&&Dr(y)==fe}function Tm(y){return lr(y)&&Dr(y)==ye}function Am(y){return lr(y)&&Dr(y)==ce}function Fa(y,M,F,ee,me){return y===M?!0:y==null||M==null||!lr(y)&&!lr(M)?y!==y&&M!==M:g_(y,M,F,ee,Fa,me)}function g_(y,M,F,ee,me,Te){var Fe=tn(y),We=tn(M),$e=Fe?$:ri(y),ht=We?$:ri(M);$e=$e==fe?de:$e,ht=ht==fe?de:ht;var dt=$e==de,mt=ht==de,St=$e==ht;if(St&&tl(y)){if(!tl(M))return!1;Fe=!0,dt=!1}if(St&&!dt)return Te||(Te=new Pt),Fe||mc(y)?U2(y,M,F,ee,me,Te):TL(y,M,$e,F,ee,me,Te);if(!(F&u)){var Nt=dt&&En.call(y,"__wrapped__"),Gt=mt&&En.call(M,"__wrapped__");if(Nt||Gt){var an=Nt?y.value():y,Wt=Gt?M.value():M;return Te||(Te=new Pt),me(an,Wt,F,ee,Te)}}return St?(Te||(Te=new Pt),AL(y,M,F,ee,me,Te)):!1}function v_(y){return lr(y)&&ri(y)==ge}function oc(y,M,F,ee){var me=F.length,Te=me,Fe=!ee;if(y==null)return!Te;for(y=bn(y);me--;){var We=F[me];if(Fe&&We[2]?We[1]!==y[We[0]]:!(We[0]in y))return!1}for(;++me<Te;){We=F[me];var $e=We[0],ht=y[$e],dt=We[1];if(Fe&&We[2]){if(ht===r&&!($e in y))return!1}else{var mt=new Pt;if(ee)var St=ee(ht,dt,$e,y,M,mt);if(!(St===r?Fa(dt,ht,u|f,ee,mt):St))return!1}}return!0}function Ad(y){if(!rr(y)||kL(y))return!1;var M=os(y)?jf:zt;return M.test(Lu(y))}function ns(y){return lr(y)&&Dr(y)==q}function __(y){return lr(y)&&ri(y)==te}function y_(y){return lr(y)&&qm(y.length)&&!!Dn[Dr(y)]}function fa(y){return typeof y=="function"?y:y==null?Ii:typeof y=="object"?tn(y)?Rm(y[0],y[1]):Ba(y):PE(y)}function Cd(y){if(!kd(y))return md(y);var M=[];for(var F in bn(y))En.call(y,F)&&F!="constructor"&&M.push(F);return M}function Cm(y){if(!rr(y))return UL(y);var M=kd(y),F=[];for(var ee in y)ee=="constructor"&&(M||!En.call(y,ee))||F.push(ee);return F}function Rd(y,M){return y<M}function Ld(y,M){var F=-1,ee=Li(y)?rt(y.length):[];return aa(y,function(me,Te,Fe){ee[++F]=M(me,Te,Fe)}),ee}function Ba(y){var M=T_(y);return M.length==1&&M[0][2]?j2(M[0][0],M[0][1]):function(F){return F===y||oc(F,y,M)}}function Rm(y,M){return C_(y)&&V2(M)?j2(mo(y),M):function(F){var ee=B_(F,y);return ee===r&&ee===M?z_(F,y):Fa(M,ee,u|f)}}function sc(y,M,F,ee,me){y!==M&&$o(M,function(Te,Fe){if(me||(me=new Pt),rr(Te))Lm(y,M,Fe,F,sc,ee,me);else{var We=ee?ee(L_(y,Fe),Te,Fe+"",y,M,me):r;We===r&&(We=Te),lo(y,Fe,We)}},Pi)}function Lm(y,M,F,ee,me,Te,Fe){var We=L_(y,F),$e=L_(M,F),ht=Fe.get($e);if(ht){lo(y,F,ht);return}var dt=Te?Te(We,$e,F+"",y,M,Fe):r,mt=dt===r;if(mt){var St=tn($e),Nt=!St&&tl($e),Gt=!St&&!Nt&&mc($e);dt=$e,St||Nt||Gt?tn(We)?dt=We:pr(We)?dt=dn(We):Nt?(mt=!1,dt=Bn($e,!0)):Gt?(mt=!1,dt=Mt($e,!0)):dt=[]:Bd($e)||Pu($e)?(dt=We,Pu(We)?dt=wE(We):(!rr(We)||os(We))&&(dt=W2($e))):mt=!1}mt&&(Fe.set($e,dt),me(dt,$e,ee,Te,Fe),Fe.delete($e)),lo(y,F,dt)}function Tu(y,M){var F=y.length;if(!!F)return M+=M<0?F:0,as(M,F)?y[M]:r}function lc(y,M,F){M.length?M=Fn(M,function(Te){return tn(Te)?function(Fe){return ua(Fe,Te.length===1?Te[0]:Te)}:Te}):M=[Ii];var ee=-1;M=Fn(M,wr(Ut()));var me=Ld(y,function(Te,Fe,We){var $e=Fn(M,function(ht){return ht(Te)});return{criteria:$e,index:++ee,value:Te}});return Si(me,function(Te,Fe){return On(Te,Fe,F)})}function Pm(y,M){return uc(y,M,function(F,ee){return z_(y,ee)})}function uc(y,M,F){for(var ee=-1,me=M.length,Te={};++ee<me;){var Fe=M[ee],We=ua(y,Fe);F(We,Fe)&&ca(Te,It(Fe,y),We)}return Te}function Im(y){return function(M){return ua(M,y)}}function $s(y,M,F,ee){var me=ee?au:Ia,Te=-1,Fe=M.length,We=y;for(y===M&&(M=dn(M)),F&&(We=Fn(y,wr(F)));++Te<Fe;)for(var $e=0,ht=M[Te],dt=F?F(ht):ht;($e=me(We,dt,$e,ee))>-1;)We!==y&&mu.call(We,$e,1),mu.call(y,$e,1);return y}function Pd(y,M){for(var F=y?M.length:0,ee=F-1;F--;){var me=M[F];if(F==ee||me!==Te){var Te=me;as(me)?mu.call(y,me,1):N(y,me)}}return y}function Id(y,M){return y+gu(Us()*(M-y+1))}function Ci(y,M,F,ee){for(var me=-1,Te=or(Zo((M-y)/(F||1)),0),Fe=rt(Te);Te--;)Fe[ee?Te:++me]=y,y+=F;return Fe}function Au(y,M){var F="";if(!y||M<1||M>V)return F;do M%2&&(F+=y),M=gu(M/2),M&&(y+=y);while(M);return F}function nn(y,M){return P_(Z2(y,M,Ii),y+"")}function ho(y){return Eu(gc(y))}function fc(y,M){var F=gc(y);return Wm(F,ka(M,0,F.length))}function ca(y,M,F,ee){if(!rr(y))return y;M=It(M,y);for(var me=-1,Te=M.length,Fe=Te-1,We=y;We!=null&&++me<Te;){var $e=mo(M[me]),ht=F;if($e==="__proto__"||$e==="constructor"||$e==="prototype")return y;if(me!=Fe){var dt=We[$e];ht=ee?ee(dt,$e,We):r,ht===r&&(ht=rr(dt)?dt:as(M[me+1])?[]:{})}Qo(We,$e,ht),We=We[$e]}return y}var cc=Vs?function(y,M){return Vs.set(y,M),y}:Ii,Dd=zs?function(y,M){return zs(y,"toString",{configurable:!0,enumerable:!1,value:H_(M),writable:!0})}:Ii;function Od(y){return Wm(gc(y))}function Ri(y,M,F){var ee=-1,me=y.length;M<0&&(M=-M>me?0:me+M),F=F>me?me:F,F<0&&(F+=me),me=M>F?0:F-M>>>0,M>>>=0;for(var Te=rt(me);++ee<me;)Te[ee]=y[ee+M];return Te}function Dm(y,M){var F;return aa(y,function(ee,me,Te){return F=M(ee,me,Te),!F}),!!F}function Cu(y,M,F){var ee=0,me=y==null?ee:y.length;if(typeof M=="number"&&M===M&&me<=oe){for(;ee<me;){var Te=ee+me>>>1,Fe=y[Te];Fe!==null&&!Wi(Fe)&&(F?Fe<=M:Fe<M)?ee=Te+1:me=Te}return me}return el(y,M,Ii,F)}function el(y,M,F,ee){var me=0,Te=y==null?0:y.length;if(Te===0)return 0;M=F(M);for(var Fe=M!==M,We=M===null,$e=Wi(M),ht=M===r;me<Te;){var dt=gu((me+Te)/2),mt=F(y[dt]),St=mt!==r,Nt=mt===null,Gt=mt===mt,an=Wi(mt);if(Fe)var Wt=ee||Gt;else ht?Wt=Gt&&(ee||St):We?Wt=Gt&&St&&(ee||!Nt):$e?Wt=Gt&&St&&!Nt&&(ee||!an):Nt||an?Wt=!1:Wt=ee?mt<=M:mt<M;Wt?me=dt+1:Te=dt}return Un(Te,J)}function Om(y,M){for(var F=-1,ee=y.length,me=0,Te=[];++F<ee;){var Fe=y[F],We=M?M(Fe):Fe;if(!F||!za(We,$e)){var $e=We;Te[me++]=Fe===0?0:Fe}}return Te}function Nm(y){return typeof y=="number"?y:Wi(y)?z:+y}function b(y){if(typeof y=="string")return y;if(tn(y))return Fn(y,b)+"";if(Wi(y))return gd?gd.call(y):"";var M=y+"";return M=="0"&&1/y==-Z?"-0":M}function S(y,M,F){var ee=-1,me=Hi,Te=y.length,Fe=!0,We=[],$e=We;if(F)Fe=!1,me=$i;else if(Te>=t){var ht=M?null:SL(y);if(ht)return ao(ht);Fe=!1,me=Ho,$e=new ia}else $e=M?[]:We;e:for(;++ee<Te;){var dt=y[ee],mt=M?M(dt):dt;if(dt=F||dt!==0?dt:0,Fe&&mt===mt){for(var St=$e.length;St--;)if($e[St]===mt)continue e;M&&$e.push(mt),We.push(dt)}else me($e,mt,F)||($e!==We&&$e.push(mt),We.push(dt))}return We}function N(y,M){return M=It(M,y),y=X2(y,M),y==null||delete y[mo(ha(M))]}function K(y,M,F,ee){return ca(y,M,F(ua(y,M)),ee)}function ne(y,M,F,ee){for(var me=y.length,Te=ee?me:-1;(ee?Te--:++Te<me)&&M(y[Te],Te,y););return F?Ri(y,ee?0:Te,ee?Te+1:me):Ri(y,ee?Te+1:0,ee?me:Te)}function _e(y,M){var F=y;return F instanceof sn&&(F=F.value()),Ff(M,function(ee,me){return me.func.apply(me.thisArg,Ei([ee],me.args))},F)}function Ne(y,M,F){var ee=y.length;if(ee<2)return ee?S(y[0]):[];for(var me=-1,Te=rt(ee);++me<ee;)for(var Fe=y[me],We=-1;++We<ee;)We!=me&&(Te[me]=Ko(Te[me]||Fe,y[We],M,F));return S(sr(Te,1),M,F)}function Ze(y,M,F){for(var ee=-1,me=y.length,Te=M.length,Fe={};++ee<me;){var We=ee<Te?M[ee]:r;F(Fe,y[ee],We)}return Fe}function at(y){return pr(y)?y:[]}function _t(y){return typeof y=="function"?y:Ii}function It(y,M){return tn(y)?y:C_(y,M)?[y]:Q2(Cn(y))}var jt=nn;function xt(y,M,F){var ee=y.length;return F=F===r?ee:F,!M&&F>=ee?y:Ri(y,M,F)}var An=mm||function(y){return Mn.clearTimeout(y)};function Bn(y,M){if(M)return y.slice();var F=y.length,ee=pm?pm(F):new y.constructor(F);return y.copy(ee),ee}function ni(y){var M=new y.constructor(y.byteLength);return new Xf(M).set(new Xf(y)),M}function nt(y,M){var F=M?ni(y.buffer):y.buffer;return new y.constructor(F,y.byteOffset,y.byteLength)}function Qe(y){var M=new y.constructor(y.source,Ct.exec(y));return M.lastIndex=y.lastIndex,M}function st(y){return xu?bn(xu.call(y)):{}}function Mt(y,M){var F=M?ni(y.buffer):y.buffer;return new y.constructor(F,y.byteOffset,y.length)}function kt(y,M){if(y!==M){var F=y!==r,ee=y===null,me=y===y,Te=Wi(y),Fe=M!==r,We=M===null,$e=M===M,ht=Wi(M);if(!We&&!ht&&!Te&&y>M||Te&&Fe&&$e&&!We&&!ht||ee&&Fe&&$e||!F&&$e||!me)return 1;if(!ee&&!Te&&!ht&&y<M||ht&&F&&me&&!ee&&!Te||We&&F&&me||!Fe&&me||!$e)return-1}return 0}function On(y,M,F){for(var ee=-1,me=y.criteria,Te=M.criteria,Fe=me.length,We=F.length;++ee<Fe;){var $e=kt(me[ee],Te[ee]);if($e){if(ee>=We)return $e;var ht=F[ee];return $e*(ht=="desc"?-1:1)}}return y.index-M.index}function Zt(y,M,F,ee){for(var me=-1,Te=y.length,Fe=F.length,We=-1,$e=M.length,ht=or(Te-Fe,0),dt=rt($e+ht),mt=!ee;++We<$e;)dt[We]=M[We];for(;++me<Fe;)(mt||me<Te)&&(dt[F[me]]=y[me]);for(;ht--;)dt[We++]=y[me++];return dt}function yn(y,M,F,ee){for(var me=-1,Te=y.length,Fe=-1,We=F.length,$e=-1,ht=M.length,dt=or(Te-We,0),mt=rt(dt+ht),St=!ee;++me<dt;)mt[me]=y[me];for(var Nt=me;++$e<ht;)mt[Nt+$e]=M[$e];for(;++Fe<We;)(St||me<Te)&&(mt[Nt+F[Fe]]=y[me++]);return mt}function dn(y,M){var F=-1,ee=y.length;for(M||(M=rt(ee));++F<ee;)M[F]=y[F];return M}function Jt(y,M,F,ee){var me=!F;F||(F={});for(var Te=-1,Fe=M.length;++Te<Fe;){var We=M[Te],$e=ee?ee(F[We],y[We],We,F,y):r;$e===r&&($e=y[We]),me?Et(F,We,$e):Qo(F,We,$e)}return F}function po(y,M){return Jt(y,A_(y),M)}function x_(y,M){return Jt(y,H2(y),M)}function km(y,M){return function(F,ee){var me=tn(F)?Ds:Md,Te=M?M():{};return me(F,y,Ut(ee,2),Te)}}function hc(y){return nn(function(M,F){var ee=-1,me=F.length,Te=me>1?F[me-1]:r,Fe=me>2?F[2]:r;for(Te=y.length>3&&typeof Te=="function"?(me--,Te):r,Fe&&mi(F[0],F[1],Fe)&&(Te=me<3?r:Te,me=1),M=bn(M);++ee<me;){var We=F[ee];We&&y(M,We,ee,Te)}return M})}function R2(y,M){return function(F,ee){if(F==null)return F;if(!Li(F))return y(F,ee);for(var me=F.length,Te=M?me:-1,Fe=bn(F);(M?Te--:++Te<me)&&ee(Fe[Te],Te,Fe)!==!1;);return F}}function L2(y){return function(M,F,ee){for(var me=-1,Te=bn(M),Fe=ee(M),We=Fe.length;We--;){var $e=Fe[y?We:++me];if(F(Te[$e],$e,Te)===!1)break}return M}}function wL(y,M,F){var ee=M&s,me=Nd(y);function Te(){var Fe=this&&this!==Mn&&this instanceof Te?me:y;return Fe.apply(ee?F:this,arguments)}return Te}function P2(y){return function(M){M=Cn(M);var F=io(M)?In(M):r,ee=F?F[0]:M.charAt(0),me=F?xt(F,1).join(""):M.slice(1);return ee[y]()+me}}function dc(y){return function(M){return Ff(RE(CE(M).replace(tm,"")),y,"")}}function Nd(y){return function(){var M=arguments;switch(M.length){case 0:return new y;case 1:return new y(M[0]);case 2:return new y(M[0],M[1]);case 3:return new y(M[0],M[1],M[2]);case 4:return new y(M[0],M[1],M[2],M[3]);case 5:return new y(M[0],M[1],M[2],M[3],M[4]);case 6:return new y(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new y(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var F=qo(y.prototype),ee=y.apply(F,M);return rr(ee)?ee:F}}function bL(y,M,F){var ee=Nd(y);function me(){for(var Te=arguments.length,Fe=rt(Te),We=Te,$e=pc(me);We--;)Fe[We]=arguments[We];var ht=Te<3&&Fe[0]!==$e&&Fe[Te-1]!==$e?[]:na(Fe,$e);if(Te-=ht.length,Te<F)return k2(y,M,Fm,me.placeholder,r,Fe,ht,r,r,F-Te);var dt=this&&this!==Mn&&this instanceof me?ee:y;return Jr(dt,this,Fe)}return me}function I2(y){return function(M,F,ee){var me=bn(M);if(!Li(M)){var Te=Ut(F,3);M=Or(M),F=function(We){return Te(me[We],We,me)}}var Fe=y(M,F,ee);return Fe>-1?me[Te?M[Fe]:Fe]:r}}function D2(y){return is(function(M){var F=M.length,ee=F,me=pi.prototype.thru;for(y&&M.reverse();ee--;){var Te=M[ee];if(typeof Te!="function")throw new $r(i);if(me&&!Fe&&Hm(Te)=="wrapper")var Fe=new pi([],!0)}for(ee=Fe?ee:F;++ee<F;){Te=M[ee];var We=Hm(Te),$e=We=="wrapper"?M_(Te):r;$e&&R_($e[0])&&$e[1]==(E|h|_|A)&&!$e[4].length&&$e[9]==1?Fe=Fe[Hm($e[0])].apply(Fe,$e[3]):Fe=Te.length==1&&R_(Te)?Fe[We]():Fe.thru(Te)}return function(){var ht=arguments,dt=ht[0];if(Fe&&ht.length==1&&tn(dt))return Fe.plant(dt).value();for(var mt=0,St=F?M[mt].apply(this,ht):dt;++mt<F;)St=M[mt].call(this,St);return St}})}function Fm(y,M,F,ee,me,Te,Fe,We,$e,ht){var dt=M&E,mt=M&s,St=M&v,Nt=M&(h|p),Gt=M&T,an=St?r:Nd(y);function Wt(){for(var cn=arguments.length,pn=rt(cn),Vi=cn;Vi--;)pn[Vi]=arguments[Vi];if(Nt)var gi=pc(Wt),ji=Da(pn,gi);if(ee&&(pn=Zt(pn,ee,me,Nt)),Te&&(pn=yn(pn,Te,Fe,Nt)),cn-=ji,Nt&&cn<ht){var mr=na(pn,gi);return k2(y,M,Fm,Wt.placeholder,F,pn,mr,We,$e,ht-cn)}var Ua=mt?F:this,ls=St?Ua[y]:y;return cn=pn.length,We?pn=GL(pn,We):Gt&&cn>1&&pn.reverse(),dt&&$e<cn&&(pn.length=$e),this&&this!==Mn&&this instanceof Wt&&(ls=an||Nd(ls)),ls.apply(Ua,pn)}return Wt}function O2(y,M){return function(F,ee){return ac(F,y,M(ee),{})}}function Bm(y,M){return function(F,ee){var me;if(F===r&&ee===r)return M;if(F!==r&&(me=F),ee!==r){if(me===r)return ee;typeof F=="string"||typeof ee=="string"?(F=b(F),ee=b(ee)):(F=Nm(F),ee=Nm(ee)),me=y(F,ee)}return me}}function w_(y){return is(function(M){return M=Fn(M,wr(Ut())),nn(function(F){var ee=this;return y(M,function(me){return Jr(me,ee,F)})})})}function zm(y,M){M=M===r?" ":b(M);var F=M.length;if(F<2)return F?Au(M,y):M;var ee=Au(M,Zo(y/tr(M)));return io(M)?xt(In(ee),0,y).join(""):ee.slice(0,y)}function EL(y,M,F,ee){var me=M&s,Te=Nd(y);function Fe(){for(var We=-1,$e=arguments.length,ht=-1,dt=ee.length,mt=rt(dt+$e),St=this&&this!==Mn&&this instanceof Fe?Te:y;++ht<dt;)mt[ht]=ee[ht];for(;$e--;)mt[ht++]=arguments[++We];return Jr(St,me?F:this,mt)}return Fe}function N2(y){return function(M,F,ee){return ee&&typeof ee!="number"&&mi(M,F,ee)&&(F=ee=r),M=ss(M),F===r?(F=M,M=0):F=ss(F),ee=ee===r?M<F?1:-1:ss(ee),Ci(M,F,ee,y)}}function Um(y){return function(M,F){return typeof M=="string"&&typeof F=="string"||(M=da(M),F=da(F)),y(M,F)}}function k2(y,M,F,ee,me,Te,Fe,We,$e,ht){var dt=M&h,mt=dt?Fe:r,St=dt?r:Fe,Nt=dt?Te:r,Gt=dt?r:Te;M|=dt?_:w,M&=~(dt?w:_),M&x||(M&=~(s|v));var an=[y,M,me,Nt,mt,Gt,St,We,$e,ht],Wt=F.apply(r,an);return R_(y)&&Y2(Wt,an),Wt.placeholder=ee,q2(Wt,y,M)}function b_(y){var M=jn[y];return function(F,ee){if(F=da(F),ee=ee==null?0:Un(rn(ee),292),ee&&pd(F)){var me=(Cn(F)+"e").split("e"),Te=M(me[0]+"e"+(+me[1]+ee));return me=(Cn(Te)+"e").split("e"),+(me[0]+"e"+(+me[1]-ee))}return M(F)}}var SL=Ws&&1/ao(new Ws([,-0]))[1]==Z?function(y){return new Ws(y)}:V_;function F2(y){return function(M){var F=ri(M);return F==ge?lu(M):F==te?Mi(M):ea(M,y(M))}}function rs(y,M,F,ee,me,Te,Fe,We){var $e=M&v;if(!$e&&typeof y!="function")throw new $r(i);var ht=ee?ee.length:0;if(ht||(M&=~(_|w),ee=me=r),Fe=Fe===r?Fe:or(rn(Fe),0),We=We===r?We:rn(We),ht-=me?me.length:0,M&w){var dt=ee,mt=me;ee=me=r}var St=$e?r:M_(y),Nt=[y,M,F,ee,me,dt,mt,Te,Fe,We];if(St&&zL(Nt,St),y=Nt[0],M=Nt[1],F=Nt[2],ee=Nt[3],me=Nt[4],We=Nt[9]=Nt[9]===r?$e?0:y.length:or(Nt[9]-ht,0),!We&&M&(h|p)&&(M&=~(h|p)),!M||M==s)var Gt=wL(y,M,F);else M==h||M==p?Gt=bL(y,M,We):(M==_||M==(s|_))&&!me.length?Gt=EL(y,M,F,ee):Gt=Fm.apply(r,Nt);var an=St?cc:Y2;return q2(an(Gt,Nt),y,M)}function B2(y,M,F,ee){return y===r||za(y,Oa[F])&&!En.call(ee,F)?M:y}function z2(y,M,F,ee,me,Te){return rr(y)&&rr(M)&&(Te.set(M,y),sc(y,M,r,z2,Te),Te.delete(M)),y}function ML(y){return Bd(y)?r:y}function U2(y,M,F,ee,me,Te){var Fe=F&u,We=y.length,$e=M.length;if(We!=$e&&!(Fe&&$e>We))return!1;var ht=Te.get(y),dt=Te.get(M);if(ht&&dt)return ht==M&&dt==y;var mt=-1,St=!0,Nt=F&f?new ia:r;for(Te.set(y,M),Te.set(M,y);++mt<We;){var Gt=y[mt],an=M[mt];if(ee)var Wt=Fe?ee(an,Gt,mt,M,y,Te):ee(Gt,an,mt,y,M,Te);if(Wt!==r){if(Wt)continue;St=!1;break}if(Nt){if(!Os(M,function(cn,pn){if(!Ho(Nt,pn)&&(Gt===cn||me(Gt,cn,F,ee,Te)))return Nt.push(pn)})){St=!1;break}}else if(!(Gt===an||me(Gt,an,F,ee,Te))){St=!1;break}}return Te.delete(y),Te.delete(M),St}function TL(y,M,F,ee,me,Te,Fe){switch(F){case Ie:if(y.byteLength!=M.byteLength||y.byteOffset!=M.byteOffset)return!1;y=y.buffer,M=M.buffer;case ye:return!(y.byteLength!=M.byteLength||!Te(new Xf(y),new Xf(M)));case se:case ce:case De:return za(+y,+M);case we:return y.name==M.name&&y.message==M.message;case q:case G:return y==M+"";case ge:var We=lu;case te:var $e=ee&u;if(We||(We=ao),y.size!=M.size&&!$e)return!1;var ht=Fe.get(y);if(ht)return ht==M;ee|=f,Fe.set(y,M);var dt=U2(We(y),We(M),ee,me,Te,Fe);return Fe.delete(y),dt;case P:if(xu)return xu.call(y)==xu.call(M)}return!1}function AL(y,M,F,ee,me,Te){var Fe=F&u,We=E_(y),$e=We.length,ht=E_(M),dt=ht.length;if($e!=dt&&!Fe)return!1;for(var mt=$e;mt--;){var St=We[mt];if(!(Fe?St in M:En.call(M,St)))return!1}var Nt=Te.get(y),Gt=Te.get(M);if(Nt&&Gt)return Nt==M&&Gt==y;var an=!0;Te.set(y,M),Te.set(M,y);for(var Wt=Fe;++mt<$e;){St=We[mt];var cn=y[St],pn=M[St];if(ee)var Vi=Fe?ee(pn,cn,St,M,y,Te):ee(cn,pn,St,y,M,Te);if(!(Vi===r?cn===pn||me(cn,pn,F,ee,Te):Vi)){an=!1;break}Wt||(Wt=St=="constructor")}if(an&&!Wt){var gi=y.constructor,ji=M.constructor;gi!=ji&&"constructor"in y&&"constructor"in M&&!(typeof gi=="function"&&gi instanceof gi&&typeof ji=="function"&&ji instanceof ji)&&(an=!1)}return Te.delete(y),Te.delete(M),an}function is(y){return P_(Z2(y,r,tE),y+"")}function E_(y){return ti(y,Or,A_)}function S_(y){return ti(y,Pi,H2)}var M_=Vs?function(y){return Vs.get(y)}:V_;function Hm(y){for(var M=y.name+"",F=js[M],ee=En.call(js,M)?F.length:0;ee--;){var me=F[ee],Te=me.func;if(Te==null||Te==y)return me.name}return M}function pc(y){var M=En.call(Ee,"placeholder")?Ee:y;return M.placeholder}function Ut(){var y=Ee.iteratee||G_;return y=y===G_?fa:y,arguments.length?y(arguments[0],arguments[1]):y}function Gm(y,M){var F=y.__data__;return NL(M)?F[typeof M=="string"?"string":"hash"]:F.map}function T_(y){for(var M=Or(y),F=M.length;F--;){var ee=M[F],me=y[ee];M[F]=[ee,me,V2(me)]}return M}function Ru(y,M){var F=cm(y,M);return Ad(F)?F:r}function CL(y){var M=En.call(y,so),F=y[so];try{y[so]=r;var ee=!0}catch{}var me=pu.call(y);return ee&&(M?y[so]=F:delete y[so]),me}var A_=Yf?function(y){return y==null?[]:(y=bn(y),Pa(Yf(y),function(M){return cd.call(y,M)}))}:j_,H2=Yf?function(y){for(var M=[];y;)Ei(M,A_(y)),y=ei(y);return M}:j_,ri=Dr;(Hs&&ri(new Hs(new ArrayBuffer(1)))!=Ie||Gs&&ri(new Gs)!=ge||Xo&&ri(Xo.resolve())!=ie||Ws&&ri(new Ws)!=te||_u&&ri(new _u)!=U)&&(ri=function(y){var M=Dr(y),F=M==de?y.constructor:r,ee=F?Lu(F):"";if(ee)switch(ee){case ym:return Ie;case xm:return ge;case f_:return ie;case wm:return te;case c_:return U}return M});function RL(y,M,F){for(var ee=-1,me=F.length;++ee<me;){var Te=F[ee],Fe=Te.size;switch(Te.type){case"drop":y+=Fe;break;case"dropRight":M-=Fe;break;case"take":M=Un(M,y+Fe);break;case"takeRight":y=or(y,M-Fe);break}}return{start:y,end:M}}function LL(y){var M=y.match(Be);return M?M[1].split(je):[]}function G2(y,M,F){M=It(M,y);for(var ee=-1,me=M.length,Te=!1;++ee<me;){var Fe=mo(M[ee]);if(!(Te=y!=null&&F(y,Fe)))break;y=y[Fe]}return Te||++ee!=me?Te:(me=y==null?0:y.length,!!me&&qm(me)&&as(Fe,me)&&(tn(y)||Pu(y)))}function PL(y){var M=y.length,F=new y.constructor(M);return M&&typeof y[0]=="string"&&En.call(y,"index")&&(F.index=y.index,F.input=y.input),F}function W2(y){return typeof y.constructor=="function"&&!kd(y)?qo(ei(y)):{}}function IL(y,M,F){var ee=y.constructor;switch(M){case ye:return ni(y);case se:case ce:return new ee(+y);case Ie:return nt(y,F);case be:case Pe:case ze:case qe:case Ye:case Me:case Ge:case et:case ut:return Mt(y,F);case ge:return new ee;case De:case G:return new ee(y);case q:return Qe(y);case te:return new ee;case P:return st(y)}}function DL(y,M){var F=M.length;if(!F)return y;var ee=F-1;return M[ee]=(F>1?"& ":"")+M[ee],M=M.join(F>2?", ":" "),y.replace(ve,`{
/* [wrapped with `+M+`] */
`)}function OL(y){return tn(y)||Pu(y)||!!(hd&&y&&y[hd])}function as(y,M){var F=typeof y;return M=M??V,!!M&&(F=="number"||F!="symbol"&&Qt.test(y))&&y>-1&&y%1==0&&y<M}function mi(y,M,F){if(!rr(F))return!1;var ee=typeof M;return(ee=="number"?Li(F)&&as(M,F.length):ee=="string"&&M in F)?za(F[M],y):!1}function C_(y,M){if(tn(y))return!1;var F=typeof y;return F=="number"||F=="symbol"||F=="boolean"||y==null||Wi(y)?!0:Le.test(y)||!L.test(y)||M!=null&&y in bn(M)}function NL(y){var M=typeof y;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?y!=="__proto__":y===null}function R_(y){var M=Hm(y),F=Ee[M];if(typeof F!="function"||!(M in sn.prototype))return!1;if(y===F)return!0;var ee=M_(F);return!!ee&&y===ee[0]}function kL(y){return!!ud&&ud in y}var FL=hu?os:Z_;function kd(y){var M=y&&y.constructor,F=typeof M=="function"&&M.prototype||Oa;return y===F}function V2(y){return y===y&&!rr(y)}function j2(y,M){return function(F){return F==null?!1:F[y]===M&&(M!==r||y in bn(F))}}function BL(y){var M=Xm(y,function(ee){return F.size===l&&F.clear(),ee}),F=M.cache;return M}function zL(y,M){var F=y[1],ee=M[1],me=F|ee,Te=me<(s|v|E),Fe=ee==E&&F==h||ee==E&&F==A&&y[7].length<=M[8]||ee==(E|A)&&M[7].length<=M[8]&&F==h;if(!(Te||Fe))return y;ee&s&&(y[2]=M[2],me|=F&s?0:x);var We=M[3];if(We){var $e=y[3];y[3]=$e?Zt($e,We,M[4]):We,y[4]=$e?na(y[3],c):M[4]}return We=M[5],We&&($e=y[5],y[5]=$e?yn($e,We,M[6]):We,y[6]=$e?na(y[5],c):M[6]),We=M[7],We&&(y[7]=We),ee&E&&(y[8]=y[8]==null?M[8]:Un(y[8],M[8])),y[9]==null&&(y[9]=M[9]),y[0]=M[0],y[1]=me,y}function UL(y){var M=[];if(y!=null)for(var F in bn(y))M.push(F);return M}function HL(y){return pu.call(y)}function Z2(y,M,F){return M=or(M===r?y.length-1:M,0),function(){for(var ee=arguments,me=-1,Te=or(ee.length-M,0),Fe=rt(Te);++me<Te;)Fe[me]=ee[M+me];me=-1;for(var We=rt(M+1);++me<M;)We[me]=ee[me];return We[M]=F(Fe),Jr(y,this,We)}}function X2(y,M){return M.length<2?y:ua(y,Ri(M,0,-1))}function GL(y,M){for(var F=y.length,ee=Un(M.length,F),me=dn(y);ee--;){var Te=M[ee];y[ee]=as(Te,F)?me[Te]:r}return y}function L_(y,M){if(!(M==="constructor"&&typeof y[M]=="function")&&M!="__proto__")return y[M]}var Y2=J2(cc),Fd=gm||function(y,M){return Mn.setTimeout(y,M)},P_=J2(Dd);function q2(y,M,F){var ee=M+"";return P_(y,DL(ee,WL(LL(ee),F)))}function J2(y){var M=0,F=0;return function(){var ee=ra(),me=O-(ee-F);if(F=ee,me>0){if(++M>=D)return arguments[0]}else M=0;return y.apply(r,arguments)}}function Wm(y,M){var F=-1,ee=y.length,me=ee-1;for(M=M===r?ee:M;++F<M;){var Te=Id(F,me),Fe=y[Te];y[Te]=y[F],y[F]=Fe}return y.length=M,y}var Q2=BL(function(y){var M=[];return y.charCodeAt(0)===46&&M.push(""),y.replace(Ue,function(F,ee,me,Te){M.push(me?Te.replace(gt,"$1"):ee||F)}),M});function mo(y){if(typeof y=="string"||Wi(y))return y;var M=y+"";return M=="0"&&1/y==-Z?"-0":M}function Lu(y){if(y!=null){try{return du.call(y)}catch{}try{return y+""}catch{}}return""}function WL(y,M){return Wn(le,function(F){var ee="_."+F[0];M&F[1]&&!Hi(y,ee)&&y.push(ee)}),y.sort()}function K2(y){if(y instanceof sn)return y.clone();var M=new pi(y.__wrapped__,y.__chain__);return M.__actions__=dn(y.__actions__),M.__index__=y.__index__,M.__values__=y.__values__,M}function VL(y,M,F){(F?mi(y,M,F):M===r)?M=1:M=or(rn(M),0);var ee=y==null?0:y.length;if(!ee||M<1)return[];for(var me=0,Te=0,Fe=rt(Zo(ee/M));me<ee;)Fe[Te++]=Ri(y,me,me+=M);return Fe}function jL(y){for(var M=-1,F=y==null?0:y.length,ee=0,me=[];++M<F;){var Te=y[M];Te&&(me[ee++]=Te)}return me}function ZL(){var y=arguments.length;if(!y)return[];for(var M=rt(y-1),F=arguments[0],ee=y;ee--;)M[ee-1]=arguments[ee];return Ei(tn(F)?dn(F):[F],sr(M,1))}var XL=nn(function(y,M){return pr(y)?Ko(y,sr(M,1,pr,!0)):[]}),YL=nn(function(y,M){var F=ha(M);return pr(F)&&(F=r),pr(y)?Ko(y,sr(M,1,pr,!0),Ut(F,2)):[]}),qL=nn(function(y,M){var F=ha(M);return pr(F)&&(F=r),pr(y)?Ko(y,sr(M,1,pr,!0),r,F):[]});function JL(y,M,F){var ee=y==null?0:y.length;return ee?(M=F||M===r?1:rn(M),Ri(y,M<0?0:M,ee)):[]}function QL(y,M,F){var ee=y==null?0:y.length;return ee?(M=F||M===r?1:rn(M),M=ee-M,Ri(y,0,M<0?0:M)):[]}function KL(y,M){return y&&y.length?ne(y,Ut(M,3),!0,!0):[]}function $L(y,M){return y&&y.length?ne(y,Ut(M,3),!0):[]}function eP(y,M,F,ee){var me=y==null?0:y.length;return me?(F&&typeof F!="number"&&mi(y,M,F)&&(F=0,ee=me),rc(y,M,F,ee)):[]}function $2(y,M,F){var ee=y==null?0:y.length;if(!ee)return-1;var me=F==null?0:rn(F);return me<0&&(me=or(ee+me,0)),Ns(y,Ut(M,3),me)}function eE(y,M,F){var ee=y==null?0:y.length;if(!ee)return-1;var me=ee-1;return F!==r&&(me=rn(F),me=F<0?or(ee+me,0):Un(me,ee-1)),Ns(y,Ut(M,3),me,!0)}function tE(y){var M=y==null?0:y.length;return M?sr(y,1):[]}function tP(y){var M=y==null?0:y.length;return M?sr(y,Z):[]}function nP(y,M){var F=y==null?0:y.length;return F?(M=M===r?1:rn(M),sr(y,M)):[]}function rP(y){for(var M=-1,F=y==null?0:y.length,ee={};++M<F;){var me=y[M];ee[me[0]]=me[1]}return ee}function nE(y){return y&&y.length?y[0]:r}function iP(y,M,F){var ee=y==null?0:y.length;if(!ee)return-1;var me=F==null?0:rn(F);return me<0&&(me=or(ee+me,0)),Ia(y,M,me)}function aP(y){var M=y==null?0:y.length;return M?Ri(y,0,-1):[]}var oP=nn(function(y){var M=Fn(y,at);return M.length&&M[0]===y[0]?ic(M):[]}),sP=nn(function(y){var M=ha(y),F=Fn(y,at);return M===ha(F)?M=r:F.pop(),F.length&&F[0]===y[0]?ic(F,Ut(M,2)):[]}),lP=nn(function(y){var M=ha(y),F=Fn(y,at);return M=typeof M=="function"?M:r,M&&F.pop(),F.length&&F[0]===y[0]?ic(F,r,M):[]});function uP(y,M){return y==null?"":_m.call(y,M)}function ha(y){var M=y==null?0:y.length;return M?y[M-1]:r}function fP(y,M,F){var ee=y==null?0:y.length;if(!ee)return-1;var me=ee;return F!==r&&(me=rn(F),me=me<0?or(ee+me,0):Un(me,ee-1)),M===M?er(y,M,me):Ns(y,ou,me,!0)}function cP(y,M){return y&&y.length?Tu(y,rn(M)):r}var hP=nn(rE);function rE(y,M){return y&&y.length&&M&&M.length?$s(y,M):y}function dP(y,M,F){return y&&y.length&&M&&M.length?$s(y,M,Ut(F,2)):y}function pP(y,M,F){return y&&y.length&&M&&M.length?$s(y,M,r,F):y}var mP=is(function(y,M){var F=y==null?0:y.length,ee=Ys(y,M);return Pd(y,Fn(M,function(me){return as(me,F)?+me:me}).sort(kt)),ee});function gP(y,M){var F=[];if(!(y&&y.length))return F;var ee=-1,me=[],Te=y.length;for(M=Ut(M,3);++ee<Te;){var Fe=y[ee];M(Fe,ee,y)&&(F.push(Fe),me.push(ee))}return Pd(y,me),F}function I_(y){return y==null?y:qf.call(y)}function vP(y,M,F){var ee=y==null?0:y.length;return ee?(F&&typeof F!="number"&&mi(y,M,F)?(M=0,F=ee):(M=M==null?0:rn(M),F=F===r?ee:rn(F)),Ri(y,M,F)):[]}function _P(y,M){return Cu(y,M)}function yP(y,M,F){return el(y,M,Ut(F,2))}function xP(y,M){var F=y==null?0:y.length;if(F){var ee=Cu(y,M);if(ee<F&&za(y[ee],M))return ee}return-1}function wP(y,M){return Cu(y,M,!0)}function bP(y,M,F){return el(y,M,Ut(F,2),!0)}function EP(y,M){var F=y==null?0:y.length;if(F){var ee=Cu(y,M,!0)-1;if(za(y[ee],M))return ee}return-1}function SP(y){return y&&y.length?Om(y):[]}function MP(y,M){return y&&y.length?Om(y,Ut(M,2)):[]}function TP(y){var M=y==null?0:y.length;return M?Ri(y,1,M):[]}function AP(y,M,F){return y&&y.length?(M=F||M===r?1:rn(M),Ri(y,0,M<0?0:M)):[]}function CP(y,M,F){var ee=y==null?0:y.length;return ee?(M=F||M===r?1:rn(M),M=ee-M,Ri(y,M<0?0:M,ee)):[]}function RP(y,M){return y&&y.length?ne(y,Ut(M,3),!1,!0):[]}function LP(y,M){return y&&y.length?ne(y,Ut(M,3)):[]}var PP=nn(function(y){return S(sr(y,1,pr,!0))}),IP=nn(function(y){var M=ha(y);return pr(M)&&(M=r),S(sr(y,1,pr,!0),Ut(M,2))}),DP=nn(function(y){var M=ha(y);return M=typeof M=="function"?M:r,S(sr(y,1,pr,!0),r,M)});function OP(y){return y&&y.length?S(y):[]}function NP(y,M){return y&&y.length?S(y,Ut(M,2)):[]}function kP(y,M){return M=typeof M=="function"?M:r,y&&y.length?S(y,r,M):[]}function D_(y){if(!(y&&y.length))return[];var M=0;return y=Pa(y,function(F){if(pr(F))return M=or(F.length,M),!0}),ro(M,function(F){return Fn(y,ks(F))})}function iE(y,M){if(!(y&&y.length))return[];var F=D_(y);return M==null?F:Fn(F,function(ee){return Jr(M,r,ee)})}var FP=nn(function(y,M){return pr(y)?Ko(y,M):[]}),BP=nn(function(y){return Ne(Pa(y,pr))}),zP=nn(function(y){var M=ha(y);return pr(M)&&(M=r),Ne(Pa(y,pr),Ut(M,2))}),UP=nn(function(y){var M=ha(y);return M=typeof M=="function"?M:r,Ne(Pa(y,pr),r,M)}),HP=nn(D_);function GP(y,M){return Ze(y||[],M||[],Qo)}function WP(y,M){return Ze(y||[],M||[],ca)}var VP=nn(function(y){var M=y.length,F=M>1?y[M-1]:r;return F=typeof F=="function"?(y.pop(),F):r,iE(y,F)});function aE(y){var M=Ee(y);return M.__chain__=!0,M}function jP(y,M){return M(y),y}function Vm(y,M){return M(y)}var ZP=is(function(y){var M=y.length,F=M?y[0]:0,ee=this.__wrapped__,me=function(Te){return Ys(Te,y)};return M>1||this.__actions__.length||!(ee instanceof sn)||!as(F)?this.thru(me):(ee=ee.slice(F,+F+(M?1:0)),ee.__actions__.push({func:Vm,args:[me],thisArg:r}),new pi(ee,this.__chain__).thru(function(Te){return M&&!Te.length&&Te.push(r),Te}))});function XP(){return aE(this)}function YP(){return new pi(this.value(),this.__chain__)}function qP(){this.__values__===r&&(this.__values__=yE(this.value()));var y=this.__index__>=this.__values__.length,M=y?r:this.__values__[this.__index__++];return{done:y,value:M}}function JP(){return this}function QP(y){for(var M,F=this;F instanceof wu;){var ee=K2(F);ee.__index__=0,ee.__values__=r,M?me.__wrapped__=ee:M=ee;var me=ee;F=F.__wrapped__}return me.__wrapped__=y,M}function KP(){var y=this.__wrapped__;if(y instanceof sn){var M=y;return this.__actions__.length&&(M=new sn(this)),M=M.reverse(),M.__actions__.push({func:Vm,args:[I_],thisArg:r}),new pi(M,this.__chain__)}return this.thru(I_)}function $P(){return _e(this.__wrapped__,this.__actions__)}var e4=km(function(y,M,F){En.call(y,F)?++y[F]:Et(y,F,1)});function t4(y,M,F){var ee=tn(y)?kf:Mu;return F&&mi(y,M,F)&&(M=r),ee(y,Ut(M,3))}function n4(y,M){var F=tn(y)?Pa:sa;return F(y,Ut(M,3))}var r4=I2($2),i4=I2(eE);function a4(y,M){return sr(jm(y,M),1)}function o4(y,M){return sr(jm(y,M),Z)}function s4(y,M,F){return F=F===r?1:rn(F),sr(jm(y,M),F)}function oE(y,M){var F=tn(y)?Wn:aa;return F(y,Ut(M,3))}function sE(y,M){var F=tn(y)?no:oa;return F(y,Ut(M,3))}var l4=km(function(y,M,F){En.call(y,F)?y[F].push(M):Et(y,F,[M])});function u4(y,M,F,ee){y=Li(y)?y:gc(y),F=F&&!ee?rn(F):0;var me=y.length;return F<0&&(F=or(me+F,0)),Jm(y)?F<=me&&y.indexOf(M,F)>-1:!!me&&Ia(y,M,F)>-1}var f4=nn(function(y,M,F){var ee=-1,me=typeof M=="function",Te=Li(y)?rt(y.length):[];return aa(y,function(Fe){Te[++ee]=me?Jr(M,Fe,F):es(Fe,M,F)}),Te}),c4=km(function(y,M,F){Et(y,F,M)});function jm(y,M){var F=tn(y)?Fn:Ld;return F(y,Ut(M,3))}function h4(y,M,F,ee){return y==null?[]:(tn(M)||(M=M==null?[]:[M]),F=ee?r:F,tn(F)||(F=F==null?[]:[F]),lc(y,M,F))}var d4=km(function(y,M,F){y[F?0:1].push(M)},function(){return[[],[]]});function p4(y,M,F){var ee=tn(y)?Ff:Fs,me=arguments.length<3;return ee(y,Ut(M,4),F,me,aa)}function m4(y,M,F){var ee=tn(y)?sm:Fs,me=arguments.length<3;return ee(y,Ut(M,4),F,me,oa)}function g4(y,M){var F=tn(y)?Pa:sa;return F(y,Ym(Ut(M,3)))}function v4(y){var M=tn(y)?Eu:ho;return M(y)}function _4(y,M,F){(F?mi(y,M,F):M===r)?M=1:M=rn(M);var ee=tn(y)?Zs:fc;return ee(y,M)}function y4(y){var M=tn(y)?Su:Od;return M(y)}function x4(y){if(y==null)return 0;if(Li(y))return Jm(y)?tr(y):y.length;var M=ri(y);return M==ge||M==te?y.size:Cd(y).length}function w4(y,M,F){var ee=tn(y)?Os:Dm;return F&&mi(y,M,F)&&(M=r),ee(y,Ut(M,3))}var b4=nn(function(y,M){if(y==null)return[];var F=M.length;return F>1&&mi(y,M[0],M[1])?M=[]:F>2&&mi(M[0],M[1],M[2])&&(M=[M[0]]),lc(y,sr(M,1),[])}),Zm=dd||function(){return Mn.Date.now()};function E4(y,M){if(typeof M!="function")throw new $r(i);return y=rn(y),function(){if(--y<1)return M.apply(this,arguments)}}function lE(y,M,F){return M=F?r:M,M=y&&M==null?y.length:M,rs(y,E,r,r,r,r,M)}function uE(y,M){var F;if(typeof M!="function")throw new $r(i);return y=rn(y),function(){return--y>0&&(F=M.apply(this,arguments)),y<=1&&(M=r),F}}var O_=nn(function(y,M,F){var ee=s;if(F.length){var me=na(F,pc(O_));ee|=_}return rs(y,ee,M,F,me)}),fE=nn(function(y,M,F){var ee=s|v;if(F.length){var me=na(F,pc(fE));ee|=_}return rs(M,ee,y,F,me)});function cE(y,M,F){M=F?r:M;var ee=rs(y,h,r,r,r,r,r,M);return ee.placeholder=cE.placeholder,ee}function hE(y,M,F){M=F?r:M;var ee=rs(y,p,r,r,r,r,r,M);return ee.placeholder=hE.placeholder,ee}function dE(y,M,F){var ee,me,Te,Fe,We,$e,ht=0,dt=!1,mt=!1,St=!0;if(typeof y!="function")throw new $r(i);M=da(M)||0,rr(F)&&(dt=!!F.leading,mt="maxWait"in F,Te=mt?or(da(F.maxWait)||0,M):Te,St="trailing"in F?!!F.trailing:St);function Nt(mr){var Ua=ee,ls=me;return ee=me=r,ht=mr,Fe=y.apply(ls,Ua),Fe}function Gt(mr){return ht=mr,We=Fd(cn,M),dt?Nt(mr):Fe}function an(mr){var Ua=mr-$e,ls=mr-ht,IE=M-Ua;return mt?Un(IE,Te-ls):IE}function Wt(mr){var Ua=mr-$e,ls=mr-ht;return $e===r||Ua>=M||Ua<0||mt&&ls>=Te}function cn(){var mr=Zm();if(Wt(mr))return pn(mr);We=Fd(cn,an(mr))}function pn(mr){return We=r,St&&ee?Nt(mr):(ee=me=r,Fe)}function Vi(){We!==r&&An(We),ht=0,ee=$e=me=We=r}function gi(){return We===r?Fe:pn(Zm())}function ji(){var mr=Zm(),Ua=Wt(mr);if(ee=arguments,me=this,$e=mr,Ua){if(We===r)return Gt($e);if(mt)return An(We),We=Fd(cn,M),Nt($e)}return We===r&&(We=Fd(cn,M)),Fe}return ji.cancel=Vi,ji.flush=gi,ji}var S4=nn(function(y,M){return Js(y,1,M)}),M4=nn(function(y,M,F){return Js(y,da(M)||0,F)});function T4(y){return rs(y,T)}function Xm(y,M){if(typeof y!="function"||M!=null&&typeof M!="function")throw new $r(i);var F=function(){var ee=arguments,me=M?M.apply(this,ee):ee[0],Te=F.cache;if(Te.has(me))return Te.get(me);var Fe=y.apply(this,ee);return F.cache=Te.set(me,Fe)||Te,Fe};return F.cache=new(Xm.Cache||Gi),F}Xm.Cache=Gi;function Ym(y){if(typeof y!="function")throw new $r(i);return function(){var M=arguments;switch(M.length){case 0:return!y.call(this);case 1:return!y.call(this,M[0]);case 2:return!y.call(this,M[0],M[1]);case 3:return!y.call(this,M[0],M[1],M[2])}return!y.apply(this,M)}}function A4(y){return uE(2,y)}var C4=jt(function(y,M){M=M.length==1&&tn(M[0])?Fn(M[0],wr(Ut())):Fn(sr(M,1),wr(Ut()));var F=M.length;return nn(function(ee){for(var me=-1,Te=Un(ee.length,F);++me<Te;)ee[me]=M[me].call(this,ee[me]);return Jr(y,this,ee)})}),N_=nn(function(y,M){var F=na(M,pc(N_));return rs(y,_,r,M,F)}),pE=nn(function(y,M){var F=na(M,pc(pE));return rs(y,w,r,M,F)}),R4=is(function(y,M){return rs(y,A,r,r,r,M)});function L4(y,M){if(typeof y!="function")throw new $r(i);return M=M===r?M:rn(M),nn(y,M)}function P4(y,M){if(typeof y!="function")throw new $r(i);return M=M==null?0:or(rn(M),0),nn(function(F){var ee=F[M],me=xt(F,0,M);return ee&&Ei(me,ee),Jr(y,this,me)})}function I4(y,M,F){var ee=!0,me=!0;if(typeof y!="function")throw new $r(i);return rr(F)&&(ee="leading"in F?!!F.leading:ee,me="trailing"in F?!!F.trailing:me),dE(y,M,{leading:ee,maxWait:M,trailing:me})}function D4(y){return lE(y,1)}function O4(y,M){return N_(_t(M),y)}function N4(){if(!arguments.length)return[];var y=arguments[0];return tn(y)?y:[y]}function k4(y){return nr(y,d)}function F4(y,M){return M=typeof M=="function"?M:r,nr(y,d,M)}function B4(y){return nr(y,g|d)}function z4(y,M){return M=typeof M=="function"?M:r,nr(y,g|d,M)}function U4(y,M){return M==null||qs(y,M,Or(M))}function za(y,M){return y===M||y!==y&&M!==M}var H4=Um(co),G4=Um(function(y,M){return y>=M}),Pu=ts(function(){return arguments}())?ts:function(y){return lr(y)&&En.call(y,"callee")&&!cd.call(y,"callee")},tn=rt.isArray,W4=ru?wr(ru):Tm;function Li(y){return y!=null&&qm(y.length)&&!os(y)}function pr(y){return lr(y)&&Li(y)}function V4(y){return y===!0||y===!1||lr(y)&&Dr(y)==se}var tl=vm||Z_,j4=zo?wr(zo):Am;function Z4(y){return lr(y)&&y.nodeType===1&&!Bd(y)}function X4(y){if(y==null)return!0;if(Li(y)&&(tn(y)||typeof y=="string"||typeof y.splice=="function"||tl(y)||mc(y)||Pu(y)))return!y.length;var M=ri(y);if(M==ge||M==te)return!y.size;if(kd(y))return!Cd(y).length;for(var F in y)if(En.call(y,F))return!1;return!0}function Y4(y,M){return Fa(y,M)}function q4(y,M,F){F=typeof F=="function"?F:r;var ee=F?F(y,M):r;return ee===r?Fa(y,M,r,F):!!ee}function k_(y){if(!lr(y))return!1;var M=Dr(y);return M==we||M==he||typeof y.message=="string"&&typeof y.name=="string"&&!Bd(y)}function J4(y){return typeof y=="number"&&pd(y)}function os(y){if(!rr(y))return!1;var M=Dr(y);return M==xe||M==Oe||M==ae||M==re}function mE(y){return typeof y=="number"&&y==rn(y)}function qm(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=V}function rr(y){var M=typeof y;return y!=null&&(M=="object"||M=="function")}function lr(y){return y!=null&&typeof y=="object"}var gE=iu?wr(iu):v_;function Q4(y,M){return y===M||oc(y,M,T_(M))}function K4(y,M,F){return F=typeof F=="function"?F:r,oc(y,M,T_(M),F)}function $4(y){return vE(y)&&y!=+y}function e5(y){if(FL(y))throw new Xt(n);return Ad(y)}function t5(y){return y===null}function n5(y){return y==null}function vE(y){return typeof y=="number"||lr(y)&&Dr(y)==De}function Bd(y){if(!lr(y)||Dr(y)!=de)return!1;var M=ei(y);if(M===null)return!0;var F=En.call(M,"constructor")&&M.constructor;return typeof F=="function"&&F instanceof F&&du.call(F)==u_}var F_=Of?wr(Of):ns;function r5(y){return mE(y)&&y>=-V&&y<=V}var _E=rd?wr(rd):__;function Jm(y){return typeof y=="string"||!tn(y)&&lr(y)&&Dr(y)==G}function Wi(y){return typeof y=="symbol"||lr(y)&&Dr(y)==P}var mc=Nf?wr(Nf):y_;function i5(y){return y===r}function a5(y){return lr(y)&&ri(y)==U}function o5(y){return lr(y)&&Dr(y)==Q}var s5=Um(Rd),l5=Um(function(y,M){return y<=M});function yE(y){if(!y)return[];if(Li(y))return Jm(y)?In(y):dn(y);if(jo&&y[jo])return Gf(y[jo]());var M=ri(y),F=M==ge?lu:M==te?ao:gc;return F(y)}function ss(y){if(!y)return y===0?y:0;if(y=da(y),y===Z||y===-Z){var M=y<0?-1:1;return M*j}return y===y?y:0}function rn(y){var M=ss(y),F=M%1;return M===M?F?M-F:M:0}function xE(y){return y?ka(rn(y),0,W):0}function da(y){if(typeof y=="number")return y;if(Wi(y))return z;if(rr(y)){var M=typeof y.valueOf=="function"?y.valueOf():y;y=rr(M)?M+"":M}if(typeof y!="string")return y===0?y:+y;y=Uf(y);var F=Yt.test(y);return F||Rt.test(y)?im(y.slice(2),F?2:8):At.test(y)?z:+y}function wE(y){return Jt(y,Pi(y))}function u5(y){return y?ka(rn(y),-V,V):y===0?y:0}function Cn(y){return y==null?"":b(y)}var f5=hc(function(y,M){if(kd(M)||Li(M)){Jt(M,Or(M),y);return}for(var F in M)En.call(M,F)&&Qo(y,F,M[F])}),bE=hc(function(y,M){Jt(M,Pi(M),y)}),Qm=hc(function(y,M,F,ee){Jt(M,Pi(M),y,ee)}),c5=hc(function(y,M,F,ee){Jt(M,Or(M),y,ee)}),h5=is(Ys);function d5(y,M){var F=qo(y);return M==null?F:nc(F,M)}var p5=nn(function(y,M){y=bn(y);var F=-1,ee=M.length,me=ee>2?M[2]:r;for(me&&mi(M[0],M[1],me)&&(ee=1);++F<ee;)for(var Te=M[F],Fe=Pi(Te),We=-1,$e=Fe.length;++We<$e;){var ht=Fe[We],dt=y[ht];(dt===r||za(dt,Oa[ht])&&!En.call(y,ht))&&(y[ht]=Te[ht])}return y}),m5=nn(function(y){return y.push(r,z2),Jr(EE,r,y)});function g5(y,M){return id(y,Ut(M,3),Zn)}function v5(y,M){return id(y,Ut(M,3),la)}function _5(y,M){return y==null?y:$o(y,Ut(M,3),Pi)}function y5(y,M){return y==null?y:Ks(y,Ut(M,3),Pi)}function x5(y,M){return y&&Zn(y,Ut(M,3))}function w5(y,M){return y&&la(y,Ut(M,3))}function b5(y){return y==null?[]:Ai(y,Or(y))}function E5(y){return y==null?[]:Ai(y,Pi(y))}function B_(y,M,F){var ee=y==null?r:ua(y,M);return ee===r?F:ee}function S5(y,M){return y!=null&&G2(y,M,Td)}function z_(y,M){return y!=null&&G2(y,M,m_)}var M5=O2(function(y,M,F){M!=null&&typeof M.toString!="function"&&(M=pu.call(M)),y[M]=F},H_(Ii)),T5=O2(function(y,M,F){M!=null&&typeof M.toString!="function"&&(M=pu.call(M)),En.call(y,M)?y[M].push(F):y[M]=[F]},Ut),A5=nn(es);function Or(y){return Li(y)?br(y):Cd(y)}function Pi(y){return Li(y)?br(y,!0):Cm(y)}function C5(y,M){var F={};return M=Ut(M,3),Zn(y,function(ee,me,Te){Et(F,M(ee,me,Te),ee)}),F}function R5(y,M){var F={};return M=Ut(M,3),Zn(y,function(ee,me,Te){Et(F,me,M(ee,me,Te))}),F}var L5=hc(function(y,M,F){sc(y,M,F)}),EE=hc(function(y,M,F,ee){sc(y,M,F,ee)}),P5=is(function(y,M){var F={};if(y==null)return F;var ee=!1;M=Fn(M,function(Te){return Te=It(Te,y),ee||(ee=Te.length>1),Te}),Jt(y,S_(y),F),ee&&(F=nr(F,g|m|d,ML));for(var me=M.length;me--;)N(F,M[me]);return F});function I5(y,M){return SE(y,Ym(Ut(M)))}var D5=is(function(y,M){return y==null?{}:Pm(y,M)});function SE(y,M){if(y==null)return{};var F=Fn(S_(y),function(ee){return[ee]});return M=Ut(M),uc(y,F,function(ee,me){return M(ee,me[0])})}function O5(y,M,F){M=It(M,y);var ee=-1,me=M.length;for(me||(me=1,y=r);++ee<me;){var Te=y==null?r:y[mo(M[ee])];Te===r&&(ee=me,Te=F),y=os(Te)?Te.call(y):Te}return y}function N5(y,M,F){return y==null?y:ca(y,M,F)}function k5(y,M,F,ee){return ee=typeof ee=="function"?ee:r,y==null?y:ca(y,M,F,ee)}var ME=F2(Or),TE=F2(Pi);function F5(y,M,F){var ee=tn(y),me=ee||tl(y)||mc(y);if(M=Ut(M,4),F==null){var Te=y&&y.constructor;me?F=ee?new Te:[]:rr(y)?F=os(Te)?qo(ei(y)):{}:F={}}return(me?Wn:Zn)(y,function(Fe,We,$e){return M(F,Fe,We,$e)}),F}function B5(y,M){return y==null?!0:N(y,M)}function z5(y,M,F){return y==null?y:K(y,M,_t(F))}function U5(y,M,F,ee){return ee=typeof ee=="function"?ee:r,y==null?y:K(y,M,_t(F),ee)}function gc(y){return y==null?[]:Hf(y,Or(y))}function H5(y){return y==null?[]:Hf(y,Pi(y))}function G5(y,M,F){return F===r&&(F=M,M=r),F!==r&&(F=da(F),F=F===F?F:0),M!==r&&(M=da(M),M=M===M?M:0),ka(da(y),M,F)}function W5(y,M,F){return M=ss(M),F===r?(F=M,M=0):F=ss(F),y=da(y),Mm(y,M,F)}function V5(y,M,F){if(F&&typeof F!="boolean"&&mi(y,M,F)&&(M=F=r),F===r&&(typeof M=="boolean"?(F=M,M=r):typeof y=="boolean"&&(F=y,y=r)),y===r&&M===r?(y=0,M=1):(y=ss(y),M===r?(M=y,y=0):M=ss(M)),y>M){var ee=y;y=M,M=ee}if(F||y%1||M%1){var me=Us();return Un(y+me*(M-y+bi("1e-"+((me+"").length-1))),M)}return Id(y,M)}var j5=dc(function(y,M,F){return M=M.toLowerCase(),y+(F?AE(M):M)});function AE(y){return U_(Cn(y).toLowerCase())}function CE(y){return y=Cn(y),y&&y.replace(hn,Go).replace(nm,"")}function Z5(y,M,F){y=Cn(y),M=b(M);var ee=y.length;F=F===r?ee:ka(rn(F),0,ee);var me=F;return F-=M.length,F>=0&&y.slice(F,me)==M}function X5(y){return y=Cn(y),y&&He.test(y)?y.replace(Je,ta):y}function Y5(y){return y=Cn(y),y&&Se.test(y)?y.replace(Y,"\\$&"):y}var q5=dc(function(y,M,F){return y+(F?"-":"")+M.toLowerCase()}),J5=dc(function(y,M,F){return y+(F?" ":"")+M.toLowerCase()}),Q5=P2("toLowerCase");function K5(y,M,F){y=Cn(y),M=rn(M);var ee=M?tr(y):0;if(!M||ee>=M)return y;var me=(M-ee)/2;return zm(gu(me),F)+y+zm(Zo(me),F)}function $5(y,M,F){y=Cn(y),M=rn(M);var ee=M?tr(y):0;return M&&ee<M?y+zm(M-ee,F):y}function eI(y,M,F){y=Cn(y),M=rn(M);var ee=M?tr(y):0;return M&&ee<M?zm(M-ee,F)+y:y}function tI(y,M,F){return F||M==null?M=0:M&&(M=+M),vu(Cn(y).replace(Ve,""),M||0)}function nI(y,M,F){return(F?mi(y,M,F):M===r)?M=1:M=rn(M),Au(Cn(y),M)}function rI(){var y=arguments,M=Cn(y[0]);return y.length<3?M:M.replace(y[1],y[2])}var iI=dc(function(y,M,F){return y+(F?"_":"")+M.toLowerCase()});function aI(y,M,F){return F&&typeof F!="number"&&mi(y,M,F)&&(M=F=r),F=F===r?W:F>>>0,F?(y=Cn(y),y&&(typeof M=="string"||M!=null&&!F_(M))&&(M=b(M),!M&&io(y))?xt(In(y),0,F):y.split(M,F)):[]}var oI=dc(function(y,M,F){return y+(F?" ":"")+U_(M)});function sI(y,M,F){return y=Cn(y),F=F==null?0:ka(rn(F),0,y.length),M=b(M),y.slice(F,F+M.length)==M}function lI(y,M,F){var ee=Ee.templateSettings;F&&mi(y,M,F)&&(M=r),y=Cn(y),M=Qm({},M,ee,B2);var me=Qm({},M.imports,ee.imports,B2),Te=Or(me),Fe=Hf(me,Te),We,$e,ht=0,dt=M.interpolate||Ft,mt="__p += '",St=Wf((M.escape||Ft).source+"|"+dt.source+"|"+(dt===pt?yt:Ft).source+"|"+(M.evaluate||Ft).source+"|$","g"),Nt="//# sourceURL="+(En.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++td+"]")+`
`;y.replace(St,function(Wt,cn,pn,Vi,gi,ji){return pn||(pn=Vi),mt+=y.slice(ht,ji).replace(kn,fm),cn&&(We=!0,mt+=`' +
__e(`+cn+`) +
'`),gi&&($e=!0,mt+=`';
`+gi+`;
__p += '`),pn&&(mt+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),ht=ji+Wt.length,Wt}),mt+=`';
`;var Gt=En.call(M,"variable")&&M.variable;if(!Gt)mt=`with (obj) {
`+mt+`
}
`;else if(it.test(Gt))throw new Xt(a);mt=($e?mt.replace(ct,""):mt).replace(X,"$1").replace(Ae,"$1;"),mt="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(We?", __e = _.escape":"")+($e?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var an=LE(function(){return gn(Te,Nt+"return "+mt).apply(r,Fe)});if(an.source=mt,k_(an))throw an;return an}function uI(y){return Cn(y).toLowerCase()}function fI(y){return Cn(y).toUpperCase()}function cI(y,M,F){if(y=Cn(y),y&&(F||M===r))return Uf(y);if(!y||!(M=b(M)))return y;var ee=In(y),me=In(M),Te=Vn(ee,me),Fe=su(ee,me)+1;return xt(ee,Te,Fe).join("")}function hI(y,M,F){if(y=Cn(y),y&&(F||M===r))return y.slice(0,fu(y)+1);if(!y||!(M=b(M)))return y;var ee=In(y),me=su(ee,In(M))+1;return xt(ee,0,me).join("")}function dI(y,M,F){if(y=Cn(y),y&&(F||M===r))return y.replace(Ve,"");if(!y||!(M=b(M)))return y;var ee=In(y),me=Vn(ee,In(M));return xt(ee,me).join("")}function pI(y,M){var F=C,ee=R;if(rr(M)){var me="separator"in M?M.separator:me;F="length"in M?rn(M.length):F,ee="omission"in M?b(M.omission):ee}y=Cn(y);var Te=y.length;if(io(y)){var Fe=In(y);Te=Fe.length}if(F>=Te)return y;var We=F-tr(ee);if(We<1)return ee;var $e=Fe?xt(Fe,0,We).join(""):y.slice(0,We);if(me===r)return $e+ee;if(Fe&&(We+=$e.length-We),F_(me)){if(y.slice(We).search(me)){var ht,dt=$e;for(me.global||(me=Wf(me.source,Cn(Ct.exec(me))+"g")),me.lastIndex=0;ht=me.exec(dt);)var mt=ht.index;$e=$e.slice(0,mt===r?We:mt)}}else if(y.indexOf(b(me),We)!=We){var St=$e.lastIndexOf(me);St>-1&&($e=$e.slice(0,St))}return $e+ee}function mI(y){return y=Cn(y),y&&Re.test(y)?y.replace(ke,cu):y}var gI=dc(function(y,M,F){return y+(F?" ":"")+M.toUpperCase()}),U_=P2("toUpperCase");function RE(y,M,F){return y=Cn(y),M=F?r:M,M===r?hm(y)?sd(y):um(y):y.match(M)||[]}var LE=nn(function(y,M){try{return Jr(y,r,M)}catch(F){return k_(F)?F:new Xt(F)}}),vI=is(function(y,M){return Wn(M,function(F){F=mo(F),Et(y,F,O_(y[F],y))}),y});function _I(y){var M=y==null?0:y.length,F=Ut();return y=M?Fn(y,function(ee){if(typeof ee[1]!="function")throw new $r(i);return[F(ee[0]),ee[1]]}):[],nn(function(ee){for(var me=-1;++me<M;){var Te=y[me];if(Jr(Te[0],this,ee))return Jr(Te[1],this,ee)}})}function yI(y){return fo(nr(y,g))}function H_(y){return function(){return y}}function xI(y,M){return y==null||y!==y?M:y}var wI=D2(),bI=D2(!0);function Ii(y){return y}function G_(y){return fa(typeof y=="function"?y:nr(y,g))}function EI(y){return Ba(nr(y,g))}function SI(y,M){return Rm(y,nr(M,g))}var MI=nn(function(y,M){return function(F){return es(F,y,M)}}),TI=nn(function(y,M){return function(F){return es(y,F,M)}});function W_(y,M,F){var ee=Or(M),me=Ai(M,ee);F==null&&!(rr(M)&&(me.length||!ee.length))&&(F=M,M=y,y=this,me=Ai(M,Or(M)));var Te=!(rr(F)&&"chain"in F)||!!F.chain,Fe=os(y);return Wn(me,function(We){var $e=M[We];y[We]=$e,Fe&&(y.prototype[We]=function(){var ht=this.__chain__;if(Te||ht){var dt=y(this.__wrapped__),mt=dt.__actions__=dn(this.__actions__);return mt.push({func:$e,args:arguments,thisArg:y}),dt.__chain__=ht,dt}return $e.apply(y,Ei([this.value()],arguments))})}),y}function AI(){return Mn._===this&&(Mn._=fd),this}function V_(){}function CI(y){return y=rn(y),nn(function(M){return Tu(M,y)})}var RI=w_(Fn),LI=w_(kf),PI=w_(Os);function PE(y){return C_(y)?ks(mo(y)):Im(y)}function II(y){return function(M){return y==null?r:ua(y,M)}}var DI=N2(),OI=N2(!0);function j_(){return[]}function Z_(){return!1}function NI(){return{}}function kI(){return""}function FI(){return!0}function BI(y,M){if(y=rn(y),y<1||y>V)return[];var F=W,ee=Un(y,W);M=Ut(M),y-=W;for(var me=ro(ee,M);++F<y;)M(F);return me}function zI(y){return tn(y)?Fn(y,mo):Wi(y)?[y]:dn(Q2(Cn(y)))}function UI(y){var M=++ld;return Cn(y)+M}var HI=Bm(function(y,M){return y+M},0),GI=b_("ceil"),WI=Bm(function(y,M){return y/M},1),VI=b_("floor");function jI(y){return y&&y.length?Qs(y,Ii,co):r}function ZI(y,M){return y&&y.length?Qs(y,Ut(M,2),co):r}function XI(y){return ad(y,Ii)}function YI(y,M){return ad(y,Ut(M,2))}function qI(y){return y&&y.length?Qs(y,Ii,Rd):r}function JI(y,M){return y&&y.length?Qs(y,Ut(M,2),Rd):r}var QI=Bm(function(y,M){return y*M},1),KI=b_("round"),$I=Bm(function(y,M){return y-M},0);function eD(y){return y&&y.length?Uo(y,Ii):0}function tD(y,M){return y&&y.length?Uo(y,Ut(M,2)):0}return Ee.after=E4,Ee.ary=lE,Ee.assign=f5,Ee.assignIn=bE,Ee.assignInWith=Qm,Ee.assignWith=c5,Ee.at=h5,Ee.before=uE,Ee.bind=O_,Ee.bindAll=vI,Ee.bindKey=fE,Ee.castArray=N4,Ee.chain=aE,Ee.chunk=VL,Ee.compact=jL,Ee.concat=ZL,Ee.cond=_I,Ee.conforms=yI,Ee.constant=H_,Ee.countBy=e4,Ee.create=d5,Ee.curry=cE,Ee.curryRight=hE,Ee.debounce=dE,Ee.defaults=p5,Ee.defaultsDeep=m5,Ee.defer=S4,Ee.delay=M4,Ee.difference=XL,Ee.differenceBy=YL,Ee.differenceWith=qL,Ee.drop=JL,Ee.dropRight=QL,Ee.dropRightWhile=KL,Ee.dropWhile=$L,Ee.fill=eP,Ee.filter=n4,Ee.flatMap=a4,Ee.flatMapDeep=o4,Ee.flatMapDepth=s4,Ee.flatten=tE,Ee.flattenDeep=tP,Ee.flattenDepth=nP,Ee.flip=T4,Ee.flow=wI,Ee.flowRight=bI,Ee.fromPairs=rP,Ee.functions=b5,Ee.functionsIn=E5,Ee.groupBy=l4,Ee.initial=aP,Ee.intersection=oP,Ee.intersectionBy=sP,Ee.intersectionWith=lP,Ee.invert=M5,Ee.invertBy=T5,Ee.invokeMap=f4,Ee.iteratee=G_,Ee.keyBy=c4,Ee.keys=Or,Ee.keysIn=Pi,Ee.map=jm,Ee.mapKeys=C5,Ee.mapValues=R5,Ee.matches=EI,Ee.matchesProperty=SI,Ee.memoize=Xm,Ee.merge=L5,Ee.mergeWith=EE,Ee.method=MI,Ee.methodOf=TI,Ee.mixin=W_,Ee.negate=Ym,Ee.nthArg=CI,Ee.omit=P5,Ee.omitBy=I5,Ee.once=A4,Ee.orderBy=h4,Ee.over=RI,Ee.overArgs=C4,Ee.overEvery=LI,Ee.overSome=PI,Ee.partial=N_,Ee.partialRight=pE,Ee.partition=d4,Ee.pick=D5,Ee.pickBy=SE,Ee.property=PE,Ee.propertyOf=II,Ee.pull=hP,Ee.pullAll=rE,Ee.pullAllBy=dP,Ee.pullAllWith=pP,Ee.pullAt=mP,Ee.range=DI,Ee.rangeRight=OI,Ee.rearg=R4,Ee.reject=g4,Ee.remove=gP,Ee.rest=L4,Ee.reverse=I_,Ee.sampleSize=_4,Ee.set=N5,Ee.setWith=k5,Ee.shuffle=y4,Ee.slice=vP,Ee.sortBy=b4,Ee.sortedUniq=SP,Ee.sortedUniqBy=MP,Ee.split=aI,Ee.spread=P4,Ee.tail=TP,Ee.take=AP,Ee.takeRight=CP,Ee.takeRightWhile=RP,Ee.takeWhile=LP,Ee.tap=jP,Ee.throttle=I4,Ee.thru=Vm,Ee.toArray=yE,Ee.toPairs=ME,Ee.toPairsIn=TE,Ee.toPath=zI,Ee.toPlainObject=wE,Ee.transform=F5,Ee.unary=D4,Ee.union=PP,Ee.unionBy=IP,Ee.unionWith=DP,Ee.uniq=OP,Ee.uniqBy=NP,Ee.uniqWith=kP,Ee.unset=B5,Ee.unzip=D_,Ee.unzipWith=iE,Ee.update=z5,Ee.updateWith=U5,Ee.values=gc,Ee.valuesIn=H5,Ee.without=FP,Ee.words=RE,Ee.wrap=O4,Ee.xor=BP,Ee.xorBy=zP,Ee.xorWith=UP,Ee.zip=HP,Ee.zipObject=GP,Ee.zipObjectDeep=WP,Ee.zipWith=VP,Ee.entries=ME,Ee.entriesIn=TE,Ee.extend=bE,Ee.extendWith=Qm,W_(Ee,Ee),Ee.add=HI,Ee.attempt=LE,Ee.camelCase=j5,Ee.capitalize=AE,Ee.ceil=GI,Ee.clamp=G5,Ee.clone=k4,Ee.cloneDeep=B4,Ee.cloneDeepWith=z4,Ee.cloneWith=F4,Ee.conformsTo=U4,Ee.deburr=CE,Ee.defaultTo=xI,Ee.divide=WI,Ee.endsWith=Z5,Ee.eq=za,Ee.escape=X5,Ee.escapeRegExp=Y5,Ee.every=t4,Ee.find=r4,Ee.findIndex=$2,Ee.findKey=g5,Ee.findLast=i4,Ee.findLastIndex=eE,Ee.findLastKey=v5,Ee.floor=VI,Ee.forEach=oE,Ee.forEachRight=sE,Ee.forIn=_5,Ee.forInRight=y5,Ee.forOwn=x5,Ee.forOwnRight=w5,Ee.get=B_,Ee.gt=H4,Ee.gte=G4,Ee.has=S5,Ee.hasIn=z_,Ee.head=nE,Ee.identity=Ii,Ee.includes=u4,Ee.indexOf=iP,Ee.inRange=W5,Ee.invoke=A5,Ee.isArguments=Pu,Ee.isArray=tn,Ee.isArrayBuffer=W4,Ee.isArrayLike=Li,Ee.isArrayLikeObject=pr,Ee.isBoolean=V4,Ee.isBuffer=tl,Ee.isDate=j4,Ee.isElement=Z4,Ee.isEmpty=X4,Ee.isEqual=Y4,Ee.isEqualWith=q4,Ee.isError=k_,Ee.isFinite=J4,Ee.isFunction=os,Ee.isInteger=mE,Ee.isLength=qm,Ee.isMap=gE,Ee.isMatch=Q4,Ee.isMatchWith=K4,Ee.isNaN=$4,Ee.isNative=e5,Ee.isNil=n5,Ee.isNull=t5,Ee.isNumber=vE,Ee.isObject=rr,Ee.isObjectLike=lr,Ee.isPlainObject=Bd,Ee.isRegExp=F_,Ee.isSafeInteger=r5,Ee.isSet=_E,Ee.isString=Jm,Ee.isSymbol=Wi,Ee.isTypedArray=mc,Ee.isUndefined=i5,Ee.isWeakMap=a5,Ee.isWeakSet=o5,Ee.join=uP,Ee.kebabCase=q5,Ee.last=ha,Ee.lastIndexOf=fP,Ee.lowerCase=J5,Ee.lowerFirst=Q5,Ee.lt=s5,Ee.lte=l5,Ee.max=jI,Ee.maxBy=ZI,Ee.mean=XI,Ee.meanBy=YI,Ee.min=qI,Ee.minBy=JI,Ee.stubArray=j_,Ee.stubFalse=Z_,Ee.stubObject=NI,Ee.stubString=kI,Ee.stubTrue=FI,Ee.multiply=QI,Ee.nth=cP,Ee.noConflict=AI,Ee.noop=V_,Ee.now=Zm,Ee.pad=K5,Ee.padEnd=$5,Ee.padStart=eI,Ee.parseInt=tI,Ee.random=V5,Ee.reduce=p4,Ee.reduceRight=m4,Ee.repeat=nI,Ee.replace=rI,Ee.result=O5,Ee.round=KI,Ee.runInContext=Xe,Ee.sample=v4,Ee.size=x4,Ee.snakeCase=iI,Ee.some=w4,Ee.sortedIndex=_P,Ee.sortedIndexBy=yP,Ee.sortedIndexOf=xP,Ee.sortedLastIndex=wP,Ee.sortedLastIndexBy=bP,Ee.sortedLastIndexOf=EP,Ee.startCase=oI,Ee.startsWith=sI,Ee.subtract=$I,Ee.sum=eD,Ee.sumBy=tD,Ee.template=lI,Ee.times=BI,Ee.toFinite=ss,Ee.toInteger=rn,Ee.toLength=xE,Ee.toLower=uI,Ee.toNumber=da,Ee.toSafeInteger=u5,Ee.toString=Cn,Ee.toUpper=fI,Ee.trim=cI,Ee.trimEnd=hI,Ee.trimStart=dI,Ee.truncate=pI,Ee.unescape=mI,Ee.uniqueId=UI,Ee.upperCase=gI,Ee.upperFirst=U_,Ee.each=oE,Ee.eachRight=sE,Ee.first=nE,W_(Ee,function(){var y={};return Zn(Ee,function(M,F){En.call(Ee.prototype,F)||(y[F]=M)}),y}(),{chain:!1}),Ee.VERSION=e,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){Ee[y].placeholder=Ee}),Wn(["drop","take"],function(y,M){sn.prototype[y]=function(F){F=F===r?1:or(rn(F),0);var ee=this.__filtered__&&!M?new sn(this):this.clone();return ee.__filtered__?ee.__takeCount__=Un(F,ee.__takeCount__):ee.__views__.push({size:Un(F,W),type:y+(ee.__dir__<0?"Right":"")}),ee},sn.prototype[y+"Right"]=function(F){return this.reverse()[y](F).reverse()}}),Wn(["filter","map","takeWhile"],function(y,M){var F=M+1,ee=F==k||F==B;sn.prototype[y]=function(me){var Te=this.clone();return Te.__iteratees__.push({iteratee:Ut(me,3),type:F}),Te.__filtered__=Te.__filtered__||ee,Te}}),Wn(["head","last"],function(y,M){var F="take"+(M?"Right":"");sn.prototype[y]=function(){return this[F](1).value()[0]}}),Wn(["initial","tail"],function(y,M){var F="drop"+(M?"":"Right");sn.prototype[y]=function(){return this.__filtered__?new sn(this):this[F](1)}}),sn.prototype.compact=function(){return this.filter(Ii)},sn.prototype.find=function(y){return this.filter(y).head()},sn.prototype.findLast=function(y){return this.reverse().find(y)},sn.prototype.invokeMap=nn(function(y,M){return typeof y=="function"?new sn(this):this.map(function(F){return es(F,y,M)})}),sn.prototype.reject=function(y){return this.filter(Ym(Ut(y)))},sn.prototype.slice=function(y,M){y=rn(y);var F=this;return F.__filtered__&&(y>0||M<0)?new sn(F):(y<0?F=F.takeRight(-y):y&&(F=F.drop(y)),M!==r&&(M=rn(M),F=M<0?F.dropRight(-M):F.take(M-y)),F)},sn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},sn.prototype.toArray=function(){return this.take(W)},Zn(sn.prototype,function(y,M){var F=/^(?:filter|find|map|reject)|While$/.test(M),ee=/^(?:head|last)$/.test(M),me=Ee[ee?"take"+(M=="last"?"Right":""):M],Te=ee||/^find/.test(M);!me||(Ee.prototype[M]=function(){var Fe=this.__wrapped__,We=ee?[1]:arguments,$e=Fe instanceof sn,ht=We[0],dt=$e||tn(Fe),mt=function(cn){var pn=me.apply(Ee,Ei([cn],We));return ee&&St?pn[0]:pn};dt&&F&&typeof ht=="function"&&ht.length!=1&&($e=dt=!1);var St=this.__chain__,Nt=!!this.__actions__.length,Gt=Te&&!St,an=$e&&!Nt;if(!Te&&dt){Fe=an?Fe:new sn(this);var Wt=y.apply(Fe,We);return Wt.__actions__.push({func:Vm,args:[mt],thisArg:r}),new pi(Wt,St)}return Gt&&an?y.apply(this,We):(Wt=this.thru(mt),Gt?ee?Wt.value()[0]:Wt.value():Wt)})}),Wn(["pop","push","shift","sort","splice","unshift"],function(y){var M=Bs[y],F=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",ee=/^(?:pop|shift)$/.test(y);Ee.prototype[y]=function(){var me=arguments;if(ee&&!this.__chain__){var Te=this.value();return M.apply(tn(Te)?Te:[],me)}return this[F](function(Fe){return M.apply(tn(Fe)?Fe:[],me)})}}),Zn(sn.prototype,function(y,M){var F=Ee[M];if(F){var ee=F.name+"";En.call(js,ee)||(js[ee]=[]),js[ee].push({name:M,func:F})}}),js[Fm(r,v).name]=[{name:"wrapper",func:r}],sn.prototype.clone=vd,sn.prototype.reverse=_d,sn.prototype.value=bm,Ee.prototype.at=ZP,Ee.prototype.chain=XP,Ee.prototype.commit=YP,Ee.prototype.next=qP,Ee.prototype.plant=QP,Ee.prototype.reverse=KP,Ee.prototype.toJSON=Ee.prototype.valueOf=Ee.prototype.value=$P,Ee.prototype.first=Ee.prototype.head,jo&&(Ee.prototype[jo]=JP),Ee},Kr=Vo();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Mn._=Kr,define(function(){return Kr})):Ki?((Ki.exports=Kr)._=Kr,nd._=Kr):Mn._=Kr}).call(Qh)});var pL=Di((dL,A2)=>{(function(){"use strict";var r=Math.PI,e=Math.sin,t=Math.cos,n=Math.tan,i=Math.asin,a=Math.atan2,o=Math.acos,l=r/180,c=1e3*60*60*24,g=2440588,m=2451545;function d(z){return z.valueOf()/c-.5+g}function u(z){return new Date((z+.5-g)*c)}function f(z){return d(z)-m}var s=l*23.4397;function v(z,W){return a(e(z)*t(s)-n(W)*e(s),t(z))}function x(z,W){return i(e(W)*t(s)+t(W)*e(s)*e(z))}function h(z,W,J){return a(e(z),t(z)*e(W)-n(J)*t(W))}function p(z,W,J){return i(e(W)*e(J)+t(W)*t(J)*t(z))}function _(z,W){return l*(280.16+360.9856235*z)-W}function w(z){return z<0&&(z=0),2967e-7/Math.tan(z+.00312536/(z+.08901179))}function E(z){return l*(357.5291+.98560028*z)}function A(z){var W=l*(1.9148*e(z)+.02*e(2*z)+3e-4*e(3*z)),J=l*102.9372;return z+W+J+r}function T(z){var W=E(z),J=A(W);return{dec:x(J,0),ra:v(J,0)}}var C={};C.getPosition=function(z,W,J){var oe=l*-J,le=l*W,fe=f(z),$=T(fe),ae=_(fe,oe)-$.ra;return{azimuth:h(ae,le,$.dec),altitude:p(ae,le,$.dec)}};var R=C.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];C.addTime=function(z,W,J){R.push([z,W,J])};var D=9e-4;function O(z,W){return Math.round(z-D-W/(2*r))}function k(z,W,J){return D+(z+W)/(2*r)+J}function H(z,W,J){return m+z+.0053*e(W)-.0069*e(2*J)}function B(z,W,J){return o((e(z)-e(W)*e(J))/(t(W)*t(J)))}function Z(z,W,J,oe,le,fe,$){var ae=B(z,J,oe),se=k(ae,W,le);return H(se,fe,$)}C.getTimes=function(z,W,J){var oe=l*-J,le=l*W,fe=f(z),$=O(fe,oe),ae=k(0,oe,$),se=E(ae),ce=A(se),he=x(ce,0),we=H(ae,se,ce),xe,Oe,ge,De,pe,de={solarNoon:u(we),nadir:u(we-.5)};for(xe=0,Oe=R.length;xe<Oe;xe+=1)ge=R[xe],De=Z(ge[0]*l,oe,le,he,$,se,ce),pe=we-(De-we),de[ge[1]]=u(pe),de[ge[2]]=u(De);return de};function V(z){var W=l*(218.316+13.176396*z),J=l*(134.963+13.064993*z),oe=l*(93.272+13.22935*z),le=W+l*6.289*e(J),fe=l*5.128*e(oe),$=385001-20905*t(J);return{ra:v(le,fe),dec:x(le,fe),dist:$}}C.getMoonPosition=function(z,W,J){var oe=l*-J,le=l*W,fe=f(z),$=V(fe),ae=_(fe,oe)-$.ra,se=p(ae,le,$.dec),ce=a(e(ae),n(le)*t($.dec)-e($.dec)*t(ae));return se=se+w(se),{azimuth:h(ae,le,$.dec),altitude:se,distance:$.dist,parallacticAngle:ce}},C.getMoonIllumination=function(z){var W=f(z||new Date),J=T(W),oe=V(W),le=149598e3,fe=o(e(J.dec)*e(oe.dec)+t(J.dec)*t(oe.dec)*t(J.ra-oe.ra)),$=a(le*e(fe),oe.dist-le*t(fe)),ae=a(t(J.dec)*e(J.ra-oe.ra),e(J.dec)*t(oe.dec)-t(J.dec)*e(oe.dec)*t(J.ra-oe.ra));return{fraction:(1+t($))/2,phase:.5+.5*$*(ae<0?-1:1)/Math.PI,angle:ae}};function j(z,W){return new Date(z.valueOf()+W*c/24)}C.getMoonTimes=function(z,W,J,oe){var le=new Date(z);oe?le.setUTCHours(0,0,0,0):le.setHours(0,0,0,0);for(var fe=.133*l,$=C.getMoonPosition(le,W,J).altitude-fe,ae,se,ce,he,we,xe,Oe,ge,De,pe,de,ie,re,q=1;q<=24&&(ae=C.getMoonPosition(j(le,q),W,J).altitude-fe,se=C.getMoonPosition(j(le,q+1),W,J).altitude-fe,we=($+se)/2-ae,xe=(se-$)/2,Oe=-xe/(2*we),ge=(we*Oe+xe)*Oe+ae,De=xe*xe-4*we*ae,pe=0,De>=0&&(re=Math.sqrt(De)/(Math.abs(we)*2),de=Oe-re,ie=Oe+re,Math.abs(de)<=1&&pe++,Math.abs(ie)<=1&&pe++,de<-1&&(de=ie)),pe===1?$<0?ce=q+de:he=q+de:pe===2&&(ce=q+(ge<0?ie:de),he=q+(ge<0?de:ie)),!(ce&&he));q+=2)$=se;var te={};return ce&&(te.rise=j(le,ce)),he&&(te.set=j(le,he)),!ce&&!he&&(te[ge>0?"alwaysUp":"alwaysDown"]=!0),te},typeof dL=="object"&&typeof A2!="undefined"?A2.exports=C:typeof define=="function"&&define.amd?define(C):window.SunCalc=C})()});var gL=Di((mL,C2)=>{if((typeof Bt=="undefined"||!Bt)&&typeof self!="undefined")var Bt=self;(function(r){if(typeof mL=="object"&&typeof C2!="undefined")C2.exports=r();else if(typeof define=="function"&&define.amd)define([],r);else{var e;typeof Bt!="undefined"?e=Bt:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.jimp=r()}})(function(){var r,e,t;return function(){function n(i,a,o){function l(m,d){if(!a[m]){if(!i[m]){var u=typeof zd=="function"&&zd;if(!d&&u)return u(m,!0);if(c)return c(m,!0);var f=new Error("Cannot find module '"+m+"'");throw f.code="MODULE_NOT_FOUND",f}var s=a[m]={exports:{}};i[m][0].call(s.exports,function(v){var x=i[m][1][v];return l(x||v)},s,s.exports,n,i,a,o)}return a[m].exports}for(var c=typeof zd=="function"&&zd,g=0;g<o.length;g++)l(o[g]);return l}return n}()({1:[function(n,i,a){function o(l){if(Array.isArray(l))return l}i.exports=o},{}],2:[function(n,i,a){function o(l){if(Array.isArray(l)){for(var c=0,g=new Array(l.length);c<l.length;c++)g[c]=l[c];return g}}i.exports=o},{}],3:[function(n,i,a){function o(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}i.exports=o},{}],4:[function(n,i,a){function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}i.exports=o},{}],5:[function(n,i,a){var o=n("./setPrototypeOf");function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(g,m,d){return l()?i.exports=c=Reflect.construct:i.exports=c=function(f,s,v){var x=[null];x.push.apply(x,s);var h=Function.bind.apply(f,x),p=new h;return v&&o(p,v.prototype),p},c.apply(null,arguments)}i.exports=c},{"./setPrototypeOf":18}],6:[function(n,i,a){function o(c,g){for(var m=0;m<g.length;m++){var d=g[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function l(c,g,m){return g&&o(c.prototype,g),m&&o(c,m),c}i.exports=l},{}],7:[function(n,i,a){function o(l,c,g){return c in l?Object.defineProperty(l,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[c]=g,l}i.exports=o},{}],8:[function(n,i,a){function o(){return i.exports=o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(l[m]=g[m])}return l},o.apply(this,arguments)}i.exports=o},{}],9:[function(n,i,a){function o(l){return i.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},o(l)}i.exports=o},{}],10:[function(n,i,a){var o=n("./setPrototypeOf");function l(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),g&&o(c,g)}i.exports=l},{"./setPrototypeOf":18}],11:[function(n,i,a){function o(l){return l&&l.__esModule?l:{default:l}}i.exports=o},{}],12:[function(n,i,a){var o=n("../helpers/typeof");function l(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return l=function(){return g},g}function c(g){if(g&&g.__esModule)return g;if(g===null||o(g)!=="object"&&typeof g!="function")return{default:g};var m=l();if(m&&m.has(g))return m.get(g);var d={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in g)if(Object.prototype.hasOwnProperty.call(g,f)){var s=u?Object.getOwnPropertyDescriptor(g,f):null;s&&(s.get||s.set)?Object.defineProperty(d,f,s):d[f]=g[f]}return d.default=g,m&&m.set(g,d),d}i.exports=c},{"../helpers/typeof":21}],13:[function(n,i,a){function o(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}i.exports=o},{}],14:[function(n,i,a){function o(l,c){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]"){var g=[],m=!0,d=!1,u=void 0;try{for(var f=l[Symbol.iterator](),s;!(m=(s=f.next()).done)&&(g.push(s.value),!(c&&g.length===c));m=!0);}catch(v){d=!0,u=v}finally{try{!m&&f.return!=null&&f.return()}finally{if(d)throw u}}return g}}i.exports=o},{}],15:[function(n,i,a){function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}i.exports=o},{}],16:[function(n,i,a){function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i.exports=o},{}],17:[function(n,i,a){var o=n("../helpers/typeof"),l=n("./assertThisInitialized");function c(g,m){return m&&(o(m)==="object"||typeof m=="function")?m:l(g)}i.exports=c},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(n,i,a){function o(l,c){return i.exports=o=Object.setPrototypeOf||function(m,d){return m.__proto__=d,m},o(l,c)}i.exports=o},{}],19:[function(n,i,a){var o=n("./arrayWithHoles"),l=n("./iterableToArrayLimit"),c=n("./nonIterableRest");function g(m,d){return o(m)||l(m,d)||c()}i.exports=g},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(n,i,a){var o=n("./arrayWithoutHoles"),l=n("./iterableToArray"),c=n("./nonIterableSpread");function g(m){return o(m)||l(m)||c()}i.exports=g},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(n,i,a){function o(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(m){return typeof m}:o=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o(c)}function l(c){return typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?i.exports=l=function(m){return o(m)}:i.exports=l=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)},l(c)}i.exports=l},{}],22:[function(n,i,a){i.exports=n("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(n,i,a){var o=n("./src/converter");function l(c,g){var m=new o(c,g);return function(d){return m.convert(d)}}l.BIN="01",l.OCT="01234567",l.DEC="0123456789",l.HEX="0123456789abcdef",i.exports=l},{"./src/converter":24}],24:[function(n,i,a){"use strict";function o(l,c){if(!l||!c||!l.length||!c.length)throw new Error("Bad alphabet");this.srcAlphabet=l,this.dstAlphabet=c}o.prototype.convert=function(l){var c,g,m,d={},u=this.srcAlphabet.length,f=this.dstAlphabet.length,s=l.length,v=typeof l=="string"?"":[];if(!this.isValid(l))throw new Error('Number "'+l+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return l;for(c=0;c<s;c++)d[c]=this.srcAlphabet.indexOf(l[c]);do{for(g=0,m=0,c=0;c<s;c++)g=g*u+d[c],g>=f?(d[m++]=parseInt(g/f,10),g=g%f):m>0&&(d[m++]=0);s=m,v=this.dstAlphabet.slice(g,g+1).concat(v)}while(m!==0);return v},o.prototype.isValid=function(l){for(var c=0;c<l.length;++c)if(this.srcAlphabet.indexOf(l[c])===-1)return!1;return!0},i.exports=o},{}],25:[function(n,i,a){(function(o){"use strict";var l=n("object-assign");function c(j,z){if(j===z)return 0;for(var W=j.length,J=z.length,oe=0,le=Math.min(W,J);oe<le;++oe)if(j[oe]!==z[oe]){W=j[oe],J=z[oe];break}return W<J?-1:J<W?1:0}function g(j){return o.Buffer&&typeof o.Buffer.isBuffer=="function"?o.Buffer.isBuffer(j):!!(j!=null&&j._isBuffer)}var m=n("util/"),d=Object.prototype.hasOwnProperty,u=Array.prototype.slice,f=function(){return function(){}.name==="foo"}();function s(j){return Object.prototype.toString.call(j)}function v(j){return g(j)||typeof o.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(j):j?!!(j instanceof DataView||j.buffer&&j.buffer instanceof ArrayBuffer):!1}var x=i.exports=T,h=/\s*function\s+([^\(\s]*)\s*/;function p(j){if(!!m.isFunction(j)){if(f)return j.name;var z=j.toString(),W=z.match(h);return W&&W[1]}}x.AssertionError=function(z){this.name="AssertionError",this.actual=z.actual,this.expected=z.expected,this.operator=z.operator,z.message?(this.message=z.message,this.generatedMessage=!1):(this.message=E(this),this.generatedMessage=!0);var W=z.stackStartFunction||A;if(Error.captureStackTrace)Error.captureStackTrace(this,W);else{var J=new Error;if(J.stack){var oe=J.stack,le=p(W),fe=oe.indexOf(`
`+le);if(fe>=0){var $=oe.indexOf(`
`,fe+1);oe=oe.substring($+1)}this.stack=oe}}},m.inherits(x.AssertionError,Error);function _(j,z){return typeof j=="string"?j.length<z?j:j.slice(0,z):j}function w(j){if(f||!m.isFunction(j))return m.inspect(j);var z=p(j),W=z?": "+z:"";return"[Function"+W+"]"}function E(j){return _(w(j.actual),128)+" "+j.operator+" "+_(w(j.expected),128)}function A(j,z,W,J,oe){throw new x.AssertionError({message:W,actual:j,expected:z,operator:J,stackStartFunction:oe})}x.fail=A;function T(j,z){j||A(j,!0,z,"==",x.ok)}x.ok=T,x.equal=function(z,W,J){z!=W&&A(z,W,J,"==",x.equal)},x.notEqual=function(z,W,J){z==W&&A(z,W,J,"!=",x.notEqual)},x.deepEqual=function(z,W,J){C(z,W,!1)||A(z,W,J,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(z,W,J){C(z,W,!0)||A(z,W,J,"deepStrictEqual",x.deepStrictEqual)};function C(j,z,W,J){if(j===z)return!0;if(g(j)&&g(z))return c(j,z)===0;if(m.isDate(j)&&m.isDate(z))return j.getTime()===z.getTime();if(m.isRegExp(j)&&m.isRegExp(z))return j.source===z.source&&j.global===z.global&&j.multiline===z.multiline&&j.lastIndex===z.lastIndex&&j.ignoreCase===z.ignoreCase;if((j===null||typeof j!="object")&&(z===null||typeof z!="object"))return W?j===z:j==z;if(v(j)&&v(z)&&s(j)===s(z)&&!(j instanceof Float32Array||j instanceof Float64Array))return c(new Uint8Array(j.buffer),new Uint8Array(z.buffer))===0;if(g(j)!==g(z))return!1;J=J||{actual:[],expected:[]};var oe=J.actual.indexOf(j);return oe!==-1&&oe===J.expected.indexOf(z)?!0:(J.actual.push(j),J.expected.push(z),D(j,z,W,J))}function R(j){return Object.prototype.toString.call(j)=="[object Arguments]"}function D(j,z,W,J){if(j==null||z===null||z===void 0)return!1;if(m.isPrimitive(j)||m.isPrimitive(z))return j===z;if(W&&Object.getPrototypeOf(j)!==Object.getPrototypeOf(z))return!1;var oe=R(j),le=R(z);if(oe&&!le||!oe&&le)return!1;if(oe)return j=u.call(j),z=u.call(z),C(j,z,W);var fe=V(j),$=V(z),ae,se;if(fe.length!==$.length)return!1;for(fe.sort(),$.sort(),se=fe.length-1;se>=0;se--)if(fe[se]!==$[se])return!1;for(se=fe.length-1;se>=0;se--)if(ae=fe[se],!C(j[ae],z[ae],W,J))return!1;return!0}x.notDeepEqual=function(z,W,J){C(z,W,!1)&&A(z,W,J,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=O;function O(j,z,W){C(j,z,!0)&&A(j,z,W,"notDeepStrictEqual",O)}x.strictEqual=function(z,W,J){z!==W&&A(z,W,J,"===",x.strictEqual)},x.notStrictEqual=function(z,W,J){z===W&&A(z,W,J,"!==",x.notStrictEqual)};function k(j,z){if(!j||!z)return!1;if(Object.prototype.toString.call(z)=="[object RegExp]")return z.test(j);try{if(j instanceof z)return!0}catch{}return Error.isPrototypeOf(z)?!1:z.call({},j)===!0}function H(j){var z;try{j()}catch(W){z=W}return z}function B(j,z,W,J){var oe;if(typeof z!="function")throw new TypeError('"block" argument must be a function');typeof W=="string"&&(J=W,W=null),oe=H(z),J=(W&&W.name?" ("+W.name+").":".")+(J?" "+J:"."),j&&!oe&&A(oe,W,"Missing expected exception"+J);var le=typeof J=="string",fe=!j&&m.isError(oe),$=!j&&oe&&!W;if((fe&&le&&k(oe,W)||$)&&A(oe,W,"Got unwanted exception"+J),j&&oe&&W&&!k(oe,W)||!j&&oe)throw oe}x.throws=function(j,z,W){B(!0,j,z,W)},x.doesNotThrow=function(j,z,W){B(!1,j,z,W)},x.ifError=function(j){if(j)throw j};function Z(j,z){j||A(j,!0,z,"==",Z)}x.strict=l(Z,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict;var V=Object.keys||function(j){var z=[];for(var W in j)d.call(j,W)&&z.push(W);return z}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"object-assign":84,"util/":28}],26:[function(n,i,a){typeof Object.create=="function"?i.exports=function(l,c){l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(l,c){l.super_=c;var g=function(){};g.prototype=c.prototype,l.prototype=new g,l.prototype.constructor=l}},{}],27:[function(n,i,a){i.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},{}],28:[function(n,i,a){(function(o,l){var c=/%[sdj%]/g;a.format=function($){if(!D($)){for(var ae=[],se=0;se<arguments.length;se++)ae.push(d(arguments[se]));return ae.join(" ")}for(var se=1,ce=arguments,he=ce.length,we=String($).replace(c,function(Oe){if(Oe==="%%")return"%";if(se>=he)return Oe;switch(Oe){case"%s":return String(ce[se++]);case"%d":return Number(ce[se++]);case"%j":try{return JSON.stringify(ce[se++])}catch{return"[Circular]"}default:return Oe}}),xe=ce[se];se<he;xe=ce[++se])T(xe)||!B(xe)?we+=" "+xe:we+=" "+d(xe);return we},a.deprecate=function($,ae){if(k(l.process))return function(){return a.deprecate($,ae).apply(this,arguments)};if(o.noDeprecation===!0)return $;var se=!1;function ce(){if(!se){if(o.throwDeprecation)throw new Error(ae);o.traceDeprecation?console.trace(ae):console.error(ae),se=!0}return $.apply(this,arguments)}return ce};var g={},m;a.debuglog=function($){if(k(m)&&(m=o.env.NODE_DEBUG||""),$=$.toUpperCase(),!g[$])if(new RegExp("\\b"+$+"\\b","i").test(m)){var ae=o.pid;g[$]=function(){var se=a.format.apply(a,arguments);console.error("%s %d: %s",$,ae,se)}}else g[$]=function(){};return g[$]};function d($,ae){var se={seen:[],stylize:f};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),A(ae)?se.showHidden=ae:ae&&a._extend(se,ae),k(se.showHidden)&&(se.showHidden=!1),k(se.depth)&&(se.depth=2),k(se.colors)&&(se.colors=!1),k(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=u),v(se,$,se.depth)}a.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u($,ae){var se=d.styles[ae];return se?"["+d.colors[se][0]+"m"+$+"["+d.colors[se][1]+"m":$}function f($,ae){return $}function s($){var ae={};return $.forEach(function(se,ce){ae[se]=!0}),ae}function v($,ae,se){if($.customInspect&&ae&&j(ae.inspect)&&ae.inspect!==a.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var ce=ae.inspect(se,$);return D(ce)||(ce=v($,ce,se)),ce}var he=x($,ae);if(he)return he;var we=Object.keys(ae),xe=s(we);if($.showHidden&&(we=Object.getOwnPropertyNames(ae)),V(ae)&&(we.indexOf("message")>=0||we.indexOf("description")>=0))return h(ae);if(we.length===0){if(j(ae)){var Oe=ae.name?": "+ae.name:"";return $.stylize("[Function"+Oe+"]","special")}if(H(ae))return $.stylize(RegExp.prototype.toString.call(ae),"regexp");if(Z(ae))return $.stylize(Date.prototype.toString.call(ae),"date");if(V(ae))return h(ae)}var ge="",De=!1,pe=["{","}"];if(E(ae)&&(De=!0,pe=["[","]"]),j(ae)){var de=ae.name?": "+ae.name:"";ge=" [Function"+de+"]"}if(H(ae)&&(ge=" "+RegExp.prototype.toString.call(ae)),Z(ae)&&(ge=" "+Date.prototype.toUTCString.call(ae)),V(ae)&&(ge=" "+h(ae)),we.length===0&&(!De||ae.length==0))return pe[0]+ge+pe[1];if(se<0)return H(ae)?$.stylize(RegExp.prototype.toString.call(ae),"regexp"):$.stylize("[Object]","special");$.seen.push(ae);var ie;return De?ie=p($,ae,se,xe,we):ie=we.map(function(re){return _($,ae,se,xe,re,De)}),$.seen.pop(),w(ie,ge,pe)}function x($,ae){if(k(ae))return $.stylize("undefined","undefined");if(D(ae)){var se="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(se,"string")}if(R(ae))return $.stylize(""+ae,"number");if(A(ae))return $.stylize(""+ae,"boolean");if(T(ae))return $.stylize("null","null")}function h($){return"["+Error.prototype.toString.call($)+"]"}function p($,ae,se,ce,he){for(var we=[],xe=0,Oe=ae.length;xe<Oe;++xe)fe(ae,String(xe))?we.push(_($,ae,se,ce,String(xe),!0)):we.push("");return he.forEach(function(ge){ge.match(/^\d+$/)||we.push(_($,ae,se,ce,ge,!0))}),we}function _($,ae,se,ce,he,we){var xe,Oe,ge;if(ge=Object.getOwnPropertyDescriptor(ae,he)||{value:ae[he]},ge.get?ge.set?Oe=$.stylize("[Getter/Setter]","special"):Oe=$.stylize("[Getter]","special"):ge.set&&(Oe=$.stylize("[Setter]","special")),fe(ce,he)||(xe="["+he+"]"),Oe||($.seen.indexOf(ge.value)<0?(T(se)?Oe=v($,ge.value,null):Oe=v($,ge.value,se-1),Oe.indexOf(`
`)>-1&&(we?Oe=Oe.split(`
`).map(function(De){return"  "+De}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(De){return"   "+De}).join(`
`))):Oe=$.stylize("[Circular]","special")),k(xe)){if(we&&he.match(/^\d+$/))return Oe;xe=JSON.stringify(""+he),xe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.substr(1,xe.length-2),xe=$.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=$.stylize(xe,"string"))}return xe+": "+Oe}function w($,ae,se){var ce=0,he=$.reduce(function(we,xe){return ce++,xe.indexOf(`
`)>=0&&ce++,we+xe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?se[0]+(ae===""?"":ae+`
 `)+" "+$.join(`,
  `)+" "+se[1]:se[0]+ae+" "+$.join(", ")+" "+se[1]}function E($){return Array.isArray($)}a.isArray=E;function A($){return typeof $=="boolean"}a.isBoolean=A;function T($){return $===null}a.isNull=T;function C($){return $==null}a.isNullOrUndefined=C;function R($){return typeof $=="number"}a.isNumber=R;function D($){return typeof $=="string"}a.isString=D;function O($){return typeof $=="symbol"}a.isSymbol=O;function k($){return $===void 0}a.isUndefined=k;function H($){return B($)&&W($)==="[object RegExp]"}a.isRegExp=H;function B($){return typeof $=="object"&&$!==null}a.isObject=B;function Z($){return B($)&&W($)==="[object Date]"}a.isDate=Z;function V($){return B($)&&(W($)==="[object Error]"||$ instanceof Error)}a.isError=V;function j($){return typeof $=="function"}a.isFunction=j;function z($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $=="undefined"}a.isPrimitive=z,a.isBuffer=n("./support/isBuffer");function W($){return Object.prototype.toString.call($)}function J($){return $<10?"0"+$.toString(10):$.toString(10)}var oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var $=new Date,ae=[J($.getHours()),J($.getMinutes()),J($.getSeconds())].join(":");return[$.getDate(),oe[$.getMonth()],ae].join(" ")}a.log=function(){console.log("%s - %s",le(),a.format.apply(a,arguments))},a.inherits=n("inherits"),a._extend=function($,ae){if(!ae||!B(ae))return $;for(var se=Object.keys(ae),ce=se.length;ce--;)$[se[ce]]=ae[se[ce]];return $};function fe($,ae){return Object.prototype.hasOwnProperty.call($,ae)}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(n,i,a){"use strict";a.byteLength=f,a.toByteArray=v,a.fromByteArray=p;for(var o=[],l=[],c=typeof Uint8Array!="undefined"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,d=g.length;m<d;++m)o[m]=g[m],l[g.charCodeAt(m)]=m;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;function u(_){var w=_.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=_.indexOf("=");E===-1&&(E=w);var A=E===w?0:4-E%4;return[E,A]}function f(_){var w=u(_),E=w[0],A=w[1];return(E+A)*3/4-A}function s(_,w,E){return(w+E)*3/4-E}function v(_){var w,E=u(_),A=E[0],T=E[1],C=new c(s(_,A,T)),R=0,D=T>0?A-4:A,O;for(O=0;O<D;O+=4)w=l[_.charCodeAt(O)]<<18|l[_.charCodeAt(O+1)]<<12|l[_.charCodeAt(O+2)]<<6|l[_.charCodeAt(O+3)],C[R++]=w>>16&255,C[R++]=w>>8&255,C[R++]=w&255;return T===2&&(w=l[_.charCodeAt(O)]<<2|l[_.charCodeAt(O+1)]>>4,C[R++]=w&255),T===1&&(w=l[_.charCodeAt(O)]<<10|l[_.charCodeAt(O+1)]<<4|l[_.charCodeAt(O+2)]>>2,C[R++]=w>>8&255,C[R++]=w&255),C}function x(_){return o[_>>18&63]+o[_>>12&63]+o[_>>6&63]+o[_&63]}function h(_,w,E){for(var A,T=[],C=w;C<E;C+=3)A=(_[C]<<16&16711680)+(_[C+1]<<8&65280)+(_[C+2]&255),T.push(x(A));return T.join("")}function p(_){for(var w,E=_.length,A=E%3,T=[],C=16383,R=0,D=E-A;R<D;R+=C)T.push(h(_,R,R+C>D?D:R+C));return A===1?(w=_[E-1],T.push(o[w>>2]+o[w<<4&63]+"==")):A===2&&(w=(_[E-2]<<8)+_[E-1],T.push(o[w>>10]+o[w>>4&63]+o[w<<2&63]+"=")),T.join("")}},{}],30:[function(n,i,a){var o=n("./lib/encoder"),l=n("./lib/decoder");i.exports={encode:o,decode:l}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(n,i,a){(function(o){function l(c,g){if(this.pos=0,this.buffer=c,this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}l.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var g=0;g<c;g++){var m=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++);this.palette[g]={red:u,green:d,blue:m,quad:f}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},l.prototype.parseRGBA=function(){var c="bit"+this.bitPP,g=this.width*this.height*4;this.data=new o(g),this[c]()},l.prototype.bit1=function(){for(var c=Math.ceil(this.width/8),g=c%4,m=this.height>=0?this.height-1:-this.height,m=this.height-1;m>=0;m--){for(var d=this.bottom_up?m:this.height-1-m,u=0;u<c;u++)for(var f=this.buffer.readUInt8(this.pos++),s=d*this.width*4+u*8*4,v=0;v<8&&u*8+v<this.width;v++){var x=this.palette[f>>7-v&1];this.data[s+v*4]=0,this.data[s+v*4+1]=x.blue,this.data[s+v*4+2]=x.green,this.data[s+v*4+3]=x.red}g!=0&&(this.pos+=4-g)}},l.prototype.bit4=function(){if(this.compress==2){let C=function(R){var D=this.palette[R];this.data[c]=0,this.data[c+1]=D.blue,this.data[c+2]=D.green,this.data[c+3]=D.red,c+=4};var T=C;this.data.fill(255);for(var c=0,g=this.bottom_up?this.height-1:0,m=!1;c<this.data.length;){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++);if(d==0)if(u==0){this.bottom_up?g--:g++,c=g*this.width*4,m=!1;continue}else{if(u==1)break;if(u==2){var f=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=s:g+=s,c+=s*this.width*4+f*4}else{for(var v=this.buffer.readUInt8(this.pos++),x=0;x<u;x++)m?C.call(this,v&15):C.call(this,(v&240)>>4),x&1&&x+1<u&&(v=this.buffer.readUInt8(this.pos++)),m=!m;(u+1>>1&1)==1&&this.pos++}}else for(var x=0;x<d;x++)m?C.call(this,u&15):C.call(this,(u&240)>>4),m=!m}}else for(var h=Math.ceil(this.width/2),p=h%4,s=this.height-1;s>=0;s--){for(var _=this.bottom_up?s:this.height-1-s,f=0;f<h;f++){var u=this.buffer.readUInt8(this.pos++),c=_*this.width*4+f*2*4,w=u>>4,E=u&15,A=this.palette[w];if(this.data[c]=0,this.data[c+1]=A.blue,this.data[c+2]=A.green,this.data[c+3]=A.red,f*2+1>=this.width)break;A=this.palette[E],this.data[c+4]=0,this.data[c+4+1]=A.blue,this.data[c+4+2]=A.green,this.data[c+4+3]=A.red}p!=0&&(this.pos+=4-p)}},l.prototype.bit8=function(){if(this.compress==1){let w=function(E){var A=this.palette[E];this.data[c]=0,this.data[c+1]=A.blue,this.data[c+2]=A.green,this.data[c+3]=A.red,c+=4};var _=w;this.data.fill(255);for(var c=0,g=this.bottom_up?this.height-1:0;c<this.data.length;){var m=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++);if(m==0)if(d==0){this.bottom_up?g--:g++,c=g*this.width*4;continue}else{if(d==1)break;if(d==2){var u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=f:g+=f,c+=f*this.width*4+u*4}else{for(var s=0;s<d;s++){var v=this.buffer.readUInt8(this.pos++);w.call(this,v)}d&!0&&this.pos++}}else for(var s=0;s<m;s++)w.call(this,d)}}else for(var x=this.width%4,f=this.height-1;f>=0;f--){for(var h=this.bottom_up?f:this.height-1-f,u=0;u<this.width;u++){var d=this.buffer.readUInt8(this.pos++),c=h*this.width*4+u*4;if(d<this.palette.length){var p=this.palette[d];this.data[c]=0,this.data[c+1]=p.blue,this.data[c+2]=p.green,this.data[c+3]=p.red}else this.data[c]=0,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}x!=0&&(this.pos+=4-x)}},l.prototype.bit15=function(){for(var c=this.width%3,g=parseInt("11111",2),m=g,d=this.height-1;d>=0;d--){for(var u=this.bottom_up?d:this.height-1-d,f=0;f<this.width;f++){var s=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(s&m)/m*255|0,x=(s>>5&m)/m*255|0,h=(s>>10&m)/m*255|0,p=s>>15?255:0,_=u*this.width*4+f*4;this.data[_]=p,this.data[_+1]=v,this.data[_+2]=x,this.data[_+3]=h}this.pos+=c}},l.prototype.bit16=function(){var c=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var g=[0,0,0],m=0;m<16;m++)this.maskRed>>m&1&&g[0]++,this.maskGreen>>m&1&&g[1]++,this.maskBlue>>m&1&&g[2]++;g[1]+=g[0],g[2]+=g[1],g[0]=8-g[0],g[1]-=8,g[2]-=8;for(var d=this.height-1;d>=0;d--){for(var u=this.bottom_up?d:this.height-1-d,f=0;f<this.width;f++){var s=this.buffer.readUInt16LE(this.pos);this.pos+=2;var v=(s&this.maskBlue)<<g[0],x=(s&this.maskGreen)>>g[1],h=(s&this.maskRed)>>g[2],p=u*this.width*4+f*4;this.data[p]=0,this.data[p+1]=v,this.data[p+2]=x,this.data[p+3]=h}this.pos+=c}},l.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var g=this.bottom_up?c:this.height-1-c,m=0;m<this.width;m++){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),s=g*this.width*4+m*4;this.data[s]=0,this.data[s+1]=d,this.data[s+2]=u,this.data[s+3]=f}this.pos+=this.width%4}},l.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var c=this.height-1;c>=0;c--)for(var g=this.bottom_up?c:this.height-1-c,m=0;m<this.width;m++){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),v=g*this.width*4+m*4;this.data[v]=d,this.data[v+1]=u,this.data[v+2]=f,this.data[v+3]=s}}else for(var c=this.height-1;c>=0;c--)for(var g=this.bottom_up?c:this.height-1-c,m=0;m<this.width;m++){var u=this.buffer.readUInt8(this.pos++),f=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),d=this.buffer.readUInt8(this.pos++),v=g*this.width*4+m*4;this.data[v]=d,this.data[v+1]=u,this.data[v+2]=f,this.data[v+3]=s}},l.prototype.getData=function(){return this.data},i.exports=function(c){var g=new l(c);return g}}).call(this,n("buffer").Buffer)},{buffer:48}],32:[function(n,i,a){(function(o){function l(c){this.buffer=c.data,this.width=c.width,this.height=c.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}l.prototype.encode=function(){var c=new o(this.offset+this.rgbSize);this.pos=0,c.write(this.flag,this.pos,2),this.pos+=2,c.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,c.writeUInt32LE(this.reserved,this.pos),this.pos+=4,c.writeUInt32LE(this.offset,this.pos),this.pos+=4,c.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,c.writeUInt32LE(this.width,this.pos),this.pos+=4,c.writeInt32LE(-this.height,this.pos),this.pos+=4,c.writeUInt16LE(this.planes,this.pos),this.pos+=2,c.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,c.writeUInt32LE(this.compress,this.pos),this.pos+=4,c.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,c.writeUInt32LE(this.hr,this.pos),this.pos+=4,c.writeUInt32LE(this.vr,this.pos),this.pos+=4,c.writeUInt32LE(this.colors,this.pos),this.pos+=4,c.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var g=0,m=3*this.width+this.extraBytes,d=0;d<this.height;d++){for(var u=0;u<this.width;u++){var f=this.pos+d*m+u*3;g++,c[f]=this.buffer[g++],c[f+1]=this.buffer[g++],c[f+2]=this.buffer[g++]}if(this.extraBytes>0){var s=this.pos+d*m+this.width*3;c.fill(0,s,s+this.extraBytes)}}return c},i.exports=function(c,g){typeof g=="undefined"&&(g=100);var m=new l(c),d=m.encode();return{data:d,width:c.width,height:c.height}}}).call(this,n("buffer").Buffer)},{buffer:48}],33:[function(n,i,a){},{}],34:[function(n,i,a){(function(o,l){"use strict";var c=n("assert"),g=n("pako/lib/zlib/zstream"),m=n("pako/lib/zlib/deflate.js"),d=n("pako/lib/zlib/inflate.js"),u=n("pako/lib/zlib/constants");for(var f in u)a[f]=u[f];a.NONE=0,a.DEFLATE=1,a.INFLATE=2,a.GZIP=3,a.GUNZIP=4,a.DEFLATERAW=5,a.INFLATERAW=6,a.UNZIP=7;var s=31,v=139;function x(h){if(typeof h!="number"||h<a.DEFLATE||h>a.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=h,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}x.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,c(this.init_done,"close before init"),c(this.mode<=a.UNZIP),this.mode===a.DEFLATE||this.mode===a.GZIP||this.mode===a.DEFLATERAW?m.deflateEnd(this.strm):(this.mode===a.INFLATE||this.mode===a.GUNZIP||this.mode===a.INFLATERAW||this.mode===a.UNZIP)&&d.inflateEnd(this.strm),this.mode=a.NONE,this.dictionary=null},x.prototype.write=function(h,p,_,w,E,A,T){return this._write(!0,h,p,_,w,E,A,T)},x.prototype.writeSync=function(h,p,_,w,E,A,T){return this._write(!1,h,p,_,w,E,A,T)},x.prototype._write=function(h,p,_,w,E,A,T,C){if(c.equal(arguments.length,8),c(this.init_done,"write before init"),c(this.mode!==a.NONE,"already finalized"),c.equal(!1,this.write_in_progress,"write already in progress"),c.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,c.equal(!1,p===void 0,"must provide flush value"),this.write_in_progress=!0,p!==a.Z_NO_FLUSH&&p!==a.Z_PARTIAL_FLUSH&&p!==a.Z_SYNC_FLUSH&&p!==a.Z_FULL_FLUSH&&p!==a.Z_FINISH&&p!==a.Z_BLOCK)throw new Error("Invalid flush value");if(_==null&&(_=l.alloc(0),E=0,w=0),this.strm.avail_in=E,this.strm.input=_,this.strm.next_in=w,this.strm.avail_out=C,this.strm.output=A,this.strm.next_out=T,this.flush=p,!h)return this._process(),this._checkError()?this._afterSync():void 0;var R=this;return o.nextTick(function(){R._process(),R._after()}),this},x.prototype._afterSync=function(){var h=this.strm.avail_out,p=this.strm.avail_in;return this.write_in_progress=!1,[p,h]},x.prototype._process=function(){var h=null;switch(this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=m.deflate(this.strm,this.flush);break;case a.UNZIP:switch(this.strm.avail_in>0&&(h=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(h===null)break;if(this.strm.input[h]===s){if(this.gzip_id_bytes_read=1,h++,this.strm.avail_in===1)break}else{this.mode=a.INFLATE;break}case 1:if(h===null)break;this.strm.input[h]===v?(this.gzip_id_bytes_read=2,this.mode=a.GUNZIP):this.mode=a.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:for(this.err=d.inflate(this.strm,this.flush),this.err===a.Z_NEED_DICT&&this.dictionary&&(this.err=d.inflateSetDictionary(this.strm,this.dictionary),this.err===a.Z_OK?this.err=d.inflate(this.strm,this.flush):this.err===a.Z_DATA_ERROR&&(this.err=a.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===a.GUNZIP&&this.err===a.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=d.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},x.prototype._checkError=function(){switch(this.err){case a.Z_OK:case a.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===a.Z_FINISH)return this._error("unexpected end of file"),!1;break;case a.Z_STREAM_END:break;case a.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},x.prototype._after=function(){if(!!this._checkError()){var h=this.strm.avail_out,p=this.strm.avail_in;this.write_in_progress=!1,this.callback(p,h),this.pending_close&&this.close()}},x.prototype._error=function(h){this.strm.msg&&(h=this.strm.msg),this.onerror(h,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},x.prototype.init=function(h,p,_,w,E){c(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),c(h>=8&&h<=15,"invalid windowBits"),c(p>=-1&&p<=9,"invalid compression level"),c(_>=1&&_<=9,"invalid memlevel"),c(w===a.Z_FILTERED||w===a.Z_HUFFMAN_ONLY||w===a.Z_RLE||w===a.Z_FIXED||w===a.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(p,h,_,w,E),this._setDictionary()},x.prototype.params=function(){throw new Error("deflateParams Not supported")},x.prototype.reset=function(){this._reset(),this._setDictionary()},x.prototype._init=function(h,p,_,w,E){switch(this.level=h,this.windowBits=p,this.memLevel=_,this.strategy=w,this.flush=a.Z_NO_FLUSH,this.err=a.Z_OK,(this.mode===a.GZIP||this.mode===a.GUNZIP)&&(this.windowBits+=16),this.mode===a.UNZIP&&(this.windowBits+=32),(this.mode===a.DEFLATERAW||this.mode===a.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new g,this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=m.deflateInit2(this.strm,this.level,a.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:case a.UNZIP:this.err=d.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==a.Z_OK&&this._error("Init error"),this.dictionary=E,this.write_in_progress=!1,this.init_done=!0},x.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:this.err=m.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==a.Z_OK&&this._error("Failed to set dictionary")}},x.prototype._reset=function(){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:case a.GZIP:this.err=m.deflateReset(this.strm);break;case a.INFLATE:case a.INFLATERAW:case a.GUNZIP:this.err=d.inflateReset(this.strm);break;default:break}this.err!==a.Z_OK&&this._error("Failed to reset stream")},a.Zlib=x}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(n,i,a){(function(o){"use strict";var l=n("buffer").Buffer,c=n("stream").Transform,g=n("./binding"),m=n("util"),d=n("assert").ok,u=n("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16*1024,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION;for(var s=Object.keys(g),v=0;v<s.length;v++){var x=s[v];x.match(/^Z/)&&Object.defineProperty(a,x,{enumerable:!0,value:g[x],writable:!1})}for(var h={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},p=Object.keys(h),_=0;_<p.length;_++){var w=p[_];h[h[w]]=w}Object.defineProperty(a,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),a.Deflate=T,a.Inflate=C,a.Gzip=R,a.Gunzip=D,a.DeflateRaw=O,a.InflateRaw=k,a.Unzip=H,a.createDeflate=function(z){return new T(z)},a.createInflate=function(z){return new C(z)},a.createDeflateRaw=function(z){return new O(z)},a.createInflateRaw=function(z){return new k(z)},a.createGzip=function(z){return new R(z)},a.createGunzip=function(z){return new D(z)},a.createUnzip=function(z){return new H(z)},a.deflate=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new T(W),z,J)},a.deflateSync=function(z,W){return A(new T(W),z)},a.gzip=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new R(W),z,J)},a.gzipSync=function(z,W){return A(new R(W),z)},a.deflateRaw=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new O(W),z,J)},a.deflateRawSync=function(z,W){return A(new O(W),z)},a.unzip=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new H(W),z,J)},a.unzipSync=function(z,W){return A(new H(W),z)},a.inflate=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new C(W),z,J)},a.inflateSync=function(z,W){return A(new C(W),z)},a.gunzip=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new D(W),z,J)},a.gunzipSync=function(z,W){return A(new D(W),z)},a.inflateRaw=function(z,W,J){return typeof W=="function"&&(J=W,W={}),E(new k(W),z,J)},a.inflateRawSync=function(z,W){return A(new k(W),z)};function E(z,W,J){var oe=[],le=0;z.on("error",$),z.on("end",ae),z.end(W),fe();function fe(){for(var se;(se=z.read())!==null;)oe.push(se),le+=se.length;z.once("readable",fe)}function $(se){z.removeListener("end",ae),z.removeListener("readable",fe),J(se)}function ae(){var se,ce=null;le>=u?ce=new RangeError(f):se=l.concat(oe,le),oe=[],z.close(),J(ce,se)}}function A(z,W){if(typeof W=="string"&&(W=l.from(W)),!l.isBuffer(W))throw new TypeError("Not a string or buffer");var J=z._finishFlushFlag;return z._processChunk(W,J)}function T(z){if(!(this instanceof T))return new T(z);Z.call(this,z,g.DEFLATE)}function C(z){if(!(this instanceof C))return new C(z);Z.call(this,z,g.INFLATE)}function R(z){if(!(this instanceof R))return new R(z);Z.call(this,z,g.GZIP)}function D(z){if(!(this instanceof D))return new D(z);Z.call(this,z,g.GUNZIP)}function O(z){if(!(this instanceof O))return new O(z);Z.call(this,z,g.DEFLATERAW)}function k(z){if(!(this instanceof k))return new k(z);Z.call(this,z,g.INFLATERAW)}function H(z){if(!(this instanceof H))return new H(z);Z.call(this,z,g.UNZIP)}function B(z){return z===g.Z_NO_FLUSH||z===g.Z_PARTIAL_FLUSH||z===g.Z_SYNC_FLUSH||z===g.Z_FULL_FLUSH||z===g.Z_FINISH||z===g.Z_BLOCK}function Z(z,W){var J=this;if(this._opts=z=z||{},this._chunkSize=z.chunkSize||a.Z_DEFAULT_CHUNK,c.call(this,z),z.flush&&!B(z.flush))throw new Error("Invalid flush flag: "+z.flush);if(z.finishFlush&&!B(z.finishFlush))throw new Error("Invalid flush flag: "+z.finishFlush);if(this._flushFlag=z.flush||g.Z_NO_FLUSH,this._finishFlushFlag=typeof z.finishFlush!="undefined"?z.finishFlush:g.Z_FINISH,z.chunkSize&&(z.chunkSize<a.Z_MIN_CHUNK||z.chunkSize>a.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+z.chunkSize);if(z.windowBits&&(z.windowBits<a.Z_MIN_WINDOWBITS||z.windowBits>a.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+z.windowBits);if(z.level&&(z.level<a.Z_MIN_LEVEL||z.level>a.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+z.level);if(z.memLevel&&(z.memLevel<a.Z_MIN_MEMLEVEL||z.memLevel>a.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+z.memLevel);if(z.strategy&&z.strategy!=a.Z_FILTERED&&z.strategy!=a.Z_HUFFMAN_ONLY&&z.strategy!=a.Z_RLE&&z.strategy!=a.Z_FIXED&&z.strategy!=a.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+z.strategy);if(z.dictionary&&!l.isBuffer(z.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new g.Zlib(W);var oe=this;this._hadError=!1,this._handle.onerror=function($,ae){V(oe),oe._hadError=!0;var se=new Error($);se.errno=ae,se.code=a.codes[ae],oe.emit("error",se)};var le=a.Z_DEFAULT_COMPRESSION;typeof z.level=="number"&&(le=z.level);var fe=a.Z_DEFAULT_STRATEGY;typeof z.strategy=="number"&&(fe=z.strategy),this._handle.init(z.windowBits||a.Z_DEFAULT_WINDOWBITS,le,z.memLevel||a.Z_DEFAULT_MEMLEVEL,fe,z.dictionary),this._buffer=l.allocUnsafe(this._chunkSize),this._offset=0,this._level=le,this._strategy=fe,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!J._handle},configurable:!0,enumerable:!0})}m.inherits(Z,c),Z.prototype.params=function(z,W,J){if(z<a.Z_MIN_LEVEL||z>a.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+z);if(W!=a.Z_FILTERED&&W!=a.Z_HUFFMAN_ONLY&&W!=a.Z_RLE&&W!=a.Z_FIXED&&W!=a.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+W);if(this._level!==z||this._strategy!==W){var oe=this;this.flush(g.Z_SYNC_FLUSH,function(){d(oe._handle,"zlib binding closed"),oe._handle.params(z,W),oe._hadError||(oe._level=z,oe._strategy=W,J&&J())})}else o.nextTick(J)},Z.prototype.reset=function(){return d(this._handle,"zlib binding closed"),this._handle.reset()},Z.prototype._flush=function(z){this._transform(l.alloc(0),"",z)},Z.prototype.flush=function(z,W){var J=this,oe=this._writableState;(typeof z=="function"||z===void 0&&!W)&&(W=z,z=g.Z_FULL_FLUSH),oe.ended?W&&o.nextTick(W):oe.ending?W&&this.once("end",W):oe.needDrain?W&&this.once("drain",function(){return J.flush(z,W)}):(this._flushFlag=z,this.write(l.alloc(0),"",W))},Z.prototype.close=function(z){V(this,z),o.nextTick(j,this)};function V(z,W){W&&o.nextTick(W),!!z._handle&&(z._handle.close(),z._handle=null)}function j(z){z.emit("close")}Z.prototype._transform=function(z,W,J){var oe,le=this._writableState,fe=le.ending||le.ended,$=fe&&(!z||le.length===z.length);if(z!==null&&!l.isBuffer(z))return J(new Error("invalid input"));if(!this._handle)return J(new Error("zlib binding closed"));$?oe=this._finishFlushFlag:(oe=this._flushFlag,z.length>=le.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH)),this._processChunk(z,oe,J)},Z.prototype._processChunk=function(z,W,J){var oe=z&&z.length,le=this._chunkSize-this._offset,fe=0,$=this,ae=typeof J=="function";if(!ae){var se=[],ce=0,he;this.on("error",function(De){he=De}),d(this._handle,"zlib binding closed");do var we=this._handle.writeSync(W,z,fe,oe,this._buffer,this._offset,le);while(!this._hadError&&ge(we[0],we[1]));if(this._hadError)throw he;if(ce>=u)throw V(this),new RangeError(f);var xe=l.concat(se,ce);return V(this),xe}d(this._handle,"zlib binding closed");var Oe=this._handle.write(W,z,fe,oe,this._buffer,this._offset,le);Oe.buffer=z,Oe.callback=ge;function ge(De,pe){if(this&&(this.buffer=null,this.callback=null),!$._hadError){var de=le-pe;if(d(de>=0,"have should not go down"),de>0){var ie=$._buffer.slice($._offset,$._offset+de);$._offset+=de,ae?$.push(ie):(se.push(ie),ce+=ie.length)}if((pe===0||$._offset>=$._chunkSize)&&(le=$._chunkSize,$._offset=0,$._buffer=l.allocUnsafe($._chunkSize)),pe===0){if(fe+=oe-De,oe=De,!ae)return!0;var re=$._handle.write(W,z,fe,oe,$._buffer,$._offset,$._chunkSize);re.callback=ge,re.buffer=z;return}if(!ae)return!1;J()}}},m.inherits(T,Z),m.inherits(C,Z),m.inherits(R,Z),m.inherits(D,Z),m.inherits(O,Z),m.inherits(k,Z),m.inherits(H,Z)}).call(this,n("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(n,i,a){"use strict";var o=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function l(m,d){return Object.prototype.hasOwnProperty.call(m,d)}a.assign=function(m){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(!!u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)l(u,f)&&(m[f]=u[f])}}return m},a.shrinkBuf=function(m,d){return m.length===d?m:m.subarray?m.subarray(0,d):(m.length=d,m)};var c={arraySet:function(m,d,u,f,s){if(d.subarray&&m.subarray){m.set(d.subarray(u,u+f),s);return}for(var v=0;v<f;v++)m[s+v]=d[u+v]},flattenChunks:function(m){var d,u,f,s,v,x;for(f=0,d=0,u=m.length;d<u;d++)f+=m[d].length;for(x=new Uint8Array(f),s=0,d=0,u=m.length;d<u;d++)v=m[d],x.set(v,s),s+=v.length;return x}},g={arraySet:function(m,d,u,f,s){for(var v=0;v<f;v++)m[s+v]=d[u+v]},flattenChunks:function(m){return[].concat.apply([],m)}};a.setTyped=function(m){m?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,g))},a.setTyped(o)},{}],37:[function(n,i,a){"use strict";function o(l,c,g,m){for(var d=l&65535|0,u=l>>>16&65535|0,f=0;g!==0;){f=g>2e3?2e3:g,g-=f;do d=d+c[m++]|0,u=u+d|0;while(--f);d%=65521,u%=65521}return d|u<<16|0}i.exports=o},{}],38:[function(n,i,a){"use strict";i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(n,i,a){"use strict";function o(){for(var g,m=[],d=0;d<256;d++){g=d;for(var u=0;u<8;u++)g=g&1?3988292384^g>>>1:g>>>1;m[d]=g}return m}var l=o();function c(g,m,d,u){var f=l,s=u+d;g^=-1;for(var v=u;v<s;v++)g=g>>>8^f[(g^m[v])&255];return g^-1}i.exports=c},{}],40:[function(n,i,a){"use strict";var o=n("../utils/common"),l=n("./trees"),c=n("./adler32"),g=n("./crc32"),m=n("./messages"),d=0,u=1,f=3,s=4,v=5,x=0,h=1,p=-2,_=-3,w=-5,E=-1,A=1,T=2,C=3,R=4,D=0,O=2,k=8,H=9,B=15,Z=8,V=29,j=256,z=j+1+V,W=30,J=19,oe=2*z+1,le=15,fe=3,$=258,ae=$+fe+1,se=32,ce=42,he=69,we=73,xe=91,Oe=103,ge=113,De=666,pe=1,de=2,ie=3,re=4,q=3;function te(L,Le){return L.msg=m[Le],Le}function G(L){return(L<<1)-(L>4?9:0)}function P(L){for(var Le=L.length;--Le>=0;)L[Le]=0}function I(L){var Le=L.state,Ue=Le.pending;Ue>L.avail_out&&(Ue=L.avail_out),Ue!==0&&(o.arraySet(L.output,Le.pending_buf,Le.pending_out,Ue,L.next_out),L.next_out+=Ue,Le.pending_out+=Ue,L.total_out+=Ue,L.avail_out-=Ue,Le.pending-=Ue,Le.pending===0&&(Le.pending_out=0))}function U(L,Le){l._tr_flush_block(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,Le),L.block_start=L.strstart,I(L.strm)}function Q(L,Le){L.pending_buf[L.pending++]=Le}function ye(L,Le){L.pending_buf[L.pending++]=Le>>>8&255,L.pending_buf[L.pending++]=Le&255}function Ie(L,Le,Ue,Y){var Se=L.avail_in;return Se>Y&&(Se=Y),Se===0?0:(L.avail_in-=Se,o.arraySet(Le,L.input,L.next_in,Se,Ue),L.state.wrap===1?L.adler=c(L.adler,Le,Se,Ue):L.state.wrap===2&&(L.adler=g(L.adler,Le,Se,Ue)),L.next_in+=Se,L.total_in+=Se,Se)}function be(L,Le){var Ue=L.max_chain_length,Y=L.strstart,Se,Ve,lt=L.prev_length,ve=L.nice_match,Be=L.strstart>L.w_size-ae?L.strstart-(L.w_size-ae):0,je=L.window,tt=L.w_mask,it=L.prev,gt=L.strstart+$,yt=je[Y+lt-1],Ct=je[Y+lt];L.prev_length>=L.good_match&&(Ue>>=2),ve>L.lookahead&&(ve=L.lookahead);do if(Se=Le,!(je[Se+lt]!==Ct||je[Se+lt-1]!==yt||je[Se]!==je[Y]||je[++Se]!==je[Y+1])){Y+=2,Se++;do;while(je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&Y<gt);if(Ve=$-(gt-Y),Y=gt-$,Ve>lt){if(L.match_start=Le,lt=Ve,Ve>=ve)break;yt=je[Y+lt-1],Ct=je[Y+lt]}}while((Le=it[Le&tt])>Be&&--Ue!=0);return lt<=L.lookahead?lt:L.lookahead}function Pe(L){var Le=L.w_size,Ue,Y,Se,Ve,lt;do{if(Ve=L.window_size-L.lookahead-L.strstart,L.strstart>=Le+(Le-ae)){o.arraySet(L.window,L.window,Le,Le,0),L.match_start-=Le,L.strstart-=Le,L.block_start-=Le,Y=L.hash_size,Ue=Y;do Se=L.head[--Ue],L.head[Ue]=Se>=Le?Se-Le:0;while(--Y);Y=Le,Ue=Y;do Se=L.prev[--Ue],L.prev[Ue]=Se>=Le?Se-Le:0;while(--Y);Ve+=Le}if(L.strm.avail_in===0)break;if(Y=Ie(L.strm,L.window,L.strstart+L.lookahead,Ve),L.lookahead+=Y,L.lookahead+L.insert>=fe)for(lt=L.strstart-L.insert,L.ins_h=L.window[lt],L.ins_h=(L.ins_h<<L.hash_shift^L.window[lt+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[lt+fe-1])&L.hash_mask,L.prev[lt&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=lt,lt++,L.insert--,!(L.lookahead+L.insert<fe)););}while(L.lookahead<ae&&L.strm.avail_in!==0)}function ze(L,Le){var Ue=65535;for(Ue>L.pending_buf_size-5&&(Ue=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Pe(L),L.lookahead===0&&Le===d)return pe;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var Y=L.block_start+Ue;if((L.strstart===0||L.strstart>=Y)&&(L.lookahead=L.strstart-Y,L.strstart=Y,U(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-ae&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):(L.strstart>L.block_start&&(U(L,!1),L.strm.avail_out===0),pe)}function qe(L,Le){for(var Ue,Y;;){if(L.lookahead<ae){if(Pe(L),L.lookahead<ae&&Le===d)return pe;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=fe&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),Ue!==0&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue)),L.match_length>=fe)if(Y=l._tr_tally(L,L.strstart-L.match_start,L.match_length-fe),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=fe){L.match_length--;do L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!=0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else Y=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(Y&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=L.strstart<fe-1?L.strstart:fe-1,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Ye(L,Le){for(var Ue,Y,Se;;){if(L.lookahead<ae){if(Pe(L),L.lookahead<ae&&Le===d)return pe;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=fe&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=fe-1,Ue!==0&&L.prev_length<L.max_lazy_match&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue),L.match_length<=5&&(L.strategy===A||L.match_length===fe&&L.strstart-L.match_start>4096)&&(L.match_length=fe-1)),L.prev_length>=fe&&L.match_length<=L.prev_length){Se=L.strstart+L.lookahead-fe,Y=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-fe),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Se&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!=0);if(L.match_available=0,L.match_length=fe-1,L.strstart++,Y&&(U(L,!1),L.strm.avail_out===0))return pe}else if(L.match_available){if(Y=l._tr_tally(L,0,L.window[L.strstart-1]),Y&&U(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return pe}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(Y=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<fe-1?L.strstart:fe-1,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Me(L,Le){for(var Ue,Y,Se,Ve,lt=L.window;;){if(L.lookahead<=$){if(Pe(L),L.lookahead<=$&&Le===d)return pe;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=fe&&L.strstart>0&&(Se=L.strstart-1,Y=lt[Se],Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se])){Ve=L.strstart+$;do;while(Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Se<Ve);L.match_length=$-(Ve-Se),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=fe?(Ue=l._tr_tally(L,1,L.match_length-fe),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(Ue=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),Ue&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Ge(L,Le){for(var Ue;;){if(L.lookahead===0&&(Pe(L),L.lookahead===0)){if(Le===d)return pe;break}if(L.match_length=0,Ue=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,Ue&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function et(L,Le,Ue,Y,Se){this.good_length=L,this.max_lazy=Le,this.nice_length=Ue,this.max_chain=Y,this.func=Se}var ut;ut=[new et(0,0,0,0,ze),new et(4,4,8,4,qe),new et(4,5,16,8,qe),new et(4,6,32,32,qe),new et(4,4,16,16,Ye),new et(8,16,32,32,Ye),new et(8,16,128,128,Ye),new et(8,32,128,256,Ye),new et(32,128,258,1024,Ye),new et(32,258,258,4096,Ye)];function ct(L){L.window_size=2*L.w_size,P(L.head),L.max_lazy_match=ut[L.level].max_lazy,L.good_match=ut[L.level].good_length,L.nice_match=ut[L.level].nice_length,L.max_chain_length=ut[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=fe-1,L.match_available=0,L.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(oe*2),this.dyn_dtree=new o.Buf16((2*W+1)*2),this.bl_tree=new o.Buf16((2*J+1)*2),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(le+1),this.heap=new o.Buf16(2*z+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(L){var Le;return!L||!L.state?te(L,p):(L.total_in=L.total_out=0,L.data_type=O,Le=L.state,Le.pending=0,Le.pending_out=0,Le.wrap<0&&(Le.wrap=-Le.wrap),Le.status=Le.wrap?ce:ge,L.adler=Le.wrap===2?0:1,Le.last_flush=d,l._tr_init(Le),x)}function ke(L){var Le=Ae(L);return Le===x&&ct(L.state),Le}function Je(L,Le){return!L||!L.state||L.state.wrap!==2?p:(L.state.gzhead=Le,x)}function Re(L,Le,Ue,Y,Se,Ve){if(!L)return p;var lt=1;if(Le===E&&(Le=6),Y<0?(lt=0,Y=-Y):Y>15&&(lt=2,Y-=16),Se<1||Se>H||Ue!==k||Y<8||Y>15||Le<0||Le>9||Ve<0||Ve>R)return te(L,p);Y===8&&(Y=9);var ve=new X;return L.state=ve,ve.strm=L,ve.wrap=lt,ve.gzhead=null,ve.w_bits=Y,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Se+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+fe-1)/fe),ve.window=new o.Buf8(ve.w_size*2),ve.head=new o.Buf16(ve.hash_size),ve.prev=new o.Buf16(ve.w_size),ve.lit_bufsize=1<<Se+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new o.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Le,ve.strategy=Ve,ve.method=Ue,ke(L)}function He(L,Le){return Re(L,Le,k,B,Z,D)}function ue(L,Le){var Ue,Y,Se,Ve;if(!L||!L.state||Le>v||Le<0)return L?te(L,p):p;if(Y=L.state,!L.output||!L.input&&L.avail_in!==0||Y.status===De&&Le!==s)return te(L,L.avail_out===0?w:p);if(Y.strm=L,Ue=Y.last_flush,Y.last_flush=Le,Y.status===ce)if(Y.wrap===2)L.adler=0,Q(Y,31),Q(Y,139),Q(Y,8),Y.gzhead?(Q(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),Q(Y,Y.gzhead.time&255),Q(Y,Y.gzhead.time>>8&255),Q(Y,Y.gzhead.time>>16&255),Q(Y,Y.gzhead.time>>24&255),Q(Y,Y.level===9?2:Y.strategy>=T||Y.level<2?4:0),Q(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(Q(Y,Y.gzhead.extra.length&255),Q(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(L.adler=g(L.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=he):(Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,Y.level===9?2:Y.strategy>=T||Y.level<2?4:0),Q(Y,q),Y.status=ge);else{var lt=k+(Y.w_bits-8<<4)<<8,ve=-1;Y.strategy>=T||Y.level<2?ve=0:Y.level<6?ve=1:Y.level===6?ve=2:ve=3,lt|=ve<<6,Y.strstart!==0&&(lt|=se),lt+=31-lt%31,Y.status=ge,ye(Y,lt),Y.strstart!==0&&(ye(Y,L.adler>>>16),ye(Y,L.adler&65535)),L.adler=1}if(Y.status===he)if(Y.gzhead.extra){for(Se=Y.pending;Y.gzindex<(Y.gzhead.extra.length&65535)&&!(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size));)Q(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=we)}else Y.status=we;if(Y.status===we)if(Y.gzhead.name){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.name.length?Ve=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:Ve=0,Q(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.gzindex=0,Y.status=xe)}else Y.status=xe;if(Y.status===xe)if(Y.gzhead.comment){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.comment.length?Ve=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:Ve=0,Q(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.status=Oe)}else Y.status=Oe;if(Y.status===Oe&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&I(L),Y.pending+2<=Y.pending_buf_size&&(Q(Y,L.adler&255),Q(Y,L.adler>>8&255),L.adler=0,Y.status=ge)):Y.status=ge),Y.pending!==0){if(I(L),L.avail_out===0)return Y.last_flush=-1,x}else if(L.avail_in===0&&G(Le)<=G(Ue)&&Le!==s)return te(L,w);if(Y.status===De&&L.avail_in!==0)return te(L,w);if(L.avail_in!==0||Y.lookahead!==0||Le!==d&&Y.status!==De){var Be=Y.strategy===T?Ge(Y,Le):Y.strategy===C?Me(Y,Le):ut[Y.level].func(Y,Le);if((Be===ie||Be===re)&&(Y.status=De),Be===pe||Be===ie)return L.avail_out===0&&(Y.last_flush=-1),x;if(Be===de&&(Le===u?l._tr_align(Y):Le!==v&&(l._tr_stored_block(Y,0,0,!1),Le===f&&(P(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),I(L),L.avail_out===0))return Y.last_flush=-1,x}return Le!==s?x:Y.wrap<=0?h:(Y.wrap===2?(Q(Y,L.adler&255),Q(Y,L.adler>>8&255),Q(Y,L.adler>>16&255),Q(Y,L.adler>>24&255),Q(Y,L.total_in&255),Q(Y,L.total_in>>8&255),Q(Y,L.total_in>>16&255),Q(Y,L.total_in>>24&255)):(ye(Y,L.adler>>>16),ye(Y,L.adler&65535)),I(L),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?x:h)}function Ke(L){var Le;return!L||!L.state?p:(Le=L.state.status,Le!==ce&&Le!==he&&Le!==we&&Le!==xe&&Le!==Oe&&Le!==ge&&Le!==De?te(L,p):(L.state=null,Le===ge?te(L,_):x))}function pt(L,Le){var Ue=Le.length,Y,Se,Ve,lt,ve,Be,je,tt;if(!L||!L.state||(Y=L.state,lt=Y.wrap,lt===2||lt===1&&Y.status!==ce||Y.lookahead))return p;for(lt===1&&(L.adler=c(L.adler,Le,Ue,0)),Y.wrap=0,Ue>=Y.w_size&&(lt===0&&(P(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),tt=new o.Buf8(Y.w_size),o.arraySet(tt,Le,Ue-Y.w_size,Y.w_size,0),Le=tt,Ue=Y.w_size),ve=L.avail_in,Be=L.next_in,je=L.input,L.avail_in=Ue,L.next_in=0,L.input=Le,Pe(Y);Y.lookahead>=fe;){Se=Y.strstart,Ve=Y.lookahead-(fe-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Se+fe-1])&Y.hash_mask,Y.prev[Se&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Se,Se++;while(--Ve);Y.strstart=Se,Y.lookahead=fe-1,Pe(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=fe-1,Y.match_available=0,L.next_in=Be,L.input=je,L.avail_in=ve,Y.wrap=lt,x}a.deflateInit=He,a.deflateInit2=Re,a.deflateReset=ke,a.deflateResetKeep=Ae,a.deflateSetHeader=Je,a.deflate=ue,a.deflateEnd=Ke,a.deflateSetDictionary=pt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(n,i,a){"use strict";var o=30,l=12;i.exports=function(g,m){var d,u,f,s,v,x,h,p,_,w,E,A,T,C,R,D,O,k,H,B,Z,V,j,z,W;d=g.state,u=g.next_in,z=g.input,f=u+(g.avail_in-5),s=g.next_out,W=g.output,v=s-(m-g.avail_out),x=s+(g.avail_out-257),h=d.dmax,p=d.wsize,_=d.whave,w=d.wnext,E=d.window,A=d.hold,T=d.bits,C=d.lencode,R=d.distcode,D=(1<<d.lenbits)-1,O=(1<<d.distbits)-1;e:do{T<15&&(A+=z[u++]<<T,T+=8,A+=z[u++]<<T,T+=8),k=C[A&D];t:for(;;){if(H=k>>>24,A>>>=H,T-=H,H=k>>>16&255,H===0)W[s++]=k&65535;else if(H&16){B=k&65535,H&=15,H&&(T<H&&(A+=z[u++]<<T,T+=8),B+=A&(1<<H)-1,A>>>=H,T-=H),T<15&&(A+=z[u++]<<T,T+=8,A+=z[u++]<<T,T+=8),k=R[A&O];n:for(;;){if(H=k>>>24,A>>>=H,T-=H,H=k>>>16&255,H&16){if(Z=k&65535,H&=15,T<H&&(A+=z[u++]<<T,T+=8,T<H&&(A+=z[u++]<<T,T+=8)),Z+=A&(1<<H)-1,Z>h){g.msg="invalid distance too far back",d.mode=o;break e}if(A>>>=H,T-=H,H=s-v,Z>H){if(H=Z-H,H>_&&d.sane){g.msg="invalid distance too far back",d.mode=o;break e}if(V=0,j=E,w===0){if(V+=p-H,H<B){B-=H;do W[s++]=E[V++];while(--H);V=s-Z,j=W}}else if(w<H){if(V+=p+w-H,H-=w,H<B){B-=H;do W[s++]=E[V++];while(--H);if(V=0,w<B){H=w,B-=H;do W[s++]=E[V++];while(--H);V=s-Z,j=W}}}else if(V+=w-H,H<B){B-=H;do W[s++]=E[V++];while(--H);V=s-Z,j=W}for(;B>2;)W[s++]=j[V++],W[s++]=j[V++],W[s++]=j[V++],B-=3;B&&(W[s++]=j[V++],B>1&&(W[s++]=j[V++]))}else{V=s-Z;do W[s++]=W[V++],W[s++]=W[V++],W[s++]=W[V++],B-=3;while(B>2);B&&(W[s++]=W[V++],B>1&&(W[s++]=W[V++]))}}else if((H&64)==0){k=R[(k&65535)+(A&(1<<H)-1)];continue n}else{g.msg="invalid distance code",d.mode=o;break e}break}}else if((H&64)==0){k=C[(k&65535)+(A&(1<<H)-1)];continue t}else if(H&32){d.mode=l;break e}else{g.msg="invalid literal/length code",d.mode=o;break e}break}}while(u<f&&s<x);B=T>>3,u-=B,T-=B<<3,A&=(1<<T)-1,g.next_in=u,g.next_out=s,g.avail_in=u<f?5+(f-u):5-(u-f),g.avail_out=s<x?257+(x-s):257-(s-x),d.hold=A,d.bits=T}},{}],42:[function(n,i,a){"use strict";var o=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),g=n("./inffast"),m=n("./inftrees"),d=0,u=1,f=2,s=4,v=5,x=6,h=0,p=1,_=2,w=-2,E=-3,A=-4,T=-5,C=8,R=1,D=2,O=3,k=4,H=5,B=6,Z=7,V=8,j=9,z=10,W=11,J=12,oe=13,le=14,fe=15,$=16,ae=17,se=18,ce=19,he=20,we=21,xe=22,Oe=23,ge=24,De=25,pe=26,de=27,ie=28,re=29,q=30,te=31,G=32,P=852,I=592,U=15,Q=U;function ye(Re){return(Re>>>24&255)+(Re>>>8&65280)+((Re&65280)<<8)+((Re&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(Re){var He;return!Re||!Re.state?w:(He=Re.state,Re.total_in=Re.total_out=He.total=0,Re.msg="",He.wrap&&(Re.adler=He.wrap&1),He.mode=R,He.last=0,He.havedict=0,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new o.Buf32(P),He.distcode=He.distdyn=new o.Buf32(I),He.sane=1,He.back=-1,h)}function Pe(Re){var He;return!Re||!Re.state?w:(He=Re.state,He.wsize=0,He.whave=0,He.wnext=0,be(Re))}function ze(Re,He){var ue,Ke;return!Re||!Re.state||(Ke=Re.state,He<0?(ue=0,He=-He):(ue=(He>>4)+1,He<48&&(He&=15)),He&&(He<8||He>15))?w:(Ke.window!==null&&Ke.wbits!==He&&(Ke.window=null),Ke.wrap=ue,Ke.wbits=He,Pe(Re))}function qe(Re,He){var ue,Ke;return Re?(Ke=new Ie,Re.state=Ke,Ke.window=null,ue=ze(Re,He),ue!==h&&(Re.state=null),ue):w}function Ye(Re){return qe(Re,Q)}var Me=!0,Ge,et;function ut(Re){if(Me){var He;for(Ge=new o.Buf32(512),et=new o.Buf32(32),He=0;He<144;)Re.lens[He++]=8;for(;He<256;)Re.lens[He++]=9;for(;He<280;)Re.lens[He++]=7;for(;He<288;)Re.lens[He++]=8;for(m(u,Re.lens,0,288,Ge,0,Re.work,{bits:9}),He=0;He<32;)Re.lens[He++]=5;m(f,Re.lens,0,32,et,0,Re.work,{bits:5}),Me=!1}Re.lencode=Ge,Re.lenbits=9,Re.distcode=et,Re.distbits=5}function ct(Re,He,ue,Ke){var pt,L=Re.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new o.Buf8(L.wsize)),Ke>=L.wsize?(o.arraySet(L.window,He,ue-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(pt=L.wsize-L.wnext,pt>Ke&&(pt=Ke),o.arraySet(L.window,He,ue-Ke,pt,L.wnext),Ke-=pt,Ke?(o.arraySet(L.window,He,ue-Ke,Ke,0),L.wnext=Ke,L.whave=L.wsize):(L.wnext+=pt,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=pt))),0}function X(Re,He){var ue,Ke,pt,L,Le,Ue,Y,Se,Ve,lt,ve,Be,je,tt,it=0,gt,yt,Ct,At,Yt,zt,Rt,Qt,hn=new o.Buf8(4),Ft,kn,Vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Re||!Re.state||!Re.output||!Re.input&&Re.avail_in!==0)return w;ue=Re.state,ue.mode===J&&(ue.mode=oe),Le=Re.next_out,pt=Re.output,Y=Re.avail_out,L=Re.next_in,Ke=Re.input,Ue=Re.avail_in,Se=ue.hold,Ve=ue.bits,lt=Ue,ve=Y,Qt=h;e:for(;;)switch(ue.mode){case R:if(ue.wrap===0){ue.mode=oe;break}for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(ue.wrap&2&&Se===35615){ue.check=0,hn[0]=Se&255,hn[1]=Se>>>8&255,ue.check=c(ue.check,hn,2,0),Se=0,Ve=0,ue.mode=D;break}if(ue.flags=0,ue.head&&(ue.head.done=!1),!(ue.wrap&1)||(((Se&255)<<8)+(Se>>8))%31){Re.msg="incorrect header check",ue.mode=q;break}if((Se&15)!==C){Re.msg="unknown compression method",ue.mode=q;break}if(Se>>>=4,Ve-=4,Rt=(Se&15)+8,ue.wbits===0)ue.wbits=Rt;else if(Rt>ue.wbits){Re.msg="invalid window size",ue.mode=q;break}ue.dmax=1<<Rt,Re.adler=ue.check=1,ue.mode=Se&512?z:J,Se=0,Ve=0;break;case D:for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(ue.flags=Se,(ue.flags&255)!==C){Re.msg="unknown compression method",ue.mode=q;break}if(ue.flags&57344){Re.msg="unknown header flags set",ue.mode=q;break}ue.head&&(ue.head.text=Se>>8&1),ue.flags&512&&(hn[0]=Se&255,hn[1]=Se>>>8&255,ue.check=c(ue.check,hn,2,0)),Se=0,Ve=0,ue.mode=O;case O:for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.head&&(ue.head.time=Se),ue.flags&512&&(hn[0]=Se&255,hn[1]=Se>>>8&255,hn[2]=Se>>>16&255,hn[3]=Se>>>24&255,ue.check=c(ue.check,hn,4,0)),Se=0,Ve=0,ue.mode=k;case k:for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.head&&(ue.head.xflags=Se&255,ue.head.os=Se>>8),ue.flags&512&&(hn[0]=Se&255,hn[1]=Se>>>8&255,ue.check=c(ue.check,hn,2,0)),Se=0,Ve=0,ue.mode=H;case H:if(ue.flags&1024){for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.length=Se,ue.head&&(ue.head.extra_len=Se),ue.flags&512&&(hn[0]=Se&255,hn[1]=Se>>>8&255,ue.check=c(ue.check,hn,2,0)),Se=0,Ve=0}else ue.head&&(ue.head.extra=null);ue.mode=B;case B:if(ue.flags&1024&&(Be=ue.length,Be>Ue&&(Be=Ue),Be&&(ue.head&&(Rt=ue.head.extra_len-ue.length,ue.head.extra||(ue.head.extra=new Array(ue.head.extra_len)),o.arraySet(ue.head.extra,Ke,L,Be,Rt)),ue.flags&512&&(ue.check=c(ue.check,Ke,Be,L)),Ue-=Be,L+=Be,ue.length-=Be),ue.length))break e;ue.length=0,ue.mode=Z;case Z:if(ue.flags&2048){if(Ue===0)break e;Be=0;do Rt=Ke[L+Be++],ue.head&&Rt&&ue.length<65536&&(ue.head.name+=String.fromCharCode(Rt));while(Rt&&Be<Ue);if(ue.flags&512&&(ue.check=c(ue.check,Ke,Be,L)),Ue-=Be,L+=Be,Rt)break e}else ue.head&&(ue.head.name=null);ue.length=0,ue.mode=V;case V:if(ue.flags&4096){if(Ue===0)break e;Be=0;do Rt=Ke[L+Be++],ue.head&&Rt&&ue.length<65536&&(ue.head.comment+=String.fromCharCode(Rt));while(Rt&&Be<Ue);if(ue.flags&512&&(ue.check=c(ue.check,Ke,Be,L)),Ue-=Be,L+=Be,Rt)break e}else ue.head&&(ue.head.comment=null);ue.mode=j;case j:if(ue.flags&512){for(;Ve<16;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(Se!==(ue.check&65535)){Re.msg="header crc mismatch",ue.mode=q;break}Se=0,Ve=0}ue.head&&(ue.head.hcrc=ue.flags>>9&1,ue.head.done=!0),Re.adler=ue.check=0,ue.mode=J;break;case z:for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}Re.adler=ue.check=ye(Se),Se=0,Ve=0,ue.mode=W;case W:if(ue.havedict===0)return Re.next_out=Le,Re.avail_out=Y,Re.next_in=L,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,_;Re.adler=ue.check=1,ue.mode=J;case J:if(He===v||He===x)break e;case oe:if(ue.last){Se>>>=Ve&7,Ve-=Ve&7,ue.mode=de;break}for(;Ve<3;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}switch(ue.last=Se&1,Se>>>=1,Ve-=1,Se&3){case 0:ue.mode=le;break;case 1:if(ut(ue),ue.mode=he,He===x){Se>>>=2,Ve-=2;break e}break;case 2:ue.mode=ae;break;case 3:Re.msg="invalid block type",ue.mode=q}Se>>>=2,Ve-=2;break;case le:for(Se>>>=Ve&7,Ve-=Ve&7;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if((Se&65535)!=(Se>>>16^65535)){Re.msg="invalid stored block lengths",ue.mode=q;break}if(ue.length=Se&65535,Se=0,Ve=0,ue.mode=fe,He===x)break e;case fe:ue.mode=$;case $:if(Be=ue.length,Be){if(Be>Ue&&(Be=Ue),Be>Y&&(Be=Y),Be===0)break e;o.arraySet(pt,Ke,L,Be,Le),Ue-=Be,L+=Be,Y-=Be,Le+=Be,ue.length-=Be;break}ue.mode=J;break;case ae:for(;Ve<14;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(ue.nlen=(Se&31)+257,Se>>>=5,Ve-=5,ue.ndist=(Se&31)+1,Se>>>=5,Ve-=5,ue.ncode=(Se&15)+4,Se>>>=4,Ve-=4,ue.nlen>286||ue.ndist>30){Re.msg="too many length or distance symbols",ue.mode=q;break}ue.have=0,ue.mode=se;case se:for(;ue.have<ue.ncode;){for(;Ve<3;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.lens[Vt[ue.have++]]=Se&7,Se>>>=3,Ve-=3}for(;ue.have<19;)ue.lens[Vt[ue.have++]]=0;if(ue.lencode=ue.lendyn,ue.lenbits=7,Ft={bits:ue.lenbits},Qt=m(d,ue.lens,0,19,ue.lencode,0,ue.work,Ft),ue.lenbits=Ft.bits,Qt){Re.msg="invalid code lengths set",ue.mode=q;break}ue.have=0,ue.mode=ce;case ce:for(;ue.have<ue.nlen+ue.ndist;){for(;it=ue.lencode[Se&(1<<ue.lenbits)-1],gt=it>>>24,yt=it>>>16&255,Ct=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(Ct<16)Se>>>=gt,Ve-=gt,ue.lens[ue.have++]=Ct;else{if(Ct===16){for(kn=gt+2;Ve<kn;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(Se>>>=gt,Ve-=gt,ue.have===0){Re.msg="invalid bit length repeat",ue.mode=q;break}Rt=ue.lens[ue.have-1],Be=3+(Se&3),Se>>>=2,Ve-=2}else if(Ct===17){for(kn=gt+3;Ve<kn;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}Se>>>=gt,Ve-=gt,Rt=0,Be=3+(Se&7),Se>>>=3,Ve-=3}else{for(kn=gt+7;Ve<kn;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}Se>>>=gt,Ve-=gt,Rt=0,Be=11+(Se&127),Se>>>=7,Ve-=7}if(ue.have+Be>ue.nlen+ue.ndist){Re.msg="invalid bit length repeat",ue.mode=q;break}for(;Be--;)ue.lens[ue.have++]=Rt}}if(ue.mode===q)break;if(ue.lens[256]===0){Re.msg="invalid code -- missing end-of-block",ue.mode=q;break}if(ue.lenbits=9,Ft={bits:ue.lenbits},Qt=m(u,ue.lens,0,ue.nlen,ue.lencode,0,ue.work,Ft),ue.lenbits=Ft.bits,Qt){Re.msg="invalid literal/lengths set",ue.mode=q;break}if(ue.distbits=6,ue.distcode=ue.distdyn,Ft={bits:ue.distbits},Qt=m(f,ue.lens,ue.nlen,ue.ndist,ue.distcode,0,ue.work,Ft),ue.distbits=Ft.bits,Qt){Re.msg="invalid distances set",ue.mode=q;break}if(ue.mode=he,He===x)break e;case he:ue.mode=we;case we:if(Ue>=6&&Y>=258){Re.next_out=Le,Re.avail_out=Y,Re.next_in=L,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,g(Re,ve),Le=Re.next_out,pt=Re.output,Y=Re.avail_out,L=Re.next_in,Ke=Re.input,Ue=Re.avail_in,Se=ue.hold,Ve=ue.bits,ue.mode===J&&(ue.back=-1);break}for(ue.back=0;it=ue.lencode[Se&(1<<ue.lenbits)-1],gt=it>>>24,yt=it>>>16&255,Ct=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(yt&&(yt&240)==0){for(At=gt,Yt=yt,zt=Ct;it=ue.lencode[zt+((Se&(1<<At+Yt)-1)>>At)],gt=it>>>24,yt=it>>>16&255,Ct=it&65535,!(At+gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}Se>>>=At,Ve-=At,ue.back+=At}if(Se>>>=gt,Ve-=gt,ue.back+=gt,ue.length=Ct,yt===0){ue.mode=pe;break}if(yt&32){ue.back=-1,ue.mode=J;break}if(yt&64){Re.msg="invalid literal/length code",ue.mode=q;break}ue.extra=yt&15,ue.mode=xe;case xe:if(ue.extra){for(kn=ue.extra;Ve<kn;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.length+=Se&(1<<ue.extra)-1,Se>>>=ue.extra,Ve-=ue.extra,ue.back+=ue.extra}ue.was=ue.length,ue.mode=Oe;case Oe:for(;it=ue.distcode[Se&(1<<ue.distbits)-1],gt=it>>>24,yt=it>>>16&255,Ct=it&65535,!(gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if((yt&240)==0){for(At=gt,Yt=yt,zt=Ct;it=ue.distcode[zt+((Se&(1<<At+Yt)-1)>>At)],gt=it>>>24,yt=it>>>16&255,Ct=it&65535,!(At+gt<=Ve);){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}Se>>>=At,Ve-=At,ue.back+=At}if(Se>>>=gt,Ve-=gt,ue.back+=gt,yt&64){Re.msg="invalid distance code",ue.mode=q;break}ue.offset=Ct,ue.extra=yt&15,ue.mode=ge;case ge:if(ue.extra){for(kn=ue.extra;Ve<kn;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}ue.offset+=Se&(1<<ue.extra)-1,Se>>>=ue.extra,Ve-=ue.extra,ue.back+=ue.extra}if(ue.offset>ue.dmax){Re.msg="invalid distance too far back",ue.mode=q;break}ue.mode=De;case De:if(Y===0)break e;if(Be=ve-Y,ue.offset>Be){if(Be=ue.offset-Be,Be>ue.whave&&ue.sane){Re.msg="invalid distance too far back",ue.mode=q;break}Be>ue.wnext?(Be-=ue.wnext,je=ue.wsize-Be):je=ue.wnext-Be,Be>ue.length&&(Be=ue.length),tt=ue.window}else tt=pt,je=Le-ue.offset,Be=ue.length;Be>Y&&(Be=Y),Y-=Be,ue.length-=Be;do pt[Le++]=tt[je++];while(--Be);ue.length===0&&(ue.mode=we);break;case pe:if(Y===0)break e;pt[Le++]=ue.length,Y--,ue.mode=we;break;case de:if(ue.wrap){for(;Ve<32;){if(Ue===0)break e;Ue--,Se|=Ke[L++]<<Ve,Ve+=8}if(ve-=Y,Re.total_out+=ve,ue.total+=ve,ve&&(Re.adler=ue.check=ue.flags?c(ue.check,pt,ve,Le-ve):l(ue.check,pt,ve,Le-ve)),ve=Y,(ue.flags?Se:ye(Se))!==ue.check){Re.msg="incorrect data check",ue.mode=q;break}Se=0,Ve=0}ue.mode=ie;case ie:if(ue.wrap&&ue.flags){for(;Ve<32;){if(Ue===0)break e;Ue--,Se+=Ke[L++]<<Ve,Ve+=8}if(Se!==(ue.total&4294967295)){Re.msg="incorrect length check",ue.mode=q;break}Se=0,Ve=0}ue.mode=re;case re:Qt=p;break e;case q:Qt=E;break e;case te:return A;case G:default:return w}return Re.next_out=Le,Re.avail_out=Y,Re.next_in=L,Re.avail_in=Ue,ue.hold=Se,ue.bits=Ve,(ue.wsize||ve!==Re.avail_out&&ue.mode<q&&(ue.mode<de||He!==s))&&ct(Re,Re.output,Re.next_out,ve-Re.avail_out)?(ue.mode=te,A):(lt-=Re.avail_in,ve-=Re.avail_out,Re.total_in+=lt,Re.total_out+=ve,ue.total+=ve,ue.wrap&&ve&&(Re.adler=ue.check=ue.flags?c(ue.check,pt,ve,Re.next_out-ve):l(ue.check,pt,ve,Re.next_out-ve)),Re.data_type=ue.bits+(ue.last?64:0)+(ue.mode===J?128:0)+(ue.mode===he||ue.mode===fe?256:0),(lt===0&&ve===0||He===s)&&Qt===h&&(Qt=T),Qt)}function Ae(Re){if(!Re||!Re.state)return w;var He=Re.state;return He.window&&(He.window=null),Re.state=null,h}function ke(Re,He){var ue;return!Re||!Re.state||(ue=Re.state,(ue.wrap&2)==0)?w:(ue.head=He,He.done=!1,h)}function Je(Re,He){var ue=He.length,Ke,pt,L;return!Re||!Re.state||(Ke=Re.state,Ke.wrap!==0&&Ke.mode!==W)?w:Ke.mode===W&&(pt=1,pt=l(pt,He,ue,0),pt!==Ke.check)?E:(L=ct(Re,He,ue,ue),L?(Ke.mode=te,A):(Ke.havedict=1,h))}a.inflateReset=Pe,a.inflateReset2=ze,a.inflateResetKeep=be,a.inflateInit=Ye,a.inflateInit2=qe,a.inflate=X,a.inflateEnd=Ae,a.inflateGetHeader=ke,a.inflateSetDictionary=Je,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(n,i,a){"use strict";var o=n("../utils/common"),l=15,c=852,g=592,m=0,d=1,u=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(p,_,w,E,A,T,C,R){var D=R.bits,O=0,k=0,H=0,B=0,Z=0,V=0,j=0,z=0,W=0,J=0,oe,le,fe,$,ae,se=null,ce=0,he,we=new o.Buf16(l+1),xe=new o.Buf16(l+1),Oe=null,ge=0,De,pe,de;for(O=0;O<=l;O++)we[O]=0;for(k=0;k<E;k++)we[_[w+k]]++;for(Z=D,B=l;B>=1&&we[B]===0;B--);if(Z>B&&(Z=B),B===0)return A[T++]=1<<24|64<<16|0,A[T++]=1<<24|64<<16|0,R.bits=1,0;for(H=1;H<B&&we[H]===0;H++);for(Z<H&&(Z=H),z=1,O=1;O<=l;O++)if(z<<=1,z-=we[O],z<0)return-1;if(z>0&&(p===m||B!==1))return-1;for(xe[1]=0,O=1;O<l;O++)xe[O+1]=xe[O]+we[O];for(k=0;k<E;k++)_[w+k]!==0&&(C[xe[_[w+k]]++]=k);if(p===m?(se=Oe=C,he=19):p===d?(se=f,ce-=257,Oe=s,ge-=257,he=256):(se=v,Oe=x,he=-1),J=0,k=0,O=H,ae=T,V=Z,j=0,fe=-1,W=1<<Z,$=W-1,p===d&&W>c||p===u&&W>g)return 1;for(;;){De=O-j,C[k]<he?(pe=0,de=C[k]):C[k]>he?(pe=Oe[ge+C[k]],de=se[ce+C[k]]):(pe=32+64,de=0),oe=1<<O-j,le=1<<V,H=le;do le-=oe,A[ae+(J>>j)+le]=De<<24|pe<<16|de|0;while(le!==0);for(oe=1<<O-1;J&oe;)oe>>=1;if(oe!==0?(J&=oe-1,J+=oe):J=0,k++,--we[O]==0){if(O===B)break;O=_[w+C[k]]}if(O>Z&&(J&$)!==fe){for(j===0&&(j=Z),ae+=H,V=O-j,z=1<<V;V+j<B&&(z-=we[V+j],!(z<=0));)V++,z<<=1;if(W+=1<<V,p===d&&W>c||p===u&&W>g)return 1;fe=J&$,A[fe]=Z<<24|V<<16|ae-T|0}}return J!==0&&(A[ae+J]=O-j<<24|64<<16|0),R.bits=Z,0}},{"../utils/common":36}],44:[function(n,i,a){"use strict";i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(n,i,a){"use strict";var o=n("../utils/common"),l=4,c=0,g=1,m=2;function d(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var u=0,f=1,s=2,v=3,x=258,h=29,p=256,_=p+1+h,w=30,E=19,A=2*_+1,T=15,C=16,R=7,D=256,O=16,k=17,H=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,W=new Array((_+2)*2);d(W);var J=new Array(w*2);d(J);var oe=new Array(z);d(oe);var le=new Array(x-v+1);d(le);var fe=new Array(h);d(fe);var $=new Array(w);d($);function ae(X,Ae,ke,Je,Re){this.static_tree=X,this.extra_bits=Ae,this.extra_base=ke,this.elems=Je,this.max_length=Re,this.has_stree=X&&X.length}var se,ce,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?oe[X]:oe[256+(X>>>7)]}function Oe(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,ke){X.bi_valid>C-ke?(X.bi_buf|=Ae<<X.bi_valid&65535,Oe(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=ke-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=ke)}function De(X,Ae,ke){ge(X,ke[Ae*2],ke[Ae*2+1])}function pe(X,Ae){var ke=0;do ke|=X&1,X>>>=1,ke<<=1;while(--Ae>0);return ke>>>1}function de(X){X.bi_valid===16?(Oe(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function ie(X,Ae){var ke=Ae.dyn_tree,Je=Ae.max_code,Re=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ue=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,pt=Ae.stat_desc.max_length,L,Le,Ue,Y,Se,Ve,lt=0;for(Y=0;Y<=T;Y++)X.bl_count[Y]=0;for(ke[X.heap[X.heap_max]*2+1]=0,L=X.heap_max+1;L<A;L++)Le=X.heap[L],Y=ke[ke[Le*2+1]*2+1]+1,Y>pt&&(Y=pt,lt++),ke[Le*2+1]=Y,!(Le>Je)&&(X.bl_count[Y]++,Se=0,Le>=Ke&&(Se=ue[Le-Ke]),Ve=ke[Le*2],X.opt_len+=Ve*(Y+Se),He&&(X.static_len+=Ve*(Re[Le*2+1]+Se)));if(lt!==0){do{for(Y=pt-1;X.bl_count[Y]===0;)Y--;X.bl_count[Y]--,X.bl_count[Y+1]+=2,X.bl_count[pt]--,lt-=2}while(lt>0);for(Y=pt;Y!==0;Y--)for(Le=X.bl_count[Y];Le!==0;)Ue=X.heap[--L],!(Ue>Je)&&(ke[Ue*2+1]!==Y&&(X.opt_len+=(Y-ke[Ue*2+1])*ke[Ue*2],ke[Ue*2+1]=Y),Le--)}}function re(X,Ae,ke){var Je=new Array(T+1),Re=0,He,ue;for(He=1;He<=T;He++)Je[He]=Re=Re+ke[He-1]<<1;for(ue=0;ue<=Ae;ue++){var Ke=X[ue*2+1];Ke!==0&&(X[ue*2]=pe(Je[Ke]++,Ke))}}function q(){var X,Ae,ke,Je,Re,He=new Array(T+1);for(ke=0,Je=0;Je<h-1;Je++)for(fe[Je]=ke,X=0;X<1<<B[Je];X++)le[ke++]=Je;for(le[ke-1]=Je,Re=0,Je=0;Je<16;Je++)for($[Je]=Re,X=0;X<1<<Z[Je];X++)oe[Re++]=Je;for(Re>>=7;Je<w;Je++)for($[Je]=Re<<7,X=0;X<1<<Z[Je]-7;X++)oe[256+Re++]=Je;for(Ae=0;Ae<=T;Ae++)He[Ae]=0;for(X=0;X<=143;)W[X*2+1]=8,X++,He[8]++;for(;X<=255;)W[X*2+1]=9,X++,He[9]++;for(;X<=279;)W[X*2+1]=7,X++,He[7]++;for(;X<=287;)W[X*2+1]=8,X++,He[8]++;for(re(W,_+1,He),X=0;X<w;X++)J[X*2+1]=5,J[X*2]=pe(X,5);se=new ae(W,B,p+1,_,T),ce=new ae(J,Z,0,w,T),he=new ae(new Array(0),V,0,E,R)}function te(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<w;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<E;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[D*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function G(X){X.bi_valid>8?Oe(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function P(X,Ae,ke,Je){G(X),Je&&(Oe(X,ke),Oe(X,~ke)),o.arraySet(X.pending_buf,X.window,Ae,ke,X.pending),X.pending+=ke}function I(X,Ae,ke,Je){var Re=Ae*2,He=ke*2;return X[Re]<X[He]||X[Re]===X[He]&&Je[Ae]<=Je[ke]}function U(X,Ae,ke){for(var Je=X.heap[ke],Re=ke<<1;Re<=X.heap_len&&(Re<X.heap_len&&I(Ae,X.heap[Re+1],X.heap[Re],X.depth)&&Re++,!I(Ae,Je,X.heap[Re],X.depth));)X.heap[ke]=X.heap[Re],ke=Re,Re<<=1;X.heap[ke]=Je}function Q(X,Ae,ke){var Je,Re,He=0,ue,Ke;if(X.last_lit!==0)do Je=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],Re=X.pending_buf[X.l_buf+He],He++,Je===0?De(X,Re,Ae):(ue=le[Re],De(X,ue+p+1,Ae),Ke=B[ue],Ke!==0&&(Re-=fe[ue],ge(X,Re,Ke)),Je--,ue=xe(Je),De(X,ue,ke),Ke=Z[ue],Ke!==0&&(Je-=$[ue],ge(X,Je,Ke)));while(He<X.last_lit);De(X,D,Ae)}function ye(X,Ae){var ke=Ae.dyn_tree,Je=Ae.stat_desc.static_tree,Re=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ue,Ke,pt=-1,L;for(X.heap_len=0,X.heap_max=A,ue=0;ue<He;ue++)ke[ue*2]!==0?(X.heap[++X.heap_len]=pt=ue,X.depth[ue]=0):ke[ue*2+1]=0;for(;X.heap_len<2;)L=X.heap[++X.heap_len]=pt<2?++pt:0,ke[L*2]=1,X.depth[L]=0,X.opt_len--,Re&&(X.static_len-=Je[L*2+1]);for(Ae.max_code=pt,ue=X.heap_len>>1;ue>=1;ue--)U(X,ke,ue);L=He;do ue=X.heap[1],X.heap[1]=X.heap[X.heap_len--],U(X,ke,1),Ke=X.heap[1],X.heap[--X.heap_max]=ue,X.heap[--X.heap_max]=Ke,ke[L*2]=ke[ue*2]+ke[Ke*2],X.depth[L]=(X.depth[ue]>=X.depth[Ke]?X.depth[ue]:X.depth[Ke])+1,ke[ue*2+1]=ke[Ke*2+1]=L,X.heap[1]=L++,U(X,ke,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],ie(X,Ae),re(ke,pt,X.bl_count)}function Ie(X,Ae,ke){var Je,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,L=4;for(ue===0&&(pt=138,L=3),Ae[(ke+1)*2+1]=65535,Je=0;Je<=ke;Je++)He=ue,ue=Ae[(Je+1)*2+1],!(++Ke<pt&&He===ue)&&(Ke<L?X.bl_tree[He*2]+=Ke:He!==0?(He!==Re&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[H*2]++,Ke=0,Re=He,ue===0?(pt=138,L=3):He===ue?(pt=6,L=3):(pt=7,L=4))}function be(X,Ae,ke){var Je,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,L=4;for(ue===0&&(pt=138,L=3),Je=0;Je<=ke;Je++)if(He=ue,ue=Ae[(Je+1)*2+1],!(++Ke<pt&&He===ue)){if(Ke<L)do De(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==Re&&(De(X,He,X.bl_tree),Ke--),De(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(De(X,k,X.bl_tree),ge(X,Ke-3,3)):(De(X,H,X.bl_tree),ge(X,Ke-11,7));Ke=0,Re=He,ue===0?(pt=138,L=3):He===ue?(pt=6,L=3):(pt=7,L=4)}}function Pe(X){var Ae;for(Ie(X,X.dyn_ltree,X.l_desc.max_code),Ie(X,X.dyn_dtree,X.d_desc.max_code),ye(X,X.bl_desc),Ae=E-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ze(X,Ae,ke,Je){var Re;for(ge(X,Ae-257,5),ge(X,ke-1,5),ge(X,Je-4,4),Re=0;Re<Je;Re++)ge(X,X.bl_tree[j[Re]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,ke-1)}function qe(X){var Ae=4093624447,ke;for(ke=0;ke<=31;ke++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[ke*2]!==0)return c;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return g;for(ke=32;ke<p;ke++)if(X.dyn_ltree[ke*2]!==0)return g;return c}var Ye=!1;function Me(X){Ye||(q(),Ye=!0),X.l_desc=new we(X.dyn_ltree,se),X.d_desc=new we(X.dyn_dtree,ce),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,te(X)}function Ge(X,Ae,ke,Je){ge(X,(u<<1)+(Je?1:0),3),P(X,Ae,ke,!0)}function et(X){ge(X,f<<1,3),De(X,D,W),de(X)}function ut(X,Ae,ke,Je){var Re,He,ue=0;X.level>0?(X.strm.data_type===m&&(X.strm.data_type=qe(X)),ye(X,X.l_desc),ye(X,X.d_desc),ue=Pe(X),Re=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=Re&&(Re=He)):Re=He=ke+5,ke+4<=Re&&Ae!==-1?Ge(X,Ae,ke,Je):X.strategy===l||He===Re?(ge(X,(f<<1)+(Je?1:0),3),Q(X,W,J)):(ge(X,(s<<1)+(Je?1:0),3),ze(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ue+1),Q(X,X.dyn_ltree,X.dyn_dtree)),te(X),Je&&G(X)}function ct(X,Ae,ke){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=ke&255,X.last_lit++,Ae===0?X.dyn_ltree[ke*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[ke]+p+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=ut,a._tr_tally=ct,a._tr_align=et},{"../utils/common":36}],46:[function(n,i,a){"use strict";function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=o},{}],47:[function(n,i,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],48:[function(n,i,a){(function(o){"use strict";var l=n("base64-js"),c=n("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=o,a.SlowBuffer=A,a.INSPECT_MAX_BYTES=50;var m=2147483647;a.kMaxLength=m,o.TYPED_ARRAY_SUPPORT=d(),!o.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var P=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(P,I),P.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.byteOffset}});function u(P){if(P>m)throw new RangeError('The value "'+P+'" is invalid for option "size"');var I=new Uint8Array(P);return Object.setPrototypeOf(I,o.prototype),I}function o(P,I,U){if(typeof P=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(P)}return f(P,I,U)}typeof Symbol!="undefined"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192;function f(P,I,U){if(typeof P=="string")return h(P,I);if(ArrayBuffer.isView(P))return p(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(q(P,ArrayBuffer)||P&&q(P.buffer,ArrayBuffer))return _(P,I,U);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=P.valueOf&&P.valueOf();if(Q!=null&&Q!==P)return o.from(Q,I,U);var ye=w(P);if(ye)return ye;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return o.from(P[Symbol.toPrimitive]("string"),I,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}o.from=function(P,I,U){return f(P,I,U)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function s(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function v(P,I,U){return s(P),P<=0?u(P):I!==void 0?typeof U=="string"?u(P).fill(I,U):u(P).fill(I):u(P)}o.alloc=function(P,I,U){return v(P,I,U)};function x(P){return s(P),u(P<0?0:E(P)|0)}o.allocUnsafe=function(P){return x(P)},o.allocUnsafeSlow=function(P){return x(P)};function h(P,I){if((typeof I!="string"||I==="")&&(I="utf8"),!o.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var U=T(P,I)|0,Q=u(U),ye=Q.write(P,I);return ye!==U&&(Q=Q.slice(0,ye)),Q}function p(P){for(var I=P.length<0?0:E(P.length)|0,U=u(I),Q=0;Q<I;Q+=1)U[Q]=P[Q]&255;return U}function _(P,I,U){if(I<0||P.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<I+(U||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return I===void 0&&U===void 0?Q=new Uint8Array(P):U===void 0?Q=new Uint8Array(P,I):Q=new Uint8Array(P,I,U),Object.setPrototypeOf(Q,o.prototype),Q}function w(P){if(o.isBuffer(P)){var I=E(P.length)|0,U=u(I);return U.length===0||P.copy(U,0,0,I),U}if(P.length!==void 0)return typeof P.length!="number"||te(P.length)?u(0):p(P);if(P.type==="Buffer"&&Array.isArray(P.data))return p(P.data)}function E(P){if(P>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return P|0}function A(P){return+P!=P&&(P=0),o.alloc(+P)}o.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==o.prototype},o.compare=function(I,U){if(q(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),q(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),!o.isBuffer(I)||!o.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===U)return 0;for(var Q=I.length,ye=U.length,Ie=0,be=Math.min(Q,ye);Ie<be;++Ie)if(I[Ie]!==U[Ie]){Q=I[Ie],ye=U[Ie];break}return Q<ye?-1:ye<Q?1:0},o.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(I,U){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return o.alloc(0);var Q;if(U===void 0)for(U=0,Q=0;Q<I.length;++Q)U+=I[Q].length;var ye=o.allocUnsafe(U),Ie=0;for(Q=0;Q<I.length;++Q){var be=I[Q];if(q(be,Uint8Array)&&(be=o.from(be)),!o.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ye,Ie),Ie+=be.length}return ye};function T(P,I){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||q(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var U=P.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&U===0)return 0;for(var ye=!1;;)switch(I){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return De(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return ie(P).length;default:if(ye)return Q?-1:De(P).length;I=(""+I).toLowerCase(),ye=!0}}o.byteLength=T;function C(P,I,U){var Q=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,I>>>=0,U<=I))return"";for(P||(P="utf8");;)switch(P){case"hex":return $(this,I,U);case"utf8":case"utf-8":return W(this,I,U);case"ascii":return le(this,I,U);case"latin1":case"binary":return fe(this,I,U);case"base64":return z(this,I,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,I,U);default:if(Q)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),Q=!0}}o.prototype._isBuffer=!0;function R(P,I,U){var Q=P[I];P[I]=P[U],P[U]=Q}o.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<I;U+=2)R(this,U,U+1);return this},o.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<I;U+=4)R(this,U,U+3),R(this,U+1,U+2);return this},o.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<I;U+=8)R(this,U,U+7),R(this,U+1,U+6),R(this,U+2,U+5),R(this,U+3,U+4);return this},o.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?W(this,0,I):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(I){if(!o.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:o.compare(this,I)===0},o.prototype.inspect=function(){var I="",U=a.INSPECT_MAX_BYTES;return I=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(I+=" ... "),"<Buffer "+I+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(I,U,Q,ye,Ie){if(q(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),!o.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(U===void 0&&(U=0),Q===void 0&&(Q=I?I.length:0),ye===void 0&&(ye=0),Ie===void 0&&(Ie=this.length),U<0||Q>I.length||ye<0||Ie>this.length)throw new RangeError("out of range index");if(ye>=Ie&&U>=Q)return 0;if(ye>=Ie)return-1;if(U>=Q)return 1;if(U>>>=0,Q>>>=0,ye>>>=0,Ie>>>=0,this===I)return 0;for(var be=Ie-ye,Pe=Q-U,ze=Math.min(be,Pe),qe=this.slice(ye,Ie),Ye=I.slice(U,Q),Me=0;Me<ze;++Me)if(qe[Me]!==Ye[Me]){be=qe[Me],Pe=Ye[Me];break}return be<Pe?-1:Pe<be?1:0};function D(P,I,U,Q,ye){if(P.length===0)return-1;if(typeof U=="string"?(Q=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,te(U)&&(U=ye?0:P.length-1),U<0&&(U=P.length+U),U>=P.length){if(ye)return-1;U=P.length-1}else if(U<0)if(ye)U=0;else return-1;if(typeof I=="string"&&(I=o.from(I,Q)),o.isBuffer(I))return I.length===0?-1:O(P,I,U,Q,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(P,I,U):Uint8Array.prototype.lastIndexOf.call(P,I,U):O(P,[I],U,Q,ye);throw new TypeError("val must be string, number or Buffer")}function O(P,I,U,Q,ye){var Ie=1,be=P.length,Pe=I.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(P.length<2||I.length<2)return-1;Ie=2,be/=2,Pe/=2,U/=2}function ze(et,ut){return Ie===1?et[ut]:et.readUInt16BE(ut*Ie)}var qe;if(ye){var Ye=-1;for(qe=U;qe<be;qe++)if(ze(P,qe)===ze(I,Ye===-1?0:qe-Ye)){if(Ye===-1&&(Ye=qe),qe-Ye+1===Pe)return Ye*Ie}else Ye!==-1&&(qe-=qe-Ye),Ye=-1}else for(U+Pe>be&&(U=be-Pe),qe=U;qe>=0;qe--){for(var Me=!0,Ge=0;Ge<Pe;Ge++)if(ze(P,qe+Ge)!==ze(I,Ge)){Me=!1;break}if(Me)return qe}return-1}o.prototype.includes=function(I,U,Q){return this.indexOf(I,U,Q)!==-1},o.prototype.indexOf=function(I,U,Q){return D(this,I,U,Q,!0)},o.prototype.lastIndexOf=function(I,U,Q){return D(this,I,U,Q,!1)};function k(P,I,U,Q){U=Number(U)||0;var ye=P.length-U;Q?(Q=Number(Q),Q>ye&&(Q=ye)):Q=ye;var Ie=I.length;Q>Ie/2&&(Q=Ie/2);for(var be=0;be<Q;++be){var Pe=parseInt(I.substr(be*2,2),16);if(te(Pe))return be;P[U+be]=Pe}return be}function H(P,I,U,Q){return re(De(I,P.length-U),P,U,Q)}function B(P,I,U,Q){return re(pe(I),P,U,Q)}function Z(P,I,U,Q){return B(P,I,U,Q)}function V(P,I,U,Q){return re(ie(I),P,U,Q)}function j(P,I,U,Q){return re(de(I,P.length-U),P,U,Q)}o.prototype.write=function(I,U,Q,ye){if(U===void 0)ye="utf8",Q=this.length,U=0;else if(Q===void 0&&typeof U=="string")ye=U,Q=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(Q)?(Q=Q>>>0,ye===void 0&&(ye="utf8")):(ye=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-U;if((Q===void 0||Q>Ie)&&(Q=Ie),I.length>0&&(Q<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var be=!1;;)switch(ye){case"hex":return k(this,I,U,Q);case"utf8":case"utf-8":return H(this,I,U,Q);case"ascii":return B(this,I,U,Q);case"latin1":case"binary":return Z(this,I,U,Q);case"base64":return V(this,I,U,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,I,U,Q);default:if(be)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(P,I,U){return I===0&&U===P.length?l.fromByteArray(P):l.fromByteArray(P.slice(I,U))}function W(P,I,U){U=Math.min(P.length,U);for(var Q=[],ye=I;ye<U;){var Ie=P[ye],be=null,Pe=Ie>239?4:Ie>223?3:Ie>191?2:1;if(ye+Pe<=U){var ze,qe,Ye,Me;switch(Pe){case 1:Ie<128&&(be=Ie);break;case 2:ze=P[ye+1],(ze&192)==128&&(Me=(Ie&31)<<6|ze&63,Me>127&&(be=Me));break;case 3:ze=P[ye+1],qe=P[ye+2],(ze&192)==128&&(qe&192)==128&&(Me=(Ie&15)<<12|(ze&63)<<6|qe&63,Me>2047&&(Me<55296||Me>57343)&&(be=Me));break;case 4:ze=P[ye+1],qe=P[ye+2],Ye=P[ye+3],(ze&192)==128&&(qe&192)==128&&(Ye&192)==128&&(Me=(Ie&15)<<18|(ze&63)<<12|(qe&63)<<6|Ye&63,Me>65535&&Me<1114112&&(be=Me))}}be===null?(be=65533,Pe=1):be>65535&&(be-=65536,Q.push(be>>>10&1023|55296),be=56320|be&1023),Q.push(be),ye+=Pe}return oe(Q)}var J=4096;function oe(P){var I=P.length;if(I<=J)return String.fromCharCode.apply(String,P);for(var U="",Q=0;Q<I;)U+=String.fromCharCode.apply(String,P.slice(Q,Q+=J));return U}function le(P,I,U){var Q="";U=Math.min(P.length,U);for(var ye=I;ye<U;++ye)Q+=String.fromCharCode(P[ye]&127);return Q}function fe(P,I,U){var Q="";U=Math.min(P.length,U);for(var ye=I;ye<U;++ye)Q+=String.fromCharCode(P[ye]);return Q}function $(P,I,U){var Q=P.length;(!I||I<0)&&(I=0),(!U||U<0||U>Q)&&(U=Q);for(var ye="",Ie=I;Ie<U;++Ie)ye+=G[P[Ie]];return ye}function ae(P,I,U){for(var Q=P.slice(I,U),ye="",Ie=0;Ie<Q.length;Ie+=2)ye+=String.fromCharCode(Q[Ie]+Q[Ie+1]*256);return ye}o.prototype.slice=function(I,U){var Q=this.length;I=~~I,U=U===void 0?Q:~~U,I<0?(I+=Q,I<0&&(I=0)):I>Q&&(I=Q),U<0?(U+=Q,U<0&&(U=0)):U>Q&&(U=Q),U<I&&(U=I);var ye=this.subarray(I,U);return Object.setPrototypeOf(ye,o.prototype),ye};function se(P,I,U){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+I>U)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(I,U,Q){I=I>>>0,U=U>>>0,Q||se(I,U,this.length);for(var ye=this[I],Ie=1,be=0;++be<U&&(Ie*=256);)ye+=this[I+be]*Ie;return ye},o.prototype.readUIntBE=function(I,U,Q){I=I>>>0,U=U>>>0,Q||se(I,U,this.length);for(var ye=this[I+--U],Ie=1;U>0&&(Ie*=256);)ye+=this[I+--U]*Ie;return ye},o.prototype.readUInt8=function(I,U){return I=I>>>0,U||se(I,1,this.length),this[I]},o.prototype.readUInt16LE=function(I,U){return I=I>>>0,U||se(I,2,this.length),this[I]|this[I+1]<<8},o.prototype.readUInt16BE=function(I,U){return I=I>>>0,U||se(I,2,this.length),this[I]<<8|this[I+1]},o.prototype.readUInt32LE=function(I,U){return I=I>>>0,U||se(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},o.prototype.readUInt32BE=function(I,U){return I=I>>>0,U||se(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},o.prototype.readIntLE=function(I,U,Q){I=I>>>0,U=U>>>0,Q||se(I,U,this.length);for(var ye=this[I],Ie=1,be=0;++be<U&&(Ie*=256);)ye+=this[I+be]*Ie;return Ie*=128,ye>=Ie&&(ye-=Math.pow(2,8*U)),ye},o.prototype.readIntBE=function(I,U,Q){I=I>>>0,U=U>>>0,Q||se(I,U,this.length);for(var ye=U,Ie=1,be=this[I+--ye];ye>0&&(Ie*=256);)be+=this[I+--ye]*Ie;return Ie*=128,be>=Ie&&(be-=Math.pow(2,8*U)),be},o.prototype.readInt8=function(I,U){return I=I>>>0,U||se(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},o.prototype.readInt16LE=function(I,U){I=I>>>0,U||se(I,2,this.length);var Q=this[I]|this[I+1]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt16BE=function(I,U){I=I>>>0,U||se(I,2,this.length);var Q=this[I+1]|this[I]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt32LE=function(I,U){return I=I>>>0,U||se(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},o.prototype.readInt32BE=function(I,U){return I=I>>>0,U||se(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},o.prototype.readFloatLE=function(I,U){return I=I>>>0,U||se(I,4,this.length),c.read(this,I,!0,23,4)},o.prototype.readFloatBE=function(I,U){return I=I>>>0,U||se(I,4,this.length),c.read(this,I,!1,23,4)},o.prototype.readDoubleLE=function(I,U){return I=I>>>0,U||se(I,8,this.length),c.read(this,I,!0,52,8)},o.prototype.readDoubleBE=function(I,U){return I=I>>>0,U||se(I,8,this.length),c.read(this,I,!1,52,8)};function ce(P,I,U,Q,ye,Ie){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Ie)throw new RangeError('"value" argument is out of bounds');if(U+Q>P.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(I,U,Q,ye){if(I=+I,U=U>>>0,Q=Q>>>0,!ye){var Ie=Math.pow(2,8*Q)-1;ce(this,I,U,Q,Ie,0)}var be=1,Pe=0;for(this[U]=I&255;++Pe<Q&&(be*=256);)this[U+Pe]=I/be&255;return U+Q},o.prototype.writeUIntBE=function(I,U,Q,ye){if(I=+I,U=U>>>0,Q=Q>>>0,!ye){var Ie=Math.pow(2,8*Q)-1;ce(this,I,U,Q,Ie,0)}var be=Q-1,Pe=1;for(this[U+be]=I&255;--be>=0&&(Pe*=256);)this[U+be]=I/Pe&255;return U+Q},o.prototype.writeUInt8=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,1,255,0),this[U]=I&255,U+1},o.prototype.writeUInt16LE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,2,65535,0),this[U]=I&255,this[U+1]=I>>>8,U+2},o.prototype.writeUInt16BE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,2,65535,0),this[U]=I>>>8,this[U+1]=I&255,U+2},o.prototype.writeUInt32LE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,4,4294967295,0),this[U+3]=I>>>24,this[U+2]=I>>>16,this[U+1]=I>>>8,this[U]=I&255,U+4},o.prototype.writeUInt32BE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,4,4294967295,0),this[U]=I>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=I&255,U+4},o.prototype.writeIntLE=function(I,U,Q,ye){if(I=+I,U=U>>>0,!ye){var Ie=Math.pow(2,8*Q-1);ce(this,I,U,Q,Ie-1,-Ie)}var be=0,Pe=1,ze=0;for(this[U]=I&255;++be<Q&&(Pe*=256);)I<0&&ze===0&&this[U+be-1]!==0&&(ze=1),this[U+be]=(I/Pe>>0)-ze&255;return U+Q},o.prototype.writeIntBE=function(I,U,Q,ye){if(I=+I,U=U>>>0,!ye){var Ie=Math.pow(2,8*Q-1);ce(this,I,U,Q,Ie-1,-Ie)}var be=Q-1,Pe=1,ze=0;for(this[U+be]=I&255;--be>=0&&(Pe*=256);)I<0&&ze===0&&this[U+be+1]!==0&&(ze=1),this[U+be]=(I/Pe>>0)-ze&255;return U+Q},o.prototype.writeInt8=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,1,127,-128),I<0&&(I=255+I+1),this[U]=I&255,U+1},o.prototype.writeInt16LE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,2,32767,-32768),this[U]=I&255,this[U+1]=I>>>8,U+2},o.prototype.writeInt16BE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,2,32767,-32768),this[U]=I>>>8,this[U+1]=I&255,U+2},o.prototype.writeInt32LE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,4,2147483647,-2147483648),this[U]=I&255,this[U+1]=I>>>8,this[U+2]=I>>>16,this[U+3]=I>>>24,U+4},o.prototype.writeInt32BE=function(I,U,Q){return I=+I,U=U>>>0,Q||ce(this,I,U,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[U]=I>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=I&255,U+4};function he(P,I,U,Q,ye,Ie){if(U+Q>P.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function we(P,I,U,Q,ye){return I=+I,U=U>>>0,ye||he(P,I,U,4,34028234663852886e22,-34028234663852886e22),c.write(P,I,U,Q,23,4),U+4}o.prototype.writeFloatLE=function(I,U,Q){return we(this,I,U,!0,Q)},o.prototype.writeFloatBE=function(I,U,Q){return we(this,I,U,!1,Q)};function xe(P,I,U,Q,ye){return I=+I,U=U>>>0,ye||he(P,I,U,8,17976931348623157e292,-17976931348623157e292),c.write(P,I,U,Q,52,8),U+8}o.prototype.writeDoubleLE=function(I,U,Q){return xe(this,I,U,!0,Q)},o.prototype.writeDoubleBE=function(I,U,Q){return xe(this,I,U,!1,Q)},o.prototype.copy=function(I,U,Q,ye){if(!o.isBuffer(I))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!ye&&ye!==0&&(ye=this.length),U>=I.length&&(U=I.length),U||(U=0),ye>0&&ye<Q&&(ye=Q),ye===Q||I.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-U<ye-Q&&(ye=I.length-U+Q);var Ie=ye-Q;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,Q,ye);else if(this===I&&Q<U&&U<ye)for(var be=Ie-1;be>=0;--be)I[be+U]=this[be+Q];else Uint8Array.prototype.set.call(I,this.subarray(Q,ye),U);return Ie},o.prototype.fill=function(I,U,Q,ye){if(typeof I=="string"){if(typeof U=="string"?(ye=U,U=0,Q=this.length):typeof Q=="string"&&(ye=Q,Q=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!o.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){var Ie=I.charCodeAt(0);(ye==="utf8"&&Ie<128||ye==="latin1")&&(I=Ie)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(U<0||this.length<U||this.length<Q)throw new RangeError("Out of range index");if(Q<=U)return this;U=U>>>0,Q=Q===void 0?this.length:Q>>>0,I||(I=0);var be;if(typeof I=="number")for(be=U;be<Q;++be)this[be]=I;else{var Pe=o.isBuffer(I)?I:o.from(I,ye),ze=Pe.length;if(ze===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(be=0;be<Q-U;++be)this[be+U]=Pe[be%ze]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ge(P){if(P=P.split("=")[0],P=P.trim().replace(Oe,""),P.length<2)return"";for(;P.length%4!=0;)P=P+"=";return P}function De(P,I){I=I||1/0;for(var U,Q=P.length,ye=null,Ie=[],be=0;be<Q;++be){if(U=P.charCodeAt(be),U>55295&&U<57344){if(!ye){if(U>56319){(I-=3)>-1&&Ie.push(239,191,189);continue}else if(be+1===Q){(I-=3)>-1&&Ie.push(239,191,189);continue}ye=U;continue}if(U<56320){(I-=3)>-1&&Ie.push(239,191,189),ye=U;continue}U=(ye-55296<<10|U-56320)+65536}else ye&&(I-=3)>-1&&Ie.push(239,191,189);if(ye=null,U<128){if((I-=1)<0)break;Ie.push(U)}else if(U<2048){if((I-=2)<0)break;Ie.push(U>>6|192,U&63|128)}else if(U<65536){if((I-=3)<0)break;Ie.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((I-=4)<0)break;Ie.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return Ie}function pe(P){for(var I=[],U=0;U<P.length;++U)I.push(P.charCodeAt(U)&255);return I}function de(P,I){for(var U,Q,ye,Ie=[],be=0;be<P.length&&!((I-=2)<0);++be)U=P.charCodeAt(be),Q=U>>8,ye=U%256,Ie.push(ye),Ie.push(Q);return Ie}function ie(P){return l.toByteArray(ge(P))}function re(P,I,U,Q){for(var ye=0;ye<Q&&!(ye+U>=I.length||ye>=P.length);++ye)I[ye+U]=P[ye];return ye}function q(P,I){return P instanceof I||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===I.name}function te(P){return P!==P}var G=function(){for(var P="0123456789abcdef",I=new Array(256),U=0;U<16;++U)for(var Q=U*16,ye=0;ye<16;++ye)I[Q+ye]=P[U]+P[ye];return I}()}).call(this,n("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(n,i,a){var o=n("buffer").Buffer;i.exports=function(l,c){if(!!o.isBuffer(l)&&!!o.isBuffer(c)){if(typeof l.equals=="function")return l.equals(c);if(l.length!==c.length)return!1;for(var g=0;g<l.length;g++)if(l[g]!==c[g])return!1;return!0}}},{buffer:48}],50:[function(n,i,a){i.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},{}],51:[function(n,i,a){(function(o){function l(A){return Array.isArray?Array.isArray(A):E(A)==="[object Array]"}a.isArray=l;function c(A){return typeof A=="boolean"}a.isBoolean=c;function g(A){return A===null}a.isNull=g;function m(A){return A==null}a.isNullOrUndefined=m;function d(A){return typeof A=="number"}a.isNumber=d;function u(A){return typeof A=="string"}a.isString=u;function f(A){return typeof A=="symbol"}a.isSymbol=f;function s(A){return A===void 0}a.isUndefined=s;function v(A){return E(A)==="[object RegExp]"}a.isRegExp=v;function x(A){return typeof A=="object"&&A!==null}a.isObject=x;function h(A){return E(A)==="[object Date]"}a.isDate=h;function p(A){return E(A)==="[object Error]"||A instanceof Error}a.isError=p;function _(A){return typeof A=="function"}a.isFunction=_;function w(A){return A===null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||typeof A=="symbol"||typeof A=="undefined"}a.isPrimitive=w,a.isBuffer=o.isBuffer;function E(A){return Object.prototype.toString.call(A)}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(n,i,a){var o=Object.create||O,l=Object.keys||k,c=Function.prototype.bind||H;function g(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=g,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._maxListeners=void 0;var m=10,d;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),d=u.x===0}catch{d=!1}d?Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(B){if(typeof B!="number"||B<0||B!==B)throw new TypeError('"defaultMaxListeners" must be a positive number');m=B}}):g.defaultMaxListeners=m,g.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||isNaN(Z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Z,this};function f(B){return B._maxListeners===void 0?g.defaultMaxListeners:B._maxListeners}g.prototype.getMaxListeners=function(){return f(this)};function s(B,Z,V){if(Z)B.call(V);else for(var j=B.length,z=R(B,j),W=0;W<j;++W)z[W].call(V)}function v(B,Z,V,j){if(Z)B.call(V,j);else for(var z=B.length,W=R(B,z),J=0;J<z;++J)W[J].call(V,j)}function x(B,Z,V,j,z){if(Z)B.call(V,j,z);else for(var W=B.length,J=R(B,W),oe=0;oe<W;++oe)J[oe].call(V,j,z)}function h(B,Z,V,j,z,W){if(Z)B.call(V,j,z,W);else for(var J=B.length,oe=R(B,J),le=0;le<J;++le)oe[le].call(V,j,z,W)}function p(B,Z,V,j){if(Z)B.apply(V,j);else for(var z=B.length,W=R(B,z),J=0;J<z;++J)W[J].apply(V,j)}g.prototype.emit=function(Z){var V,j,z,W,J,oe,le=Z==="error";if(oe=this._events,oe)le=le&&oe.error==null;else if(!le)return!1;if(le){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var fe=new Error('Unhandled "error" event. ('+V+")");throw fe.context=V,fe;return!1}if(j=oe[Z],!j)return!1;var $=typeof j=="function";switch(z=arguments.length,z){case 1:s(j,$,this);break;case 2:v(j,$,this,arguments[1]);break;case 3:x(j,$,this,arguments[1],arguments[2]);break;case 4:h(j,$,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(z-1),J=1;J<z;J++)W[J-1]=arguments[J];p(j,$,this,W)}return!0};function _(B,Z,V,j){var z,W,J;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(W=B._events,W?(W.newListener&&(B.emit("newListener",Z,V.listener?V.listener:V),W=B._events),J=W[Z]):(W=B._events=o(null),B._eventsCount=0),!J)J=W[Z]=V,++B._eventsCount;else if(typeof J=="function"?J=W[Z]=j?[V,J]:[J,V]:j?J.unshift(V):J.push(V),!J.warned&&(z=f(B),z&&z>0&&J.length>z)){J.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+J.length+' "'+String(Z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');oe.name="MaxListenersExceededWarning",oe.emitter=B,oe.type=Z,oe.count=J.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",oe.name,oe.message)}return B}g.prototype.addListener=function(Z,V){return _(this,Z,V,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(Z,V){return _(this,Z,V,!0)};function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var B=new Array(arguments.length),Z=0;Z<B.length;++Z)B[Z]=arguments[Z];this.listener.apply(this.target,B)}}function E(B,Z,V){var j={fired:!1,wrapFn:void 0,target:B,type:Z,listener:V},z=c.call(w,j);return z.listener=V,j.wrapFn=z,z}g.prototype.once=function(Z,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(Z,E(this,Z,V)),this},g.prototype.prependOnceListener=function(Z,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Z,E(this,Z,V)),this},g.prototype.removeListener=function(Z,V){var j,z,W,J,oe;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(z=this._events,!z)return this;if(j=z[Z],!j)return this;if(j===V||j.listener===V)--this._eventsCount==0?this._events=o(null):(delete z[Z],z.removeListener&&this.emit("removeListener",Z,j.listener||V));else if(typeof j!="function"){for(W=-1,J=j.length-1;J>=0;J--)if(j[J]===V||j[J].listener===V){oe=j[J].listener,W=J;break}if(W<0)return this;W===0?j.shift():C(j,W),j.length===1&&(z[Z]=j[0]),z.removeListener&&this.emit("removeListener",Z,oe||V)}return this},g.prototype.removeAllListeners=function(Z){var V,j,z;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):j[Z]&&(--this._eventsCount==0?this._events=o(null):delete j[Z]),this;if(arguments.length===0){var W=l(j),J;for(z=0;z<W.length;++z)J=W[z],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(V=j[Z],typeof V=="function")this.removeListener(Z,V);else if(V)for(z=V.length-1;z>=0;z--)this.removeListener(Z,V[z]);return this};function A(B,Z,V){var j=B._events;if(!j)return[];var z=j[Z];return z?typeof z=="function"?V?[z.listener||z]:[z]:V?D(z):R(z,z.length):[]}g.prototype.listeners=function(Z){return A(this,Z,!0)},g.prototype.rawListeners=function(Z){return A(this,Z,!1)},g.listenerCount=function(B,Z){return typeof B.listenerCount=="function"?B.listenerCount(Z):T.call(B,Z)},g.prototype.listenerCount=T;function T(B){var Z=this._events;if(Z){var V=Z[B];if(typeof V=="function")return 1;if(V)return V.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function C(B,Z){for(var V=Z,j=V+1,z=B.length;j<z;V+=1,j+=1)B[V]=B[j];B.pop()}function R(B,Z){for(var V=new Array(Z),j=0;j<Z;++j)V[j]=B[j];return V}function D(B){for(var Z=new Array(B.length),V=0;V<Z.length;++V)Z[V]=B[V].listener||B[V];return Z}function O(B){var Z=function(){};return Z.prototype=B,new Z}function k(B){var Z=[];for(var V in B)Object.prototype.hasOwnProperty.call(B,V)&&Z.push(V);return V}function H(B){var Z=this;return function(){return Z.apply(B,arguments)}}},{}],53:[function(n,i,a){var o=n("./lib/parser");function l(){return(0,eval)("this")}i.exports={create:function(c,g){if(g=g||l(),c instanceof g.ArrayBuffer){var m=n("./lib/dom-bufferstream");return new o(new m(c,0,c.byteLength,!0,g))}else{var d=n("./lib/bufferstream");return new o(new d(c,0,c.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(n,i,a){function o(l,c,g,m){this.buffer=l,this.offset=c||0,g=typeof g=="number"?g:l.length,this.endPosition=this.offset+g,this.setBigEndian(m)}o.prototype={setBigEndian:function(l){this.bigEndian=!!l},nextUInt8:function(){var l=this.buffer.readUInt8(this.offset);return this.offset+=1,l},nextInt8:function(){var l=this.buffer.readInt8(this.offset);return this.offset+=1,l},nextUInt16:function(){var l=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,l},nextUInt32:function(){var l=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,l},nextInt16:function(){var l=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,l},nextInt32:function(){var l=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,l},nextFloat:function(){var l=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,l},nextDouble:function(){var l=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,l},nextBuffer:function(l){var c=this.buffer.slice(this.offset,this.offset+l);return this.offset+=l,c},remainingLength:function(){return this.endPosition-this.offset},nextString:function(l){var c=this.buffer.toString("utf8",this.offset,this.offset+l);return this.offset+=l,c},mark:function(){var l=this;return{openWithOffset:function(c){return c=(c||0)+this.offset,new o(l.buffer,c,l.endPosition-c,l.bigEndian)},offset:this.offset}},offsetFrom:function(l){return this.offset-l.offset},skip:function(l){this.offset+=l},branch:function(l,c){return c=typeof c=="number"?c:this.endPosition-(this.offset+l),new o(this.buffer,this.offset+l,c,this.bigEndian)}},i.exports=o},{}],55:[function(n,i,a){function o(f){return parseInt(f,10)}var l=3600,c=60;function g(f,s){f=f.map(o),s=s.map(o);var v=f[0],x=f[1]-1,h=f[2],p=s[0],_=s[1],w=s[2],E=Date.UTC(v,x,h,p,_,w,0),A=E/1e3;return A}function m(f){var s=f.substr(0,10).split("-"),v=f.substr(11,8).split(":"),x=f.substr(19,6),h=x.split(":").map(o),p=h[0]*l+h[1]*c,_=g(s,v);if(_-=p,typeof _=="number"&&!isNaN(_))return _}function d(f){var s=f.split(" "),v=s[0].split(":"),x=s[1].split(":"),h=g(v,x);if(typeof h=="number"&&!isNaN(h))return h}function u(f){var s=f.length===19&&f.charAt(4)===":",v=f.length===25&&f.charAt(10)==="T",x;if(v)return m(f);if(s)return d(f)}i.exports={parseDateWithSpecFormat:d,parseDateWithTimezoneFormat:m,parseExifDate:u}},{}],56:[function(n,i,a){function o(l,c,g,m,d,u){this.global=d,c=c||0,g=g||l.byteLength-c,this.arrayBuffer=l.slice(c,c+g),this.view=new d.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(m),this.offset=0,this.parentOffset=(u||0)+c}o.prototype={setBigEndian:function(l){this.littleEndian=!l},nextUInt8:function(){var l=this.view.getUint8(this.offset);return this.offset+=1,l},nextInt8:function(){var l=this.view.getInt8(this.offset);return this.offset+=1,l},nextUInt16:function(){var l=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,l},nextUInt32:function(){var l=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,l},nextInt16:function(){var l=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,l},nextInt32:function(){var l=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,l},nextFloat:function(){var l=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,l},nextDouble:function(){var l=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,l},nextBuffer:function(l){var c=this.arrayBuffer.slice(this.offset,this.offset+l);return this.offset+=l,c},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(l){var c=this.arrayBuffer.slice(this.offset,this.offset+l);return c=String.fromCharCode.apply(null,new this.global.Uint8Array(c)),this.offset+=l,c},mark:function(){var l=this;return{openWithOffset:function(c){return c=(c||0)+this.offset,new o(l.arrayBuffer,c,l.arrayBuffer.byteLength-c,!l.littleEndian,l.global,l.parentOffset)},offset:this.offset,getParentOffset:function(){return l.parentOffset}}},offsetFrom:function(l){return this.parentOffset+this.offset-(l.offset+l.getParentOffset())},skip:function(l){this.offset+=l},branch:function(l,c){return c=typeof c=="number"?c:this.arrayBuffer.byteLength-(this.offset+l),new o(this.arrayBuffer,this.offset+l,c,!this.littleEndian,this.global,this.parentOffset)}},i.exports=o},{}],57:[function(n,i,a){i.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(n,i,a){function o(d,u){switch(d){case 1:return u.nextUInt8();case 3:return u.nextUInt16();case 4:return u.nextUInt32();case 5:return[u.nextUInt32(),u.nextUInt32()];case 6:return u.nextInt8();case 8:return u.nextUInt16();case 9:return u.nextUInt32();case 10:return[u.nextInt32(),u.nextInt32()];case 11:return u.nextFloat();case 12:return u.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function l(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function c(d,u){var f=u.nextUInt16(),s=u.nextUInt16(),v=l(s),x=u.nextUInt32(),h=v*x,p,_,w;if(h>4&&(u=d.openWithOffset(u.nextUInt32())),s===2){p=u.nextString(x);var E=p.indexOf("\0");E!==-1&&(p=p.substr(0,E))}else if(s===7)p=u.nextBuffer(x);else if(s!==0)for(p=[],w=0;w<x;++w)p.push(o(s,u));return h<4&&u.skip(4-h),[f,p,s]}function g(d,u,f){var s=u.nextUInt16(),v,x;for(x=0;x<s;++x)v=c(d,u),f(v[0],v[1],v[2])}function m(d){var u=d.nextString(6);if(u!=="Exif\0\0")throw new Error("Invalid EXIF header");var f=d.mark(),s=d.nextUInt16();if(s===18761)d.setBigEndian(!1);else if(s===19789)d.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return f}i.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,u){var f;try{f=m(d)}catch{return!1}var s,v,x,h=f.openWithOffset(d.nextUInt32()),p=this.IFD0;g(f,h,function(R,D,O){switch(R){case 34853:v=D[0];break;case 34665:s=D[0];break;default:u(p,R,D,O);break}});var _=h.nextUInt32();if(_!==0){var w=f.openWithOffset(_);g(f,w,u.bind(null,this.IFD1))}if(v){var E=f.openWithOffset(v);g(f,E,u.bind(null,this.GPSIFD))}if(s){var A=f.openWithOffset(s),T=this.InteropIFD;g(f,A,function(R,D,O){R===40965?x=D[0]:u(T,R,D,O)})}if(x){var C=f.openWithOffset(x);g(f,C,u.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(n,i,a){i.exports={parseSections:function(o,l){var c,g;for(o.setBigEndian(!0);o.remainingLength()>0&&g!==218;){if(o.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=o.nextUInt8(),g>=208&&g<=217||g===218?c=0:c=o.nextUInt16()-2,l(g,o.branch(0,c)),o.skip(c)}},getSizeFromSOFSection:function(o){return o.skip(1),{height:o.nextUInt16(),width:o.nextUInt16()}},getSectionName:function(o){var l,c;switch(o){case 216:l="SOI";break;case 196:l="DHT";break;case 219:l="DQT";break;case 221:l="DRI";break;case 218:l="SOS";break;case 254:l="COM";break;case 217:l="EOI";break;default:o>=224&&o<=239?(l="APP",c=o-224):o>=192&&o<=207&&o!==196&&o!==200&&o!==204?(l="SOF",c=o-192):o>=208&&o<=215&&(l="RST",c=o-208);break}var g={name:l};return typeof c=="number"&&(g.index=c),g}}},{}],60:[function(n,i,a){var o=n("./jpeg"),l=n("./exif"),c=n("./simplify");function g(d,u,f,s,v,x,h){this.startMarker=d,this.tags=u,this.imageSize=f,this.thumbnailOffset=s,this.thumbnailLength=v,this.thumbnailType=x,this.app1Offset=h}g.prototype={hasThumbnail:function(d){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof d!="string"?!0:d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d=this._getThumbnailStream(),u;return o.parseSections(d,function(f,s){o.getSectionName(f).name==="SOF"&&(u=o.getSizeFromSOFSection(s))}),u}};function m(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}m.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d=this.stream.mark(),u=d.openWithOffset(0),f=this.flags,s,v,x,h,p,_,w,E,A;return f.resolveTagNames&&(w=n("./exif-tags")),f.resolveTagNames?(s={},E=function(T){return s[T.name]},A=function(T,C){s[T.name]=C}):(s=[],E=function(T){var C;for(C=0;C<s.length;++C)if(s[C].type===T.type&&s[C].section===T.section)return s.value},A=function(T,C){var R;for(R=0;R<s.length;++R)if(s[R].type===T.type&&s[R].section===T.section){s.value=C;return}}),o.parseSections(u,function(T,C){var R,D=C.offsetFrom(d);T===225?(R=l.parseTags(C,function(O,k,H,B){if(!(!f.readBinaryTags&&B===7)){if(k===513){if(x=H[0],f.hidePointers)return}else if(k===514){if(h=H[0],f.hidePointers)return}else if(k===259&&(p=H[0],f.hidePointers))return;if(!!f.returnTags)if(f.simplifyValues&&(H=c.simplifyValue(H,B)),f.resolveTagNames){var Z=O===l.GPSIFD?w.gps:w.exif,V=Z[k];V||(V=w.exif[k]),s.hasOwnProperty(V)||(s[V]=H)}else s.push({section:O,type:k,value:H})}}),R&&(_=D)):f.imageSize&&o.getSectionName(T).name==="SOF"&&(v=o.getSizeFromSOFSection(C))}),f.simplifyValues&&(c.castDegreeValues(E,A),c.castDateValues(E,A)),new g(d,s,v,x,h,p,_)}},i.exports=m},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(n,i,a){var o=n("./exif"),l=n("./date"),c=[{section:o.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:o.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],g=[{section:o.SubIFD,type:306,name:"ModifyDate"},{section:o.SubIFD,type:36867,name:"DateTimeOriginal"},{section:o.SubIFD,type:36868,name:"CreateDate"},{section:o.SubIFD,type:306,name:"ModifyDate"}];i.exports={castDegreeValues:function(m,d){c.forEach(function(u){var f=m(u);if(f){var s=m({section:u.section,type:u.refType,name:u.refName}),v=s===u.posVal?1:-1,x=(f[0]+f[1]/60+f[2]/3600)*v;d(u,x)}})},castDateValues:function(m,d){g.forEach(function(u){var f=m(u);if(f){var s=l.parseExifDate(f);typeof s!="undefined"&&d(u,s)}})},simplifyValue:function(m,d){return Array.isArray(m)&&(m=m.map(function(u){return d===10||d===5?u[0]/u[1]:u}),m.length===1&&(m=m[0])),m}}},{"./date":55,"./exif":58}],62:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault"),l=o(n("@babel/runtime/helpers/toConsumableArray")),c=function(f){return(0,l.default)(f).map(function(s){return s.charCodeAt(0)})},g=c("META-INF/mozilla.rsa"),m=c("[Content_Types].xml"),d=c("_rels/.rels");i.exports=function(u){var f=u instanceof Uint8Array?u:new Uint8Array(u);if(!(f&&f.length>1))return null;var s=function(O,k){k=Object.assign({offset:0},k);for(var H=0;H<O.length;H++)if(k.mask){if(O[H]!==(k.mask[H]&f[H+k.offset]))return!1}else if(O[H]!==f[H+k.offset])return!1;return!0},v=function(O,k){return s(c(O),k)};if(s([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(s([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(s([71,73,70]))return{ext:"gif",mime:"image/gif"};if(s([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(s([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((s([73,73,42,0])||s([77,77,0,42]))&&s([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(s([73,73,42,0])||s([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(s([66,77]))return{ext:"bmp",mime:"image/bmp"};if(s([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(s([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(s([80,75,3,4])){if(s([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(s(g,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(v("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(v("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(v("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var x=function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return O.findIndex(function(H,B,Z){return B>=k&&Z[B]===80&&Z[B+1]===75&&Z[B+2]===3&&Z[B+3]===4})},h=0,p=!1,_=null;do{var w=h+30;if(p||(p=s(m,{offset:w})||s(d,{offset:w})),_||(v("word/",{offset:w})?_={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:v("ppt/",{offset:w})?_={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:v("xl/",{offset:w})&&(_={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),p&&_)return _;h=x(f,w)}while(h>=0);if(_)return _}if(s([80,75])&&(f[2]===3||f[2]===5||f[2]===7)&&(f[3]===4||f[3]===6||f[3]===8))return{ext:"zip",mime:"application/zip"};if(s([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(s([82,97,114,33,26,7])&&(f[6]===0||f[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(s([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(s([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(s([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(s([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(s([51,103,112,53])||s([0,0,0])&&s([102,116,121,112],{offset:4})&&(s([109,112,52,49],{offset:8})||s([109,112,52,50],{offset:8})||s([105,115,111,109],{offset:8})||s([105,115,111,50],{offset:8})||s([109,109,112,52],{offset:8})||s([77,52,86],{offset:8})||s([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(s([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(s([26,69,223,163])){var E=f.subarray(4,4+4096),A=E.findIndex(function(D,O,k){return k[O]===66&&k[O+1]===130});if(A!==-1){var T=A+3,C=function(O){return(0,l.default)(O).every(function(k,H){return E[T+H]===k.charCodeAt(0)})};if(C("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(C("webm"))return{ext:"webm",mime:"video/webm"}}}if(s([0,0,0,20,102,116,121,112,113,116,32,32])||s([102,114,101,101],{offset:4})||s([102,116,121,112,113,116,32,32],{offset:4})||s([109,100,97,116],{offset:4})||s([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(s([82,73,70,70])){if(s([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(s([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(s([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(s([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(s([0,0,1,186])||s([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(s([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var R=0;R<2&&R<f.length-16;R++){if(s([73,68,51],{offset:R})||s([255,226],{offset:R,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(s([255,228],{offset:R,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(s([255,248],{offset:R,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(s([255,240],{offset:R,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(s([102,116,121,112,77,52,65],{offset:4})||s([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(s([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(s([79,103,103,83]))return s([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:s([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:s([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:s([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:s([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(s([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(s([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(s([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(s([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(s([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(s([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((f[0]===67||f[0]===70)&&s([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(s([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(s([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(s([119,79,70,70])&&(s([0,1,0,0],{offset:4})||s([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(s([119,79,70,50])&&(s([0,1,0,0],{offset:4})||s([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(s([76,80],{offset:34})&&(s([0,0,1],{offset:8})||s([1,0,2],{offset:8})||s([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(s([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(s([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(s([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(s([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(s([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(s([37,33]))return{ext:"ps",mime:"application/postscript"};if(s([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(s([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(s([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(s([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(s([77,83,67,70])||s([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(s([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(s([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(s([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(s([31,160])||s([31,157]))return{ext:"Z",mime:"application/x-compress"};if(s([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(s([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(s([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(s([71],{offset:4})&&(s([71],{offset:192})||s([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(s([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(s([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(s([0,0,0,12,106,80,32,32,13,10,135,10])){if(s([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(s([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(s([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(s([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(s([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(v("<?xml "))return{ext:"xml",mime:"application/xml"};if(s([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(s([102,116,121,112],{offset:4})){if(s([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(s([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(s([104,101,105,99],{offset:8})||s([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(s([104,101,118,99],{offset:8})||s([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return s([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(n,i,a){"use strict";var o=n("is-callable"),l=Object.prototype.toString,c=Object.prototype.hasOwnProperty,g=function(s,v,x){for(var h=0,p=s.length;h<p;h++)c.call(s,h)&&(x==null?v(s[h],h,s):v.call(x,s[h],h,s))},m=function(s,v,x){for(var h=0,p=s.length;h<p;h++)x==null?v(s.charAt(h),h,s):v.call(x,s.charAt(h),h,s)},d=function(s,v,x){for(var h in s)c.call(s,h)&&(x==null?v(s[h],h,s):v.call(x,s[h],h,s))},u=function(s,v,x){if(!o(v))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=x),l.call(s)==="[object Array]"?g(s,v,h):typeof s=="string"?m(s,v,h):d(s,v,h)};i.exports=u},{"is-callable":77}],64:[function(n,i,a){"use strict";function o(m,d,u,f){var s=0,f=f===void 0?{}:f,v=f.loop===void 0?null:f.loop,x=f.palette===void 0?null:f.palette;if(d<=0||u<=0||d>65535||u>65535)throw new Error("Width/Height invalid.");function h(R){var D=R.length;if(D<2||D>256||D&D-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return D}m[s++]=71,m[s++]=73,m[s++]=70,m[s++]=56,m[s++]=57,m[s++]=97;var p=0,_=0;if(x!==null){for(var w=h(x);w>>=1;)++p;if(w=1<<p,--p,f.background!==void 0){if(_=f.background,_>=w)throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(m[s++]=d&255,m[s++]=d>>8&255,m[s++]=u&255,m[s++]=u>>8&255,m[s++]=(x!==null?128:0)|p,m[s++]=_,m[s++]=0,x!==null)for(var E=0,A=x.length;E<A;++E){var T=x[E];m[s++]=T>>16&255,m[s++]=T>>8&255,m[s++]=T&255}if(v!==null){if(v<0||v>65535)throw new Error("Loop count invalid.");m[s++]=33,m[s++]=255,m[s++]=11,m[s++]=78,m[s++]=69,m[s++]=84,m[s++]=83,m[s++]=67,m[s++]=65,m[s++]=80,m[s++]=69,m[s++]=50,m[s++]=46,m[s++]=48,m[s++]=3,m[s++]=1,m[s++]=v&255,m[s++]=v>>8&255,m[s++]=0}var C=!1;this.addFrame=function(R,D,O,k,H,B){if(C===!0&&(--s,C=!1),B=B===void 0?{}:B,R<0||D<0||R>65535||D>65535)throw new Error("x/y invalid.");if(O<=0||k<=0||O>65535||k>65535)throw new Error("Width/Height invalid.");if(H.length<O*k)throw new Error("Not enough pixels for the frame size.");var Z=!0,V=B.palette;if(V==null&&(Z=!1,V=x),V==null)throw new Error("Must supply either a local or global palette.");for(var j=h(V),z=0;j>>=1;)++z;j=1<<z;var W=B.delay===void 0?0:B.delay,J=B.disposal===void 0?0:B.disposal;if(J<0||J>3)throw new Error("Disposal out of range.");var oe=!1,le=0;if(B.transparent!==void 0&&B.transparent!==null&&(oe=!0,le=B.transparent,le<0||le>=j))throw new Error("Transparent color index.");if((J!==0||oe||W!==0)&&(m[s++]=33,m[s++]=249,m[s++]=4,m[s++]=J<<2|(oe===!0?1:0),m[s++]=W&255,m[s++]=W>>8&255,m[s++]=le,m[s++]=0),m[s++]=44,m[s++]=R&255,m[s++]=R>>8&255,m[s++]=D&255,m[s++]=D>>8&255,m[s++]=O&255,m[s++]=O>>8&255,m[s++]=k&255,m[s++]=k>>8&255,m[s++]=Z===!0?128|z-1:0,Z===!0)for(var fe=0,$=V.length;fe<$;++fe){var ae=V[fe];m[s++]=ae>>16&255,m[s++]=ae>>8&255,m[s++]=ae&255}return s=l(m,s,z<2?2:z,H),s},this.end=function(){return C===!1&&(m[s++]=59,C=!0),s},this.getOutputBuffer=function(){return m},this.setOutputBuffer=function(R){m=R},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(R){s=R}}function l(m,d,u,f){m[d++]=u;var s=d++,v=1<<u,x=v-1,h=v+1,p=h+1,_=u+1,w=0,E=0;function A(Z){for(;w>=Z;)m[d++]=E&255,E>>=8,w-=8,d===s+256&&(m[s]=255,s=d++)}function T(Z){E|=Z<<w,w+=_,A(8)}var C=f[0]&x,R={};T(v);for(var D=1,O=f.length;D<O;++D){var k=f[D]&x,H=C<<8|k,B=R[H];if(B===void 0){for(E|=C<<w,w+=_;w>=8;)m[d++]=E&255,E>>=8,w-=8,d===s+256&&(m[s]=255,s=d++);p===4096?(T(v),p=h+1,_=u+1,R={}):(p>=1<<_&&++_,R[H]=p++),C=k}else C=B}return T(C),T(h),A(1),s+1===d?m[s]=0:(m[s]=d-s-1,m[d++]=0),d}function c(m){var d=0;if(m[d++]!==71||m[d++]!==73||m[d++]!==70||m[d++]!==56||(m[d++]+1&253)!=56||m[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=m[d++]|m[d++]<<8,f=m[d++]|m[d++]<<8,s=m[d++],v=s>>7,x=s&7,h=1<<x+1,p=m[d++];m[d++];var _=null,w=null;v&&(_=d,w=h,d+=h*3);var E=!0,A=[],T=0,C=null,R=0,D=null;for(this.width=u,this.height=f;E&&d<m.length;)switch(m[d++]){case 33:switch(m[d++]){case 255:if(m[d]!==11||m[d+1]==78&&m[d+2]==69&&m[d+3]==84&&m[d+4]==83&&m[d+5]==67&&m[d+6]==65&&m[d+7]==80&&m[d+8]==69&&m[d+9]==50&&m[d+10]==46&&m[d+11]==48&&m[d+12]==3&&m[d+13]==1&&m[d+16]==0)d+=14,D=m[d++]|m[d++]<<8,d++;else for(d+=12;;){var O=m[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}break;case 249:if(m[d++]!==4||m[d+4]!==0)throw new Error("Invalid graphics extension block.");var k=m[d++];T=m[d++]|m[d++]<<8,C=m[d++],(k&1)==0&&(C=null),R=k>>2&7,d++;break;case 254:for(;;){var O=m[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}break;default:throw new Error("Unknown graphic control label: 0x"+m[d-1].toString(16))}break;case 44:var H=m[d++]|m[d++]<<8,B=m[d++]|m[d++]<<8,Z=m[d++]|m[d++]<<8,V=m[d++]|m[d++]<<8,j=m[d++],z=j>>7,W=j>>6&1,J=j&7,oe=1<<J+1,le=_,fe=w,$=!1;if(z){var $=!0;le=d,fe=oe,d+=oe*3}var ae=d;for(d++;;){var O=m[d++];if(!(O>=0))throw Error("Invalid block size");if(O===0)break;d+=O}A.push({x:H,y:B,width:Z,height:V,has_local_palette:$,palette_offset:le,palette_size:fe,data_offset:ae,data_length:d-ae,transparent_index:C,interlaced:!!W,delay:T,disposal:R});break;case 59:E=!1;break;default:throw new Error("Unknown gif block: 0x"+m[d-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return D},this.frameInfo=function(se){if(se<0||se>=A.length)throw new Error("Frame index out of range.");return A[se]},this.decodeAndBlitFrameBGRA=function(se,ce){var he=this.frameInfo(se),we=he.width*he.height,xe=new Uint8Array(we);g(m,he.data_offset,xe,we);var Oe=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var De=he.width,pe=u-De,de=De,ie=(he.y*u+he.x)*4,re=((he.y+he.height)*u+he.x)*4,q=ie,te=pe*4;he.interlaced===!0&&(te+=u*4*7);for(var G=8,P=0,I=xe.length;P<I;++P){var U=xe[P];if(de===0&&(q+=te,de=De,q>=re&&(te=pe*4+u*4*(G-1),q=ie+(De+pe)*(G<<1),G>>=1)),U===ge)q+=4;else{var Q=m[Oe+U*3],ye=m[Oe+U*3+1],Ie=m[Oe+U*3+2];ce[q++]=Ie,ce[q++]=ye,ce[q++]=Q,ce[q++]=255}--de}},this.decodeAndBlitFrameRGBA=function(se,ce){var he=this.frameInfo(se),we=he.width*he.height,xe=new Uint8Array(we);g(m,he.data_offset,xe,we);var Oe=he.palette_offset,ge=he.transparent_index;ge===null&&(ge=256);var De=he.width,pe=u-De,de=De,ie=(he.y*u+he.x)*4,re=((he.y+he.height)*u+he.x)*4,q=ie,te=pe*4;he.interlaced===!0&&(te+=u*4*7);for(var G=8,P=0,I=xe.length;P<I;++P){var U=xe[P];if(de===0&&(q+=te,de=De,q>=re&&(te=pe*4+u*4*(G-1),q=ie+(De+pe)*(G<<1),G>>=1)),U===ge)q+=4;else{var Q=m[Oe+U*3],ye=m[Oe+U*3+1],Ie=m[Oe+U*3+2];ce[q++]=Q,ce[q++]=ye,ce[q++]=Ie,ce[q++]=255}--de}}}function g(m,d,u,f){for(var s=m[d++],v=1<<s,x=v+1,h=x+1,p=s+1,_=(1<<p)-1,w=0,E=0,A=0,T=m[d++],C=new Int32Array(4096),R=null;;){for(;w<16&&T!==0;)E|=m[d++]<<w,w+=8,T===1?T=m[d++]:--T;if(w<p)break;var D=E&_;if(E>>=p,w-=p,D===v){h=x+1,p=s+1,_=(1<<p)-1,R=null;continue}else if(D===x)break;for(var O=D<h?D:R,k=0,H=O;H>v;)H=C[H]>>8,++k;var B=H,Z=A+k+(O!==D?1:0);if(Z>f){console.log("Warning, gif stream longer than expected.");return}u[A++]=B,A+=k;var V=A;for(O!==D&&(u[A++]=B),H=O;k--;)H=C[H],u[--V]=H&255,H>>=8;R!==null&&h<4096&&(C[h++]=R<<8|B,h>=_+1&&p<12&&(++p,_=_<<1|1)),R=D}return A!==f&&console.log("Warning, gif stream shorter than expected."),u}try{a.GifWriter=o,a.GifReader=c}catch{}},{}],65:[function(n,i,a){(function(o){"use strict";class l{constructor(...g){if(g.length===0)throw new Error("constructor requires parameters");let m=g[0];if(m!==null&&typeof m=="object")if(m instanceof l){let d=m.bitmap;this.bitmap={width:d.width,height:d.height,data:new o(d.width*d.height*4)},d.data.copy(this.bitmap.data)}else if(m.width&&m.height&&m.data)this.bitmap=m;else throw new Error("unrecognized constructor parameters");else if(typeof m=="number"&&typeof g[1]=="number"){let d=m,u=g[1],f=g[2];this.bitmap={width:d,height:u},o.isBuffer(f)?this.bitmap.data=f:(this.bitmap.data=new o(d*u*4),typeof f=="number"&&this.fillRGBA(f))}else throw new Error("unrecognized constructor parameters")}blit(g,m,d,u,f,s,v){if(u+s>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(m+s>g.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(f+v>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(d+v>g.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let x=this.bitmap.data,h=g.bitmap.data,p=this.bitmap.width*4,_=g.bitmap.width*4,w=s*4,E=f*p+u*4,A=d*_+m*4;for(;--v>=0;)x.copy(h,A,E,E+w),E+=p,A+=_;return this}fillRGBA(g){let m=this.bitmap.data,d=this.bitmap.height*4,u=0;for(;u<d;)m.writeUInt32BE(g,u),u+=4;for(;u<m.length;)m.copy(m,u,0,d),u+=d;return this}getRGBA(g,m){let d=(m*this.bitmap.width+g)*4;return this.bitmap.data.readUInt32BE(d)}getRGBASet(){let g=new Set,m=this.bitmap.data;for(let d=0;d<m.length;d+=4)g.add(m.readUInt32BE(d,!0));return g}greyscale(){let g=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(m,d,u)=>{let f=Math.round(.299*g[u]+.587*g[u+1]+.114*g[u+2]);g[u]=f,g[u+1]=f,g[u+2]=f}),this}reframe(g,m,d,u,f){let s=g<0?0:g,v=m<0?0:m,x=d+s>this.bitmap.width?this.bitmap.width-s:d,h=u+v>this.bitmap.height?this.bitmap.height-v:u,p=g<0?-g:0,_=m<0?-m:0,w;if(f===void 0){if(s!==g||v!=m||x!==d||h!==u)throw new GifError("fillRGBA required for this reframing");w=new l(d,u)}else w=new l(d,u,f);return this.blit(w,p,_,s,v,x,h),this.bitmap=w.bitmap,this}scale(g){if(g===1)return;if(!Number.isInteger(g)||g<1)throw new Error("the scale must be an integer >= 1");let m=this.bitmap.width,d=this.bitmap.height,u=m*g*4,f=this.bitmap.data,s=new o(d*u*g),v=0,x,h=0;for(let p=0;p<d;++p){x=h;for(let _=0;_<m;++_){let w=f.readUInt32BE(v,!0);for(let E=0;E<g;++E)s.writeUInt32BE(w,h),h+=4;v+=4}for(let _=1;_<g;++_)s.copy(s,h,x,h),h+=u,x+=u}return this.bitmap={width:m*g,height:d*g,data:s},this}scanAllCoords(g){let m=this.bitmap.width,d=this.bitmap.data.length,u=0,f=0;for(let s=0;s<d;s+=4)g(u,f,s),++u===m&&(u=0,++f)}scanAllIndexes(g){let m=this.bitmap.data.length;for(let d=0;d<m;d+=4)g(d)}}i.exports=l}).call(this,n("buffer").Buffer)},{buffer:48}],66:[function(n,i,a){"use strict";class o{constructor(g,m,d){this.width=d.width,this.height=d.height,this.loops=d.loops,this.usesTransparency=d.usesTransparency,this.colorScope=d.colorScope,this.frames=m,this.buffer=g}}o.GlobalColorsPreferred=0,o.GlobalColorsOnly=1,o.LocalColorsOnly=2;class l extends Error{constructor(g){super(g);g instanceof Error&&(this.stack="Gif"+g.stack)}}a.Gif=o,a.GifError=l},{}],67:[function(n,i,a){(function(o,l){"use strict";let c=n("omggif"),{Gif:g,GifError:m}=n("./gif"),d;o.nextTick(()=>{d=n("./gifutil")});let{GifFrame:u}=n("./gifframe"),f=200,s=100;class v{constructor(D={}){this._transparentRGB=null,typeof D.transparentRGB=="number"&&D.transparentRGB!==0&&(this._transparentRGBA=D.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(D){try{let O;try{O=new c.GifReader(D)}catch(Z){throw new m(Z)}let k=O.numFrames(),H=[],B={width:O.width,height:O.height,loops:O.loopCount()};B.usesTransparency=!1;for(let Z=0;Z<k;++Z){let V=this._decodeFrame(O,Z,B.usesTransparency);H.push(V.frame),V.usesTransparency&&(B.usesTransparency=!0)}return Promise.resolve(new g(D,H,B))}catch(O){return Promise.reject(O)}}encodeGif(D,O={}){try{if(D===null||D.length===0)throw new m("there are no frames");let k=d.getMaxDimensions(D);return O=Object.assign({},O),O.width=k.maxWidth,O.height=k.maxHeight,O.loops=O.loops||0,O.colorScope=O.colorScope||g.GlobalColorsPreferred,Promise.resolve(this._encodeGif(D,O))}catch(k){return Promise.reject(k)}}_decodeFrame(D,O,k){let H,B;try{if(H=D.frameInfo(O),B=new l(D.width*D.height*4),D.decodeAndBlitFrameRGBA(O,B),H.width!==D.width||H.height!==D.height){if(H.y&&(B=B.slice(H.y*D.width*4)),D.width>H.width)for(let j=0;j<H.height;++j)B.copy(B,j*H.width*4,(H.x+j*D.width)*4,(H.x+j*D.width)*4+H.width*4);B=B.slice(0,H.width*H.height*4)}}catch(j){throw new m(j)}let Z=!1;if(this._transparentRGBA===null){if(!k)for(let j=3;j<B.length;j+=4)B[j]===0&&(Z=!0,j=B.length)}else for(let j=3;j<B.length;j+=4)B[j]===0&&(B.writeUInt32BE(this._transparentRGBA,j-3),Z=!0);return{frame:new u(H.width,H.height,B,{xOffset:H.x,yOffset:H.y,disposalMethod:H.disposal,interlaced:H.interlaced,delayCentisecs:H.delay}),usesTransparency:Z}}_encodeGif(D,O){let k;if(O.colorScope===g.LocalColorsOnly)k=d.getColorInfo(D,0);else if(k=d.getColorInfo(D,256),!k.colors){if(O.colorScope===g.GlobalColorsOnly)throw new m("Too many color indexes for global color table");O.colorScope=g.LocalColorsOnly}O.usesTransparency=k.usesTransparency;let H=k.palettes;return O.colorScope===g.LocalColorsOnly?_(D,O,2e3,H):p(D,O,2e3,k)}_getSizeEstimateGlobal(D,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=f+3*256,H=T(D);return O.forEach(B=>{k+=E(B,H)}),k}_getSizeEstimateLocal(D,O){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let k=f;for(let H=0;H<O.length;++H){let B=D[H],Z=T(B);k+=E(O[H],Z)}return k}}a.GifCodec=v;function x(R,D){let O=R.indexOf(D);return O===-1?null:O}function h(R,D){for(var O=0,k=R.length-1,H;O<=k;)if(H=Math.floor((O+k)/2),R[H]>D)k=H-1;else if(R[H]<D)O=H+1;else return H;return null}function p(R,D,O,k){let H={colors:k.colors.slice(),usesTransparency:k.usesTransparency};w(H);let B={palette:H.colors,loop:D.loops},Z=new l(O),V;try{V=new c.GifWriter(Z,D.width,D.height,B)}catch(j){throw new m(j)}for(let j=0;j<R.length;++j)Z=C(V,j,R[j],k,!1);return new g(Z.slice(0,V.end()),R,D)}function _(R,D,O,k){let H={loop:D.loops},B=new l(O),Z;try{Z=new c.GifWriter(B,D.width,D.height,H)}catch(V){throw new m(V)}for(let V=0;V<R.length;++V)B=C(Z,V,R[V],k[V],!0);return new g(B.slice(0,Z.end()),R,D)}function w(R){let D=R.colors;R.usesTransparency&&D.push(0);let O=D.length,k=2;for(;O>k;)k<<=1;D.length=k,D.fill(0,O)}function E(R,D){let O=R.bitmap.width*R.bitmap.height;return O=Math.ceil(O*D/8),O+=Math.ceil(O/255),s+O+3*256}function A(R,D,O){let k=O.colors,H=k.length<=8?x:h,B=D.bitmap.data,Z=new l(B.length/4),V=k.length,j=0,z=0;for(;j<B.length;){if(B[j+3]!==0){let W=B.readUInt32BE(j,!0)>>8&16777215;Z[z]=H(k,W)}else Z[z]=V;j+=4,++z}if(O.usesTransparency){if(V===256)throw new m(`Frame ${R} already has 256 colorsand so can't use transparency`)}else V=null;return{buffer:Z,transparentIndex:V}}function T(R){let D=R.indexCount,O=0;for(--D;D;)++O,D>>=1;return O>0?O:1}function C(R,D,O,k,H){if(O.interlaced)throw new m("writing interlaced GIFs is not supported");let B=A(D,O,k),Z={delay:O.delayCentisecs,disposal:O.disposalMethod,transparent:B.transparentIndex};H&&(w(k),Z.palette=k.colors);try{let V=R.getOutputBuffer(),j=R.getOutputBufferPosition(),z,W=!0;for(;W;)if(z=R.addFrame(O.xOffset,O.yOffset,O.bitmap.width,O.bitmap.height,B.buffer,Z),W=!1,z>=V.length-1){let J=new l(V.length*1.5);V.copy(J),R.setOutputBuffer(J),R.setOutputBufferPosition(j),V=J,W=!0}return V}catch(V){throw new m(V)}}}).call(this,n("_process"),n("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(n,i,a){"use strict";let o=n("./bitmapimage"),{GifError:l}=n("./gif");class c extends o{constructor(...m){super(...m);if(m[0]instanceof c){let d=m[0];this.xOffset=d.xOffset,this.yOffset=d.yOffset,this.disposalMethod=d.disposalMethod,this.delayCentisecs=d.delayCentisecs,this.interlaced=d.interlaced}else{let d=m[m.length-1],u={};typeof d=="object"&&!(d instanceof o)&&(u=d),this.xOffset=u.xOffset||0,this.yOffset=u.yOffset||0,this.disposalMethod=u.disposalMethod!==void 0?u.disposalMethod:c.DisposeToBackgroundColor,this.delayCentisecs=u.delayCentisecs||8,this.interlaced=u.interlaced||!1}}getPalette(){let m=new Set,d=this.bitmap.data,u=0,f=!1;for(;u<d.length;){if(d[u+3]===0)f=!0;else{let h=d.readUInt32BE(u,!0)>>8&16777215;m.add(h)}u+=4}let s=new Array(m.size),v=m.values();for(u=0;u<s.length;++u)s[u]=v.next().value;s.sort((h,p)=>h-p);let x=s.length;return f&&++x,{colors:s,usesTransparency:f,indexCount:x}}}c.DisposeToAnything=0,c.DisposeNothing=1,c.DisposeToBackgroundColor=2,c.DisposeToPrevious=3,a.GifFrame=c},{"./bitmapimage":65,"./gif":66}],69:[function(n,i,a){(function(o){"use strict";let l=n("fs"),c=n("image-q"),g=n("./bitmapimage"),{GifFrame:m}=n("./gifframe"),{GifError:d}=n("./gif"),{GifCodec:u}=n("./gifcodec"),f=[".jpg",".jpeg",".png",".bmp"],s=new u;a.cloneFrames=function(p){let _=[];return p.forEach(w=>{_.push(new m(w))}),_},a.getColorInfo=function(p,_){let w=!1,E=[];for(let D=0;D<p.length;++D){let O=p[D].getPalette();if(O.usesTransparency&&(w=!0),O.indexCount>256)throw new d(`Frame ${D} uses more than 256 color indexes`);E.push(O)}if(_===0)return{usesTransparency:w,palettes:E};let A=new Set;E.forEach(D=>{D.colors.forEach(O=>{A.add(O)})});let T=A.size;if(w&&++T,_&&T>_)return{usesTransparency:w,palettes:E};let C=new Array(A.size),R=A.values();for(let D=0;D<C.length;++D)C[D]=R.next().value;return C.sort((D,O)=>D-O),{colors:C,indexCount:T,usesTransparency:w,palettes:E}},a.copyAsJimp=function(p,_){return a.shareAsJimp(p,new g(_))},a.getMaxDimensions=function(p){let _=0,w=0;return p.forEach(E=>{let A=E.xOffset+E.bitmap.width;A>_&&(_=A);let T=E.yOffset+E.bitmap.height;T>w&&(w=T)}),{maxWidth:_,maxHeight:w}},a.quantizeDekker=function(p,_,w){_=_||256,v(p,"NeuQuantFloat",_,0,w)},a.quantizeSorokin=function(p,_,w,E){_=_||256,w=w||"min-pop";let A;switch(w){case"min-pop":A=2;break;case"top-pop":A=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${w}'`)}v(p,"RGBQuant",_,A,E)},a.quantizeWu=function(p,_,w,E){if(_=_||256,w=w||5,w<1||w>8)throw new Error("Invalid quantization quality");v(p,"WuQuant",_,w,E)},a.read=function(p,_){return _=_||s,o.isBuffer(p)?_.decodeGif(p):x(p).then(w=>_.decodeGif(w))},a.shareAsJimp=function(p,_){let w=new p(_.bitmap.width,_.bitmap.height,0);return w.bitmap.data=_.bitmap.data,w},a.write=function(p,_,w,E){E=E||s;let A=p.match(/\.[a-zA-Z]+$/);if(A!==null&&f.includes(A[0].toLowerCase()))throw new Error(`GIF '${p}' has an unexpected suffix`);return E.encodeGif(_,w).then(T=>h(p,T.buffer).then(()=>T))};function v(p,_,w,E,A){let T=Array.isArray(p)?p:[p],C=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(A){if(C.indexOf(A.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${A.ditherAlgorithm}'`);A.serpentine===void 0&&(A.serpentine=!0),A.minimumColorDistanceToDither===void 0&&(A.minimumColorDistanceToDither=0),A.calculateErrorLikeGIMP===void 0&&(A.calculateErrorLikeGIMP=!1)}let R=new c.distance.Euclidean,D=new c.palette[_](R,w,E),O;A?O=new c.image.ErrorDiffusionArray(R,c.image.ErrorDiffusionArrayKernel[A.ditherAlgorithm],A.serpentine,A.minimumColorDistanceToDither,A.calculateErrorLikeGIMP):O=new c.image.NearestColor(R);let k=[];T.forEach(B=>{let Z=B.bitmap.data,V=new ArrayBuffer(Z.length),j=new Uint32Array(V);for(let W=0,J=0;W<Z.length;W+=4,++J)j[J]=Z.readUInt32LE(W,!0);let z=c.utils.PointContainer.fromUint32Array(j,B.bitmap.width,B.bitmap.height);D.sample(z),k.push(z)});let H=D.quantize();for(let B=0;B<T.length;++B){let Z=T[B].bitmap.data,j=O.quantize(k[B],H).toUint32Array();for(let z=0,W=0;z<Z.length;z+=4,++W)Z.writeUInt32LE(j[W],z)}}function x(p){return new Promise((_,w)=>{l.readFile(p,(E,A)=>E?w(E):_(A))})}function h(p,_){return new Promise((w,E)=>{l.writeFile(p,_,A=>A?E(A):w())})}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(n,i,a){"use strict";let o=n("./bitmapimage"),{Gif:l,GifError:c}=n("./gif"),{GifCodec:g}=n("./gifcodec"),{GifFrame:m}=n("./gifframe"),d=n("./gifutil");i.exports={BitmapImage:o,Gif:l,GifCodec:g,GifFrame:m,GifUtil:d,GifError:c}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(n,i,a){(function(o){var l;typeof Bt!="undefined"?l=Bt:typeof o!="undefined"?l=o:typeof self!="undefined"?l=self:l={},i.exports=l}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{}],72:[function(n,i,a){var o=n("http"),l=n("url"),c=i.exports;for(var g in o)o.hasOwnProperty(g)&&(c[g]=o[g]);c.request=function(d,u){return d=m(d),o.request.call(this,d,u)},c.get=function(d,u){return d=m(d),o.get.call(this,d,u)};function m(d){if(typeof d=="string"&&(d=l.parse(d)),d.protocol||(d.protocol="https:"),d.protocol!=="https:")throw new Error('Protocol "'+d.protocol+'" not supported. Expected "https:"');return d}},{http:156,url:180}],73:[function(n,i,a){a.read=function(o,l,c,g,m){var d,u,f=m*8-g-1,s=(1<<f)-1,v=s>>1,x=-7,h=c?m-1:0,p=c?-1:1,_=o[l+h];for(h+=p,d=_&(1<<-x)-1,_>>=-x,x+=f;x>0;d=d*256+o[l+h],h+=p,x-=8);for(u=d&(1<<-x)-1,d>>=-x,x+=g;x>0;u=u*256+o[l+h],h+=p,x-=8);if(d===0)d=1-v;else{if(d===s)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,g),d=d-v}return(_?-1:1)*u*Math.pow(2,d-g)},a.write=function(o,l,c,g,m,d){var u,f,s,v=d*8-m-1,x=(1<<v)-1,h=x>>1,p=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=g?0:d-1,w=g?1:-1,E=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(f=isNaN(l)?1:0,u=x):(u=Math.floor(Math.log(l)/Math.LN2),l*(s=Math.pow(2,-u))<1&&(u--,s*=2),u+h>=1?l+=p/s:l+=p*Math.pow(2,1-h),l*s>=2&&(u++,s/=2),u+h>=x?(f=0,u=x):u+h>=1?(f=(l*s-1)*Math.pow(2,m),u=u+h):(f=l*Math.pow(2,h-1)*Math.pow(2,m),u=0));m>=8;o[c+_]=f&255,_+=w,f/=256,m-=8);for(u=u<<m|f,v+=m;v>0;o[c+_]=u&255,_+=w,u/=256,v-=8);o[c+_-w]|=E*128}},{}],74:[function(n,i,a){(function(l,c){typeof a=="object"&&typeof i=="object"?i.exports=c():typeof r=="function"&&r.amd?r("iq",[],c):typeof a=="object"?a.iq=c():l.iq=c()})(this,function(){return function(o){var l={};function c(g){if(l[g])return l[g].exports;var m=l[g]={exports:{},id:g,loaded:!1};return o[g].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}return c.m=o,c.c=l,c.p="",c(0)}([function(o,l,c){"use strict";var g=c(1);l.constants=g;var m=c(3);l.conversion=m;var d=c(12);l.distance=d;var u=c(20);l.palette=u;var f=c(30);l.image=f;var s=c(35);l.quality=s;var v=c(37);l.utils=v},function(o,l,c){"use strict";var g=c(2);l.bt709=g},function(o,l){"use strict";var c;(function(d){d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE"})(c||(c={})),l.Y=c;var g;(function(d){d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE"})(g||(g={})),l.x=g;var m;(function(d){d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE"})(m||(m={})),l.y=m},function(o,l,c){"use strict";var g=c(4);l.rgb2xyz=g.rgb2xyz;var m=c(5);l.rgb2hsl=m.rgb2hsl;var d=c(7);l.rgb2lab=d.rgb2lab;var u=c(9);l.lab2xyz=u.lab2xyz;var f=c(10);l.lab2rgb=f.lab2rgb;var s=c(8);l.xyz2lab=s.xyz2lab;var v=c(11);l.xyz2rgb=v.xyz2rgb},function(o,l){"use strict";function c(m){return m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92}function g(m,d,u){return m=c(m/255),d=c(d/255),u=c(u/255),{x:m*.4124+d*.3576+u*.1805,y:m*.2126+d*.7152+u*.0722,z:m*.0193+d*.1192+u*.9505}}l.rgb2xyz=g},function(o,l,c){"use strict";var g=c(6);function m(d,u,f){var s=g.min3(d,u,f),v=g.max3(d,u,f),x=v-s,h=(s+v)/510,p=0;h>0&&h<1&&(p=x/(h<.5?v+s:510-v-s));var _=0;return x>0&&(v===d?_=(u-f)/x:v===u?_=2+(f-d)/x:_=4+(d-u)/x,_*=60,_<0&&(_+=360)),{h:_,s:p,l:h}}l.rgb2hsl=m},function(o,l){"use strict";function c(v){return v*(Math.PI/180)}l.degrees2radians=c;function g(v,x,h){var p=v;return p<x&&(p=x),p<h&&(p=h),p}l.max3=g;function m(v,x,h){var p=v;return p>x&&(p=x),p>h&&(p=h),p}l.min3=m;function d(v,x,h){return v>h&&(v=h),v<x&&(v=x),v|0}l.intInRange=d;function u(v){return v=Math.round(v),v>255?v=255:v<0&&(v=0),v}l.inRange0to255Rounded=u;function f(v){return v>255?v=255:v<0&&(v=0),v}l.inRange0to255=f;function s(v,x){var h=typeof v[0],p;if(h==="number"||h==="string"){for(var _=Object.create(null),w=0,E=v.length;w<E;w++){var A=v[w];_[A]||_[A]===0||(_[A]=w)}p=v.sort(function(C,R){return x(C,R)||_[C]-_[R]})}else{var T=v.slice(0);p=v.sort(function(C,R){return x(C,R)||T.indexOf(C)-T.indexOf(R)})}return p}l.stableSort=s},function(o,l,c){"use strict";var g=c(4),m=c(8);function d(u,f,s){var v=g.rgb2xyz(u,f,s);return m.xyz2lab(v.x,v.y,v.z)}l.rgb2lab=d},function(o,l){"use strict";var c=.95047,g=1,m=1.08883;function d(f){return f>.008856?Math.pow(f,1/3):7.787*f+16/116}function u(f,s,v){if(f=d(f/c),s=d(s/g),v=d(v/m),116*s-16<0)throw new Error("xxx");return{L:Math.max(0,116*s-16),a:500*(f-s),b:200*(s-v)}}l.xyz2lab=u},function(o,l){"use strict";var c=.95047,g=1,m=1.08883;function d(f){return f>.206893034?Math.pow(f,3):(f-16/116)/7.787}function u(f,s,v){var x=(f+16)/116,h=s/500+x,p=x-v/200;return{x:c*d(h),y:g*d(x),z:m*d(p)}}l.lab2xyz=u},function(o,l,c){"use strict";var g=c(9),m=c(11);function d(u,f,s){var v=g.lab2xyz(u,f,s);return m.xyz2rgb(v.x,v.y,v.z)}l.lab2rgb=d},function(o,l,c){"use strict";var g=c(6);function m(u){return u>.0031308?1.055*Math.pow(u,1/2.4)-.055:12.92*u}function d(u,f,s){var v=m(u*3.2406+f*-1.5372+s*-.4986),x=m(u*-.9689+f*1.8758+s*.0415),h=m(u*.0557+f*-.204+s*1.057);return{r:g.inRange0to255Rounded(v*255),g:g.inRange0to255Rounded(x*255),b:g.inRange0to255Rounded(h*255)}}l.xyz2rgb=d},function(o,l,c){"use strict";var g=c(13);l.AbstractDistanceCalculator=g.AbstractDistanceCalculator;var m=c(14);l.CIE94Textiles=m.CIE94Textiles,l.CIE94GraphicArts=m.CIE94GraphicArts;var d=c(15);l.CIEDE2000=d.CIEDE2000;var u=c(16);l.CMETRIC=u.CMETRIC;var f=c(17);l.AbstractEuclidean=f.AbstractEuclidean,l.Euclidean=f.Euclidean,l.EuclideanRgbQuantWOAlpha=f.EuclideanRgbQuantWOAlpha,l.EuclideanRgbQuantWithAlpha=f.EuclideanRgbQuantWithAlpha;var s=c(18);l.AbstractManhattan=s.AbstractManhattan,l.Manhattan=s.Manhattan,l.ManhattanSRGB=s.ManhattanSRGB,l.ManhattanNommyde=s.ManhattanNommyde;var v=c(19);l.PNGQUANT=v.PNGQUANT},function(o,l){"use strict";var c=function(){function g(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return g.prototype.setWhitePoint=function(m,d,u,f){this._whitePoint={r:m>0?255/m:0,g:d>0?255/d:0,b:u>0?255/u:0,a:f>0?255/f:0},this._maxDistance=this.calculateRaw(m,d,u,f,0,0,0,0)},g.prototype.calculateNormalized=function(m,d){return this.calculateRaw(m.r,m.g,m.b,m.a,d.r,d.g,d.b,d.a)/this._maxDistance},g.prototype._setDefaults=function(){},g}();l.AbstractDistanceCalculator=c},function(o,l,c){"use strict";var g=this&&this.__extends||function(x,h){for(var p in h)h.hasOwnProperty(p)&&(x[p]=h[p]);function _(){this.constructor=x}x.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var m=c(13),d=c(7),u=c(6),f=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype.calculateRaw=function(p,_,w,E,A,T,C,R){var D=d.rgb2lab(u.inRange0to255(p*this._whitePoint.r),u.inRange0to255(_*this._whitePoint.g),u.inRange0to255(w*this._whitePoint.b)),O=d.rgb2lab(u.inRange0to255(A*this._whitePoint.r),u.inRange0to255(T*this._whitePoint.g),u.inRange0to255(C*this._whitePoint.b)),k=D.L-O.L,H=D.a-O.a,B=D.b-O.b,Z=Math.sqrt(D.a*D.a+D.b*D.b),V=Math.sqrt(O.a*O.a+O.b*O.b),j=Z-V,z=H*H+B*B-j*j;z=z<0?0:Math.sqrt(z);var W=(R-E)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(k/this._Kl,2)+Math.pow(j/(1+this._K1*Z),2)+Math.pow(z/(1+this._K2*Z),2)+Math.pow(W,2))},h}(m.AbstractDistanceCalculator);l.AbstractCIE94=f;var s=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},h}(f);l.CIE94Textiles=s;var v=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},h}(f);l.CIE94GraphicArts=v},function(o,l,c){"use strict";var g=this&&this.__extends||function(s,v){for(var x in v)v.hasOwnProperty(x)&&(s[x]=v[x]);function h(){this.constructor=s}s.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)};var m=c(13),d=c(7),u=c(6),f=function(s){g(v,s);function v(){s.apply(this,arguments)}return v.prototype.calculateRaw=function(x,h,p,_,w,E,A,T){var C=d.rgb2lab(u.inRange0to255(x*this._whitePoint.r),u.inRange0to255(h*this._whitePoint.g),u.inRange0to255(p*this._whitePoint.b)),R=d.rgb2lab(u.inRange0to255(w*this._whitePoint.r),u.inRange0to255(E*this._whitePoint.g),u.inRange0to255(A*this._whitePoint.b)),D=(T-_)*this._whitePoint.a*v._kA,O=this.calculateRawInLab(C,R);return Math.sqrt(O+D*D)},v.prototype.calculateRawInLab=function(x,h){var p=x.L,_=x.a,w=x.b,E=h.L,A=h.a,T=h.b,C=Math.sqrt(_*_+w*w),R=Math.sqrt(A*A+T*T),D=Math.pow((C+R)/2,7),O=.5*(1-Math.sqrt(D/(D+v._pow25to7))),k=(1+O)*_,H=(1+O)*A,B=Math.sqrt(k*k+w*w),Z=Math.sqrt(H*H+T*T),V=B*Z,j=v._calculatehp(w,k),z=v._calculatehp(T,H),W=Math.abs(j-z),J=E-p,oe=Z-B,le=v._calculate_dHp(V,W,z,j),fe=v._calculate_ahp(V,W,j,z),$=v._calculateT(fe),ae=(B+Z)/2,se=Math.pow((p+E)/2-50,2),ce=1+.015*se/Math.sqrt(20+se),he=1+.045*ae,we=1+.015*$*ae,xe=v._calculateRT(fe,ae),Oe=J/ce,ge=oe/he,De=le/we;return Math.pow(Oe,2)+Math.pow(ge,2)+Math.pow(De,2)+xe*ge*De},v._calculatehp=function(x,h){var p=Math.atan2(x,h);return p>=0?p:p+v._deg360InRad},v._calculateRT=function(x,h){var p=Math.pow(h,7),_=2*Math.sqrt(p/(p+v._pow25to7)),w=v._deg30InRad*Math.exp(-Math.pow((x-v._deg275InRad)/v._deg25InRad,2));return-Math.sin(2*w)*_},v._calculateT=function(x){return 1-.17*Math.cos(x-v._deg30InRad)+.24*Math.cos(x*2)+.32*Math.cos(x*3+v._deg6InRad)-.2*Math.cos(x*4-v._deg63InRad)},v._calculate_ahp=function(x,h,p,_){var w=p+_;return x==0?w:h<=v._deg180InRad?w/2:w<v._deg360InRad?(w+v._deg360InRad)/2:(w-v._deg360InRad)/2},v._calculate_dHp=function(x,h,p,_){var w;return x==0?w=0:h<=v._deg180InRad?w=p-_:p<=_?w=p-_+v._deg360InRad:w=p-_-v._deg360InRad,2*Math.sqrt(x)*Math.sin(w/2)},v._kA=.25*100/255,v._pow25to7=Math.pow(25,7),v._deg360InRad=u.degrees2radians(360),v._deg180InRad=u.degrees2radians(180),v._deg30InRad=u.degrees2radians(30),v._deg6InRad=u.degrees2radians(6),v._deg63InRad=u.degrees2radians(63),v._deg275InRad=u.degrees2radians(275),v._deg25InRad=u.degrees2radians(25),v}(m.AbstractDistanceCalculator);l.CIEDE2000=f},function(o,l,c){"use strict";var g=this&&this.__extends||function(u,f){for(var s in f)f.hasOwnProperty(s)&&(u[s]=f[s]);function v(){this.constructor=u}u.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)};var m=c(13),d=function(u){g(f,u);function f(){u.apply(this,arguments)}return f.prototype.calculateRaw=function(s,v,x,h,p,_,w,E){var A=(s+p)/2*this._whitePoint.r,T=(s-p)*this._whitePoint.r,C=(v-_)*this._whitePoint.g,R=(x-w)*this._whitePoint.b,D=((512+A)*T*T>>8)+4*C*C+((767-A)*R*R>>8),O=(E-h)*this._whitePoint.a;return Math.sqrt(D+O*O)},f}(m.AbstractDistanceCalculator);l.CMETRIC=d},function(o,l,c){"use strict";var g=this&&this.__extends||function(x,h){for(var p in h)h.hasOwnProperty(p)&&(x[p]=h[p]);function _(){this.constructor=x}x.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var m=c(13),d=c(2),u=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype.calculateRaw=function(p,_,w,E,A,T,C,R){var D=A-p,O=T-_,k=C-w,H=R-E;return Math.sqrt(this._kR*D*D+this._kG*O*O+this._kB*k*k+this._kA*H*H)},h}(m.AbstractDistanceCalculator);l.AbstractEuclidean=u;var f=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},h}(u);l.Euclidean=f;var s=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=1},h}(u);l.EuclideanRgbQuantWithAlpha=s;var v=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=0},h}(u);l.EuclideanRgbQuantWOAlpha=v},function(o,l,c){"use strict";var g=this&&this.__extends||function(x,h){for(var p in h)h.hasOwnProperty(p)&&(x[p]=h[p]);function _(){this.constructor=x}x.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)};var m=c(13),d=c(2),u=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype.calculateRaw=function(p,_,w,E,A,T,C,R){var D=A-p,O=T-_,k=C-w,H=R-E;return D<0&&(D=0-D),O<0&&(O=0-O),k<0&&(k=0-k),H<0&&(H=0-H),this._kR*D+this._kG*O+this._kB*k+this._kA*H},h}(m.AbstractDistanceCalculator);l.AbstractManhattan=u;var f=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},h}(u);l.Manhattan=f;var s=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},h}(u);l.ManhattanNommyde=s;var v=function(x){g(h,x);function h(){x.apply(this,arguments)}return h.prototype._setDefaults=function(){this._kR=d.Y.RED,this._kG=d.Y.GREEN,this._kB=d.Y.BLUE,this._kA=1},h}(u);l.ManhattanSRGB=v},function(o,l,c){"use strict";var g=this&&this.__extends||function(u,f){for(var s in f)f.hasOwnProperty(s)&&(u[s]=f[s]);function v(){this.constructor=u}u.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)};var m=c(13),d=function(u){g(f,u);function f(){u.apply(this,arguments)}return f.prototype.calculateRaw=function(s,v,x,h,p,_,w,E){var A=(E-h)*this._whitePoint.a;return this._colordifference_ch(s*this._whitePoint.r,p*this._whitePoint.r,A)+this._colordifference_ch(v*this._whitePoint.g,_*this._whitePoint.g,A)+this._colordifference_ch(x*this._whitePoint.b,w*this._whitePoint.b,A)},f.prototype._colordifference_ch=function(s,v,x){var h=s-v,p=h+x;return h*h+p*p},f}(m.AbstractDistanceCalculator);l.PNGQUANT=d},function(o,l,c){"use strict";var g=c(21);l.NeuQuant=g.NeuQuant;var m=c(25);l.NeuQuantFloat=m.NeuQuantFloat;var d=c(26);l.RGBQuant=d.RGBQuant;var u=c(27);l.ColorHistogram=u.ColorHistogram;var f=c(29);l.WuQuant=f.WuQuant,l.WuColorCube=f.WuColorCube},function(o,l,c){"use strict";var g=c(22),m=c(24),d=3,u=function(){function s(v){this.r=this.g=this.b=this.a=v}return s.prototype.toPoint=function(){return m.Point.createByRGBA(this.r>>d,this.g>>d,this.b>>d,this.a>>d)},s.prototype.subtract=function(v,x,h,p){this.r-=v|0,this.g-=x|0,this.b-=h|0,this.a-=p|0},s}(),f=function(){function s(v,x){x===void 0&&(x=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=x,this._distance.setWhitePoint(255<<d,255<<d,255<<d,255<<d)}return s.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},s.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},s.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new u((v<<d+8)/this._networkSize|0),this._freq[v]=s._initialBias/this._networkSize|0,this._bias[v]=0},s.prototype._learn=function(){var v=this._sampleFactor,x=this._pointArray.length;x<s._minpicturebytes&&(v=1);var h=30+(v-1)/3|0,p=x/v|0,_=p/s._nCycles|0,w=s._initAlpha,E=(this._networkSize>>3)*s._radiusBias,A=E>>s._radiusBiasShift;A<=1&&(A=0);for(var T=0;T<A;T++)this._radPower[T]=w*((A*A-T*T)*s._radBias/(A*A))>>>0;var C;x<s._minpicturebytes?C=1:x%s._prime1!=0?C=s._prime1:x%s._prime2!=0?C=s._prime2:x%s._prime3!=0?C=s._prime3:C=s._prime4;for(var T=0,R=0;T<p;){var D=this._pointArray[R],O=D.b<<d,k=D.g<<d,H=D.r<<d,B=D.a<<d,Z=this._contest(O,k,H,B);if(this._alterSingle(w,Z,O,k,H,B),A!==0&&this._alterNeighbour(A,Z,O,k,H,B),R+=C,R>=x&&(R-=x),T++,_===0&&(_=1),T%_==0){w-=w/h|0,E-=E/s._radiusDecrease|0,A=E>>s._radiusBiasShift,A<=1&&(A=0);for(var V=0;V<A;V++)this._radPower[V]=w*((A*A-V*V)*s._radBias/(A*A))>>>0}}},s.prototype._buildPalette=function(){var v=new g.Palette;return this._network.forEach(function(x){v.add(x.toPoint())}),v.sort(),v},s.prototype._alterNeighbour=function(v,x,h,p,_,w){var E=x-v;E<-1&&(E=-1);var A=x+v;A>this._networkSize&&(A=this._networkSize);for(var T=x+1,C=x-1,R=1;T<A||C>E;){var D=this._radPower[R++]/s._alphaRadBias;if(T<A){var O=this._network[T++];O.subtract(D*(O.r-_),D*(O.g-p),D*(O.b-h),D*(O.a-w))}if(C>E){var O=this._network[C--];O.subtract(D*(O.r-_),D*(O.g-p),D*(O.b-h),D*(O.a-w))}}},s.prototype._alterSingle=function(v,x,h,p,_,w){v/=s._initAlpha;var E=this._network[x];E.subtract(v*(E.r-_),v*(E.g-p),v*(E.b-h),v*(E.a-w))},s.prototype._contest=function(v,x,h,p){for(var _=255*4<<d,w=~(1<<31),E=w,A=-1,T=A,C=0;C<this._networkSize;C++){var R=this._network[C],D=this._distance.calculateNormalized(R,{r:h,g:x,b:v,a:p})*_|0;D<w&&(w=D,A=C);var O=D-(this._bias[C]>>s._initialBiasShift-d);O<E&&(E=O,T=C);var k=this._freq[C]>>s._betaShift;this._freq[C]-=k,this._bias[C]+=k<<s._gammaShift}return this._freq[A]+=s._beta,this._bias[A]-=s._betaGamma,T},s._prime1=499,s._prime2=491,s._prime3=487,s._prime4=503,s._minpicturebytes=s._prime4,s._nCycles=100,s._initialBiasShift=16,s._initialBias=1<<s._initialBiasShift,s._gammaShift=10,s._betaShift=10,s._beta=s._initialBias>>s._betaShift,s._betaGamma=s._initialBias<<s._gammaShift-s._betaShift,s._radiusBiasShift=6,s._radiusBias=1<<s._radiusBiasShift,s._radiusDecrease=30,s._alphaBiasShift=10,s._initAlpha=1<<s._alphaBiasShift,s._radBiasShift=8,s._radBias=1<<s._radBiasShift,s._alphaRadBiasShift=s._alphaBiasShift+s._radBiasShift,s._alphaRadBias=1<<s._alphaRadBiasShift,s}();l.NeuQuant=f},function(o,l,c){"use strict";var g=c(23),m=c(5),d=10;function u(s,v){for(var x=360,h=x/v,p=h/2,_=1,w=h-p;_<v;_++,w+=h)if(s>=w&&s<w+h)return _;return 0}l.hueGroup=u;var f=function(){function s(){this._pointArray=[],this._i32idx={},this._pointContainer=new g.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return s.prototype.add=function(v){this._pointArray.push(v),this._pointContainer.setWidth(this._pointArray.length)},s.prototype.has=function(v){for(var x=this._pointArray.length-1;x>=0;x--)if(v.uint32===this._pointArray[x].uint32)return!0;return!1},s.prototype.getNearestColor=function(v,x){return this._pointArray[this.getNearestIndex(v,x)|0]},s.prototype.getPointContainer=function(){return this._pointContainer},s.prototype._nearestPointFromCache=function(v){return typeof this._i32idx[v]=="number"?this._i32idx[v]:-1},s.prototype.getNearestIndex=function(v,x){var h=this._nearestPointFromCache(""+x.uint32);if(h>=0)return h;var p=Number.MAX_VALUE;h=0;for(var _=0,w=this._pointArray.length;_<w;_++){var E=this._pointArray[_],A=v.calculateRaw(x.r,x.g,x.b,x.a,E.r,E.g,E.b,E.a);A<p&&(p=A,h=_)}return this._i32idx[x.uint32]=h,h},s.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(v,x){var h=m.rgb2hsl(v.r,v.g,v.b),p=m.rgb2hsl(x.r,x.g,x.b),_=v.r===v.g&&v.g===v.b?0:1+u(h.h,d),w=x.r===x.g&&x.g===x.b?0:1+u(p.h,d),E=w-_;if(E)return-E;var A=v.getLuminosity(!0),T=x.getLuminosity(!0);if(T-A!=0)return T-A;var C=(p.s*100|0)-(h.s*100|0);return C?-C:0})},s}();l.Palette=f},function(o,l,c){"use strict";var g=c(24),m=function(){function d(){this._width=0,this._height=0,this._pointArray=[]}return d.prototype.getWidth=function(){return this._width},d.prototype.getHeight=function(){return this._height},d.prototype.setWidth=function(u){this._width=u},d.prototype.setHeight=function(u){this._height=u},d.prototype.getPointArray=function(){return this._pointArray},d.prototype.clone=function(){var u=new d;u._width=this._width,u._height=this._height;for(var f=0,s=this._pointArray.length;f<s;f++)u._pointArray[f]=g.Point.createByUint32(this._pointArray[f].uint32|0);return u},d.prototype.toUint32Array=function(){for(var u=this._pointArray.length,f=new Uint32Array(u),s=0;s<u;s++)f[s]=this._pointArray[s].uint32;return f},d.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},d.fromHTMLImageElement=function(u){var f=u.naturalWidth,s=u.naturalHeight,v=document.createElement("canvas");v.width=f,v.height=s;var x=v.getContext("2d");return x.drawImage(u,0,0,f,s,0,0,f,s),d.fromHTMLCanvasElement(v)},d.fromHTMLCanvasElement=function(u){var f=u.width,s=u.height,v=u.getContext("2d"),x=v.getImageData(0,0,f,s);return d.fromImageData(x)},d.fromNodeCanvas=function(u){return d.fromHTMLCanvasElement(u)},d.fromImageData=function(u){var f=u.width,s=u.height;return d.fromCanvasPixelArray(u.data,f,s)},d.fromArray=function(u,f,s){var v=new Uint8Array(u);return d.fromUint8Array(v,f,s)},d.fromCanvasPixelArray=function(u,f,s){return d.fromArray(u,f,s)},d.fromUint8Array=function(u,f,s){return d.fromUint32Array(new Uint32Array(u.buffer),f,s)},d.fromUint32Array=function(u,f,s){var v=new d;v._width=f,v._height=s;for(var x=0,h=u.length;x<h;x++)v._pointArray[x]=g.Point.createByUint32(u[x]|0);return v},d}();l.PointContainer=m},function(o,l,c){"use strict";var g=c(2),m=function(){function d(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return d.createByQuadruplet=function(u){var f=new d;return f.r=u[0]|0,f.g=u[1]|0,f.b=u[2]|0,f.a=u[3]|0,f._loadUINT32(),f._loadQuadruplet(),f},d.createByRGBA=function(u,f,s,v){var x=new d;return x.r=u|0,x.g=f|0,x.b=s|0,x.a=v|0,x._loadUINT32(),x._loadQuadruplet(),x},d.createByUint32=function(u){var f=new d;return f.uint32=u>>>0,f._loadRGBA(),f._loadQuadruplet(),f},d.prototype.from=function(u){this.r=u.r,this.g=u.g,this.b=u.b,this.a=u.a,this.uint32=u.uint32,this.rgba[0]=u.r,this.rgba[1]=u.g,this.rgba[2]=u.b,this.rgba[3]=u.a},d.prototype.getLuminosity=function(u){var f=this.r,s=this.g,v=this.b;return u&&(f=Math.min(255,255-this.a+this.a*f/255),s=Math.min(255,255-this.a+this.a*s/255),v=Math.min(255,255-this.a+this.a*v/255)),f*g.Y.RED+s*g.Y.GREEN+v*g.Y.BLUE},d.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},d.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},d.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},d}();l.Point=m},function(o,l,c){"use strict";var g=c(22),m=c(24),d=3,u=function(){function s(v){this.r=this.g=this.b=this.a=v}return s.prototype.toPoint=function(){return m.Point.createByRGBA(this.r>>d,this.g>>d,this.b>>d,this.a>>d)},s.prototype.subtract=function(v,x,h,p){this.r-=v,this.g-=x,this.b-=h,this.a-=p},s}(),f=function(){function s(v,x){x===void 0&&(x=256),this._distance=v,this._pointArray=[],this._sampleFactor=1,this._networkSize=x,this._distance.setWhitePoint(255<<d,255<<d,255<<d,255<<d)}return s.prototype.sample=function(v){this._pointArray=this._pointArray.concat(v.getPointArray())},s.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},s.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var v=0;v<this._networkSize;v++)this._network[v]=new u((v<<d+8)/this._networkSize),this._freq[v]=s._initialBias/this._networkSize,this._bias[v]=0},s.prototype._learn=function(){var v=this._sampleFactor,x=this._pointArray.length;x<s._minpicturebytes&&(v=1);var h=30+(v-1)/3,p=x/v,_=p/s._nCycles|0,w=s._initAlpha,E=(this._networkSize>>3)*s._radiusBias,A=E>>s._radiusBiasShift;A<=1&&(A=0);for(var T=0;T<A;T++)this._radPower[T]=w*((A*A-T*T)*s._radBias/(A*A));var C;x<s._minpicturebytes?C=1:x%s._prime1!=0?C=s._prime1:x%s._prime2!=0?C=s._prime2:x%s._prime3!=0?C=s._prime3:C=s._prime4;for(var T=0,R=0;T<p;){var D=this._pointArray[R],O=D.b<<d,k=D.g<<d,H=D.r<<d,B=D.a<<d,Z=this._contest(O,k,H,B);if(this._alterSingle(w,Z,O,k,H,B),A!=0&&this._alterNeighbour(A,Z,O,k,H,B),R+=C,R>=x&&(R-=x),T++,_==0&&(_=1),T%_==0){w-=w/h,E-=E/s._radiusDecrease,A=E>>s._radiusBiasShift,A<=1&&(A=0);for(var V=0;V<A;V++)this._radPower[V]=w*((A*A-V*V)*s._radBias/(A*A))}}},s.prototype._buildPalette=function(){var v=new g.Palette;return this._network.forEach(function(x){v.add(x.toPoint())}),v.sort(),v},s.prototype._alterNeighbour=function(v,x,h,p,_,w){var E=x-v;E<-1&&(E=-1);var A=x+v;A>this._networkSize&&(A=this._networkSize);for(var T=x+1,C=x-1,R=1;T<A||C>E;){var D=this._radPower[R++]/s._alphaRadBias;if(T<A){var O=this._network[T++];O.subtract(D*(O.r-_),D*(O.g-p),D*(O.b-h),D*(O.a-w))}if(C>E){var O=this._network[C--];O.subtract(D*(O.r-_),D*(O.g-p),D*(O.b-h),D*(O.a-w))}}},s.prototype._alterSingle=function(v,x,h,p,_,w){v/=s._initAlpha;var E=this._network[x];E.subtract(v*(E.r-_),v*(E.g-p),v*(E.b-h),v*(E.a-w))},s.prototype._contest=function(v,x,h,p){for(var _=255*4<<d,w=~(1<<31),E=w,A=-1,T=A,C=0;C<this._networkSize;C++){var R=this._network[C],D=this._distance.calculateNormalized(R,{r:h,g:x,b:v,a:p})*_;D<w&&(w=D,A=C);var O=D-(this._bias[C]>>s._initialBiasShift-d);O<E&&(E=O,T=C);var k=this._freq[C]>>s._betaShift;this._freq[C]-=k,this._bias[C]+=k<<s._gammaShift}return this._freq[A]+=s._beta,this._bias[A]-=s._betaGamma,T},s._prime1=499,s._prime2=491,s._prime3=487,s._prime4=503,s._minpicturebytes=s._prime4,s._nCycles=100,s._initialBiasShift=16,s._initialBias=1<<s._initialBiasShift,s._gammaShift=10,s._betaShift=10,s._beta=s._initialBias>>s._betaShift,s._betaGamma=s._initialBias<<s._gammaShift-s._betaShift,s._radiusBiasShift=6,s._radiusBias=1<<s._radiusBiasShift,s._radiusDecrease=30,s._alphaBiasShift=10,s._initAlpha=1<<s._alphaBiasShift,s._radBiasShift=8,s._radBias=1<<s._radBiasShift,s._alphaRadBiasShift=s._alphaBiasShift+s._radBiasShift,s._alphaRadBias=1<<s._alphaRadBiasShift,s}();l.NeuQuantFloat=f},function(o,l,c){"use strict";var g=c(22),m=c(24),d=c(27),u=c(6),f=function(){function v(x,h,p){this.index=x,this.color=h,this.distance=p}return v}(),s=function(){function v(x,h,p){h===void 0&&(h=256),p===void 0&&(p=2),this._distance=x,this._colors=h,this._histogram=new d.ColorHistogram(p,h),this._initialDistance=.01,this._distanceIncrement=.005}return v.prototype.sample=function(x){this._histogram.sample(x)},v.prototype.quantize=function(){var x=this._histogram.getImportanceSortedColorsIDXI32();if(x.length===0)throw new Error("No colors in image");var h=this._buildPalette(x);return h.sort(),h},v.prototype._buildPalette=function(x){for(var h=new g.Palette,p=h.getPointContainer().getPointArray(),_=new Array(x.length),w=0;w<x.length;w++)p.push(m.Point.createByUint32(x[w])),_[w]=1;for(var E=p.length,A=[],T=E,C=this._initialDistance;T>this._colors;){A.length=0;for(var w=0;w<E;w++)if(_[w]!==0){for(var R=p[w],D=w+1;D<E;D++)if(_[D]!==0){var O=p[D],k=this._distance.calculateNormalized(R,O);k<C&&(A.push(new f(D,O,k)),_[D]=0,T--)}}C+=T>this._colors*3?this._initialDistance:this._distanceIncrement}if(T<this._colors){u.stableSort(A,function(j,z){return z.distance-j.distance});for(var H=0;T<this._colors&&H<A.length;){var B=A[H];_[B.index]=1,T++,H++}}for(var Z=p.length,V=Z-1;V>=0;V--)_[V]===0&&(V!==Z-1&&(p[V]=p[Z-1]),--Z);return p.length=Z,h},v}();l.RGBQuant=s},function(o,l,c){"use strict";var g=c(28),m=c(6),d=function(){function u(f,s){this._method=f,this._minHueCols=s<<2,this._initColors=s<<2,this._hueStats=new g.HueStatistics(u._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return u.prototype.sample=function(f){switch(this._method){case 1:this._colorStats1D(f);break;case 2:this._colorStats2D(f);break}},u.prototype.getImportanceSortedColorsIDXI32=function(){var f=this,s=m.stableSort(Object.keys(this._histogram),function(E,A){return f._histogram[A]-f._histogram[E]});if(s.length===0)return[];var v;switch(this._method){case 1:var x=Math.min(s.length,this._initColors),h=s[x-1],p=this._histogram[h];v=s.slice(0,x);for(var _=x,w=s.length;_<w&&this._histogram[s[_]]==p;)v.push(s[_++]);this._hueStats.injectIntoArray(v);break;case 2:v=s;break;default:throw new Error("Incorrect method")}return v.map(function(E){return+E})},u.prototype._colorStats1D=function(f){for(var s=this._histogram,v=f.getPointArray(),x=v.length,h=0;h<x;h++){var p=v[h].uint32;this._hueStats.check(p),p in s?s[p]++:s[p]=1}},u.prototype._colorStats2D=function(f){var s=this,v=f.getWidth(),x=f.getHeight(),h=f.getPointArray(),p=u._boxSize[0],_=u._boxSize[1],w=p*_,E=this._makeBoxes(v,x,p,_),A=this._histogram;E.forEach(function(T){var C=Math.round(T.w*T.h/w)*u._boxPixels;C<2&&(C=2);var R={};s._iterateBox(T,v,function(D){var O=h[D].uint32;s._hueStats.check(O),O in A?A[O]++:O in R?++R[O]>=C&&(A[O]=R[O]):R[O]=1})}),this._hueStats.injectIntoDictionary(A)},u.prototype._iterateBox=function(f,s,v){var x=f,h=x.y*s+x.x,p=(x.y+x.h-1)*s+(x.x+x.w-1),_=s-x.w+1,w=0,E=h;do v.call(this,E),E+=++w%x.w==0?_:1;while(E<=p)},u.prototype._makeBoxes=function(f,s,v,x){for(var h=f%v,p=s%x,_=f-h,w=s-p,E=[],A=0;A<s;A+=x)for(var T=0;T<f;T+=v)E.push({x:T,y:A,w:T==_?h:v,h:A==w?p:x});return E},u._boxSize=[64,64],u._boxPixels=2,u._hueGroups=10,u}();l.ColorHistogram=d},function(o,l,c){"use strict";var g=c(5),m=c(22),d=function(){function f(){this.num=0,this.cols=[]}return f}(),u=function(){function f(s,v){this._numGroups=s,this._minCols=v,this._stats=[];for(var x=0;x<=s;x++)this._stats[x]=new d;this._groupsFull=0}return f.prototype.check=function(s){this._groupsFull==this._numGroups+1&&(this.check=function(){});var v=s&255,x=s>>>8&255,h=s>>>16&255,p=v==x&&x==h?0:1+m.hueGroup(g.rgb2hsl(v,x,h).h,this._numGroups),_=this._stats[p],w=this._minCols;_.num++,!(_.num>w)&&(_.num==w&&this._groupsFull++,_.num<=w&&this._stats[p].cols.push(s))},f.prototype.injectIntoDictionary=function(s){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(x){s[x]?s[x]++:s[x]=1})},f.prototype.injectIntoArray=function(s){for(var v=0;v<=this._numGroups;v++)this._stats[v].num<=this._minCols&&this._stats[v].cols.forEach(function(x){s.indexOf(x)==-1&&s.push(x)})},f}();l.HueStatistics=u},function(o,l,c){"use strict";var g=c(22),m=c(24);function d(p){for(var _=[],w=0;w<p;w++)_[w]=0;return _}function u(p,_,w,E){for(var A=new Array(p),T=0;T<p;T++){A[T]=new Array(_);for(var C=0;C<_;C++){A[T][C]=new Array(w);for(var R=0;R<w;R++){A[T][C][R]=new Array(E);for(var D=0;D<E;D++)A[T][C][R][D]=0}}}return A}function f(p,_,w){for(var E=new Array(p),A=0;A<p;A++){E[A]=new Array(_);for(var T=0;T<_;T++){E[A][T]=new Array(w);for(var C=0;C<w;C++)E[A][T][C]=0}}return E}function s(p,_,w,E,A){for(var T=0;T<_;T++){p[T]=[];for(var C=0;C<w;C++){p[T][C]=[];for(var R=0;R<E;R++)p[T][C][R]=A}}}function v(p,_,w){for(var E=0;E<_;E++)p[E]=w}var x=function(){function p(){}return p}();l.WuColorCube=x;var h=function(){function p(_,w,E){w===void 0&&(w=256),E===void 0&&(E=5),this._distance=_,this._setQuality(E),this._initialize(w)}return p.prototype.sample=function(_){for(var w=_.getPointArray(),E=0,A=w.length;E<A;E++)this._addColor(w[E]);this._pixels=this._pixels.concat(w)},p.prototype.quantize=function(){this._preparePalette();for(var _=new g.Palette,w=0;w<this._colors;w++)if(this._sums[w]>0){var E=this._sums[w],A=this._reds[w]/E,T=this._greens[w]/E,C=this._blues[w]/E,R=this._alphas[w]/E,D=m.Point.createByRGBA(A|0,T|0,C|0,R|0);_.add(D)}return _.sort(),_},p.prototype._preparePalette=function(){this._calculateMoments();for(var _=0,w=d(this._colors),E=1;E<this._colors;++E){this._cut(this._cubes[_],this._cubes[E])?(w[_]=this._cubes[_].volume>1?this._calculateVariance(this._cubes[_]):0,w[E]=this._cubes[E].volume>1?this._calculateVariance(this._cubes[E]):0):(w[_]=0,E--),_=0;for(var A=w[0],T=1;T<=E;++T)w[T]>A&&(A=w[T],_=T);if(A<=0){this._colors=E+1;break}}for(var C=[],R=[],D=[],O=[],k=0;k<this._colors;++k){var H=p._volume(this._cubes[k],this._weights);H>0?(C[k]=p._volume(this._cubes[k],this._momentsRed)/H|0,R[k]=p._volume(this._cubes[k],this._momentsGreen)/H|0,D[k]=p._volume(this._cubes[k],this._momentsBlue)/H|0,O[k]=p._volume(this._cubes[k],this._momentsAlpha)/H|0):(C[k]=0,R[k]=0,D[k]=0,O[k]=0)}this._reds=d(this._colors+1),this._greens=d(this._colors+1),this._blues=d(this._colors+1),this._alphas=d(this._colors+1),this._sums=d(this._colors+1);for(var T=0,B=this._pixels.length;T<B;T++){for(var Z=this._pixels[T],V=-1,j=V,z=Number.MAX_VALUE,W=0;W<this._colors;W++){var J=C[W],oe=R[W],le=D[W],fe=O[W],$=this._distance.calculateRaw(J,oe,le,fe,Z.r,Z.g,Z.b,Z.a);$<z&&(z=$,j=W)}this._reds[j]+=Z.r,this._greens[j]+=Z.g,this._blues[j]+=Z.b,this._alphas[j]+=Z.a,this._sums[j]++}},p.prototype._addColor=function(_){var w=8-this._significantBitsPerChannel,E=(_.r>>w)+1,A=(_.g>>w)+1,T=(_.b>>w)+1,C=(_.a>>w)+1;this._weights[C][E][A][T]++,this._momentsRed[C][E][A][T]+=_.r,this._momentsGreen[C][E][A][T]+=_.g,this._momentsBlue[C][E][A][T]+=_.b,this._momentsAlpha[C][E][A][T]+=_.a,this._moments[C][E][A][T]+=this._table[_.r]+this._table[_.g]+this._table[_.b]+this._table[_.a]},p.prototype._calculateMoments=function(){for(var _=[],w=[],E=[],A=[],T=[],C=[],R=f(this._sideSize,this._sideSize,this._sideSize),D=f(this._sideSize,this._sideSize,this._sideSize),O=f(this._sideSize,this._sideSize,this._sideSize),k=f(this._sideSize,this._sideSize,this._sideSize),H=f(this._sideSize,this._sideSize,this._sideSize),B=f(this._sideSize,this._sideSize,this._sideSize),Z=1;Z<=this._alphaMaxSideIndex;++Z){s(R,this._sideSize,this._sideSize,this._sideSize,0),s(D,this._sideSize,this._sideSize,this._sideSize,0),s(O,this._sideSize,this._sideSize,this._sideSize,0),s(k,this._sideSize,this._sideSize,this._sideSize,0),s(H,this._sideSize,this._sideSize,this._sideSize,0),s(B,this._sideSize,this._sideSize,this._sideSize,0);for(var V=1;V<=this._maxSideIndex;++V){v(_,this._sideSize,0),v(w,this._sideSize,0),v(E,this._sideSize,0),v(A,this._sideSize,0),v(T,this._sideSize,0),v(C,this._sideSize,0);for(var j=1;j<=this._maxSideIndex;++j)for(var z=0,W=0,J=0,oe=0,le=0,fe=0,$=1;$<=this._maxSideIndex;++$)z+=this._weights[Z][V][j][$],W+=this._momentsRed[Z][V][j][$],J+=this._momentsGreen[Z][V][j][$],oe+=this._momentsBlue[Z][V][j][$],le+=this._momentsAlpha[Z][V][j][$],fe+=this._moments[Z][V][j][$],_[$]+=z,w[$]+=W,E[$]+=J,A[$]+=oe,T[$]+=le,C[$]+=fe,R[V][j][$]=R[V-1][j][$]+_[$],D[V][j][$]=D[V-1][j][$]+w[$],O[V][j][$]=O[V-1][j][$]+E[$],k[V][j][$]=k[V-1][j][$]+A[$],H[V][j][$]=H[V-1][j][$]+T[$],B[V][j][$]=B[V-1][j][$]+C[$],this._weights[Z][V][j][$]=this._weights[Z-1][V][j][$]+R[V][j][$],this._momentsRed[Z][V][j][$]=this._momentsRed[Z-1][V][j][$]+D[V][j][$],this._momentsGreen[Z][V][j][$]=this._momentsGreen[Z-1][V][j][$]+O[V][j][$],this._momentsBlue[Z][V][j][$]=this._momentsBlue[Z-1][V][j][$]+k[V][j][$],this._momentsAlpha[Z][V][j][$]=this._momentsAlpha[Z-1][V][j][$]+H[V][j][$],this._moments[Z][V][j][$]=this._moments[Z-1][V][j][$]+B[V][j][$]}}},p._volumeFloat=function(_,w){return w[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMaximum]-w[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]-w[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+w[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]-w[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+w[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+w[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-w[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(w[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]-w[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]-w[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+w[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-w[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+w[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]+w[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-w[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum])},p._volume=function(_,w){return p._volumeFloat(_,w)|0},p._top=function(_,w,E,A){var T;switch(w){case p.alpha:T=A[E][_.redMaximum][_.greenMaximum][_.blueMaximum]-A[E][_.redMaximum][_.greenMinimum][_.blueMaximum]-A[E][_.redMinimum][_.greenMaximum][_.blueMaximum]+A[E][_.redMinimum][_.greenMinimum][_.blueMaximum]-(A[E][_.redMaximum][_.greenMaximum][_.blueMinimum]-A[E][_.redMaximum][_.greenMinimum][_.blueMinimum]-A[E][_.redMinimum][_.greenMaximum][_.blueMinimum]+A[E][_.redMinimum][_.greenMinimum][_.blueMinimum]);break;case p.red:T=A[_.alphaMaximum][E][_.greenMaximum][_.blueMaximum]-A[_.alphaMaximum][E][_.greenMinimum][_.blueMaximum]-A[_.alphaMinimum][E][_.greenMaximum][_.blueMaximum]+A[_.alphaMinimum][E][_.greenMinimum][_.blueMaximum]-(A[_.alphaMaximum][E][_.greenMaximum][_.blueMinimum]-A[_.alphaMaximum][E][_.greenMinimum][_.blueMinimum]-A[_.alphaMinimum][E][_.greenMaximum][_.blueMinimum]+A[_.alphaMinimum][E][_.greenMinimum][_.blueMinimum]);break;case p.green:T=A[_.alphaMaximum][_.redMaximum][E][_.blueMaximum]-A[_.alphaMaximum][_.redMinimum][E][_.blueMaximum]-A[_.alphaMinimum][_.redMaximum][E][_.blueMaximum]+A[_.alphaMinimum][_.redMinimum][E][_.blueMaximum]-(A[_.alphaMaximum][_.redMaximum][E][_.blueMinimum]-A[_.alphaMaximum][_.redMinimum][E][_.blueMinimum]-A[_.alphaMinimum][_.redMaximum][E][_.blueMinimum]+A[_.alphaMinimum][_.redMinimum][E][_.blueMinimum]);break;case p.blue:T=A[_.alphaMaximum][_.redMaximum][_.greenMaximum][E]-A[_.alphaMaximum][_.redMaximum][_.greenMinimum][E]-A[_.alphaMaximum][_.redMinimum][_.greenMaximum][E]+A[_.alphaMaximum][_.redMinimum][_.greenMinimum][E]-(A[_.alphaMinimum][_.redMaximum][_.greenMaximum][E]-A[_.alphaMinimum][_.redMaximum][_.greenMinimum][E]-A[_.alphaMinimum][_.redMinimum][_.greenMaximum][E]+A[_.alphaMinimum][_.redMinimum][_.greenMinimum][E]);break;default:throw new Error("impossible")}return T|0},p._bottom=function(_,w,E){switch(w){case p.alpha:return-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMaximum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case p.red:return-E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMaximum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case p.green:return-E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMaximum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMaximum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMaximum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMaximum]-(-E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);case p.blue:return-E[_.alphaMaximum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMaximum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMaximum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMaximum][_.redMinimum][_.greenMinimum][_.blueMinimum]-(-E[_.alphaMinimum][_.redMaximum][_.greenMaximum][_.blueMinimum]+E[_.alphaMinimum][_.redMaximum][_.greenMinimum][_.blueMinimum]+E[_.alphaMinimum][_.redMinimum][_.greenMaximum][_.blueMinimum]-E[_.alphaMinimum][_.redMinimum][_.greenMinimum][_.blueMinimum]);default:return 0}},p.prototype._calculateVariance=function(_){var w=p._volume(_,this._momentsRed),E=p._volume(_,this._momentsGreen),A=p._volume(_,this._momentsBlue),T=p._volume(_,this._momentsAlpha),C=p._volumeFloat(_,this._moments),R=p._volume(_,this._weights),D=w*w+E*E+A*A+T*T;return C-D/R},p.prototype._maximize=function(_,w,E,A,T,C,R,D,O){for(var k=p._bottom(_,w,this._momentsRed)|0,H=p._bottom(_,w,this._momentsGreen)|0,B=p._bottom(_,w,this._momentsBlue)|0,Z=p._bottom(_,w,this._momentsAlpha)|0,V=p._bottom(_,w,this._weights)|0,j=0,z=-1,W=E;W<A;++W){var J=k+p._top(_,w,W,this._momentsRed),oe=H+p._top(_,w,W,this._momentsGreen),le=B+p._top(_,w,W,this._momentsBlue),fe=Z+p._top(_,w,W,this._momentsAlpha),$=V+p._top(_,w,W,this._weights);if($!=0){var ae=J*J+oe*oe+le*le+fe*fe,se=ae/$;J=T-J,oe=C-oe,le=R-le,fe=D-fe,$=O-$,$!=0&&(ae=J*J+oe*oe+le*le+fe*fe,se+=ae/$,se>j&&(j=se,z=W))}}return{max:j,position:z}},p.prototype._cut=function(_,w){var E,A=p._volume(_,this._momentsRed),T=p._volume(_,this._momentsGreen),C=p._volume(_,this._momentsBlue),R=p._volume(_,this._momentsAlpha),D=p._volume(_,this._weights),O=this._maximize(_,p.red,_.redMinimum+1,_.redMaximum,A,T,C,R,D),k=this._maximize(_,p.green,_.greenMinimum+1,_.greenMaximum,A,T,C,R,D),H=this._maximize(_,p.blue,_.blueMinimum+1,_.blueMaximum,A,T,C,R,D),B=this._maximize(_,p.alpha,_.alphaMinimum+1,_.alphaMaximum,A,T,C,R,D);if(B.max>=O.max&&B.max>=k.max&&B.max>=H.max){if(E=p.alpha,B.position<0)return!1}else O.max>=B.max&&O.max>=k.max&&O.max>=H.max?E=p.red:k.max>=B.max&&k.max>=O.max&&k.max>=H.max?E=p.green:E=p.blue;switch(w.redMaximum=_.redMaximum,w.greenMaximum=_.greenMaximum,w.blueMaximum=_.blueMaximum,w.alphaMaximum=_.alphaMaximum,E){case p.red:w.redMinimum=_.redMaximum=O.position,w.greenMinimum=_.greenMinimum,w.blueMinimum=_.blueMinimum,w.alphaMinimum=_.alphaMinimum;break;case p.green:w.greenMinimum=_.greenMaximum=k.position,w.redMinimum=_.redMinimum,w.blueMinimum=_.blueMinimum,w.alphaMinimum=_.alphaMinimum;break;case p.blue:w.blueMinimum=_.blueMaximum=H.position,w.redMinimum=_.redMinimum,w.greenMinimum=_.greenMinimum,w.alphaMinimum=_.alphaMinimum;break;case p.alpha:w.alphaMinimum=_.alphaMaximum=B.position,w.blueMinimum=_.blueMinimum,w.redMinimum=_.redMinimum,w.greenMinimum=_.greenMinimum;break}return _.volume=(_.redMaximum-_.redMinimum)*(_.greenMaximum-_.greenMinimum)*(_.blueMaximum-_.blueMinimum)*(_.alphaMaximum-_.alphaMinimum),w.volume=(w.redMaximum-w.redMinimum)*(w.greenMaximum-w.greenMinimum)*(w.blueMaximum-w.blueMinimum)*(w.alphaMaximum-w.alphaMinimum),!0},p.prototype._initialize=function(_){this._colors=_,this._cubes=[];for(var w=0;w<_;w++)this._cubes[w]=new x;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=u(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var E=0;E<256;++E)this._table[E]=E*E;this._pixels=[]},p.prototype._setQuality=function(_){_===void 0&&(_=5),this._significantBitsPerChannel=_,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},p.alpha=3,p.red=2,p.green=1,p.blue=0,p}();l.WuQuant=h},function(o,l,c){"use strict";var g=c(31);l.NearestColor=g.NearestColor;var m=c(32);l.ErrorDiffusionArray=m.ErrorDiffusionArray,l.ErrorDiffusionArrayKernel=m.ErrorDiffusionArrayKernel;var d=c(33);l.ErrorDiffusionRiemersma=d.ErrorDiffusionRiemersma},function(o,l){"use strict";var c=function(){function g(m){this._distance=m}return g.prototype.quantize=function(m,d){for(var u=m.getPointArray(),f=m.getWidth(),s=m.getHeight(),v=0;v<s;v++)for(var x=0,h=v*f;x<f;x++,h++){var p=u[h];p.from(d.getNearestColor(this._distance,p))}return m},g}();l.NearestColor=c},function(o,l,c){"use strict";var g=c(24),m=c(6);(function(f){f[f.FloydSteinberg=0]="FloydSteinberg",f[f.FalseFloydSteinberg=1]="FalseFloydSteinberg",f[f.Stucki=2]="Stucki",f[f.Atkinson=3]="Atkinson",f[f.Jarvis=4]="Jarvis",f[f.Burkes=5]="Burkes",f[f.Sierra=6]="Sierra",f[f.TwoSierra=7]="TwoSierra",f[f.SierraLite=8]="SierraLite"})(l.ErrorDiffusionArrayKernel||(l.ErrorDiffusionArrayKernel={}));var d=l.ErrorDiffusionArrayKernel,u=function(){function f(s,v,x,h,p){x===void 0&&(x=!0),h===void 0&&(h=0),p===void 0&&(p=!1),this._setKernel(v),this._distance=s,this._minColorDistance=h,this._serpentine=x,this._calculateErrorLikeGIMP=p}return f.prototype.quantize=function(s,v){for(var x=s.getPointArray(),h=new g.Point,p=s.getWidth(),_=s.getHeight(),w=[],E=1,A=1,T=0;T<this._kernel.length;T++){var C=this._kernel[T][2]+1;A<C&&(A=C)}for(var T=0;T<A;T++)this._fillErrorLine(w[T]=[],p);for(var R=0;R<_;R++){this._serpentine&&(E=E*-1);var D=R*p,O=E==1?0:p-1,k=E==1?p:-1;this._fillErrorLine(w[0],p),w.push(w.shift());for(var H=w[0],B=O,Z=D+O;B!==k;B+=E,Z+=E){var V=x[Z],j=H[B];h.from(V);var z=g.Point.createByRGBA(m.inRange0to255Rounded(V.r+j[0]),m.inRange0to255Rounded(V.g+j[1]),m.inRange0to255Rounded(V.b+j[2]),m.inRange0to255Rounded(V.a+j[3])),W=v.getNearestColor(this._distance,z);if(V.from(W),this._minColorDistance){var J=this._distance.calculateNormalized(V,W);if(J<this._minColorDistance)continue}var oe=void 0,le=void 0,fe=void 0,$=void 0;this._calculateErrorLikeGIMP?(oe=z.r-W.r,le=z.g-W.g,fe=z.b-W.b,$=z.a-W.a):(oe=h.r-W.r,le=h.g-W.g,fe=h.b-W.b,$=h.a-W.a);for(var ae=E==1?0:this._kernel.length-1,se=E==1?this._kernel.length:-1,T=ae;T!==se;T+=E){var ce=this._kernel[T][1]*E,he=this._kernel[T][2];if(ce+B>=0&&ce+B<p&&he+R>=0&&he+R<_){var we=this._kernel[T][0],xe=w[he][ce+B];xe[0]=xe[0]+oe*we,xe[1]=xe[1]+le*we,xe[2]=xe[2]+fe*we,xe[3]=xe[3]+$*we}}}}return s},f.prototype._fillErrorLine=function(s,v){s.length>v&&(s.length=v);for(var x=s.length,h=0;h<x;h++){var p=s[h];p[0]=p[1]=p[2]=p[3]=0}for(var h=x;h<v;h++)s[h]=[0,0,0,0]},f.prototype._setKernel=function(s){switch(s){case d.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case d.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case d.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case d.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case d.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case d.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case d.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case d.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case d.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+s)}},f}();l.ErrorDiffusionArray=u},function(o,l,c){"use strict";var g=c(34),m=c(24),d=c(6),u=function(){function f(s,v,x){v===void 0&&(v=16),x===void 0&&(x=1),this._distance=s,this._errorPropagation=x,this._errorQueueSize=v,this._max=this._errorQueueSize,this._createWeights()}return f.prototype.quantize=function(s,v){for(var x=this,h=new g.HilbertCurveBase,p=s.getPointArray(),_=s.getWidth(),w=s.getHeight(),E=[],A=0,T=0;T<this._errorQueueSize;T++)E[T]={r:0,g:0,b:0,a:0};return h.walk(_,w,function(C,R){for(var D=p[C+R*_],O=D.r,k=D.g,H=D.b,B=D.a,Z=0;Z<x._errorQueueSize;Z++){var V=x._weights[Z],j=E[(Z+A)%x._errorQueueSize];O+=j.r*V,k+=j.g*V,H+=j.b*V,B+=j.a*V}var z=m.Point.createByRGBA(d.inRange0to255Rounded(O),d.inRange0to255Rounded(k),d.inRange0to255Rounded(H),d.inRange0to255Rounded(B)),W=v.getNearestColor(x._distance,z);A=(A+1)%x._errorQueueSize;var J=(A+x._errorQueueSize-1)%x._errorQueueSize;E[J].r=D.r-W.r,E[J].g=D.g-W.g,E[J].b=D.b-W.b,E[J].a=D.a-W.a,D.from(W)}),s},f.prototype._createWeights=function(){this._weights=[];for(var s=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),v=0,x=1;v<this._errorQueueSize;v++)this._weights[v]=(x+.5|0)/this._max*this._errorPropagation,x*=s},f}();l.ErrorDiffusionRiemersma=u},function(o,l){"use strict";var c;(function(m){m[m.NONE=0]="NONE",m[m.UP=1]="UP",m[m.LEFT=2]="LEFT",m[m.RIGHT=3]="RIGHT",m[m.DOWN=4]="DOWN"})(c||(c={}));var g=function(){function m(){}return m.prototype.walk=function(d,u,f){this._x=0,this._y=0,this._d=0,this._width=d,this._height=u,this._callback=f;var s=Math.max(d,u);this._level=Math.log(s)/Math.log(2)+1|0,this._walkHilbert(c.UP),this._visit(c.NONE)},m.prototype._walkHilbert=function(d){if(!(this._level<1)){switch(this._level--,d){case c.LEFT:this._walkHilbert(c.UP),this._visit(c.RIGHT),this._walkHilbert(c.LEFT),this._visit(c.DOWN),this._walkHilbert(c.LEFT),this._visit(c.LEFT),this._walkHilbert(c.DOWN);break;case c.RIGHT:this._walkHilbert(c.DOWN),this._visit(c.LEFT),this._walkHilbert(c.RIGHT),this._visit(c.UP),this._walkHilbert(c.RIGHT),this._visit(c.RIGHT),this._walkHilbert(c.UP);break;case c.UP:this._walkHilbert(c.LEFT),this._visit(c.DOWN),this._walkHilbert(c.UP),this._visit(c.RIGHT),this._walkHilbert(c.UP),this._visit(c.UP),this._walkHilbert(c.RIGHT);break;case c.DOWN:this._walkHilbert(c.RIGHT),this._visit(c.UP),this._walkHilbert(c.DOWN),this._visit(c.LEFT),this._walkHilbert(c.DOWN),this._visit(c.DOWN),this._walkHilbert(c.LEFT);break;default:break}this._level++}},m.prototype._visit=function(d){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),d){case c.LEFT:this._x--;break;case c.RIGHT:this._x++;break;case c.UP:this._y--;break;case c.DOWN:this._y++;break}},m}();l.HilbertCurveBase=g},function(o,l,c){"use strict";var g=c(36);l.SSIM=g.SSIM},function(o,l,c){"use strict";var g=c(2),m=.01,d=.03,u=function(){function f(){}return f.prototype.compare=function(s,v){if(s.getHeight()!==v.getHeight()||s.getWidth()!==v.getWidth())throw new Error("Images have different sizes!");var x=8,h=(1<<x)-1,p=Math.pow(m*h,2),_=Math.pow(d*h,2),w=0,E=0;return this._iterate(s,v,function(A,T,C,R){for(var D=0,O=0,k=0,H=0;H<A.length;H++)O+=Math.pow(A[H]-C,2),k+=Math.pow(T[H]-R,2),D+=(A[H]-C)*(T[H]-R);var B=A.length-1;O/=B,k/=B,D/=B;var Z=(2*C*R+p)*(2*D+_),V=(Math.pow(C,2)+Math.pow(R,2)+p)*(O+k+_),j=Z/V;E+=j,w++}),E/w},f.prototype._iterate=function(s,v,x){for(var h=8,p=s.getWidth(),_=s.getHeight(),w=0;w<_;w+=h)for(var E=0;E<p;E+=h){var A=Math.min(h,p-E),T=Math.min(h,_-w),C=this._calculateLumaValuesForWindow(s,E,w,A,T),R=this._calculateLumaValuesForWindow(v,E,w,A,T),D=this._calculateAverageLuma(C),O=this._calculateAverageLuma(R);x(C,R,D,O)}},f.prototype._calculateLumaValuesForWindow=function(s,v,x,h,p){for(var _=s.getPointArray(),w=[],E=0,A=x;A<x+p;A++)for(var T=A*s.getWidth(),C=v;C<v+h;C++){var R=_[T+C];w[E]=R.r*g.Y.RED+R.g*g.Y.GREEN+R.b*g.Y.BLUE,E++}return w},f.prototype._calculateAverageLuma=function(s){for(var v=0,x=0;x<s.length;x++)v+=s[x];return v/s.length},f}();l.SSIM=u},function(o,l,c){"use strict";var g=c(6);l.arithmetic=g;var m=c(28);l.HueStatistics=m.HueStatistics;var d=c(22);l.Palette=d.Palette;var u=c(24);l.Point=u.Point;var f=c(23);l.PointContainer=f.PointContainer}])})},{}],75:[function(n,i,a){typeof Object.create=="function"?i.exports=function(l,c){c&&(l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(l,c){if(c){l.super_=c;var g=function(){};g.prototype=c.prototype,l.prototype=new g,l.prototype.constructor=l}}},{}],76:[function(n,i,a){i.exports=function(c){return c!=null&&(o(c)||l(c)||!!c._isBuffer)};function o(c){return!!c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)}function l(c){return typeof c.readFloatLE=="function"&&typeof c.slice=="function"&&o(c.slice(0,0))}},{}],77:[function(n,i,a){"use strict";var o=Function.prototype.toString,l=/^\s*class\b/,c=function(v){try{var x=o.call(v);return l.test(x)}catch{return!1}},g=function(v){try{return c(v)?!1:(o.call(v),!0)}catch{return!1}},m=Object.prototype.toString,d="[object Function]",u="[object GeneratorFunction]",f=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";i.exports=function(v){if(!v||typeof v!="function"&&typeof v!="object")return!1;if(typeof v=="function"&&!v.prototype)return!0;if(f)return g(v);if(c(v))return!1;var x=m.call(v);return x===d||x===u}},{}],78:[function(n,i,a){i.exports=l;var o=Object.prototype.toString;function l(c){var g=o.call(c);return g==="[object Function]"||typeof c=="function"&&g!=="[object RegExp]"||typeof Bt!="undefined"&&(c===Bt.setTimeout||c===Bt.alert||c===Bt.confirm||c===Bt.prompt)}},{}],79:[function(n,i,a){var o={}.toString;i.exports=Array.isArray||function(l){return o.call(l)=="[object Array]"}},{}],80:[function(n,i,a){var o=n("./lib/encoder"),l=n("./lib/decoder");i.exports={encode:o,decode:l}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(n,i,a){(function(o){var l=function(){"use strict";var m=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),d=4017,u=799,f=3406,s=2276,v=1567,x=3784,h=5793,p=2896;function _(){}function w(O,k){for(var H=0,B=[],Z,V,j=16;j>0&&!O[j-1];)j--;B.push({children:[],index:0});var z=B[0],W;for(Z=0;Z<j;Z++){for(V=0;V<O[Z];V++){for(z=B.pop(),z.children[z.index]=k[H];z.index>0;){if(B.length===0)throw new Error("Could not recreate Huffman Table");z=B.pop()}for(z.index++,B.push(z);B.length<=Z;)B.push(W={children:[],index:0}),z.children[z.index]=W.children,z=W;H++}Z+1<j&&(B.push(W={children:[],index:0}),z.children[z.index]=W.children,z=W)}return B[0].children}function E(O,k,H,B,Z,V,j,z,W,J){var oe=H.precision,le=H.samplesPerLine,fe=H.scanLines,$=H.mcusPerLine,ae=H.progressive,se=H.maxH,ce=H.maxV,he=k,we=0,xe=0;function Oe(){if(xe>0)return xe--,we>>xe&1;if(we=O[k++],we==255){var X=O[k++];if(X)throw new Error("unexpected marker: "+(we<<8|X).toString(16))}return xe=7,we>>>7}function ge(X){for(var Ae=X,ke;(ke=Oe())!==null;){if(Ae=Ae[ke],typeof Ae=="number")return Ae;if(typeof Ae!="object")throw new Error("invalid huffman sequence")}return null}function De(X){for(var Ae=0;X>0;){var ke=Oe();if(ke===null)return;Ae=Ae<<1|ke,X--}return Ae}function pe(X){var Ae=De(X);return Ae>=1<<X-1?Ae:Ae+(-1<<X)+1}function de(X,Ae){var ke=ge(X.huffmanTableDC),Je=ke===0?0:pe(ke);Ae[0]=X.pred+=Je;for(var Re=1;Re<64;){var He=ge(X.huffmanTableAC),ue=He&15,Ke=He>>4;if(ue===0){if(Ke<15)break;Re+=16;continue}Re+=Ke;var pt=m[Re];Ae[pt]=pe(ue),Re++}}function ie(X,Ae){var ke=ge(X.huffmanTableDC),Je=ke===0?0:pe(ke)<<W;Ae[0]=X.pred+=Je}function re(X,Ae){Ae[0]|=Oe()<<W}var q=0;function te(X,Ae){if(q>0){q--;return}for(var ke=V,Je=j;ke<=Je;){var Re=ge(X.huffmanTableAC),He=Re&15,ue=Re>>4;if(He===0){if(ue<15){q=De(ue)+(1<<ue)-1;break}ke+=16;continue}ke+=ue;var Ke=m[ke];Ae[Ke]=pe(He)*(1<<W),ke++}}var G=0,P;function I(X,Ae){for(var ke=V,Je=j,Re=0;ke<=Je;){var He=m[ke],ue=Ae[He]<0?-1:1;switch(G){case 0:var Ke=ge(X.huffmanTableAC),pt=Ke&15,Re=Ke>>4;if(pt===0)Re<15?(q=De(Re)+(1<<Re),G=4):(Re=16,G=1);else{if(pt!==1)throw new Error("invalid ACn encoding");P=pe(pt),G=Re?2:3}continue;case 1:case 2:Ae[He]?Ae[He]+=(Oe()<<W)*ue:(Re--,Re===0&&(G=G==2?3:0));break;case 3:Ae[He]?Ae[He]+=(Oe()<<W)*ue:(Ae[He]=P<<W,G=0);break;case 4:Ae[He]&&(Ae[He]+=(Oe()<<W)*ue);break}ke++}G===4&&(q--,q===0&&(G=0))}function U(X,Ae,ke,Je,Re){var He=ke/$|0,ue=ke%$,Ke=He*X.v+Je,pt=ue*X.h+Re;X.blocks[Ke]===void 0&&J.tolerantDecoding||Ae(X,X.blocks[Ke][pt])}function Q(X,Ae,ke){var Je=ke/X.blocksPerLine|0,Re=ke%X.blocksPerLine;X.blocks[Je]===void 0&&J.tolerantDecoding||Ae(X,X.blocks[Je][Re])}var ye=B.length,Ie,be,Pe,ze,qe,Ye;ae?V===0?Ye=z===0?ie:re:Ye=z===0?te:I:Ye=de;var Me=0,Ge,et;ye==1?et=B[0].blocksPerLine*B[0].blocksPerColumn:et=$*H.mcusPerColumn,Z||(Z=et);for(var ut,ct;Me<et;){for(be=0;be<ye;be++)B[be].pred=0;if(q=0,ye==1)for(Ie=B[0],qe=0;qe<Z;qe++)Q(Ie,Ye,Me),Me++;else for(qe=0;qe<Z;qe++){for(be=0;be<ye;be++)for(Ie=B[be],ut=Ie.h,ct=Ie.v,Pe=0;Pe<ct;Pe++)for(ze=0;ze<ut;ze++)U(Ie,Ye,Me,Pe,ze);if(Me++,Me===et)break}if(Me===et)do{if(O[k]===255&&O[k+1]!==0)break;k+=1}while(k<O.length-2);if(xe=0,Ge=O[k]<<8|O[k+1],Ge<65280)throw new Error("marker was not found");if(Ge>=65488&&Ge<=65495)k+=2;else break}return k-he}function A(O,k){var H=[],B=k.blocksPerLine,Z=k.blocksPerColumn,V=B<<3,j=new Int32Array(64),z=new Uint8Array(64);function W(he,we,xe){var Oe=k.quantizationTable,ge,De,pe,de,ie,re,q,te,G,P=xe,I;for(I=0;I<64;I++)P[I]=he[I]*Oe[I];for(I=0;I<8;++I){var U=8*I;if(P[1+U]==0&&P[2+U]==0&&P[3+U]==0&&P[4+U]==0&&P[5+U]==0&&P[6+U]==0&&P[7+U]==0){G=h*P[0+U]+512>>10,P[0+U]=G,P[1+U]=G,P[2+U]=G,P[3+U]=G,P[4+U]=G,P[5+U]=G,P[6+U]=G,P[7+U]=G;continue}ge=h*P[0+U]+128>>8,De=h*P[4+U]+128>>8,pe=P[2+U],de=P[6+U],ie=p*(P[1+U]-P[7+U])+128>>8,te=p*(P[1+U]+P[7+U])+128>>8,re=P[3+U]<<4,q=P[5+U]<<4,G=ge-De+1>>1,ge=ge+De+1>>1,De=G,G=pe*x+de*v+128>>8,pe=pe*v-de*x+128>>8,de=G,G=ie-q+1>>1,ie=ie+q+1>>1,q=G,G=te+re+1>>1,re=te-re+1>>1,te=G,G=ge-de+1>>1,ge=ge+de+1>>1,de=G,G=De-pe+1>>1,De=De+pe+1>>1,pe=G,G=ie*s+te*f+2048>>12,ie=ie*f-te*s+2048>>12,te=G,G=re*u+q*d+2048>>12,re=re*d-q*u+2048>>12,q=G,P[0+U]=ge+te,P[7+U]=ge-te,P[1+U]=De+q,P[6+U]=De-q,P[2+U]=pe+re,P[5+U]=pe-re,P[3+U]=de+ie,P[4+U]=de-ie}for(I=0;I<8;++I){var Q=I;if(P[1*8+Q]==0&&P[2*8+Q]==0&&P[3*8+Q]==0&&P[4*8+Q]==0&&P[5*8+Q]==0&&P[6*8+Q]==0&&P[7*8+Q]==0){G=h*xe[I+0]+8192>>14,P[0*8+Q]=G,P[1*8+Q]=G,P[2*8+Q]=G,P[3*8+Q]=G,P[4*8+Q]=G,P[5*8+Q]=G,P[6*8+Q]=G,P[7*8+Q]=G;continue}ge=h*P[0*8+Q]+2048>>12,De=h*P[4*8+Q]+2048>>12,pe=P[2*8+Q],de=P[6*8+Q],ie=p*(P[1*8+Q]-P[7*8+Q])+2048>>12,te=p*(P[1*8+Q]+P[7*8+Q])+2048>>12,re=P[3*8+Q],q=P[5*8+Q],G=ge-De+1>>1,ge=ge+De+1>>1,De=G,G=pe*x+de*v+2048>>12,pe=pe*v-de*x+2048>>12,de=G,G=ie-q+1>>1,ie=ie+q+1>>1,q=G,G=te+re+1>>1,re=te-re+1>>1,te=G,G=ge-de+1>>1,ge=ge+de+1>>1,de=G,G=De-pe+1>>1,De=De+pe+1>>1,pe=G,G=ie*s+te*f+2048>>12,ie=ie*f-te*s+2048>>12,te=G,G=re*u+q*d+2048>>12,re=re*d-q*u+2048>>12,q=G,P[0*8+Q]=ge+te,P[7*8+Q]=ge-te,P[1*8+Q]=De+q,P[6*8+Q]=De-q,P[2*8+Q]=pe+re,P[5*8+Q]=pe-re,P[3*8+Q]=de+ie,P[4*8+Q]=de-ie}for(I=0;I<64;++I){var ye=128+(P[I]+8>>4);we[I]=ye<0?0:ye>255?255:ye}}D(V*Z*8);for(var J,oe,le=0;le<Z;le++){var fe=le<<3;for(J=0;J<8;J++)H.push(new Uint8Array(V));for(var $=0;$<B;$++){W(k.blocks[le][$],z,j);var ae=0,se=$<<3;for(oe=0;oe<8;oe++){var ce=H[fe+oe];for(J=0;J<8;J++)ce[se+J]=z[ae++]}}}return H}function T(O){return O<0?0:O>255?255:O}_.prototype={load:function(k){var H=new XMLHttpRequest;H.open("GET",k,!0),H.responseType="arraybuffer",H.onload=function(){var B=new Uint8Array(H.response||H.mozResponseArrayBuffer);this.parse(B),this.onload&&this.onload()}.bind(this),H.send(null)},parse:function(k){var H=this.opts.maxResolutionInMP*1e3*1e3,B=0,Z=k.length;function V(){var ue=k[B]<<8|k[B+1];return B+=2,ue}function j(){var ue=V(),Ke=k.subarray(B,B+ue-2);return B+=Ke.length,Ke}function z(ue){var Ke=0,pt=0,L,Le;for(Le in ue.components)ue.components.hasOwnProperty(Le)&&(L=ue.components[Le],Ke<L.h&&(Ke=L.h),pt<L.v&&(pt=L.v));var Ue=Math.ceil(ue.samplesPerLine/8/Ke),Y=Math.ceil(ue.scanLines/8/pt);for(Le in ue.components)if(ue.components.hasOwnProperty(Le)){L=ue.components[Le];var Se=Math.ceil(Math.ceil(ue.samplesPerLine/8)*L.h/Ke),Ve=Math.ceil(Math.ceil(ue.scanLines/8)*L.v/pt),lt=Ue*L.h,ve=Y*L.v,Be=ve*lt,je=[];D(Be*256);for(var tt=0;tt<ve;tt++){for(var it=[],gt=0;gt<lt;gt++)it.push(new Int32Array(64));je.push(it)}L.blocksPerLine=Se,L.blocksPerColumn=Ve,L.blocks=je}ue.maxH=Ke,ue.maxV=pt,ue.mcusPerLine=Ue,ue.mcusPerColumn=Y}var W=null,J=null,oe=null,le,fe,$=[],ae=[],se=[],ce=[],he=V();if(this.comments=[],he!=65496)throw new Error("SOI not found");for(he=V();he!=65497;){var we,xe,Oe;switch(he){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ge=j();if(he===65534){var De=String.fromCharCode.apply(null,ge);this.comments.push(De)}he===65504&&ge[0]===74&&ge[1]===70&&ge[2]===73&&ge[3]===70&&ge[4]===0&&(W={version:{major:ge[5],minor:ge[6]},densityUnits:ge[7],xDensity:ge[8]<<8|ge[9],yDensity:ge[10]<<8|ge[11],thumbWidth:ge[12],thumbHeight:ge[13],thumbData:ge.subarray(14,14+3*ge[12]*ge[13])}),he===65505&&ge[0]===69&&ge[1]===120&&ge[2]===105&&ge[3]===102&&ge[4]===0&&(this.exifBuffer=ge.subarray(5,ge.length)),he===65518&&ge[0]===65&&ge[1]===100&&ge[2]===111&&ge[3]===98&&ge[4]===101&&ge[5]===0&&(J={version:ge[6],flags0:ge[7]<<8|ge[8],flags1:ge[9]<<8|ge[10],transformCode:ge[11]});break;case 65499:for(var pe=V(),de=pe+B-2;B<de;){var ie=k[B++];D(64*4);var re=new Int32Array(64);if(ie>>4==0)for(xe=0;xe<64;xe++){var q=m[xe];re[q]=k[B++]}else if(ie>>4==1)for(xe=0;xe<64;xe++){var q=m[xe];re[q]=V()}else throw new Error("DQT: invalid table spec");$[ie&15]=re}break;case 65472:case 65473:case 65474:V(),le={},le.extended=he===65473,le.progressive=he===65474,le.precision=k[B++],le.scanLines=V(),le.samplesPerLine=V(),le.components={},le.componentsOrder=[];var te=le.scanLines*le.samplesPerLine;if(te>H){var G=Math.ceil((te-H)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${G}MP`)}var P=k[B++],I,U=0,Q=0;for(we=0;we<P;we++){I=k[B];var ye=k[B+1]>>4,Ie=k[B+1]&15,be=k[B+2];le.componentsOrder.push(I),le.components[I]={h:ye,v:Ie,quantizationIdx:be},B+=3}z(le),ae.push(le);break;case 65476:var Pe=V();for(we=2;we<Pe;){var ze=k[B++],qe=new Uint8Array(16),Ye=0;for(xe=0;xe<16;xe++,B++)Ye+=qe[xe]=k[B];D(16+Ye);var Me=new Uint8Array(Ye);for(xe=0;xe<Ye;xe++,B++)Me[xe]=k[B];we+=17+Ye,(ze>>4==0?ce:se)[ze&15]=w(qe,Me)}break;case 65501:V(),fe=V();break;case 65500:V(),V();break;case 65498:var Ge=V(),et=k[B++],ut=[],ct;for(we=0;we<et;we++){ct=le.components[k[B++]];var X=k[B++];ct.huffmanTableDC=ce[X>>4],ct.huffmanTableAC=se[X&15],ut.push(ct)}var Ae=k[B++],ke=k[B++],Je=k[B++],Re=E(k,B,le,ut,fe,Ae,ke,Je>>4,Je&15,this.opts);B+=Re;break;case 65535:k[B]!==255&&B--;break;default:if(k[B-3]==255&&k[B-2]>=192&&k[B-2]<=254){B-=3;break}throw new Error("unknown JPEG marker "+he.toString(16))}he=V()}if(ae.length!=1)throw new Error("only single frame JPEGs supported");for(var we=0;we<ae.length;we++){var He=ae[we].components;for(var xe in He)He[xe].quantizationTable=$[He[xe].quantizationIdx],delete He[xe].quantizationIdx}this.width=le.samplesPerLine,this.height=le.scanLines,this.jfif=W,this.adobe=J,this.components=[];for(var we=0;we<le.componentsOrder.length;we++){var ct=le.components[le.componentsOrder[we]];this.components.push({lines:A(le,ct),scaleX:ct.h/le.maxH,scaleY:ct.v/le.maxV})}},getData:function(k,H){var B=this.width/k,Z=this.height/H,V,j,z,W,J,oe,le,fe,$,ae,se=0,ce,he,we,xe,Oe,ge,De,pe,de,ie,re,q=k*H*this.components.length;D(q);var te=new Uint8Array(q);switch(this.components.length){case 1:for(V=this.components[0],ae=0;ae<H;ae++)for(J=V.lines[0|ae*V.scaleY*Z],$=0;$<k;$++)ce=J[0|$*V.scaleX*B],te[se++]=ce;break;case 2:for(V=this.components[0],j=this.components[1],ae=0;ae<H;ae++)for(J=V.lines[0|ae*V.scaleY*Z],oe=j.lines[0|ae*j.scaleY*Z],$=0;$<k;$++)ce=J[0|$*V.scaleX*B],te[se++]=ce,ce=oe[0|$*j.scaleX*B],te[se++]=ce;break;case 3:for(re=!0,this.adobe&&this.adobe.transformCode?re=!0:typeof this.opts.colorTransform!="undefined"&&(re=!!this.opts.colorTransform),V=this.components[0],j=this.components[1],z=this.components[2],ae=0;ae<H;ae++)for(J=V.lines[0|ae*V.scaleY*Z],oe=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],$=0;$<k;$++)re?(ce=J[0|$*V.scaleX*B],he=oe[0|$*j.scaleX*B],we=le[0|$*z.scaleX*B],pe=T(ce+1.402*(we-128)),de=T(ce-.3441363*(he-128)-.71413636*(we-128)),ie=T(ce+1.772*(he-128))):(pe=J[0|$*V.scaleX*B],de=oe[0|$*j.scaleX*B],ie=le[0|$*z.scaleX*B]),te[se++]=pe,te[se++]=de,te[se++]=ie;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(re=!1,this.adobe&&this.adobe.transformCode?re=!0:typeof this.opts.colorTransform!="undefined"&&(re=!!this.opts.colorTransform),V=this.components[0],j=this.components[1],z=this.components[2],W=this.components[3],ae=0;ae<H;ae++)for(J=V.lines[0|ae*V.scaleY*Z],oe=j.lines[0|ae*j.scaleY*Z],le=z.lines[0|ae*z.scaleY*Z],fe=W.lines[0|ae*W.scaleY*Z],$=0;$<k;$++)re?(ce=J[0|$*V.scaleX*B],he=oe[0|$*j.scaleX*B],we=le[0|$*z.scaleX*B],xe=fe[0|$*W.scaleX*B],Oe=255-T(ce+1.402*(we-128)),ge=255-T(ce-.3441363*(he-128)-.71413636*(we-128)),De=255-T(ce+1.772*(he-128))):(Oe=J[0|$*V.scaleX*B],ge=oe[0|$*j.scaleX*B],De=le[0|$*z.scaleX*B],xe=fe[0|$*W.scaleX*B]),te[se++]=255-Oe,te[se++]=255-ge,te[se++]=255-De,te[se++]=255-xe;break;default:throw new Error("Unsupported color mode")}return te},copyToImageData:function(k,H){var B=k.width,Z=k.height,V=k.data,j=this.getData(B,Z),z=0,W=0,J,oe,le,fe,$,ae,se,ce,he;switch(this.components.length){case 1:for(oe=0;oe<Z;oe++)for(J=0;J<B;J++)le=j[z++],V[W++]=le,V[W++]=le,V[W++]=le,H&&(V[W++]=255);break;case 3:for(oe=0;oe<Z;oe++)for(J=0;J<B;J++)se=j[z++],ce=j[z++],he=j[z++],V[W++]=se,V[W++]=ce,V[W++]=he,H&&(V[W++]=255);break;case 4:for(oe=0;oe<Z;oe++)for(J=0;J<B;J++)$=j[z++],ae=j[z++],le=j[z++],fe=j[z++],se=255-T($*(1-fe/255)+fe),ce=255-T(ae*(1-fe/255)+fe),he=255-T(le*(1-fe/255)+fe),V[W++]=se,V[W++]=ce,V[W++]=he,H&&(V[W++]=255);break;default:throw new Error("Unsupported color mode")}}};var C=0,R=0;function D(O=0){var k=C+O;if(k>R){var H=Math.ceil((k-R)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${H}MB`)}C=k}return _.resetMaxMemoryUsage=function(O){C=0,R=O},_.getBytesAllocated=function(){return C},_.requestMemoryAllocation=D,_}();typeof i!="undefined"?i.exports=c:typeof Bt!="undefined"&&(Bt["jpeg-js"]=Bt["jpeg-js"]||{},Bt["jpeg-js"].decode=c);function c(g,m={}){var d={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},u={...d,...m},f=new Uint8Array(g),s=new l;s.opts=u,l.resetMaxMemoryUsage(u.maxMemoryUsageInMB*1024*1024),s.parse(f);var v=u.formatAsRGBA?4:3,x=s.width*s.height*v;try{l.requestMemoryAllocation(x);var h={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:u.useTArray?new Uint8Array(x):o.alloc(x)};s.comments.length>0&&(h.comments=s.comments)}catch(p){throw p instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+x):p}return s.copyToImageData(h,u.formatAsRGBA),h}}).call(this,n("buffer").Buffer)},{buffer:48}],82:[function(n,i,a){(function(o){var l=l||function(d){return o.from(d).toString("base64")};function c(d){var u=this,f=Math.round,s=Math.floor,v=new Array(64),x=new Array(64),h=new Array(64),p=new Array(64),_,w,E,A,T=new Array(65535),C=new Array(65535),R=new Array(64),D=new Array(64),O=[],k=0,H=7,B=new Array(64),Z=new Array(64),V=new Array(64),j=new Array(256),z=new Array(2048),W,J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],oe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ae=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(Pe){for(var ze=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],qe=0;qe<64;qe++){var Ye=s((ze[qe]*Pe+50)/100);Ye<1?Ye=1:Ye>255&&(Ye=255),v[J[qe]]=Ye}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ge=0;Ge<64;Ge++){var et=s((Me[Ge]*Pe+50)/100);et<1?et=1:et>255&&(et=255),x[J[Ge]]=et}for(var ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ct=0,X=0;X<8;X++)for(var Ae=0;Ae<8;Ae++)h[ct]=1/(v[J[ct]]*ut[X]*ut[Ae]*8),p[ct]=1/(x[J[ct]]*ut[X]*ut[Ae]*8),ct++}function xe(Pe,ze){for(var qe=0,Ye=0,Me=new Array,Ge=1;Ge<=16;Ge++){for(var et=1;et<=Pe[Ge];et++)Me[ze[Ye]]=[],Me[ze[Ye]][0]=qe,Me[ze[Ye]][1]=Ge,Ye++,qe++;qe*=2}return Me}function Oe(){_=xe(oe,le),w=xe(ae,se),E=xe(fe,$),A=xe(ce,he)}function ge(){for(var Pe=1,ze=2,qe=1;qe<=15;qe++){for(var Ye=Pe;Ye<ze;Ye++)C[32767+Ye]=qe,T[32767+Ye]=[],T[32767+Ye][1]=qe,T[32767+Ye][0]=Ye;for(var Me=-(ze-1);Me<=-Pe;Me++)C[32767+Me]=qe,T[32767+Me]=[],T[32767+Me][1]=qe,T[32767+Me][0]=ze-1+Me;Pe<<=1,ze<<=1}}function De(){for(var Pe=0;Pe<256;Pe++)z[Pe]=19595*Pe,z[Pe+256>>0]=38470*Pe,z[Pe+512>>0]=7471*Pe+32768,z[Pe+768>>0]=-11059*Pe,z[Pe+1024>>0]=-21709*Pe,z[Pe+1280>>0]=32768*Pe+8421375,z[Pe+1536>>0]=-27439*Pe,z[Pe+1792>>0]=-5329*Pe}function pe(Pe){for(var ze=Pe[0],qe=Pe[1]-1;qe>=0;)ze&1<<qe&&(k|=1<<H),qe--,H--,H<0&&(k==255?(de(255),de(0)):de(k),H=7,k=0)}function de(Pe){O.push(Pe)}function ie(Pe){de(Pe>>8&255),de(Pe&255)}function re(Pe,ze){var qe,Ye,Me,Ge,et,ut,ct,X,Ae=0,ke,Je=8,Re=64;for(ke=0;ke<Je;++ke){qe=Pe[Ae],Ye=Pe[Ae+1],Me=Pe[Ae+2],Ge=Pe[Ae+3],et=Pe[Ae+4],ut=Pe[Ae+5],ct=Pe[Ae+6],X=Pe[Ae+7];var He=qe+X,ue=qe-X,Ke=Ye+ct,pt=Ye-ct,L=Me+ut,Le=Me-ut,Ue=Ge+et,Y=Ge-et,Se=He+Ue,Ve=He-Ue,lt=Ke+L,ve=Ke-L;Pe[Ae]=Se+lt,Pe[Ae+4]=Se-lt;var Be=(ve+Ve)*.707106781;Pe[Ae+2]=Ve+Be,Pe[Ae+6]=Ve-Be,Se=Y+Le,lt=Le+pt,ve=pt+ue;var je=(Se-ve)*.382683433,tt=.5411961*Se+je,it=1.306562965*ve+je,gt=lt*.707106781,yt=ue+gt,Ct=ue-gt;Pe[Ae+5]=Ct+tt,Pe[Ae+3]=Ct-tt,Pe[Ae+1]=yt+it,Pe[Ae+7]=yt-it,Ae+=8}for(Ae=0,ke=0;ke<Je;++ke){qe=Pe[Ae],Ye=Pe[Ae+8],Me=Pe[Ae+16],Ge=Pe[Ae+24],et=Pe[Ae+32],ut=Pe[Ae+40],ct=Pe[Ae+48],X=Pe[Ae+56];var At=qe+X,Yt=qe-X,zt=Ye+ct,Rt=Ye-ct,Qt=Me+ut,hn=Me-ut,Ft=Ge+et,kn=Ge-et,Vt=At+Ft,on=At-Ft,fn=zt+Qt,Kn=zt-Qt;Pe[Ae]=Vt+fn,Pe[Ae+32]=Vt-fn;var Sn=(Kn+on)*.707106781;Pe[Ae+16]=on+Sn,Pe[Ae+48]=on-Sn,Vt=kn+hn,fn=hn+Rt,Kn=Rt+Yt;var en=(Vt-Kn)*.382683433,Mr=.5411961*Vt+en,$n=1.306562965*Kn+en,Tr=fn*.707106781,Oo=Yt+Tr,Ql=Yt-Tr;Pe[Ae+40]=Ql+Mr,Pe[Ae+24]=Ql-Mr,Pe[Ae+8]=Oo+$n,Pe[Ae+56]=Oo-$n,Ae++}var eo;for(ke=0;ke<Re;++ke)eo=Pe[ke]*ze[ke],R[ke]=eo>0?eo+.5|0:eo-.5|0;return R}function q(){ie(65504),ie(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),ie(1),ie(1),de(0),de(0)}function te(Pe){if(!!Pe){ie(65505),Pe[0]===69&&Pe[1]===120&&Pe[2]===105&&Pe[3]===102?ie(Pe.length+2):(ie(Pe.length+5+2),de(69),de(120),de(105),de(102),de(0));for(var ze=0;ze<Pe.length;ze++)de(Pe[ze])}}function G(Pe,ze){ie(65472),ie(17),de(8),ie(ze),ie(Pe),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)}function P(){ie(65499),ie(132),de(0);for(var Pe=0;Pe<64;Pe++)de(v[Pe]);de(1);for(var ze=0;ze<64;ze++)de(x[ze])}function I(){ie(65476),ie(418),de(0);for(var Pe=0;Pe<16;Pe++)de(oe[Pe+1]);for(var ze=0;ze<=11;ze++)de(le[ze]);de(16);for(var qe=0;qe<16;qe++)de(fe[qe+1]);for(var Ye=0;Ye<=161;Ye++)de($[Ye]);de(1);for(var Me=0;Me<16;Me++)de(ae[Me+1]);for(var Ge=0;Ge<=11;Ge++)de(se[Ge]);de(17);for(var et=0;et<16;et++)de(ce[et+1]);for(var ut=0;ut<=161;ut++)de(he[ut])}function U(){ie(65498),ie(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0)}function Q(Pe,ze,qe,Ye,Me){for(var Ge=Me[0],et=Me[240],ut,ct=16,X=63,Ae=64,ke=re(Pe,ze),Je=0;Je<Ae;++Je)D[J[Je]]=ke[Je];var Re=D[0]-qe;qe=D[0],Re==0?pe(Ye[0]):(ut=32767+Re,pe(Ye[C[ut]]),pe(T[ut]));for(var He=63;He>0&&D[He]==0;He--);if(He==0)return pe(Ge),qe;for(var ue=1,Ke;ue<=He;){for(var pt=ue;D[ue]==0&&ue<=He;++ue);var L=ue-pt;if(L>=ct){Ke=L>>4;for(var Le=1;Le<=Ke;++Le)pe(et);L=L&15}ut=32767+D[ue],pe(Me[(L<<4)+C[ut]]),pe(T[ut]),ue++}return He!=X&&pe(Ge),qe}function ye(){for(var Pe=String.fromCharCode,ze=0;ze<256;ze++)j[ze]=Pe(ze)}this.encode=function(Pe,ze){var qe=new Date().getTime();ze&&Ie(ze),O=new Array,k=0,H=7,ie(65496),q(),te(Pe.exifBuffer),P(),G(Pe.width,Pe.height),I(),U();var Ye=0,Me=0,Ge=0;k=0,H=7,this.encode.displayName="_encode_";for(var et=Pe.data,ut=Pe.width,ct=Pe.height,X=ut*4,Ae=ut*3,ke,Je=0,Re,He,ue,Ke,pt,L,Le,Ue;Je<ct;){for(ke=0;ke<X;){for(Ke=X*Je+ke,pt=Ke,L=-1,Le=0,Ue=0;Ue<64;Ue++)Le=Ue>>3,L=(Ue&7)*4,pt=Ke+Le*X+L,Je+Le>=ct&&(pt-=X*(Je+1+Le-ct)),ke+L>=X&&(pt-=ke+L-X+4),Re=et[pt++],He=et[pt++],ue=et[pt++],B[Ue]=(z[Re]+z[He+256>>0]+z[ue+512>>0]>>16)-128,Z[Ue]=(z[Re+768>>0]+z[He+1024>>0]+z[ue+1280>>0]>>16)-128,V[Ue]=(z[Re+1280>>0]+z[He+1536>>0]+z[ue+1792>>0]>>16)-128;Ye=Q(B,h,Ye,_,E),Me=Q(Z,p,Me,w,A),Ge=Q(V,p,Ge,w,A),ke+=32}Je+=8}if(H>=0){var Y=[];Y[1]=H+1,Y[0]=(1<<H+1)-1,pe(Y)}if(ie(65497),typeof i=="undefined")return new Uint8Array(O);return o.from(O);var Se,Ve};function Ie(Pe){if(Pe<=0&&(Pe=1),Pe>100&&(Pe=100),W!=Pe){var ze=0;Pe<50?ze=Math.floor(5e3/Pe):ze=Math.floor(200-Pe*2),we(ze),W=Pe}}function be(){var Pe=new Date().getTime();d||(d=50),ye(),Oe(),ge(),De(),Ie(d);var ze=new Date().getTime()-Pe}be()}typeof i!="undefined"?i.exports=g:typeof Bt!="undefined"&&(Bt["jpeg-js"]=Bt["jpeg-js"]||{},Bt["jpeg-js"].encode=g);function g(d,u){typeof u=="undefined"&&(u=50);var f=new c(u),s=f.encode(d,u);return{data:s,width:d.width,height:d.height}}function m(d){var u=typeof d=="string"?document.getElementById(d):d,f=document.createElement("canvas");f.width=u.width,f.height=u.height;var s=f.getContext("2d");return s.drawImage(u,0,0),s.getImageData(0,0,f.width,f.height)}}).call(this,n("buffer").Buffer)},{buffer:48}],83:[function(n,i,a){(function(o){var l=n("path"),c=n("fs"),g=parseInt("0777",8);i.exports=m.mkdirp=m.mkdirP=m;function m(d,u,f,s){typeof u=="function"?(f=u,u={}):(!u||typeof u!="object")&&(u={mode:u});var v=u.mode,x=u.fs||c;v===void 0&&(v=g&~o.umask()),s||(s=null);var h=f||function(){};d=l.resolve(d),x.mkdir(d,v,function(p){if(!p)return s=s||d,h(null,s);switch(p.code){case"ENOENT":m(l.dirname(d),u,function(_,w){_?h(_,w):m(d,u,h,w)});break;default:x.stat(d,function(_,w){_||!w.isDirectory()?h(p,s):h(null,s)});break}})}m.sync=function d(u,f,s){(!f||typeof f!="object")&&(f={mode:f});var v=f.mode,x=f.fs||c;v===void 0&&(v=g&~o.umask()),s||(s=null),u=l.resolve(u);try{x.mkdirSync(u,v),s=s||u}catch(p){switch(p.code){case"ENOENT":s=d(l.dirname(u),f,s),d(u,f,s);break;default:var h;try{h=x.statSync(u)}catch{throw p}if(!h.isDirectory())throw p;break}}return s}}).call(this,n("_process"))},{_process:133,fs:47,path:107}],84:[function(n,i,a){"use strict";var o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function g(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function m(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var s=Object.getOwnPropertyNames(u).map(function(x){return u[x]});if(s.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(x){v[x]=x}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=m()?Object.assign:function(d,u){for(var f,s=g(d),v,x=1;x<arguments.length;x++){f=Object(arguments[x]);for(var h in f)l.call(f,h)&&(s[h]=f[h]);if(o){v=o(f);for(var p=0;p<v.length;p++)c.call(f,v[p])&&(s[v[p]]=f[v[p]])}}return s}},{}],85:[function(n,i,a){arguments[4][64][0].apply(a,arguments)},{dup:64}],86:[function(n,i,a){"use strict";var o=n("./lib/utils/common").assign,l=n("./lib/deflate"),c=n("./lib/inflate"),g=n("./lib/zlib/constants"),m={};o(m,l,c,g),i.exports=m},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(n,i,a){"use strict";var o=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),g=n("./zlib/messages"),m=n("./zlib/zstream"),d=Object.prototype.toString,u=0,f=4,s=0,v=1,x=2,h=-1,p=0,_=8;function w(C){if(!(this instanceof w))return new w(C);this.options=l.assign({level:h,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},C||{});var R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=o.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(D!==s)throw new Error(g[D]);if(R.header&&o.deflateSetHeader(this.strm,R.header),R.dictionary){var O;if(typeof R.dictionary=="string"?O=c.string2buf(R.dictionary):d.call(R.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(R.dictionary):O=R.dictionary,D=o.deflateSetDictionary(this.strm,O),D!==s)throw new Error(g[D]);this._dict_set=!0}}w.prototype.push=function(C,R){var D=this.strm,O=this.options.chunkSize,k,H;if(this.ended)return!1;H=R===~~R?R:R===!0?f:u,typeof C=="string"?D.input=c.string2buf(C):d.call(C)==="[object ArrayBuffer]"?D.input=new Uint8Array(C):D.input=C,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8(O),D.next_out=0,D.avail_out=O),k=o.deflate(D,H),k!==v&&k!==s)return this.onEnd(k),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(H===f||H===x))&&(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&k!==v);return H===f?(k=o.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===s):(H===x&&(this.onEnd(s),D.avail_out=0),!0)},w.prototype.onData=function(C){this.chunks.push(C)},w.prototype.onEnd=function(C){C===s&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function E(C,R){var D=new w(R);if(D.push(C,!0),D.err)throw D.msg||g[D.err];return D.result}function A(C,R){return R=R||{},R.raw=!0,E(C,R)}function T(C,R){return R=R||{},R.gzip=!0,E(C,R)}a.Deflate=w,a.deflate=E,a.deflateRaw=A,a.gzip=T},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(n,i,a){"use strict";var o=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),g=n("./zlib/constants"),m=n("./zlib/messages"),d=n("./zlib/zstream"),u=n("./zlib/gzheader"),f=Object.prototype.toString;function s(h){if(!(this instanceof s))return new s(h);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},h||{});var p=this.options;p.raw&&p.windowBits>=0&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),p.windowBits>=0&&p.windowBits<16&&!(h&&h.windowBits)&&(p.windowBits+=32),p.windowBits>15&&p.windowBits<48&&(p.windowBits&15)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,p.windowBits);if(_!==g.Z_OK)throw new Error(m[_]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}s.prototype.push=function(h,p){var _=this.strm,w=this.options.chunkSize,E=this.options.dictionary,A,T,C,R,D,O,k=!1;if(this.ended)return!1;T=p===~~p?p:p===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof h=="string"?_.input=c.binstring2buf(h):f.call(h)==="[object ArrayBuffer]"?_.input=new Uint8Array(h):_.input=h,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(w),_.next_out=0,_.avail_out=w),A=o.inflate(_,g.Z_NO_FLUSH),A===g.Z_NEED_DICT&&E&&(typeof E=="string"?O=c.string2buf(E):f.call(E)==="[object ArrayBuffer]"?O=new Uint8Array(E):O=E,A=o.inflateSetDictionary(this.strm,O)),A===g.Z_BUF_ERROR&&k===!0&&(A=g.Z_OK,k=!1),A!==g.Z_STREAM_END&&A!==g.Z_OK)return this.onEnd(A),this.ended=!0,!1;_.next_out&&(_.avail_out===0||A===g.Z_STREAM_END||_.avail_in===0&&(T===g.Z_FINISH||T===g.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=c.utf8border(_.output,_.next_out),R=_.next_out-C,D=c.buf2string(_.output,C),_.next_out=R,_.avail_out=w-R,R&&l.arraySet(_.output,_.output,C,R,0),this.onData(D)):this.onData(l.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(k=!0)}while((_.avail_in>0||_.avail_out===0)&&A!==g.Z_STREAM_END);return A===g.Z_STREAM_END&&(T=g.Z_FINISH),T===g.Z_FINISH?(A=o.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===g.Z_OK):(T===g.Z_SYNC_FLUSH&&(this.onEnd(g.Z_OK),_.avail_out=0),!0)},s.prototype.onData=function(h){this.chunks.push(h)},s.prototype.onEnd=function(h){h===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function v(h,p){var _=new s(p);if(_.push(h,!0),_.err)throw _.msg||m[_.err];return _.result}function x(h,p){return p=p||{},p.raw=!0,v(h,p)}a.Inflate=s,a.inflate=v,a.inflateRaw=x,a.ungzip=v},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(n,i,a){arguments[4][36][0].apply(a,arguments)},{dup:36}],90:[function(n,i,a){"use strict";var o=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var g=new o.Buf8(256),m=0;m<256;m++)g[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;g[254]=g[254]=1,a.string2buf=function(u){var f,s,v,x,h,p=u.length,_=0;for(x=0;x<p;x++)s=u.charCodeAt(x),(s&64512)==55296&&x+1<p&&(v=u.charCodeAt(x+1),(v&64512)==56320&&(s=65536+(s-55296<<10)+(v-56320),x++)),_+=s<128?1:s<2048?2:s<65536?3:4;for(f=new o.Buf8(_),h=0,x=0;h<_;x++)s=u.charCodeAt(x),(s&64512)==55296&&x+1<p&&(v=u.charCodeAt(x+1),(v&64512)==56320&&(s=65536+(s-55296<<10)+(v-56320),x++)),s<128?f[h++]=s:s<2048?(f[h++]=192|s>>>6,f[h++]=128|s&63):s<65536?(f[h++]=224|s>>>12,f[h++]=128|s>>>6&63,f[h++]=128|s&63):(f[h++]=240|s>>>18,f[h++]=128|s>>>12&63,f[h++]=128|s>>>6&63,f[h++]=128|s&63);return f};function d(u,f){if(f<65537&&(u.subarray&&c||!u.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(u,f));for(var s="",v=0;v<f;v++)s+=String.fromCharCode(u[v]);return s}a.buf2binstring=function(u){return d(u,u.length)},a.binstring2buf=function(u){for(var f=new o.Buf8(u.length),s=0,v=f.length;s<v;s++)f[s]=u.charCodeAt(s);return f},a.buf2string=function(u,f){var s,v,x,h,p=f||u.length,_=new Array(p*2);for(v=0,s=0;s<p;){if(x=u[s++],x<128){_[v++]=x;continue}if(h=g[x],h>4){_[v++]=65533,s+=h-1;continue}for(x&=h===2?31:h===3?15:7;h>1&&s<p;)x=x<<6|u[s++]&63,h--;if(h>1){_[v++]=65533;continue}x<65536?_[v++]=x:(x-=65536,_[v++]=55296|x>>10&1023,_[v++]=56320|x&1023)}return d(_,v)},a.utf8border=function(u,f){var s;for(f=f||u.length,f>u.length&&(f=u.length),s=f-1;s>=0&&(u[s]&192)==128;)s--;return s<0||s===0?f:s+g[u[s]]>f?s:f}},{"./common":89}],91:[function(n,i,a){arguments[4][37][0].apply(a,arguments)},{dup:37}],92:[function(n,i,a){arguments[4][38][0].apply(a,arguments)},{dup:38}],93:[function(n,i,a){arguments[4][39][0].apply(a,arguments)},{dup:39}],94:[function(n,i,a){"use strict";var o=n("../utils/common"),l=n("./trees"),c=n("./adler32"),g=n("./crc32"),m=n("./messages"),d=0,u=1,f=3,s=4,v=5,x=0,h=1,p=-2,_=-3,w=-5,E=-1,A=1,T=2,C=3,R=4,D=0,O=2,k=8,H=9,B=15,Z=8,V=29,j=256,z=j+1+V,W=30,J=19,oe=2*z+1,le=15,fe=3,$=258,ae=$+fe+1,se=32,ce=42,he=69,we=73,xe=91,Oe=103,ge=113,De=666,pe=1,de=2,ie=3,re=4,q=3;function te(L,Le){return L.msg=m[Le],Le}function G(L){return(L<<1)-(L>4?9:0)}function P(L){for(var Le=L.length;--Le>=0;)L[Le]=0}function I(L){var Le=L.state,Ue=Le.pending;Ue>L.avail_out&&(Ue=L.avail_out),Ue!==0&&(o.arraySet(L.output,Le.pending_buf,Le.pending_out,Ue,L.next_out),L.next_out+=Ue,Le.pending_out+=Ue,L.total_out+=Ue,L.avail_out-=Ue,Le.pending-=Ue,Le.pending===0&&(Le.pending_out=0))}function U(L,Le){l._tr_flush_block(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,Le),L.block_start=L.strstart,I(L.strm)}function Q(L,Le){L.pending_buf[L.pending++]=Le}function ye(L,Le){L.pending_buf[L.pending++]=Le>>>8&255,L.pending_buf[L.pending++]=Le&255}function Ie(L,Le,Ue,Y){var Se=L.avail_in;return Se>Y&&(Se=Y),Se===0?0:(L.avail_in-=Se,o.arraySet(Le,L.input,L.next_in,Se,Ue),L.state.wrap===1?L.adler=c(L.adler,Le,Se,Ue):L.state.wrap===2&&(L.adler=g(L.adler,Le,Se,Ue)),L.next_in+=Se,L.total_in+=Se,Se)}function be(L,Le){var Ue=L.max_chain_length,Y=L.strstart,Se,Ve,lt=L.prev_length,ve=L.nice_match,Be=L.strstart>L.w_size-ae?L.strstart-(L.w_size-ae):0,je=L.window,tt=L.w_mask,it=L.prev,gt=L.strstart+$,yt=je[Y+lt-1],Ct=je[Y+lt];L.prev_length>=L.good_match&&(Ue>>=2),ve>L.lookahead&&(ve=L.lookahead);do if(Se=Le,!(je[Se+lt]!==Ct||je[Se+lt-1]!==yt||je[Se]!==je[Y]||je[++Se]!==je[Y+1])){Y+=2,Se++;do;while(je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&je[++Y]===je[++Se]&&Y<gt);if(Ve=$-(gt-Y),Y=gt-$,Ve>lt){if(L.match_start=Le,lt=Ve,Ve>=ve)break;yt=je[Y+lt-1],Ct=je[Y+lt]}}while((Le=it[Le&tt])>Be&&--Ue!=0);return lt<=L.lookahead?lt:L.lookahead}function Pe(L){var Le=L.w_size,Ue,Y,Se,Ve,lt;do{if(Ve=L.window_size-L.lookahead-L.strstart,L.strstart>=Le+(Le-ae)){o.arraySet(L.window,L.window,Le,Le,0),L.match_start-=Le,L.strstart-=Le,L.block_start-=Le,Y=L.hash_size,Ue=Y;do Se=L.head[--Ue],L.head[Ue]=Se>=Le?Se-Le:0;while(--Y);Y=Le,Ue=Y;do Se=L.prev[--Ue],L.prev[Ue]=Se>=Le?Se-Le:0;while(--Y);Ve+=Le}if(L.strm.avail_in===0)break;if(Y=Ie(L.strm,L.window,L.strstart+L.lookahead,Ve),L.lookahead+=Y,L.lookahead+L.insert>=fe)for(lt=L.strstart-L.insert,L.ins_h=L.window[lt],L.ins_h=(L.ins_h<<L.hash_shift^L.window[lt+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[lt+fe-1])&L.hash_mask,L.prev[lt&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=lt,lt++,L.insert--,!(L.lookahead+L.insert<fe)););}while(L.lookahead<ae&&L.strm.avail_in!==0)}function ze(L,Le){var Ue=65535;for(Ue>L.pending_buf_size-5&&(Ue=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Pe(L),L.lookahead===0&&Le===d)return pe;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var Y=L.block_start+Ue;if((L.strstart===0||L.strstart>=Y)&&(L.lookahead=L.strstart-Y,L.strstart=Y,U(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-ae&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):(L.strstart>L.block_start&&(U(L,!1),L.strm.avail_out===0),pe)}function qe(L,Le){for(var Ue,Y;;){if(L.lookahead<ae){if(Pe(L),L.lookahead<ae&&Le===d)return pe;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=fe&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),Ue!==0&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue)),L.match_length>=fe)if(Y=l._tr_tally(L,L.strstart-L.match_start,L.match_length-fe),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=fe){L.match_length--;do L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!=0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else Y=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(Y&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=L.strstart<fe-1?L.strstart:fe-1,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Ye(L,Le){for(var Ue,Y,Se;;){if(L.lookahead<ae){if(Pe(L),L.lookahead<ae&&Le===d)return pe;if(L.lookahead===0)break}if(Ue=0,L.lookahead>=fe&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=fe-1,Ue!==0&&L.prev_length<L.max_lazy_match&&L.strstart-Ue<=L.w_size-ae&&(L.match_length=be(L,Ue),L.match_length<=5&&(L.strategy===A||L.match_length===fe&&L.strstart-L.match_start>4096)&&(L.match_length=fe-1)),L.prev_length>=fe&&L.match_length<=L.prev_length){Se=L.strstart+L.lookahead-fe,Y=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-fe),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Se&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+fe-1])&L.hash_mask,Ue=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!=0);if(L.match_available=0,L.match_length=fe-1,L.strstart++,Y&&(U(L,!1),L.strm.avail_out===0))return pe}else if(L.match_available){if(Y=l._tr_tally(L,0,L.window[L.strstart-1]),Y&&U(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return pe}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(Y=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<fe-1?L.strstart:fe-1,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Me(L,Le){for(var Ue,Y,Se,Ve,lt=L.window;;){if(L.lookahead<=$){if(Pe(L),L.lookahead<=$&&Le===d)return pe;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=fe&&L.strstart>0&&(Se=L.strstart-1,Y=lt[Se],Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se])){Ve=L.strstart+$;do;while(Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Y===lt[++Se]&&Se<Ve);L.match_length=$-(Ve-Se),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=fe?(Ue=l._tr_tally(L,1,L.match_length-fe),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(Ue=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),Ue&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function Ge(L,Le){for(var Ue;;){if(L.lookahead===0&&(Pe(L),L.lookahead===0)){if(Le===d)return pe;break}if(L.match_length=0,Ue=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,Ue&&(U(L,!1),L.strm.avail_out===0))return pe}return L.insert=0,Le===s?(U(L,!0),L.strm.avail_out===0?ie:re):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?pe:de}function et(L,Le,Ue,Y,Se){this.good_length=L,this.max_lazy=Le,this.nice_length=Ue,this.max_chain=Y,this.func=Se}var ut;ut=[new et(0,0,0,0,ze),new et(4,4,8,4,qe),new et(4,5,16,8,qe),new et(4,6,32,32,qe),new et(4,4,16,16,Ye),new et(8,16,32,32,Ye),new et(8,16,128,128,Ye),new et(8,32,128,256,Ye),new et(32,128,258,1024,Ye),new et(32,258,258,4096,Ye)];function ct(L){L.window_size=2*L.w_size,P(L.head),L.max_lazy_match=ut[L.level].max_lazy,L.good_match=ut[L.level].good_length,L.nice_match=ut[L.level].nice_length,L.max_chain_length=ut[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=fe-1,L.match_available=0,L.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(oe*2),this.dyn_dtree=new o.Buf16((2*W+1)*2),this.bl_tree=new o.Buf16((2*J+1)*2),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(le+1),this.heap=new o.Buf16(2*z+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(L){var Le;return!L||!L.state?te(L,p):(L.total_in=L.total_out=0,L.data_type=O,Le=L.state,Le.pending=0,Le.pending_out=0,Le.wrap<0&&(Le.wrap=-Le.wrap),Le.status=Le.wrap?ce:ge,L.adler=Le.wrap===2?0:1,Le.last_flush=d,l._tr_init(Le),x)}function ke(L){var Le=Ae(L);return Le===x&&ct(L.state),Le}function Je(L,Le){return!L||!L.state||L.state.wrap!==2?p:(L.state.gzhead=Le,x)}function Re(L,Le,Ue,Y,Se,Ve){if(!L)return p;var lt=1;if(Le===E&&(Le=6),Y<0?(lt=0,Y=-Y):Y>15&&(lt=2,Y-=16),Se<1||Se>H||Ue!==k||Y<8||Y>15||Le<0||Le>9||Ve<0||Ve>R)return te(L,p);Y===8&&(Y=9);var ve=new X;return L.state=ve,ve.strm=L,ve.wrap=lt,ve.gzhead=null,ve.w_bits=Y,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Se+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+fe-1)/fe),ve.window=new o.Buf8(ve.w_size*2),ve.head=new o.Buf16(ve.hash_size),ve.prev=new o.Buf16(ve.w_size),ve.lit_bufsize=1<<Se+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new o.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=Le,ve.strategy=Ve,ve.method=Ue,ke(L)}function He(L,Le){return Re(L,Le,k,B,Z,D)}function ue(L,Le){var Ue,Y,Se,Ve;if(!L||!L.state||Le>v||Le<0)return L?te(L,p):p;if(Y=L.state,!L.output||!L.input&&L.avail_in!==0||Y.status===De&&Le!==s)return te(L,L.avail_out===0?w:p);if(Y.strm=L,Ue=Y.last_flush,Y.last_flush=Le,Y.status===ce)if(Y.wrap===2)L.adler=0,Q(Y,31),Q(Y,139),Q(Y,8),Y.gzhead?(Q(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),Q(Y,Y.gzhead.time&255),Q(Y,Y.gzhead.time>>8&255),Q(Y,Y.gzhead.time>>16&255),Q(Y,Y.gzhead.time>>24&255),Q(Y,Y.level===9?2:Y.strategy>=T||Y.level<2?4:0),Q(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(Q(Y,Y.gzhead.extra.length&255),Q(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(L.adler=g(L.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=he):(Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,0),Q(Y,Y.level===9?2:Y.strategy>=T||Y.level<2?4:0),Q(Y,q),Y.status=ge);else{var lt=k+(Y.w_bits-8<<4)<<8,ve=-1;Y.strategy>=T||Y.level<2?ve=0:Y.level<6?ve=1:Y.level===6?ve=2:ve=3,lt|=ve<<6,Y.strstart!==0&&(lt|=se),lt+=31-lt%31,Y.status=ge,ye(Y,lt),Y.strstart!==0&&(ye(Y,L.adler>>>16),ye(Y,L.adler&65535)),L.adler=1}if(Y.status===he)if(Y.gzhead.extra){for(Se=Y.pending;Y.gzindex<(Y.gzhead.extra.length&65535)&&!(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size));)Q(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=we)}else Y.status=we;if(Y.status===we)if(Y.gzhead.name){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.name.length?Ve=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:Ve=0,Q(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.gzindex=0,Y.status=xe)}else Y.status=xe;if(Y.status===xe)if(Y.gzhead.comment){Se=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),I(L),Se=Y.pending,Y.pending===Y.pending_buf_size)){Ve=1;break}Y.gzindex<Y.gzhead.comment.length?Ve=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:Ve=0,Q(Y,Ve)}while(Ve!==0);Y.gzhead.hcrc&&Y.pending>Se&&(L.adler=g(L.adler,Y.pending_buf,Y.pending-Se,Se)),Ve===0&&(Y.status=Oe)}else Y.status=Oe;if(Y.status===Oe&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&I(L),Y.pending+2<=Y.pending_buf_size&&(Q(Y,L.adler&255),Q(Y,L.adler>>8&255),L.adler=0,Y.status=ge)):Y.status=ge),Y.pending!==0){if(I(L),L.avail_out===0)return Y.last_flush=-1,x}else if(L.avail_in===0&&G(Le)<=G(Ue)&&Le!==s)return te(L,w);if(Y.status===De&&L.avail_in!==0)return te(L,w);if(L.avail_in!==0||Y.lookahead!==0||Le!==d&&Y.status!==De){var Be=Y.strategy===T?Ge(Y,Le):Y.strategy===C?Me(Y,Le):ut[Y.level].func(Y,Le);if((Be===ie||Be===re)&&(Y.status=De),Be===pe||Be===ie)return L.avail_out===0&&(Y.last_flush=-1),x;if(Be===de&&(Le===u?l._tr_align(Y):Le!==v&&(l._tr_stored_block(Y,0,0,!1),Le===f&&(P(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),I(L),L.avail_out===0))return Y.last_flush=-1,x}return Le!==s?x:Y.wrap<=0?h:(Y.wrap===2?(Q(Y,L.adler&255),Q(Y,L.adler>>8&255),Q(Y,L.adler>>16&255),Q(Y,L.adler>>24&255),Q(Y,L.total_in&255),Q(Y,L.total_in>>8&255),Q(Y,L.total_in>>16&255),Q(Y,L.total_in>>24&255)):(ye(Y,L.adler>>>16),ye(Y,L.adler&65535)),I(L),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?x:h)}function Ke(L){var Le;return!L||!L.state?p:(Le=L.state.status,Le!==ce&&Le!==he&&Le!==we&&Le!==xe&&Le!==Oe&&Le!==ge&&Le!==De?te(L,p):(L.state=null,Le===ge?te(L,_):x))}function pt(L,Le){var Ue=Le.length,Y,Se,Ve,lt,ve,Be,je,tt;if(!L||!L.state||(Y=L.state,lt=Y.wrap,lt===2||lt===1&&Y.status!==ce||Y.lookahead))return p;for(lt===1&&(L.adler=c(L.adler,Le,Ue,0)),Y.wrap=0,Ue>=Y.w_size&&(lt===0&&(P(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),tt=new o.Buf8(Y.w_size),o.arraySet(tt,Le,Ue-Y.w_size,Y.w_size,0),Le=tt,Ue=Y.w_size),ve=L.avail_in,Be=L.next_in,je=L.input,L.avail_in=Ue,L.next_in=0,L.input=Le,Pe(Y);Y.lookahead>=fe;){Se=Y.strstart,Ve=Y.lookahead-(fe-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Se+fe-1])&Y.hash_mask,Y.prev[Se&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Se,Se++;while(--Ve);Y.strstart=Se,Y.lookahead=fe-1,Pe(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=fe-1,Y.match_available=0,L.next_in=Be,L.input=je,L.avail_in=ve,Y.wrap=lt,x}a.deflateInit=He,a.deflateInit2=Re,a.deflateReset=ke,a.deflateResetKeep=Ae,a.deflateSetHeader=Je,a.deflate=ue,a.deflateEnd=Ke,a.deflateSetDictionary=pt,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(n,i,a){"use strict";function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=o},{}],96:[function(n,i,a){arguments[4][41][0].apply(a,arguments)},{dup:41}],97:[function(n,i,a){arguments[4][42][0].apply(a,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(n,i,a){arguments[4][43][0].apply(a,arguments)},{"../utils/common":89,dup:43}],99:[function(n,i,a){arguments[4][44][0].apply(a,arguments)},{dup:44}],100:[function(n,i,a){"use strict";var o=n("../utils/common"),l=4,c=0,g=1,m=2;function d(X){for(var Ae=X.length;--Ae>=0;)X[Ae]=0}var u=0,f=1,s=2,v=3,x=258,h=29,p=256,_=p+1+h,w=30,E=19,A=2*_+1,T=15,C=16,R=7,D=256,O=16,k=17,H=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,W=new Array((_+2)*2);d(W);var J=new Array(w*2);d(J);var oe=new Array(z);d(oe);var le=new Array(x-v+1);d(le);var fe=new Array(h);d(fe);var $=new Array(w);d($);function ae(X,Ae,ke,Je,Re){this.static_tree=X,this.extra_bits=Ae,this.extra_base=ke,this.elems=Je,this.max_length=Re,this.has_stree=X&&X.length}var se,ce,he;function we(X,Ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ae}function xe(X){return X<256?oe[X]:oe[256+(X>>>7)]}function Oe(X,Ae){X.pending_buf[X.pending++]=Ae&255,X.pending_buf[X.pending++]=Ae>>>8&255}function ge(X,Ae,ke){X.bi_valid>C-ke?(X.bi_buf|=Ae<<X.bi_valid&65535,Oe(X,X.bi_buf),X.bi_buf=Ae>>C-X.bi_valid,X.bi_valid+=ke-C):(X.bi_buf|=Ae<<X.bi_valid&65535,X.bi_valid+=ke)}function De(X,Ae,ke){ge(X,ke[Ae*2],ke[Ae*2+1])}function pe(X,Ae){var ke=0;do ke|=X&1,X>>>=1,ke<<=1;while(--Ae>0);return ke>>>1}function de(X){X.bi_valid===16?(Oe(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function ie(X,Ae){var ke=Ae.dyn_tree,Je=Ae.max_code,Re=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,ue=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,pt=Ae.stat_desc.max_length,L,Le,Ue,Y,Se,Ve,lt=0;for(Y=0;Y<=T;Y++)X.bl_count[Y]=0;for(ke[X.heap[X.heap_max]*2+1]=0,L=X.heap_max+1;L<A;L++)Le=X.heap[L],Y=ke[ke[Le*2+1]*2+1]+1,Y>pt&&(Y=pt,lt++),ke[Le*2+1]=Y,!(Le>Je)&&(X.bl_count[Y]++,Se=0,Le>=Ke&&(Se=ue[Le-Ke]),Ve=ke[Le*2],X.opt_len+=Ve*(Y+Se),He&&(X.static_len+=Ve*(Re[Le*2+1]+Se)));if(lt!==0){do{for(Y=pt-1;X.bl_count[Y]===0;)Y--;X.bl_count[Y]--,X.bl_count[Y+1]+=2,X.bl_count[pt]--,lt-=2}while(lt>0);for(Y=pt;Y!==0;Y--)for(Le=X.bl_count[Y];Le!==0;)Ue=X.heap[--L],!(Ue>Je)&&(ke[Ue*2+1]!==Y&&(X.opt_len+=(Y-ke[Ue*2+1])*ke[Ue*2],ke[Ue*2+1]=Y),Le--)}}function re(X,Ae,ke){var Je=new Array(T+1),Re=0,He,ue;for(He=1;He<=T;He++)Je[He]=Re=Re+ke[He-1]<<1;for(ue=0;ue<=Ae;ue++){var Ke=X[ue*2+1];Ke!==0&&(X[ue*2]=pe(Je[Ke]++,Ke))}}function q(){var X,Ae,ke,Je,Re,He=new Array(T+1);for(ke=0,Je=0;Je<h-1;Je++)for(fe[Je]=ke,X=0;X<1<<B[Je];X++)le[ke++]=Je;for(le[ke-1]=Je,Re=0,Je=0;Je<16;Je++)for($[Je]=Re,X=0;X<1<<Z[Je];X++)oe[Re++]=Je;for(Re>>=7;Je<w;Je++)for($[Je]=Re<<7,X=0;X<1<<Z[Je]-7;X++)oe[256+Re++]=Je;for(Ae=0;Ae<=T;Ae++)He[Ae]=0;for(X=0;X<=143;)W[X*2+1]=8,X++,He[8]++;for(;X<=255;)W[X*2+1]=9,X++,He[9]++;for(;X<=279;)W[X*2+1]=7,X++,He[7]++;for(;X<=287;)W[X*2+1]=8,X++,He[8]++;for(re(W,_+1,He),X=0;X<w;X++)J[X*2+1]=5,J[X*2]=pe(X,5);se=new ae(W,B,p+1,_,T),ce=new ae(J,Z,0,w,T),he=new ae(new Array(0),V,0,E,R)}function te(X){var Ae;for(Ae=0;Ae<_;Ae++)X.dyn_ltree[Ae*2]=0;for(Ae=0;Ae<w;Ae++)X.dyn_dtree[Ae*2]=0;for(Ae=0;Ae<E;Ae++)X.bl_tree[Ae*2]=0;X.dyn_ltree[D*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function G(X){X.bi_valid>8?Oe(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function P(X,Ae,ke,Je){G(X),Je&&(Oe(X,ke),Oe(X,~ke)),o.arraySet(X.pending_buf,X.window,Ae,ke,X.pending),X.pending+=ke}function I(X,Ae,ke,Je){var Re=Ae*2,He=ke*2;return X[Re]<X[He]||X[Re]===X[He]&&Je[Ae]<=Je[ke]}function U(X,Ae,ke){for(var Je=X.heap[ke],Re=ke<<1;Re<=X.heap_len&&(Re<X.heap_len&&I(Ae,X.heap[Re+1],X.heap[Re],X.depth)&&Re++,!I(Ae,Je,X.heap[Re],X.depth));)X.heap[ke]=X.heap[Re],ke=Re,Re<<=1;X.heap[ke]=Je}function Q(X,Ae,ke){var Je,Re,He=0,ue,Ke;if(X.last_lit!==0)do Je=X.pending_buf[X.d_buf+He*2]<<8|X.pending_buf[X.d_buf+He*2+1],Re=X.pending_buf[X.l_buf+He],He++,Je===0?De(X,Re,Ae):(ue=le[Re],De(X,ue+p+1,Ae),Ke=B[ue],Ke!==0&&(Re-=fe[ue],ge(X,Re,Ke)),Je--,ue=xe(Je),De(X,ue,ke),Ke=Z[ue],Ke!==0&&(Je-=$[ue],ge(X,Je,Ke)));while(He<X.last_lit);De(X,D,Ae)}function ye(X,Ae){var ke=Ae.dyn_tree,Je=Ae.stat_desc.static_tree,Re=Ae.stat_desc.has_stree,He=Ae.stat_desc.elems,ue,Ke,pt=-1,L;for(X.heap_len=0,X.heap_max=A,ue=0;ue<He;ue++)ke[ue*2]!==0?(X.heap[++X.heap_len]=pt=ue,X.depth[ue]=0):ke[ue*2+1]=0;for(;X.heap_len<2;)L=X.heap[++X.heap_len]=pt<2?++pt:0,ke[L*2]=1,X.depth[L]=0,X.opt_len--,Re&&(X.static_len-=Je[L*2+1]);for(Ae.max_code=pt,ue=X.heap_len>>1;ue>=1;ue--)U(X,ke,ue);L=He;do ue=X.heap[1],X.heap[1]=X.heap[X.heap_len--],U(X,ke,1),Ke=X.heap[1],X.heap[--X.heap_max]=ue,X.heap[--X.heap_max]=Ke,ke[L*2]=ke[ue*2]+ke[Ke*2],X.depth[L]=(X.depth[ue]>=X.depth[Ke]?X.depth[ue]:X.depth[Ke])+1,ke[ue*2+1]=ke[Ke*2+1]=L,X.heap[1]=L++,U(X,ke,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],ie(X,Ae),re(ke,pt,X.bl_count)}function Ie(X,Ae,ke){var Je,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,L=4;for(ue===0&&(pt=138,L=3),Ae[(ke+1)*2+1]=65535,Je=0;Je<=ke;Je++)He=ue,ue=Ae[(Je+1)*2+1],!(++Ke<pt&&He===ue)&&(Ke<L?X.bl_tree[He*2]+=Ke:He!==0?(He!==Re&&X.bl_tree[He*2]++,X.bl_tree[O*2]++):Ke<=10?X.bl_tree[k*2]++:X.bl_tree[H*2]++,Ke=0,Re=He,ue===0?(pt=138,L=3):He===ue?(pt=6,L=3):(pt=7,L=4))}function be(X,Ae,ke){var Je,Re=-1,He,ue=Ae[0*2+1],Ke=0,pt=7,L=4;for(ue===0&&(pt=138,L=3),Je=0;Je<=ke;Je++)if(He=ue,ue=Ae[(Je+1)*2+1],!(++Ke<pt&&He===ue)){if(Ke<L)do De(X,He,X.bl_tree);while(--Ke!=0);else He!==0?(He!==Re&&(De(X,He,X.bl_tree),Ke--),De(X,O,X.bl_tree),ge(X,Ke-3,2)):Ke<=10?(De(X,k,X.bl_tree),ge(X,Ke-3,3)):(De(X,H,X.bl_tree),ge(X,Ke-11,7));Ke=0,Re=He,ue===0?(pt=138,L=3):He===ue?(pt=6,L=3):(pt=7,L=4)}}function Pe(X){var Ae;for(Ie(X,X.dyn_ltree,X.l_desc.max_code),Ie(X,X.dyn_dtree,X.d_desc.max_code),ye(X,X.bl_desc),Ae=E-1;Ae>=3&&X.bl_tree[j[Ae]*2+1]===0;Ae--);return X.opt_len+=3*(Ae+1)+5+5+4,Ae}function ze(X,Ae,ke,Je){var Re;for(ge(X,Ae-257,5),ge(X,ke-1,5),ge(X,Je-4,4),Re=0;Re<Je;Re++)ge(X,X.bl_tree[j[Re]*2+1],3);be(X,X.dyn_ltree,Ae-1),be(X,X.dyn_dtree,ke-1)}function qe(X){var Ae=4093624447,ke;for(ke=0;ke<=31;ke++,Ae>>>=1)if(Ae&1&&X.dyn_ltree[ke*2]!==0)return c;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return g;for(ke=32;ke<p;ke++)if(X.dyn_ltree[ke*2]!==0)return g;return c}var Ye=!1;function Me(X){Ye||(q(),Ye=!0),X.l_desc=new we(X.dyn_ltree,se),X.d_desc=new we(X.dyn_dtree,ce),X.bl_desc=new we(X.bl_tree,he),X.bi_buf=0,X.bi_valid=0,te(X)}function Ge(X,Ae,ke,Je){ge(X,(u<<1)+(Je?1:0),3),P(X,Ae,ke,!0)}function et(X){ge(X,f<<1,3),De(X,D,W),de(X)}function ut(X,Ae,ke,Je){var Re,He,ue=0;X.level>0?(X.strm.data_type===m&&(X.strm.data_type=qe(X)),ye(X,X.l_desc),ye(X,X.d_desc),ue=Pe(X),Re=X.opt_len+3+7>>>3,He=X.static_len+3+7>>>3,He<=Re&&(Re=He)):Re=He=ke+5,ke+4<=Re&&Ae!==-1?Ge(X,Ae,ke,Je):X.strategy===l||He===Re?(ge(X,(f<<1)+(Je?1:0),3),Q(X,W,J)):(ge(X,(s<<1)+(Je?1:0),3),ze(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ue+1),Q(X,X.dyn_ltree,X.dyn_dtree)),te(X),Je&&G(X)}function ct(X,Ae,ke){return X.pending_buf[X.d_buf+X.last_lit*2]=Ae>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ae&255,X.pending_buf[X.l_buf+X.last_lit]=ke&255,X.last_lit++,Ae===0?X.dyn_ltree[ke*2]++:(X.matches++,Ae--,X.dyn_ltree[(le[ke]+p+1)*2]++,X.dyn_dtree[xe(Ae)*2]++),X.last_lit===X.lit_bufsize-1}a._tr_init=Me,a._tr_stored_block=Ge,a._tr_flush_block=ut,a._tr_tally=ct,a._tr_align=et},{"../utils/common":89}],101:[function(n,i,a){arguments[4][46][0].apply(a,arguments)},{dup:46}],102:[function(n,i,a){i.exports=function(m){if(!m)throw new Error("no data provided");m=m.toString().trim();var d={pages:[],chars:[],kernings:[]},u=m.split(/\r\n?|\n/g);if(u.length===0)throw new Error("no data in BMFont file");for(var f=0;f<u.length;f++){var s=o(u[f],f);if(!!s)if(s.key==="page"){if(typeof s.data.id!="number")throw new Error("malformed file at line "+f+" -- needs page id=N");if(typeof s.data.file!="string")throw new Error("malformed file at line "+f+' -- needs page file="path"');d.pages[s.data.id]=s.data.file}else s.key==="chars"||s.key==="kernings"||(s.key==="char"?d.chars.push(s.data):s.key==="kerning"?d.kernings.push(s.data):d[s.key]=s.data)}return d};function o(g,m){if(g=g.replace(/\t+/g," ").trim(),!g)return null;var d=g.indexOf(" ");if(d===-1)throw new Error("no named row at line "+m);var u=g.substring(0,d);g=g.substring(d+1),g=g.replace(/letter=[\'\"]\S+[\'\"]/gi,""),g=g.split("="),g=g.map(function(h){return h.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var f=[],s=0;s<g.length;s++){var v=g[s];s===0?f.push({key:v[0],data:""}):s===g.length-1?f[f.length-1].data=l(v[0]):(f[f.length-1].data=l(v[0]),f.push({key:v[1],data:""}))}var x={key:u,data:{}};return f.forEach(function(h){x.data[h.key]=h.data}),x}function l(g){return!g||g.length===0?"":g.indexOf('"')===0||g.indexOf("'")===0?g.substring(1,g.length-1):g.indexOf(",")!==-1?c(g):parseInt(g,10)}function c(g){return g.split(",").map(function(m){return parseInt(m,10)})}},{}],103:[function(n,i,a){var o=[66,77,70];i.exports=function(x){if(x.length<6)throw new Error("invalid buffer length for BMFont");var h=o.every(function(A,T){return x.readUInt8(T)===A});if(!h)throw new Error("BMFont missing BMF byte header");var p=3,_=x.readUInt8(p++);if(_>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},E=0;E<5;E++)p+=l(w,x,p);return w};function l(v,x,h){if(h>x.length-1)return 0;var p=x.readUInt8(h++),_=x.readInt32LE(h);switch(h+=4,p){case 1:v.info=c(x,h);break;case 2:v.common=g(x,h);break;case 3:v.pages=m(x,h,_);break;case 4:v.chars=d(x,h,_);break;case 5:v.kernings=u(x,h,_);break}return 5+_}function c(v,x){var h={};h.size=v.readInt16LE(x);var p=v.readUInt8(x+2);return h.smooth=p>>7&1,h.unicode=p>>6&1,h.italic=p>>5&1,h.bold=p>>4&1,p>>3&1&&(h.fixedHeight=1),h.charset=v.readUInt8(x+3)||"",h.stretchH=v.readUInt16LE(x+4),h.aa=v.readUInt8(x+6),h.padding=[v.readInt8(x+7),v.readInt8(x+8),v.readInt8(x+9),v.readInt8(x+10)],h.spacing=[v.readInt8(x+11),v.readInt8(x+12)],h.outline=v.readUInt8(x+13),h.face=s(v,x+14),h}function g(v,x){var h={};h.lineHeight=v.readUInt16LE(x),h.base=v.readUInt16LE(x+2),h.scaleW=v.readUInt16LE(x+4),h.scaleH=v.readUInt16LE(x+6),h.pages=v.readUInt16LE(x+8);var p=v.readUInt8(x+10);return h.packed=0,h.alphaChnl=v.readUInt8(x+11),h.redChnl=v.readUInt8(x+12),h.greenChnl=v.readUInt8(x+13),h.blueChnl=v.readUInt8(x+14),h}function m(v,x,h){for(var p=[],_=f(v,x),w=_.length+1,E=h/w,A=0;A<E;A++)p[A]=v.slice(x,x+_.length).toString("utf8"),x+=w;return p}function d(v,x,h){for(var p=[],_=h/20,w=0;w<_;w++){var E={},A=w*20;E.id=v.readUInt32LE(x+0+A),E.x=v.readUInt16LE(x+4+A),E.y=v.readUInt16LE(x+6+A),E.width=v.readUInt16LE(x+8+A),E.height=v.readUInt16LE(x+10+A),E.xoffset=v.readInt16LE(x+12+A),E.yoffset=v.readInt16LE(x+14+A),E.xadvance=v.readInt16LE(x+16+A),E.page=v.readUInt8(x+18+A),E.chnl=v.readUInt8(x+19+A),p[w]=E}return p}function u(v,x,h){for(var p=[],_=h/10,w=0;w<_;w++){var E={},A=w*10;E.first=v.readUInt32LE(x+0+A),E.second=v.readUInt32LE(x+4+A),E.amount=v.readInt16LE(x+8+A),p[w]=E}return p}function f(v,x){for(var h=x;h<v.length&&v[h]!==0;h++);return v.slice(x,h)}function s(v,x){return f(v,x).toString("utf8")}},{}],104:[function(n,i,a){var o=n("./parse-attribs"),l=n("xml-parse-from-string"),c={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};i.exports=function(f){f=f.toString();var s=l(f),v={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(A){var T=s.getElementsByTagName(A)[0];T&&(v[A]=o(g(T)))});var x=s.getElementsByTagName("pages")[0];if(!x)throw new Error("malformed file -- no <pages> element");for(var h=x.getElementsByTagName("page"),p=0;p<h.length;p++){var _=h[p],w=parseInt(_.getAttribute("id"),10),E=_.getAttribute("file");if(isNaN(w))throw new Error('malformed file -- page "id" attribute is NaN');if(!E)throw new Error('malformed file -- needs page "file" attribute');v.pages[parseInt(w,10)]=E}return["chars","kernings"].forEach(function(A){var T=s.getElementsByTagName(A)[0];if(!!T)for(var C=A.substring(0,A.length-1),R=T.getElementsByTagName(C),D=0;D<R.length;D++){var O=R[D];v[A].push(o(g(O)))}}),v};function g(u){var f=m(u);return f.reduce(function(s,v){var x=d(v.nodeName);return s[x]=v.nodeValue,s},{})}function m(u){for(var f=[],s=0;s<u.attributes.length;s++)f.push(u.attributes[s]);return f}function d(u){return c[u.toLowerCase()]||u}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(n,i,a){var o="chasrset";i.exports=function(g){o in g&&(g.charset=g[o],delete g[o]);for(var m in g)m==="face"||m==="charset"||(m==="padding"||m==="spacing"?g[m]=l(g[m]):g[m]=parseInt(g[m],10));return g};function l(c){return c.split(",").map(function(g){return parseInt(g,10)})}},{}],106:[function(n,i,a){var o=n("trim"),l=n("for-each"),c=function(g){return Object.prototype.toString.call(g)==="[object Array]"};i.exports=function(g){if(!g)return{};var m={};return l(o(g).split(`
`),function(d){var u=d.indexOf(":"),f=o(d.slice(0,u)).toLowerCase(),s=o(d.slice(u+1));typeof m[f]=="undefined"?m[f]=s:c(m[f])?m[f].push(s):m[f]=[m[f],s]}),m}},{"for-each":63,trim:179}],107:[function(n,i,a){(function(o){function l(d,u){for(var f=0,s=d.length-1;s>=0;s--){var v=d[s];v==="."?d.splice(s,1):v===".."?(d.splice(s,1),f++):f&&(d.splice(s,1),f--)}if(u)for(;f--;f)d.unshift("..");return d}a.resolve=function(){for(var d="",u=!1,f=arguments.length-1;f>=-1&&!u;f--){var s=f>=0?arguments[f]:o.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)continue;d=s+"/"+d,u=s.charAt(0)==="/"}return d=l(g(d.split("/"),function(v){return!!v}),!u).join("/"),(u?"/":"")+d||"."},a.normalize=function(d){var u=a.isAbsolute(d),f=m(d,-1)==="/";return d=l(g(d.split("/"),function(s){return!!s}),!u).join("/"),!d&&!u&&(d="."),d&&f&&(d+="/"),(u?"/":"")+d},a.isAbsolute=function(d){return d.charAt(0)==="/"},a.join=function(){var d=Array.prototype.slice.call(arguments,0);return a.normalize(g(d,function(u,f){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},a.relative=function(d,u){d=a.resolve(d).substr(1),u=a.resolve(u).substr(1);function f(w){for(var E=0;E<w.length&&w[E]==="";E++);for(var A=w.length-1;A>=0&&w[A]==="";A--);return E>A?[]:w.slice(E,A-E+1)}for(var s=f(d.split("/")),v=f(u.split("/")),x=Math.min(s.length,v.length),h=x,p=0;p<x;p++)if(s[p]!==v[p]){h=p;break}for(var _=[],p=h;p<s.length;p++)_.push("..");return _=_.concat(v.slice(h)),_.join("/")},a.sep="/",a.delimiter=":",a.dirname=function(d){if(typeof d!="string"&&(d=d+""),d.length===0)return".";for(var u=d.charCodeAt(0),f=u===47,s=-1,v=!0,x=d.length-1;x>=1;--x)if(u=d.charCodeAt(x),u===47){if(!v){s=x;break}}else v=!1;return s===-1?f?"/":".":f&&s===1?"/":d.slice(0,s)};function c(d){typeof d!="string"&&(d=d+"");var u=0,f=-1,s=!0,v;for(v=d.length-1;v>=0;--v)if(d.charCodeAt(v)===47){if(!s){u=v+1;break}}else f===-1&&(s=!1,f=v+1);return f===-1?"":d.slice(u,f)}a.basename=function(d,u){var f=c(d);return u&&f.substr(-1*u.length)===u&&(f=f.substr(0,f.length-u.length)),f},a.extname=function(d){typeof d!="string"&&(d=d+"");for(var u=-1,f=0,s=-1,v=!0,x=0,h=d.length-1;h>=0;--h){var p=d.charCodeAt(h);if(p===47){if(!v){f=h+1;break}continue}s===-1&&(v=!1,s=h+1),p===46?u===-1?u=h:x!==1&&(x=1):u!==-1&&(x=-1)}return u===-1||s===-1||x===0||x===1&&u===s-1&&u===f+1?"":d.slice(u,s)};function g(d,u){if(d.filter)return d.filter(u);for(var f=[],s=0;s<d.length;s++)u(d[s],s,d)&&f.push(d[s]);return f}var m="ab".substr(-1)==="b"?function(d,u,f){return d.substr(u,f)}:function(d,u,f){return u<0&&(u=d.length+u),d.substr(u,f)}}).call(this,n("_process"))},{_process:133}],108:[function(n,i,a){(function(o){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c=n("http"),g=n("https"),m=n("url"),d=n("querystring"),u=n("zlib"),f=n("util"),s=function(x,h){if(typeof x!="string"&&!x.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var p=(typeof x=="undefined"?"undefined":l(x))==="object"?m.parse(x.url):m.parse(x),_={hostname:p.hostname,port:p.port||(p.protocol.toLowerCase()==="http:"?80:443),path:p.path,method:"GET",headers:{},auth:p.auth||null,parse:"none",stream:!1};if((typeof x=="undefined"?"undefined":l(x))==="object"&&(_=Object.assign(_,x)),_.port=Number(_.port),_.hasOwnProperty("timeout")&&delete _.timeout,_.compressed===!0&&(_.headers["accept-encoding"]="gzip, deflate"),x.hasOwnProperty("form")){if(l(x.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var w=d.stringify(x.form);_.headers["Content-Type"]="application/x-www-form-urlencoded",_.headers["Content-Length"]=o.byteLength(w),x.data=w}var E=void 0,A=function(D){var O=D;_.compressed===!0&&(D.headers["content-encoding"]==="gzip"?O=D.pipe(u.createGunzip()):D.headers["content-encoding"]==="deflate"&&(O=D.pipe(u.createInflate()))),_.stream===!0?(D.stream=O,h(null,D)):(D.body=new o([]),O.on("data",function(k){D.body=o.concat([D.body,k])}),O.on("end",function(){if(h){if(_.parse==="json")try{D.body=JSON.parse(D.body.toString())}catch{h("Invalid JSON received.",D);return}h(null,D)}}))};switch(p.protocol.toLowerCase()){case"http:":E=c.request(_,A);break;case"https:":E=g.request(_,A);break;default:h&&h(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof x.timeout=="number"&&E.setTimeout(x.timeout,function(){E.abort(),h(new Error("Timeout has been reached."),null),h=null}),E.on("error",function(R){h&&h(R,null)}),x.hasOwnProperty("data")){var T=x.data;if(!(x.data instanceof o)&&l(x.data)==="object"){var C=_.headers["content-type"]||_.headers["Content-Type"];if(C==="application/x-www-form-urlencoded")T=d.stringify(x.data);else try{T=JSON.stringify(x.data)}catch{h(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}E.write(T)}E.end()};s.promisified=function(v,x){return new Promise(function(h,p){s(v,function(_,w){_?p(_):h(w)},x)})},f.promisify&&(s[f.promisify.custom]=s.promisified),i.exports=s}).call(this,n("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(n,i,a){"use strict";i.exports=o;function o(v,x,h,p,_,w){w||(w={});for(var E=w.threshold===void 0?.1:w.threshold,A=35215*E*E,T=0,C=0;C<_;C++)for(var R=0;R<p;R++){var D=(C*p+R)*4,O=c(v,x,D,D);if(O>A)!w.includeAA&&(l(v,R,C,p,_,x)||l(x,R,C,p,_,v))?h&&f(h,D,255,255,0):(h&&f(h,D,255,0,0),T++);else if(h){var k=u(s(v,D),.1);f(h,D,k,k,k)}}return T}function l(v,x,h,p,_,w){for(var E=Math.max(x-1,0),A=Math.max(h-1,0),T=Math.min(x+1,p-1),C=Math.min(h+1,_-1),R=(h*p+x)*4,D=0,O=0,k=0,H=0,B=0,Z,V,j,z,W=E;W<=T;W++)for(var J=A;J<=C;J++)if(!(W===x&&J===h)){var oe=c(v,v,R,(J*p+W)*4,!0);if(oe===0?D++:oe<0?k++:oe>0&&O++,D>2)return!1;!w||(oe<H&&(H=oe,Z=W,V=J),oe>B&&(B=oe,j=W,z=J))}return w?k===0||O===0?!1:!l(v,Z,V,p,_)&&!l(w,Z,V,p,_)||!l(v,j,z,p,_)&&!l(w,j,z,p,_):!0}function c(v,x,h,p,_){var w=v[h+3]/255,E=x[p+3]/255,A=u(v[h+0],w),T=u(v[h+1],w),C=u(v[h+2],w),R=u(x[p+0],E),D=u(x[p+1],E),O=u(x[p+2],E),k=g(A,T,C)-g(R,D,O);if(_)return k;var H=m(A,T,C)-m(R,D,O),B=d(A,T,C)-d(R,D,O);return .5053*k*k+.299*H*H+.1957*B*B}function g(v,x,h){return v*.29889531+x*.58662247+h*.11448223}function m(v,x,h){return v*.59597799-x*.2741761-h*.32180189}function d(v,x,h){return v*.21147017-x*.52261711+h*.31114694}function u(v,x){return 255+(v-255)*x}function f(v,x,h,p,_){v[x+0]=h,v[x+1]=p,v[x+2]=_,v[x+3]=255}function s(v,x){var h=v[x+3]/255,p=u(v[x+0],h),_=u(v[x+1],h),w=u(v[x+2],h);return g(p,_,w)}},{}],110:[function(n,i,a){(function(o){"use strict";var l=n("./interlace"),c={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function g(u,f){var s=[],v=0;function x(){if(v===u.length)throw new Error("Ran out of data");var h=u[v];v++;var p,_,w,E,A,T,C,R;switch(f){default:throw new Error("unrecognised depth");case 16:C=u[v],v++,s.push((h<<8)+C);break;case 4:C=h&15,R=h>>4,s.push(R,C);break;case 2:A=h&3,T=h>>2&3,C=h>>4&3,R=h>>6&3,s.push(R,C,T,A);break;case 1:p=h&1,_=h>>1&1,w=h>>2&1,E=h>>3&1,A=h>>4&1,T=h>>5&1,C=h>>6&1,R=h>>7&1,s.push(R,C,T,A,E,w,_,p);break}}return{get:function(h){for(;s.length<h;)x();var p=s.slice(0,h);return s=s.slice(h),p},resetAfterLine:function(){s.length=0},end:function(){if(v!==u.length)throw new Error("extra data found")}}}function m(u,f,s,v,x,h){for(var p=u.width,_=u.height,w=u.index,E=0;E<_;E++)for(var A=0;A<p;A++){for(var T=s(A,E,w),C=0;C<4;C++){var R=c[v][C];if(R===255)f[T+C]=255;else{var D=R+h;if(D===x.length)throw new Error("Ran out of data");f[T+C]=x[D]}}h+=v}return h}function d(u,f,s,v,x,h){for(var p=u.width,_=u.height,w=u.index,E=0;E<_;E++){for(var A=0;A<p;A++)for(var T=x.get(v),C=s(A,E,w),R=0;R<4;R++){var D=c[v][R];f[C+R]=D!==255?T[D]:h}x.resetAfterLine()}}a.dataToBitMap=function(u,f){var s=f.width,v=f.height,x=f.depth,h=f.bpp,p=f.interlace;if(x!==8)var _=g(u,x);var w;x<=8?w=new o(s*v*4):w=new Uint16Array(s*v*4);var E=Math.pow(2,x)-1,A=0,T,C;if(p)T=l.getImagePasses(s,v),C=l.getInterlaceIterator(s,v);else{var R=0;C=function(){var O=R;return R+=4,O},T=[{width:s,height:v}]}for(var D=0;D<T.length;D++)x===8?A=m(T[D],w,C,h,u,A):d(T[D],w,C,h,_,E);if(x===8){if(A!==u.length)throw new Error("extra data found")}else _.end();return w}}).call(this,n("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(n,i,a){(function(o){"use strict";var l=n("./constants");i.exports=function(c,g,m,d){var u=[l.COLORTYPE_COLOR_ALPHA,l.COLORTYPE_ALPHA].indexOf(d.colorType)!==-1;if(d.colorType===d.inputColorType){var f=function(){var O=new ArrayBuffer(2);return new DataView(O).setInt16(0,256,!0),new Int16Array(O)[0]!==256}();if(d.bitDepth===8||d.bitDepth===16&&f)return c}var s=d.bitDepth!==16?c:new Uint16Array(c.buffer),v=255,x=l.COLORTYPE_TO_BPP_MAP[d.inputColorType];x==4&&!d.inputHasAlpha&&(x=3);var h=l.COLORTYPE_TO_BPP_MAP[d.colorType];d.bitDepth===16&&(v=65535,h*=2);var p=new o(g*m*h),_=0,w=0,E=d.bgColor||{};E.red===void 0&&(E.red=v),E.green===void 0&&(E.green=v),E.blue===void 0&&(E.blue=v);function A(O,k){var H,B,Z,V=v;switch(d.inputColorType){case l.COLORTYPE_COLOR_ALPHA:V=O[k+3],H=O[k],B=O[k+1],Z=O[k+2];break;case l.COLORTYPE_COLOR:H=O[k],B=O[k+1],Z=O[k+2];break;case l.COLORTYPE_ALPHA:V=O[k+1],H=O[k],B=H,Z=H;break;case l.COLORTYPE_GRAYSCALE:H=O[k],B=H,Z=H;break;default:throw new Error("input color type:"+d.inputColorType+" is not supported at present")}return d.inputHasAlpha&&(u||(V/=v,H=Math.min(Math.max(Math.round((1-V)*E.red+V*H),0),v),B=Math.min(Math.max(Math.round((1-V)*E.green+V*B),0),v),Z=Math.min(Math.max(Math.round((1-V)*E.blue+V*Z),0),v))),{red:H,green:B,blue:Z,alpha:V}}for(var T=0;T<m;T++)for(var C=0;C<g;C++){var R=A(s,_);switch(d.colorType){case l.COLORTYPE_COLOR_ALPHA:case l.COLORTYPE_COLOR:d.bitDepth===8?(p[w]=R.red,p[w+1]=R.green,p[w+2]=R.blue,u&&(p[w+3]=R.alpha)):(p.writeUInt16BE(R.red,w),p.writeUInt16BE(R.green,w+2),p.writeUInt16BE(R.blue,w+4),u&&p.writeUInt16BE(R.alpha,w+6));break;case l.COLORTYPE_ALPHA:case l.COLORTYPE_GRAYSCALE:var D=(R.red+R.green+R.blue)/3;d.bitDepth===8?(p[w]=D,u&&(p[w+1]=R.alpha)):(p.writeUInt16BE(D,w),u&&p.writeUInt16BE(R.alpha,w+2));break}_+=x,w+=h}return p}}).call(this,n("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(n,i,a){(function(o,l){"use strict";var c=n("util"),g=n("stream"),m=i.exports=function(){g.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};c.inherits(m,g),m.prototype.read=function(d,u){this._reads.push({length:Math.abs(d),allowLess:d<0,func:u}),o.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},m.prototype.write=function(d,u){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var f;return l.isBuffer(d)?f=d:f=new l(d,u||this._encoding),this._buffers.push(f),this._buffered+=f.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},m.prototype.end=function(d,u){d&&this.write(d,u),this.writable=!1,!!this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},m.prototype.destroySoon=m.prototype.end,m.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},m.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},m.prototype._processReadAllowingLess=function(d){this._reads.shift();var u=this._buffers[0];u.length>d.length?(this._buffered-=d.length,this._buffers[0]=u.slice(d.length),d.func.call(this,u.slice(0,d.length))):(this._buffered-=u.length,this._buffers.shift(),d.func.call(this,u))},m.prototype._processRead=function(d){this._reads.shift();for(var u=0,f=0,s=new l(d.length);u<d.length;){var v=this._buffers[f++],x=Math.min(v.length,d.length-u);v.copy(s,u,0,x),u+=x,x!==v.length&&(this._buffers[--f]=v.slice(x))}f>0&&this._buffers.splice(0,f),this._buffered-=d.length,d.func.call(this,s)},m.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var d=this._reads[0];if(d.allowLess)this._processReadAllowingLess(d);else if(this._buffered>=d.length)this._processRead(d);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(u){this.emit("error",u)}}}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(n,i,a){"use strict";i.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(n,i,a){"use strict";var o=[];(function(){for(var c=0;c<256;c++){for(var g=c,m=0;m<8;m++)g&1?g=3988292384^g>>>1:g=g>>>1;o[c]=g}})();var l=i.exports=function(){this._crc=-1};l.prototype.write=function(c){for(var g=0;g<c.length;g++)this._crc=o[(this._crc^c[g])&255]^this._crc>>>8;return!0},l.prototype.crc32=function(){return this._crc^-1},l.crc32=function(c){for(var g=-1,m=0;m<c.length;m++)g=o[(g^c[m])&255]^g>>>8;return g^-1}},{}],115:[function(n,i,a){(function(o){"use strict";var l=n("./paeth-predictor");function c(w,E,A,T,C){for(var R=0;R<A;R++)T[C+R]=w[E+R]}function g(w,E,A){for(var T=0,C=E+A,R=E;R<C;R++)T+=Math.abs(w[R]);return T}function m(w,E,A,T,C,R){for(var D=0;D<A;D++){var O=D>=R?w[E+D-R]:0,k=w[E+D]-O;T[C+D]=k}}function d(w,E,A,T){for(var C=0,R=0;R<A;R++){var D=R>=T?w[E+R-T]:0,O=w[E+R]-D;C+=Math.abs(O)}return C}function u(w,E,A,T,C){for(var R=0;R<A;R++){var D=E>0?w[E+R-A]:0,O=w[E+R]-D;T[C+R]=O}}function f(w,E,A){for(var T=0,C=E+A,R=E;R<C;R++){var D=E>0?w[R-A]:0,O=w[R]-D;T+=Math.abs(O)}return T}function s(w,E,A,T,C,R){for(var D=0;D<A;D++){var O=D>=R?w[E+D-R]:0,k=E>0?w[E+D-A]:0,H=w[E+D]-(O+k>>1);T[C+D]=H}}function v(w,E,A,T){for(var C=0,R=0;R<A;R++){var D=R>=T?w[E+R-T]:0,O=E>0?w[E+R-A]:0,k=w[E+R]-(D+O>>1);C+=Math.abs(k)}return C}function x(w,E,A,T,C,R){for(var D=0;D<A;D++){var O=D>=R?w[E+D-R]:0,k=E>0?w[E+D-A]:0,H=E>0&&D>=R?w[E+D-(A+R)]:0,B=w[E+D]-l(O,k,H);T[C+D]=B}}function h(w,E,A,T){for(var C=0,R=0;R<A;R++){var D=R>=T?w[E+R-T]:0,O=E>0?w[E+R-A]:0,k=E>0&&R>=T?w[E+R-(A+T)]:0,H=w[E+R]-l(D,O,k);C+=Math.abs(H)}return C}var p={0:c,1:m,2:u,3:s,4:x},_={0:g,1:d,2:f,3:v,4:h};i.exports=function(w,E,A,T,C){var R;if(!("filterType"in T)||T.filterType===-1)R=[0,1,2,3,4];else if(typeof T.filterType=="number")R=[T.filterType];else throw new Error("unrecognised filter types");T.bitDepth===16&&(C*=2);for(var D=E*C,O=0,k=0,H=new o((D+1)*A),B=R[0],Z=0;Z<A;Z++){if(R.length>1)for(var V=1/0,j=0;j<R.length;j++){var z=_[R[j]](w,k,D,C);z<V&&(B=R[j],V=z)}H[O]=B,O++,p[B](w,k,D,H,O,C),O+=D,k+=D}return H}}).call(this,n("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(n,i,a){(function(o){"use strict";var l=n("util"),c=n("./chunkstream"),g=n("./filter-parse"),m=i.exports=function(d){c.call(this);var u=[],f=this;this._filter=new g(d,{read:this.read.bind(this),write:function(s){u.push(s)},complete:function(){f.emit("complete",o.concat(u))}}),this._filter.start()};l.inherits(m,c)}).call(this,n("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(n,i,a){(function(o){"use strict";var l=n("./sync-reader"),c=n("./filter-parse");a.process=function(g,m){var d=[],u=new l(g),f=new c(m,{read:u.read.bind(u),write:function(s){d.push(s)},complete:function(){}});return f.start(),u.process(),o.concat(d)}}).call(this,n("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(n,i,a){(function(o){"use strict";var l=n("./interlace"),c=n("./paeth-predictor");function g(d,u,f){var s=d*u;return f!==8&&(s=Math.ceil(s/(8/f))),s}var m=i.exports=function(d,u){var f=d.width,s=d.height,v=d.interlace,x=d.bpp,h=d.depth;if(this.read=u.read,this.write=u.write,this.complete=u.complete,this._imageIndex=0,this._images=[],v)for(var p=l.getImagePasses(f,s),_=0;_<p.length;_++)this._images.push({byteWidth:g(p[_].width,x,h),height:p[_].height,lineIndex:0});else this._images.push({byteWidth:g(f,x,h),height:s,lineIndex:0});h===8?this._xComparison=x:h===16?this._xComparison=x*2:this._xComparison=1};m.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},m.prototype._unFilterType1=function(d,u,f){for(var s=this._xComparison,v=s-1,x=0;x<f;x++){var h=d[1+x],p=x>v?u[x-s]:0;u[x]=h+p}},m.prototype._unFilterType2=function(d,u,f){for(var s=this._lastLine,v=0;v<f;v++){var x=d[1+v],h=s?s[v]:0;u[v]=x+h}},m.prototype._unFilterType3=function(d,u,f){for(var s=this._xComparison,v=s-1,x=this._lastLine,h=0;h<f;h++){var p=d[1+h],_=x?x[h]:0,w=h>v?u[h-s]:0,E=Math.floor((w+_)/2);u[h]=p+E}},m.prototype._unFilterType4=function(d,u,f){for(var s=this._xComparison,v=s-1,x=this._lastLine,h=0;h<f;h++){var p=d[1+h],_=x?x[h]:0,w=h>v?u[h-s]:0,E=h>v&&x?x[h-s]:0,A=c(w,_,E);u[h]=p+A}},m.prototype._reverseFilterLine=function(d){var u=d[0],f,s=this._images[this._imageIndex],v=s.byteWidth;if(u===0)f=d.slice(1,v+1);else switch(f=new o(v),u){case 1:this._unFilterType1(d,f,v);break;case 2:this._unFilterType2(d,f,v);break;case 3:this._unFilterType3(d,f,v);break;case 4:this._unFilterType4(d,f,v);break;default:throw new Error("Unrecognised filter type - "+u)}this.write(f),s.lineIndex++,s.lineIndex>=s.height?(this._lastLine=null,this._imageIndex++,s=this._images[this._imageIndex]):this._lastLine=f,s?this.read(s.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,n("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(n,i,a){(function(o){"use strict";function l(m,d,u,f,s){for(var v=0,x=0;x<f;x++)for(var h=0;h<u;h++){var p=s[m[v]];if(!p)throw new Error("index "+m[v]+" not in palette");for(var _=0;_<4;_++)d[v+_]=p[_];v+=4}}function c(m,d,u,f,s){for(var v=0,x=0;x<f;x++)for(var h=0;h<u;h++){var p=!1;if(s.length===1?s[0]===m[v]&&(p=!0):s[0]===m[v]&&s[1]===m[v+1]&&s[2]===m[v+2]&&(p=!0),p)for(var _=0;_<4;_++)d[v+_]=0;v+=4}}function g(m,d,u,f,s){for(var v=255,x=Math.pow(2,s)-1,h=0,p=0;p<f;p++)for(var _=0;_<u;_++){for(var w=0;w<4;w++)d[h+w]=Math.floor(m[h+w]*v/x+.5);h+=4}}i.exports=function(m,d){var u=d.depth,f=d.width,s=d.height,v=d.colorType,x=d.transColor,h=d.palette,p=m;return v===3?l(m,p,f,s,h):(x&&c(m,p,f,s,x),u!==8&&(u===16&&(p=new o(f*s*4)),g(m,p,f,s,u))),p}}).call(this,n("buffer").Buffer)},{buffer:48}],120:[function(n,i,a){"use strict";var o=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];a.getImagePasses=function(l,c){for(var g=[],m=l%8,d=c%8,u=(l-m)/8,f=(c-d)/8,s=0;s<o.length;s++){for(var v=o[s],x=u*v.x.length,h=f*v.y.length,p=0;p<v.x.length&&v.x[p]<m;p++)x++;for(p=0;p<v.y.length&&v.y[p]<d;p++)h++;x>0&&h>0&&g.push({width:x,height:h,index:s})}return g},a.getInterlaceIterator=function(l){return function(c,g,m){var d=c%o[m].x.length,u=(c-d)/o[m].x.length*8+o[m].x[d],f=g%o[m].y.length,s=(g-f)/o[m].y.length*8+o[m].y[f];return u*4+s*l*4}}},{}],121:[function(n,i,a){(function(o){"use strict";var l=n("util"),c=n("stream"),g=n("./constants"),m=n("./packer"),d=i.exports=function(u){c.call(this);var f=u||{};this._packer=new m(f),this._deflate=this._packer.createDeflate(),this.readable=!0};l.inherits(d,c),d.prototype.pack=function(u,f,s,v){this.emit("data",new o(g.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(f,s)),v&&this.emit("data",this._packer.packGAMA(v));var x=this._packer.filterData(u,f,s);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(h){this.emit("data",this._packer.packIDAT(h))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(x)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(n,i,a){(function(o){"use strict";var l=!0,c=n("zlib");c.deflateSync||(l=!1);var g=n("./constants"),m=n("./packer");i.exports=function(d,u){if(!l)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var f=u||{},s=new m(f),v=[];v.push(new o(g.PNG_SIGNATURE)),v.push(s.packIHDR(d.width,d.height)),d.gamma&&v.push(s.packGAMA(d.gamma));var x=s.filterData(d.data,d.width,d.height),h=c.deflateSync(x,s.getDeflateOptions());if(x=null,!h||!h.length)throw new Error("bad png - invalid compressed data response");return v.push(s.packIDAT(h)),v.push(s.packIEND()),o.concat(v)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(n,i,a){(function(o){"use strict";var l=n("./constants"),c=n("./crc"),g=n("./bitpacker"),m=n("./filter-pack"),d=n("zlib"),u=i.exports=function(f){if(this._options=f,f.deflateChunkSize=f.deflateChunkSize||32*1024,f.deflateLevel=f.deflateLevel!=null?f.deflateLevel:9,f.deflateStrategy=f.deflateStrategy!=null?f.deflateStrategy:3,f.inputHasAlpha=f.inputHasAlpha!=null?f.inputHasAlpha:!0,f.deflateFactory=f.deflateFactory||d.createDeflate,f.bitDepth=f.bitDepth||8,f.colorType=typeof f.colorType=="number"?f.colorType:l.COLORTYPE_COLOR_ALPHA,f.inputColorType=typeof f.inputColorType=="number"?f.inputColorType:l.COLORTYPE_COLOR_ALPHA,[l.COLORTYPE_GRAYSCALE,l.COLORTYPE_COLOR,l.COLORTYPE_COLOR_ALPHA,l.COLORTYPE_ALPHA].indexOf(f.colorType)===-1)throw new Error("option color type:"+f.colorType+" is not supported at present");if([l.COLORTYPE_GRAYSCALE,l.COLORTYPE_COLOR,l.COLORTYPE_COLOR_ALPHA,l.COLORTYPE_ALPHA].indexOf(f.inputColorType)===-1)throw new Error("option input color type:"+f.inputColorType+" is not supported at present");if(f.bitDepth!==8&&f.bitDepth!==16)throw new Error("option bit depth:"+f.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(f,s,v){var x=g(f,s,v,this._options),h=l.COLORTYPE_TO_BPP_MAP[this._options.colorType],p=m(x,s,v,this._options,h);return p},u.prototype._packChunk=function(f,s){var v=s?s.length:0,x=new o(v+12);return x.writeUInt32BE(v,0),x.writeUInt32BE(f,4),s&&s.copy(x,8),x.writeInt32BE(c.crc32(x.slice(4,x.length-4)),x.length-4),x},u.prototype.packGAMA=function(f){var s=new o(4);return s.writeUInt32BE(Math.floor(f*l.GAMMA_DIVISION),0),this._packChunk(l.TYPE_gAMA,s)},u.prototype.packIHDR=function(f,s){var v=new o(13);return v.writeUInt32BE(f,0),v.writeUInt32BE(s,4),v[8]=this._options.bitDepth,v[9]=this._options.colorType,v[10]=0,v[11]=0,v[12]=0,this._packChunk(l.TYPE_IHDR,v)},u.prototype.packIDAT=function(f){return this._packChunk(l.TYPE_IDAT,f)},u.prototype.packIEND=function(){return this._packChunk(l.TYPE_IEND,null)}}).call(this,n("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(n,i,a){"use strict";i.exports=function(l,c,g){var m=l+c-g,d=Math.abs(m-l),u=Math.abs(m-c),f=Math.abs(m-g);return d<=u&&d<=f?l:u<=f?c:g}},{}],125:[function(n,i,a){"use strict";var o=n("util"),l=n("zlib"),c=n("./chunkstream"),g=n("./filter-parse-async"),m=n("./parser"),d=n("./bitmapper"),u=n("./format-normaliser"),f=i.exports=function(s){c.call(this),this._parser=new m(s,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=s,this.writable=!0,this._parser.start()};o.inherits(f,c),f.prototype._handleError=function(s){this.emit("error",s),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},f.prototype._inflateData=function(s){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=l.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var v=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,x=v*this._bitmapInfo.height,h=Math.max(x,l.Z_MIN_CHUNK);this._inflate=l.createInflate({chunkSize:h});var p=x,_=this.emit.bind(this,"error");this._inflate.on("error",function(E){!p||_(E)}),this._filter.on("complete",this._complete.bind(this));var w=this._filter.write.bind(this._filter);this._inflate.on("data",function(E){!p||(E.length>p&&(E=E.slice(0,p)),p-=E.length,w(E))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(s)},f.prototype._handleMetaData=function(s){this.emit("metadata",s),this._bitmapInfo=Object.create(s),this._filter=new g(this._bitmapInfo)},f.prototype._handleTransColor=function(s){this._bitmapInfo.transColor=s},f.prototype._handlePalette=function(s){this._bitmapInfo.palette=s},f.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},f.prototype._complete=function(s){if(!this.errord){try{var v=d.dataToBitMap(s,this._bitmapInfo),x=u(v,this._bitmapInfo);v=null}catch(h){this._handleError(h);return}this.emit("parsed",x)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(n,i,a){(function(o){"use strict";var l=!0,c=n("zlib"),g=n("./sync-inflate");c.deflateSync||(l=!1);var m=n("./sync-reader"),d=n("./filter-parse-sync"),u=n("./parser"),f=n("./bitmapper"),s=n("./format-normaliser");i.exports=function(v,x){if(!l)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var h;function p(J){h=J}var _;function w(J){_=J}function E(J){_.transColor=J}function A(J){_.palette=J}var T;function C(J){T=J}var R=[];function D(J){R.push(J)}var O=new m(v),k=new u(x,{read:O.read.bind(O),error:p,metadata:w,gamma:C,palette:A,transColor:E,inflateData:D});if(k.start(),O.process(),h)throw h;var H=o.concat(R);R.length=0;var B;if(_.interlace)B=c.inflateSync(H);else{var Z=(_.width*_.bpp*_.depth+7>>3)+1,V=Z*_.height;B=g(H,{chunkSize:V,maxLength:V})}if(H=null,!B||!B.length)throw new Error("bad png - invalid inflate data response");var j=d.process(B,_);H=null;var z=f.dataToBitMap(j,_);j=null;var W=s(z,_);return _.data=W,_.gamma=T||0,_}}).call(this,n("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(n,i,a){(function(o){"use strict";var l=n("./constants"),c=n("./crc"),g=i.exports=function(m,d){this._options=m,m.checkCRC=m.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[l.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[l.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[l.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[l.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[l.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[l.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=d.read,this.error=d.error,this.metadata=d.metadata,this.gamma=d.gamma,this.transColor=d.transColor,this.palette=d.palette,this.parsed=d.parsed,this.inflateData=d.inflateData,this.finished=d.finished};g.prototype.start=function(){this.read(l.PNG_SIGNATURE.length,this._parseSignature.bind(this))},g.prototype._parseSignature=function(m){for(var d=l.PNG_SIGNATURE,u=0;u<d.length;u++)if(m[u]!==d[u]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},g.prototype._parseChunkBegin=function(m){for(var d=m.readUInt32BE(0),u=m.readUInt32BE(4),f="",s=4;s<8;s++)f+=String.fromCharCode(m[s]);var v=Boolean(m[4]&32);if(!this._hasIHDR&&u!==l.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new c,this._crc.write(new o(f)),this._chunks[u])return this._chunks[u](d);if(!v){this.error(new Error("Unsupported critical chunk type "+f));return}this.read(d+4,this._skipChunk.bind(this))},g.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},g.prototype._parseChunkEnd=function(m){var d=m.readInt32BE(0),u=this._crc.crc32();if(this._options.checkCRC&&u!==d){this.error(new Error("Crc error - "+d+" - "+u));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleIHDR=function(m){this.read(m,this._parseIHDR.bind(this))},g.prototype._parseIHDR=function(m){this._crc.write(m);var d=m.readUInt32BE(0),u=m.readUInt32BE(4),f=m[8],s=m[9],v=m[10],x=m[11],h=m[12];if(f!==8&&f!==4&&f!==2&&f!==1&&f!==16){this.error(new Error("Unsupported bit depth "+f));return}if(!(s in l.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(v!==0){this.error(new Error("Unsupported compression method"));return}if(x!==0){this.error(new Error("Unsupported filter method"));return}if(h!==0&&h!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=s;var p=l.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:d,height:u,depth:f,interlace:Boolean(h),palette:Boolean(s&l.COLORTYPE_PALETTE),color:Boolean(s&l.COLORTYPE_COLOR),alpha:Boolean(s&l.COLORTYPE_ALPHA),bpp:p,colorType:s}),this._handleChunkEnd()},g.prototype._handlePLTE=function(m){this.read(m,this._parsePLTE.bind(this))},g.prototype._parsePLTE=function(m){this._crc.write(m);for(var d=Math.floor(m.length/3),u=0;u<d;u++)this._palette.push([m[u*3],m[u*3+1],m[u*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},g.prototype._handleTRNS=function(m){this.read(m,this._parseTRNS.bind(this))},g.prototype._parseTRNS=function(m){if(this._crc.write(m),this._colorType===l.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(m.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var d=0;d<m.length;d++)this._palette[d][3]=m[d];this.palette(this._palette)}this._colorType===l.COLORTYPE_GRAYSCALE&&this.transColor([m.readUInt16BE(0)]),this._colorType===l.COLORTYPE_COLOR&&this.transColor([m.readUInt16BE(0),m.readUInt16BE(2),m.readUInt16BE(4)]),this._handleChunkEnd()},g.prototype._handleGAMA=function(m){this.read(m,this._parseGAMA.bind(this))},g.prototype._parseGAMA=function(m){this._crc.write(m),this.gamma(m.readUInt32BE(0)/l.GAMMA_DIVISION),this._handleChunkEnd()},g.prototype._handleIDAT=function(m){this.read(-m,this._parseIDAT.bind(this,m))},g.prototype._parseIDAT=function(m,d){if(this._crc.write(d),this._colorType===l.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(d);var u=m-d.length;u>0?this._handleIDAT(u):this._handleChunkEnd()},g.prototype._handleIEND=function(m){this.read(m,this._parseIEND.bind(this))},g.prototype._parseIEND=function(m){this._crc.write(m),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,n("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(n,i,a){"use strict";var o=n("./parser-sync"),l=n("./packer-sync");a.read=function(c,g){return o(c,g||{})},a.write=function(c,g){return l(c,g)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(n,i,a){(function(o,l){"use strict";var c=n("util"),g=n("stream"),m=n("./parser-async"),d=n("./packer-async"),u=n("./png-sync"),f=a.PNG=function(s){g.call(this),s=s||{},this.width=s.width|0,this.height=s.height|0,this.data=this.width>0&&this.height>0?new l(4*this.width*this.height):null,s.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new m(s),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(v){this.data=v,this.emit("parsed",v)}.bind(this)),this._packer=new d(s),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};c.inherits(f,g),f.sync=u,f.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(o.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},f.prototype.parse=function(s,v){if(v){var x,h;x=function(p){this.removeListener("error",h),this.data=p,v(null,this)}.bind(this),h=function(p){this.removeListener("parsed",x),v(p,null)}.bind(this),this.once("parsed",x),this.once("error",h)}return this.end(s),this},f.prototype.write=function(s){return this._parser.write(s),!0},f.prototype.end=function(s){this._parser.end(s)},f.prototype._metadata=function(s){this.width=s.width,this.height=s.height,this.emit("metadata",s)},f.prototype._gamma=function(s){this.gamma=s},f.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},f.bitblt=function(s,v,x,h,p,_,w,E){if(x|=0,h|=0,p|=0,_|=0,w|=0,E|=0,x>s.width||h>s.height||x+p>s.width||h+_>s.height)throw new Error("bitblt reading outside image");if(w>v.width||E>v.height||w+p>v.width||E+_>v.height)throw new Error("bitblt writing outside image");for(var A=0;A<_;A++)s.data.copy(v.data,(E+A)*v.width+w<<2,(h+A)*s.width+x<<2,(h+A)*s.width+x+p<<2)},f.prototype.bitblt=function(s,v,x,h,p,_,w){return f.bitblt(this,s,v,x,h,p,_,w),this},f.adjustGamma=function(s){if(s.gamma){for(var v=0;v<s.height;v++)for(var x=0;x<s.width;x++)for(var h=s.width*v+x<<2,p=0;p<3;p++){var _=s.data[h+p]/255;_=Math.pow(_,1/2.2/s.gamma),s.data[h+p]=Math.round(_*255)}s.gamma=0}},f.prototype.adjustGamma=function(){f.adjustGamma(this)}}).call(this,n("_process"),n("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(n,i,a){(function(o,l){"use strict";var c=n("assert").ok,g=n("zlib"),m=n("util"),d=n("buffer").kMaxLength;function u(h){if(!(this instanceof u))return new u(h);h&&h.chunkSize<g.Z_MIN_CHUNK&&(h.chunkSize=g.Z_MIN_CHUNK),g.Inflate.call(this,h),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,h&&h.maxLength!=null&&(this._maxLength=h.maxLength)}function f(h){return new u(h)}function s(h,p){p&&o.nextTick(p),!!h._handle&&(h._handle.close(),h._handle=null)}u.prototype._processChunk=function(h,p,_){if(typeof _=="function")return g.Inflate._processChunk.call(this,h,p,_);var w=this,E=h&&h.length,A=this._chunkSize-this._offset,T=this._maxLength,C=0,R=[],D=0,O;this.on("error",function(Z){O=Z});function k(Z,V){if(!w._hadError){var j=A-V;if(c(j>=0,"have should not go down"),j>0){var z=w._buffer.slice(w._offset,w._offset+j);if(w._offset+=j,z.length>T&&(z=z.slice(0,T)),R.push(z),D+=z.length,T-=z.length,T===0)return!1}return(V===0||w._offset>=w._chunkSize)&&(A=w._chunkSize,w._offset=0,w._buffer=l.allocUnsafe(w._chunkSize)),V===0?(C+=E-Z,E=Z,!0):!1}}c(this._handle,"zlib binding closed");do{var H=this._handle.writeSync(p,h,C,E,this._buffer,this._offset,A);H=H||this._writeState}while(!this._hadError&&k(H[0],H[1]));if(this._hadError)throw O;if(D>=d)throw s(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+d.toString(16)+" bytes");var B=l.concat(R,D);return s(this),B},m.inherits(u,g.Inflate);function v(h,p){if(typeof p=="string"&&(p=l.from(p)),!(p instanceof l))throw new TypeError("Not a string or buffer");var _=h._finishFlushFlag;return _==null&&(_=g.Z_FINISH),h._processChunk(p,_)}function x(h,p){return v(new u(p),h)}i.exports=a=x,a.Inflate=u,a.createInflate=f,a.inflateSync=x}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(n,i,a){"use strict";var o=i.exports=function(l){this._buffer=l,this._reads=[]};o.prototype.read=function(l,c){this._reads.push({length:Math.abs(l),allowLess:l<0,func:c})},o.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var l=this._reads[0];if(this._buffer.length&&(this._buffer.length>=l.length||l.allowLess)){this._reads.shift();var c=this._buffer;this._buffer=c.slice(l.length),l.func.call(this,c.slice(0,l.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(n,i,a){(function(o){"use strict";typeof o=="undefined"||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?i.exports={nextTick:l}:i.exports=o;function l(c,g,m,d){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,f,s;switch(u){case 0:case 1:return o.nextTick(c);case 2:return o.nextTick(function(){c.call(null,g)});case 3:return o.nextTick(function(){c.call(null,g,m)});case 4:return o.nextTick(function(){c.call(null,g,m,d)});default:for(f=new Array(u-1),s=0;s<f.length;)f[s++]=arguments[s];return o.nextTick(function(){c.apply(null,f)})}}}).call(this,n("_process"))},{_process:133}],133:[function(n,i,a){var o=i.exports={},l,c;function g(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=g}catch{l=g}try{typeof clearTimeout=="function"?c=clearTimeout:c=m}catch{c=m}})();function d(E){if(l===setTimeout)return setTimeout(E,0);if((l===g||!l)&&setTimeout)return l=setTimeout,setTimeout(E,0);try{return l(E,0)}catch{try{return l.call(null,E,0)}catch{return l.call(this,E,0)}}}function u(E){if(c===clearTimeout)return clearTimeout(E);if((c===m||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(E);try{return c(E)}catch{try{return c.call(null,E)}catch{return c.call(this,E)}}}var f=[],s=!1,v,x=-1;function h(){!s||!v||(s=!1,v.length?f=v.concat(f):x=-1,f.length&&p())}function p(){if(!s){var E=d(h);s=!0;for(var A=f.length;A;){for(v=f,f=[];++x<A;)v&&v[x].run();x=-1,A=f.length}v=null,s=!1,u(E)}}o.nextTick=function(E){var A=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)A[T-1]=arguments[T];f.push(new _(E,A)),f.length===1&&!s&&d(p)};function _(E,A){this.fun=E,this.array=A}_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function w(){}o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(E){return[]},o.binding=function(E){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(E){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],134:[function(n,i,a){(function(o){(function(l){var c=typeof a=="object"&&a&&!a.nodeType&&a,g=typeof i=="object"&&i&&!i.nodeType&&i,m=typeof o=="object"&&o;(m.global===m||m.window===m||m.self===m)&&(l=m);var d,u=2147483647,f=36,s=1,v=26,x=38,h=700,p=72,_=128,w="-",E=/^xn--/,A=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=f-s,D=Math.floor,O=String.fromCharCode,k;function H(ae){throw new RangeError(C[ae])}function B(ae,se){for(var ce=ae.length,he=[];ce--;)he[ce]=se(ae[ce]);return he}function Z(ae,se){var ce=ae.split("@"),he="";ce.length>1&&(he=ce[0]+"@",ae=ce[1]),ae=ae.replace(T,".");var we=ae.split("."),xe=B(we,se).join(".");return he+xe}function V(ae){for(var se=[],ce=0,he=ae.length,we,xe;ce<he;)we=ae.charCodeAt(ce++),we>=55296&&we<=56319&&ce<he?(xe=ae.charCodeAt(ce++),(xe&64512)==56320?se.push(((we&1023)<<10)+(xe&1023)+65536):(se.push(we),ce--)):se.push(we);return se}function j(ae){return B(ae,function(se){var ce="";return se>65535&&(se-=65536,ce+=O(se>>>10&1023|55296),se=56320|se&1023),ce+=O(se),ce}).join("")}function z(ae){return ae-48<10?ae-22:ae-65<26?ae-65:ae-97<26?ae-97:f}function W(ae,se){return ae+22+75*(ae<26)-((se!=0)<<5)}function J(ae,se,ce){var he=0;for(ae=ce?D(ae/h):ae>>1,ae+=D(ae/se);ae>R*v>>1;he+=f)ae=D(ae/R);return D(he+(R+1)*ae/(ae+x))}function oe(ae){var se=[],ce=ae.length,he,we=0,xe=_,Oe=p,ge,De,pe,de,ie,re,q,te,G;for(ge=ae.lastIndexOf(w),ge<0&&(ge=0),De=0;De<ge;++De)ae.charCodeAt(De)>=128&&H("not-basic"),se.push(ae.charCodeAt(De));for(pe=ge>0?ge+1:0;pe<ce;){for(de=we,ie=1,re=f;pe>=ce&&H("invalid-input"),q=z(ae.charCodeAt(pe++)),(q>=f||q>D((u-we)/ie))&&H("overflow"),we+=q*ie,te=re<=Oe?s:re>=Oe+v?v:re-Oe,!(q<te);re+=f)G=f-te,ie>D(u/G)&&H("overflow"),ie*=G;he=se.length+1,Oe=J(we-de,he,de==0),D(we/he)>u-xe&&H("overflow"),xe+=D(we/he),we%=he,se.splice(we++,0,xe)}return j(se)}function le(ae){var se,ce,he,we,xe,Oe,ge,De,pe,de,ie,re=[],q,te,G,P;for(ae=V(ae),q=ae.length,se=_,ce=0,xe=p,Oe=0;Oe<q;++Oe)ie=ae[Oe],ie<128&&re.push(O(ie));for(he=we=re.length,we&&re.push(w);he<q;){for(ge=u,Oe=0;Oe<q;++Oe)ie=ae[Oe],ie>=se&&ie<ge&&(ge=ie);for(te=he+1,ge-se>D((u-ce)/te)&&H("overflow"),ce+=(ge-se)*te,se=ge,Oe=0;Oe<q;++Oe)if(ie=ae[Oe],ie<se&&++ce>u&&H("overflow"),ie==se){for(De=ce,pe=f;de=pe<=xe?s:pe>=xe+v?v:pe-xe,!(De<de);pe+=f)P=De-de,G=f-de,re.push(O(W(de+P%G,0))),De=D(P/G);re.push(O(W(De,0))),xe=J(ce,te,he==we),ce=0,++he}++ce,++se}return re.join("")}function fe(ae){return Z(ae,function(se){return E.test(se)?oe(se.slice(4).toLowerCase()):se})}function $(ae){return Z(ae,function(se){return A.test(se)?"xn--"+le(se):se})}if(d={version:"1.4.1",ucs2:{decode:V,encode:j},decode:oe,encode:le,toASCII:$,toUnicode:fe},typeof r=="function"&&typeof r.amd=="object"&&r.amd)r("punycode",function(){return d});else if(c&&g)if(i.exports==c)g.exports=d;else for(k in d)d.hasOwnProperty(k)&&(c[k]=d[k]);else l.punycode=d})(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{}],135:[function(n,i,a){"use strict";function o(c,g){return Object.prototype.hasOwnProperty.call(c,g)}i.exports=function(c,g,m,d){g=g||"&",m=m||"=";var u={};if(typeof c!="string"||c.length===0)return u;var f=/\+/g;c=c.split(g);var s=1e3;d&&typeof d.maxKeys=="number"&&(s=d.maxKeys);var v=c.length;s>0&&v>s&&(v=s);for(var x=0;x<v;++x){var h=c[x].replace(f,"%20"),p=h.indexOf(m),_,w,E,A;p>=0?(_=h.substr(0,p),w=h.substr(p+1)):(_=h,w=""),E=decodeURIComponent(_),A=decodeURIComponent(w),o(u,E)?l(u[E])?u[E].push(A):u[E]=[u[E],A]:u[E]=A}return u};var l=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}},{}],136:[function(n,i,a){"use strict";var o=function(m){switch(typeof m){case"string":return m;case"boolean":return m?"true":"false";case"number":return isFinite(m)?m:"";default:return""}};i.exports=function(m,d,u,f){return d=d||"&",u=u||"=",m===null&&(m=void 0),typeof m=="object"?c(g(m),function(s){var v=encodeURIComponent(o(s))+u;return l(m[s])?c(m[s],function(x){return v+encodeURIComponent(o(x))}).join(d):v+encodeURIComponent(o(m[s]))}).join(d):f?encodeURIComponent(o(f))+u+encodeURIComponent(o(m)):""};var l=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function c(m,d){if(m.map)return m.map(d);for(var u=[],f=0;f<m.length;f++)u.push(d(m[f],f));return u}var g=Object.keys||function(m){var d=[];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&d.push(u);return d}},{}],137:[function(n,i,a){"use strict";a.decode=a.parse=n("./decode"),a.encode=a.stringify=n("./encode")},{"./decode":135,"./encode":136}],138:[function(n,i,a){i.exports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(n,i,a){"use strict";var o=n("process-nextick-args"),l=Object.keys||function(h){var p=[];for(var _ in h)p.push(_);return p};i.exports=s;var c=n("core-util-is");c.inherits=n("inherits");var g=n("./_stream_readable"),m=n("./_stream_writable");c.inherits(s,g);for(var d=l(m.prototype),u=0;u<d.length;u++){var f=d[u];s.prototype[f]||(s.prototype[f]=m.prototype[f])}function s(h){if(!(this instanceof s))return new s(h);g.call(this,h),m.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(){this.allowHalfOpen||this._writableState.ended||o.nextTick(x,this)}function x(h){h.end()}Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),s.prototype._destroy=function(h,p){this.push(null),this.end(),o.nextTick(p,h)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(n,i,a){"use strict";i.exports=c;var o=n("./_stream_transform"),l=n("core-util-is");l.inherits=n("inherits"),l.inherits(c,o);function c(g){if(!(this instanceof c))return new c(g);o.call(this,g)}c.prototype._transform=function(g,m,d){d(null,g)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(n,i,a){(function(o,l){"use strict";var c=n("process-nextick-args");i.exports=O;var g=n("isarray"),m;O.ReadableState=D;var d=n("events").EventEmitter,u=function(ie,re){return ie.listeners(re).length},f=n("./internal/streams/stream"),s=n("safe-buffer").Buffer,v=l.Uint8Array||function(){};function x(ie){return s.from(ie)}function h(ie){return s.isBuffer(ie)||ie instanceof v}var p=n("core-util-is");p.inherits=n("inherits");var _=n("util"),w=void 0;_&&_.debuglog?w=_.debuglog("stream"):w=function(){};var E=n("./internal/streams/BufferList"),A=n("./internal/streams/destroy"),T;p.inherits(O,f);var C=["error","close","destroy","pause","resume"];function R(ie,re,q){if(typeof ie.prependListener=="function")return ie.prependListener(re,q);!ie._events||!ie._events[re]?ie.on(re,q):g(ie._events[re])?ie._events[re].unshift(q):ie._events[re]=[q,ie._events[re]]}function D(ie,re){m=m||n("./_stream_duplex"),ie=ie||{};var q=re instanceof m;this.objectMode=!!ie.objectMode,q&&(this.objectMode=this.objectMode||!!ie.readableObjectMode);var te=ie.highWaterMark,G=ie.readableHighWaterMark,P=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:q&&(G||G===0)?this.highWaterMark=G:this.highWaterMark=P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(T||(T=n("string_decoder/").StringDecoder),this.decoder=new T(ie.encoding),this.encoding=ie.encoding)}function O(ie){if(m=m||n("./_stream_duplex"),!(this instanceof O))return new O(ie);this._readableState=new D(ie,this),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ie){!this._readableState||(this._readableState.destroyed=ie)}}),O.prototype.destroy=A.destroy,O.prototype._undestroy=A.undestroy,O.prototype._destroy=function(ie,re){this.push(null),re(ie)},O.prototype.push=function(ie,re){var q=this._readableState,te;return q.objectMode?te=!0:typeof ie=="string"&&(re=re||q.defaultEncoding,re!==q.encoding&&(ie=s.from(ie,re),re=""),te=!0),k(this,ie,re,!1,te)},O.prototype.unshift=function(ie){return k(this,ie,null,!0,!1)};function k(ie,re,q,te,G){var P=ie._readableState;if(re===null)P.reading=!1,W(ie,P);else{var I;G||(I=B(P,re)),I?ie.emit("error",I):P.objectMode||re&&re.length>0?(typeof re!="string"&&!P.objectMode&&Object.getPrototypeOf(re)!==s.prototype&&(re=x(re)),te?P.endEmitted?ie.emit("error",new Error("stream.unshift() after end event")):H(ie,P,re,!0):P.ended?ie.emit("error",new Error("stream.push() after EOF")):(P.reading=!1,P.decoder&&!q?(re=P.decoder.write(re),P.objectMode||re.length!==0?H(ie,P,re,!1):le(ie,P)):H(ie,P,re,!1))):te||(P.reading=!1)}return Z(P)}function H(ie,re,q,te){re.flowing&&re.length===0&&!re.sync?(ie.emit("data",q),ie.read(0)):(re.length+=re.objectMode?1:q.length,te?re.buffer.unshift(q):re.buffer.push(q),re.needReadable&&J(ie)),le(ie,re)}function B(ie,re){var q;return!h(re)&&typeof re!="string"&&re!==void 0&&!ie.objectMode&&(q=new TypeError("Invalid non-string/buffer chunk")),q}function Z(ie){return!ie.ended&&(ie.needReadable||ie.length<ie.highWaterMark||ie.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(ie){return T||(T=n("string_decoder/").StringDecoder),this._readableState.decoder=new T(ie),this._readableState.encoding=ie,this};var V=8388608;function j(ie){return ie>=V?ie=V:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function z(ie,re){return ie<=0||re.length===0&&re.ended?0:re.objectMode?1:ie!==ie?re.flowing&&re.length?re.buffer.head.data.length:re.length:(ie>re.highWaterMark&&(re.highWaterMark=j(ie)),ie<=re.length?ie:re.ended?re.length:(re.needReadable=!0,0))}O.prototype.read=function(ie){w("read",ie),ie=parseInt(ie,10);var re=this._readableState,q=ie;if(ie!==0&&(re.emittedReadable=!1),ie===0&&re.needReadable&&(re.length>=re.highWaterMark||re.ended))return w("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?De(this):J(this),null;if(ie=z(ie,re),ie===0&&re.ended)return re.length===0&&De(this),null;var te=re.needReadable;w("need readable",te),(re.length===0||re.length-ie<re.highWaterMark)&&(te=!0,w("length less than watermark",te)),re.ended||re.reading?(te=!1,w("reading or ended",te)):te&&(w("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(ie=z(q,re)));var G;return ie>0?G=we(ie,re):G=null,G===null?(re.needReadable=!0,ie=0):re.length-=ie,re.length===0&&(re.ended||(re.needReadable=!0),q!==ie&&re.ended&&De(this)),G!==null&&this.emit("data",G),G};function W(ie,re){if(!re.ended){if(re.decoder){var q=re.decoder.end();q&&q.length&&(re.buffer.push(q),re.length+=re.objectMode?1:q.length)}re.ended=!0,J(ie)}}function J(ie){var re=ie._readableState;re.needReadable=!1,re.emittedReadable||(w("emitReadable",re.flowing),re.emittedReadable=!0,re.sync?c.nextTick(oe,ie):oe(ie))}function oe(ie){w("emit readable"),ie.emit("readable"),he(ie)}function le(ie,re){re.readingMore||(re.readingMore=!0,c.nextTick(fe,ie,re))}function fe(ie,re){for(var q=re.length;!re.reading&&!re.flowing&&!re.ended&&re.length<re.highWaterMark&&(w("maybeReadMore read 0"),ie.read(0),q!==re.length);)q=re.length;re.readingMore=!1}O.prototype._read=function(ie){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(ie,re){var q=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=ie;break;case 1:te.pipes=[te.pipes,ie];break;default:te.pipes.push(ie);break}te.pipesCount+=1,w("pipe count=%d opts=%j",te.pipesCount,re);var G=(!re||re.end!==!1)&&ie!==o.stdout&&ie!==o.stderr,P=G?U:Me;te.endEmitted?c.nextTick(P):q.once("end",P),ie.on("unpipe",I);function I(Ge,et){w("onunpipe"),Ge===q&&et&&et.hasUnpiped===!1&&(et.hasUnpiped=!0,Ie())}function U(){w("onend"),ie.end()}var Q=$(q);ie.on("drain",Q);var ye=!1;function Ie(){w("cleanup"),ie.removeListener("close",qe),ie.removeListener("finish",Ye),ie.removeListener("drain",Q),ie.removeListener("error",ze),ie.removeListener("unpipe",I),q.removeListener("end",U),q.removeListener("end",Me),q.removeListener("data",Pe),ye=!0,te.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&Q()}var be=!1;q.on("data",Pe);function Pe(Ge){w("ondata"),be=!1;var et=ie.write(Ge);et===!1&&!be&&((te.pipesCount===1&&te.pipes===ie||te.pipesCount>1&&de(te.pipes,ie)!==-1)&&!ye&&(w("false write response, pause",q._readableState.awaitDrain),q._readableState.awaitDrain++,be=!0),q.pause())}function ze(Ge){w("onerror",Ge),Me(),ie.removeListener("error",ze),u(ie,"error")===0&&ie.emit("error",Ge)}R(ie,"error",ze);function qe(){ie.removeListener("finish",Ye),Me()}ie.once("close",qe);function Ye(){w("onfinish"),ie.removeListener("close",qe),Me()}ie.once("finish",Ye);function Me(){w("unpipe"),q.unpipe(ie)}return ie.emit("pipe",q),te.flowing||(w("pipe resume"),q.resume()),ie};function $(ie){return function(){var re=ie._readableState;w("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&u(ie,"data")&&(re.flowing=!0,he(ie))}}O.prototype.unpipe=function(ie){var re=this._readableState,q={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return ie&&ie!==re.pipes?this:(ie||(ie=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,ie&&ie.emit("unpipe",this,q),this);if(!ie){var te=re.pipes,G=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var P=0;P<G;P++)te[P].emit("unpipe",this,q);return this}var I=de(re.pipes,ie);return I===-1?this:(re.pipes.splice(I,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),ie.emit("unpipe",this,q),this)},O.prototype.on=function(ie,re){var q=f.prototype.on.call(this,ie,re);if(ie==="data")this._readableState.flowing!==!1&&this.resume();else if(ie==="readable"){var te=this._readableState;!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.emittedReadable=!1,te.reading?te.length&&J(this):c.nextTick(ae,this))}return q},O.prototype.addListener=O.prototype.on;function ae(ie){w("readable nexttick read 0"),ie.read(0)}O.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(w("resume"),ie.flowing=!0,se(this,ie)),this};function se(ie,re){re.resumeScheduled||(re.resumeScheduled=!0,c.nextTick(ce,ie,re))}function ce(ie,re){re.reading||(w("resume read 0"),ie.read(0)),re.resumeScheduled=!1,re.awaitDrain=0,ie.emit("resume"),he(ie),re.flowing&&!re.reading&&ie.read(0)}O.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function he(ie){var re=ie._readableState;for(w("flow",re.flowing);re.flowing&&ie.read()!==null;);}O.prototype.wrap=function(ie){var re=this,q=this._readableState,te=!1;ie.on("end",function(){if(w("wrapped end"),q.decoder&&!q.ended){var I=q.decoder.end();I&&I.length&&re.push(I)}re.push(null)}),ie.on("data",function(I){if(w("wrapped data"),q.decoder&&(I=q.decoder.write(I)),!(q.objectMode&&I==null)&&!(!q.objectMode&&(!I||!I.length))){var U=re.push(I);U||(te=!0,ie.pause())}});for(var G in ie)this[G]===void 0&&typeof ie[G]=="function"&&(this[G]=function(I){return function(){return ie[I].apply(ie,arguments)}}(G));for(var P=0;P<C.length;P++)ie.on(C[P],this.emit.bind(this,C[P]));return this._read=function(I){w("wrapped _read",I),te&&(te=!1,ie.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=we;function we(ie,re){if(re.length===0)return null;var q;return re.objectMode?q=re.buffer.shift():!ie||ie>=re.length?(re.decoder?q=re.buffer.join(""):re.buffer.length===1?q=re.buffer.head.data:q=re.buffer.concat(re.length),re.buffer.clear()):q=xe(ie,re.buffer,re.decoder),q}function xe(ie,re,q){var te;return ie<re.head.data.length?(te=re.head.data.slice(0,ie),re.head.data=re.head.data.slice(ie)):ie===re.head.data.length?te=re.shift():te=q?Oe(ie,re):ge(ie,re),te}function Oe(ie,re){var q=re.head,te=1,G=q.data;for(ie-=G.length;q=q.next;){var P=q.data,I=ie>P.length?P.length:ie;if(I===P.length?G+=P:G+=P.slice(0,ie),ie-=I,ie===0){I===P.length?(++te,q.next?re.head=q.next:re.head=re.tail=null):(re.head=q,q.data=P.slice(I));break}++te}return re.length-=te,G}function ge(ie,re){var q=s.allocUnsafe(ie),te=re.head,G=1;for(te.data.copy(q),ie-=te.data.length;te=te.next;){var P=te.data,I=ie>P.length?P.length:ie;if(P.copy(q,q.length-ie,0,I),ie-=I,ie===0){I===P.length?(++G,te.next?re.head=te.next:re.head=re.tail=null):(re.head=te,te.data=P.slice(I));break}++G}return re.length-=G,q}function De(ie){var re=ie._readableState;if(re.length>0)throw new Error('"endReadable()" called on non-empty stream');re.endEmitted||(re.ended=!0,c.nextTick(pe,re,ie))}function pe(ie,re){!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,re.readable=!1,re.emit("end"))}function de(ie,re){for(var q=0,te=ie.length;q<te;q++)if(ie[q]===re)return q;return-1}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(n,i,a){"use strict";i.exports=g;var o=n("./_stream_duplex"),l=n("core-util-is");l.inherits=n("inherits"),l.inherits(g,o);function c(u,f){var s=this._transformState;s.transforming=!1;var v=s.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));s.writechunk=null,s.writecb=null,f!=null&&this.push(f),v(u);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function g(u){if(!(this instanceof g))return new g(u);o.call(this,u),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",m)}function m(){var u=this;typeof this._flush=="function"?this._flush(function(f,s){d(u,f,s)}):d(this,null,null)}g.prototype.push=function(u,f){return this._transformState.needTransform=!1,o.prototype.push.call(this,u,f)},g.prototype._transform=function(u,f,s){throw new Error("_transform() is not implemented")},g.prototype._write=function(u,f,s){var v=this._transformState;if(v.writecb=s,v.writechunk=u,v.writeencoding=f,!v.transforming){var x=this._readableState;(v.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},g.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},g.prototype._destroy=function(u,f){var s=this;o.prototype._destroy.call(this,u,function(v){f(v),s.emit("close")})};function d(u,f,s){if(f)return u.emit("error",f);if(s!=null&&u.push(s),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(n,i,a){(function(o,l,c){"use strict";var g=n("process-nextick-args");i.exports=R;function m(ce,he,we){this.chunk=ce,this.encoding=he,this.callback=we,this.next=null}function d(ce){var he=this;this.next=null,this.entry=null,this.finish=function(){se(he,ce)}}var u=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?c:g.nextTick,f;R.WritableState=T;var s=n("core-util-is");s.inherits=n("inherits");var v={deprecate:n("util-deprecate")},x=n("./internal/streams/stream"),h=n("safe-buffer").Buffer,p=l.Uint8Array||function(){};function _(ce){return h.from(ce)}function w(ce){return h.isBuffer(ce)||ce instanceof p}var E=n("./internal/streams/destroy");s.inherits(R,x);function A(){}function T(ce,he){f=f||n("./_stream_duplex"),ce=ce||{};var we=he instanceof f;this.objectMode=!!ce.objectMode,we&&(this.objectMode=this.objectMode||!!ce.writableObjectMode);var xe=ce.highWaterMark,Oe=ce.writableHighWaterMark,ge=this.objectMode?16:16*1024;xe||xe===0?this.highWaterMark=xe:we&&(Oe||Oe===0)?this.highWaterMark=Oe:this.highWaterMark=ge,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var De=ce.decodeStrings===!1;this.decodeStrings=!De,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){j(he,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}T.prototype.getBuffer=function(){for(var he=this.bufferedRequest,we=[];he;)we.push(he),he=he.next;return we},function(){try{Object.defineProperty(T.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(ce){return C.call(this,ce)?!0:this!==R?!1:ce&&ce._writableState instanceof T}})):C=function(ce){return ce instanceof this};function R(ce){if(f=f||n("./_stream_duplex"),!C.call(R,this)&&!(this instanceof f))return new R(ce);this._writableState=new T(ce,this),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),x.call(this)}R.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function D(ce,he){var we=new Error("write after end");ce.emit("error",we),g.nextTick(he,we)}function O(ce,he,we,xe){var Oe=!0,ge=!1;return we===null?ge=new TypeError("May not write null values to stream"):typeof we!="string"&&we!==void 0&&!he.objectMode&&(ge=new TypeError("Invalid non-string/buffer chunk")),ge&&(ce.emit("error",ge),g.nextTick(xe,ge),Oe=!1),Oe}R.prototype.write=function(ce,he,we){var xe=this._writableState,Oe=!1,ge=!xe.objectMode&&w(ce);return ge&&!h.isBuffer(ce)&&(ce=_(ce)),typeof he=="function"&&(we=he,he=null),ge?he="buffer":he||(he=xe.defaultEncoding),typeof we!="function"&&(we=A),xe.ended?D(this,we):(ge||O(this,xe,ce,we))&&(xe.pendingcb++,Oe=H(this,xe,ge,ce,he,we)),Oe},R.prototype.cork=function(){var ce=this._writableState;ce.corked++},R.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.finished&&!ce.bufferProcessing&&ce.bufferedRequest&&J(this,ce))},R.prototype.setDefaultEncoding=function(he){if(typeof he=="string"&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+he);return this._writableState.defaultEncoding=he,this};function k(ce,he,we){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof he=="string"&&(he=h.from(he,we)),he}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(ce,he,we,xe,Oe,ge){if(!we){var De=k(he,xe,Oe);xe!==De&&(we=!0,Oe="buffer",xe=De)}var pe=he.objectMode?1:xe.length;he.length+=pe;var de=he.length<he.highWaterMark;if(de||(he.needDrain=!0),he.writing||he.corked){var ie=he.lastBufferedRequest;he.lastBufferedRequest={chunk:xe,encoding:Oe,isBuf:we,callback:ge,next:null},ie?ie.next=he.lastBufferedRequest:he.bufferedRequest=he.lastBufferedRequest,he.bufferedRequestCount+=1}else B(ce,he,!1,pe,xe,Oe,ge);return de}function B(ce,he,we,xe,Oe,ge,De){he.writelen=xe,he.writecb=De,he.writing=!0,he.sync=!0,we?ce._writev(Oe,he.onwrite):ce._write(Oe,ge,he.onwrite),he.sync=!1}function Z(ce,he,we,xe,Oe){--he.pendingcb,we?(g.nextTick(Oe,xe),g.nextTick($,ce,he),ce._writableState.errorEmitted=!0,ce.emit("error",xe)):(Oe(xe),ce._writableState.errorEmitted=!0,ce.emit("error",xe),$(ce,he))}function V(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function j(ce,he){var we=ce._writableState,xe=we.sync,Oe=we.writecb;if(V(we),he)Z(ce,we,xe,he,Oe);else{var ge=oe(we);!ge&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&J(ce,we),xe?u(z,ce,we,ge,Oe):z(ce,we,ge,Oe)}}function z(ce,he,we,xe){we||W(ce,he),he.pendingcb--,xe(),$(ce,he)}function W(ce,he){he.length===0&&he.needDrain&&(he.needDrain=!1,ce.emit("drain"))}function J(ce,he){he.bufferProcessing=!0;var we=he.bufferedRequest;if(ce._writev&&we&&we.next){var xe=he.bufferedRequestCount,Oe=new Array(xe),ge=he.corkedRequestsFree;ge.entry=we;for(var De=0,pe=!0;we;)Oe[De]=we,we.isBuf||(pe=!1),we=we.next,De+=1;Oe.allBuffers=pe,B(ce,he,!0,he.length,Oe,"",ge.finish),he.pendingcb++,he.lastBufferedRequest=null,ge.next?(he.corkedRequestsFree=ge.next,ge.next=null):he.corkedRequestsFree=new d(he),he.bufferedRequestCount=0}else{for(;we;){var de=we.chunk,ie=we.encoding,re=we.callback,q=he.objectMode?1:de.length;if(B(ce,he,!1,q,de,ie,re),we=we.next,he.bufferedRequestCount--,he.writing)break}we===null&&(he.lastBufferedRequest=null)}he.bufferedRequest=we,he.bufferProcessing=!1}R.prototype._write=function(ce,he,we){we(new Error("_write() is not implemented"))},R.prototype._writev=null,R.prototype.end=function(ce,he,we){var xe=this._writableState;typeof ce=="function"?(we=ce,ce=null,he=null):typeof he=="function"&&(we=he,he=null),ce!=null&&this.write(ce,he),xe.corked&&(xe.corked=1,this.uncork()),!xe.ending&&!xe.finished&&ae(this,xe,we)};function oe(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function le(ce,he){ce._final(function(we){he.pendingcb--,we&&ce.emit("error",we),he.prefinished=!0,ce.emit("prefinish"),$(ce,he)})}function fe(ce,he){!he.prefinished&&!he.finalCalled&&(typeof ce._final=="function"?(he.pendingcb++,he.finalCalled=!0,g.nextTick(le,ce,he)):(he.prefinished=!0,ce.emit("prefinish")))}function $(ce,he){var we=oe(he);return we&&(fe(ce,he),he.pendingcb===0&&(he.finished=!0,ce.emit("finish"))),we}function ae(ce,he,we){he.ending=!0,$(ce,he),we&&(he.finished?g.nextTick(we):ce.once("finish",we)),he.ended=!0,ce.writable=!1}function se(ce,he,we){var xe=ce.entry;for(ce.entry=null;xe;){var Oe=xe.callback;he.pendingcb--,Oe(we),xe=xe.next}he.corkedRequestsFree?he.corkedRequestsFree.next=ce:he.corkedRequestsFree=ce}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ce){!this._writableState||(this._writableState.destroyed=ce)}}),R.prototype.destroy=E.destroy,R.prototype._undestroy=E.undestroy,R.prototype._destroy=function(ce,he){this.end(),he(ce)}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{},n("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(n,i,a){"use strict";function o(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}var l=n("safe-buffer").Buffer,c=n("util");function g(m,d,u){m.copy(d,u)}i.exports=function(){function m(){o(this,m),this.head=null,this.tail=null,this.length=0}return m.prototype.push=function(u){var f={data:u,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},m.prototype.unshift=function(u){var f={data:u,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},m.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},m.prototype.clear=function(){this.head=this.tail=null,this.length=0},m.prototype.join=function(u){if(this.length===0)return"";for(var f=this.head,s=""+f.data;f=f.next;)s+=u+f.data;return s},m.prototype.concat=function(u){if(this.length===0)return l.alloc(0);if(this.length===1)return this.head.data;for(var f=l.allocUnsafe(u>>>0),s=this.head,v=0;s;)g(s.data,f,v),v+=s.data.length,s=s.next;return f},m}(),c&&c.inspect&&c.inspect.custom&&(i.exports.prototype[c.inspect.custom]=function(){var m=c.inspect({length:this.length});return this.constructor.name+" "+m})},{"safe-buffer":147,util:33}],145:[function(n,i,a){"use strict";var o=n("process-nextick-args");function l(m,d){var u=this,f=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return f||s?(d?d(m):m&&(!this._writableState||!this._writableState.errorEmitted)&&o.nextTick(g,this,m),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(v){!d&&v?(o.nextTick(g,u,v),u._writableState&&(u._writableState.errorEmitted=!0)):d&&d(v)}),this)}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(m,d){m.emit("error",d)}i.exports={destroy:l,undestroy:c}},{"process-nextick-args":132}],146:[function(n,i,a){i.exports=n("events").EventEmitter},{events:52}],147:[function(n,i,a){var o=n("buffer"),l=o.Buffer;function c(m,d){for(var u in m)d[u]=m[u]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?i.exports=o:(c(o,a),a.Buffer=g);function g(m,d,u){return l(m,d,u)}c(l,g),g.from=function(m,d,u){if(typeof m=="number")throw new TypeError("Argument must not be a number");return l(m,d,u)},g.alloc=function(m,d,u){if(typeof m!="number")throw new TypeError("Argument must be a number");var f=l(m);return d!==void 0?typeof u=="string"?f.fill(d,u):f.fill(d):f.fill(0),f},g.allocUnsafe=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return l(m)},g.allocUnsafeSlow=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(m)}},{buffer:48}],148:[function(n,i,a){"use strict";var o=n("safe-buffer").Buffer,l=o.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(T){if(!T)return"utf8";for(var C;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(C)return;T=(""+T).toLowerCase(),C=!0}}function g(T){var C=c(T);if(typeof C!="string"&&(o.isEncoding===l||!l(T)))throw new Error("Unknown encoding: "+T);return C||T}a.StringDecoder=m;function m(T){this.encoding=g(T);var C;switch(this.encoding){case"utf16le":this.text=h,this.end=p,C=4;break;case"utf8":this.fillLast=s,C=4;break;case"base64":this.text=_,this.end=w,C=3;break;default:this.write=E,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(C)}m.prototype.write=function(T){if(T.length===0)return"";var C,R;if(this.lastNeed){if(C=this.fillLast(T),C===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<T.length?C?C+this.text(T,R):this.text(T,R):C||""},m.prototype.end=x,m.prototype.text=v,m.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function d(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function u(T,C,R){var D=C.length-1;if(D<R)return 0;var O=d(C[D]);return O>=0?(O>0&&(T.lastNeed=O-1),O):--D<R||O===-2?0:(O=d(C[D]),O>=0?(O>0&&(T.lastNeed=O-2),O):--D<R||O===-2?0:(O=d(C[D]),O>=0?(O>0&&(O===2?O=0:T.lastNeed=O-3),O):0))}function f(T,C,R){if((C[0]&192)!=128)return T.lastNeed=0,"\uFFFD";if(T.lastNeed>1&&C.length>1){if((C[1]&192)!=128)return T.lastNeed=1,"\uFFFD";if(T.lastNeed>2&&C.length>2&&(C[2]&192)!=128)return T.lastNeed=2,"\uFFFD"}}function s(T){var C=this.lastTotal-this.lastNeed,R=f(this,T,C);if(R!==void 0)return R;if(this.lastNeed<=T.length)return T.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,C,0,T.length),this.lastNeed-=T.length}function v(T,C){var R=u(this,T,C);if(!this.lastNeed)return T.toString("utf8",C);this.lastTotal=R;var D=T.length-(R-this.lastNeed);return T.copy(this.lastChar,0,D),T.toString("utf8",C,D)}function x(T){var C=T&&T.length?this.write(T):"";return this.lastNeed?C+"\uFFFD":C}function h(T,C){if((T.length-C)%2==0){var R=T.toString("utf16le",C);if(R){var D=R.charCodeAt(R.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",C,T.length-1)}function p(T){var C=T&&T.length?this.write(T):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,R)}return C}function _(T,C){var R=(T.length-C)%3;return R===0?T.toString("base64",C):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",C,T.length-R))}function w(T){var C=T&&T.length?this.write(T):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function E(T){return T.toString(this.encoding)}function A(T){return T&&T.length?this.write(T):""}},{"safe-buffer":147}],149:[function(n,i,a){i.exports=n("./readable").PassThrough},{"./readable":150}],150:[function(n,i,a){a=i.exports=n("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=n("./lib/_stream_writable.js"),a.Duplex=n("./lib/_stream_duplex.js"),a.Transform=n("./lib/_stream_transform.js"),a.PassThrough=n("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(n,i,a){i.exports=n("./readable").Transform},{"./readable":150}],152:[function(n,i,a){i.exports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(n,i,a){var o=function(l){"use strict";var c=Object.prototype,g=c.hasOwnProperty,m,d=typeof Symbol=="function"?Symbol:{},u=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",s=d.toStringTag||"@@toStringTag";function v(le,fe,$,ae){var se=fe&&fe.prototype instanceof A?fe:A,ce=Object.create(se.prototype),he=new W(ae||[]);return ce._invoke=Z(le,$,he),ce}l.wrap=v;function x(le,fe,$){try{return{type:"normal",arg:le.call(fe,$)}}catch(ae){return{type:"throw",arg:ae}}}var h="suspendedStart",p="suspendedYield",_="executing",w="completed",E={};function A(){}function T(){}function C(){}var R={};R[u]=function(){return this};var D=Object.getPrototypeOf,O=D&&D(D(J([])));O&&O!==c&&g.call(O,u)&&(R=O);var k=C.prototype=A.prototype=Object.create(R);T.prototype=k.constructor=C,C.constructor=T,C[s]=T.displayName="GeneratorFunction";function H(le){["next","throw","return"].forEach(function(fe){le[fe]=function($){return this._invoke(fe,$)}})}l.isGeneratorFunction=function(le){var fe=typeof le=="function"&&le.constructor;return fe?fe===T||(fe.displayName||fe.name)==="GeneratorFunction":!1},l.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,C):(le.__proto__=C,s in le||(le[s]="GeneratorFunction")),le.prototype=Object.create(k),le},l.awrap=function(le){return{__await:le}};function B(le){function fe(se,ce,he,we){var xe=x(le[se],le,ce);if(xe.type==="throw")we(xe.arg);else{var Oe=xe.arg,ge=Oe.value;return ge&&typeof ge=="object"&&g.call(ge,"__await")?Promise.resolve(ge.__await).then(function(De){fe("next",De,he,we)},function(De){fe("throw",De,he,we)}):Promise.resolve(ge).then(function(De){Oe.value=De,he(Oe)},function(De){return fe("throw",De,he,we)})}}var $;function ae(se,ce){function he(){return new Promise(function(we,xe){fe(se,ce,we,xe)})}return $=$?$.then(he,he):he()}this._invoke=ae}H(B.prototype),B.prototype[f]=function(){return this},l.AsyncIterator=B,l.async=function(le,fe,$,ae){var se=new B(v(le,fe,$,ae));return l.isGeneratorFunction(fe)?se:se.next().then(function(ce){return ce.done?ce.value:se.next()})};function Z(le,fe,$){var ae=h;return function(ce,he){if(ae===_)throw new Error("Generator is already running");if(ae===w){if(ce==="throw")throw he;return oe()}for($.method=ce,$.arg=he;;){var we=$.delegate;if(we){var xe=V(we,$);if(xe){if(xe===E)continue;return xe}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ae===h)throw ae=w,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ae=_;var Oe=x(le,fe,$);if(Oe.type==="normal"){if(ae=$.done?w:p,Oe.arg===E)continue;return{value:Oe.arg,done:$.done}}else Oe.type==="throw"&&(ae=w,$.method="throw",$.arg=Oe.arg)}}}function V(le,fe){var $=le.iterator[fe.method];if($===m){if(fe.delegate=null,fe.method==="throw"){if(le.iterator.return&&(fe.method="return",fe.arg=m,V(le,fe),fe.method==="throw"))return E;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var ae=x($,le.iterator,fe.arg);if(ae.type==="throw")return fe.method="throw",fe.arg=ae.arg,fe.delegate=null,E;var se=ae.arg;if(!se)return fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,E;if(se.done)fe[le.resultName]=se.value,fe.next=le.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=m);else return se;return fe.delegate=null,E}H(k),k[s]="Generator",k[u]=function(){return this},k.toString=function(){return"[object Generator]"};function j(le){var fe={tryLoc:le[0]};1 in le&&(fe.catchLoc=le[1]),2 in le&&(fe.finallyLoc=le[2],fe.afterLoc=le[3]),this.tryEntries.push(fe)}function z(le){var fe=le.completion||{};fe.type="normal",delete fe.arg,le.completion=fe}function W(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(j,this),this.reset(!0)}l.keys=function(le){var fe=[];for(var $ in le)fe.push($);return fe.reverse(),function ae(){for(;fe.length;){var se=fe.pop();if(se in le)return ae.value=se,ae.done=!1,ae}return ae.done=!0,ae}};function J(le){if(le){var fe=le[u];if(fe)return fe.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var $=-1,ae=function se(){for(;++$<le.length;)if(g.call(le,$))return se.value=le[$],se.done=!1,se;return se.value=m,se.done=!0,se};return ae.next=ae}}return{next:oe}}l.values=J;function oe(){return{value:m,done:!0}}return W.prototype={constructor:W,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(z),!le)for(var fe in this)fe.charAt(0)==="t"&&g.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=m)},stop:function(){this.done=!0;var le=this.tryEntries[0],fe=le.completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var fe=this;function $(xe,Oe){return ce.type="throw",ce.arg=le,fe.next=xe,Oe&&(fe.method="next",fe.arg=m),!!Oe}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var se=this.tryEntries[ae],ce=se.completion;if(se.tryLoc==="root")return $("end");if(se.tryLoc<=this.prev){var he=g.call(se,"catchLoc"),we=g.call(se,"finallyLoc");if(he&&we){if(this.prev<se.catchLoc)return $(se.catchLoc,!0);if(this.prev<se.finallyLoc)return $(se.finallyLoc)}else if(he){if(this.prev<se.catchLoc)return $(se.catchLoc,!0)}else if(we){if(this.prev<se.finallyLoc)return $(se.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(le,fe){for(var $=this.tryEntries.length-1;$>=0;--$){var ae=this.tryEntries[$];if(ae.tryLoc<=this.prev&&g.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var se=ae;break}}se&&(le==="break"||le==="continue")&&se.tryLoc<=fe&&fe<=se.finallyLoc&&(se=null);var ce=se?se.completion:{};return ce.type=le,ce.arg=fe,se?(this.method="next",this.next=se.finallyLoc,E):this.complete(ce)},complete:function(le,fe){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&fe&&(this.next=fe),E},finish:function(le){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var $=this.tryEntries[fe];if($.finallyLoc===le)return this.complete($.completion,$.afterLoc),z($),E}},catch:function(le){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var $=this.tryEntries[fe];if($.tryLoc===le){var ae=$.completion;if(ae.type==="throw"){var se=ae.arg;z($)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(le,fe,$){return this.delegate={iterator:J(le),resultName:fe,nextLoc:$},this.method==="next"&&(this.arg=m),E}},l}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],154:[function(n,i,a){var o=n("buffer"),l=o.Buffer;function c(m,d){for(var u in m)d[u]=m[u]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?i.exports=o:(c(o,a),a.Buffer=g);function g(m,d,u){return l(m,d,u)}g.prototype=Object.create(l.prototype),c(l,g),g.from=function(m,d,u){if(typeof m=="number")throw new TypeError("Argument must not be a number");return l(m,d,u)},g.alloc=function(m,d,u){if(typeof m!="number")throw new TypeError("Argument must be a number");var f=l(m);return d!==void 0?typeof u=="string"?f.fill(d,u):f.fill(d):f.fill(0),f},g.allocUnsafe=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return l(m)},g.allocUnsafeSlow=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(m)}},{buffer:48}],155:[function(n,i,a){i.exports=c;var o=n("events").EventEmitter,l=n("inherits");l(c,o),c.Readable=n("readable-stream/readable.js"),c.Writable=n("readable-stream/writable.js"),c.Duplex=n("readable-stream/duplex.js"),c.Transform=n("readable-stream/transform.js"),c.PassThrough=n("readable-stream/passthrough.js"),c.Stream=c;function c(){o.call(this)}c.prototype.pipe=function(g,m){var d=this;function u(_){g.writable&&g.write(_)===!1&&d.pause&&d.pause()}d.on("data",u);function f(){d.readable&&d.resume&&d.resume()}g.on("drain",f),!g._isStdio&&(!m||m.end!==!1)&&(d.on("end",v),d.on("close",x));var s=!1;function v(){s||(s=!0,g.end())}function x(){s||(s=!0,typeof g.destroy=="function"&&g.destroy())}function h(_){if(p(),o.listenerCount(this,"error")===0)throw _}d.on("error",h),g.on("error",h);function p(){d.removeListener("data",u),g.removeListener("drain",f),d.removeListener("end",v),d.removeListener("close",x),d.removeListener("error",h),g.removeListener("error",h),d.removeListener("end",p),d.removeListener("close",p),g.removeListener("close",p)}return d.on("end",p),d.on("close",p),g.on("close",p),g.emit("pipe",d),g}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(n,i,a){(function(o){var l=n("./lib/request"),c=n("./lib/response"),g=n("xtend"),m=n("builtin-status-codes"),d=n("url"),u=a;u.request=function(f,s){typeof f=="string"?f=d.parse(f):f=g(f);var v=o.location.protocol.search(/^https?:$/)===-1?"http:":"",x=f.protocol||v,h=f.hostname||f.host,p=f.port,_=f.path||"/";h&&h.indexOf(":")!==-1&&(h="["+h+"]"),f.url=(h?x+"//"+h:"")+(p?":"+p:"")+_,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var w=new l(f);return s&&w.on("response",s),w},u.get=function(s,v){var x=u.request(s,v);return x.end(),x},u.ClientRequest=l,u.IncomingMessage=c.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=m,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(n,i,a){(function(o){a.fetch=m(o.fetch)&&m(o.ReadableStream),a.writableStream=m(o.WritableStream),a.abortController=m(o.AbortController);var l;function c(){if(l!==void 0)return l;if(o.XMLHttpRequest){l=new o.XMLHttpRequest;try{l.open("GET",o.XDomainRequest?"/":"https://example.com")}catch{l=null}}else l=null;return l}function g(d){var u=c();if(!u)return!1;try{return u.responseType=d,u.responseType===d}catch{}return!1}a.arraybuffer=a.fetch||g("arraybuffer"),a.msstream=!a.fetch&&g("ms-stream"),a.mozchunkedarraybuffer=!a.fetch&&g("moz-chunked-arraybuffer"),a.overrideMimeType=a.fetch||(c()?m(c().overrideMimeType):!1);function m(d){return typeof d=="function"}l=null}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{}],158:[function(n,i,a){(function(o,l,c){var g=n("./capability"),m=n("inherits"),d=n("./response"),u=n("readable-stream"),f=d.IncomingMessage,s=d.readyStates;function v(_,w){return g.fetch&&w?"fetch":g.mozchunkedarraybuffer?"moz-chunked-arraybuffer":g.msstream?"ms-stream":g.arraybuffer&&_?"arraybuffer":"text"}var x=i.exports=function(_){var w=this;u.Writable.call(w),w._opts=_,w._body=[],w._headers={},_.auth&&w.setHeader("Authorization","Basic "+c.from(_.auth).toString("base64")),Object.keys(_.headers).forEach(function(T){w.setHeader(T,_.headers[T])});var E,A=!0;if(_.mode==="disable-fetch"||"requestTimeout"in _&&!g.abortController)A=!1,E=!0;else if(_.mode==="prefer-streaming")E=!1;else if(_.mode==="allow-wrong-content-type")E=!g.overrideMimeType;else if(!_.mode||_.mode==="default"||_.mode==="prefer-fast")E=!0;else throw new Error("Invalid value for opts.mode");w._mode=v(E,A),w._fetchTimer=null,w.on("finish",function(){w._onFinish()})};m(x,u.Writable),x.prototype.setHeader=function(_,w){var E=this,A=_.toLowerCase();p.indexOf(A)===-1&&(E._headers[A]={name:_,value:w})},x.prototype.getHeader=function(_){var w=this._headers[_.toLowerCase()];return w?w.value:null},x.prototype.removeHeader=function(_){var w=this;delete w._headers[_.toLowerCase()]},x.prototype._onFinish=function(){var _=this;if(!_._destroyed){var w=_._opts,E=_._headers,A=null;w.method!=="GET"&&w.method!=="HEAD"&&(A=new Blob(_._body,{type:(E["content-type"]||{}).value||""}));var T=[];if(Object.keys(E).forEach(function(k){var H=E[k].name,B=E[k].value;Array.isArray(B)?B.forEach(function(Z){T.push([H,Z])}):T.push([H,B])}),_._mode==="fetch"){var C=null,R=null;if(g.abortController){var D=new AbortController;C=D.signal,_._fetchAbortController=D,"requestTimeout"in w&&w.requestTimeout!==0&&(_._fetchTimer=l.setTimeout(function(){_.emit("requestTimeout"),_._fetchAbortController&&_._fetchAbortController.abort()},w.requestTimeout))}l.fetch(_._opts.url,{method:_._opts.method,headers:T,body:A||void 0,mode:"cors",credentials:w.withCredentials?"include":"same-origin",signal:C}).then(function(k){_._fetchResponse=k,_._connect()},function(k){l.clearTimeout(_._fetchTimer),_._destroyed||_.emit("error",k)})}else{var O=_._xhr=new l.XMLHttpRequest;try{O.open(_._opts.method,_._opts.url,!0)}catch(k){o.nextTick(function(){_.emit("error",k)});return}"responseType"in O&&(O.responseType=_._mode),"withCredentials"in O&&(O.withCredentials=!!w.withCredentials),_._mode==="text"&&"overrideMimeType"in O&&O.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in w&&(O.timeout=w.requestTimeout,O.ontimeout=function(){_.emit("requestTimeout")}),T.forEach(function(k){O.setRequestHeader(k[0],k[1])}),_._response=null,O.onreadystatechange=function(){switch(O.readyState){case s.LOADING:case s.DONE:_._onXHRProgress();break}},_._mode==="moz-chunked-arraybuffer"&&(O.onprogress=function(){_._onXHRProgress()}),O.onerror=function(){_._destroyed||_.emit("error",new Error("XHR error"))};try{O.send(A)}catch(k){o.nextTick(function(){_.emit("error",k)});return}}}};function h(_){try{var w=_.status;return w!==null&&w!==0}catch{return!1}}x.prototype._onXHRProgress=function(){var _=this;!h(_._xhr)||_._destroyed||(_._response||_._connect(),_._response._onXHRProgress())},x.prototype._connect=function(){var _=this;_._destroyed||(_._response=new f(_._xhr,_._fetchResponse,_._mode,_._fetchTimer),_._response.on("error",function(w){_.emit("error",w)}),_.emit("response",_._response))},x.prototype._write=function(_,w,E){var A=this;A._body.push(_),E()},x.prototype.abort=x.prototype.destroy=function(){var _=this;_._destroyed=!0,l.clearTimeout(_._fetchTimer),_._response&&(_._response._destroyed=!0),_._xhr?_._xhr.abort():_._fetchAbortController&&_._fetchAbortController.abort()},x.prototype.end=function(_,w,E){var A=this;typeof _=="function"&&(E=_,_=void 0),u.Writable.prototype.end.call(A,_,w,E)},x.prototype.flushHeaders=function(){},x.prototype.setTimeout=function(){},x.prototype.setNoDelay=function(){},x.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{},n("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(n,i,a){(function(o,l,c){var g=n("./capability"),m=n("inherits"),d=n("readable-stream"),u=a.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},f=a.IncomingMessage=function(s,v,x,h){var p=this;if(d.Readable.call(p),p._mode=x,p.headers={},p.rawHeaders=[],p.trailers={},p.rawTrailers=[],p.on("end",function(){o.nextTick(function(){p.emit("close")})}),x==="fetch"){let R=function(){w.read().then(function(D){if(!p._destroyed){if(D.done){l.clearTimeout(h),p.push(null);return}p.push(c.from(D.value)),R()}}).catch(function(D){l.clearTimeout(h),p._destroyed||p.emit("error",D)})};var C=R;if(p._fetchResponse=v,p.url=v.url,p.statusCode=v.status,p.statusMessage=v.statusText,v.headers.forEach(function(D,O){p.headers[O.toLowerCase()]=D,p.rawHeaders.push(O,D)}),g.writableStream){var _=new WritableStream({write:function(D){return new Promise(function(O,k){p._destroyed?k():p.push(c.from(D))?O():p._resumeFetch=O})},close:function(){l.clearTimeout(h),p._destroyed||p.push(null)},abort:function(D){p._destroyed||p.emit("error",D)}});try{v.body.pipeTo(_).catch(function(D){l.clearTimeout(h),p._destroyed||p.emit("error",D)});return}catch{}}var w=v.body.getReader();R()}else{p._xhr=s,p._pos=0,p.url=s.responseURL,p.statusCode=s.status,p.statusMessage=s.statusText;var E=s.getAllResponseHeaders().split(/\r?\n/);if(E.forEach(function(R){var D=R.match(/^([^:]+):\s*(.*)/);if(D){var O=D[1].toLowerCase();O==="set-cookie"?(p.headers[O]===void 0&&(p.headers[O]=[]),p.headers[O].push(D[2])):p.headers[O]!==void 0?p.headers[O]+=", "+D[2]:p.headers[O]=D[2],p.rawHeaders.push(D[1],D[2])}}),p._charset="x-user-defined",!g.overrideMimeType){var A=p.rawHeaders["mime-type"];if(A){var T=A.match(/;\s*charset=([^;])(;|$)/);T&&(p._charset=T[1].toLowerCase())}p._charset||(p._charset="utf-8")}}};m(f,d.Readable),f.prototype._read=function(){var s=this,v=s._resumeFetch;v&&(s._resumeFetch=null,v())},f.prototype._onXHRProgress=function(){var s=this,v=s._xhr,x=null;switch(s._mode){case"text":if(x=v.responseText,x.length>s._pos){var h=x.substr(s._pos);if(s._charset==="x-user-defined"){for(var p=c.alloc(h.length),_=0;_<h.length;_++)p[_]=h.charCodeAt(_)&255;s.push(p)}else s.push(h,s._charset);s._pos=x.length}break;case"arraybuffer":if(v.readyState!==u.DONE||!v.response)break;x=v.response,s.push(c.from(new Uint8Array(x)));break;case"moz-chunked-arraybuffer":if(x=v.response,v.readyState!==u.LOADING||!x)break;s.push(c.from(new Uint8Array(x)));break;case"ms-stream":if(x=v.response,v.readyState!==u.LOADING)break;var w=new l.MSStreamReader;w.onprogress=function(){w.result.byteLength>s._pos&&(s.push(c.from(new Uint8Array(w.result.slice(s._pos)))),s._pos=w.result.byteLength)},w.onload=function(){s.push(null)},w.readAsArrayBuffer(x);break}s._xhr.readyState===u.DONE&&s._mode!=="ms-stream"&&s.push(null)}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{},n("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(n,i,a){"use strict";function o(f,s){f.prototype=Object.create(s.prototype),f.prototype.constructor=f,f.__proto__=s}var l={};function c(f,s,v){v||(v=Error);function x(p,_,w){return typeof s=="string"?s:s(p,_,w)}var h=function(p){o(_,p);function _(w,E,A){return p.call(this,x(w,E,A))||this}return _}(v);h.prototype.name=v.name,h.prototype.code=f,l[f]=h}function g(f,s){if(Array.isArray(f)){var v=f.length;return f=f.map(function(x){return String(x)}),v>2?"one of ".concat(s," ").concat(f.slice(0,v-1).join(", "),", or ")+f[v-1]:v===2?"one of ".concat(s," ").concat(f[0]," or ").concat(f[1]):"of ".concat(s," ").concat(f[0])}else return"of ".concat(s," ").concat(String(f))}function m(f,s,v){return f.substr(!v||v<0?0:+v,s.length)===s}function d(f,s,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-s.length,v)===s}function u(f,s,v){return typeof v!="number"&&(v=0),v+s.length>f.length?!1:f.indexOf(s,v)!==-1}c("ERR_INVALID_OPT_VALUE",function(f,s){return'The value "'+s+'" is invalid for option "'+f+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(f,s,v){var x;typeof s=="string"&&m(s,"not ")?(x="must not be",s=s.replace(/^not /,"")):x="must be";var h;if(d(f," argument"))h="The ".concat(f," ").concat(x," ").concat(g(s,"type"));else{var p=u(f,".")?"property":"argument";h='The "'.concat(f,'" ').concat(p," ").concat(x," ").concat(g(s,"type"))}return h+=". Received type ".concat(typeof v),h},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=l},{}],161:[function(n,i,a){(function(o){"use strict";var l=new Set;function c(m){if(!l.has(m)){var d=m+" is an experimental feature. This feature could change at any time";l.add(m),o.emitWarning(d,"ExperimentalWarning")}}function g(){}i.exports.emitExperimentalWarning=o.emitWarning?c:g}).call(this,n("_process"))},{_process:133}],162:[function(n,i,a){(function(o){"use strict";var l=Object.keys||function(x){var h=[];for(var p in x)h.push(p);return h};i.exports=f;var c=n("./_stream_readable"),g=n("./_stream_writable");n("inherits")(f,c);for(var m=l(g.prototype),d=0;d<m.length;d++){var u=m[d];f.prototype[u]||(f.prototype[u]=g.prototype[u])}function f(x){if(!(this instanceof f))return new f(x);c.call(this,x),g.call(this,x),this.allowHalfOpen=!0,x&&(x.readable===!1&&(this.readable=!1),x.writable===!1&&(this.writable=!1),x.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||o.nextTick(v,this)}function v(x){x.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this,n("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(n,i,a){"use strict";i.exports=l;var o=n("./_stream_transform");n("inherits")(l,o);function l(c){if(!(this instanceof l))return new l(c);o.call(this,c)}l.prototype._transform=function(c,g,m){m(null,c)}},{"./_stream_transform":165,inherits:75}],164:[function(n,i,a){(function(o,l){"use strict";i.exports=z;var c;z.ReadableState=j;var g=n("events").EventEmitter,m=function(P,I){return P.listeners(I).length},d=n("./internal/streams/stream"),u=n("buffer").Buffer,f=l.Uint8Array||function(){};function s(G){return u.from(G)}function v(G){return u.isBuffer(G)||G instanceof f}var x=n("util"),h;x&&x.debuglog?h=x.debuglog("stream"):h=function(){};var p=n("./internal/streams/buffer_list"),_=n("./internal/streams/destroy"),w=n("./internal/streams/state"),E=w.getHighWaterMark,A=n("../errors").codes,T=A.ERR_INVALID_ARG_TYPE,C=A.ERR_STREAM_PUSH_AFTER_EOF,R=A.ERR_METHOD_NOT_IMPLEMENTED,D=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O=n("../experimentalWarning"),k=O.emitExperimentalWarning,H,B;n("inherits")(z,d);var Z=["error","close","destroy","pause","resume"];function V(G,P,I){if(typeof G.prependListener=="function")return G.prependListener(P,I);!G._events||!G._events[P]?G.on(P,I):Array.isArray(G._events[P])?G._events[P].unshift(I):G._events[P]=[I,G._events[P]]}function j(G,P,I){c=c||n("./_stream_duplex"),G=G||{},typeof I!="boolean"&&(I=P instanceof c),this.objectMode=!!G.objectMode,I&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=E(this,G,"readableHighWaterMark",I),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(H||(H=n("string_decoder/").StringDecoder),this.decoder=new H(G.encoding),this.encoding=G.encoding)}function z(G){if(c=c||n("./_stream_duplex"),!(this instanceof z))return new z(G);var P=this instanceof c;this._readableState=new j(G,this,P),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),d.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){!this._readableState||(this._readableState.destroyed=P)}}),z.prototype.destroy=_.destroy,z.prototype._undestroy=_.undestroy,z.prototype._destroy=function(G,P){P(G)},z.prototype.push=function(G,P){var I=this._readableState,U;return I.objectMode?U=!0:typeof G=="string"&&(P=P||I.defaultEncoding,P!==I.encoding&&(G=u.from(G,P),P=""),U=!0),W(this,G,P,!1,U)},z.prototype.unshift=function(G){return W(this,G,null,!0,!1)};function W(G,P,I,U,Q){h("readableAddChunk",P);var ye=G._readableState;if(P===null)ye.reading=!1,ae(G,ye);else{var Ie;if(Q||(Ie=oe(ye,P)),Ie)G.emit("error",Ie);else if(ye.objectMode||P&&P.length>0)if(typeof P!="string"&&!ye.objectMode&&Object.getPrototypeOf(P)!==u.prototype&&(P=s(P)),U)ye.endEmitted?G.emit("error",new D):J(G,ye,P,!0);else if(ye.ended)G.emit("error",new C);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!I?(P=ye.decoder.write(P),ye.objectMode||P.length!==0?J(G,ye,P,!1):he(G,ye)):J(G,ye,P,!1)}else U||(ye.reading=!1,he(G,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function J(G,P,I,U){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,G.emit("data",I)):(P.length+=P.objectMode?1:I.length,U?P.buffer.unshift(I):P.buffer.push(I),P.needReadable&&se(G)),he(G,P)}function oe(G,P){var I;return!v(P)&&typeof P!="string"&&P!==void 0&&!G.objectMode&&(I=new T("chunk",["string","Buffer","Uint8Array"],P)),I}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(G){return H||(H=n("string_decoder/").StringDecoder),this._readableState.decoder=new H(G),this._readableState.encoding=this._readableState.decoder.encoding,this};var le=8388608;function fe(G){return G>=le?G=le:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function $(G,P){return G<=0||P.length===0&&P.ended?0:P.objectMode?1:G!==G?P.flowing&&P.length?P.buffer.head.data.length:P.length:(G>P.highWaterMark&&(P.highWaterMark=fe(G)),G<=P.length?G:P.ended?P.length:(P.needReadable=!0,0))}z.prototype.read=function(G){h("read",G),G=parseInt(G,10);var P=this._readableState,I=G;if(G!==0&&(P.emittedReadable=!1),G===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return h("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?re(this):se(this),null;if(G=$(G,P),G===0&&P.ended)return P.length===0&&re(this),null;var U=P.needReadable;h("need readable",U),(P.length===0||P.length-G<P.highWaterMark)&&(U=!0,h("length less than watermark",U)),P.ended||P.reading?(U=!1,h("reading or ended",U)):U&&(h("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(G=$(I,P)));var Q;return G>0?Q=ie(G,P):Q=null,Q===null?(P.needReadable=!0,G=0):(P.length-=G,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),I!==G&&P.ended&&re(this)),Q!==null&&this.emit("data",Q),Q};function ae(G,P){if(!P.ended){if(P.decoder){var I=P.decoder.end();I&&I.length&&(P.buffer.push(I),P.length+=P.objectMode?1:I.length)}P.ended=!0,P.sync?se(G):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,ce(G)))}}function se(G){var P=G._readableState;P.needReadable=!1,P.emittedReadable||(h("emitReadable",P.flowing),P.emittedReadable=!0,o.nextTick(ce,G))}function ce(G){var P=G._readableState;h("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&G.emit("readable"),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,de(G)}function he(G,P){P.readingMore||(P.readingMore=!0,o.nextTick(we,G,P))}function we(G,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var I=P.length;if(h("maybeReadMore read 0"),G.read(0),I===P.length)break}P.readingMore=!1}z.prototype._read=function(G){this.emit("error",new R("_read()"))},z.prototype.pipe=function(G,P){var I=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=G;break;case 1:U.pipes=[U.pipes,G];break;default:U.pipes.push(G);break}U.pipesCount+=1,h("pipe count=%d opts=%j",U.pipesCount,P);var Q=(!P||P.end!==!1)&&G!==o.stdout&&G!==o.stderr,ye=Q?be:ut;U.endEmitted?o.nextTick(ye):I.once("end",ye),G.on("unpipe",Ie);function Ie(ct,X){h("onunpipe"),ct===I&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,qe())}function be(){h("onend"),G.end()}var Pe=xe(I);G.on("drain",Pe);var ze=!1;function qe(){h("cleanup"),G.removeListener("close",Ge),G.removeListener("finish",et),G.removeListener("drain",Pe),G.removeListener("error",Me),G.removeListener("unpipe",Ie),I.removeListener("end",be),I.removeListener("end",ut),I.removeListener("data",Ye),ze=!0,U.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&Pe()}I.on("data",Ye);function Ye(ct){h("ondata");var X=G.write(ct);h("dest.write",X),X===!1&&((U.pipesCount===1&&U.pipes===G||U.pipesCount>1&&te(U.pipes,G)!==-1)&&!ze&&(h("false write response, pause",U.awaitDrain),U.awaitDrain++),I.pause())}function Me(ct){h("onerror",ct),ut(),G.removeListener("error",Me),m(G,"error")===0&&G.emit("error",ct)}V(G,"error",Me);function Ge(){G.removeListener("finish",et),ut()}G.once("close",Ge);function et(){h("onfinish"),G.removeListener("close",Ge),ut()}G.once("finish",et);function ut(){h("unpipe"),I.unpipe(G)}return G.emit("pipe",I),U.flowing||(h("pipe resume"),I.resume()),G};function xe(G){return function(){var I=G._readableState;h("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,I.awaitDrain===0&&m(G,"data")&&(I.flowing=!0,de(G))}}z.prototype.unpipe=function(G){var P=this._readableState,I={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return G&&G!==P.pipes?this:(G||(G=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,G&&G.emit("unpipe",this,I),this);if(!G){var U=P.pipes,Q=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var ye=0;ye<Q;ye++)U[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=te(P.pipes,G);return Ie===-1?this:(P.pipes.splice(Ie,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),G.emit("unpipe",this,I),this)},z.prototype.on=function(G,P){var I=d.prototype.on.call(this,G,P),U=this._readableState;return G==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):G==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,h("on readable",U.length,U.reading),U.length?se(this):U.reading||o.nextTick(ge,this)),I},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(G,P){var I=d.prototype.removeListener.call(this,G,P);return G==="readable"&&o.nextTick(Oe,this),I},z.prototype.removeAllListeners=function(G){var P=d.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&o.nextTick(Oe,this),P};function Oe(G){var P=G._readableState;P.readableListening=G.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:G.listenerCount("data")>0&&G.resume()}function ge(G){h("readable nexttick read 0"),G.read(0)}z.prototype.resume=function(){var G=this._readableState;return G.flowing||(h("resume"),G.flowing=!G.readableListening,De(this,G)),G.paused=!1,this};function De(G,P){P.resumeScheduled||(P.resumeScheduled=!0,o.nextTick(pe,G,P))}function pe(G,P){h("resume",P.reading),P.reading||G.read(0),P.resumeScheduled=!1,G.emit("resume"),de(G),P.flowing&&!P.reading&&G.read(0)}z.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function de(G){var P=G._readableState;for(h("flow",P.flowing);P.flowing&&G.read()!==null;);}z.prototype.wrap=function(G){var P=this,I=this._readableState,U=!1;G.on("end",function(){if(h("wrapped end"),I.decoder&&!I.ended){var Ie=I.decoder.end();Ie&&Ie.length&&P.push(Ie)}P.push(null)}),G.on("data",function(Ie){if(h("wrapped data"),I.decoder&&(Ie=I.decoder.write(Ie)),!(I.objectMode&&Ie==null)&&!(!I.objectMode&&(!Ie||!Ie.length))){var be=P.push(Ie);be||(U=!0,G.pause())}});for(var Q in G)this[Q]===void 0&&typeof G[Q]=="function"&&(this[Q]=function(be){return function(){return G[be].apply(G,arguments)}}(Q));for(var ye=0;ye<Z.length;ye++)G.on(Z[ye],this.emit.bind(this,Z[ye]));return this._read=function(Ie){h("wrapped _read",Ie),U&&(U=!1,G.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return k("Readable[Symbol.asyncIterator]"),B===void 0&&(B=n("./internal/streams/async_iterator")),B(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),z._fromList=ie,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie(G,P){if(P.length===0)return null;var I;return P.objectMode?I=P.buffer.shift():!G||G>=P.length?(P.decoder?I=P.buffer.join(""):P.buffer.length===1?I=P.buffer.first():I=P.buffer.concat(P.length),P.buffer.clear()):I=P.buffer.consume(G,P.decoder),I}function re(G){var P=G._readableState;h("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,o.nextTick(q,P,G))}function q(G,P){h("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,P.readable=!1,P.emit("end"))}function te(G,P){for(var I=0,U=G.length;I<U;I++)if(G[I]===P)return I;return-1}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(n,i,a){"use strict";i.exports=f;var o=n("../errors").codes,l=o.ERR_METHOD_NOT_IMPLEMENTED,c=o.ERR_MULTIPLE_CALLBACK,g=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,m=o.ERR_TRANSFORM_WITH_LENGTH_0,d=n("./_stream_duplex");n("inherits")(f,d);function u(x,h){var p=this._transformState;p.transforming=!1;var _=p.writecb;if(_===null)return this.emit("error",new c);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),_(x);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function f(x){if(!(this instanceof f))return new f(x);d.call(this,x),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&(typeof x.transform=="function"&&(this._transform=x.transform),typeof x.flush=="function"&&(this._flush=x.flush)),this.on("prefinish",s)}function s(){var x=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){v(x,h,p)}):v(this,null,null)}f.prototype.push=function(x,h){return this._transformState.needTransform=!1,d.prototype.push.call(this,x,h)},f.prototype._transform=function(x,h,p){p(new l("_transform()"))},f.prototype._write=function(x,h,p){var _=this._transformState;if(_.writecb=p,_.writechunk=x,_.writeencoding=h,!_.transforming){var w=this._readableState;(_.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},f.prototype._read=function(x){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},f.prototype._destroy=function(x,h){d.prototype._destroy.call(this,x,function(p){h(p)})};function v(x,h,p){if(h)return x.emit("error",h);if(p!=null&&x.push(p),x._writableState.length)throw new m;if(x._transformState.transforming)throw new g;return x.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(n,i,a){(function(o,l){"use strict";i.exports=V;function c(pe,de,ie){this.chunk=pe,this.encoding=de,this.callback=ie,this.next=null}function g(pe){var de=this;this.next=null,this.entry=null,this.finish=function(){De(de,pe)}}var m;V.WritableState=B;var d={deprecate:n("util-deprecate")},u=n("./internal/streams/stream"),f=n("buffer").Buffer,s=l.Uint8Array||function(){};function v(pe){return f.from(pe)}function x(pe){return f.isBuffer(pe)||pe instanceof s}var h=n("./internal/streams/destroy"),p=n("./internal/streams/state"),_=p.getHighWaterMark,w=n("../errors").codes,E=w.ERR_INVALID_ARG_TYPE,A=w.ERR_METHOD_NOT_IMPLEMENTED,T=w.ERR_MULTIPLE_CALLBACK,C=w.ERR_STREAM_CANNOT_PIPE,R=w.ERR_STREAM_DESTROYED,D=w.ERR_STREAM_NULL_VALUES,O=w.ERR_STREAM_WRITE_AFTER_END,k=w.ERR_UNKNOWN_ENCODING;n("inherits")(V,u);function H(){}function B(pe,de,ie){m=m||n("./_stream_duplex"),pe=pe||{},typeof ie!="boolean"&&(ie=de instanceof m),this.objectMode=!!pe.objectMode,ie&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=_(this,pe,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=pe.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){$(de,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pe.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}B.prototype.getBuffer=function(){for(var de=this.bufferedRequest,ie=[];de;)ie.push(de),de=de.next;return ie},function(){try{Object.defineProperty(B.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(de){return Z.call(this,de)?!0:this!==V?!1:de&&de._writableState instanceof B}})):Z=function(de){return de instanceof this};function V(pe){m=m||n("./_stream_duplex");var de=this instanceof m;if(!de&&!Z.call(V,this))return new V(pe);this._writableState=new B(pe,this,de),this.writable=!0,pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final)),u.call(this)}V.prototype.pipe=function(){this.emit("error",new C)};function j(pe,de){var ie=new O;pe.emit("error",ie),o.nextTick(de,ie)}function z(pe,de,ie,re){var q;return ie===null?q=new D:typeof ie!="string"&&!de.objectMode&&(q=new E("chunk",["string","Buffer"],ie)),q?(pe.emit("error",q),o.nextTick(re,q),!1):!0}V.prototype.write=function(pe,de,ie){var re=this._writableState,q=!1,te=!re.objectMode&&x(pe);return te&&!f.isBuffer(pe)&&(pe=v(pe)),typeof de=="function"&&(ie=de,de=null),te?de="buffer":de||(de=re.defaultEncoding),typeof ie!="function"&&(ie=H),re.ending?j(this,ie):(te||z(this,re,pe,ie))&&(re.pendingcb++,q=J(this,re,te,pe,de,ie)),q},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&ce(this,pe))},V.prototype.setDefaultEncoding=function(de){if(typeof de=="string"&&(de=de.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((de+"").toLowerCase())>-1))throw new k(de);return this._writableState.defaultEncoding=de,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(pe,de,ie){return!pe.objectMode&&pe.decodeStrings!==!1&&typeof de=="string"&&(de=f.from(de,ie)),de}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function J(pe,de,ie,re,q,te){if(!ie){var G=W(de,re,q);re!==G&&(ie=!0,q="buffer",re=G)}var P=de.objectMode?1:re.length;de.length+=P;var I=de.length<de.highWaterMark;if(I||(de.needDrain=!0),de.writing||de.corked){var U=de.lastBufferedRequest;de.lastBufferedRequest={chunk:re,encoding:q,isBuf:ie,callback:te,next:null},U?U.next=de.lastBufferedRequest:de.bufferedRequest=de.lastBufferedRequest,de.bufferedRequestCount+=1}else oe(pe,de,!1,P,re,q,te);return I}function oe(pe,de,ie,re,q,te,G){de.writelen=re,de.writecb=G,de.writing=!0,de.sync=!0,de.destroyed?de.onwrite(new R("write")):ie?pe._writev(q,de.onwrite):pe._write(q,te,de.onwrite),de.sync=!1}function le(pe,de,ie,re,q){--de.pendingcb,ie?(o.nextTick(q,re),o.nextTick(Oe,pe,de),pe._writableState.errorEmitted=!0,pe.emit("error",re)):(q(re),pe._writableState.errorEmitted=!0,pe.emit("error",re),Oe(pe,de))}function fe(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}function $(pe,de){var ie=pe._writableState,re=ie.sync,q=ie.writecb;if(typeof q!="function")throw new T;if(fe(ie),de)le(pe,ie,re,de,q);else{var te=he(ie)||pe.destroyed;!te&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&ce(pe,ie),re?o.nextTick(ae,pe,ie,te,q):ae(pe,ie,te,q)}}function ae(pe,de,ie,re){ie||se(pe,de),de.pendingcb--,re(),Oe(pe,de)}function se(pe,de){de.length===0&&de.needDrain&&(de.needDrain=!1,pe.emit("drain"))}function ce(pe,de){de.bufferProcessing=!0;var ie=de.bufferedRequest;if(pe._writev&&ie&&ie.next){var re=de.bufferedRequestCount,q=new Array(re),te=de.corkedRequestsFree;te.entry=ie;for(var G=0,P=!0;ie;)q[G]=ie,ie.isBuf||(P=!1),ie=ie.next,G+=1;q.allBuffers=P,oe(pe,de,!0,de.length,q,"",te.finish),de.pendingcb++,de.lastBufferedRequest=null,te.next?(de.corkedRequestsFree=te.next,te.next=null):de.corkedRequestsFree=new g(de),de.bufferedRequestCount=0}else{for(;ie;){var I=ie.chunk,U=ie.encoding,Q=ie.callback,ye=de.objectMode?1:I.length;if(oe(pe,de,!1,ye,I,U,Q),ie=ie.next,de.bufferedRequestCount--,de.writing)break}ie===null&&(de.lastBufferedRequest=null)}de.bufferedRequest=ie,de.bufferProcessing=!1}V.prototype._write=function(pe,de,ie){ie(new A("_write()"))},V.prototype._writev=null,V.prototype.end=function(pe,de,ie){var re=this._writableState;return typeof pe=="function"?(ie=pe,pe=null,de=null):typeof de=="function"&&(ie=de,de=null),pe!=null&&this.write(pe,de),re.corked&&(re.corked=1,this.uncork()),re.ending||ge(this,re,ie),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(pe){return pe.ending&&pe.length===0&&pe.bufferedRequest===null&&!pe.finished&&!pe.writing}function we(pe,de){pe._final(function(ie){de.pendingcb--,ie&&pe.emit("error",ie),de.prefinished=!0,pe.emit("prefinish"),Oe(pe,de)})}function xe(pe,de){!de.prefinished&&!de.finalCalled&&(typeof pe._final=="function"&&!de.destroyed?(de.pendingcb++,de.finalCalled=!0,o.nextTick(we,pe,de)):(de.prefinished=!0,pe.emit("prefinish")))}function Oe(pe,de){var ie=he(de);return ie&&(xe(pe,de),de.pendingcb===0&&(de.finished=!0,pe.emit("finish"))),ie}function ge(pe,de,ie){de.ending=!0,Oe(pe,de),ie&&(de.finished?o.nextTick(ie):pe.once("finish",ie)),de.ended=!0,pe.writable=!1}function De(pe,de,ie){var re=pe.entry;for(pe.entry=null;re;){var q=re.callback;de.pendingcb--,q(ie),re=re.next}de.corkedRequestsFree.next=pe}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(de){!this._writableState||(this._writableState.destroyed=de)}}),V.prototype.destroy=h.destroy,V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(pe,de){de(pe)}}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(n,i,a){(function(o){"use strict";var l;function c(C,R,D){return R in C?Object.defineProperty(C,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[R]=D,C}var g=n("./end-of-stream"),m=Symbol("lastResolve"),d=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),s=Symbol("lastPromise"),v=Symbol("handlePromise"),x=Symbol("stream");function h(C,R){return{value:C,done:R}}function p(C){var R=C[m];if(R!==null){var D=C[x].read();D!==null&&(C[s]=null,C[m]=null,C[d]=null,R(h(D,!1)))}}function _(C){o.nextTick(p,C)}function w(C,R){return function(D,O){C.then(function(){if(R[f]){D(h(void 0,!0));return}R[v](D,O)},O)}}var E=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((l={get stream(){return this[x]},next:function(){var R=this,D=this[u];if(D!==null)return Promise.reject(D);if(this[f])return Promise.resolve(h(void 0,!0));if(this[x].destroyed)return new Promise(function(B,Z){o.nextTick(function(){R[u]?Z(R[u]):B(h(void 0,!0))})});var O=this[s],k;if(O)k=new Promise(w(O,this));else{var H=this[x].read();if(H!==null)return Promise.resolve(h(H,!1));k=new Promise(this[v])}return this[s]=k,k}},c(l,Symbol.asyncIterator,function(){return this}),c(l,"return",function(){var R=this;return new Promise(function(D,O){R[x].destroy(null,function(k){if(k){O(k);return}D(h(void 0,!0))})})}),l),E),T=function(R){var D,O=Object.create(A,(D={},c(D,x,{value:R,writable:!0}),c(D,m,{value:null,writable:!0}),c(D,d,{value:null,writable:!0}),c(D,u,{value:null,writable:!0}),c(D,f,{value:R._readableState.endEmitted,writable:!0}),c(D,v,{value:function(H,B){var Z=O[x].read();Z?(O[s]=null,O[m]=null,O[d]=null,H(h(Z,!1))):(O[m]=H,O[d]=B)},writable:!0}),D));return O[s]=null,g(R,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=O[d];H!==null&&(O[s]=null,O[m]=null,O[d]=null,H(k)),O[u]=k;return}var B=O[m];B!==null&&(O[s]=null,O[m]=null,O[d]=null,B(h(void 0,!0))),O[f]=!0}),R.on("readable",_.bind(null,O)),O};i.exports=T}).call(this,n("_process"))},{"./end-of-stream":170,_process:133}],168:[function(n,i,a){"use strict";function o(s){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{},h=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(x).filter(function(p){return Object.getOwnPropertyDescriptor(x,p).enumerable}))),h.forEach(function(p){l(s,p,x[p])})}return s}function l(s,v,x){return v in s?Object.defineProperty(s,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[v]=x,s}var c=n("buffer"),g=c.Buffer,m=n("util"),d=m.inspect,u=d&&d.custom||"inspect";function f(s,v,x){g.prototype.copy.call(s,v,x)}i.exports=function(){function s(){this.head=null,this.tail=null,this.length=0}var v=s.prototype;return v.push=function(h){var p={data:h,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},v.unshift=function(h){var p={data:h,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},v.shift=function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}},v.clear=function(){this.head=this.tail=null,this.length=0},v.join=function(h){if(this.length===0)return"";for(var p=this.head,_=""+p.data;p=p.next;)_+=h+p.data;return _},v.concat=function(h){if(this.length===0)return g.alloc(0);for(var p=g.allocUnsafe(h>>>0),_=this.head,w=0;_;)f(_.data,p,w),w+=_.data.length,_=_.next;return p},v.consume=function(h,p){var _;return h<this.head.data.length?(_=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?_=this.shift():_=p?this._getString(h):this._getBuffer(h),_},v.first=function(){return this.head.data},v._getString=function(h){var p=this.head,_=1,w=p.data;for(h-=w.length;p=p.next;){var E=p.data,A=h>E.length?E.length:h;if(A===E.length?w+=E:w+=E.slice(0,h),h-=A,h===0){A===E.length?(++_,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=E.slice(A));break}++_}return this.length-=_,w},v._getBuffer=function(h){var p=g.allocUnsafe(h),_=this.head,w=1;for(_.data.copy(p),h-=_.data.length;_=_.next;){var E=_.data,A=h>E.length?E.length:h;if(E.copy(p,p.length-h,0,A),h-=A,h===0){A===E.length?(++w,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(A));break}++w}return this.length-=w,p},v[u]=function(x,h){return d(this,o({},h,{depth:0,customInspect:!1}))},s}()},{buffer:48,util:33}],169:[function(n,i,a){(function(o){"use strict";function l(u,f){var s=this,v=this._readableState&&this._readableState.destroyed,x=this._writableState&&this._writableState.destroyed;return v||x?(f?f(u):u&&(!this._writableState||!this._writableState.errorEmitted)&&o.nextTick(d,this,u),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(h){!f&&h?(o.nextTick(c,s,h),s._writableState&&(s._writableState.errorEmitted=!0)):f?(o.nextTick(g,s),f(h)):o.nextTick(g,s)}),this)}function c(u,f){d(u,f),g(u)}function g(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function m(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(u,f){u.emit("error",f)}i.exports={destroy:l,undestroy:m}}).call(this,n("_process"))},{_process:133}],170:[function(n,i,a){"use strict";var o=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function l(d){var u=!1;return function(){if(!u){u=!0;for(var f=arguments.length,s=new Array(f),v=0;v<f;v++)s[v]=arguments[v];d.apply(this,s)}}}function c(){}function g(d){return d.setHeader&&typeof d.abort=="function"}function m(d,u,f){if(typeof u=="function")return m(d,null,u);u||(u={}),f=l(f||c);var s=u.readable||u.readable!==!1&&d.readable,v=u.writable||u.writable!==!1&&d.writable,x=function(){d.writable||p()},h=d._writableState&&d._writableState.finished,p=function(){v=!1,h=!0,s||f.call(d)},_=d._readableState&&d._readableState.endEmitted,w=function(){s=!1,_=!0,v||f.call(d)},E=function(R){f.call(d,R)},A=function(){var R;if(s&&!_)return(!d._readableState||!d._readableState.ended)&&(R=new o),f.call(d,R);if(v&&!h)return(!d._writableState||!d._writableState.ended)&&(R=new o),f.call(d,R)},T=function(){d.req.on("finish",p)};return g(d)?(d.on("complete",p),d.on("abort",A),d.req?T():d.on("request",T)):v&&!d._writableState&&(d.on("end",x),d.on("close",x)),d.on("end",w),d.on("finish",p),u.error!==!1&&d.on("error",E),d.on("close",A),function(){d.removeListener("complete",p),d.removeListener("abort",A),d.removeListener("request",T),d.req&&d.req.removeListener("finish",p),d.removeListener("end",x),d.removeListener("close",x),d.removeListener("finish",p),d.removeListener("end",w),d.removeListener("error",E),d.removeListener("close",A)}}i.exports=m},{"../../../errors":160}],171:[function(n,i,a){"use strict";var o;function l(p){var _=!1;return function(){_||(_=!0,p.apply(void 0,arguments))}}var c=n("../../../errors").codes,g=c.ERR_MISSING_ARGS,m=c.ERR_STREAM_DESTROYED;function d(p){if(p)throw p}function u(p){return p.setHeader&&typeof p.abort=="function"}function f(p,_,w,E){E=l(E);var A=!1;p.on("close",function(){A=!0}),o===void 0&&(o=n("./end-of-stream")),o(p,{readable:_,writable:w},function(C){if(C)return E(C);A=!0,E()});var T=!1;return function(C){if(!A&&!T){if(T=!0,u(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();E(C||new m("pipe"))}}}function s(p){p()}function v(p,_){return p.pipe(_)}function x(p){return!p.length||typeof p[p.length-1]!="function"?d:p.pop()}function h(){for(var p=arguments.length,_=new Array(p),w=0;w<p;w++)_[w]=arguments[w];var E=x(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new g("streams");var A,T=_.map(function(C,R){var D=R<_.length-1,O=R>0;return f(C,D,O,function(k){A||(A=k),k&&T.forEach(s),!D&&(T.forEach(s),E(A))})});return _.reduce(v)}i.exports=h},{"../../../errors":160,"./end-of-stream":170}],172:[function(n,i,a){"use strict";var o=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function l(g,m,d){return g.highWaterMark!=null?g.highWaterMark:m?g[d]:null}function c(g,m,d,u){var f=l(m,u,d);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var s=u?d:"highWaterMark";throw new o(s,f)}return Math.floor(f)}return g.objectMode?16:16*1024}i.exports={getHighWaterMark:c}},{"../../../errors":160}],173:[function(n,i,a){arguments[4][146][0].apply(a,arguments)},{dup:146,events:52}],174:[function(n,i,a){a=i.exports=n("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=n("./lib/_stream_writable.js"),a.Duplex=n("./lib/_stream_duplex.js"),a.Transform=n("./lib/_stream_transform.js"),a.PassThrough=n("./lib/_stream_passthrough.js"),a.finished=n("./lib/internal/streams/end-of-stream.js"),a.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(n,i,a){arguments[4][148][0].apply(a,arguments)},{dup:148,"safe-buffer":154}],176:[function(n,i,a){(function(o,l){var c=n("process/browser.js").nextTick,g=Function.prototype.apply,m=Array.prototype.slice,d={},u=0;a.setTimeout=function(){return new f(g.call(setTimeout,Bt,arguments),clearTimeout)},a.setInterval=function(){return new f(g.call(setInterval,Bt,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(s){s.close()};function f(s,v){this._id=s,this._clearFn=v}f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(Bt,this._id)},a.enroll=function(s,v){clearTimeout(s._idleTimeoutId),s._idleTimeout=v},a.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},a._unrefActive=a.active=function(s){clearTimeout(s._idleTimeoutId);var v=s._idleTimeout;v>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},v))},a.setImmediate=typeof o=="function"?o:function(s){var v=u++,x=arguments.length<2?!1:m.call(arguments,1);return d[v]=!0,c(function(){d[v]&&(x?s.apply(null,x):s.call(null),a.clearImmediate(v))}),v},a.clearImmediate=typeof l=="function"?l:function(s){delete d[s]}}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(n,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z};a.clone=u,a.addLast=v,a.addFirst=x,a.removeLast=h,a.removeFirst=p,a.insert=_,a.removeAt=w,a.replaceAt=E,a.getIn=A,a.set=T,a.setIn=R,a.update=D,a.updateIn=O,a.merge=k,a.mergeDeep=H,a.mergeIn=B,a.omit=Z,a.addDefaults=V;var c="INVALID_ARGS";function g(z){throw new Error(z)}function m(z){var W=Object.keys(z);return Object.getOwnPropertySymbols?W.concat(Object.getOwnPropertySymbols(z)):W}var d={}.hasOwnProperty;function u(z){if(Array.isArray(z))return z.slice();for(var W=m(z),J={},oe=0;oe<W.length;oe++){var le=W[oe];J[le]=z[le]}return J}function f(z,W,J){var oe=J;oe==null&&g(o.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":c);for(var le=!1,fe=arguments.length,$=Array(fe>3?fe-3:0),ae=3;ae<fe;ae++)$[ae-3]=arguments[ae];for(var se=0;se<$.length;se++){var ce=$[se];if(ce!=null){var he=m(ce);if(!!he.length)for(var we=0;we<=he.length;we++){var xe=he[we];if(!(z&&oe[xe]!==void 0)){var Oe=ce[xe];W&&s(oe[xe])&&s(Oe)&&(Oe=f(z,W,oe[xe],Oe)),!(Oe===void 0||Oe===oe[xe])&&(le||(le=!0,oe=u(oe)),oe[xe]=Oe)}}}}return oe}function s(z){var W=typeof z=="undefined"?"undefined":l(z);return z!=null&&W==="object"}function v(z,W){return Array.isArray(W)?z.concat(W):z.concat([W])}function x(z,W){return Array.isArray(W)?W.concat(z):[W].concat(z)}function h(z){return z.length?z.slice(0,z.length-1):z}function p(z){return z.length?z.slice(1):z}function _(z,W,J){return z.slice(0,W).concat(Array.isArray(J)?J:[J]).concat(z.slice(W))}function w(z,W){return W>=z.length||W<0?z:z.slice(0,W).concat(z.slice(W+1))}function E(z,W,J){if(z[W]===J)return z;for(var oe=z.length,le=Array(oe),fe=0;fe<oe;fe++)le[fe]=z[fe];return le[W]=J,le}function A(z,W){if(!Array.isArray(W)&&g(o.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":c),z!=null){for(var J=z,oe=0;oe<W.length;oe++){var le=W[oe];if(J=J!=null?J[le]:void 0,J===void 0)return J}return J}}function T(z,W,J){var oe=typeof W=="number"?[]:{},le=z??oe;if(le[W]===J)return le;var fe=u(le);return fe[W]=J,fe}function C(z,W,J,oe){var le=void 0,fe=W[oe];if(oe===W.length-1)le=J;else{var $=s(z)&&s(z[fe])?z[fe]:typeof W[oe+1]=="number"?[]:{};le=C($,W,J,oe+1)}return T(z,fe,le)}function R(z,W,J){return W.length?C(z,W,J,0):J}function D(z,W,J){var oe=z==null?void 0:z[W],le=J(oe);return T(z,W,le)}function O(z,W,J){var oe=A(z,W),le=J(oe);return R(z,W,le)}function k(z,W,J,oe,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),se=6;se<$;se++)ae[se-6]=arguments[se];return ae.length?f.call.apply(f,[null,!1,!1,z,W,J,oe,le,fe].concat(ae)):f(!1,!1,z,W,J,oe,le,fe)}function H(z,W,J,oe,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),se=6;se<$;se++)ae[se-6]=arguments[se];return ae.length?f.call.apply(f,[null,!1,!0,z,W,J,oe,le,fe].concat(ae)):f(!1,!0,z,W,J,oe,le,fe)}function B(z,W,J,oe,le,fe,$){var ae=A(z,W);ae==null&&(ae={});for(var se=void 0,ce=arguments.length,he=Array(ce>7?ce-7:0),we=7;we<ce;we++)he[we-7]=arguments[we];return he.length?se=f.call.apply(f,[null,!1,!1,ae,J,oe,le,fe,$].concat(he)):se=f(!1,!1,ae,J,oe,le,fe,$),R(z,W,se)}function Z(z,W){for(var J=Array.isArray(W)?W:[W],oe=!1,le=0;le<J.length;le++)if(d.call(z,J[le])){oe=!0;break}if(!oe)return z;for(var fe={},$=m(z),ae=0;ae<$.length;ae++){var se=$[ae];J.indexOf(se)>=0||(fe[se]=z[se])}return fe}function V(z,W,J,oe,le,fe){for(var $=arguments.length,ae=Array($>6?$-6:0),se=6;se<$;se++)ae[se-6]=arguments[se];return ae.length?f.call.apply(f,[null,!0,!1,z,W,J,oe,le,fe].concat(ae)):f(!0,!1,z,W,J,oe,le,fe)}var j={clone:u,addLast:v,addFirst:x,removeLast:h,removeFirst:p,insert:_,removeAt:w,replaceAt:E,getIn:A,set:T,setIn:R,update:D,updateIn:O,merge:k,mergeDeep:H,mergeIn:B,omit:Z,addDefaults:V};a.default=j}).call(this,n("_process"))},{_process:133}],178:[function(n,i,a){(function(o){var l=/^\s+/,c=/\s+$/,g=0,m=o.round,d=o.min,u=o.max,f=o.random;function s(q,te){if(q=q||"",te=te||{},q instanceof s)return q;if(!(this instanceof s))return new s(q,te);var G=v(q);this._originalInput=q,this._r=G.r,this._g=G.g,this._b=G.b,this._a=G.a,this._roundA=m(100*this._a)/100,this._format=te.format||G.format,this._gradientType=te.gradientType,this._r<1&&(this._r=m(this._r)),this._g<1&&(this._g=m(this._g)),this._b<1&&(this._b=m(this._b)),this._ok=G.ok,this._tc_id=g++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var q=this.toRgb();return(q.r*299+q.g*587+q.b*114)/1e3},getLuminance:function(){var q=this.toRgb(),te,G,P,I,U,Q;return te=q.r/255,G=q.g/255,P=q.b/255,te<=.03928?I=te/12.92:I=o.pow((te+.055)/1.055,2.4),G<=.03928?U=G/12.92:U=o.pow((G+.055)/1.055,2.4),P<=.03928?Q=P/12.92:Q=o.pow((P+.055)/1.055,2.4),.2126*I+.7152*U+.0722*Q},setAlpha:function(q){return this._a=$(q),this._roundA=m(100*this._a)/100,this},toHsv:function(){var q=_(this._r,this._g,this._b);return{h:q.h*360,s:q.s,v:q.v,a:this._a}},toHsvString:function(){var q=_(this._r,this._g,this._b),te=m(q.h*360),G=m(q.s*100),P=m(q.v*100);return this._a==1?"hsv("+te+", "+G+"%, "+P+"%)":"hsva("+te+", "+G+"%, "+P+"%, "+this._roundA+")"},toHsl:function(){var q=h(this._r,this._g,this._b);return{h:q.h*360,s:q.s,l:q.l,a:this._a}},toHslString:function(){var q=h(this._r,this._g,this._b),te=m(q.h*360),G=m(q.s*100),P=m(q.l*100);return this._a==1?"hsl("+te+", "+G+"%, "+P+"%)":"hsla("+te+", "+G+"%, "+P+"%, "+this._roundA+")"},toHex:function(q){return E(this._r,this._g,this._b,q)},toHexString:function(q){return"#"+this.toHex(q)},toHex8:function(q){return A(this._r,this._g,this._b,this._a,q)},toHex8String:function(q){return"#"+this.toHex8(q)},toRgb:function(){return{r:m(this._r),g:m(this._g),b:m(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+m(this._r)+", "+m(this._g)+", "+m(this._b)+")":"rgba("+m(this._r)+", "+m(this._g)+", "+m(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:m(ae(this._r,255)*100)+"%",g:m(ae(this._g,255)*100)+"%",b:m(ae(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+m(ae(this._r,255)*100)+"%, "+m(ae(this._g,255)*100)+"%, "+m(ae(this._b,255)*100)+"%)":"rgba("+m(ae(this._r,255)*100)+"%, "+m(ae(this._g,255)*100)+"%, "+m(ae(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:le[E(this._r,this._g,this._b,!0)]||!1},toFilter:function(q){var te="#"+T(this._r,this._g,this._b,this._a),G=te,P=this._gradientType?"GradientType = 1, ":"";if(q){var I=s(q);G="#"+T(I._r,I._g,I._b,I._a)}return"progid:DXImageTransform.Microsoft.gradient("+P+"startColorstr="+te+",endColorstr="+G+")"},toString:function(q){var te=!!q;q=q||this._format;var G=!1,P=this._a<1&&this._a>=0,I=!te&&P&&(q==="hex"||q==="hex6"||q==="hex3"||q==="hex4"||q==="hex8"||q==="name");return I?q==="name"&&this._a===0?this.toName():this.toRgbString():(q==="rgb"&&(G=this.toRgbString()),q==="prgb"&&(G=this.toPercentageRgbString()),(q==="hex"||q==="hex6")&&(G=this.toHexString()),q==="hex3"&&(G=this.toHexString(!0)),q==="hex4"&&(G=this.toHex8String(!0)),q==="hex8"&&(G=this.toHex8String()),q==="name"&&(G=this.toName()),q==="hsl"&&(G=this.toHslString()),q==="hsv"&&(G=this.toHsvString()),G||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(q,te){var G=q.apply(null,[this].concat([].slice.call(te)));return this._r=G._r,this._g=G._g,this._b=G._b,this.setAlpha(G._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(R,arguments)},greyscale:function(){return this._applyModification(D,arguments)},spin:function(){return this._applyModification(B,arguments)},_applyCombination:function(q,te){return q.apply(null,[this].concat([].slice.call(te)))},analogous:function(){return this._applyCombination(W,arguments)},complement:function(){return this._applyCombination(Z,arguments)},monochromatic:function(){return this._applyCombination(J,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(V,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},s.fromRatio=function(q,te){if(typeof q=="object"){var G={};for(var P in q)q.hasOwnProperty(P)&&(P==="a"?G[P]=q[P]:G[P]=Oe(q[P]));q=G}return s(q,te)};function v(q){var te={r:0,g:0,b:0},G=1,P=null,I=null,U=null,Q=!1,ye=!1;return typeof q=="string"&&(q=ie(q)),typeof q=="object"&&(de(q.r)&&de(q.g)&&de(q.b)?(te=x(q.r,q.g,q.b),Q=!0,ye=String(q.r).substr(-1)==="%"?"prgb":"rgb"):de(q.h)&&de(q.s)&&de(q.v)?(P=Oe(q.s),I=Oe(q.v),te=w(q.h,P,I),Q=!0,ye="hsv"):de(q.h)&&de(q.s)&&de(q.l)&&(P=Oe(q.s),U=Oe(q.l),te=p(q.h,P,U),Q=!0,ye="hsl"),q.hasOwnProperty("a")&&(G=q.a)),G=$(G),{ok:Q,format:q.format||ye,r:d(255,u(te.r,0)),g:d(255,u(te.g,0)),b:d(255,u(te.b,0)),a:G}}function x(q,te,G){return{r:ae(q,255)*255,g:ae(te,255)*255,b:ae(G,255)*255}}function h(q,te,G){q=ae(q,255),te=ae(te,255),G=ae(G,255);var P=u(q,te,G),I=d(q,te,G),U,Q,ye=(P+I)/2;if(P==I)U=Q=0;else{var Ie=P-I;switch(Q=ye>.5?Ie/(2-P-I):Ie/(P+I),P){case q:U=(te-G)/Ie+(te<G?6:0);break;case te:U=(G-q)/Ie+2;break;case G:U=(q-te)/Ie+4;break}U/=6}return{h:U,s:Q,l:ye}}function p(q,te,G){var P,I,U;q=ae(q,360),te=ae(te,100),G=ae(G,100);function Q(be,Pe,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?be+(Pe-be)*6*ze:ze<1/2?Pe:ze<2/3?be+(Pe-be)*(2/3-ze)*6:be}if(te===0)P=I=U=G;else{var ye=G<.5?G*(1+te):G+te-G*te,Ie=2*G-ye;P=Q(Ie,ye,q+1/3),I=Q(Ie,ye,q),U=Q(Ie,ye,q-1/3)}return{r:P*255,g:I*255,b:U*255}}function _(q,te,G){q=ae(q,255),te=ae(te,255),G=ae(G,255);var P=u(q,te,G),I=d(q,te,G),U,Q,ye=P,Ie=P-I;if(Q=P===0?0:Ie/P,P==I)U=0;else{switch(P){case q:U=(te-G)/Ie+(te<G?6:0);break;case te:U=(G-q)/Ie+2;break;case G:U=(q-te)/Ie+4;break}U/=6}return{h:U,s:Q,v:ye}}function w(q,te,G){q=ae(q,360)*6,te=ae(te,100),G=ae(G,100);var P=o.floor(q),I=q-P,U=G*(1-te),Q=G*(1-I*te),ye=G*(1-(1-I)*te),Ie=P%6,be=[G,Q,U,U,ye,G][Ie],Pe=[ye,G,G,Q,U,U][Ie],ze=[U,U,ye,G,G,Q][Ie];return{r:be*255,g:Pe*255,b:ze*255}}function E(q,te,G,P){var I=[xe(m(q).toString(16)),xe(m(te).toString(16)),xe(m(G).toString(16))];return P&&I[0].charAt(0)==I[0].charAt(1)&&I[1].charAt(0)==I[1].charAt(1)&&I[2].charAt(0)==I[2].charAt(1)?I[0].charAt(0)+I[1].charAt(0)+I[2].charAt(0):I.join("")}function A(q,te,G,P,I){var U=[xe(m(q).toString(16)),xe(m(te).toString(16)),xe(m(G).toString(16)),xe(ge(P))];return I&&U[0].charAt(0)==U[0].charAt(1)&&U[1].charAt(0)==U[1].charAt(1)&&U[2].charAt(0)==U[2].charAt(1)&&U[3].charAt(0)==U[3].charAt(1)?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0)+U[3].charAt(0):U.join("")}function T(q,te,G,P){var I=[xe(ge(P)),xe(m(q).toString(16)),xe(m(te).toString(16)),xe(m(G).toString(16))];return I.join("")}s.equals=function(q,te){return!q||!te?!1:s(q).toRgbString()==s(te).toRgbString()},s.random=function(){return s.fromRatio({r:f(),g:f(),b:f()})};function C(q,te){te=te===0?0:te||10;var G=s(q).toHsl();return G.s-=te/100,G.s=se(G.s),s(G)}function R(q,te){te=te===0?0:te||10;var G=s(q).toHsl();return G.s+=te/100,G.s=se(G.s),s(G)}function D(q){return s(q).desaturate(100)}function O(q,te){te=te===0?0:te||10;var G=s(q).toHsl();return G.l+=te/100,G.l=se(G.l),s(G)}function k(q,te){te=te===0?0:te||10;var G=s(q).toRgb();return G.r=u(0,d(255,G.r-m(255*-(te/100)))),G.g=u(0,d(255,G.g-m(255*-(te/100)))),G.b=u(0,d(255,G.b-m(255*-(te/100)))),s(G)}function H(q,te){te=te===0?0:te||10;var G=s(q).toHsl();return G.l-=te/100,G.l=se(G.l),s(G)}function B(q,te){var G=s(q).toHsl(),P=(G.h+te)%360;return G.h=P<0?360+P:P,s(G)}function Z(q){var te=s(q).toHsl();return te.h=(te.h+180)%360,s(te)}function V(q){var te=s(q).toHsl(),G=te.h;return[s(q),s({h:(G+120)%360,s:te.s,l:te.l}),s({h:(G+240)%360,s:te.s,l:te.l})]}function j(q){var te=s(q).toHsl(),G=te.h;return[s(q),s({h:(G+90)%360,s:te.s,l:te.l}),s({h:(G+180)%360,s:te.s,l:te.l}),s({h:(G+270)%360,s:te.s,l:te.l})]}function z(q){var te=s(q).toHsl(),G=te.h;return[s(q),s({h:(G+72)%360,s:te.s,l:te.l}),s({h:(G+216)%360,s:te.s,l:te.l})]}function W(q,te,G){te=te||6,G=G||30;var P=s(q).toHsl(),I=360/G,U=[s(q)];for(P.h=(P.h-(I*te>>1)+720)%360;--te;)P.h=(P.h+I)%360,U.push(s(P));return U}function J(q,te){te=te||6;for(var G=s(q).toHsv(),P=G.h,I=G.s,U=G.v,Q=[],ye=1/te;te--;)Q.push(s({h:P,s:I,v:U})),U=(U+ye)%1;return Q}s.mix=function(q,te,G){G=G===0?0:G||50;var P=s(q).toRgb(),I=s(te).toRgb(),U=G/100,Q={r:(I.r-P.r)*U+P.r,g:(I.g-P.g)*U+P.g,b:(I.b-P.b)*U+P.b,a:(I.a-P.a)*U+P.a};return s(Q)},s.readability=function(q,te){var G=s(q),P=s(te);return(o.max(G.getLuminance(),P.getLuminance())+.05)/(o.min(G.getLuminance(),P.getLuminance())+.05)},s.isReadable=function(q,te,G){var P=s.readability(q,te),I,U;switch(U=!1,I=re(G),I.level+I.size){case"AAsmall":case"AAAlarge":U=P>=4.5;break;case"AAlarge":U=P>=3;break;case"AAAsmall":U=P>=7;break}return U},s.mostReadable=function(q,te,G){var P=null,I=0,U,Q,ye,Ie;G=G||{},Q=G.includeFallbackColors,ye=G.level,Ie=G.size;for(var be=0;be<te.length;be++)U=s.readability(q,te[be]),U>I&&(I=U,P=s(te[be]));return s.isReadable(q,P,{level:ye,size:Ie})||!Q?P:(G.includeFallbackColors=!1,s.mostReadable(q,["#fff","#000"],G))};var oe=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},le=s.hexNames=fe(oe);function fe(q){var te={};for(var G in q)q.hasOwnProperty(G)&&(te[q[G]]=G);return te}function $(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function ae(q,te){he(q)&&(q="100%");var G=we(q);return q=d(te,u(0,parseFloat(q))),G&&(q=parseInt(q*te,10)/100),o.abs(q-te)<1e-6?1:q%te/parseFloat(te)}function se(q){return d(1,u(0,q))}function ce(q){return parseInt(q,16)}function he(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function we(q){return typeof q=="string"&&q.indexOf("%")!=-1}function xe(q){return q.length==1?"0"+q:""+q}function Oe(q){return q<=1&&(q=q*100+"%"),q}function ge(q){return o.round(parseFloat(q)*255).toString(16)}function De(q){return ce(q)/255}var pe=function(){var q="[-\\+]?\\d+%?",te="[-\\+]?\\d*\\.\\d+%?",G="(?:"+te+")|(?:"+q+")",P="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",I="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?";return{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function de(q){return!!pe.CSS_UNIT.exec(q)}function ie(q){q=q.replace(l,"").replace(c,"").toLowerCase();var te=!1;if(oe[q])q=oe[q],te=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var G;return(G=pe.rgb.exec(q))?{r:G[1],g:G[2],b:G[3]}:(G=pe.rgba.exec(q))?{r:G[1],g:G[2],b:G[3],a:G[4]}:(G=pe.hsl.exec(q))?{h:G[1],s:G[2],l:G[3]}:(G=pe.hsla.exec(q))?{h:G[1],s:G[2],l:G[3],a:G[4]}:(G=pe.hsv.exec(q))?{h:G[1],s:G[2],v:G[3]}:(G=pe.hsva.exec(q))?{h:G[1],s:G[2],v:G[3],a:G[4]}:(G=pe.hex8.exec(q))?{r:ce(G[1]),g:ce(G[2]),b:ce(G[3]),a:De(G[4]),format:te?"name":"hex8"}:(G=pe.hex6.exec(q))?{r:ce(G[1]),g:ce(G[2]),b:ce(G[3]),format:te?"name":"hex"}:(G=pe.hex4.exec(q))?{r:ce(G[1]+""+G[1]),g:ce(G[2]+""+G[2]),b:ce(G[3]+""+G[3]),a:De(G[4]+""+G[4]),format:te?"name":"hex8"}:(G=pe.hex3.exec(q))?{r:ce(G[1]+""+G[1]),g:ce(G[2]+""+G[2]),b:ce(G[3]+""+G[3]),format:te?"name":"hex"}:!1}function re(q){var te,G;return q=q||{level:"AA",size:"small"},te=(q.level||"AA").toUpperCase(),G=(q.size||"small").toLowerCase(),te!=="AA"&&te!=="AAA"&&(te="AA"),G!=="small"&&G!=="large"&&(G="small"),{level:te,size:G}}typeof i!="undefined"&&i.exports?i.exports=s:typeof r=="function"&&r.amd?r(function(){return s}):Bt.tinycolor=s})(Math)},{}],179:[function(n,i,a){a=i.exports=o;function o(l){return l.replace(/^\s*|\s*$/g,"")}a.left=function(l){return l.replace(/^\s*/,"")},a.right=function(l){return l.replace(/\s*$/,"")}},{}],180:[function(n,i,a){"use strict";var o=n("punycode"),l=n("./util");a.parse=C,a.resolve=D,a.resolveObject=O,a.format=R,a.Url=c;function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(u),s=["'"].concat(f),v=["%","/","?",";","#"].concat(s),x=["/","?","#"],h=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=n("querystring");function C(k,H,B){if(k&&l.isObject(k)&&k instanceof c)return k;var Z=new c;return Z.parse(k,H,B),Z}c.prototype.parse=function(k,H,B){if(!l.isString(k))throw new TypeError("Parameter 'url' must be a string, not "+typeof k);var Z=k.indexOf("?"),V=Z!==-1&&Z<k.indexOf("#")?"?":"#",j=k.split(V),z=/\\/g;j[0]=j[0].replace(z,"/"),k=j.join(V);var W=k;if(W=W.trim(),!B&&k.split("#").length===1){var J=d.exec(W);if(J)return this.path=W,this.href=W,this.pathname=J[1],J[2]?(this.search=J[2],H?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var oe=g.exec(W);if(oe){oe=oe[0];var le=oe.toLowerCase();this.protocol=le,W=W.substr(oe.length)}if(B||oe||W.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe=W.substr(0,2)==="//";fe&&!(oe&&E[oe])&&(W=W.substr(2),this.slashes=!0)}if(!E[oe]&&(fe||oe&&!A[oe])){for(var $=-1,ae=0;ae<x.length;ae++){var se=W.indexOf(x[ae]);se!==-1&&($===-1||se<$)&&($=se)}var ce,he;$===-1?he=W.lastIndexOf("@"):he=W.lastIndexOf("@",$),he!==-1&&(ce=W.slice(0,he),W=W.slice(he+1),this.auth=decodeURIComponent(ce)),$=-1;for(var ae=0;ae<v.length;ae++){var se=W.indexOf(v[ae]);se!==-1&&($===-1||se<$)&&($=se)}$===-1&&($=W.length),this.host=W.slice(0,$),W=W.slice($),this.parseHost(),this.hostname=this.hostname||"";var we=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!we)for(var xe=this.hostname.split(/\./),ae=0,Oe=xe.length;ae<Oe;ae++){var ge=xe[ae];if(!!ge&&!ge.match(p)){for(var De="",pe=0,de=ge.length;pe<de;pe++)ge.charCodeAt(pe)>127?De+="x":De+=ge[pe];if(!De.match(p)){var ie=xe.slice(0,ae),re=xe.slice(ae+1),q=ge.match(_);q&&(ie.push(q[1]),re.unshift(q[2])),re.length&&(W="/"+re.join(".")+W),this.hostname=ie.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),we||(this.hostname=o.toASCII(this.hostname));var te=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+te,this.href+=this.host,we&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),W[0]!=="/"&&(W="/"+W))}if(!w[le])for(var ae=0,Oe=s.length;ae<Oe;ae++){var P=s[ae];if(W.indexOf(P)!==-1){var I=encodeURIComponent(P);I===P&&(I=escape(P)),W=W.split(P).join(I)}}var U=W.indexOf("#");U!==-1&&(this.hash=W.substr(U),W=W.slice(0,U));var Q=W.indexOf("?");if(Q!==-1?(this.search=W.substr(Q),this.query=W.substr(Q+1),H&&(this.query=T.parse(this.query)),W=W.slice(0,Q)):H&&(this.search="",this.query={}),W&&(this.pathname=W),A[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var te=this.pathname||"",ye=this.search||"";this.path=te+ye}return this.href=this.format(),this};function R(k){return l.isString(k)&&(k=C(k)),k instanceof c?k.format():c.prototype.format.call(k)}c.prototype.format=function(){var k=this.auth||"";k&&(k=encodeURIComponent(k),k=k.replace(/%3A/i,":"),k+="@");var H=this.protocol||"",B=this.pathname||"",Z=this.hash||"",V=!1,j="";this.host?V=k+this.host:this.hostname&&(V=k+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(j=T.stringify(this.query));var z=this.search||j&&"?"+j||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||A[H])&&V!==!1?(V="//"+(V||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):V||(V=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),z&&z.charAt(0)!=="?"&&(z="?"+z),B=B.replace(/[?#]/g,function(W){return encodeURIComponent(W)}),z=z.replace("#","%23"),H+V+B+z+Z};function D(k,H){return C(k,!1,!0).resolve(H)}c.prototype.resolve=function(k){return this.resolveObject(C(k,!1,!0)).format()};function O(k,H){return k?C(k,!1,!0).resolveObject(H):H}c.prototype.resolveObject=function(k){if(l.isString(k)){var H=new c;H.parse(k,!1,!0),k=H}for(var B=new c,Z=Object.keys(this),V=0;V<Z.length;V++){var j=Z[V];B[j]=this[j]}if(B.hash=k.hash,k.href==="")return B.href=B.format(),B;if(k.slashes&&!k.protocol){for(var z=Object.keys(k),W=0;W<z.length;W++){var J=z[W];J!=="protocol"&&(B[J]=k[J])}return A[B.protocol]&&B.hostname&&!B.pathname&&(B.path=B.pathname="/"),B.href=B.format(),B}if(k.protocol&&k.protocol!==B.protocol){if(!A[k.protocol]){for(var oe=Object.keys(k),le=0;le<oe.length;le++){var fe=oe[le];B[fe]=k[fe]}return B.href=B.format(),B}if(B.protocol=k.protocol,!k.host&&!E[k.protocol]){for(var Oe=(k.pathname||"").split("/");Oe.length&&!(k.host=Oe.shift()););k.host||(k.host=""),k.hostname||(k.hostname=""),Oe[0]!==""&&Oe.unshift(""),Oe.length<2&&Oe.unshift(""),B.pathname=Oe.join("/")}else B.pathname=k.pathname;if(B.search=k.search,B.query=k.query,B.host=k.host||"",B.auth=k.auth,B.hostname=k.hostname||k.host,B.port=k.port,B.pathname||B.search){var $=B.pathname||"",ae=B.search||"";B.path=$+ae}return B.slashes=B.slashes||k.slashes,B.href=B.format(),B}var se=B.pathname&&B.pathname.charAt(0)==="/",ce=k.host||k.pathname&&k.pathname.charAt(0)==="/",he=ce||se||B.host&&k.pathname,we=he,xe=B.pathname&&B.pathname.split("/")||[],Oe=k.pathname&&k.pathname.split("/")||[],ge=B.protocol&&!A[B.protocol];if(ge&&(B.hostname="",B.port=null,B.host&&(xe[0]===""?xe[0]=B.host:xe.unshift(B.host)),B.host="",k.protocol&&(k.hostname=null,k.port=null,k.host&&(Oe[0]===""?Oe[0]=k.host:Oe.unshift(k.host)),k.host=null),he=he&&(Oe[0]===""||xe[0]==="")),ce)B.host=k.host||k.host===""?k.host:B.host,B.hostname=k.hostname||k.hostname===""?k.hostname:B.hostname,B.search=k.search,B.query=k.query,xe=Oe;else if(Oe.length)xe||(xe=[]),xe.pop(),xe=xe.concat(Oe),B.search=k.search,B.query=k.query;else if(!l.isNullOrUndefined(k.search)){if(ge){B.hostname=B.host=xe.shift();var De=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;De&&(B.auth=De.shift(),B.host=B.hostname=De.shift())}return B.search=k.search,B.query=k.query,(!l.isNull(B.pathname)||!l.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!xe.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var pe=xe.slice(-1)[0],de=(B.host||k.host||xe.length>1)&&(pe==="."||pe==="..")||pe==="",ie=0,re=xe.length;re>=0;re--)pe=xe[re],pe==="."?xe.splice(re,1):pe===".."?(xe.splice(re,1),ie++):ie&&(xe.splice(re,1),ie--);if(!he&&!we)for(;ie--;ie)xe.unshift("..");he&&xe[0]!==""&&(!xe[0]||xe[0].charAt(0)!=="/")&&xe.unshift(""),de&&xe.join("/").substr(-1)!=="/"&&xe.push("");var q=xe[0]===""||xe[0]&&xe[0].charAt(0)==="/";if(ge){B.hostname=B.host=q?"":xe.length?xe.shift():"";var De=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;De&&(B.auth=De.shift(),B.host=B.hostname=De.shift())}return he=he||B.host&&xe.length,he&&!q&&xe.unshift(""),xe.length?B.pathname=xe.join("/"):(B.pathname=null,B.path=null),(!l.isNull(B.pathname)||!l.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=k.auth||B.auth,B.slashes=B.slashes||k.slashes,B.href=B.format(),B},c.prototype.parseHost=function(){var k=this.host,H=m.exec(k);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),k=k.substr(0,k.length-H.length)),k&&(this.hostname=k)}},{"./util":181,punycode:134,querystring:137}],181:[function(n,i,a){"use strict";i.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},{}],182:[function(n,i,a){(function(o){(function(){var l={};typeof i=="object"?i.exports=l:self.UTIF=l;var c;typeof n=="function"?c=n("pako"):c=self.pako;function g(){(typeof o=="undefined"||o.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(m,d){(function(){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f=function(){function v(x){this.message="JPEG error: "+x}return v.prototype=Error(),v.prototype.name="JpegError",v.constructor=v}(),s=function(){function v(x,h){this.message=x,this.g=h}return v.prototype=Error(),v.prototype.name="DNLMarkerError",v.constructor=v}();(function(){function v(){this.M=null,this.B=-1}function x(E,A){for(var T=0,C=[],R,D,O=16;0<O&&!E[O-1];)O--;C.push({children:[],index:0});var k=C[0],H;for(R=0;R<O;R++){for(D=0;D<E[R];D++){for(k=C.pop(),k.children[k.index]=A[T];0<k.index;)k=C.pop();for(k.index++,C.push(k);C.length<=R;)C.push(H={children:[],index:0}),k.children[k.index]=H.children,k=H;T++}R+1<O&&(C.push(H={children:[],index:0}),k.children[k.index]=H.children,k=H)}return C[0].children}function h(E,A,T,C,R,D,O,k,H){function B(){if(0<ce)return ce--,se>>ce&1;if(se=E[A++],se===255){var U=E[A++];if(U){if(U===220&&fe){A+=2;var Q=E[A++]<<8|E[A++];if(0<Q&&Q!==T.g)throw new s("Found DNL marker (0xFFDC) while parsing scan data",Q)}throw new f("unexpected marker "+(se<<8|U).toString(16))}}return ce=7,se>>>7}function Z(U){for(;;){if(U=U[B()],typeof U=="number")return U;if((typeof U=="undefined"?"undefined":u(U))!=="object")throw new f("invalid huffman sequence")}}function V(U){for(var Q=0;0<U;)Q=Q<<1|B(),U--;return Q}function j(U){if(U===1)return B()===1?1:-1;var Q=V(U);return Q>=1<<U-1?Q:Q+(-1<<U)+1}function z(U,Q){var ye=Z(U.D);for(ye=ye===0?0:j(ye),U.a[Q]=U.m+=ye,ye=1;64>ye;){var Ie=Z(U.o),be=Ie&15;if(Ie>>=4,be===0){if(15>Ie)break;ye+=16}else ye+=Ie,U.a[Q+w[ye]]=j(be),ye++}}function W(U,Q){var ye=Z(U.D);ye=ye===0?0:j(ye)<<H,U.a[Q]=U.m+=ye}function J(U,Q){U.a[Q]|=B()<<H}function oe(U,Q){if(0<he)he--;else for(var ye=D;ye<=O;){var Ie=Z(U.o),be=Ie&15;if(Ie>>=4,be===0){if(15>Ie){he=V(Ie)+(1<<Ie)-1;break}ye+=16}else ye+=Ie,U.a[Q+w[ye]]=j(be)*(1<<H),ye++}}function le(U,Q){for(var ye=D,Ie=0,be;ye<=O;){be=Q+w[ye];var Pe=0>U.a[be]?-1:1;switch(we){case 0:if(Ie=Z(U.o),be=Ie&15,Ie>>=4,be===0)15>Ie?(he=V(Ie)+(1<<Ie),we=4):(Ie=16,we=1);else{if(be!==1)throw new f("invalid ACn encoding");xe=j(be),we=Ie?2:3}continue;case 1:case 2:U.a[be]?U.a[be]+=Pe*(B()<<H):(Ie--,Ie===0&&(we=we===2?3:0));break;case 3:U.a[be]?U.a[be]+=Pe*(B()<<H):(U.a[be]=xe<<H,we=0);break;case 4:U.a[be]&&(U.a[be]+=Pe*(B()<<H))}ye++}we===4&&(he--,he===0&&(we=0))}for(var fe=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,$=T.P,ae=A,se=0,ce=0,he=0,we=0,xe,Oe=C.length,ge,De,pe,de,ie=T.S?D===0?k===0?W:J:k===0?oe:le:z,re=0,q=Oe===1?C[0].c*C[0].l:$*T.O,te,G;re<q;){var P=R?Math.min(q-re,R):q;for(ge=0;ge<Oe;ge++)C[ge].m=0;if(he=0,Oe===1){var I=C[0];for(de=0;de<P;de++)ie(I,64*((I.c+1)*(re/I.c|0)+re%I.c)),re++}else for(de=0;de<P;de++){for(ge=0;ge<Oe;ge++)for(I=C[ge],te=I.h,G=I.j,De=0;De<G;De++)for(pe=0;pe<te;pe++)ie(I,64*((I.c+1)*((re/$|0)*I.j+De)+(re%$*I.h+pe)));re++}if(ce=0,(I=_(E,A))&&I.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+I.f),A=I.offset),I=I&&I.F,!I||65280>=I)throw new f("marker was not found");if(65488<=I&&65495>=I)A+=2;else break}return(I=_(E,A))&&I.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+I.f),A=I.offset),A-ae}function p(E,A){for(var T=A.c,C=A.l,R=new Int16Array(64),D=0;D<C;D++)for(var O=0;O<T;O++){var k=64*((A.c+1)*D+O),H=R,B=A.G,Z=A.a;if(!B)throw new f("missing required Quantization Table.");for(var V=0;64>V;V+=8){var j=Z[k+V],z=Z[k+V+1],W=Z[k+V+2],J=Z[k+V+3],oe=Z[k+V+4],le=Z[k+V+5],fe=Z[k+V+6],$=Z[k+V+7];if(j*=B[V],(z|W|J|oe|le|fe|$)==0)j=5793*j+512>>10,H[V]=j,H[V+1]=j,H[V+2]=j,H[V+3]=j,H[V+4]=j,H[V+5]=j,H[V+6]=j,H[V+7]=j;else{z*=B[V+1],W*=B[V+2],J*=B[V+3],oe*=B[V+4],le*=B[V+5],fe*=B[V+6],$*=B[V+7];var ae=5793*j+128>>8,se=5793*oe+128>>8,ce=W,he=fe;oe=2896*(z-$)+128>>8,$=2896*(z+$)+128>>8,J<<=4,le<<=4,ae=ae+se+1>>1,se=ae-se,j=3784*ce+1567*he+128>>8,ce=1567*ce-3784*he+128>>8,he=j,oe=oe+le+1>>1,le=oe-le,$=$+J+1>>1,J=$-J,ae=ae+he+1>>1,he=ae-he,se=se+ce+1>>1,ce=se-ce,j=2276*oe+3406*$+2048>>12,oe=3406*oe-2276*$+2048>>12,$=j,j=799*J+4017*le+2048>>12,J=4017*J-799*le+2048>>12,le=j,H[V]=ae+$,H[V+7]=ae-$,H[V+1]=se+le,H[V+6]=se-le,H[V+2]=ce+J,H[V+5]=ce-J,H[V+3]=he+oe,H[V+4]=he-oe}}for(B=0;8>B;++B)j=H[B],z=H[B+8],W=H[B+16],J=H[B+24],oe=H[B+32],le=H[B+40],fe=H[B+48],$=H[B+56],(z|W|J|oe|le|fe|$)==0?(j=5793*j+8192>>14,j=-2040>j?0:2024<=j?255:j+2056>>4,Z[k+B]=j,Z[k+B+8]=j,Z[k+B+16]=j,Z[k+B+24]=j,Z[k+B+32]=j,Z[k+B+40]=j,Z[k+B+48]=j,Z[k+B+56]=j):(ae=5793*j+2048>>12,se=5793*oe+2048>>12,ce=W,he=fe,oe=2896*(z-$)+2048>>12,$=2896*(z+$)+2048>>12,ae=(ae+se+1>>1)+4112,se=ae-se,j=3784*ce+1567*he+2048>>12,ce=1567*ce-3784*he+2048>>12,he=j,oe=oe+le+1>>1,le=oe-le,$=$+J+1>>1,J=$-J,ae=ae+he+1>>1,he=ae-he,se=se+ce+1>>1,ce=se-ce,j=2276*oe+3406*$+2048>>12,oe=3406*oe-2276*$+2048>>12,$=j,j=799*J+4017*le+2048>>12,J=4017*J-799*le+2048>>12,le=j,j=ae+$,$=ae-$,z=se+le,fe=se-le,W=ce+J,le=ce-J,J=he+oe,oe=he-oe,j=16>j?0:4080<=j?255:j>>4,z=16>z?0:4080<=z?255:z>>4,W=16>W?0:4080<=W?255:W>>4,J=16>J?0:4080<=J?255:J>>4,oe=16>oe?0:4080<=oe?255:oe>>4,le=16>le?0:4080<=le?255:le>>4,fe=16>fe?0:4080<=fe?255:fe>>4,$=16>$?0:4080<=$?255:$>>4,Z[k+B]=j,Z[k+B+8]=z,Z[k+B+16]=W,Z[k+B+24]=J,Z[k+B+32]=oe,Z[k+B+40]=le,Z[k+B+48]=fe,Z[k+B+56]=$)}return A.a}function _(E,A){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:A,C=E.length-1;if(T=T<A?T:A,A>=C)return null;var R=E[A]<<8|E[A+1];if(65472<=R&&65534>=R)return{f:null,F:R,offset:A};for(var D=E[T]<<8|E[T+1];!(65472<=D&&65534>=D);){if(++T>=C)return null;D=E[T]<<8|E[T+1]}return{f:R.toString(16),F:D,offset:T}}var w=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);v.prototype={parse:function(E){function A(){var ce=E[O]<<8|E[O+1];return O+=2,ce}function T(){var ce=A();ce=O+ce-2;var he=_(E,ce,O);return he&&he.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+he.f),ce=he.offset),ce=E.subarray(O,ce),O+=ce.length,ce}function C(ce){for(var he=Math.ceil(ce.v/8/ce.s),we=Math.ceil(ce.g/8/ce.u),xe=0;xe<ce.b.length;xe++){ae=ce.b[xe];var Oe=Math.ceil(Math.ceil(ce.v/8)*ae.h/ce.s),ge=Math.ceil(Math.ceil(ce.g/8)*ae.j/ce.u);ae.a=new Int16Array(64*we*ae.j*(he*ae.h+1)),ae.c=Oe,ae.l=ge}ce.P=he,ce.O=we}var R=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,D=R===void 0?null:R,O=0,k=null,H=0;R=[];var B=[],Z=[],V=A();if(V!==65496)throw new f("SOI not found");for(V=A();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var j=T();V===65518&&j[0]===65&&j[1]===100&&j[2]===111&&j[3]===98&&j[4]===101&&(k={version:j[5]<<8|j[6],Y:j[7]<<8|j[8],Z:j[9]<<8|j[10],W:j[11]});break;case 65499:V=A()+O-2;for(var z;O<V;){var W=E[O++],J=new Uint16Array(64);if(W>>4==0)for(j=0;64>j;j++)z=w[j],J[z]=E[O++];else if(W>>4==1)for(j=0;64>j;j++)z=w[j],J[z]=A();else throw new f("DQT - invalid table spec");R[W&15]=J}break;case 65472:case 65473:case 65474:if(oe)throw new f("Only single frame JPEGs supported");A();var oe={};for(oe.X=V===65473,oe.S=V===65474,oe.precision=E[O++],V=A(),oe.g=D||V,oe.v=A(),oe.b=[],oe.C={},j=E[O++],V=J=W=0;V<j;V++){z=E[O];var le=E[O+1]>>4,fe=E[O+1]&15;W<le&&(W=le),J<fe&&(J=fe),le=oe.b.push({h:le,j:fe,T:E[O+2],G:null}),oe.C[z]=le-1,O+=3}oe.s=W,oe.u=J,C(oe);break;case 65476:for(z=A(),V=2;V<z;){for(W=E[O++],J=new Uint8Array(16),j=le=0;16>j;j++,O++)le+=J[j]=E[O];for(fe=new Uint8Array(le),j=0;j<le;j++,O++)fe[j]=E[O];V+=17+le,(W>>4==0?Z:B)[W&15]=x(J,fe)}break;case 65501:A();var $=A();break;case 65498:for(j=++H==1&&!D,A(),W=E[O++],z=[],V=0;V<W;V++){J=oe.C[E[O++]];var ae=oe.b[J];J=E[O++],ae.D=Z[J>>4],ae.o=B[J&15],z.push(ae)}V=E[O++],W=E[O++],J=E[O++];try{var se=h(E,O,oe,z,$,V,W,J>>4,J&15,j);O+=se}catch(ce){if(ce instanceof s)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(E,{N:ce.g});throw ce}break;case 65500:O+=4;break;case 65535:E[O]!==255&&O--;break;default:if(E[O-3]===255&&192<=E[O-2]&&254>=E[O-2])O-=3;else if((j=_(E,O-2))&&j.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+j.f),O=j.offset;else throw new f("unknown marker "+V.toString(16))}V=A()}for(this.width=oe.v,this.height=oe.g,this.A=k,this.b=[],V=0;V<oe.b.length;V++)ae=oe.b[V],($=R[ae.T])&&(ae.G=$),this.b.push({R:p(oe,ae),U:ae.h/oe.s,V:ae.j/oe.u,c:ae.c,l:ae.l});this.i=this.b.length},L:function(E,A){var T=this.width/E,C=this.height/A,R,D,O=this.b.length,k=E*A*O,H=new Uint8ClampedArray(k),B=new Uint32Array(E);for(D=0;D<O;D++){var Z=this.b[D],V=Z.U*T,j=Z.V*C,z=D,W=Z.R,J=Z.c+1<<3;for(R=0;R<E;R++)Z=0|R*V,B[R]=(Z&4294967288)<<3|Z&7;for(V=0;V<A;V++)for(Z=0|V*j,Z=J*(Z&4294967288)|(Z&7)<<3,R=0;R<E;R++)H[z]=W[Z+B[R]],z+=O}if(C=this.M)for(D=0;D<k;)for(T=Z=0;Z<O;Z++,D++,T+=2)H[D]=(H[D]*C[T]>>8)+C[T+1];return H},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(E){for(var A,T,C,R=0,D=E.length;R<D;R+=3)A=E[R],T=E[R+1],C=E[R+2],E[R]=A-179.456+1.402*C,E[R+1]=A+135.459-.344*T-.714*C,E[R+2]=A-226.816+1.772*T;return E},K:function(E){for(var A,T,C,R,D=0,O=0,k=E.length;O<k;O+=4)A=E[O],T=E[O+1],C=E[O+2],R=E[O+3],E[D++]=-122.67195406894+T*(-660635669420364e-19*T+.000437130475926232*C-54080610064599e-18*A+.00048449797120281*R-.154362151871126)+C*(-.000957964378445773*C+.000817076911346625*A-.00477271405408747*R+1.53380253221734)+A*(.000961250184130688*A-.00266257332283933*R+.48357088451265)+R*(-.000336197177618394*R+.484791561490776),E[D++]=107.268039397724+T*(219927104525741e-19*T-.000640992018297945*C+.000659397001245577*A+.000426105652938837*R-.176491792462875)+C*(-.000778269941513683*C+.00130872261408275*A+.000770482631801132*R-.151051492775562)+A*(.00126935368114843*A-.00265090189010898*R+.25802910206845)+R*(-.000318913117588328*R-.213742400323665),E[D++]=-20.810012546947+T*(-.000570115196973677*T-263409051004589e-19*C+.0020741088115012*A-.00288260236853442*R+.814272968359295)+C*(-153496057440975e-19*C-.000132689043961446*A+.000560833691242812*R-.195152027534049)+A*(.00174418132927582*A-.00255243321439347*R+.116935020465145)+R*(-.000343531996510555*R+.24165260232407);return E.subarray(0,D)},J:function(E){for(var A,T,C,R=0,D=E.length;R<D;R+=4)A=E[R],T=E[R+1],C=E[R+2],E[R]=434.456-A-1.402*C,E[R+1]=119.541-A+.344*T+.714*C,E[R+2]=481.816-A-1.772*T;return E},H:function(E){for(var A,T,C,R,D=0,O=1/255,k=0,H=E.length;k<H;k+=4)A=E[k]*O,T=E[k+1]*O,C=E[k+2]*O,R=E[k+3]*O,E[D++]=255+A*(-4.387332384609988*A+54.48615194189176*T+18.82290502165302*C+212.25662451639585*R-285.2331026137004)+T*(1.7149763477362134*T-5.6096736904047315*C-17.873870861415444*R-5.497006427196366)+C*(-2.5217340131683033*C-21.248923337353073*R+17.5119270841813)-R*(21.86122147463605*R+189.48180835922747),E[D++]=255+A*(8.841041422036149*A+60.118027045597366*T+6.871425592049007*C+31.159100130055922*R-79.2970844816548)+T*(-15.310361306967817*T+17.575251261109482*C+131.35250912493976*R-190.9453302588951)+C*(4.444339102852739*C+9.8632861493405*R-24.86741582555878)-R*(20.737325471181034*R+187.80453709719578),E[D++]=255+A*(.8842522430003296*A+8.078677503112928*T+30.89978309703729*C-.23883238689178934*R-14.183576799673286)+T*(10.49593273432072*T+63.02378494754052*C+50.606957656360734*R-112.23884253719248)+C*(.03296041114873217*C+115.60384449646641*R-193.58209356861505)-R*(22.33816807309886*R+180.12613974708367);return E.subarray(0,D)},getData:function(E,A,T){if(4<this.i)throw new f("Unsupported color mode");if(E=this.L(E,A),this.i===1&&T){T=E.length,A=new Uint8ClampedArray(3*T);for(var C=0,R=0;R<T;R++){var D=E[R];A[C++]=D,A[C++]=D,A[C++]=D}return A}if(this.i===3&&this.w())return this.I(E);if(this.i===4){if(this.w())return T?this.K(E):this.J(E);if(T)return this.H(E)}return E}},m.JpegDecoder=v})()})(),m.encodeImage=function(u,f,s,v){var x={t256:[f],t257:[s],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[s],t279:[f*s*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(v)for(var h in v)x[h]=v[h];for(var p=new Uint8Array(m.encode([x])),_=new Uint8Array(u),w=new Uint8Array(1e3+f*s*4),h=0;h<p.length;h++)w[h]=p[h];for(var h=0;h<_.length;h++)w[1e3+h]=_[h];return w.buffer},m.encode=function(u){var f=new Uint8Array(2e4),s=4,v=m._binBE;f[0]=77,f[1]=77,f[3]=42;var x=8;v.writeUint(f,s,x),s+=4;for(var h=0;h<u.length;h++){var p=m._writeIFD(v,f,x,u[h]);x=p[1],h<u.length-1&&v.writeUint(f,p[0],x)}return f.slice(0,x).buffer},m.decode=function(u){m.decode._decodeG3.allow2D=null;var f=new Uint8Array(u),s=0,v=m._binBE.readASCII(f,s,2);s+=2;var x=v=="II"?m._binLE:m._binBE,h=x.readUshort(f,s);s+=2;var p=x.readUint(f,s);s+=4;for(var _=[];;){var w=m._readIFD(x,f,p,_);if(p=x.readUint(f,w),p==0)break}return _},m.decodeImages=function(u,f){for(var s=new Uint8Array(u),v=m._binBE.readASCII(s,0,2),x=0;x<f.length;x++){var h=f[x];if(h.t256!=null){h.isLE=v=="II",h.width=h.t256[0],h.height=h.t257[0];var p=h.t259?h.t259[0]:1,_=h.t266?h.t266[0]:1;h.t284&&h.t284[0]==2&&g("PlanarConfiguration 2 should not be used!");var w=(h.t258?Math.min(32,h.t258[0]):1)*(h.t277?h.t277[0]:1),E=Math.ceil(h.width*w/8)*8,A=h.t273;A==null&&(A=h.t324);var T=h.t279;p==1&&A.length==1&&(T=[h.height*(E>>>3)]),T==null&&(T=h.t325);var C=new Uint8Array(h.height*(E>>>3)),R=0;if(h.t322!=null){for(var D=h.t322[0],O=h.t323[0],k=Math.floor((h.width+D-1)/D),H=Math.floor((h.height+O-1)/O),B=new Uint8Array(Math.ceil(D*O*w/8)|0),Z=0;Z<H;Z++)for(var V=0;V<k;V++){for(var j=Z*k+V,z=0;z<B.length;z++)B[z]=0;m.decode._decompress(h,s,A[j],T[j],p,B,0,_),p==6?C=B:m._copyTile(B,Math.ceil(D*w/8)|0,O,C,Math.ceil(h.width*w/8)|0,h.height,Math.ceil(V*D*w/8)|0,Z*O)}R=C.length*8}else{var W=h.t278?h.t278[0]:h.height;W=Math.min(W,h.height);for(var j=0;j<A.length;j++)m.decode._decompress(h,s,A[j],T[j],p,C,Math.ceil(R/8)|0,_),R+=E*W;R=Math.min(R,C.length*8)}h.data=new Uint8Array(C.buffer,0,Math.ceil(R/8)|0)}}},m.decode._decompress=function(u,f,s,v,x,h,p,_){if(x==1)for(var w=0;w<v;w++)h[p+w]=f[s+w];else if(x==3)m.decode._decodeG3(f,s,v,h,p,u.width,_);else if(x==4)m.decode._decodeG4(f,s,v,h,p,u.width,_);else if(x==5)m.decode._decodeLZW(f,s,h,p);else if(x==6)m.decode._decodeOldJPEG(u,f,s,v,h,p);else if(x==7)m.decode._decodeNewJPEG(u,f,s,v,h,p);else if(x==8)for(var E=new Uint8Array(f.buffer,s,v),A=d.inflate(E),T=0;T<A.length;T++)h[p+T]=A[T];else x==32773?m.decode._decodePackBits(f,s,v,h,p):x==32809?m.decode._decodeThunder(f,s,v,h,p):g("Unknown compression",x);if(u.t317&&u.t317[0]==2)for(var C=u.t277?u.t277[0]:1,R=u.t278?u.t278[0]:u.height,D=u.width*C,O=0;O<R;O++){var k=p+O*D;if(C==3)for(var w=3;w<D;w+=3)h[k+w]=h[k+w]+h[k+w-3]&255,h[k+w+1]=h[k+w+1]+h[k+w-2]&255,h[k+w+2]=h[k+w+2]+h[k+w-1]&255;else for(var w=C;w<D;w++)h[k+w]=h[k+w]+h[k+w-C]&255}},m.decode._decodeNikon=function(u,f,s,v,x){var h=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],p,_,w,E,A,T,C,R,D=0,O=0,k=0,H,B,s,Z,V;g(u.slice(f,f+100)),p=u[f],f++,_=u[f],f++,g(p.toString(16),_.toString(16),s)},m.decode._decodeNewJPEG=function(u,f,s,v,x,h){var p=u.t347,_=p?p.length:0,w=new Uint8Array(_+v);if(p){for(var E=216,A=217,T=0,C=0;C<_-1&&!(p[C]==255&&p[C+1]==A);C++)w[T++]=p[C];var R=f[s],D=f[s+1];(R!=255||D!=E)&&(w[T++]=R,w[T++]=D);for(var C=2;C<v;C++)w[T++]=f[s+C]}else for(var C=0;C<v;C++)w[C]=f[s+C];if(u.t262==32803){var O=u.t258[0],k=new LosslessJpegDecoder,H=k.decode(w),B=H.length;if(O==16)for(var C=0;C<B;C++)x[h++]=H[C]&255,x[h++]=H[C]>>>8;else if(O==12)for(var C=0;C<B;C+=2)x[h++]=H[C]>>>4,x[h++]=(H[C]<<4|H[C+1]>>>8)&255,x[h++]=H[C+1]&255;else throw new Error("unsupported bit depth "+O)}else{var Z=new m.JpegDecoder;Z.parse(w);for(var V=Z.getData(Z.width,Z.height),C=0;C<V.length;C++)x[h+C]=V[C]}u.t262[0]==6&&(u.t262[0]=2)},m.decode._decodeOldJPEGInit=function(u,f,s,v){var x=216,h=217,p=219,_=196,w=221,E=192,A=218,T=0,C=0,R,D,O=!1,k,H,B,Z=u.t513,V=Z?Z[0]:0,j=u.t514,z=j?j[0]:0,W=u.t324||u.t273||Z,J=u.t530,oe=0,le=0,fe=u.t277?u.t277[0]:1,$=u.t515;if(W&&(C=W[0],O=W.length>1),!O){if(f[s]==255&&f[s+1]==x)return{jpegOffset:s};if(Z!=null&&(f[s+V]==255&&f[s+V+1]==x?T=s+V:g("JPEGInterchangeFormat does not point to SOI"),j==null?g("JPEGInterchangeFormatLength field is missing"):(V>=C||V+z<=C)&&g("JPEGInterchangeFormatLength field value is invalid"),T!=null))return{jpegOffset:T}}if(J!=null&&(oe=J[0],le=J[1]),Z!=null&&j!=null)if(z>=2&&V+z<=C){for(f[s+V+z-2]==255&&f[s+V+z-1]==x?R=new Uint8Array(z-2):R=new Uint8Array(z),k=0;k<R.length;k++)R[k]=f[s+V+k];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(R==null){var ae=0,se=[];se[ae++]=255,se[ae++]=x;var ce=u.t519;if(ce==null)throw new Error("JPEGQTables tag is missing");for(k=0;k<ce.length;k++)for(se[ae++]=255,se[ae++]=p,se[ae++]=0,se[ae++]=67,se[ae++]=k,H=0;H<64;H++)se[ae++]=f[s+ce[k]+H];for(B=0;B<2;B++){var he=u[B==0?"t520":"t521"];if(he==null)throw new Error((B==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(k=0;k<he.length;k++){se[ae++]=255,se[ae++]=_;var we=19;for(H=0;H<16;H++)we+=f[s+he[k]+H];for(se[ae++]=we>>>8,se[ae++]=we&255,se[ae++]=k|B<<4,H=0;H<16;H++)se[ae++]=f[s+he[k]+H];for(H=0;H<we;H++)se[ae++]=f[s+he[k]+16+H]}}if(se[ae++]=255,se[ae++]=E,se[ae++]=0,se[ae++]=8+3*fe,se[ae++]=8,se[ae++]=u.height>>>8&255,se[ae++]=u.height&255,se[ae++]=u.width>>>8&255,se[ae++]=u.width&255,se[ae++]=fe,fe==1)se[ae++]=1,se[ae++]=17,se[ae++]=0;else for(k=0;k<3;k++)se[ae++]=k+1,se[ae++]=k!=0?17:(oe&15)<<4|le&15,se[ae++]=k;$!=null&&$[0]!=0&&(se[ae++]=255,se[ae++]=w,se[ae++]=0,se[ae++]=4,se[ae++]=$[0]>>>8&255,se[ae++]=$[0]&255),R=new Uint8Array(se)}var xe=-1;for(k=0;k<R.length-1;){if(R[k]==255&&R[k+1]==E){xe=k;break}k++}if(xe==-1){var Oe=new Uint8Array(R.length+10+3*fe);Oe.set(R);var ge=R.length;if(xe=R.length,R=Oe,R[ge++]=255,R[ge++]=E,R[ge++]=0,R[ge++]=8+3*fe,R[ge++]=8,R[ge++]=u.height>>>8&255,R[ge++]=u.height&255,R[ge++]=u.width>>>8&255,R[ge++]=u.width&255,R[ge++]=fe,fe==1)R[ge++]=1,R[ge++]=17,R[ge++]=0;else for(k=0;k<3;k++)R[ge++]=k+1,R[ge++]=k!=0?17:(oe&15)<<4|le&15,R[ge++]=k}if(f[C]==255&&f[C+1]==A){var De=f[C+2]<<8|f[C+3];for(D=new Uint8Array(De+2),D[0]=f[C],D[1]=f[C+1],D[2]=f[C+2],D[3]=f[C+3],k=0;k<De-2;k++)D[k+4]=f[C+k+4]}else{D=new Uint8Array(2+6+2*fe);var pe=0;if(D[pe++]=255,D[pe++]=A,D[pe++]=0,D[pe++]=6+2*fe,D[pe++]=fe,fe==1)D[pe++]=1,D[pe++]=0;else for(k=0;k<3;k++)D[pe++]=k+1,D[pe++]=k<<4|k;D[pe++]=0,D[pe++]=63,D[pe++]=0}return{jpegOffset:s,tables:R,sosMarker:D,sofPosition:xe}},m.decode._decodeOldJPEG=function(u,f,s,v,x,h){var p,_,w,E,A,T=m.decode._decodeOldJPEGInit(u,f,s,v);if(T.jpegOffset!=null)for(_=s+v-T.jpegOffset,E=new Uint8Array(_),p=0;p<_;p++)E[p]=f[T.jpegOffset+p];else{for(w=T.tables.length,E=new Uint8Array(w+T.sosMarker.length+v+2),E.set(T.tables),A=w,E[T.sofPosition+5]=u.height>>>8&255,E[T.sofPosition+6]=u.height&255,E[T.sofPosition+7]=u.width>>>8&255,E[T.sofPosition+8]=u.width&255,(f[s]!=255||f[s+1]!=SOS)&&(E.set(T.sosMarker,bufoff),bufoff+=sosMarker.length),p=0;p<v;p++)E[bufoff++]=f[s+p];E[bufoff++]=255,E[bufoff++]=EOI}var C=new m.JpegDecoder;C.parse(E);for(var R=C.getData(C.width,C.height),p=0;p<R.length;p++)x[h+p]=R[p];u.t262[0]==6&&(u.t262[0]=2)},m.decode._decodePackBits=function(u,f,s,v,x){for(var h=new Int8Array(u.buffer),p=new Int8Array(v.buffer),_=f+s;f<_;){var w=h[f];if(f++,w>=0&&w<128)for(var E=0;E<w+1;E++)p[x]=h[f],x++,f++;if(w>=-127&&w<0){for(var E=0;E<-w+1;E++)p[x]=h[f],x++;f++}}},m.decode._decodeThunder=function(u,f,s,v,x){for(var h=[0,1,0,-1],p=[0,1,2,3,0,-3,-2,-1],_=f+s,w=x*2,E=0;f<_;){var A=u[f],T=A>>>6,C=A&63;if(f++,T==3&&(E=C&15,v[w>>>1]|=E<<4*(1-w&1),w++),T==0)for(var R=0;R<C;R++)v[w>>>1]|=E<<4*(1-w&1),w++;if(T==2)for(var R=0;R<2;R++){var D=C>>>3*(1-R)&7;D!=4&&(E+=p[D],v[w>>>1]|=E<<4*(1-w&1),w++)}if(T==1)for(var R=0;R<3;R++){var D=C>>>2*(2-R)&3;D!=2&&(E+=h[D],v[w>>>1]|=E<<4*(1-w&1),w++)}}},m.decode._dmap={"1":0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},m.decode._lens=function(){var u=function(w,E,A,T){for(var C=0;C<E.length;C++)w[E[C]]=A+C*T},f="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",s="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",v="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",x="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",h="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";f=f.split(","),s=s.split(","),v=v.split(","),x=x.split(","),h=h.split(",");var p={},_={};return u(p,f,0,1),u(p,v,64,64),u(p,h,1792,64),u(_,s,0,1),u(_,x,64,64),u(_,h,1792,64),[p,_]}(),m.decode._decodeG4=function(u,f,s,v,x,h,p){for(var _=m.decode,w=f<<3,E=0,A="",T=[],C=[],R=0;R<h;R++)C.push(0);C=_._makeDiff(C);for(var D=0,O=0,k=0,H=0,B=0,Z=0,V=0,j="",z=0,W=Math.ceil(h/8)*8;w>>>3<f+s;){H=_._findDiff(C,D+(D==0?0:1),1-Z),B=_._findDiff(C,H,Z);var J=0;if(p==1&&(J=u[w>>>3]>>>7-(w&7)&1),p==2&&(J=u[w>>>3]>>>(w&7)&1),w++,A+=J,j=="H"){if(_._lens[Z][A]!=null){var oe=_._lens[Z][A];A="",E+=oe,oe<64&&(_._addNtimes(T,E,Z),D+=E,Z=1-Z,E=0,z--,z==0&&(j=""))}}else A=="0001"&&(A="",_._addNtimes(T,B-D,Z),D=B),A=="001"&&(A="",j="H",z=2),_._dmap[A]!=null&&(O=H+_._dmap[A],_._addNtimes(T,O-D,Z),D=O,A="",Z=1-Z);T.length==h&&j==""&&(_._writeBits(T,v,x*8+V*W),Z=0,V++,D=0,C=_._makeDiff(T),T=[])}},m.decode._findDiff=function(u,f,s){for(var v=0;v<u.length;v+=2)if(u[v]>=f&&u[v+1]==s)return u[v]},m.decode._makeDiff=function(u){var f=[];u[0]==1&&f.push(0,1);for(var s=1;s<u.length;s++)u[s-1]!=u[s]&&f.push(s,u[s]);return f.push(u.length,0,u.length,1),f},m.decode._decodeG3=function(u,f,s,v,x,h,p){for(var _=m.decode,w=f<<3,E=0,A="",T=[],C=[],R=0;R<h;R++)T.push(0);for(var D=0,O=0,k=0,H=0,B=0,Z=0,V=-1,j="",z=0,W=!1,J=Math.ceil(h/8)*8;w>>>3<f+s;){H=_._findDiff(C,D+(D==0?0:1),1-Z),B=_._findDiff(C,H,Z);var oe=0;if(p==1&&(oe=u[w>>>3]>>>7-(w&7)&1),p==2&&(oe=u[w>>>3]>>>(w&7)&1),w++,A+=oe,W){if(_._lens[Z][A]!=null){var le=_._lens[Z][A];A="",E+=le,le<64&&(_._addNtimes(T,E,Z),Z=1-Z,E=0)}}else if(j=="H"){if(_._lens[Z][A]!=null){var le=_._lens[Z][A];A="",E+=le,le<64&&(_._addNtimes(T,E,Z),D+=E,Z=1-Z,E=0,z--,z==0&&(j=""))}}else A=="0001"&&(A="",_._addNtimes(T,B-D,Z),D=B),A=="001"&&(A="",j="H",z=2),_._dmap[A]!=null&&(O=H+_._dmap[A],_._addNtimes(T,O-D,Z),D=O,A="",Z=1-Z);A.endsWith("000000000001")&&(V>=0&&_._writeBits(T,v,x*8+V*J),p==1&&(W=(u[w>>>3]>>>7-(w&7)&1)==1),p==2&&(W=(u[w>>>3]>>>(w&7)&1)==1),w++,_._decodeG3.allow2D==null&&(_._decodeG3.allow2D=W),_._decodeG3.allow2D||(W=!0,w--),A="",Z=0,V++,D=0,C=_._makeDiff(T),T=[])}T.length==h&&_._writeBits(T,v,x*8+V*J)},m.decode._addNtimes=function(u,f,s){for(var v=0;v<f;v++)u.push(s)},m.decode._writeBits=function(u,f,s){for(var v=0;v<u.length;v++)f[s+v>>>3]|=u[v]<<7-(s+v&7)},m.decode._decodeLZW=function(u,f,s,v){if(m.decode._lzwTab==null){for(var x=new Uint32Array(65535),h=new Uint16Array(65535),A=new Uint8Array(2e6),p=0;p<256;p++)A[p<<2]=p,x[p]=p<<2,h[p]=1;m.decode._lzwTab=[x,h,A]}for(var _=m.decode._copyData,w=m.decode._lzwTab[0],E=m.decode._lzwTab[1],A=m.decode._lzwTab[2],T=258,C=258<<2,R=9,D=f<<3,O=256,k=257,H=0,B=0,Z=0;H=u[D>>>3]<<16|u[D+8>>>3]<<8|u[D+16>>>3],B=H>>24-(D&7)-R&(1<<R)-1,D+=R,B!=k;){if(B==O){if(R=9,T=258,C=258<<2,H=u[D>>>3]<<16|u[D+8>>>3]<<8|u[D+16>>>3],B=H>>24-(D&7)-R&(1<<R)-1,D+=R,B==k)break;s[v]=B,v++}else if(B<T){var V=w[B],j=E[B];if(_(A,V,s,v,j),v+=j,Z>=T)w[T]=C,A[w[T]]=V[0],E[T]=1,C=C+1+3&~3,T++;else{w[T]=C;var z=w[Z],W=E[Z];_(A,z,A,C,W),A[C+W]=A[V],W++,E[T]=W,T++,C=C+W+3&~3}T+1==1<<R&&R++}else{if(Z>=T)w[T]=C,E[T]=0,T++;else{w[T]=C;var z=w[Z],W=E[Z];_(A,z,A,C,W),A[C+W]=A[C],W++,E[T]=W,T++,_(A,C,s,v,W),v+=W,C=C+W+3&~3}T+1==1<<R&&R++}Z=B}},m.decode._copyData=function(u,f,s,v,x){for(var h=0;h<x;h+=4)s[v+h]=u[f+h],s[v+h+1]=u[f+h+1],s[v+h+2]=u[f+h+2],s[v+h+3]=u[f+h+3]},m.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},m.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},m._readIFD=function(u,f,s,v){var x=u.readUshort(f,s);s+=2;var h={};v.push(h);for(var p=0;p<x;p++){var _=u.readUshort(f,s);s+=2;var w=u.readUshort(f,s);s+=2;var E=u.readUint(f,s);s+=4;var A=u.readUint(f,s);s+=4;var T=[];if(h["t"+_]=T,w==1||w==7)for(var C=0;C<E;C++)T.push(f[(E<5?s-4:A)+C]);if(w==2&&T.push(u.readASCII(f,E<5?s-4:A,E-1)),w==3)for(var C=0;C<E;C++)T.push(u.readUshort(f,(E<3?s-4:A)+2*C));if(w==4)for(var C=0;C<E;C++)T.push(u.readUint(f,(E<2?s-4:A)+4*C));if(w==5)for(var C=0;C<E;C++)T.push(u.readUint(f,A+C*8)/u.readUint(f,A+C*8+4));if(w==8)for(var C=0;C<E;C++)T.push(u.readShort(f,(E<3?s-4:A)+2*C));if(w==9)for(var C=0;C<E;C++)T.push(u.readInt(f,(E<2?s-4:A)+4*C));if(w==10)for(var C=0;C<E;C++)T.push(u.readInt(f,A+C*8)/u.readInt(f,A+C*8+4));if(w==11)for(var C=0;C<E;C++)T.push(u.readFloat(f,A+C*4));if(w==12)for(var C=0;C<E;C++)T.push(u.readDouble(f,A+C*8));if(E!=0&&T.length==0&&g("unknown TIFF tag type: ",w,"num:",E),_==330)for(var C=0;C<E;C++)m._readIFD(u,f,T[C],v)}return s},m._writeIFD=function(u,f,s,v){var x=Object.keys(v);u.writeUshort(f,s,x.length),s+=2;for(var h=s+x.length*12+4,p=0;p<x.length;p++){var _=x[p],w=parseInt(_.slice(1)),E=m.ttypes[w];if(E==null)throw new Error("unknown type of tag: "+w);var A=v[_];E==2&&(A=A[0]+"\0");var T=A.length;u.writeUshort(f,s,w),s+=2,u.writeUshort(f,s,E),s+=2,u.writeUint(f,s,T),s+=4;var C=[-1,1,1,2,4,8,0,0,0,0,0,0,8][E]*T,R=s;if(C>4&&(u.writeUint(f,s,h),R=h),E==2&&u.writeASCII(f,R,A),E==3)for(var D=0;D<T;D++)u.writeUshort(f,R+2*D,A[D]);if(E==4)for(var D=0;D<T;D++)u.writeUint(f,R+4*D,A[D]);if(E==5)for(var D=0;D<T;D++)u.writeUint(f,R+8*D,Math.round(A[D]*1e4)),u.writeUint(f,R+8*D+4,1e4);if(E==12)for(var D=0;D<T;D++)u.writeDouble(f,R+8*D,A[D]);C>4&&(C+=C&1,h+=C),s+=4}return[s,h]},m.toRGBA8=function(u){var f=u.width,s=u.height,v=f*s,x=v*4,h=u.data,p=new Uint8Array(v*4),_=u.t262[0],w=u.t258?Math.min(32,u.t258[0]):1,E=u.isLE?1:0;if(_==0)for(var A=Math.ceil(w*f/8),T=0;T<s;T++){var C=T*A,R=T*f;if(w==1)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>3)]>>7-(D&7)&1;p[O]=p[O+1]=p[O+2]=(1-k)*255,p[O+3]=255}if(w==4)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>1)]>>4-4*(D&1)&15;p[O]=p[O+1]=p[O+2]=(15-k)*17,p[O+3]=255}if(w==8)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+D];p[O]=p[O+1]=p[O+2]=255-k,p[O+3]=255}}else if(_==1)for(var A=Math.ceil(w*f/8),T=0;T<s;T++){var C=T*A,R=T*f;if(w==1)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>3)]>>7-(D&7)&1;p[O]=p[O+1]=p[O+2]=k*255,p[O+3]=255}if(w==2)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(D>>2)]>>6-2*(D&3)&3;p[O]=p[O+1]=p[O+2]=k*85,p[O+3]=255}if(w==8)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+D];p[O]=p[O+1]=p[O+2]=k,p[O+3]=255}if(w==16)for(var D=0;D<f;D++){var O=R+D<<2,k=h[C+(2*D+E)];p[O]=p[O+1]=p[O+2]=Math.min(255,k),p[O+3]=255}}else if(_==2)if(w==8)if(u.t338)if(u.t338[0]>0)for(var D=0;D<x;D++)p[D]=h[D];else for(var D=0;D<x;D+=4)p[D]=h[D],p[D+1]=h[D+1],p[D+2]=h[D+2],p[D+3]=255;else{var H=u.t258?u.t258.length:3;if(H==4)for(var D=0;D<x;D++)p[D]=h[D];if(H==3)for(var D=0;D<v;D++){var O=D<<2,B=D*3;p[O]=h[B],p[O+1]=h[B+1],p[O+2]=h[B+2],p[O+3]=255}}else for(var D=0;D<v;D++){var O=D<<2,B=D*6;p[O]=h[B],p[O+1]=h[B+2],p[O+2]=h[B+4],p[O+3]=255}else if(_==3)for(var Z=u.t320,D=0;D<v;D++){var O=D<<2,V=h[D];p[O]=Z[V]>>8,p[O+1]=Z[256+V]>>8,p[O+2]=Z[512+V]>>8,p[O+3]=255}else if(_==5)for(var H=u.t258?u.t258.length:4,j=H>4?1:0,D=0;D<v;D++){var O=D<<2,z=D*H,W=255-h[z],J=255-h[z+1],oe=255-h[z+2],le=(255-h[z+3])*(1/255);p[O]=~~(W*le+.5),p[O+1]=~~(J*le+.5),p[O+2]=~~(oe*le+.5),p[O+3]=255*(1-j)+h[z+4]*j}else g("Unknown Photometric interpretation: "+_);return p},m.replaceIMG=function(){for(var u=document.getElementsByTagName("img"),f=0;f<u.length;f++){var s=u[f],v=s.getAttribute("src");if(v!=null){var x=v.split(".").pop().toLowerCase();if(!(x!="tif"&&x!="tiff")){var h=new XMLHttpRequest;m._xhrs.push(h),m._imgs.push(s),h.open("GET",v),h.responseType="arraybuffer",h.onload=m._imgLoaded,h.send()}}}},m._xhrs=[],m._imgs=[],m._imgLoaded=function(u){var f=u.target.response,s=m.decode(f),v=s[0];m.decodeImages(f,s);var x=m.toRGBA8(v),h=v.width,p=v.height,_=m._xhrs.indexOf(u.target),w=m._imgs[_];m._xhrs.splice(_,1),m._imgs.splice(_,1);var E=document.createElement("canvas");E.width=h,E.height=p;for(var A=E.getContext("2d"),T=A.createImageData(h,p),C=0;C<x.length;C++)T.data[C]=x[C];A.putImageData(T,0,0);for(var R=["style","class","id"],C=0;C<R.length;C++)E.setAttribute(R[C],w.getAttribute(R[C]));w.parentNode.replaceChild(E,w)},m._binBE={nextZero:function(u,f){for(;u[f]!=0;)f++;return f},readUshort:function(u,f){return u[f]<<8|u[f+1]},readShort:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+1],s[1]=u[f+0],m._binBE.i16[0]},readInt:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+3],s[1]=u[f+2],s[2]=u[f+1],s[3]=u[f+0],m._binBE.i32[0]},readUint:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+3],s[1]=u[f+2],s[2]=u[f+1],s[3]=u[f+0],m._binBE.ui32[0]},readASCII:function(u,f,s){for(var v="",x=0;x<s;x++)v+=String.fromCharCode(u[f+x]);return v},readFloat:function(u,f){for(var s=m._binBE.ui8,v=0;v<4;v++)s[v]=u[f+3-v];return m._binBE.fl32[0]},readDouble:function(u,f){for(var s=m._binBE.ui8,v=0;v<8;v++)s[v]=u[f+7-v];return m._binBE.fl64[0]},writeUshort:function(u,f,s){u[f]=s>>8&255,u[f+1]=s&255},writeUint:function(u,f,s){u[f]=s>>24&255,u[f+1]=s>>16&255,u[f+2]=s>>8&255,u[f+3]=s>>0&255},writeASCII:function(u,f,s){for(var v=0;v<s.length;v++)u[f+v]=s.charCodeAt(v)},writeDouble:function(u,f,s){m._binBE.fl64[0]=s;for(var v=0;v<8;v++)u[f+v]=m._binBE.ui8[7-v]}},m._binBE.ui8=new Uint8Array(8),m._binBE.i16=new Int16Array(m._binBE.ui8.buffer),m._binBE.i32=new Int32Array(m._binBE.ui8.buffer),m._binBE.ui32=new Uint32Array(m._binBE.ui8.buffer),m._binBE.fl32=new Float32Array(m._binBE.ui8.buffer),m._binBE.fl64=new Float64Array(m._binBE.ui8.buffer),m._binLE={nextZero:m._binBE.nextZero,readUshort:function(u,f){return u[f+1]<<8|u[f]},readShort:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+0],s[1]=u[f+1],m._binBE.i16[0]},readInt:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+0],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],m._binBE.i32[0]},readUint:function(u,f){var s=m._binBE.ui8;return s[0]=u[f+0],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],m._binBE.ui32[0]},readASCII:m._binBE.readASCII,readFloat:function(u,f){for(var s=m._binBE.ui8,v=0;v<4;v++)s[v]=u[f+v];return m._binBE.fl32[0]},readDouble:function(u,f){for(var s=m._binBE.ui8,v=0;v<8;v++)s[v]=u[f+v];return m._binBE.fl64[0]}},m._copyTile=function(u,f,s,v,x,h,p,_){for(var w=Math.min(f,x-p),E=Math.min(s,h-_),A=0;A<E;A++)for(var T=(_+A)*x+p,C=A*f,R=0;R<w;R++)v[T+R]=u[C+R]}})(l,c)})()}).call(this,n("_process"))},{_process:133,pako:86}],183:[function(n,i,a){(function(o){i.exports=l;function l(g,m){if(c("noDeprecation"))return g;var d=!1;function u(){if(!d){if(c("throwDeprecation"))throw new Error(m);c("traceDeprecation")?console.trace(m):console.warn(m),d=!0}return g.apply(this,arguments)}return u}function c(g){try{if(!o.localStorage)return!1}catch{return!1}var m=o.localStorage[g];return m==null?!1:String(m).toLowerCase()==="true"}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof Bt!="undefined"?Bt:{})},{}],184:[function(n,i,a){arguments[4][26][0].apply(a,arguments)},{dup:26}],185:[function(n,i,a){arguments[4][27][0].apply(a,arguments)},{dup:27}],186:[function(n,i,a){arguments[4][28][0].apply(a,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(n,i,a){"use strict";var o=n("global/window"),l=n("is-function"),c=n("parse-headers"),g=n("xtend");i.exports=f,i.exports.default=f,f.XMLHttpRequest=o.XMLHttpRequest||x,f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:o.XDomainRequest,m(["get","put","post","patch","head","delete"],function(h){f[h==="delete"?"del":h]=function(p,_,w){return _=u(p,_,w),_.method=h.toUpperCase(),s(_)}});function m(h,p){for(var _=0;_<h.length;_++)p(h[_])}function d(h){for(var p in h)if(h.hasOwnProperty(p))return!1;return!0}function u(h,p,_){var w=h;return l(p)?(_=p,typeof h=="string"&&(w={uri:h})):w=g(p,{uri:h}),w.callback=_,w}function f(h,p,_){return p=u(h,p,_),s(p)}function s(h){if(typeof h.callback=="undefined")throw new Error("callback argument missing");var p=!1,_=function(J,oe,le){p||(p=!0,h.callback(J,oe,le))};function w(){C.readyState===4&&setTimeout(T,0)}function E(){var W=void 0;if(C.response?W=C.response:W=C.responseText||v(C),V)try{W=JSON.parse(W)}catch{}return W}function A(W){return clearTimeout(j),W instanceof Error||(W=new Error(""+(W||"Unknown XMLHttpRequest Error"))),W.statusCode=0,_(W,z)}function T(){if(!D){var W;clearTimeout(j),h.useXDR&&C.status===void 0?W=200:W=C.status===1223?204:C.status;var J=z,oe=null;return W!==0?(J={body:E(),statusCode:W,method:k,headers:{},url:O,rawRequest:C},C.getAllResponseHeaders&&(J.headers=c(C.getAllResponseHeaders()))):oe=new Error("Internal XMLHttpRequest Error"),_(oe,J,J.body)}}var C=h.xhr||null;C||(h.cors||h.useXDR?C=new f.XDomainRequest:C=new f.XMLHttpRequest);var R,D,O=C.url=h.uri||h.url,k=C.method=h.method||"GET",H=h.body||h.data,B=C.headers=h.headers||{},Z=!!h.sync,V=!1,j,z={body:void 0,headers:{},statusCode:0,method:k,url:O,rawRequest:C};if("json"in h&&h.json!==!1&&(V=!0,B.accept||B.Accept||(B.Accept="application/json"),k!=="GET"&&k!=="HEAD"&&(B["content-type"]||B["Content-Type"]||(B["Content-Type"]="application/json"),H=JSON.stringify(h.json===!0?H:h.json))),C.onreadystatechange=w,C.onload=T,C.onerror=A,C.onprogress=function(){},C.onabort=function(){D=!0},C.ontimeout=A,C.open(k,O,!Z,h.username,h.password),Z||(C.withCredentials=!!h.withCredentials),!Z&&h.timeout>0&&(j=setTimeout(function(){if(!D){D=!0,C.abort("timeout");var W=new Error("XMLHttpRequest timeout");W.code="ETIMEDOUT",A(W)}},h.timeout)),C.setRequestHeader)for(R in B)B.hasOwnProperty(R)&&C.setRequestHeader(R,B[R]);else if(h.headers&&!d(h.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in h&&(C.responseType=h.responseType),"beforeSend"in h&&typeof h.beforeSend=="function"&&h.beforeSend(C),C.send(H||null),C}function v(h){try{if(h.responseType==="document")return h.responseXML;var p=h.responseXML&&h.responseXML.documentElement.nodeName==="parsererror";if(h.responseType===""&&!p)return h.responseXML}catch{}return null}function x(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(n,i,a){i.exports=function(){return typeof self.DOMParser!="undefined"?function(l){var c=new self.DOMParser;return c.parseFromString(l,"application/xml")}:typeof self.ActiveXObject!="undefined"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(l){var c=new self.ActiveXObject("Microsoft.XMLDOM");return c.async="false",c.loadXML(l),c}:function(l){var c=document.createElement("div");return c.innerHTML=l,c}}()},{}],189:[function(n,i,a){i.exports=l;var o=Object.prototype.hasOwnProperty;function l(){for(var c={},g=0;g<arguments.length;g++){var m=arguments[g];for(var d in m)o.call(m,d)&&(c[d]=m[d])}return c}},{}],190:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.srcOver=o,a.dstOver=l,a.multiply=c,a.add=g,a.screen=m,a.overlay=d,a.darken=u,a.lighten=f,a.hardLight=s,a.difference=v,a.exclusion=x;function o(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=(h.r*h.a+p.r*p.a*(1-h.a))/w,A=(h.g*h.a+p.g*p.a*(1-h.a))/w,T=(h.b*h.a+p.b*p.a*(1-h.a))/w;return{r:E,g:A,b:T,a:w}}function l(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=(p.r*p.a+h.r*h.a*(1-p.a))/w,A=(p.g*p.a+h.g*h.a*(1-p.a))/w,T=(p.b*p.a+h.b*h.a*(1-p.a))/w;return{r:E,g:A,b:T,a:w}}function c(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(E*C+E*(1-p.a)+C*(1-h.a))/w,k=(A*R+A*(1-p.a)+R*(1-h.a))/w,H=(T*D+T*(1-p.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function g(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(E+C)/w,k=(A+R)/w,H=(T+D)/w;return{r:O,g:k,b:H,a:w}}function m(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(E*p.a+C*h.a-E*C+E*(1-p.a)+C*(1-h.a))/w,k=(A*p.a+R*h.a-A*R+A*(1-p.a)+R*(1-h.a))/w,H=(T*p.a+D*h.a-T*D+T*(1-p.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function d(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(2*C<=p.a?2*E*C+E*(1-p.a)+C*(1-h.a):E*(1+p.a)+C*(1+h.a)-2*C*E-p.a*h.a)/w,k=(2*R<=p.a?2*A*R+A*(1-p.a)+R*(1-h.a):A*(1+p.a)+R*(1+h.a)-2*R*A-p.a*h.a)/w,H=(2*D<=p.a?2*T*D+T*(1-p.a)+D*(1-h.a):T*(1+p.a)+D*(1+h.a)-2*D*T-p.a*h.a)/w;return{r:O,g:k,b:H,a:w}}function u(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(Math.min(E*p.a,C*h.a)+E*(1-p.a)+C*(1-h.a))/w,k=(Math.min(A*p.a,R*h.a)+A*(1-p.a)+R*(1-h.a))/w,H=(Math.min(T*p.a,D*h.a)+T*(1-p.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function f(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(Math.max(E*p.a,C*h.a)+E*(1-p.a)+C*(1-h.a))/w,k=(Math.max(A*p.a,R*h.a)+A*(1-p.a)+R*(1-h.a))/w,H=(Math.max(T*p.a,D*h.a)+T*(1-p.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}function s(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(2*E<=h.a?2*E*C+E*(1-p.a)+C*(1-h.a):E*(1+p.a)+C*(1+h.a)-2*C*E-p.a*h.a)/w,k=(2*A<=h.a?2*A*R+A*(1-p.a)+R*(1-h.a):A*(1+p.a)+R*(1+h.a)-2*R*A-p.a*h.a)/w,H=(2*T<=h.a?2*T*D+T*(1-p.a)+D*(1-h.a):T*(1+p.a)+D*(1+h.a)-2*D*T-p.a*h.a)/w;return{r:O,g:k,b:H,a:w}}function v(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(E+C-2*Math.min(E*p.a,C*h.a))/w,k=(A+R-2*Math.min(A*p.a,R*h.a))/w,H=(T+D-2*Math.min(T*p.a,D*h.a))/w;return{r:O,g:k,b:H,a:w}}function x(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;h.a*=_;var w=p.a+h.a-p.a*h.a,E=h.r*h.a,A=h.g*h.a,T=h.b*h.a,C=p.r*p.a,R=p.g*p.a,D=p.b*p.a,O=(E*p.a+C*h.a-2*E*C+E*(1-p.a)+C*(1-h.a))/w,k=(A*p.a+R*h.a-2*A*R+A*(1-p.a)+R*(1-h.a))/w,H=(T*p.a+D*h.a-2*T*D+T*(1-p.a)+D*(1-h.a))/w;return{r:O,g:k,b:H,a:w}}},{}],191:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var l=n("@jimp/utils"),c=o(n("../constants")),g=o(n("./composite-modes"));function m(d,u,f){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=arguments.length>4?arguments[4]:void 0;if(typeof s=="function"&&(v=s,s={}),!(d instanceof this.constructor))return l.throwError.call(this,"The source must be a Jimp image",v);if(typeof u!="number"||typeof f!="number")return l.throwError.call(this,"x and y must be numbers",v);var x=s,h=x.mode,p=x.opacitySource,_=x.opacityDest;h||(h=c.BLEND_SOURCE_OVER),(typeof p!="number"||p<0||p>1)&&(p=1),(typeof _!="number"||_<0||_>1)&&(_=1);var w=g[h];u=Math.round(u),f=Math.round(f);var E=this;return _!==1&&E.opacity(_),d.scanQuiet(0,0,d.bitmap.width,d.bitmap.height,function(A,T,C){var R=E.getPixelIndex(u+A,f+T,c.EDGE_CROP),D=w({r:this.bitmap.data[C+0]/255,g:this.bitmap.data[C+1]/255,b:this.bitmap.data[C+2]/255,a:this.bitmap.data[C+3]/255},{r:E.bitmap.data[R+0]/255,g:E.bitmap.data[R+1]/255,b:E.bitmap.data[R+2]/255,a:E.bitmap.data[R+3]/255},p);E.bitmap.data[R+0]=this.constructor.limit255(D.r*255),E.bitmap.data[R+1]=this.constructor.limit255(D.g*255),E.bitmap.data[R+2]=this.constructor.limit255(D.b*255),E.bitmap.data[R+3]=this.constructor.limit255(D.a*255)}),(0,l.isNodePattern)(v)&&v.call(this,null,this),this}i.exports=a.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.EDGE_CROP=a.EDGE_WRAP=a.EDGE_EXTEND=a.BLEND_EXCLUSION=a.BLEND_DIFFERENCE=a.BLEND_HARDLIGHT=a.BLEND_LIGHTEN=a.BLEND_DARKEN=a.BLEND_OVERLAY=a.BLEND_SCREEN=a.BLEND_ADD=a.BLEND_MULTIPLY=a.BLEND_DESTINATION_OVER=a.BLEND_SOURCE_OVER=a.VERTICAL_ALIGN_BOTTOM=a.VERTICAL_ALIGN_MIDDLE=a.VERTICAL_ALIGN_TOP=a.HORIZONTAL_ALIGN_RIGHT=a.HORIZONTAL_ALIGN_CENTER=a.HORIZONTAL_ALIGN_LEFT=a.AUTO=void 0;var o=-1;a.AUTO=o;var l=1;a.HORIZONTAL_ALIGN_LEFT=l;var c=2;a.HORIZONTAL_ALIGN_CENTER=c;var g=4;a.HORIZONTAL_ALIGN_RIGHT=g;var m=8;a.VERTICAL_ALIGN_TOP=m;var d=16;a.VERTICAL_ALIGN_MIDDLE=d;var u=32;a.VERTICAL_ALIGN_BOTTOM=u;var f="srcOver";a.BLEND_SOURCE_OVER=f;var s="dstOver";a.BLEND_DESTINATION_OVER=s;var v="multiply";a.BLEND_MULTIPLY=v;var x="add";a.BLEND_ADD=x;var h="screen";a.BLEND_SCREEN=h;var p="overlay";a.BLEND_OVERLAY=p;var _="darken";a.BLEND_DARKEN=_;var w="lighten";a.BLEND_LIGHTEN=w;var E="hardLight";a.BLEND_HARDLIGHT=E;var A="difference";a.BLEND_DIFFERENCE=A;var T="exclusion";a.BLEND_EXCLUSION=T;var C=1;a.EDGE_EXTEND=C;var R=2;a.EDGE_WRAP=R;var D=3;a.EDGE_CROP=D},{}],193:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireWildcard"),c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.addConstants=Oe,a.addJimpMethods=ge,a.jimpEvMethod=De,a.jimpEvChange=pe,Object.defineProperty(a,"addType",{enumerable:!0,get:function(){return Z.addType}}),a.default=void 0;for(var g=c(n("@babel/runtime/helpers/construct")),m=c(n("@babel/runtime/helpers/slicedToArray")),d=c(n("@babel/runtime/helpers/classCallCheck")),u=c(n("@babel/runtime/helpers/createClass")),f=c(n("@babel/runtime/helpers/possibleConstructorReturn")),s=c(n("@babel/runtime/helpers/getPrototypeOf")),v=c(n("@babel/runtime/helpers/assertThisInitialized")),x=c(n("@babel/runtime/helpers/inherits")),h=c(n("@babel/runtime/helpers/defineProperty")),p=c(n("@babel/runtime/helpers/typeof")),_=c(n("fs")),w=c(n("path")),E=c(n("events")),A=n("@jimp/utils"),T=c(n("any-base")),C=c(n("mkdirp")),R=c(n("pixelmatch")),D=c(n("tinycolor2")),O=c(n("./modules/phash")),k=c(n("./request")),H=c(n("./composite")),B=c(n("./utils/promisify")),Z=l(n("./utils/mime")),V=n("./utils/image-bitmap"),j=l(n("./constants")),z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",W=[NaN,NaN],J=2;J<65;J++){var oe=(0,T.default)(T.default.BIN,z.slice(0,J))(new Array(64+1).join("1"));W.push(oe.length)}function le(){}function fe(re){return Object.prototype.toString.call(re).toLowerCase().indexOf("arraybuffer")>-1}function $(re){for(var q=o.alloc(re.byteLength),te=new Uint8Array(re),G=0;G<q.length;++G)q[G]=te[G];return q}function ae(re,q){(0,k.default)(re,function(te,G,P){if(te)return q(te);if("headers"in G&&"location"in G.headers)return re.url=G.headers.location,ae(re,q);if((0,p.default)(P)==="object"&&o.isBuffer(P))return q(null,P);var I="Could not load Buffer from <"+re.url+"> (HTTP: "+G.statusCode+")";return new Error(I)})}function se(re,q){_.default&&typeof _.default.readFile=="function"&&!re.match(/^(http|ftp)s?:\/\/./)?_.default.readFile(re,q):ae({url:re},q)}function ce(re){return re&&(0,p.default)(re)==="object"&&typeof re.width=="number"&&typeof re.height=="number"&&(o.isBuffer(re.data)||re.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&re.data instanceof Uint8ClampedArray)&&(re.data.length===re.width*re.height*4||re.data.length===re.width*re.height*3)}function he(re){if(re.length%3!=0)throw new Error("Buffer length is incorrect");for(var q=o.allocUnsafe(re.length/3*4),te=0,G=0;G<re.length;G++)q[te]=re[G],(G+1)%3==0&&(q[++te]=255),te++;return q}var we={data:null,width:null,height:null},xe=function(re){(0,x.default)(q,re);function q(){for(var te,G=arguments.length,P=new Array(G),I=0;I<G;I++)P[I]=arguments[I];(0,d.default)(this,q),te=(0,f.default)(this,(0,s.default)(q).call(this)),(0,h.default)((0,v.default)(te),"bitmap",we),(0,h.default)((0,v.default)(te),"_background",0),(0,h.default)((0,v.default)(te),"_originalMime",q.MIME_PNG),(0,h.default)((0,v.default)(te),"_exif",null),(0,h.default)((0,v.default)(te),"_rgba",!0),(0,h.default)((0,v.default)(te),"writeAsync",function(ct){return(0,B.default)(te.write,(0,v.default)(te),ct)}),(0,h.default)((0,v.default)(te),"getBase64Async",function(ct){return(0,B.default)(te.getBase64,(0,v.default)(te),ct)}),(0,h.default)((0,v.default)(te),"getBuffer",V.getBuffer),(0,h.default)((0,v.default)(te),"getBufferAsync",V.getBufferAsync),(0,h.default)((0,v.default)(te),"getPixelColour",te.getPixelColor),(0,h.default)((0,v.default)(te),"setPixelColour",te.setPixelColor);var U=(0,v.default)(te),Q=le;fe(P[0])&&(P[0]=$(P[0]));function ye(){for(var ct=arguments.length,X=new Array(ct),Ae=0;Ae<ct;Ae++)X[Ae]=arguments[Ae];var ke=X[0],Je=ke||{};Je.methodName="constructor",setTimeout(function(){var Re;ke&&Q===le?U.emitError("constructor",ke):ke||U.emitMulti("constructor","initialized"),(Re=Q).call.apply(Re,[U].concat(X))},1)}if(typeof P[0]=="number"&&typeof P[1]=="number"||parseInt(P[0],10)&&parseInt(P[1],10)){var Ie=parseInt(P[0],10),be=parseInt(P[1],10);if(Q=P[2],typeof P[2]=="number"&&(te._background=P[2],Q=P[3]),typeof P[2]=="string"&&(te._background=q.cssColorToHex(P[2]),Q=P[3]),typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,f.default)(te,A.throwError.call((0,v.default)(te),"cb must be a function",ye));te.bitmap={data:o.alloc(Ie*be*4),width:Ie,height:be};for(var Pe=0;Pe<te.bitmap.data.length;Pe+=4)te.bitmap.data.writeUInt32BE(te._background,Pe);ye(null,(0,v.default)(te))}else if((0,p.default)(P[0])==="object"&&P[0].url){if(Q=P[1]||le,typeof Q!="function")return(0,f.default)(te,A.throwError.call((0,v.default)(te),"cb must be a function",ye));ae(P[0],function(ct,X){if(ct)return A.throwError.call((0,v.default)(te),ct,ye);te.parseBitmap(X,P[0].url,ye)})}else if(P[0]instanceof q){var ze=P[0];if(Q=P[1],typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,f.default)(te,A.throwError.call((0,v.default)(te),"cb must be a function",ye));te.bitmap={data:o.from(ze.bitmap.data),width:ze.bitmap.width,height:ze.bitmap.height},te._quality=ze._quality,te._deflateLevel=ze._deflateLevel,te._deflateStrategy=ze._deflateStrategy,te._filterType=ze._filterType,te._rgba=ze._rgba,te._background=ze._background,te._originalMime=ze._originalMime,ye(null,(0,v.default)(te))}else if(ce(P[0])){var qe=P[0];Q=P[1]||le;var Ye=qe.width*qe.height*4===qe.data.length,Me=Ye?o.from(qe.data):he(qe.data);te.bitmap={data:Me,width:qe.width,height:qe.height},ye(null,(0,v.default)(te))}else if(typeof P[0]=="string"){var Ge=P[0];if(Q=P[1],typeof Q=="undefined"&&(Q=le),typeof Q!="function")return(0,f.default)(te,A.throwError.call((0,v.default)(te),"cb must be a function",ye));se(Ge,function(ct,X){if(ct)return A.throwError.call((0,v.default)(te),ct,ye);te.parseBitmap(X,Ge,ye)})}else if((0,p.default)(P[0])==="object"&&o.isBuffer(P[0])){var et=P[0];if(Q=P[1],typeof Q!="function")return(0,f.default)(te,A.throwError.call((0,v.default)(te),"cb must be a function",ye));te.parseBitmap(et,null,ye)}else{Q=P[P.length-1],typeof Q!="function"&&(Q=P[P.length-2],typeof Q!="function"&&(Q=le));var ut=q.__extraConstructors.find(function(ct){return ct.test.apply(ct,P)});if(ut)new Promise(function(ct,X){var Ae;return(Ae=ut.run).call.apply(Ae,[(0,v.default)(te),ct,X].concat(P))}).then(function(){return ye(null,(0,v.default)(te))}).catch(ye);else return(0,f.default)(te,A.throwError.call((0,v.default)(te),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",ye))}return te}return(0,u.default)(q,[{key:"parseBitmap",value:function(G,P,I){V.parseBitmap.call(this,G,null,I)}},{key:"rgba",value:function(G,P){return typeof G!="boolean"?A.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",P):(this._rgba=G,(0,A.isNodePattern)(P)&&P.call(this,null,this),this)}},{key:"emitMulti",value:function(G,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I=Object.assign(I,{methodName:G,eventName:P}),this.emit("any",I),G&&this.emit(G,I),this.emit(P,I)}},{key:"emitError",value:function(G,P){this.emitMulti(G,"error",P)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===we?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var G=this._originalMime||q.MIME_PNG;return G}},{key:"getExtension",value:function(){var G=this.getMIME();return Z.getExtension(G)}},{key:"write",value:function(G,P){var I=this;if(!_.default||!_.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof G!="string")return A.throwError.call(this,"path must be a string",P);if(typeof P=="undefined"&&(P=le),typeof P!="function")return A.throwError.call(this,"cb must be a function",P);var U=Z.getType(G)||this.getMIME(),Q=w.default.parse(G);return Q.dir&&C.default.sync(Q.dir),this.getBuffer(U,function(ye,Ie){if(ye)return A.throwError.call(I,ye,P);var be=_.default.createWriteStream(G);be.on("open",function(){be.write(Ie),be.end()}).on("error",function(Pe){return A.throwError.call(I,Pe,P)}),be.on("finish",function(){P.call(I,null,I)})}),this}},{key:"getBase64",value:function(G,P){return G===q.AUTO&&(G=this.getMIME()),typeof G!="string"?A.throwError.call(this,"mime must be a string",P):typeof P!="function"?A.throwError.call(this,"cb must be a function",P):(this.getBuffer(G,function(I,U){if(I)return A.throwError.call(this,I,P);var Q="data:"+G+";base64,"+U.toString("base64");P.call(this,null,Q)}),this)}},{key:"hash",value:function(G,P){if(G=G||64,typeof G=="function"&&(P=G,G=64),typeof G!="number")return A.throwError.call(this,"base must be a number",P);if(G<2||G>64)return A.throwError.call(this,"base must be a number between 2 and 64",P);var I=this.pHash();for(I=(0,T.default)(T.default.BIN,z.slice(0,G))(I);I.length<W[G];)I="0"+I;return(0,A.isNodePattern)(P)&&P.call(this,null,I),I}},{key:"pHash",value:function(){var G=new O.default;return G.getHash(this)}},{key:"distanceFromHash",value:function(G){var P=new O.default,I=P.getHash(this);return P.distance(I,G)}},{key:"getPixelIndex",value:function(G,P,I,U){var Q,ye;if(typeof I=="function"&&typeof U=="undefined"&&(U=I,I=null),I||(I=q.EDGE_EXTEND),typeof G!="number"||typeof P!="number")return A.throwError.call(this,"x and y must be numbers",U);G=Math.round(G),P=Math.round(P),Q=G,ye=P,I===q.EDGE_EXTEND&&(G<0&&(Q=0),G>=this.bitmap.width&&(Q=this.bitmap.width-1),P<0&&(ye=0),P>=this.bitmap.height&&(ye=this.bitmap.height-1)),I===q.EDGE_WRAP&&(G<0&&(Q=this.bitmap.width+G),G>=this.bitmap.width&&(Q=G%this.bitmap.width),P<0&&(Q=this.bitmap.height+P),P>=this.bitmap.height&&(ye=P%this.bitmap.height));var Ie=this.bitmap.width*ye+Q<<2;return(Q<0||Q>=this.bitmap.width)&&(Ie=-1),(ye<0||ye>=this.bitmap.height)&&(Ie=-1),(0,A.isNodePattern)(U)&&U.call(this,null,Ie),Ie}},{key:"getPixelColor",value:function(G,P,I){if(typeof G!="number"||typeof P!="number")return A.throwError.call(this,"x and y must be numbers",I);G=Math.round(G),P=Math.round(P);var U=this.getPixelIndex(G,P),Q=this.bitmap.data.readUInt32BE(U);return(0,A.isNodePattern)(I)&&I.call(this,null,Q),Q}},{key:"setPixelColor",value:function(G,P,I,U){if(typeof G!="number"||typeof P!="number"||typeof I!="number")return A.throwError.call(this,"hex, x and y must be numbers",U);P=Math.round(P),I=Math.round(I);var Q=this.getPixelIndex(P,I);return this.bitmap.data.writeUInt32BE(G,Q),(0,A.isNodePattern)(U)&&U.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var G=0;G<this.bitmap.height;G++)for(var P=0;P<this.bitmap.width;P++){var I=this.bitmap.width*G+P<<2,U=this.bitmap.data[I+3];if(U!==255)return!0}return!1}},{key:"scanIterator",value:function(G,P,I,U){return typeof G!="number"||typeof P!="number"?A.throwError.call(this,"x and y must be numbers"):typeof I!="number"||typeof U!="number"?A.throwError.call(this,"w and h must be numbers"):(0,A.scanIterator)(this,G,P,I,U)}}]),q}(E.default);function Oe(re){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(re).forEach(function(te){var G=(0,m.default)(te,2),P=G[0],I=G[1];q[P]=I})}function ge(re){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;Object.entries(re).forEach(function(te){var G=(0,m.default)(te,2),P=G[0],I=G[1];q.prototype[P]=I})}Oe(j),ge({composite:H.default}),xe.__extraConstructors=[],xe.appendConstructorOption=function(re,q,te){xe.__extraConstructors.push({name:re,test:q,run:te})},xe.read=function(){for(var re=arguments.length,q=new Array(re),te=0;te<re;te++)q[te]=arguments[te];return new Promise(function(G,P){(0,g.default)(xe,q.concat([function(I,U){I?P(I):G(U)}]))})},xe.create=xe.read,xe.rgbaToInt=function(re,q,te,G,P){if(typeof re!="number"||typeof q!="number"||typeof te!="number"||typeof G!="number")return A.throwError.call(this,"r, g, b and a must be numbers",P);if(re<0||re>255)return A.throwError.call(this,"r must be between 0 and 255",P);if((q<0||q>255)&&A.throwError.call(this,"g must be between 0 and 255",P),te<0||te>255)return A.throwError.call(this,"b must be between 0 and 255",P);if(G<0||G>255)return A.throwError.call(this,"a must be between 0 and 255",P);re=Math.round(re),te=Math.round(te),q=Math.round(q),G=Math.round(G);var I=re*Math.pow(256,3)+q*Math.pow(256,2)+te*Math.pow(256,1)+G*Math.pow(256,0);return(0,A.isNodePattern)(P)&&P.call(this,null,I),I},xe.intToRGBA=function(re,q){if(typeof re!="number")return A.throwError.call(this,"i must be a number",q);var te={};return te.r=Math.floor(re/Math.pow(256,3)),te.g=Math.floor((re-te.r*Math.pow(256,3))/Math.pow(256,2)),te.b=Math.floor((re-te.r*Math.pow(256,3)-te.g*Math.pow(256,2))/Math.pow(256,1)),te.a=Math.floor((re-te.r*Math.pow(256,3)-te.g*Math.pow(256,2)-te.b*Math.pow(256,1))/Math.pow(256,0)),(0,A.isNodePattern)(q)&&q.call(this,null,te),te},xe.cssColorToHex=function(re){return re=re||0,typeof re=="number"?Number(re):parseInt((0,D.default)(re).toHex8(),16)},xe.limit255=function(re){return re=Math.max(re,0),re=Math.min(re,255),re},xe.diff=function(re,q){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(re instanceof xe)||!(q instanceof xe))return A.throwError.call(this,"img1 and img2 must be an Jimp images");var G=re.bitmap,P=q.bitmap;if((G.width!==P.width||G.height!==P.height)&&(G.width*G.height>P.width*P.height?re=re.cloneQuiet().resize(P.width,P.height):q=q.cloneQuiet().resize(G.width,G.height)),typeof te!="number"||te<0||te>1)return A.throwError.call(this,"threshold must be a number between 0 and 1");var I=new xe(G.width,G.height,4294967295),U=(0,R.default)(G.data,P.data,I.bitmap.data,I.bitmap.width,I.bitmap.height,{threshold:te});return{percent:U/(I.bitmap.width*I.bitmap.height),image:I}},xe.distance=function(re,q){var te=new O.default,G=te.getHash(re),P=te.getHash(q);return te.distance(G,P)},xe.compareHashes=function(re,q){var te=new O.default;return te.distance(re,q)},xe.colorDiff=function(re,q){var te=function(U){return Math.pow(U,2)},G=Math.max,P=255*255*3;return re.a!==0&&!re.a&&(re.a=255),q.a!==0&&!q.a&&(q.a=255),(G(te(re.r-q.r),te(re.r-q.r-re.a+q.a))+G(te(re.g-q.g),te(re.g-q.g-re.a+q.a))+G(te(re.b-q.b),te(re.b-q.b-re.a+q.a)))/P};function De(re,q,te){var G="before-"+q,P=q.replace(/e$/,"")+"ed";xe.prototype[re]=function(){for(var I,U=arguments.length,Q=new Array(U),ye=0;ye<U;ye++)Q[ye]=arguments[ye];var Ie=Q[te.length-1],be=this;typeof Ie=="function"?(I=function(){for(var qe=arguments.length,Ye=new Array(qe),Me=0;Me<qe;Me++)Ye[Me]=arguments[Me];var Ge=Ye[0],et=Ye[1];Ge?be.emitError(re,Ge):be.emitMulti(re,P,(0,h.default)({},re,et)),Ie.apply(this,Ye)},Q[Q.length-1]=I):I=!1,this.emitMulti(re,G);var Pe;try{Pe=te.apply(this,Q),I||this.emitMulti(re,P,(0,h.default)({},re,Pe))}catch(ze){ze.methodName=re,this.emitError(re,ze)}return Pe},xe.prototype[re+"Quiet"]=te}De("clone","clone",function(re){var q=new xe(this);return(0,A.isNodePattern)(re)&&re.call(q,null,q),q});function pe(re,q){De(re,"change",q)}pe("background",function(re,q){return typeof re!="number"?A.throwError.call(this,"hex must be a hexadecimal rgba value",q):(this._background=re,(0,A.isNodePattern)(q)&&q.call(this,null,this),this)}),pe("scan",function(re,q,te,G,P,I){if(typeof re!="number"||typeof q!="number")return A.throwError.call(this,"x and y must be numbers",I);if(typeof te!="number"||typeof G!="number")return A.throwError.call(this,"w and h must be numbers",I);if(typeof P!="function")return A.throwError.call(this,"f must be a function",I);var U=(0,A.scan)(this,re,q,te,G,P);return(0,A.isNodePattern)(I)&&I.call(this,null,U),U});var de;typeof Bt!="undefined"&&(typeof Bt=="undefined"?"undefined":(0,p.default)(Bt))==="object"&&(de=Bt),typeof self!="undefined"&&(typeof self=="undefined"?"undefined":(0,p.default)(self))==="object"&&(de=self),de.Jimp=xe,de.Buffer=o;var ie=xe;a.default=ie}).call(this,n("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(n,i,a){"use strict";function o(d,u){this.size=this.size||d,this.smallerSize=this.smallerSize||u,g(this.size)}o.prototype.size=32,o.prototype.smallerSize=8,o.prototype.distance=function(d,u){for(var f=0,s=0;s<d.length;s++)d[s]!==u[s]&&f++;return f/d.length},o.prototype.getHash=function(d){d=d.clone().resize(this.size,this.size),d.grayscale();for(var u=[],f=0;f<d.bitmap.width;f++){u[f]=[];for(var s=0;s<d.bitmap.height;s++)u[f][s]=l(d.getPixelColor(f,s)).b}for(var v=m(u,this.size),x=0,h=0;h<this.smallerSize;h++)for(var p=0;p<this.smallerSize;p++)x+=v[h][p];for(var _=x/(this.smallerSize*this.smallerSize),w="",E=0;E<this.smallerSize;E++)for(var A=0;A<this.smallerSize;A++)w+=v[E][A]>_?"1":"0";return w};function l(d){var u={};return u.r=Math.floor(d/Math.pow(256,3)),u.g=Math.floor((d-u.r*Math.pow(256,3))/Math.pow(256,2)),u.b=Math.floor((d-u.r*Math.pow(256,3)-u.g*Math.pow(256,2))/Math.pow(256,1)),u.a=Math.floor((d-u.r*Math.pow(256,3)-u.g*Math.pow(256,2)-u.b*Math.pow(256,1))/Math.pow(256,0)),u}var c=[];function g(d){for(var u=1;u<d;u++)c[u]=1;c[0]=1/Math.sqrt(2)}function m(d,u){for(var f=u,s=[],v=0;v<f;v++){s[v]=[];for(var x=0;x<f;x++){for(var h=0,p=0;p<f;p++)for(var _=0;_<f;_++)h+=Math.cos((2*p+1)/(2*f)*v*Math.PI)*Math.cos((2*_+1)/(2*f)*x*Math.PI)*d[p][_];h*=c[v]*c[x]/4,s[v][x]=h}}return s}i.exports=o},{}],195:[function(n,i,a){(function(o,l){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault"),g=c(n("@babel/runtime/helpers/defineProperty")),m=c(n("@babel/runtime/helpers/extends"));function d(f,s){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(f);s&&(x=x.filter(function(h){return Object.getOwnPropertyDescriptor(f,h).enumerable})),v.push.apply(v,x)}return v}function u(f){for(var s=1;s<arguments.length;s++){var v=arguments[s]!=null?arguments[s]:{};s%2?d(v,!0).forEach(function(x){(0,g.default)(f,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):d(v).forEach(function(x){Object.defineProperty(f,x,Object.getOwnPropertyDescriptor(v,x))})}return f}o.browser,i.exports=function(f,s){var v=new XMLHttpRequest;v.open("GET",f.url,!0),v.responseType="arraybuffer",v.addEventListener("load",function(){if(v.status<400)try{var x=l.from(this.response);s(null,v,x)}catch(h){return s(new Error("Response is not a buffer for url "+f.url+". Error: "+h.message))}else s(new Error("HTTP Status "+v.status+" for url "+f.url))}),v.addEventListener("error",function(x){s(x)}),v.send()}}).call(this,n("_process"),n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireWildcard"),c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.parseBitmap=E,a.getBuffer=T,a.getBufferAsync=C;var g=c(n("@babel/runtime/helpers/slicedToArray")),m=c(n("file-type")),d=c(n("exif-parser")),u=n("@jimp/utils"),f=l(n("../constants")),s=l(n("./mime")),v=c(n("./promisify"));function x(R,D){var O=(0,m.default)(R);return O?O.mime:D?s.getType(D):null}function h(R){return R._exif&&R._exif.tags&&R._exif.tags.Orientation||1}function p(R){var D=R.getWidth(),O=R.getHeight();switch(h(R)){case 1:return null;case 2:return function(k,H){return[D-k-1,H]};case 3:return function(k,H){return[D-k-1,O-H-1]};case 4:return function(k,H){return[k,O-H-1]};case 5:return function(k,H){return[H,k]};case 6:return function(k,H){return[H,O-k-1]};case 7:return function(k,H){return[D-H-1,O-k-1]};case 8:return function(k,H){return[D-H-1,k]};default:return null}}function _(R,D,O,k){for(var H=R.bitmap.data,B=R.bitmap.width,Z=o.alloc(H.length),V=0;V<D;V++)for(var j=0;j<O;j++){var z=k(V,j),W=(0,g.default)(z,2),J=W[0],oe=W[1],le=D*j+V<<2,fe=B*oe+J<<2,$=H.readUInt32BE(fe);Z.writeUInt32BE($,le)}R.bitmap.data=Z,R.bitmap.width=D,R.bitmap.height=O}function w(R){if(!(h(R)<2)){var D=p(R),O=h(R)>4,k=O?R.bitmap.height:R.bitmap.width,H=O?R.bitmap.width:R.bitmap.height;_(R,k,H,D)}}function E(R,D,O){var k=x(R,D);if(typeof k!="string")return O(new Error("Could not find MIME for Buffer <"+D+">"));this._originalMime=k.toLowerCase();try{var H=this.getMIME();if(this.constructor.decoders[H])this.bitmap=this.constructor.decoders[H](R);else return u.throwError.call(this,"Unsupported MIME type: "+H,O)}catch(B){return O.call(this,B,this)}try{this._exif=d.default.create(R).parse(),w(this)}catch{}return O.call(this,null,this),this}function A(R,D){return new R(D.bitmap.width,D.bitmap.height,D._background).composite(D,0,0).bitmap}function T(R,D){if(R===f.AUTO&&(R=this.getMIME()),typeof R!="string")return u.throwError.call(this,"mime must be a string",D);if(typeof D!="function")return u.throwError.call(this,"cb must be a function",D);if(R=R.toLowerCase(),this._rgba&&this.constructor.hasAlpha[R]?this.bitmap.data=o.from(this.bitmap.data):this.bitmap.data=A(this.constructor,this).data,this.constructor.encoders[R]){var O=this.constructor.encoders[R](this);D.call(this,null,O)}else D.call(this,"Unsupported MIME type: "+R);return this}function C(R){return(0,v.default)(T,this,R)}}).call(this,n("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getExtension=a.getType=a.addType=void 0;var o={},l=function(u){return Object.entries(o).find(function(f){return f[1].includes(u)})||[]},c=function(u,f){o[u]=f};a.addType=c;var g=function(u){var f=u.split("/").slice(-1),s=f[f.length-1].split(".").pop(),v=l(s);return v[0]};a.getType=g;var m=function(u){return(o[u.toLowerCase()]||[])[0]};a.getExtension=m},{}],198:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(g,m){for(var d=arguments.length,u=new Array(d>2?d-2:0),f=2;f<d;f++)u[f-2]=arguments[f];return new Promise(function(s,v){u.push(function(x,h){x&&v(x),s(h)}),g.bind(m).apply(void 0,u)})},l=o;a.default=l,i.exports=a.default},{}],199:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireWildcard"),l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=s;var c=l(n("@babel/runtime/helpers/toConsumableArray")),g=l(n("@babel/runtime/helpers/defineProperty")),m=l(n("@babel/runtime/helpers/slicedToArray")),d=o(n("@jimp/core"));function u(v,x){var h=Object.keys(v);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(v);x&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),h.push.apply(h,p)}return h}function f(v){for(var x=1;x<arguments.length;x++){var h=arguments[x]!=null?arguments[x]:{};x%2?u(h,!0).forEach(function(p){(0,g.default)(v,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(h)):u(h).forEach(function(p){Object.defineProperty(v,p,Object.getOwnPropertyDescriptor(h,p))})}return v}function s(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default,h={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function p(E){Object.entries(E).forEach(function(A){var T=(0,m.default)(A,2),C=T[0],R=T[1];h[C]=f({},h[C],{},R)})}function _(E){var A=E();Array.isArray(A.mime)?d.addType.apply(void 0,(0,c.default)(A.mime)):Object.entries(A.mime).forEach(function(T){return d.addType.apply(void 0,(0,c.default)(T))}),delete A.mime,p(A)}function w(E){var A=E(d.jimpEvChange)||{};!A.class&&!A.constants?p({class:A}):p(A)}return v.types&&(v.types.forEach(_),x.decoders=f({},x.decoders,{},h.decoders),x.encoders=f({},x.encoders,{},h.encoders),x.hasAlpha=f({},x.hasAlpha,{},h.hasAlpha)),v.plugins&&v.plugins.forEach(w),(0,d.addJimpMethods)(h.class,x),(0,d.addConstants)(h.constants,x),d.default}i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@jimp/custom")),c=o(n("@jimp/types")),g=o(n("@jimp/plugins")),m=(0,l.default)({types:[c.default],plugins:[g.default]});a.default=m,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/typeof")),c=n("@jimp/utils"),g=function(){return{blit:function(u,f,s,v,x,h,p,_){if(!(u instanceof this.constructor))return c.throwError.call(this,"The source must be a Jimp image",_);if(typeof f!="number"||typeof s!="number")return c.throwError.call(this,"x and y must be numbers",_);if(typeof v=="function")_=v,v=0,x=0,h=u.bitmap.width,p=u.bitmap.height;else if((0,l.default)(v)===(0,l.default)(x)&&(0,l.default)(x)===(0,l.default)(h)&&(0,l.default)(h)===(0,l.default)(p))v=v||0,x=x||0,h=h||u.bitmap.width,p=p||u.bitmap.height;else return c.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",_);f=Math.round(f),s=Math.round(s),v=Math.round(v),x=Math.round(x),h=Math.round(h),p=Math.round(p);var w=this.bitmap.width,E=this.bitmap.height,A=this;return u.scanQuiet(v,x,h,p,function(T,C,R){var D=f+T-v,O=s+C-x;if(D>=0&&O>=0&&w-D>0&&E-O>0){var k=A.getPixelIndex(D,O),H={r:this.bitmap.data[R],g:this.bitmap.data[R+1],b:this.bitmap.data[R+2],a:this.bitmap.data[R+3]},B={r:A.bitmap.data[k],g:A.bitmap.data[k+1],b:A.bitmap.data[k+2],a:A.bitmap.data[k+3]};A.bitmap.data[k]=(H.a*(H.r-B.r)-B.r+255>>8)+B.r,A.bitmap.data[k+1]=(H.a*(H.g-B.g)-B.g+255>>8)+B.g,A.bitmap.data[k+2]=(H.a*(H.b-B.b)-B.b+255>>8)+B.b,A.bitmap.data[k+3]=this.constructor.limit255(B.a+H.a)}}),(0,c.isNodePattern)(_)&&_.call(this,null,this),this}}};a.default=g,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shgTable=a.mulTable=void 0;var o=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];a.mulTable=o;var l=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];a.shgTable=l},{}],203:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=n("./blur-tables"),c=function(){return{blur:function(d,u){if(typeof d!="number")return o.throwError.call(this,"r must be a number",u);if(d<1)return o.throwError.call(this,"r must be greater than 0",u);for(var f,s,v,x,h,p,_,w,E,A,T,C,R,D,O=this.bitmap.width-1,k=this.bitmap.height-1,H=d+1,B=l.mulTable[d],Z=l.shgTable[d],V=[],j=[],z=[],W=[],J=[],oe=[],le=2;le-- >0;){for(C=0,R=0,p=0;p<this.bitmap.height;p++){for(f=this.bitmap.data[R]*H,s=this.bitmap.data[R+1]*H,v=this.bitmap.data[R+2]*H,x=this.bitmap.data[R+3]*H,_=1;_<=d;_++)w=R+((_>O?O:_)<<2),f+=this.bitmap.data[w++],s+=this.bitmap.data[w++],v+=this.bitmap.data[w++],x+=this.bitmap.data[w];for(h=0;h<this.bitmap.width;h++)V[C]=f,j[C]=s,z[C]=v,W[C]=x,p===0&&(J[h]=((w=h+H)<O?w:O)<<2,oe[h]=(w=h-d)>0?w<<2:0),E=R+J[h],A=R+oe[h],f+=this.bitmap.data[E++]-this.bitmap.data[A++],s+=this.bitmap.data[E++]-this.bitmap.data[A++],v+=this.bitmap.data[E++]-this.bitmap.data[A++],x+=this.bitmap.data[E]-this.bitmap.data[A],C++;R+=this.bitmap.width<<2}for(h=0;h<this.bitmap.width;h++){for(T=h,f=V[T]*H,s=j[T]*H,v=z[T]*H,x=W[T]*H,_=1;_<=d;_++)T+=_>k?0:this.bitmap.width,f+=V[T],s+=j[T],v+=z[T],x+=W[T];for(C=h<<2,p=0;p<this.bitmap.height;p++)D=x*B>>>Z,this.bitmap.data[C+3]=D,D>255&&(this.bitmap.data[C+3]=255),D>0?(D=255/D,this.bitmap.data[C]=(f*B>>>Z)*D,this.bitmap.data[C+1]=(s*B>>>Z)*D,this.bitmap.data[C+2]=(v*B>>>Z)*D):(this.bitmap.data[C+2]=0,this.bitmap.data[C+1]=0,this.bitmap.data[C]=0),h===0&&(J[p]=((w=p+H)<k?w:k)*this.bitmap.width,oe[p]=(w=p-d)>0?w*this.bitmap.width:0),E=h+J[p],A=h+oe[p],f+=V[E]-V[A],s+=j[E]-j[A],v+=z[E]-z[A],x+=W[E]-W[A],C+=this.bitmap.width<<2}}return(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=c,i.exports=a.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{circle:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;typeof m=="function"&&(d=m,m={});var u=m.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,f={x:typeof m.x=="number"?m.x:this.bitmap.width/2,y:typeof m.y=="number"?m.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,v,x){var h=Math.sqrt(Math.pow(s-f.x,2)+Math.pow(v-f.y,2));u-h<=0?this.bitmap.data[x+3]=0:u-h<1&&(this.bitmap.data[x+3]=255*(u-h))}),(0,o.isNodePattern)(d)&&d.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],205:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(n("@babel/runtime/helpers/toConsumableArray")),g=l(n("tinycolor2")),m=n("@jimp/utils");function d(h,p,_,w){for(var E=[0,0,0],A=(p.length-1)/2,T=0;T<p.length;T+=1)for(var C=0;C<p[T].length;C+=1){var R=h.getPixelIndex(_+T-A,w+C-A);E[0]+=h.bitmap.data[R]*p[T][C],E[1]+=h.bitmap.data[R+1]*p[T][C],E[2]+=h.bitmap.data[R+2]*p[T][C]}return E}var u=function(p){return typeof p!="undefined"&&p!==null};function f(h){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,_,w){var E=parseInt(.2126*this.bitmap.data[w]+.7152*this.bitmap.data[w+1]+.0722*this.bitmap.data[w+2],10);this.bitmap.data[w]=E,this.bitmap.data[w+1]=E,this.bitmap.data[w+2]=E}),(0,m.isNodePattern)(h)&&h.call(this,null,this),this}function s(h,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(p.r-h.r)*(_/100)+h.r,g:(p.g-h.g)*(_/100)+h.g,b:(p.b-h.b)*(_/100)+h.b}}function v(h,p){var _=this;return!h||!Array.isArray(h)?m.throwError.call(this,"actions must be an array",p):(h=h.map(function(w){return(w.apply==="xor"||w.apply==="mix")&&(w.params[0]=(0,g.default)(w.params[0]).toRgb()),w}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,A){var T={r:_.bitmap.data[A],g:_.bitmap.data[A+1],b:_.bitmap.data[A+2]},C=function(D,O){return _.constructor.limit255(T[D]+O)};h.forEach(function(R){if(R.apply==="mix")T=s(T,R.params[0],R.params[1]);else if(R.apply==="tint")T=s(T,{r:255,g:255,b:255},R.params[0]);else if(R.apply==="shade")T=s(T,{r:0,g:0,b:0},R.params[0]);else if(R.apply==="xor")T={r:T.r^R.params[0].r,g:T.g^R.params[0].g,b:T.b^R.params[0].b};else if(R.apply==="red")T.r=C("r",R.params[0]);else if(R.apply==="green")T.g=C("g",R.params[0]);else if(R.apply==="blue")T.b=C("b",R.params[0]);else{var D;if(R.apply==="hue"&&(R.apply="spin"),T=(0,g.default)(T),!T[R.apply])return m.throwError.call(_,"action "+R.apply+" not supported",p);T=(D=T)[R.apply].apply(D,(0,c.default)(R.params)).toRgb()}}),_.bitmap.data[A]=T.r,_.bitmap.data[A+1]=T.g,_.bitmap.data[A+2]=T.b}),(0,m.isNodePattern)(p)&&p.call(this,null,this),this)}var x=function(){return{brightness:function(_,w){return typeof _!="number"?m.throwError.call(this,"val must be numbers",w):_<-1||_>1?m.throwError.call(this,"val must be a number between -1 and +1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,A,T){_<0?(this.bitmap.data[T]=this.bitmap.data[T]*(1+_),this.bitmap.data[T+1]=this.bitmap.data[T+1]*(1+_),this.bitmap.data[T+2]=this.bitmap.data[T+2]*(1+_)):(this.bitmap.data[T]=this.bitmap.data[T]+(255-this.bitmap.data[T])*_,this.bitmap.data[T+1]=this.bitmap.data[T+1]+(255-this.bitmap.data[T+1])*_,this.bitmap.data[T+2]=this.bitmap.data[T+2]+(255-this.bitmap.data[T+2])*_)}),(0,m.isNodePattern)(w)&&w.call(this,null,this),this)},contrast:function(_,w){if(typeof _!="number")return m.throwError.call(this,"val must be numbers",w);if(_<-1||_>1)return m.throwError.call(this,"val must be a number between -1 and +1",w);var E=(_+1)/(1-_);function A(T){return T=Math.floor(E*(T-127)+127),T<0?0:T>255?255:T}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(T,C,R){this.bitmap.data[R]=A(this.bitmap.data[R]),this.bitmap.data[R+1]=A(this.bitmap.data[R+1]),this.bitmap.data[R+2]=A(this.bitmap.data[R+2])}),(0,m.isNodePattern)(w)&&w.call(this,null,this),this},posterize:function(_,w){return typeof _!="number"?m.throwError.call(this,"n must be numbers",w):(_<2&&(_=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,A,T){this.bitmap.data[T]=Math.floor(this.bitmap.data[T]/255*(_-1))/(_-1)*255,this.bitmap.data[T+1]=Math.floor(this.bitmap.data[T+1]/255*(_-1))/(_-1)*255,this.bitmap.data[T+2]=Math.floor(this.bitmap.data[T+2]/255*(_-1))/(_-1)*255}),(0,m.isNodePattern)(w)&&w.call(this,null,this),this)},greyscale:f,grayscale:f,opacity:function(_,w){return typeof _!="number"?m.throwError.call(this,"f must be a number",w):_<0||_>1?m.throwError.call(this,"f must be a number from 0 to 1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,A,T){var C=this.bitmap.data[T+3]*_;this.bitmap.data[T+3]=C}),(0,m.isNodePattern)(w)&&w.call(this,null,this),this)},sepia:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,A){var T=this.bitmap.data[A],C=this.bitmap.data[A+1],R=this.bitmap.data[A+2];T=T*.393+C*.769+R*.189,C=T*.349+C*.686+R*.168,R=T*.272+C*.534+R*.131,this.bitmap.data[A]=T<255?T:255,this.bitmap.data[A+1]=C<255?C:255,this.bitmap.data[A+2]=R<255?R:255}),(0,m.isNodePattern)(_)&&_.call(this,null,this),this},fade:function(_,w){return typeof _!="number"?m.throwError.call(this,"f must be a number",w):_<0||_>1?m.throwError.call(this,"f must be a number from 0 to 1",w):(this.opacity(1-_),(0,m.isNodePattern)(w)&&w.call(this,null,this),this)},convolution:function(_,w,E){typeof w=="function"&&typeof E=="undefined"&&(E=w,w=null),w||(w=this.constructor.EDGE_EXTEND);var A=o.from(this.bitmap.data),T=_.length,C=_[0].length,R=Math.floor(T/2),D=Math.floor(C/2),O=-R,k=-D,H,B,Z,V,j,z,W,J,oe,le;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(fe,$,ae){V=0,Z=0,B=0;for(var se=O;se<=R;se++)for(var ce=k;ce<=D;ce++)J=fe+ce,oe=$+se,H=_[se+R][ce+D],le=this.getPixelIndex(J,oe,w),le===-1?(W=0,z=0,j=0):(j=this.bitmap.data[le+0],z=this.bitmap.data[le+1],W=this.bitmap.data[le+2]),B+=H*j,Z+=H*z,V+=H*W;B<0&&(B=0),Z<0&&(Z=0),V<0&&(V=0),B>255&&(B=255),Z>255&&(Z=255),V>255&&(V=255),A[ae+0]=B,A[ae+1]=Z,A[ae+2]=V}),this.bitmap.data=A,(0,m.isNodePattern)(E)&&E.call(this,null,this),this},opaque:function(_){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,A){this.bitmap.data[A+3]=255}),(0,m.isNodePattern)(_)&&_.call(this,null,this),this},pixelate:function(_,w,E,A,T,C){if(typeof w=="function")C=w,T=null,A=null,E=null,w=null;else{if(typeof _!="number")return m.throwError.call(this,"size must be a number",C);if(u(w)&&typeof w!="number")return m.throwError.call(this,"x must be a number",C);if(u(E)&&typeof E!="number")return m.throwError.call(this,"y must be a number",C);if(u(A)&&typeof A!="number")return m.throwError.call(this,"w must be a number",C);if(u(T)&&typeof T!="number")return m.throwError.call(this,"h must be a number",C)}var R=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];w=w||0,E=E||0,A=u(A)?A:this.bitmap.width-w,T=u(T)?T:this.bitmap.height-E;var D=this.cloneQuiet();return this.scanQuiet(w,E,A,T,function(O,k,H){O=_*Math.floor(O/_),k=_*Math.floor(k/_);var B=d(D,R,O,k);this.bitmap.data[H]=B[0],this.bitmap.data[H+1]=B[1],this.bitmap.data[H+2]=B[2]}),(0,m.isNodePattern)(C)&&C.call(this,null,this),this},convolute:function(_,w,E,A,T,C){if(!Array.isArray(_))return m.throwError.call(this,"the kernel must be an array",C);if(typeof w=="function")C=w,w=null,E=null,A=null,T=null;else{if(u(w)&&typeof w!="number")return m.throwError.call(this,"x must be a number",C);if(u(E)&&typeof E!="number")return m.throwError.call(this,"y must be a number",C);if(u(A)&&typeof A!="number")return m.throwError.call(this,"w must be a number",C);if(u(T)&&typeof T!="number")return m.throwError.call(this,"h must be a number",C)}var R=(_.length-1)/2;w=u(w)?w:R,E=u(E)?E:R,A=u(A)?A:this.bitmap.width-w,T=u(T)?T:this.bitmap.height-E;var D=this.cloneQuiet();return this.scanQuiet(w,E,A,T,function(O,k,H){var B=d(D,_,O,k);this.bitmap.data[H]=this.constructor.limit255(B[0]),this.bitmap.data[H+1]=this.constructor.limit255(B[1]),this.bitmap.data[H+2]=this.constructor.limit255(B[2])}),(0,m.isNodePattern)(C)&&C.call(this,null,this),this},color:v,colour:v}};a.default=x,i.exports=a.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{contain:function(m,d,u,f,s){if(typeof m!="number"||typeof d!="number")return o.throwError.call(this,"w and h must be numbers",s);typeof u=="string"&&(typeof f=="function"&&typeof s=="undefined"&&(s=f),f=u,u=null),typeof u=="function"&&(typeof s=="undefined"&&(s=u),f=null,u=null),typeof f=="function"&&typeof s=="undefined"&&(s=f,f=null),u=u||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=u&(1<<3)-1,x=u>>3;if(!(v!==0&&!(v&v-1)||x!==0&&!(x&x-1)))return o.throwError.call(this,"only use one flag per alignment direction",s);var h=v>>1,p=x>>1,_=m/d>this.bitmap.width/this.bitmap.height?d/this.bitmap.height:m/this.bitmap.width,w=this.cloneQuiet().scale(_,f);return this.resize(m,d,f),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,A,T){this.bitmap.data.writeUInt32BE(this._background,T)}),this.blit(w,(this.bitmap.width-w.bitmap.width)/2*h,(this.bitmap.height-w.bitmap.height)/2*p),(0,o.isNodePattern)(s)&&s.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],207:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{cover:function(m,d,u,f,s){if(typeof m!="number"||typeof d!="number")return o.throwError.call(this,"w and h must be numbers",s);u&&typeof u=="function"&&typeof s=="undefined"?(s=u,u=null,f=null):typeof f=="function"&&typeof s=="undefined"&&(s=f,f=null),u=u||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var v=u&(1<<3)-1,x=u>>3;if(!(v!==0&&!(v&v-1)||x!==0&&!(x&x-1)))return o.throwError.call(this,"only use one flag per alignment direction",s);var h=v>>1,p=x>>1,_=m/d>this.bitmap.width/this.bitmap.height?m/this.bitmap.width:d/this.bitmap.height;return this.scale(_,f),this.crop((this.bitmap.width-m)/2*h,(this.bitmap.height-d)/2*p,m,d),(0,o.isNodePattern)(s)&&s.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],208:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var c=l(n("@babel/runtime/helpers/typeof")),g=n("@jimp/utils");function m(d){return d("crop",function(u,f,s,v,x){if(typeof u!="number"||typeof f!="number")return g.throwError.call(this,"x and y must be numbers",x);if(typeof s!="number"||typeof v!="number")return g.throwError.call(this,"w and h must be numbers",x);if(u=Math.round(u),f=Math.round(f),s=Math.round(s),v=Math.round(v),u===0&&s===this.bitmap.width){var h=s*f+u<<2,p=h+v*s<<2;this.bitmap.data=this.bitmap.data.slice(h,p)}else{var _=o.allocUnsafe(s*v*4),w=0;this.scanQuiet(u,f,s,v,function(E,A,T){var C=this.bitmap.data.readUInt32BE(T,!0);_.writeUInt32BE(C,w,!0),w+=4}),this.bitmap.data=_}return this.bitmap.width=s,this.bitmap.height=v,(0,g.isNodePattern)(x)&&x.call(this,null,this),this}),{class:{autocrop:function(){for(var f=this.bitmap.width,s=this.bitmap.height,v=1,x,h=0,p=2e-4,_=!0,w=!1,E={north:!1,south:!1,east:!1,west:!1},A=arguments.length,T=new Array(A),C=0;C<A;C++)T[C]=arguments[C];for(var R=0,D=T.length;R<D;R++)if(typeof T[R]=="number"&&(p=T[R]),typeof T[R]=="boolean"&&(_=T[R]),typeof T[R]=="function"&&(x=T[R]),(0,c.default)(T[R])==="object"){var O=T[R];typeof O.tolerance!="undefined"&&(p=O.tolerance),typeof O.cropOnlyFrames!="undefined"&&(_=O.cropOnlyFrames),typeof O.cropSymmetric!="undefined"&&(w=O.cropSymmetric),typeof O.leaveBorder!="undefined"&&(h=O.leaveBorder),typeof O.ignoreSides!="undefined"&&(E=O.ignoreSides)}var k=this.getPixelColor(0,0),H=this.constructor.intToRGBA(k),B=0,Z=0,V=0,j=0;if(k=this.getPixelColor(0,0),!E.north){e:for(var z=0;z<s-v;z++){for(var W=0;W<f;W++){var J=this.getPixelColor(W,z),oe=this.constructor.intToRGBA(J);if(this.constructor.colorDiff(H,oe)>p)break e}B++}}if(k=this.getPixelColor(f,0),!E.east){e:for(var le=0;le<f-v;le++){for(var fe=0+B;fe<s;fe++){var $=this.getPixelColor(le,fe),ae=this.constructor.intToRGBA($);if(this.constructor.colorDiff(H,ae)>p)break e}Z++}}if(k=this.getPixelColor(0,s),!E.south){e:for(var se=s-1;se>=B+v;se--){for(var ce=f-Z-1;ce>=0;ce--){var he=this.getPixelColor(ce,se),we=this.constructor.intToRGBA(he);if(this.constructor.colorDiff(H,we)>p)break e}V++}}if(k=this.getPixelColor(f,s),!E.west){e:for(var xe=f-1;xe>=0+Z+v;xe--){for(var Oe=s-1;Oe>=0+B;Oe--){var ge=this.getPixelColor(xe,Oe),De=this.constructor.intToRGBA(ge);if(this.constructor.colorDiff(H,De)>p)break e}j++}}var pe=!1;if(j-=h,Z-=h,B-=h,V-=h,w){var de=Math.min(Z,j),ie=Math.min(B,V);j=de,Z=de,B=ie,V=ie}j=j>=0?j:0,Z=Z>=0?Z:0,B=B>=0?B:0,V=V>=0?V:0;var re=f-(j+Z),q=s-(V+B);return _?pe=Z!==0&&B!==0&&j!==0&&V!==0:pe=Z!==0||B!==0||j!==0||V!==0,pe&&this.crop(Z,B,re,q),(0,g.isNodePattern)(x)&&x.call(this,null,this),this}}}}i.exports=a.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/typeof")),c=n("@jimp/utils"),g=function(){return{displace:function(u,f,s){if((0,l.default)(u)!=="object"||u.constructor!==this.constructor)return c.throwError.call(this,"The source must be a Jimp image",s);if(typeof f!="number")return c.throwError.call(this,"factor must be a number",s);var v=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,h,p){var _=u.bitmap.data[p]/256*f;_=Math.round(_);var w=this.getPixelIndex(x+_,h);this.bitmap.data[w]=v.bitmap.data[p],this.bitmap.data[w+1]=v.bitmap.data[p+1],this.bitmap.data[w+2]=v.bitmap.data[p+2]}),(0,c.isNodePattern)(s)&&s.call(this,null,this),this}}};a.default=g,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils");function l(g){var m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,u,f){var s=((u&3)<<2)+d%4,v=m[s];this.bitmap.data[f]=Math.min(this.bitmap.data[f]+v,255),this.bitmap.data[f+1]=Math.min(this.bitmap.data[f+1]+v,255),this.bitmap.data[f+2]=Math.min(this.bitmap.data[f+2]+v,255)}),(0,o.isNodePattern)(g)&&g.call(this,null,this),this}var c=function(){return{dither565:l,dither16:l}};a.default=c,i.exports=a.default},{"@jimp/utils":235}],211:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{fisheye:function(){var m=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},u=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(u=d,d={r:2.5});var f=this.cloneQuiet(),s=f.bitmap,v=s.width,x=s.height;return f.scanQuiet(0,0,v,x,function(h,p){var _=h/v,w=p/x,E=Math.sqrt(Math.pow(_-.5,2)+Math.pow(w-.5,2)),A=2*Math.pow(E,d.r),T=(_-.5)/E,C=(w-.5)/E,R=Math.round((A*T+.5)*v),D=Math.round((A*C+.5)*x),O=f.getPixelColor(R,D);m.setPixelColor(O,h,p)}),this.setPixelColor(f.getPixelColor(v/2,x/2),v/2,x/2),(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],212:[function(n,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n("@jimp/utils");function c(m,d,u){if(typeof m!="boolean"||typeof d!="boolean")return l.throwError.call(this,"horizontal and vertical must be Booleans",u);var f=o.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,v,x){var h=m?this.bitmap.width-1-s:s,p=d?this.bitmap.height-1-v:v,_=this.bitmap.width*p+h<<2,w=this.bitmap.data.readUInt32BE(x);f.writeUInt32BE(w,_)}),this.bitmap.data=o.from(f),(0,l.isNodePattern)(u)&&u.call(this,null,this),this}var g=function(){return{flip:c,mirror:c}};a.default=g,i.exports=a.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{gaussian:function(m,d){if(typeof m!="number")return o.throwError.call(this,"r must be a number",d);if(m<1)return o.throwError.call(this,"r must be greater than 0",d);for(var u=Math.ceil(m*2.57),f=u*2+1,s=m*m*2,v=s*Math.PI,x=[],h=0;h<f;h++){x[h]=[];for(var p=0;p<f;p++){var _=Math.pow(p-u,2)+Math.pow(h-u,2);x[h][p]=Math.exp(-_/s)/v}}for(var w=0;w<this.bitmap.height;w++)for(var E=0;E<this.bitmap.width;E++)for(var A=0,T=0,C=0,R=0,D=0,O=0;O<f;O++){for(var k=0;k<f;k++){var H=Math.min(this.bitmap.width-1,Math.max(0,k+E-u)),B=Math.min(this.bitmap.height-1,Math.max(0,O+w-u)),Z=x[O][k],V=B*this.bitmap.width+H<<2;A+=this.bitmap.data[V]*Z,T+=this.bitmap.data[V+1]*Z,C+=this.bitmap.data[V+2]*Z,R+=this.bitmap.data[V+3]*Z,D+=Z}var j=w*this.bitmap.width+E<<2;this.bitmap.data[j]=Math.round(A/D),this.bitmap.data[j+1]=Math.round(T/D),this.bitmap.data[j+2]=Math.round(C/D),this.bitmap.data[j+3]=Math.round(R/D)}return(0,o.isNodePattern)(d)&&d.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],214:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{invert:function(m){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,u,f){this.bitmap.data[f]=255-this.bitmap.data[f],this.bitmap.data[f+1]=255-this.bitmap.data[f+1],this.bitmap.data[f+2]=255-this.bitmap.data[f+2]}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],215:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{mask:function(m){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3?arguments[3]:void 0;if(!(m instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",f);if(typeof d!="number"||typeof u!="number")return o.throwError.call(this,"x and y must be numbers",f);d=Math.round(d),u=Math.round(u);var s=this.bitmap.width,v=this.bitmap.height,x=this;return m.scanQuiet(0,0,m.bitmap.width,m.bitmap.height,function(h,p,_){var w=d+h,E=u+p;if(w>=0&&E>=0&&w<s&&E<v){var A=x.getPixelIndex(w,E),T=this.bitmap.data,C=(T[_+0]+T[_+1]+T[_+2])/3;x.bitmap.data[A+3]*=C/255}}),(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],216:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils");function l(){var d={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,f,s){d.r[this.bitmap.data[s+0]]++,d.g[this.bitmap.data[s+1]]++,d.b[this.bitmap.data[s+2]]++}),d}var c=function(u,f,s){return(u-f)*255/(s-f)},g=function(u){return[u.findIndex(function(f){return f>0}),255-u.slice().reverse().findIndex(function(f){return f>0})]},m=function(){return{normalize:function(f){var s=l.call(this),v={r:g(s.r),g:g(s.g),b:g(s.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,h,p){var _=this.bitmap.data[p+0],w=this.bitmap.data[p+1],E=this.bitmap.data[p+2];this.bitmap.data[p+0]=c(_,v.r[0],v.r[1]),this.bitmap.data[p+1]=c(w,v.g[0],v.g[1]),this.bitmap.data[p+2]=c(E,v.b[0],v.b[1])}),(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=m,i.exports=a.default},{"@jimp/utils":235}],217:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(n("@babel/runtime/helpers/typeof")),g=l(n("@babel/runtime/helpers/toConsumableArray")),m=l(n("path")),d=l(n("load-bmfont")),u=n("@jimp/utils"),f=n("./measure-text");function s(E,A,T,C,R){return R===E.HORIZONTAL_ALIGN_LEFT?0:R===E.HORIZONTAL_ALIGN_CENTER?(C-(0,f.measureText)(A,T))/2:C-(0,f.measureText)(A,T)}function v(E,A,T,C,R){if(R.width>0&&R.height>0){var D=A.pages[R.page];E.blit(D,T+R.xoffset,C+R.yoffset,R.x,R.y,R.width,R.height)}return E}function x(E,A,T,C,R){for(var D=0;D<C.length;D++){var O=void 0;E.chars[C[D]]?O=C[D]:/\s/.test(C[D])?O="":O="?";var k=E.chars[O]||{},H=E.kernings[O];v(this,E,A,T,k||{});var B=H&&H[C[D+1]]?H[C[D+1]]:0;A+=B+(k.xadvance||R)}}function h(E,A,T){var C=A.split(" "),R=[],D=[],O=0;return C.forEach(function(k){var H=[].concat((0,g.default)(D),[k]).join(" "),B=(0,f.measureText)(E,H);B<=T?(B>O&&(O=B),D.push(k)):(R.push(D),D=[k])}),R.push(D),{lines:R,longestLine:O}}function p(E,A,T){var C=T.map(function(R){return E.read(A+"/"+R)});return Promise.all(C)}var _="browser/lib/",w=function(){return{constants:{measureText:f.measureText,measureTextHeight:f.measureTextHeight,FONT_SANS_8_BLACK:m.default.join(_,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:m.default.join(_,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:m.default.join(_,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:m.default.join(_,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:m.default.join(_,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:m.default.join(_,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:m.default.join(_,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:m.default.join(_,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:m.default.join(_,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:m.default.join(_,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:m.default.join(_,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:m.default.join(_,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:m.default.join(_,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(T,C){var R=this;return typeof T!="string"?u.throwError.call(this,"file must be a string",C):new Promise(function(D,O){C=C||function(k,H){k?O(k):D(H)},(0,d.default)(T,function(k,H){var B={},Z={};if(k)return u.throwError.call(R,k,C);for(var V=0;V<H.chars.length;V++)B[String.fromCharCode(H.chars[V].id)]=H.chars[V];for(var j=0;j<H.kernings.length;j++){var z=String.fromCharCode(H.kernings[j].first);Z[z]=Z[z]||{},Z[z][String.fromCharCode(H.kernings[j].second)]=H.kernings[j].amount}p(R,m.default.dirname(T),H.pages).then(function(W){C(null,{chars:B,kernings:Z,pages:W,common:H.common,info:H.info})})})})}},class:{print:function(T,C,R,D,O,k,H){var B=this;if(typeof O=="function"&&typeof H=="undefined"&&(H=O,O=1/0),typeof O=="undefined"&&(O=1/0),typeof k=="function"&&typeof H=="undefined"&&(H=k,k=1/0),typeof k=="undefined"&&(k=1/0),(0,c.default)(T)!=="object")return u.throwError.call(this,"font must be a Jimp loadFont",H);if(typeof C!="number"||typeof R!="number"||typeof O!="number")return u.throwError.call(this,"x, y and maxWidth must be numbers",H);if(typeof O!="number")return u.throwError.call(this,"maxWidth must be a number",H);if(typeof k!="number")return u.throwError.call(this,"maxHeight must be a number",H);var Z,V;if((0,c.default)(D)==="object"&&D.text!==null&&D.text!==void 0){Z=D.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,V=D.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var j=D;D=j.text}else Z=this.constructor.HORIZONTAL_ALIGN_LEFT,V=this.constructor.VERTICAL_ALIGN_TOP,D=D.toString();k!==1/0&&V===this.constructor.VERTICAL_ALIGN_BOTTOM?R+=k-(0,f.measureTextHeight)(T,D,O):k!==1/0&&V===this.constructor.VERTICAL_ALIGN_MIDDLE&&(R+=k/2-(0,f.measureTextHeight)(T,D,O)/2);var z=Object.entries(T.chars)[0][1].xadvance,W=h(T,D,O),J=W.lines,oe=W.longestLine;return J.forEach(function(le){var fe=le.join(" "),$=s(B.constructor,T,fe,O,Z);x.call(B,T,C+$,R,fe,z),R+=T.common.lineHeight}),(0,u.isNodePattern)(H)&&H.call(this,null,this,{x:C+oe,y:R}),this}}}};a.default=w,i.exports=a.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.measureText=o,a.measureTextHeight=l;function o(c,g){for(var m=0,d=0;d<g.length;d++)if(c.chars[g[d]]){var u=c.kernings[g[d]]&&c.kernings[g[d]][g[d+1]]?c.kernings[g[d]][g[d+1]]:0;m+=(c.chars[g[d]].xadvance||0)+u}return m}function l(c,g,m){for(var d=g.split(" "),u="",f=c.common.lineHeight,s=0;s<d.length;s++){var v=u+d[s]+" ",x=o(c,v);x>m&&s>0?(f+=c.common.lineHeight,u=d[s]+" "):u=v}return f}},{}],219:[function(n,i,a){(function(o){var l=n("xhr"),c=function(){},g=n("parse-bmfont-ascii"),m=n("parse-bmfont-xml"),d=n("parse-bmfont-binary"),u=n("./lib/is-binary"),f=n("xtend"),s=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();i.exports=function(h,p){p=typeof p=="function"?p:c,typeof h=="string"?h={uri:h}:h||(h={});var _=h.binary;_&&(h=x(h)),l(h,function(w,E,A){if(w)return p(w);if(!/^2/.test(E.statusCode))return p(new Error("http status code: "+E.statusCode));if(!A)return p(new Error("no body result"));var T=!1;if(v(A)){var C=new Uint8Array(A);A=new o(C,"binary")}u(A)&&(T=!0,typeof A=="string"&&(A=new o(A,"binary"))),T||(o.isBuffer(A)&&(A=A.toString(h.encoding)),A=A.trim());var R;try{var D=E.headers["content-type"];T?R=d(A):/json/.test(D)||A.charAt(0)==="{"?R=JSON.parse(A):/xml/.test(D)||A.charAt(0)==="<"?R=m(A):R=g(A)}catch(O){p(new Error("error parsing font "+O.message)),p=c}p(null,R)})};function v(h){var p=Object.prototype.toString;return p.call(h)==="[object ArrayBuffer]"}function x(h){if(s)return f(h,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest=="undefined")throw new Error("your browser does not support XHR loading");var p=new self.XMLHttpRequest;return p.overrideMimeType("text/plain; charset=x-user-defined"),f({xhr:p},h)}}).call(this,n("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(n,i,a){(function(o){var l=n("buffer-equal"),c=new o([66,77,70,3]);i.exports=function(g){return typeof g=="string"?g.substring(0,3)==="BMF":g.length>4&&l(g.slice(0,4),c)}}).call(this,n("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=n("@jimp/utils"),g=l(n("./modules/resize")),m=l(n("./modules/resize2")),d=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(s,v,x,h){if(typeof s!="number"||typeof v!="number")return c.throwError.call(this,"w and h must be numbers",h);if(typeof x=="function"&&typeof h=="undefined"&&(h=x,x=null),s===this.constructor.AUTO&&v===this.constructor.AUTO)return c.throwError.call(this,"w and h cannot both be set to auto",h);if(s===this.constructor.AUTO&&(s=this.bitmap.width*(v/this.bitmap.height)),v===this.constructor.AUTO&&(v=this.bitmap.height*(s/this.bitmap.width)),s<0||v<0)return c.throwError.call(this,"w and h must be positive numbers",h);if(s=Math.round(s),v=Math.round(v),typeof m.default[x]=="function"){var p={data:o.alloc(s*v*4),width:s,height:v};m.default[x](this.bitmap,p),this.bitmap=p}else{var _=this,w=new g.default(this.bitmap.width,this.bitmap.height,s,v,!0,!0,function(E){_.bitmap.data=o.from(E),_.bitmap.width=s,_.bitmap.height=v});w.resize(this.bitmap.data)}return(0,c.isNodePattern)(h)&&h.call(this,null,this),this}}}};a.default=d,i.exports=a.default}).call(this,n("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(n,i,a){"use strict";function o(l,c,g,m,d,u,f){this.widthOriginal=Math.abs(Math.floor(l)||0),this.heightOriginal=Math.abs(Math.floor(c)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(m)||0),this.colorChannels=d?4:3,this.interpolationPass=Boolean(u),this.resizeCallback=typeof f=="function"?f:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}o.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},o.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},o.prototype._resizeWidthInterpolatedRGBChannels=function(l,c){var g=c?4:3,m=this.ratioWeightWidthPass,d=this.widthBuffer,u=0,f=0,s=0,v=0,x=0,h;for(h=0;u<1/3;h+=g,u+=m)for(f=h,s=0;f<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f]=l[s],d[f+1]=l[s+1],d[f+2]=l[s+2],c&&(d[f+3]=l[s+3]);u-=1/3;var p;for(p=this.widthOriginal-1;u<p;h+=g,u+=m)for(x=u%1,v=1-x,f=h,s=Math.floor(u)*g;f<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f+0]=l[s+0]*v+l[s+g+0]*x,d[f+1]=l[s+1]*v+l[s+g+1]*x,d[f+2]=l[s+2]*v+l[s+g+2]*x,c&&(d[f+3]=l[s+3]*v+l[s+g+3]*x);for(p=this.originalWidthMultipliedByChannels-g;h<this.targetWidthMultipliedByChannels;h+=g)for(f=h,s=p;f<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,f+=this.targetWidthMultipliedByChannels)d[f]=l[s],d[f+1]=l[s+1],d[f+2]=l[s+2],c&&(d[f+3]=l[s+3]);return d},o.prototype._resizeWidthRGBChannels=function(l,c){var g=c?4:3,m=this.ratioWeightWidthPass,d=1/m,u=this.originalWidthMultipliedByChannels-g+1,f=this.targetWidthMultipliedByChannels-g+1,s=this.outputWidthWorkBench,v=this.widthBuffer,x=this.outputWidthWorkBenchOpaquePixelsCount,h=0,p=0,_=0,w=0,E=0,A=0,T=0,C=1,R=0,D=0,O=0,k=0;do{for(E=0;E<this.originalHeightMultipliedByChannels;)s[E++]=0,s[E++]=0,s[E++]=0,c&&(s[E++]=0,x[E/g-1]=0);h=m;do{for(p=1+_-w,C=Math.min(h,p),E=0,A=_;E<this.originalHeightMultipliedByChannels;A+=u)R=l[A],D=l[++A],O=l[++A],k=c?l[++A]:255,s[E++]+=(k?R:0)*C,s[E++]+=(k?D:0)*C,s[E++]+=(k?O:0)*C,c&&(s[E++]+=k*C,x[E/g-1]+=k?C:0);if(h>=p)_+=g,w=_,h-=p;else{w+=h;break}}while(h>0&&_<this.originalWidthMultipliedByChannels);for(E=0,A=T;E<this.originalHeightMultipliedByChannels;A+=f)h=c?x[E/g]:1,C=c?h?1/h:0:d,v[A]=s[E++]*C,v[++A]=s[E++]*C,v[++A]=s[E++]*C,c&&(v[++A]=s[E++]*d);T+=g}while(T<this.targetWidthMultipliedByChannels);return v},o.prototype._resizeHeightRGBChannels=function(l,c){var g=this.ratioWeightHeightPass,m=1/g,d=this.outputHeightWorkBench,u=this.heightBuffer,f=this.outputHeightWorkBenchOpaquePixelsCount,s=0,v=0,x=0,h=0,p=0,_=0,w=0,E=1,A=0,T=0,C=0,R=0;do{for(p=0;p<this.targetWidthMultipliedByChannels;)d[p++]=0,d[p++]=0,d[p++]=0,c&&(d[p++]=0,f[p/4-1]=0);s=g;do{for(v=1+x-h,E=Math.min(s,v),w=x,p=0;p<this.targetWidthMultipliedByChannels;)A=l[w++],T=l[w++],C=l[w++],R=c?l[w++]:255,d[p++]+=(R?A:0)*E,d[p++]+=(R?T:0)*E,d[p++]+=(R?C:0)*E,c&&(d[p++]+=R*E,f[p/4-1]+=R?E:0);if(s>=v)x=w,h=x,s-=v;else{h+=s;break}}while(s>0&&x<this.widthPassResultSize);for(p=0;p<this.targetWidthMultipliedByChannels;)s=c?f[p/4]:1,E=c?s?1/s:0:m,u[_++]=Math.round(d[p++]*E),u[_++]=Math.round(d[p++]*E),u[_++]=Math.round(d[p++]*E),c&&(u[_++]=Math.round(d[p++]*m))}while(_<this.finalResultSize);return u},o.prototype.resizeWidthInterpolatedRGB=function(l){return this._resizeWidthInterpolatedRGBChannels(l,!1)},o.prototype.resizeWidthInterpolatedRGBA=function(l){return this._resizeWidthInterpolatedRGBChannels(l,!0)},o.prototype.resizeWidthRGB=function(l){return this._resizeWidthRGBChannels(l,!1)},o.prototype.resizeWidthRGBA=function(l){return this._resizeWidthRGBChannels(l,!0)},o.prototype.resizeHeightInterpolated=function(l){for(var c=this.ratioWeightHeightPass,g=this.heightBuffer,m=0,d=0,u=0,f=0,s=0,v=0,x=0,h;m<1/3;m+=c)for(u=0;u<this.targetWidthMultipliedByChannels;)g[d++]=Math.round(l[u++]);for(m-=1/3,h=this.heightOriginal-1;m<h;m+=c)for(x=m%1,v=1-x,f=Math.floor(m)*this.targetWidthMultipliedByChannels,s=f+this.targetWidthMultipliedByChannels,u=0;u<this.targetWidthMultipliedByChannels;++u)g[d++]=Math.round(l[f++]*v+l[s++]*x);for(;d<this.finalResultSize;)for(u=0,f=h*this.targetWidthMultipliedByChannels;u<this.targetWidthMultipliedByChannels;++u)g[d++]=Math.round(l[f++]);return g},o.prototype.resizeHeightRGB=function(l){return this._resizeHeightRGBChannels(l,!1)},o.prototype.resizeHeightRGBA=function(l){return this._resizeHeightRGBChannels(l,!0)},o.prototype.resize=function(l){this.resizeCallback(this.resizeHeight(this.resizeWidth(l)))},o.prototype.bypassResizer=function(l){return l},o.prototype.initializeFirstPassBuffers=function(l){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),l||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},o.prototype.initializeSecondPassBuffers=function(l){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),l||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},o.prototype.generateFloatBuffer=function(l){try{return new Float32Array(l)}catch{return[]}},o.prototype.generateFloat64Buffer=function(l){try{return new Float64Array(l)}catch{return[]}},o.prototype.generateUint8Buffer=function(l){try{return new Uint8Array(l)}catch{return[]}},i.exports=o},{}],223:[function(n,i,a){(function(o){"use strict";i.exports={nearestNeighbor:function(c,g){for(var m=c.width,d=c.height,u=g.width,f=g.height,s=c.data,v=g.data,x=0;x<f;x++)for(var h=0;h<u;h++){var p=(x*u+h)*4,_=Math.floor(x*d/f),w=Math.floor(h*m/u),E=(_*m+w)*4;v[p++]=s[E++],v[p++]=s[E++],v[p++]=s[E++],v[p++]=s[E++]}},bilinearInterpolation:function(c,g){for(var m=c.width,d=c.height,u=g.width,f=g.height,s=c.data,v=g.data,x=function(k,H,B,Z,V){return H===Z?B:Math.round((k-H)*V+(Z-k)*B)},h=function(k,H,B,Z,V,j,z,W){var J=(z*m+Z)*4+H,oe=(z*m+V)*4+H,le=x(B,Z,s[J],V,s[oe]);if(W===z)v[k+H]=le;else{J=(W*m+Z)*4+H,oe=(W*m+V)*4+H;var fe=x(B,Z,s[J],V,s[oe]);v[k+H]=x(j,z,le,W,fe)}},p=0;p<f;p++)for(var _=0;_<u;_++){var w=(p*u+_)*4,E=_*m/u,A=Math.floor(E),T=Math.min(Math.ceil(E),m-1),C=p*d/f,R=Math.floor(C),D=Math.min(Math.ceil(C),d-1);h(w,0,E,A,T,C,R,D),h(w,1,E,A,T,C,R,D),h(w,2,E,A,T,C,R,D),h(w,3,E,A,T,C,R,D)}},_interpolate2D:function(c,g,m,d){for(var u=c.data,f=g.data,s=c.width,v=c.height,x=g.width,h=g.height,p=Math.max(1,Math.floor(s/x)),_=x*p,w=Math.max(1,Math.floor(v/h)),E=h*w,A=o.alloc(_*v*4),T=0;T<v;T++)for(var C=0;C<_;C++)for(var R=C*(s-1)/_,D=Math.floor(R),O=R-D,k=(T*s+D)*4,H=(T*_+C)*4,B=0;B<4;B++){var Z=k+B,V=D>0?u[Z-4]:2*u[Z]-u[Z+4],j=u[Z],z=u[Z+4],W=D<s-2?u[Z+8]:2*u[Z+4]-u[Z];A[H+B]=d(V,j,z,W,O)}for(var J=o.alloc(_*E*4),oe=0;oe<E;oe++)for(var le=0;le<_;le++)for(var fe=oe*(v-1)/E,$=Math.floor(fe),ae=fe-$,se=($*_+le)*4,ce=(oe*_+le)*4,he=0;he<4;he++){var we=se+he,xe=$>0?A[we-_*4]:2*A[we]-A[we+_*4],Oe=A[we],ge=A[we+_*4],De=$<v-2?A[we+_*8]:2*A[we+_*4]-A[we];J[ce+he]=d(xe,Oe,ge,De,ae)}var pe=p*w;if(pe>1)for(var de=0;de<h;de++)for(var ie=0;ie<x;ie++){for(var re=0,q=0,te=0,G=0,P=0,I=0;I<w;I++)for(var U=de*w+I,Q=0;Q<p;Q++){var ye=ie*p+Q,Ie=(U*_+ye)*4,be=J[Ie+3];be&&(re+=J[Ie],q+=J[Ie+1],te+=J[Ie+2],P++),G+=be}var Pe=(de*x+ie)*4;f[Pe]=P?Math.round(re/P):0,f[Pe+1]=P?Math.round(q/P):0,f[Pe+2]=P?Math.round(te/P):0,f[Pe+3]=Math.round(G/pe)}else g.data=J},bicubicInterpolation:function(c,g,m){var d=function(f,s,v,x,h){var p=x-v-f+s,_=f-s-p,w=v-f,E=s;return Math.max(0,Math.min(255,p*(h*h*h)+_*(h*h)+w*h+E))};return this._interpolate2D(c,g,m,d)},hermiteInterpolation:function(c,g,m){var d=function(f,s,v,x,h){var p=s,_=.5*(v-f),w=f-2.5*s+2*v-.5*x,E=.5*(x-f)+1.5*(s-v);return Math.max(0,Math.min(255,Math.round(((E*h+w)*h+_)*h+p)))};return this._interpolate2D(c,g,m,d)},bezierInterpolation:function(c,g,m){var d=function(f,s,v,x,h){var p=s+(v-f)/4,_=v-(x-s)/4,w=1-h,E=s*w*w*w,A=3*p*w*w*h,T=3*_*w*h*h,C=v*h*h*h;return Math.max(0,Math.min(255,Math.round(E+A+T+C)))};return this._interpolate2D(c,g,m,d)}}}).call(this,n("buffer").Buffer)},{buffer:48}],224:[function(n,i,a){(function(o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n("@jimp/utils");function c(m,d){m%=360;var u=m*Math.PI/180,f=Math.cos(u),s=Math.sin(u),v=this.bitmap.width,x=this.bitmap.height;if(d===!0||typeof d=="string"){v=Math.ceil(Math.abs(this.bitmap.width*f)+Math.abs(this.bitmap.height*s))+1,x=Math.ceil(Math.abs(this.bitmap.width*s)+Math.abs(this.bitmap.height*f))+1,v%2!=0&&v++,x%2!=0&&x++;var h=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,W,J){this.bitmap.data.writeUInt32BE(this._background,J)});var p=Math.max(v,x,this.bitmap.width,this.bitmap.height);this.resize(p,p,d),this.blit(h,this.bitmap.width/2-h.bitmap.width/2,this.bitmap.height/2-h.bitmap.height/2)}var _=this.bitmap.width,w=this.bitmap.height,E=o.alloc(this.bitmap.data.length);function A(z,W){return function(J,oe){return{x:J+z,y:oe+W}}}for(var T=A(-(_/2),-(w/2)),C=A(_/2+.5,w/2+.5),R=1;R<=w;R++)for(var D=1;D<=_;D++){var O=T(D,R),k=C(f*O.x-s*O.y,f*O.y+s*O.x),H=_*(R-1)+D-1<<2;if(k.x>=0&&k.x<_&&k.y>=0&&k.y<w){var B=(_*(k.y|0)+k.x|0)<<2,Z=this.bitmap.data.readUInt32BE(B);E.writeUInt32BE(Z,H)}else E.writeUInt32BE(this._background,H)}if(this.bitmap.data=E,d===!0||typeof d=="string"){var V=_/2-v/2,j=w/2-x/2;this.crop(V,j,v,x)}}var g=function(){return{rotate:function(u,f,s){return(typeof f=="undefined"||f===null)&&(f=!0),typeof f=="function"&&typeof s=="undefined"&&(s=f,f=!0),typeof u!="number"?l.throwError.call(this,"deg must be a number",s):typeof f!="boolean"&&typeof f!="string"?l.throwError.call(this,"mode must be a boolean or a string",s):(c.call(this,u,f,s),(0,l.isNodePattern)(s)&&s.call(this,null,this),this)}}};a.default=g,i.exports=a.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{scale:function(m,d,u){if(typeof m!="number")return o.throwError.call(this,"f must be a number",u);if(m<0)return o.throwError.call(this,"f must be a positive number",u);typeof d=="function"&&typeof u=="undefined"&&(u=d,d=null);var f=this.bitmap.width*m,s=this.bitmap.height*m;return this.resize(f,s,d),(0,o.isNodePattern)(u)&&u.call(this,null,this),this},scaleToFit:function(m,d,u,f){if(typeof m!="number"||typeof d!="number")return o.throwError.call(this,"w and h must be numbers",f);typeof u=="function"&&typeof f=="undefined"&&(f=u,u=null);var s=m/d>this.bitmap.width/this.bitmap.height?d/this.bitmap.height:m/this.bitmap.width;return this.scale(s,u),(0,o.isNodePattern)(f)&&f.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],226:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{shadow:function(){var m=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(u=d,d={});var f=d,s=f.opacity,v=s===void 0?.7:s,x=f.size,h=x===void 0?1.1:x,p=f.x,_=p===void 0?-25:p,w=f.y,E=w===void 0?25:w,A=f.blur,T=A===void 0?5:A,C=this.clone(),R=this.clone();return R.scan(0,0,R.bitmap.width,R.bitmap.height,function(D,O,k){R.bitmap.data[k]=0,R.bitmap.data[k+1]=0,R.bitmap.data[k+2]=0,R.bitmap.data[k+3]=R.constructor.limit255(R.bitmap.data[k+3]*v),m.bitmap.data[k]=0,m.bitmap.data[k+1]=0,m.bitmap.data[k+2]=0,m.bitmap.data[k+3]=0}),R.resize(R.bitmap.width*h,R.bitmap.height*h).blur(T),this.composite(R,_,E),this.composite(C,0,0),(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],227:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n("@jimp/utils"),l=function(){return{threshold:function(m,d){var u=this,f=m.max,s=m.replace,v=s===void 0?255:s,x=m.autoGreyscale,h=x===void 0?!0:x;return typeof f!="number"?o.throwError.call(this,"max must be a number",d):typeof v!="number"?o.throwError.call(this,"replace must be a number",d):typeof h!="boolean"?o.throwError.call(this,"autoGreyscale must be a boolean",d):(f=this.constructor.limit255(f),v=this.constructor.limit255(v),h&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,_,w){var E=u.bitmap.data[w]<f?u.bitmap.data[w]:v;u.bitmap.data[w]=E,u.bitmap.data[w+1]=E,u.bitmap.data[w+2]=E}),(0,o.isNodePattern)(d)&&d.call(this,null,this),this)}}};a.default=l,i.exports=a.default},{"@jimp/utils":235}],228:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/toConsumableArray")),c=n("timm"),g=o(n("@jimp/plugin-blit")),m=o(n("@jimp/plugin-blur")),d=o(n("@jimp/plugin-circle")),u=o(n("@jimp/plugin-color")),f=o(n("@jimp/plugin-contain")),s=o(n("@jimp/plugin-cover")),v=o(n("@jimp/plugin-crop")),x=o(n("@jimp/plugin-displace")),h=o(n("@jimp/plugin-dither")),p=o(n("@jimp/plugin-fisheye")),_=o(n("@jimp/plugin-flip")),w=o(n("@jimp/plugin-gaussian")),E=o(n("@jimp/plugin-invert")),A=o(n("@jimp/plugin-mask")),T=o(n("@jimp/plugin-normalize")),C=o(n("@jimp/plugin-print")),R=o(n("@jimp/plugin-resize")),D=o(n("@jimp/plugin-rotate")),O=o(n("@jimp/plugin-scale")),k=o(n("@jimp/plugin-shadow")),H=o(n("@jimp/plugin-threshold")),B=[g.default,m.default,d.default,u.default,f.default,s.default,v.default,x.default,h.default,p.default,_.default,w.default,E.default,A.default,T.default,C.default,R.default,D.default,O.default,k.default,H.default],Z=function(j){var z=B.map(function(W){var J=W(j)||{};return!J.class&&!J.constants&&(J={class:J}),J});return c.mergeDeep.apply(void 0,(0,l.default)(z))};a.default=Z,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/defineProperty")),c=o(n("bmp-js")),g=n("@jimp/utils"),m="image/bmp",d="image/x-ms-bmp";function u(h){return(0,g.scan)(h,0,0,h.bitmap.width,h.bitmap.height,function(p,_,w){var E=this.bitmap.data[w+0],A=this.bitmap.data[w+1],T=this.bitmap.data[w+2],C=this.bitmap.data[w+3];this.bitmap.data[w+0]=C,this.bitmap.data[w+1]=T,this.bitmap.data[w+2]=A,this.bitmap.data[w+3]=E}).bitmap}function f(h){return(0,g.scan)({bitmap:h},0,0,h.width,h.height,function(p,_,w){var E=this.bitmap.data[w+0],A=this.bitmap.data[w+1],T=this.bitmap.data[w+2],C=this.bitmap.data[w+3];this.bitmap.data[w+0]=C,this.bitmap.data[w+1]=T,this.bitmap.data[w+2]=A,this.bitmap.data[w+3]=h.is_with_alpha?E:255}).bitmap}var s=function(p){return f(c.default.decode(p))},v=function(p){return c.default.encode(u(p)).data},x=function(){var p,_;return{mime:(0,l.default)({},m,["bmp"]),constants:{MIME_BMP:m,MIME_X_MS_BMP:d},decoders:(p={},(0,l.default)(p,m,s),(0,l.default)(p,d,s),p),encoders:(_={},(0,l.default)(_,m,v),(0,l.default)(_,d,v),_)}};a.default=x,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(n("@babel/runtime/helpers/defineProperty")),g=l(n("omggif")),m=n("gifwrap"),d="image/gif",u=function(){return{mime:(0,c.default)({},d,["gif"]),constants:{MIME_GIF:d},decoders:(0,c.default)({},d,function(s){var v=new g.default.GifReader(s),x=o.alloc(v.width*v.height*4);return v.decodeAndBlitFrameRGBA(0,x),{data:x,width:v.width,height:v.height}}),encoders:(0,c.default)({},d,function(s){var v=new m.BitmapImage(s.bitmap);m.GifUtil.quantizeDekker(v,256);var x=new m.GifFrame(v),h=new m.GifCodec;return h.encodeGif([x],{}).then(function(p){return p.buffer})})}};a.default=u,i.exports=a.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/defineProperty")),c=o(n("jpeg-js")),g=n("@jimp/utils"),m="image/jpeg",d=function(){return{mime:(0,l.default)({},m,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:m},decoders:(0,l.default)({},m,c.default.decode),encoders:(0,l.default)({},m,function(f){return c.default.encode(f.bitmap,f._quality).data}),class:{_quality:100,quality:function(s,v){return typeof s!="number"?g.throwError.call(this,"n must be a number",v):s<0||s>100?g.throwError.call(this,"n must be a number 0 - 100",v):(this._quality=Math.round(s),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)}}}};a.default=d,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(n("@babel/runtime/helpers/defineProperty")),c=n("pngjs"),g=n("@jimp/utils"),m="image/png",d=-1,u=0,f=1,s=2,v=3,x=4,h=function(){return{mime:(0,l.default)({},m,["png"]),constants:{MIME_PNG:m,PNG_FILTER_AUTO:d,PNG_FILTER_NONE:u,PNG_FILTER_SUB:f,PNG_FILTER_UP:s,PNG_FILTER_AVERAGE:v,PNG_FILTER_PATH:x},hasAlpha:(0,l.default)({},m,!0),decoders:(0,l.default)({},m,c.PNG.sync.read),encoders:(0,l.default)({},m,function(_){var w=new c.PNG({width:_.bitmap.width,height:_.bitmap.height});return w.data=_.bitmap.data,c.PNG.sync.write(w,{width:_.bitmap.width,height:_.bitmap.height,deflateLevel:_._deflateLevel,deflateStrategy:_._deflateStrategy,filterType:_._filterType,colorType:typeof _._colorType=="number"?_._colorType:_._rgba?6:2,inputHasAlpha:_._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:d,_colorType:null,deflateLevel:function(w,E){return typeof w!="number"?g.throwError.call(this,"l must be a number",E):w<0||w>9?g.throwError.call(this,"l must be a number 0 - 9",E):(this._deflateLevel=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},deflateStrategy:function(w,E){return typeof w!="number"?g.throwError.call(this,"s must be a number",E):w<0||w>3?g.throwError.call(this,"s must be a number 0 - 3",E):(this._deflateStrategy=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},filterType:function(w,E){return typeof w!="number"?g.throwError.call(this,"n must be a number",E):w<-1||w>4?g.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",E):(this._filterType=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)},colorType:function(w,E){return typeof w!="number"?g.throwError.call(this,"s must be a number",E):w!==0&&w!==2&&w!==4&&w!==6?g.throwError.call(this,"s must be a number 0, 2, 4, 6.",E):(this._colorType=Math.round(w),(0,g.isNodePattern)(E)&&E.call(this,null,this),this)}}}};a.default=h,i.exports=a.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(n,i,a){(function(o){"use strict";var l=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(n("@babel/runtime/helpers/defineProperty")),g=l(n("utif")),m="image/tiff",d=function(){return{mime:(0,c.default)({},m,["tiff","tif"]),constants:{MIME_TIFF:m},decoders:(0,c.default)({},m,function(f){var s=g.default.decode(f),v=s[0];g.default.decodeImages(f,s);var x=g.default.toRGBA8(v);return{data:o.from(x),width:v.t256[0],height:v.t257[0]}}),encoders:(0,c.default)({},m,function(f){var s=g.default.encodeImage(f.bitmap.data,f.bitmap.width,f.bitmap.height);return o.from(s)})}};a.default=d,i.exports=a.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n("timm"),c=o(n("@jimp/jpeg")),g=o(n("@jimp/png")),m=o(n("@jimp/bmp")),d=o(n("@jimp/tiff")),u=o(n("@jimp/gif")),f=function(){return(0,l.mergeDeep)((0,c.default)(),(0,g.default)(),(0,m.default)(),(0,d.default)(),(0,u.default)())};a.default=f,i.exports=a.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(n,i,a){"use strict";var o=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(a,"__esModule",{value:!0}),a.isNodePattern=g,a.throwError=m,a.scan=d,a.scanIterator=u;var l=o(n("@babel/runtime/regenerator")),c=l.default.mark(u);function g(f){if(typeof f=="undefined")return!1;if(typeof f!="function")throw new TypeError("Callback must be a function");return!0}function m(f,s){if(typeof f=="string"&&(f=new Error(f)),typeof s=="function")return s.call(this,f);throw f}function d(f,s,v,x,h,p){s=Math.round(s),v=Math.round(v),x=Math.round(x),h=Math.round(h);for(var _=v;_<v+h;_++)for(var w=s;w<s+x;w++){var E=f.bitmap.width*_+w<<2;p.call(f,w,_,E)}return f}function u(f,s,v,x,h){var p,_,w;return l.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:s=Math.round(s),v=Math.round(v),x=Math.round(x),h=Math.round(h),p=v;case 5:if(!(p<v+h)){A.next=17;break}_=s;case 7:if(!(_<s+x)){A.next=14;break}return w=f.bitmap.width*p+_<<2,A.next=11,{x:_,y:p,idx:w,image:f};case 11:_++,A.next=7;break;case 14:p++,A.next=5;break;case 17:case"end":return A.stop()}},c)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})});var vL=ii(X3()),wn=ii(Ha());var p2={};lD(p2,{ACESFilmicToneMapping:()=>yv,AddEquation:()=>Yu,AddOperation:()=>gT,AdditiveAnimationBlendMode:()=>Rw,AdditiveBlending:()=>zp,AlphaFormat:()=>AT,AlwaysDepth:()=>uT,AlwaysStencilFunc:()=>xA,AmbientLight:()=>B1,AmbientLightProbe:()=>Qb,AnimationClip:()=>jh,AnimationLoader:()=>XC,AnimationMixer:()=>r2,AnimationObjectGroup:()=>n2,AnimationUtils:()=>qn,ArcCurve:()=>p1,ArrayCamera:()=>Qv,ArrowHelper:()=>PR,Audio:()=>W1,AudioAnalyser:()=>Kb,AudioContext:()=>Yb,AudioListener:()=>sR,AudioLoader:()=>qb,AxesHelper:()=>d2,AxisHelper:()=>Jz,BackSide:()=>ir,BasicDepthPacking:()=>vA,BasicShadowMap:()=>gO,BinaryTextureLoader:()=>tU,Bone:()=>y0,BooleanKeyframeTrack:()=>Zl,BoundingBoxHelper:()=>Qz,Box2:()=>Af,Box3:()=>zi,Box3Helper:()=>CR,BoxBufferGeometry:()=>Ts,BoxGeometry:()=>Ts,BoxHelper:()=>c2,BufferAttribute:()=>mn,BufferGeometry:()=>Ht,BufferGeometryLoader:()=>Zb,ByteType:()=>wT,Cache:()=>xf,Camera:()=>As,CameraHelper:()=>AR,CanvasRenderer:()=>rU,CanvasTexture:()=>mf,CatmullRomCurve3:()=>g1,CineonToneMapping:()=>yT,CircleBufferGeometry:()=>Rh,CircleGeometry:()=>Rh,ClampToEdgeWrapping:()=>Wr,Clock:()=>O0,Color:()=>wt,ColorKeyframeTrack:()=>P1,CompressedTexture:()=>u1,CompressedTextureLoader:()=>YC,ConeBufferGeometry:()=>Lh,ConeGeometry:()=>Lh,CubeCamera:()=>a0,CubeReflectionMapping:()=>qu,CubeRefractionMapping:()=>Ju,CubeTexture:()=>lf,CubeTextureLoader:()=>zb,CubeUVReflectionMapping:()=>Kc,CubeUVRefractionMapping:()=>Wp,CubicBezierCurve:()=>S0,CubicBezierCurve3:()=>v1,CubicInterpolant:()=>kb,CullFaceBack:()=>uw,CullFaceFront:()=>q3,CullFaceFrontBack:()=>mO,CullFaceNone:()=>Y3,Curve:()=>Ui,CurvePath:()=>Db,CustomBlending:()=>J3,CustomToneMapping:()=>xT,CylinderBufferGeometry:()=>Vl,CylinderGeometry:()=>Vl,Cylindrical:()=>dR,DataTexture:()=>Hl,DataTexture2DArray:()=>l0,DataTexture3D:()=>qv,DataTextureLoader:()=>Ub,DataUtils:()=>OR,DecrementStencilOp:()=>AO,DecrementWrapStencilOp:()=>RO,DefaultLoadingManager:()=>wf,DepthFormat:()=>Ml,DepthStencilFormat:()=>ef,DepthTexture:()=>h0,DirectionalLight:()=>F1,DirectionalLightHelper:()=>TR,DiscreteInterpolant:()=>Fb,DodecahedronBufferGeometry:()=>Ph,DodecahedronGeometry:()=>Ph,DoubleSide:()=>Xu,DstAlphaFactor:()=>rT,DstColorFactor:()=>aT,DynamicBufferAttribute:()=>Uz,DynamicCopyUsage:()=>WO,DynamicDrawUsage:()=>th,DynamicReadUsage:()=>UO,EdgesGeometry:()=>d1,EdgesHelper:()=>Kz,EllipseCurve:()=>Ih,EqualDepth:()=>cT,EqualStencilFunc:()=>DO,EquirectangularReflectionMapping:()=>Hp,EquirectangularRefractionMapping:()=>Gp,Euler:()=>Il,EventDispatcher:()=>ja,ExtrudeBufferGeometry:()=>Lo,ExtrudeGeometry:()=>Lo,FaceColors:()=>Rz,FileLoader:()=>$a,FlatShading:()=>cw,Float16BufferAttribute:()=>ib,Float32Attribute:()=>Yz,Float32BufferAttribute:()=>Dt,Float64Attribute:()=>qz,Float64BufferAttribute:()=>ab,FloatType:()=>So,Fog:()=>Eh,FogExp2:()=>bh,Font:()=>fU,FontLoader:()=>uU,FrontSide:()=>gs,Frustum:()=>vh,GLBufferAttribute:()=>a2,GLSL1:()=>jO,GLSL3:()=>Dw,GammaEncoding:()=>Mv,GreaterDepth:()=>dT,GreaterEqualDepth:()=>hT,GreaterEqualStencilFunc:()=>FO,GreaterStencilFunc:()=>NO,GridHelper:()=>f2,Group:()=>zl,HalfFloatType:()=>Ku,HemisphereLight:()=>D1,HemisphereLightHelper:()=>bR,HemisphereLightProbe:()=>Jb,IcosahedronBufferGeometry:()=>kh,IcosahedronGeometry:()=>kh,ImageBitmapLoader:()=>Xb,ImageLoader:()=>Zh,ImageUtils:()=>Al,ImmediateRenderObject:()=>cU,IncrementStencilOp:()=>TO,IncrementWrapStencilOp:()=>CO,InstancedBufferAttribute:()=>Gl,InstancedBufferGeometry:()=>H1,InstancedInterleavedBuffer:()=>i2,InstancedMesh:()=>i1,Int16Attribute:()=>Vz,Int16BufferAttribute:()=>nb,Int32Attribute:()=>Zz,Int32BufferAttribute:()=>rb,Int8Attribute:()=>Hz,Int8BufferAttribute:()=>$w,IntType:()=>ET,InterleavedBuffer:()=>Ul,InterleavedBufferAttribute:()=>Cs,Interpolant:()=>Po,InterpolateDiscrete:()=>Xp,InterpolateLinear:()=>Yp,InterpolateSmooth:()=>Ev,InvertStencilOp:()=>LO,JSONLoader:()=>iU,KeepStencilOp:()=>Av,KeyframeTrack:()=>Ma,LOD:()=>bb,LatheBufferGeometry:()=>Fh,LatheGeometry:()=>Fh,Layers:()=>Dl,LensFlare:()=>oU,LessDepth:()=>fT,LessEqualDepth:()=>_v,LessEqualStencilFunc:()=>OO,LessStencilFunc:()=>IO,Light:()=>Ta,LightProbe:()=>Xh,Line:()=>Co,Line3:()=>s2,LineBasicMaterial:()=>Pr,LineCurve:()=>Dh,LineCurve3:()=>Pb,LineDashedMaterial:()=>R1,LineLoop:()=>o1,LinePieces:()=>Az,LineSegments:()=>xi,LineStrip:()=>Tz,LinearEncoding:()=>jr,LinearFilter:()=>Rr,LinearInterpolant:()=>L1,LinearMipMapLinearFilter:()=>wO,LinearMipMapNearestFilter:()=>xO,LinearMipmapLinearFilter:()=>Qu,LinearMipmapNearestFilter:()=>_w,LinearToneMapping:()=>vT,Loader:()=>hi,LoaderUtils:()=>D0,LoadingManager:()=>I1,LoopOnce:()=>dA,LoopPingPong:()=>mA,LoopRepeat:()=>pA,LuminanceAlphaFormat:()=>RT,LuminanceFormat:()=>CT,MOUSE:()=>ba,Material:()=>Lr,MaterialLoader:()=>jb,Math:()=>aN,MathUtils:()=>aN,Matrix3:()=>Sr,Matrix4:()=>Ot,MaxEquation:()=>mw,Mesh:()=>_r,MeshBasicMaterial:()=>Mo,MeshDepthMaterial:()=>f0,MeshDistanceMaterial:()=>c0,MeshFaceMaterial:()=>Pz,MeshLambertMaterial:()=>A1,MeshMatcapMaterial:()=>C1,MeshNormalMaterial:()=>T1,MeshPhongMaterial:()=>S1,MeshPhysicalMaterial:()=>E1,MeshStandardMaterial:()=>P0,MeshToonMaterial:()=>M1,MinEquation:()=>pw,MirroredRepeatWrapping:()=>jp,MixOperation:()=>mT,MultiMaterial:()=>Iz,MultiplyBlending:()=>dw,MultiplyOperation:()=>Up,NearestFilter:()=>Er,NearestMipMapLinearFilter:()=>yO,NearestMipMapNearestFilter:()=>_O,NearestMipmapLinearFilter:()=>bv,NearestMipmapNearestFilter:()=>wv,NeverDepth:()=>lT,NeverStencilFunc:()=>PO,NoBlending:()=>vs,NoColors:()=>Cz,NoToneMapping:()=>Eo,NormalAnimationBlendMode:()=>Sv,NormalBlending:()=>Qc,NotEqualDepth:()=>pT,NotEqualStencilFunc:()=>kO,NumberKeyframeTrack:()=>Wh,Object3D:()=>ln,ObjectLoader:()=>$C,ObjectSpaceNormalMap:()=>yA,OctahedronBufferGeometry:()=>gf,OctahedronGeometry:()=>gf,OneFactor:()=>eT,OneMinusDstAlphaFactor:()=>iT,OneMinusDstColorFactor:()=>oT,OneMinusSrcAlphaFactor:()=>vw,OneMinusSrcColorFactor:()=>nT,OrthographicCamera:()=>Sa,PCFShadowMap:()=>fw,PCFSoftShadowMap:()=>vv,PMREMGenerator:()=>mb,ParametricGeometry:()=>sU,Particle:()=>Oz,ParticleBasicMaterial:()=>Fz,ParticleSystem:()=>Nz,ParticleSystemMaterial:()=>Bz,Path:()=>Oh,PerspectiveCamera:()=>Nn,Plane:()=>qa,PlaneBufferGeometry:()=>uf,PlaneGeometry:()=>uf,PlaneHelper:()=>RR,PointCloud:()=>Dz,PointCloudMaterial:()=>kz,PointLight:()=>k1,PointLightHelper:()=>yR,Points:()=>Ch,PointsMaterial:()=>Wl,PolarGridHelper:()=>ER,PolyhedronBufferGeometry:()=>Ro,PolyhedronGeometry:()=>Ro,PositionalAudio:()=>uR,PropertyBinding:()=>vn,PropertyMixer:()=>$b,QuadraticBezierCurve:()=>M0,QuadraticBezierCurve3:()=>T0,Quaternion:()=>vr,QuaternionKeyframeTrack:()=>yf,QuaternionLinearInterpolant:()=>Bb,REVISION:()=>gv,RGBADepthPacking:()=>_A,RGBAFormat:()=>Vr,RGBAIntegerFormat:()=>kT,RGBA_ASTC_10x10_Format:()=>qT,RGBA_ASTC_10x5_Format:()=>ZT,RGBA_ASTC_10x6_Format:()=>XT,RGBA_ASTC_10x8_Format:()=>YT,RGBA_ASTC_12x10_Format:()=>JT,RGBA_ASTC_12x12_Format:()=>QT,RGBA_ASTC_4x4_Format:()=>BT,RGBA_ASTC_5x4_Format:()=>zT,RGBA_ASTC_5x5_Format:()=>UT,RGBA_ASTC_6x5_Format:()=>HT,RGBA_ASTC_6x6_Format:()=>GT,RGBA_ASTC_8x5_Format:()=>WT,RGBA_ASTC_8x6_Format:()=>VT,RGBA_ASTC_8x8_Format:()=>jT,RGBA_BPTC_Format:()=>KT,RGBA_ETC2_EAC_Format:()=>Cw,RGBA_PVRTC_2BPPV1_Format:()=>Tw,RGBA_PVRTC_4BPPV1_Format:()=>Mw,RGBA_S3TC_DXT1_Format:()=>xw,RGBA_S3TC_DXT3_Format:()=>ww,RGBA_S3TC_DXT5_Format:()=>bw,RGBDEncoding:()=>Iw,RGBEEncoding:()=>Tv,RGBEFormat:()=>LT,RGBFormat:()=>Sl,RGBIntegerFormat:()=>NT,RGBM16Encoding:()=>Pw,RGBM7Encoding:()=>Lw,RGB_ETC1_Format:()=>FT,RGB_ETC2_Format:()=>Aw,RGB_PVRTC_2BPPV1_Format:()=>Sw,RGB_PVRTC_4BPPV1_Format:()=>Ew,RGB_S3TC_DXT1_Format:()=>yw,RGFormat:()=>DT,RGIntegerFormat:()=>OT,RawShaderMaterial:()=>ff,Ray:()=>bs,Raycaster:()=>V1,RectAreaLight:()=>z1,RedFormat:()=>PT,RedIntegerFormat:()=>IT,ReinhardToneMapping:()=>_T,RepeatWrapping:()=>Vp,ReplaceStencilOp:()=>MO,ReverseSubtractEquation:()=>K3,RingBufferGeometry:()=>Bh,RingGeometry:()=>Bh,SRGB8_ALPHA8_ASTC_10x10_Format:()=>fA,SRGB8_ALPHA8_ASTC_10x5_Format:()=>sA,SRGB8_ALPHA8_ASTC_10x6_Format:()=>lA,SRGB8_ALPHA8_ASTC_10x8_Format:()=>uA,SRGB8_ALPHA8_ASTC_12x10_Format:()=>cA,SRGB8_ALPHA8_ASTC_12x12_Format:()=>hA,SRGB8_ALPHA8_ASTC_4x4_Format:()=>$T,SRGB8_ALPHA8_ASTC_5x4_Format:()=>eA,SRGB8_ALPHA8_ASTC_5x5_Format:()=>tA,SRGB8_ALPHA8_ASTC_6x5_Format:()=>nA,SRGB8_ALPHA8_ASTC_6x6_Format:()=>rA,SRGB8_ALPHA8_ASTC_8x5_Format:()=>iA,SRGB8_ALPHA8_ASTC_8x6_Format:()=>aA,SRGB8_ALPHA8_ASTC_8x8_Format:()=>oA,Scene:()=>pf,SceneUtils:()=>aU,ShaderChunk:()=>un,ShaderLib:()=>Ja,ShaderMaterial:()=>To,ShadowMaterial:()=>b1,Shape:()=>Qa,ShapeBufferGeometry:()=>vf,ShapeGeometry:()=>vf,ShapePath:()=>IR,ShapeUtils:()=>Ka,ShortType:()=>bT,Skeleton:()=>x0,SkeletonHelper:()=>u2,SkinnedMesh:()=>_0,SmoothShading:()=>vO,Sphere:()=>xs,SphereBufferGeometry:()=>_f,SphereGeometry:()=>_f,Spherical:()=>k0,SphericalHarmonics3:()=>U1,SplineCurve:()=>A0,SpotLight:()=>N1,SpotLightHelper:()=>vR,Sprite:()=>v0,SpriteMaterial:()=>d0,SrcAlphaFactor:()=>gw,SrcAlphaSaturateFactor:()=>sT,SrcColorFactor:()=>tT,StaticCopyUsage:()=>GO,StaticDrawUsage:()=>eh,StaticReadUsage:()=>zO,StereoCamera:()=>iR,StreamCopyUsage:()=>VO,StreamDrawUsage:()=>BO,StreamReadUsage:()=>HO,StringKeyframeTrack:()=>Xl,SubtractEquation:()=>Q3,SubtractiveBlending:()=>hw,TOUCH:()=>El,TangentSpaceNormalMap:()=>rf,TetrahedronBufferGeometry:()=>zh,TetrahedronGeometry:()=>zh,TextGeometry:()=>lU,Texture:()=>Qn,TextureLoader:()=>Ls,TorusBufferGeometry:()=>Uh,TorusGeometry:()=>Uh,TorusKnotBufferGeometry:()=>Hh,TorusKnotGeometry:()=>Hh,Triangle:()=>cr,TriangleFanDrawMode:()=>EO,TriangleStripDrawMode:()=>bO,TrianglesDrawMode:()=>gA,TubeBufferGeometry:()=>Gh,TubeGeometry:()=>Gh,UVMapping:()=>xv,Uint16Attribute:()=>jz,Uint16BufferAttribute:()=>n0,Uint32Attribute:()=>Xz,Uint32BufferAttribute:()=>r0,Uint8Attribute:()=>Gz,Uint8BufferAttribute:()=>eb,Uint8ClampedAttribute:()=>Wz,Uint8ClampedBufferAttribute:()=>tb,Uniform:()=>N0,UniformsLib:()=>bt,UniformsUtils:()=>FA,UnsignedByteType:()=>_s,UnsignedInt248Type:()=>$u,UnsignedIntType:()=>Zp,UnsignedShort4444Type:()=>ST,UnsignedShort5551Type:()=>MT,UnsignedShort565Type:()=>TT,UnsignedShortType:()=>$c,VSMShadowMap:()=>Jc,Vector2:()=>ft,Vector3:()=>Ce,Vector4:()=>Ln,VectorKeyframeTrack:()=>Vh,Vertex:()=>zz,VertexColors:()=>Lz,VideoTexture:()=>Mb,WebGL1Renderer:()=>xb,WebGLCubeRenderTarget:()=>o0,WebGLMultipleRenderTargets:()=>Fw,WebGLMultisampleRenderTarget:()=>Kp,WebGLRenderTarget:()=>Bi,WebGLRenderTargetCube:()=>nU,WebGLRenderer:()=>Tn,WebGLUtils:()=>_C,WireframeGeometry:()=>w1,WireframeHelper:()=>$z,WrapAroundEnding:()=>qp,XHRLoader:()=>eU,ZeroCurvatureEnding:()=>tf,ZeroFactor:()=>$3,ZeroSlopeEnding:()=>nf,ZeroStencilOp:()=>SO,sRGBEncoding:()=>Tl});var gv="135",ba={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},El={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Y3=0,uw=1,q3=2,mO=3,gO=0,fw=1,vv=2,Jc=3,gs=0,ir=1,Xu=2,cw=1,vO=2,vs=0,Qc=1,zp=2,hw=3,dw=4,J3=5,Yu=100,Q3=101,K3=102,pw=103,mw=104,$3=200,eT=201,tT=202,nT=203,gw=204,vw=205,rT=206,iT=207,aT=208,oT=209,sT=210,lT=0,uT=1,fT=2,_v=3,cT=4,hT=5,dT=6,pT=7,Up=0,mT=1,gT=2,Eo=0,vT=1,_T=2,yT=3,yv=4,xT=5,xv=300,qu=301,Ju=302,Hp=303,Gp=304,Kc=306,Wp=307,Vp=1e3,Wr=1001,jp=1002,Er=1003,wv=1004,_O=1004,bv=1005,yO=1005,Rr=1006,_w=1007,xO=1007,Qu=1008,wO=1008,_s=1009,wT=1010,bT=1011,$c=1012,ET=1013,Zp=1014,So=1015,Ku=1016,ST=1017,MT=1018,TT=1019,$u=1020,AT=1021,Sl=1022,Vr=1023,CT=1024,RT=1025,LT=Vr,Ml=1026,ef=1027,PT=1028,IT=1029,DT=1030,OT=1031,NT=1032,kT=1033,yw=33776,xw=33777,ww=33778,bw=33779,Ew=35840,Sw=35841,Mw=35842,Tw=35843,FT=36196,Aw=37492,Cw=37496,BT=37808,zT=37809,UT=37810,HT=37811,GT=37812,WT=37813,VT=37814,jT=37815,ZT=37816,XT=37817,YT=37818,qT=37819,JT=37820,QT=37821,KT=36492,$T=37840,eA=37841,tA=37842,nA=37843,rA=37844,iA=37845,aA=37846,oA=37847,sA=37848,lA=37849,uA=37850,fA=37851,cA=37852,hA=37853,dA=2200,pA=2201,mA=2202,Xp=2300,Yp=2301,Ev=2302,tf=2400,nf=2401,qp=2402,Sv=2500,Rw=2501,gA=0,bO=1,EO=2,jr=3e3,Tl=3001,Mv=3007,Tv=3002,Lw=3004,Pw=3005,Iw=3006,vA=3200,_A=3201,rf=0,yA=1,SO=0,Av=7680,MO=7681,TO=7682,AO=7683,CO=34055,RO=34056,LO=5386,PO=512,IO=513,DO=514,OO=515,NO=516,kO=517,FO=518,xA=519,eh=35044,th=35048,BO=35040,zO=35045,UO=35049,HO=35041,GO=35046,WO=35050,VO=35042,jO="100",Dw="300 es",ja=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let n=this._listeners[e.type];if(n!==void 0){e.target=this;let i=n.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}},Zr=[];for(let r=0;r<256;r++)Zr[r]=(r<16?"0":"")+r.toString(16);var Cv=1234567,af=Math.PI/180,Jp=180/Math.PI;function Yi(){let r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Zr[r&255]+Zr[r>>8&255]+Zr[r>>16&255]+Zr[r>>24&255]+"-"+Zr[e&255]+Zr[e>>8&255]+"-"+Zr[e>>16&15|64]+Zr[e>>24&255]+"-"+Zr[t&63|128]+Zr[t>>8&255]+"-"+Zr[t>>16&255]+Zr[t>>24&255]+Zr[n&255]+Zr[n>>8&255]+Zr[n>>16&255]+Zr[n>>24&255]).toUpperCase()}function Xr(r,e,t){return Math.max(e,Math.min(t,r))}function Ow(r,e){return(r%e+e)%e}function ZO(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function XO(r,e,t){return r!==e?(t-r)/(e-r):0}function Qp(r,e,t){return(1-t)*r+t*e}function YO(r,e,t,n){return Qp(r,e,1-Math.exp(-t*n))}function qO(r,e=1){return e-Math.abs(Ow(r,e*2)-e)}function JO(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function QO(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function KO(r,e){return r+Math.floor(Math.random()*(e-r+1))}function $O(r,e){return r+Math.random()*(e-r)}function eN(r){return r*(.5-Math.random())}function tN(r){return r!==void 0&&(Cv=r%2147483647),Cv=Cv*16807%2147483647,(Cv-1)/2147483646}function nN(r){return r*af}function rN(r){return r*Jp}function Nw(r){return(r&r-1)==0&&r!==0}function wA(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function bA(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function iN(r,e,t,n,i){let a=Math.cos,o=Math.sin,l=a(t/2),c=o(t/2),g=a((e+n)/2),m=o((e+n)/2),d=a((e-n)/2),u=o((e-n)/2),f=a((n-e)/2),s=o((n-e)/2);switch(i){case"XYX":r.set(l*m,c*d,c*u,l*g);break;case"YZY":r.set(c*u,l*m,c*d,l*g);break;case"ZXZ":r.set(c*d,c*u,l*m,l*g);break;case"XZX":r.set(l*m,c*s,c*f,l*g);break;case"YXY":r.set(c*f,l*m,c*s,l*g);break;case"ZYZ":r.set(c*s,c*f,l*m,l*g);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var aN=Object.freeze({__proto__:null,DEG2RAD:af,RAD2DEG:Jp,generateUUID:Yi,clamp:Xr,euclideanModulo:Ow,mapLinear:ZO,inverseLerp:XO,lerp:Qp,damp:YO,pingpong:qO,smoothstep:JO,smootherstep:QO,randInt:KO,randFloat:$O,randFloatSpread:eN,seededRandom:tN,degToRad:nN,radToDeg:rN,isPowerOfTwo:Nw,ceilPowerOfTwo:wA,floorPowerOfTwo:bA,setQuaternionFromProperEuler:iN}),ft=class{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*i+e.x,this.y=a*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};ft.prototype.isVector2=!0;var Sr=class{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,a,o,l,c,g){let m=this.elements;return m[0]=e,m[1]=i,m[2]=l,m[3]=t,m[4]=a,m[5]=c,m[6]=n,m[7]=o,m[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,a=this.elements,o=n[0],l=n[3],c=n[6],g=n[1],m=n[4],d=n[7],u=n[2],f=n[5],s=n[8],v=i[0],x=i[3],h=i[6],p=i[1],_=i[4],w=i[7],E=i[2],A=i[5],T=i[8];return a[0]=o*v+l*p+c*E,a[3]=o*x+l*_+c*A,a[6]=o*h+l*w+c*T,a[1]=g*v+m*p+d*E,a[4]=g*x+m*_+d*A,a[7]=g*h+m*w+d*T,a[2]=u*v+f*p+s*E,a[5]=u*x+f*_+s*A,a[8]=u*h+f*w+s*T,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],g=e[7],m=e[8];return t*o*m-t*l*g-n*a*m+n*l*c+i*a*g-i*o*c}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],g=e[7],m=e[8],d=m*o-l*g,u=l*c-m*a,f=g*a-o*c,s=t*d+n*u+i*f;if(s===0)return this.set(0,0,0,0,0,0,0,0,0);let v=1/s;return e[0]=d*v,e[1]=(i*g-m*n)*v,e[2]=(l*n-i*o)*v,e[3]=u*v,e[4]=(m*t-i*c)*v,e[5]=(i*a-l*t)*v,e[6]=f*v,e[7]=(n*c-g*t)*v,e[8]=(o*t-n*a)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,o,l){let c=Math.cos(a),g=Math.sin(a);return this.set(n*c,n*g,-n*(c*o+g*l)+o+e,-i*g,i*c,-i*(-g*o+c*l)+l+t,0,0,1),this}scale(e,t){let n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){let t=Math.cos(e),n=Math.sin(e),i=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],g=i[4],m=i[7];return i[0]=t*a+n*c,i[3]=t*o+n*g,i[6]=t*l+n*m,i[1]=-n*a+t*c,i[4]=-n*o+t*g,i[7]=-n*l+t*m,this}translate(e,t){let n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}};Sr.prototype.isMatrix3=!0;function EA(r){if(r.length===0)return-1/0;let e=r[0];for(let t=1,n=r.length;t<n;++t)r[t]>e&&(e=r[t]);return e}var oN={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nh(r,e){return new oN[r](e)}function Rv(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function SA(r,e=0){let t=3735928559^e,n=1103547991^e;for(let i=0,a;i<r.length;i++)a=r.charCodeAt(i),t=Math.imul(t^a,2654435761),n=Math.imul(n^a,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&n)+(t>>>0)}var rh,Al=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{rh===void 0&&(rh=Rv("canvas")),rh.width=e.width,rh.height=e.height;let n=rh.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=rh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},sN=0,Qn=class extends ja{constructor(e=Qn.DEFAULT_IMAGE,t=Qn.DEFAULT_MAPPING,n=Wr,i=Wr,a=Rr,o=Qu,l=Vr,c=_s,g=1,m=jr){super();Object.defineProperty(this,"id",{value:sN++}),this.uuid=Yi(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=g,this.format=l,this.internalFormat=null,this.type=c,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let i=this.image;if(i.uuid===void 0&&(i.uuid=Yi()),!t&&e.images[i.uuid]===void 0){let a;if(Array.isArray(i)){a=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?a.push(kw(i[o].image)):a.push(kw(i[o]))}else a=kw(i);e.images[i.uuid]={uuid:i.uuid,url:a}}n.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==xv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vp:e.x=e.x-Math.floor(e.x);break;case Wr:e.x=e.x<0?0:1;break;case jp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vp:e.y=e.y-Math.floor(e.y);break;case Wr:e.y=e.y<0?0:1;break;case jp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};Qn.DEFAULT_IMAGE=void 0;Qn.DEFAULT_MAPPING=xv;Qn.prototype.isTexture=!0;function kw(r){return typeof HTMLImageElement!="undefined"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&r instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&r instanceof ImageBitmap?Al.getDataURL(r):r.data?{data:Array.prototype.slice.call(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Ln=class{constructor(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a,o=.01,l=.1,c=e.elements,g=c[0],m=c[4],d=c[8],u=c[1],f=c[5],s=c[9],v=c[2],x=c[6],h=c[10];if(Math.abs(m-u)<o&&Math.abs(d-v)<o&&Math.abs(s-x)<o){if(Math.abs(m+u)<l&&Math.abs(d+v)<l&&Math.abs(s+x)<l&&Math.abs(g+f+h-3)<l)return this.set(1,0,0,0),this;t=Math.PI;let _=(g+1)/2,w=(f+1)/2,E=(h+1)/2,A=(m+u)/4,T=(d+v)/4,C=(s+x)/4;return _>w&&_>E?_<o?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(_),i=A/n,a=T/n):w>E?w<o?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(w),n=A/i,a=C/i):E<o?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(E),n=T/a,i=C/a),this.set(n,i,a,t),this}let p=Math.sqrt((x-s)*(x-s)+(d-v)*(d-v)+(u-m)*(u-m));return Math.abs(p)<.001&&(p=1),this.x=(x-s)/p,this.y=(d-v)/p,this.z=(u-m)/p,this.w=Math.acos((g+f+h-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};Ln.prototype.isVector4=!0;var Bi=class extends ja{constructor(e,t,n={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Ln(0,0,e,t),this.scissorTest=!1,this.viewport=new Ln(0,0,e,t),this.texture=new Qn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Rr,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}};Bi.prototype.isWebGLRenderTarget=!0;var Fw=class extends Bi{constructor(e,t,n){super(e,t);let i=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=i.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}};Fw.prototype.isWebGLMultipleRenderTargets=!0;var Kp=class extends Bi{constructor(e,t,n={}){super(e,t,n);this.samples=4,this.ignoreDepthForMultisampleCopy=n.ignoreDepth!==void 0?n.ignoreDepth:!0,this.useRenderToTexture=n.useRenderToTexture!==void 0?n.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}};Kp.prototype.isWebGLMultisampleRenderTarget=!0;var vr=class{constructor(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,i)}static slerpFlat(e,t,n,i,a,o,l){let c=n[i+0],g=n[i+1],m=n[i+2],d=n[i+3],u=a[o+0],f=a[o+1],s=a[o+2],v=a[o+3];if(l===0){e[t+0]=c,e[t+1]=g,e[t+2]=m,e[t+3]=d;return}if(l===1){e[t+0]=u,e[t+1]=f,e[t+2]=s,e[t+3]=v;return}if(d!==v||c!==u||g!==f||m!==s){let x=1-l,h=c*u+g*f+m*s+d*v,p=h>=0?1:-1,_=1-h*h;if(_>Number.EPSILON){let E=Math.sqrt(_),A=Math.atan2(E,h*p);x=Math.sin(x*A)/E,l=Math.sin(l*A)/E}let w=l*p;if(c=c*x+u*w,g=g*x+f*w,m=m*x+s*w,d=d*x+v*w,x===1-l){let E=1/Math.sqrt(c*c+g*g+m*m+d*d);c*=E,g*=E,m*=E,d*=E}}e[t]=c,e[t+1]=g,e[t+2]=m,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,a,o){let l=n[i],c=n[i+1],g=n[i+2],m=n[i+3],d=a[o],u=a[o+1],f=a[o+2],s=a[o+3];return e[t]=l*s+m*d+c*f-g*u,e[t+1]=c*s+m*u+g*d-l*f,e[t+2]=g*s+m*f+l*u-c*d,e[t+3]=m*s-l*d-c*u-g*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let n=e._x,i=e._y,a=e._z,o=e._order,l=Math.cos,c=Math.sin,g=l(n/2),m=l(i/2),d=l(a/2),u=c(n/2),f=c(i/2),s=c(a/2);switch(o){case"XYZ":this._x=u*m*d+g*f*s,this._y=g*f*d-u*m*s,this._z=g*m*s+u*f*d,this._w=g*m*d-u*f*s;break;case"YXZ":this._x=u*m*d+g*f*s,this._y=g*f*d-u*m*s,this._z=g*m*s-u*f*d,this._w=g*m*d+u*f*s;break;case"ZXY":this._x=u*m*d-g*f*s,this._y=g*f*d+u*m*s,this._z=g*m*s+u*f*d,this._w=g*m*d-u*f*s;break;case"ZYX":this._x=u*m*d-g*f*s,this._y=g*f*d+u*m*s,this._z=g*m*s-u*f*d,this._w=g*m*d+u*f*s;break;case"YZX":this._x=u*m*d+g*f*s,this._y=g*f*d+u*m*s,this._z=g*m*s-u*f*d,this._w=g*m*d-u*f*s;break;case"XZY":this._x=u*m*d-g*f*s,this._y=g*f*d-u*m*s,this._z=g*m*s+u*f*d,this._w=g*m*d+u*f*s;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],a=t[8],o=t[1],l=t[5],c=t[9],g=t[2],m=t[6],d=t[10],u=n+l+d;if(u>0){let f=.5/Math.sqrt(u+1);this._w=.25/f,this._x=(m-c)*f,this._y=(a-g)*f,this._z=(o-i)*f}else if(n>l&&n>d){let f=2*Math.sqrt(1+n-l-d);this._w=(m-c)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(a+g)/f}else if(l>d){let f=2*Math.sqrt(1+l-n-d);this._w=(a-g)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(c+m)/f}else{let f=2*Math.sqrt(1+d-n-l);this._w=(o-i)/f,this._x=(a+g)/f,this._y=(c+m)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xr(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,a=e._z,o=e._w,l=t._x,c=t._y,g=t._z,m=t._w;return this._x=n*m+o*l+i*g-a*c,this._y=i*m+o*c+a*l-n*g,this._z=a*m+o*g+n*c-i*l,this._w=o*m-n*l-i*c-a*g,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let n=this._x,i=this._y,a=this._z,o=this._w,l=o*e._w+n*e._x+i*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=n,this._y=i,this._z=a,this;let c=1-l*l;if(c<=Number.EPSILON){let f=1-t;return this._w=f*o+t*this._w,this._x=f*n+t*this._x,this._y=f*i+t*this._y,this._z=f*a+t*this._z,this.normalize(),this._onChangeCallback(),this}let g=Math.sqrt(c),m=Math.atan2(g,l),d=Math.sin((1-t)*m)/g,u=Math.sin(t*m)/g;return this._w=o*d+this._w*u,this._x=n*d+this._x*u,this._y=i*d+this._y*u,this._z=a*d+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(a),n*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};vr.prototype.isQuaternion=!0;var Ce=class{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(MA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(MA.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,a=e.x,o=e.y,l=e.z,c=e.w,g=c*t+o*i-l*n,m=c*n+l*t-a*i,d=c*i+a*n-o*t,u=-a*t-o*n-l*i;return this.x=g*c+u*-a+m*-l-d*-o,this.y=m*c+u*-o+d*-a-g*-l,this.z=d*c+u*-l+g*-o-m*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,a=e.z,o=t.x,l=t.y,c=t.z;return this.x=i*c-a*l,this.y=a*o-n*c,this.z=n*l-i*o,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Bw.copy(this).projectOnVector(e),this.sub(Bw)}reflect(e){return this.sub(Bw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(Xr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};Ce.prototype.isVector3=!0;var Bw=new Ce,MA=new vr,zi=class{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,a=-1/0,o=-1/0,l=-1/0;for(let c=0,g=e.length;c<g;c+=3){let m=e[c],d=e[c+1],u=e[c+2];m<t&&(t=m),d<n&&(n=d),u<i&&(i=u),m>a&&(a=m),d>o&&(o=d),u>l&&(l=u)}return this.min.set(t,n,i),this.max.set(a,o,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,a=-1/0,o=-1/0,l=-1/0;for(let c=0,g=e.count;c<g;c++){let m=e.getX(c),d=e.getY(c),u=e.getZ(c);m<t&&(t=m),d<n&&(n=d),u<i&&(i=u),m>a&&(a=m),d>o&&(o=d),u>l&&(l=u)}return this.min.set(t,n,i),this.max.set(a,o,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=$p.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);let t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),zw.copy(t.boundingBox),zw.applyMatrix4(e.matrixWorld),this.union(zw));let n=e.children;for(let i=0,a=n.length;i<a;i++)this.expandByObject(n[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$p),$p.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e0),Lv.subVectors(this.max,e0),ih.subVectors(e.a,e0),ah.subVectors(e.b,e0),oh.subVectors(e.c,e0),Cl.subVectors(ah,ih),Rl.subVectors(oh,ah),of.subVectors(ih,oh);let t=[0,-Cl.z,Cl.y,0,-Rl.z,Rl.y,0,-of.z,of.y,Cl.z,0,-Cl.x,Rl.z,0,-Rl.x,of.z,0,-of.x,-Cl.y,Cl.x,0,-Rl.y,Rl.x,0,-of.y,of.x,0];return!Uw(t,ih,ah,oh,Lv)||(t=[1,0,0,0,1,0,0,0,1],!Uw(t,ih,ah,oh,Lv))?!1:(Pv.crossVectors(Cl,Rl),t=[Pv.x,Pv.y,Pv.z],Uw(t,ih,ah,oh,Lv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $p.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize($p).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ys[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ys[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ys[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ys[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ys[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ys[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ys[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ys[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ys),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};zi.prototype.isBox3=!0;var ys=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],$p=new Ce,zw=new zi,ih=new Ce,ah=new Ce,oh=new Ce,Cl=new Ce,Rl=new Ce,of=new Ce,e0=new Ce,Lv=new Ce,Pv=new Ce,sf=new Ce;function Uw(r,e,t,n,i){for(let a=0,o=r.length-3;a<=o;a+=3){sf.fromArray(r,a);let l=i.x*Math.abs(sf.x)+i.y*Math.abs(sf.y)+i.z*Math.abs(sf.z),c=e.dot(sf),g=t.dot(sf),m=n.dot(sf);if(Math.max(-Math.max(c,g,m),Math.min(c,g,m))>l)return!1}return!0}var lN=new zi,TA=new Ce,Hw=new Ce,Gw=new Ce,xs=class{constructor(e=new Ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t!==void 0?n.copy(t):lN.setFromPoints(e).getCenter(n);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Gw.subVectors(e,this.center);let t=Gw.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.add(Gw.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return Hw.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(TA.copy(e.center).add(Hw)),this.expandByPoint(TA.copy(e.center).sub(Hw)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},ws=new Ce,Ww=new Ce,Iv=new Ce,Ll=new Ce,Vw=new Ce,Dv=new Ce,jw=new Ce,bs=class{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ws)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=ws.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ws.copy(this.direction).multiplyScalar(t).add(this.origin),ws.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Ww.copy(e).add(t).multiplyScalar(.5),Iv.copy(t).sub(e).normalize(),Ll.copy(this.origin).sub(Ww);let a=e.distanceTo(t)*.5,o=-this.direction.dot(Iv),l=Ll.dot(this.direction),c=-Ll.dot(Iv),g=Ll.lengthSq(),m=Math.abs(1-o*o),d,u,f,s;if(m>0)if(d=o*c-l,u=o*l-c,s=a*m,d>=0)if(u>=-s)if(u<=s){let v=1/m;d*=v,u*=v,f=d*(d+o*u+2*l)+u*(o*d+u+2*c)+g}else u=a,d=Math.max(0,-(o*u+l)),f=-d*d+u*(u+2*c)+g;else u=-a,d=Math.max(0,-(o*u+l)),f=-d*d+u*(u+2*c)+g;else u<=-s?(d=Math.max(0,-(-o*a+l)),u=d>0?-a:Math.min(Math.max(-a,-c),a),f=-d*d+u*(u+2*c)+g):u<=s?(d=0,u=Math.min(Math.max(-a,-c),a),f=u*(u+2*c)+g):(d=Math.max(0,-(o*a+l)),u=d>0?a:Math.min(Math.max(-a,-c),a),f=-d*d+u*(u+2*c)+g);else u=o>0?-a:a,d=Math.max(0,-(o*u+l)),f=-d*d+u*(u+2*c)+g;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(Iv).multiplyScalar(u).add(Ww),f}intersectSphere(e,t){ws.subVectors(e.center,this.origin);let n=ws.dot(this.direction),i=ws.dot(ws)-n*n,a=e.radius*e.radius;if(i>a)return null;let o=Math.sqrt(a-i),l=n-o,c=n+o;return l<0&&c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,o,l,c,g=1/this.direction.x,m=1/this.direction.y,d=1/this.direction.z,u=this.origin;return g>=0?(n=(e.min.x-u.x)*g,i=(e.max.x-u.x)*g):(n=(e.max.x-u.x)*g,i=(e.min.x-u.x)*g),m>=0?(a=(e.min.y-u.y)*m,o=(e.max.y-u.y)*m):(a=(e.max.y-u.y)*m,o=(e.min.y-u.y)*m),n>o||a>i||((a>n||n!==n)&&(n=a),(o<i||i!==i)&&(i=o),d>=0?(l=(e.min.z-u.z)*d,c=(e.max.z-u.z)*d):(l=(e.max.z-u.z)*d,c=(e.min.z-u.z)*d),n>c||l>i)||((l>n||n!==n)&&(n=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,ws)!==null}intersectTriangle(e,t,n,i,a){Vw.subVectors(t,e),Dv.subVectors(n,e),jw.crossVectors(Vw,Dv);let o=this.direction.dot(jw),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Ll.subVectors(this.origin,e);let c=l*this.direction.dot(Dv.crossVectors(Ll,Dv));if(c<0)return null;let g=l*this.direction.dot(Vw.cross(Ll));if(g<0||c+g>o)return null;let m=-l*Ll.dot(jw);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ot=class{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,a,o,l,c,g,m,d,u,f,s,v,x){let h=this.elements;return h[0]=e,h[4]=t,h[8]=n,h[12]=i,h[1]=a,h[5]=o,h[9]=l,h[13]=c,h[2]=g,h[6]=m,h[10]=d,h[14]=u,h[3]=f,h[7]=s,h[11]=v,h[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ot().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/sh.setFromMatrixColumn(e,0).length(),a=1/sh.setFromMatrixColumn(e,1).length(),o=1/sh.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,n=e.x,i=e.y,a=e.z,o=Math.cos(n),l=Math.sin(n),c=Math.cos(i),g=Math.sin(i),m=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){let u=o*m,f=o*d,s=l*m,v=l*d;t[0]=c*m,t[4]=-c*d,t[8]=g,t[1]=f+s*g,t[5]=u-v*g,t[9]=-l*c,t[2]=v-u*g,t[6]=s+f*g,t[10]=o*c}else if(e.order==="YXZ"){let u=c*m,f=c*d,s=g*m,v=g*d;t[0]=u+v*l,t[4]=s*l-f,t[8]=o*g,t[1]=o*d,t[5]=o*m,t[9]=-l,t[2]=f*l-s,t[6]=v+u*l,t[10]=o*c}else if(e.order==="ZXY"){let u=c*m,f=c*d,s=g*m,v=g*d;t[0]=u-v*l,t[4]=-o*d,t[8]=s+f*l,t[1]=f+s*l,t[5]=o*m,t[9]=v-u*l,t[2]=-o*g,t[6]=l,t[10]=o*c}else if(e.order==="ZYX"){let u=o*m,f=o*d,s=l*m,v=l*d;t[0]=c*m,t[4]=s*g-f,t[8]=u*g+v,t[1]=c*d,t[5]=v*g+u,t[9]=f*g-s,t[2]=-g,t[6]=l*c,t[10]=o*c}else if(e.order==="YZX"){let u=o*c,f=o*g,s=l*c,v=l*g;t[0]=c*m,t[4]=v-u*d,t[8]=s*d+f,t[1]=d,t[5]=o*m,t[9]=-l*m,t[2]=-g*m,t[6]=f*d+s,t[10]=u-v*d}else if(e.order==="XZY"){let u=o*c,f=o*g,s=l*c,v=l*g;t[0]=c*m,t[4]=-d,t[8]=g*m,t[1]=u*d+v,t[5]=o*m,t[9]=f*d-s,t[2]=s*d-f,t[6]=l*m,t[10]=v*d+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uN,e,fN)}lookAt(e,t,n){let i=this.elements;return qi.subVectors(e,t),qi.lengthSq()===0&&(qi.z=1),qi.normalize(),Pl.crossVectors(n,qi),Pl.lengthSq()===0&&(Math.abs(n.z)===1?qi.x+=1e-4:qi.z+=1e-4,qi.normalize(),Pl.crossVectors(n,qi)),Pl.normalize(),Ov.crossVectors(qi,Pl),i[0]=Pl.x,i[4]=Ov.x,i[8]=qi.x,i[1]=Pl.y,i[5]=Ov.y,i[9]=qi.y,i[2]=Pl.z,i[6]=Ov.z,i[10]=qi.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,a=this.elements,o=n[0],l=n[4],c=n[8],g=n[12],m=n[1],d=n[5],u=n[9],f=n[13],s=n[2],v=n[6],x=n[10],h=n[14],p=n[3],_=n[7],w=n[11],E=n[15],A=i[0],T=i[4],C=i[8],R=i[12],D=i[1],O=i[5],k=i[9],H=i[13],B=i[2],Z=i[6],V=i[10],j=i[14],z=i[3],W=i[7],J=i[11],oe=i[15];return a[0]=o*A+l*D+c*B+g*z,a[4]=o*T+l*O+c*Z+g*W,a[8]=o*C+l*k+c*V+g*J,a[12]=o*R+l*H+c*j+g*oe,a[1]=m*A+d*D+u*B+f*z,a[5]=m*T+d*O+u*Z+f*W,a[9]=m*C+d*k+u*V+f*J,a[13]=m*R+d*H+u*j+f*oe,a[2]=s*A+v*D+x*B+h*z,a[6]=s*T+v*O+x*Z+h*W,a[10]=s*C+v*k+x*V+h*J,a[14]=s*R+v*H+x*j+h*oe,a[3]=p*A+_*D+w*B+E*z,a[7]=p*T+_*O+w*Z+E*W,a[11]=p*C+_*k+w*V+E*J,a[15]=p*R+_*H+w*j+E*oe,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],o=e[1],l=e[5],c=e[9],g=e[13],m=e[2],d=e[6],u=e[10],f=e[14],s=e[3],v=e[7],x=e[11],h=e[15];return s*(+a*c*d-i*g*d-a*l*u+n*g*u+i*l*f-n*c*f)+v*(+t*c*f-t*g*u+a*o*u-i*o*f+i*g*m-a*c*m)+x*(+t*g*d-t*l*f-a*o*d+n*o*f+a*l*m-n*g*m)+h*(-i*l*m-t*c*d+t*l*u+i*o*d-n*o*u+n*c*m)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],g=e[7],m=e[8],d=e[9],u=e[10],f=e[11],s=e[12],v=e[13],x=e[14],h=e[15],p=d*x*g-v*u*g+v*c*f-l*x*f-d*c*h+l*u*h,_=s*u*g-m*x*g-s*c*f+o*x*f+m*c*h-o*u*h,w=m*v*g-s*d*g+s*l*f-o*v*f-m*l*h+o*d*h,E=s*d*c-m*v*c-s*l*u+o*v*u+m*l*x-o*d*x,A=t*p+n*_+i*w+a*E;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let T=1/A;return e[0]=p*T,e[1]=(v*u*a-d*x*a-v*i*f+n*x*f+d*i*h-n*u*h)*T,e[2]=(l*x*a-v*c*a+v*i*g-n*x*g-l*i*h+n*c*h)*T,e[3]=(d*c*a-l*u*a-d*i*g+n*u*g+l*i*f-n*c*f)*T,e[4]=_*T,e[5]=(m*x*a-s*u*a+s*i*f-t*x*f-m*i*h+t*u*h)*T,e[6]=(s*c*a-o*x*a-s*i*g+t*x*g+o*i*h-t*c*h)*T,e[7]=(o*u*a-m*c*a+m*i*g-t*u*g-o*i*f+t*c*f)*T,e[8]=w*T,e[9]=(s*d*a-m*v*a-s*n*f+t*v*f+m*n*h-t*d*h)*T,e[10]=(o*v*a-s*l*a+s*n*g-t*v*g-o*n*h+t*l*h)*T,e[11]=(m*l*a-o*d*a-m*n*g+t*d*g+o*n*f-t*l*f)*T,e[12]=E*T,e[13]=(m*v*i-s*d*i+s*n*u-t*v*u-m*n*x+t*d*x)*T,e[14]=(s*l*i-o*v*i-s*n*c+t*v*c+o*n*x-t*l*x)*T,e[15]=(o*d*i-m*l*i+m*n*c-t*d*c-o*n*u+t*l*u)*T,this}scale(e){let t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),a=1-n,o=e.x,l=e.y,c=e.z,g=a*o,m=a*l;return this.set(g*o+n,g*l-i*c,g*c+i*l,0,g*l+i*c,m*l+n,m*c-i*o,0,g*c-i*l,m*c+i*o,a*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,o){return this.set(1,n,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,a=t._x,o=t._y,l=t._z,c=t._w,g=a+a,m=o+o,d=l+l,u=a*g,f=a*m,s=a*d,v=o*m,x=o*d,h=l*d,p=c*g,_=c*m,w=c*d,E=n.x,A=n.y,T=n.z;return i[0]=(1-(v+h))*E,i[1]=(f+w)*E,i[2]=(s-_)*E,i[3]=0,i[4]=(f-w)*A,i[5]=(1-(u+h))*A,i[6]=(x+p)*A,i[7]=0,i[8]=(s+_)*T,i[9]=(x-p)*T,i[10]=(1-(u+v))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,a=sh.set(i[0],i[1],i[2]).length(),o=sh.set(i[4],i[5],i[6]).length(),l=sh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Za.copy(this);let g=1/a,m=1/o,d=1/l;return Za.elements[0]*=g,Za.elements[1]*=g,Za.elements[2]*=g,Za.elements[4]*=m,Za.elements[5]*=m,Za.elements[6]*=m,Za.elements[8]*=d,Za.elements[9]*=d,Za.elements[10]*=d,t.setFromRotationMatrix(Za),n.x=a,n.y=o,n.z=l,this}makePerspective(e,t,n,i,a,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let l=this.elements,c=2*a/(t-e),g=2*a/(n-i),m=(t+e)/(t-e),d=(n+i)/(n-i),u=-(o+a)/(o-a),f=-2*o*a/(o-a);return l[0]=c,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=g,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=u,l[14]=f,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,i,a,o){let l=this.elements,c=1/(t-e),g=1/(n-i),m=1/(o-a),d=(t+e)*c,u=(n+i)*g,f=(o+a)*m;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*g,l[9]=0,l[13]=-u,l[2]=0,l[6]=0,l[10]=-2*m,l[14]=-f,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}};Ot.prototype.isMatrix4=!0;var sh=new Ce,Za=new Ot,uN=new Ce(0,0,0),fN=new Ce(1,1,1),Pl=new Ce,Ov=new Ce,qi=new Ce,AA=new Ot,CA=new vr,Il=class{constructor(e=0,t=0,n=0,i=Il.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,a=i[0],o=i[4],l=i[8],c=i[1],g=i[5],m=i[9],d=i[2],u=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(Xr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(u,g),this._z=0);break;case"YXZ":this._x=Math.asin(-Xr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,g)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Xr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,g)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-Xr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(u,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,g));break;case"YZX":this._z=Math.asin(Xr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,g),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(l,f));break;case"XZY":this._z=Math.asin(-Xr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(u,g),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-m,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return AA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(AA,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return CA.setFromEuler(this),this.setFromQuaternion(CA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ce(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Il.prototype.isEuler=!0;Il.DefaultOrder="XYZ";Il.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Dl=class{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},cN=0,RA=new Ce,lh=new vr,Es=new Ot,Nv=new Ce,t0=new Ce,hN=new Ce,dN=new vr,LA=new Ce(1,0,0),PA=new Ce(0,1,0),IA=new Ce(0,0,1),pN={type:"added"},DA={type:"removed"},ln=class extends ja{constructor(){super();Object.defineProperty(this,"id",{value:cN++}),this.uuid=Yi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ln.DefaultUp.clone();let e=new Ce,t=new Il,n=new vr,i=new Ce(1,1,1);function a(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ot},normalMatrix:{value:new Sr}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=ln.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Dl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lh.setFromAxisAngle(e,t),this.quaternion.multiply(lh),this}rotateOnWorldAxis(e,t){return lh.setFromAxisAngle(e,t),this.quaternion.premultiply(lh),this}rotateX(e){return this.rotateOnAxis(LA,e)}rotateY(e){return this.rotateOnAxis(PA,e)}rotateZ(e){return this.rotateOnAxis(IA,e)}translateOnAxis(e,t){return RA.copy(e).applyQuaternion(this.quaternion),this.position.add(RA.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(LA,e)}translateY(e){return this.translateOnAxis(PA,e)}translateZ(e){return this.translateOnAxis(IA,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Es.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Nv.copy(e):Nv.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),t0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Es.lookAt(t0,Nv,this.up):Es.lookAt(Nv,t0,this.up),this.quaternion.setFromRotationMatrix(Es),i&&(Es.extractRotation(i.matrixWorld),lh.setFromRotationMatrix(Es),this.quaternion.premultiply(lh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pN)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(DA)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(DA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Es.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Es.multiply(e.parent.matrixWorld)),e.applyMatrix4(Es),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(t0,e,hN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(t0,dN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);let l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){let c=l.shapes;if(Array.isArray(c))for(let g=0,m=c.length;g<m;g++){let d=c[g];a(e.shapes,d)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let l=[];for(let c=0,g=this.material.length;c<g;c++)l.push(a(e.materials,this.material[c]));i.material=l}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){let c=this.animations[l];i.animations.push(a(e.animations,c))}}if(t){let l=o(e.geometries),c=o(e.materials),g=o(e.textures),m=o(e.images),d=o(e.shapes),u=o(e.skeletons),f=o(e.animations);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),g.length>0&&(n.textures=g),m.length>0&&(n.images=m),d.length>0&&(n.shapes=d),u.length>0&&(n.skeletons=u),f.length>0&&(n.animations=f)}return n.object=i,n;function o(l){let c=[];for(let g in l){let m=l[g];delete m.metadata,c.push(m)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){let i=e.children[n];this.add(i.clone())}return this}};ln.DefaultUp=new Ce(0,1,0);ln.DefaultMatrixAutoUpdate=!0;ln.prototype.isObject3D=!0;var Xa=new Ce,Ss=new Ce,Zw=new Ce,Ms=new Ce,uh=new Ce,fh=new Ce,OA=new Ce,Xw=new Ce,Yw=new Ce,qw=new Ce,cr=class{constructor(e=new Ce,t=new Ce,n=new Ce){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Xa.subVectors(e,t),i.cross(Xa);let a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Xa.subVectors(i,t),Ss.subVectors(n,t),Zw.subVectors(e,t);let o=Xa.dot(Xa),l=Xa.dot(Ss),c=Xa.dot(Zw),g=Ss.dot(Ss),m=Ss.dot(Zw),d=o*g-l*l;if(d===0)return a.set(-2,-1,-1);let u=1/d,f=(g*c-l*m)*u,s=(o*m-l*c)*u;return a.set(1-f-s,s,f)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Ms),Ms.x>=0&&Ms.y>=0&&Ms.x+Ms.y<=1}static getUV(e,t,n,i,a,o,l,c){return this.getBarycoord(e,t,n,i,Ms),c.set(0,0),c.addScaledVector(a,Ms.x),c.addScaledVector(o,Ms.y),c.addScaledVector(l,Ms.z),c}static isFrontFacing(e,t,n,i){return Xa.subVectors(n,t),Ss.subVectors(e,t),Xa.cross(Ss).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xa.subVectors(this.c,this.b),Ss.subVectors(this.a,this.b),Xa.cross(Ss).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return cr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return cr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,a){return cr.getUV(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return cr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return cr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,i=this.b,a=this.c,o,l;uh.subVectors(i,n),fh.subVectors(a,n),Xw.subVectors(e,n);let c=uh.dot(Xw),g=fh.dot(Xw);if(c<=0&&g<=0)return t.copy(n);Yw.subVectors(e,i);let m=uh.dot(Yw),d=fh.dot(Yw);if(m>=0&&d<=m)return t.copy(i);let u=c*d-m*g;if(u<=0&&c>=0&&m<=0)return o=c/(c-m),t.copy(n).addScaledVector(uh,o);qw.subVectors(e,a);let f=uh.dot(qw),s=fh.dot(qw);if(s>=0&&f<=s)return t.copy(a);let v=f*g-c*s;if(v<=0&&g>=0&&s<=0)return l=g/(g-s),t.copy(n).addScaledVector(fh,l);let x=m*s-f*d;if(x<=0&&d-m>=0&&f-s>=0)return OA.subVectors(a,i),l=(d-m)/(d-m+(f-s)),t.copy(i).addScaledVector(OA,l);let h=1/(x+v+u);return o=v*h,l=u*h,t.copy(n).addScaledVector(uh,o).addScaledVector(fh,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},mN=0,Lr=class extends ja{constructor(){super();Object.defineProperty(this,"id",{value:mN++}),this.uuid=Yi(),this.name="",this.type="Material",this.fog=!0,this.blending=Qc,this.side=gs,this.vertexColors=!1,this.opacity=1,this.format=Vr,this.transparent=!1,this.blendSrc=gw,this.blendDst=vw,this.blendEquation=Yu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=_v,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=xA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Av,this.stencilZFail=Av,this.stencilZPass=Av,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===cw;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Qc&&(n.blending=this.blending),this.side!==gs&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==Vr&&(n.format=this.format),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(a){let o=[];for(let l in a){let c=a[l];delete c.metadata,o.push(c)}return o}if(t){let a=i(e.textures),o=i(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};Lr.prototype.isMaterial=!0;var NA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ya={h:0,s:0,l:0},kv={h:0,s:0,l:0};function Jw(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function Qw(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Kw(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}var wt=class{constructor(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=Ow(e,1),t=Xr(t,0,1),n=Xr(n,0,1),t===0)this.r=this.g=this.b=n;else{let i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Jw(a,i,e+1/3),this.g=Jw(a,i,e),this.b=Jw(a,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){let l=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,g=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(l,c,g)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=n[1],a=i.length;if(a===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(a===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){let t=NA[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){let n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Qw(e.r),this.g=Qw(e.g),this.b=Qw(e.b),this}copyLinearToSRGB(e){return this.r=Kw(e.r),this.g=Kw(e.g),this.b=Kw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){let t=this.r,n=this.g,i=this.b,a=Math.max(t,n,i),o=Math.min(t,n,i),l,c,g=(o+a)/2;if(o===a)l=0,c=0;else{let m=a-o;switch(c=g<=.5?m/(a+o):m/(2-a-o),a){case t:l=(n-i)/m+(n<i?6:0);break;case n:l=(i-t)/m+2;break;case i:l=(t-n)/m+4;break}l/=6}return e.h=l,e.s=c,e.l=g,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,n){return this.getHSL(Ya),Ya.h+=e,Ya.s+=t,Ya.l+=n,this.setHSL(Ya.h,Ya.s,Ya.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ya),e.getHSL(kv);let n=Qp(Ya.h,kv.h,t),i=Qp(Ya.s,kv.s,t),a=Qp(Ya.l,kv.l,t);return this.setHSL(n,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};wt.NAMES=NA;wt.prototype.isColor=!0;wt.prototype.r=1;wt.prototype.g=1;wt.prototype.b=1;var Mo=class extends Lr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Up,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};Mo.prototype.isMeshBasicMaterial=!0;var Gn=new Ce,Fv=new ft,mn=class{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=eh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new wt),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}copyVector2sArray(e){let t=this.array,n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ft),t[n++]=o.x,t[n++]=o.y}return this}copyVector3sArray(e){let t=this.array,n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Ce),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}copyVector4sArray(e){let t=this.array,n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ln),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Fv.fromBufferAttribute(this,t),Fv.applyMatrix3(e),this.setXY(t,Fv.x,Fv.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Gn.fromBufferAttribute(this,t),Gn.applyMatrix3(e),this.setXYZ(t,Gn.x,Gn.y,Gn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Gn.x=this.getX(t),Gn.y=this.getY(t),Gn.z=this.getZ(t),Gn.applyMatrix4(e),this.setXYZ(t,Gn.x,Gn.y,Gn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Gn.x=this.getX(t),Gn.y=this.getY(t),Gn.z=this.getZ(t),Gn.applyNormalMatrix(e),this.setXYZ(t,Gn.x,Gn.y,Gn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Gn.x=this.getX(t),Gn.y=this.getY(t),Gn.z=this.getZ(t),Gn.transformDirection(e),this.setXYZ(t,Gn.x,Gn.y,Gn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==eh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};mn.prototype.isBufferAttribute=!0;var $w=class extends mn{constructor(e,t,n){super(new Int8Array(e),t,n)}},eb=class extends mn{constructor(e,t,n){super(new Uint8Array(e),t,n)}},tb=class extends mn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},nb=class extends mn{constructor(e,t,n){super(new Int16Array(e),t,n)}},n0=class extends mn{constructor(e,t,n){super(new Uint16Array(e),t,n)}},rb=class extends mn{constructor(e,t,n){super(new Int32Array(e),t,n)}},r0=class extends mn{constructor(e,t,n){super(new Uint32Array(e),t,n)}},ib=class extends mn{constructor(e,t,n){super(new Uint16Array(e),t,n)}};ib.prototype.isFloat16BufferAttribute=!0;var Dt=class extends mn{constructor(e,t,n){super(new Float32Array(e),t,n)}},ab=class extends mn{constructor(e,t,n){super(new Float64Array(e),t,n)}},gN=0,Ea=new Ot,ob=new ln,ch=new Ce,Ji=new zi,i0=new zi,kr=new Ce,Ht=class extends ja{constructor(){super();Object.defineProperty(this,"id",{value:gN++}),this.uuid=Yi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EA(e)>65535?r0:n0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let a=new Sr().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ea.makeRotationFromQuaternion(e),this.applyMatrix4(Ea),this}rotateX(e){return Ea.makeRotationX(e),this.applyMatrix4(Ea),this}rotateY(e){return Ea.makeRotationY(e),this.applyMatrix4(Ea),this}rotateZ(e){return Ea.makeRotationZ(e),this.applyMatrix4(Ea),this}translate(e,t,n){return Ea.makeTranslation(e,t,n),this.applyMatrix4(Ea),this}scale(e,t,n){return Ea.makeScale(e,t,n),this.applyMatrix4(Ea),this}lookAt(e){return ob.lookAt(e),ob.updateMatrix(),this.applyMatrix4(ob.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ch).negate(),this.translate(ch.x,ch.y,ch.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Dt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){let a=t[n];Ji.setFromBufferAttribute(a),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,Ji.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,Ji.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(Ji.min),this.boundingBox.expandByPoint(Ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xs);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ce,1/0);return}if(e){let n=this.boundingSphere.center;if(Ji.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){let l=t[a];i0.setFromBufferAttribute(l),this.morphTargetsRelative?(kr.addVectors(Ji.min,i0.min),Ji.expandByPoint(kr),kr.addVectors(Ji.max,i0.max),Ji.expandByPoint(kr)):(Ji.expandByPoint(i0.min),Ji.expandByPoint(i0.max))}Ji.getCenter(n);let i=0;for(let a=0,o=e.count;a<o;a++)kr.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(kr));if(t)for(let a=0,o=t.length;a<o;a++){let l=t[a],c=this.morphTargetsRelative;for(let g=0,m=l.count;g<m;g++)kr.fromBufferAttribute(l,g),c&&(ch.fromBufferAttribute(e,g),kr.add(ch)),i=Math.max(i,n.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,i=t.position.array,a=t.normal.array,o=t.uv.array,l=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new mn(new Float32Array(4*l),4));let c=t.tangent.array,g=[],m=[];for(let D=0;D<l;D++)g[D]=new Ce,m[D]=new Ce;let d=new Ce,u=new Ce,f=new Ce,s=new ft,v=new ft,x=new ft,h=new Ce,p=new Ce;function _(D,O,k){d.fromArray(i,D*3),u.fromArray(i,O*3),f.fromArray(i,k*3),s.fromArray(o,D*2),v.fromArray(o,O*2),x.fromArray(o,k*2),u.sub(d),f.sub(d),v.sub(s),x.sub(s);let H=1/(v.x*x.y-x.x*v.y);!isFinite(H)||(h.copy(u).multiplyScalar(x.y).addScaledVector(f,-v.y).multiplyScalar(H),p.copy(f).multiplyScalar(v.x).addScaledVector(u,-x.x).multiplyScalar(H),g[D].add(h),g[O].add(h),g[k].add(h),m[D].add(p),m[O].add(p),m[k].add(p))}let w=this.groups;w.length===0&&(w=[{start:0,count:n.length}]);for(let D=0,O=w.length;D<O;++D){let k=w[D],H=k.start,B=k.count;for(let Z=H,V=H+B;Z<V;Z+=3)_(n[Z+0],n[Z+1],n[Z+2])}let E=new Ce,A=new Ce,T=new Ce,C=new Ce;function R(D){T.fromArray(a,D*3),C.copy(T);let O=g[D];E.copy(O),E.sub(T.multiplyScalar(T.dot(O))).normalize(),A.crossVectors(C,O);let H=A.dot(m[D])<0?-1:1;c[D*4]=E.x,c[D*4+1]=E.y,c[D*4+2]=E.z,c[D*4+3]=H}for(let D=0,O=w.length;D<O;++D){let k=w[D],H=k.start,B=k.count;for(let Z=H,V=H+B;Z<V;Z+=3)R(n[Z+0]),R(n[Z+1]),R(n[Z+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new mn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let u=0,f=n.count;u<f;u++)n.setXYZ(u,0,0,0);let i=new Ce,a=new Ce,o=new Ce,l=new Ce,c=new Ce,g=new Ce,m=new Ce,d=new Ce;if(e)for(let u=0,f=e.count;u<f;u+=3){let s=e.getX(u+0),v=e.getX(u+1),x=e.getX(u+2);i.fromBufferAttribute(t,s),a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),m.subVectors(o,a),d.subVectors(i,a),m.cross(d),l.fromBufferAttribute(n,s),c.fromBufferAttribute(n,v),g.fromBufferAttribute(n,x),l.add(m),c.add(m),g.add(m),n.setXYZ(s,l.x,l.y,l.z),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(x,g.x,g.y,g.z)}else for(let u=0,f=t.count;u<f;u+=3)i.fromBufferAttribute(t,u+0),a.fromBufferAttribute(t,u+1),o.fromBufferAttribute(t,u+2),m.subVectors(o,a),d.subVectors(i,a),m.cross(d),n.setXYZ(u+0,m.x,m.y,m.z),n.setXYZ(u+1,m.x,m.y,m.z),n.setXYZ(u+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let n=this.attributes;for(let i in n){if(e.attributes[i]===void 0)continue;let o=n[i].array,l=e.attributes[i],c=l.array,g=l.itemSize*t,m=Math.min(c.length,o.length-g);for(let d=0,u=g;d<m;d++,u++)o[u]=c[d]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)kr.fromBufferAttribute(e,t),kr.normalize(),e.setXYZ(t,kr.x,kr.y,kr.z)}toNonIndexed(){function e(l,c){let g=l.array,m=l.itemSize,d=l.normalized,u=new g.constructor(c.length*m),f=0,s=0;for(let v=0,x=c.length;v<x;v++){l.isInterleavedBufferAttribute?f=c[v]*l.data.stride+l.offset:f=c[v]*m;for(let h=0;h<m;h++)u[s++]=g[f++]}return new mn(u,m,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Ht,n=this.index.array,i=this.attributes;for(let l in i){let c=i[l],g=e(c,n);t.setAttribute(l,g)}let a=this.morphAttributes;for(let l in a){let c=[],g=a[l];for(let m=0,d=g.length;m<d;m++){let u=g[m],f=e(u,n);c.push(f)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let l=0,c=o.length;l<c;l++){let g=o[l];t.addGroup(g.start,g.count,g.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let g in c)c[g]!==void 0&&(e[g]=c[g]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let c in n){let g=n[c];e.data.attributes[c]=g.toJSON(e.data)}let i={},a=!1;for(let c in this.morphAttributes){let g=this.morphAttributes[c],m=[];for(let d=0,u=g.length;d<u;d++){let f=g[d];m.push(f.toJSON(e.data))}m.length>0&&(i[c]=m,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone(t));let i=e.attributes;for(let g in i){let m=i[g];this.setAttribute(g,m.clone(t))}let a=e.morphAttributes;for(let g in a){let m=[],d=a[g];for(let u=0,f=d.length;u<f;u++)m.push(d[u].clone(t));this.morphAttributes[g]=m}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let g=0,m=o.length;g<m;g++){let d=o[g];this.addGroup(d.start,d.count,d.materialIndex)}let l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};Ht.prototype.isBufferGeometry=!0;var kA=new Ot,hh=new bs,sb=new xs,Ol=new Ce,Nl=new Ce,kl=new Ce,lb=new Ce,ub=new Ce,fb=new Ce,Bv=new Ce,zv=new Ce,Uv=new Ce,Hv=new ft,Gv=new ft,Wv=new ft,cb=new Ce,Vv=new Ce,_r=class extends ln{constructor(e=new Ht,t=new Mo){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){let n=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),sb.copy(n.boundingSphere),sb.applyMatrix4(a),e.ray.intersectsSphere(sb)===!1)||(kA.copy(a).invert(),hh.copy(e.ray).applyMatrix4(kA),n.boundingBox!==null&&hh.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){let l=n.index,c=n.attributes.position,g=n.morphAttributes.position,m=n.morphTargetsRelative,d=n.attributes.uv,u=n.attributes.uv2,f=n.groups,s=n.drawRange;if(l!==null)if(Array.isArray(i))for(let v=0,x=f.length;v<x;v++){let h=f[v],p=i[h.materialIndex],_=Math.max(h.start,s.start),w=Math.min(l.count,Math.min(h.start+h.count,s.start+s.count));for(let E=_,A=w;E<A;E+=3){let T=l.getX(E),C=l.getX(E+1),R=l.getX(E+2);o=jv(this,p,e,hh,c,g,m,d,u,T,C,R),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=h.materialIndex,t.push(o))}}else{let v=Math.max(0,s.start),x=Math.min(l.count,s.start+s.count);for(let h=v,p=x;h<p;h+=3){let _=l.getX(h),w=l.getX(h+1),E=l.getX(h+2);o=jv(this,i,e,hh,c,g,m,d,u,_,w,E),o&&(o.faceIndex=Math.floor(h/3),t.push(o))}}else if(c!==void 0)if(Array.isArray(i))for(let v=0,x=f.length;v<x;v++){let h=f[v],p=i[h.materialIndex],_=Math.max(h.start,s.start),w=Math.min(c.count,Math.min(h.start+h.count,s.start+s.count));for(let E=_,A=w;E<A;E+=3){let T=E,C=E+1,R=E+2;o=jv(this,p,e,hh,c,g,m,d,u,T,C,R),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=h.materialIndex,t.push(o))}}else{let v=Math.max(0,s.start),x=Math.min(c.count,s.start+s.count);for(let h=v,p=x;h<p;h+=3){let _=h,w=h+1,E=h+2;o=jv(this,i,e,hh,c,g,m,d,u,_,w,E),o&&(o.faceIndex=Math.floor(h/3),t.push(o))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};_r.prototype.isMesh=!0;function vN(r,e,t,n,i,a,o,l){let c;if(e.side===ir?c=n.intersectTriangle(o,a,i,!0,l):c=n.intersectTriangle(i,a,o,e.side!==Xu,l),c===null)return null;Vv.copy(l),Vv.applyMatrix4(r.matrixWorld);let g=t.ray.origin.distanceTo(Vv);return g<t.near||g>t.far?null:{distance:g,point:Vv.clone(),object:r}}function jv(r,e,t,n,i,a,o,l,c,g,m,d){Ol.fromBufferAttribute(i,g),Nl.fromBufferAttribute(i,m),kl.fromBufferAttribute(i,d);let u=r.morphTargetInfluences;if(a&&u){Bv.set(0,0,0),zv.set(0,0,0),Uv.set(0,0,0);for(let s=0,v=a.length;s<v;s++){let x=u[s],h=a[s];x!==0&&(lb.fromBufferAttribute(h,g),ub.fromBufferAttribute(h,m),fb.fromBufferAttribute(h,d),o?(Bv.addScaledVector(lb,x),zv.addScaledVector(ub,x),Uv.addScaledVector(fb,x)):(Bv.addScaledVector(lb.sub(Ol),x),zv.addScaledVector(ub.sub(Nl),x),Uv.addScaledVector(fb.sub(kl),x)))}Ol.add(Bv),Nl.add(zv),kl.add(Uv)}r.isSkinnedMesh&&(r.boneTransform(g,Ol),r.boneTransform(m,Nl),r.boneTransform(d,kl));let f=vN(r,e,t,n,Ol,Nl,kl,cb);if(f){l&&(Hv.fromBufferAttribute(l,g),Gv.fromBufferAttribute(l,m),Wv.fromBufferAttribute(l,d),f.uv=cr.getUV(cb,Ol,Nl,kl,Hv,Gv,Wv,new ft)),c&&(Hv.fromBufferAttribute(c,g),Gv.fromBufferAttribute(c,m),Wv.fromBufferAttribute(c,d),f.uv2=cr.getUV(cb,Ol,Nl,kl,Hv,Gv,Wv,new ft));let s={a:g,b:m,c:d,normal:new Ce,materialIndex:0};cr.getNormal(Ol,Nl,kl,s.normal),f.face=s}return f}var Ts=class extends Ht{constructor(e=1,t=1,n=1,i=1,a=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:o};let l=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);let c=[],g=[],m=[],d=[],u=0,f=0;s("z","y","x",-1,-1,n,t,e,o,a,0),s("z","y","x",1,-1,n,t,-e,o,a,1),s("x","z","y",1,1,e,n,t,i,o,2),s("x","z","y",1,-1,e,n,-t,i,o,3),s("x","y","z",1,-1,e,t,n,i,a,4),s("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(c),this.setAttribute("position",new Dt(g,3)),this.setAttribute("normal",new Dt(m,3)),this.setAttribute("uv",new Dt(d,2));function s(v,x,h,p,_,w,E,A,T,C,R){let D=w/T,O=E/C,k=w/2,H=E/2,B=A/2,Z=T+1,V=C+1,j=0,z=0,W=new Ce;for(let J=0;J<V;J++){let oe=J*O-H;for(let le=0;le<Z;le++){let fe=le*D-k;W[v]=fe*p,W[x]=oe*_,W[h]=B,g.push(W.x,W.y,W.z),W[v]=0,W[x]=0,W[h]=A>0?1:-1,m.push(W.x,W.y,W.z),d.push(le/T),d.push(1-J/C),j+=1}}for(let J=0;J<C;J++)for(let oe=0;oe<T;oe++){let le=u+oe+Z*J,fe=u+oe+Z*(J+1),$=u+(oe+1)+Z*(J+1),ae=u+(oe+1)+Z*J;c.push(le,fe,ae),c.push(fe,$,ae),z+=6}l.addGroup(f,z,R),f+=z,u+=j}}static fromJSON(e){return new Ts(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function dh(r){let e={};for(let t in r){e[t]={};for(let n in r[t]){let i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function fi(r){let e={};for(let t=0;t<r.length;t++){let n=dh(r[t]);for(let i in n)e[i]=n[i]}return e}var FA={clone:dh,merge:fi},_N=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,To=class extends Lr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=_N,this.fragmentShader=yN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=dh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}};To.prototype.isShaderMaterial=!0;var As=class extends ln{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot,this.projectionMatrixInverse=new Ot}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};As.prototype.isCamera=!0;var Nn=class extends As{constructor(e=50,t=1,n=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Jp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(af*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Jp*2*Math.atan(Math.tan(af*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(af*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i,o=this.view;if(this.view!==null&&this.view.enabled){let c=o.fullWidth,g=o.fullHeight;a+=o.offsetX*i/c,t-=o.offsetY*n/g,i*=o.width/c,n*=o.height/g}let l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};Nn.prototype.isPerspectiveCamera=!0;var ph=90,mh=1,a0=class extends ln{constructor(e,t,n){super();if(this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;let i=new Nn(ph,mh,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Ce(1,0,0)),this.add(i);let a=new Nn(ph,mh,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Ce(-1,0,0)),this.add(a);let o=new Nn(ph,mh,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Ce(0,1,0)),this.add(o);let l=new Nn(ph,mh,e,t);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new Ce(0,-1,0)),this.add(l);let c=new Nn(ph,mh,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Ce(0,0,1)),this.add(c);let g=new Nn(ph,mh,e,t);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new Ce(0,0,-1)),this.add(g)}update(e,t){this.parent===null&&this.updateMatrixWorld();let n=this.renderTarget,[i,a,o,l,c,g]=this.children,m=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;let u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=u,e.setRenderTarget(n,5),e.render(t,g),e.setRenderTarget(d),e.xr.enabled=m}},lf=class extends Qn{constructor(e,t,n,i,a,o,l,c,g,m){e=e!==void 0?e:[],t=t!==void 0?t:qu;super(e,t,n,i,a,o,l,c,g,m);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};lf.prototype.isCubeTexture=!0;var o0=class extends Bi{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n);super(e,e,t);t=t||{},this.texture=new lf(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Rr,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Vr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ts(5,5,5),a=new To({name:"CubemapFromEquirect",uniforms:dh(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ir,blending:vs});a.uniforms.tEquirect.value=t;let o=new _r(i,a),l=t.minFilter;return t.minFilter===Qu&&(t.minFilter=Rr),new a0(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(a)}};o0.prototype.isWebGLCubeRenderTarget=!0;var hb=new Ce,xN=new Ce,wN=new Sr,qa=class{constructor(e=new Ce(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=hb.subVectors(n,t).cross(xN.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(hb),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||wN.getNormalMatrix(e),i=this.coplanarPoint(hb).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};qa.prototype.isPlane=!0;var gh=new xs,Zv=new Ce,vh=class{constructor(e=new qa,t=new qa,n=new qa,i=new qa,a=new qa,o=new qa){this.planes=[e,t,n,i,a,o]}set(e,t,n,i,a,o){let l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(i),l[4].copy(a),l[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],a=n[1],o=n[2],l=n[3],c=n[4],g=n[5],m=n[6],d=n[7],u=n[8],f=n[9],s=n[10],v=n[11],x=n[12],h=n[13],p=n[14],_=n[15];return t[0].setComponents(l-i,d-c,v-u,_-x).normalize(),t[1].setComponents(l+i,d+c,v+u,_+x).normalize(),t[2].setComponents(l+a,d+g,v+f,_+h).normalize(),t[3].setComponents(l-a,d-g,v-f,_-h).normalize(),t[4].setComponents(l-o,d-m,v-s,_-p).normalize(),t[5].setComponents(l+o,d+m,v+s,_+p).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),gh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(gh)}intersectsSprite(e){return gh.center.set(0,0,0),gh.radius=.7071067811865476,gh.applyMatrix4(e.matrixWorld),this.intersectsSphere(gh)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(Zv.x=i.normal.x>0?e.max.x:e.min.x,Zv.y=i.normal.y>0?e.max.y:e.min.y,Zv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Zv)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function BA(){let r=null,e=!1,t=null,n=null;function i(a,o){t(a,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function bN(r,e){let t=e.isWebGL2,n=new WeakMap;function i(g,m){let d=g.array,u=g.usage,f=r.createBuffer();r.bindBuffer(m,f),r.bufferData(m,d,u),g.onUploadCallback();let s=5126;return d instanceof Float32Array?s=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?g.isFloat16BufferAttribute?t?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:d instanceof Int16Array?s=5122:d instanceof Uint32Array?s=5125:d instanceof Int32Array?s=5124:d instanceof Int8Array?s=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(s=5121),{buffer:f,type:s,bytesPerElement:d.BYTES_PER_ELEMENT,version:g.version}}function a(g,m,d){let u=m.array,f=m.updateRange;r.bindBuffer(d,g),f.count===-1?r.bufferSubData(d,0,u):(t?r.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u,f.offset,f.count):r.bufferSubData(d,f.offset*u.BYTES_PER_ELEMENT,u.subarray(f.offset,f.offset+f.count)),f.count=-1)}function o(g){return g.isInterleavedBufferAttribute&&(g=g.data),n.get(g)}function l(g){g.isInterleavedBufferAttribute&&(g=g.data);let m=n.get(g);m&&(r.deleteBuffer(m.buffer),n.delete(g))}function c(g,m){if(g.isGLBufferAttribute){let u=n.get(g);(!u||u.version<g.version)&&n.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,version:g.version});return}g.isInterleavedBufferAttribute&&(g=g.data);let d=n.get(g);d===void 0?n.set(g,i(g,m)):d.version<g.version&&(a(d.buffer,g,m),d.version=g.version)}return{get:o,remove:l,update:c}}var uf=class extends Ht{constructor(e=1,t=1,n=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let a=e/2,o=t/2,l=Math.floor(n),c=Math.floor(i),g=l+1,m=c+1,d=e/l,u=t/c,f=[],s=[],v=[],x=[];for(let h=0;h<m;h++){let p=h*u-o;for(let _=0;_<g;_++){let w=_*d-a;s.push(w,-p,0),v.push(0,0,1),x.push(_/l),x.push(1-h/c)}}for(let h=0;h<c;h++)for(let p=0;p<l;p++){let _=p+g*h,w=p+g*(h+1),E=p+1+g*(h+1),A=p+1+g*h;f.push(_,w,A),f.push(w,E,A)}this.setIndex(f),this.setAttribute("position",new Dt(s,3)),this.setAttribute("normal",new Dt(v,3)),this.setAttribute("uv",new Dt(x,2))}static fromJSON(e){return new uf(e.width,e.height,e.widthSegments,e.heightSegments)}},EN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,SN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,MN=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,TN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,CN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,RN="vec3 transformed = vec3( position );",LN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,IN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,DN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ON=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,NN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,FN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,BN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,UN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,HN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,GN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,WN=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,VN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,ZN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,XN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,YN="gl_FragColor = linearToOutputTexel( gl_FragColor );",qN=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,JN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,QN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$N=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,e8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,t8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,n8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,r8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,i8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,a8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,o8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,s8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,l8=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,u8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,f8=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,c8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,h8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,d8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,p8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,m8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,g8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,v8=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,y8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,x8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,w8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,b8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,E8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,S8=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,M8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,T8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,A8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,C8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,R8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,L8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,P8=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,I8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,D8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,O8=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,N8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,k8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,B8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,z8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,U8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,H8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,G8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,W8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,V8=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,j8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Z8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,X8=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Y8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,q8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,J8=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Q8=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,K8=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,$8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ek=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,nk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ik=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ak=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ok=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sk=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,lk=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,uk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,fk=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,ck=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,hk=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,dk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,pk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,mk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,gk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,vk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_k=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xk=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wk=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ek=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Sk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Mk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Tk=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ak=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ck=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rk=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Lk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pk=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ik=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ok=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Fk=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zk=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Uk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hk=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gk=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wk=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Vk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jk=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zk=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Xk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,un={alphamap_fragment:EN,alphamap_pars_fragment:SN,alphatest_fragment:MN,alphatest_pars_fragment:TN,aomap_fragment:AN,aomap_pars_fragment:CN,begin_vertex:RN,beginnormal_vertex:LN,bsdfs:PN,bumpmap_pars_fragment:IN,clipping_planes_fragment:DN,clipping_planes_pars_fragment:ON,clipping_planes_pars_vertex:NN,clipping_planes_vertex:kN,color_fragment:FN,color_pars_fragment:BN,color_pars_vertex:zN,color_vertex:UN,common:HN,cube_uv_reflection_fragment:GN,defaultnormal_vertex:WN,displacementmap_pars_vertex:VN,displacementmap_vertex:jN,emissivemap_fragment:ZN,emissivemap_pars_fragment:XN,encodings_fragment:YN,encodings_pars_fragment:qN,envmap_fragment:JN,envmap_common_pars_fragment:QN,envmap_pars_fragment:KN,envmap_pars_vertex:$N,envmap_physical_pars_fragment:f8,envmap_vertex:e8,fog_vertex:t8,fog_pars_vertex:n8,fog_fragment:r8,fog_pars_fragment:i8,gradientmap_pars_fragment:a8,lightmap_fragment:o8,lightmap_pars_fragment:s8,lights_lambert_vertex:l8,lights_pars_begin:u8,lights_toon_fragment:c8,lights_toon_pars_fragment:h8,lights_phong_fragment:d8,lights_phong_pars_fragment:p8,lights_physical_fragment:m8,lights_physical_pars_fragment:g8,lights_fragment_begin:v8,lights_fragment_maps:_8,lights_fragment_end:y8,logdepthbuf_fragment:x8,logdepthbuf_pars_fragment:w8,logdepthbuf_pars_vertex:b8,logdepthbuf_vertex:E8,map_fragment:S8,map_pars_fragment:M8,map_particle_fragment:T8,map_particle_pars_fragment:A8,metalnessmap_fragment:C8,metalnessmap_pars_fragment:R8,morphnormal_vertex:L8,morphtarget_pars_vertex:P8,morphtarget_vertex:I8,normal_fragment_begin:D8,normal_fragment_maps:O8,normal_pars_fragment:N8,normal_pars_vertex:k8,normal_vertex:F8,normalmap_pars_fragment:B8,clearcoat_normal_fragment_begin:z8,clearcoat_normal_fragment_maps:U8,clearcoat_pars_fragment:H8,output_fragment:G8,packing:W8,premultiplied_alpha_fragment:V8,project_vertex:j8,dithering_fragment:Z8,dithering_pars_fragment:X8,roughnessmap_fragment:Y8,roughnessmap_pars_fragment:q8,shadowmap_pars_fragment:J8,shadowmap_pars_vertex:Q8,shadowmap_vertex:K8,shadowmask_pars_fragment:$8,skinbase_vertex:ek,skinning_pars_vertex:tk,skinning_vertex:nk,skinnormal_vertex:rk,specularmap_fragment:ik,specularmap_pars_fragment:ak,tonemapping_fragment:ok,tonemapping_pars_fragment:sk,transmission_fragment:lk,transmission_pars_fragment:uk,uv_pars_fragment:fk,uv_pars_vertex:ck,uv_vertex:hk,uv2_pars_fragment:dk,uv2_pars_vertex:pk,uv2_vertex:mk,worldpos_vertex:gk,background_vert:vk,background_frag:_k,cube_vert:yk,cube_frag:xk,depth_vert:wk,depth_frag:bk,distanceRGBA_vert:Ek,distanceRGBA_frag:Sk,equirect_vert:Mk,equirect_frag:Tk,linedashed_vert:Ak,linedashed_frag:Ck,meshbasic_vert:Rk,meshbasic_frag:Lk,meshlambert_vert:Pk,meshlambert_frag:Ik,meshmatcap_vert:Dk,meshmatcap_frag:Ok,meshnormal_vert:Nk,meshnormal_frag:kk,meshphong_vert:Fk,meshphong_frag:Bk,meshphysical_vert:zk,meshphysical_frag:Uk,meshtoon_vert:Hk,meshtoon_frag:Gk,points_vert:Wk,points_frag:Vk,shadow_vert:jk,shadow_frag:Zk,sprite_vert:Xk,sprite_frag:Yk},bt={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sr},uv2Transform:{value:new Sr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sr}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sr}}},Ja={basic:{uniforms:fi([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.fog]),vertexShader:un.meshbasic_vert,fragmentShader:un.meshbasic_frag},lambert:{uniforms:fi([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.fog,bt.lights,{emissive:{value:new wt(0)}}]),vertexShader:un.meshlambert_vert,fragmentShader:un.meshlambert_frag},phong:{uniforms:fi([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:un.meshphong_vert,fragmentShader:un.meshphong_frag},standard:{uniforms:fi([bt.common,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.roughnessmap,bt.metalnessmap,bt.fog,bt.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag},toon:{uniforms:fi([bt.common,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.gradientmap,bt.fog,bt.lights,{emissive:{value:new wt(0)}}]),vertexShader:un.meshtoon_vert,fragmentShader:un.meshtoon_frag},matcap:{uniforms:fi([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,{matcap:{value:null}}]),vertexShader:un.meshmatcap_vert,fragmentShader:un.meshmatcap_frag},points:{uniforms:fi([bt.points,bt.fog]),vertexShader:un.points_vert,fragmentShader:un.points_frag},dashed:{uniforms:fi([bt.common,bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:un.linedashed_vert,fragmentShader:un.linedashed_frag},depth:{uniforms:fi([bt.common,bt.displacementmap]),vertexShader:un.depth_vert,fragmentShader:un.depth_frag},normal:{uniforms:fi([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,{opacity:{value:1}}]),vertexShader:un.meshnormal_vert,fragmentShader:un.meshnormal_frag},sprite:{uniforms:fi([bt.sprite,bt.fog]),vertexShader:un.sprite_vert,fragmentShader:un.sprite_frag},background:{uniforms:{uvTransform:{value:new Sr},t2D:{value:null}},vertexShader:un.background_vert,fragmentShader:un.background_frag},cube:{uniforms:fi([bt.envmap,{opacity:{value:1}}]),vertexShader:un.cube_vert,fragmentShader:un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:un.equirect_vert,fragmentShader:un.equirect_frag},distanceRGBA:{uniforms:fi([bt.common,bt.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:un.distanceRGBA_vert,fragmentShader:un.distanceRGBA_frag},shadow:{uniforms:fi([bt.lights,bt.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:un.shadow_vert,fragmentShader:un.shadow_frag}};Ja.physical={uniforms:fi([Ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ft(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag};function qk(r,e,t,n,i){let a=new wt(0),o=0,l,c,g=null,m=0,d=null;function u(s,v){let x=!1,h=v.isScene===!0?v.background:null;h&&h.isTexture&&(h=e.get(h));let p=r.xr,_=p.getSession&&p.getSession();_&&_.environmentBlendMode==="additive"&&(h=null),h===null?f(a,o):h&&h.isColor&&(f(h,1),x=!0),(r.autoClear||x)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),h&&(h.isCubeTexture||h.mapping===Kc)?(c===void 0&&(c=new _r(new Ts(1,1,1),new To({name:"BackgroundCubeMaterial",uniforms:dh(Ja.cube.uniforms),vertexShader:Ja.cube.vertexShader,fragmentShader:Ja.cube.fragmentShader,side:ir,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,E,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=h,c.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h.isRenderTargetTexture===!1?-1:1,(g!==h||m!==h.version||d!==r.toneMapping)&&(c.material.needsUpdate=!0,g=h,m=h.version,d=r.toneMapping),s.unshift(c,c.geometry,c.material,0,0,null)):h&&h.isTexture&&(l===void 0&&(l=new _r(new uf(2,2),new To({name:"BackgroundMaterial",uniforms:dh(Ja.background.uniforms),vertexShader:Ja.background.vertexShader,fragmentShader:Ja.background.fragmentShader,side:gs,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=h,h.matrixAutoUpdate===!0&&h.updateMatrix(),l.material.uniforms.uvTransform.value.copy(h.matrix),(g!==h||m!==h.version||d!==r.toneMapping)&&(l.material.needsUpdate=!0,g=h,m=h.version,d=r.toneMapping),s.unshift(l,l.geometry,l.material,0,0,null))}function f(s,v){t.buffers.color.setClear(s.r,s.g,s.b,v,i)}return{getClearColor:function(){return a},setClearColor:function(s,v=1){a.set(s),o=v,f(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(s){o=s,f(a,o)},render:u}}function Jk(r,e,t,n){let i=r.getParameter(34921),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||a!==null,l={},c=v(null),g=c;function m(H,B,Z,V,j){let z=!1;if(o){let W=s(V,Z,B);g!==W&&(g=W,u(g.object)),z=x(V,j),z&&h(V,j)}else{let W=B.wireframe===!0;(g.geometry!==V.id||g.program!==Z.id||g.wireframe!==W)&&(g.geometry=V.id,g.program=Z.id,g.wireframe=W,z=!0)}H.isInstancedMesh===!0&&(z=!0),j!==null&&t.update(j,34963),z&&(T(H,B,Z,V),j!==null&&r.bindBuffer(34963,t.get(j).buffer))}function d(){return n.isWebGL2?r.createVertexArray():a.createVertexArrayOES()}function u(H){return n.isWebGL2?r.bindVertexArray(H):a.bindVertexArrayOES(H)}function f(H){return n.isWebGL2?r.deleteVertexArray(H):a.deleteVertexArrayOES(H)}function s(H,B,Z){let V=Z.wireframe===!0,j=l[H.id];j===void 0&&(j={},l[H.id]=j);let z=j[B.id];z===void 0&&(z={},j[B.id]=z);let W=z[V];return W===void 0&&(W=v(d()),z[V]=W),W}function v(H){let B=[],Z=[],V=[];for(let j=0;j<i;j++)B[j]=0,Z[j]=0,V[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:Z,attributeDivisors:V,object:H,attributes:{},index:null}}function x(H,B){let Z=g.attributes,V=H.attributes,j=0;for(let z in V){let W=Z[z],J=V[z];if(W===void 0||W.attribute!==J||W.data!==J.data)return!0;j++}return g.attributesNum!==j||g.index!==B}function h(H,B){let Z={},V=H.attributes,j=0;for(let z in V){let W=V[z],J={};J.attribute=W,W.data&&(J.data=W.data),Z[z]=J,j++}g.attributes=Z,g.attributesNum=j,g.index=B}function p(){let H=g.newAttributes;for(let B=0,Z=H.length;B<Z;B++)H[B]=0}function _(H){w(H,0)}function w(H,B){let Z=g.newAttributes,V=g.enabledAttributes,j=g.attributeDivisors;Z[H]=1,V[H]===0&&(r.enableVertexAttribArray(H),V[H]=1),j[H]!==B&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,B),j[H]=B)}function E(){let H=g.newAttributes,B=g.enabledAttributes;for(let Z=0,V=B.length;Z<V;Z++)B[Z]!==H[Z]&&(r.disableVertexAttribArray(Z),B[Z]=0)}function A(H,B,Z,V,j,z){n.isWebGL2===!0&&(Z===5124||Z===5125)?r.vertexAttribIPointer(H,B,Z,j,z):r.vertexAttribPointer(H,B,Z,V,j,z)}function T(H,B,Z,V){if(n.isWebGL2===!1&&(H.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;p();let j=V.attributes,z=Z.getAttributes(),W=B.defaultAttributeValues;for(let J in z){let oe=z[J];if(oe.location>=0){let le=j[J];if(le===void 0&&(J==="instanceMatrix"&&H.instanceMatrix&&(le=H.instanceMatrix),J==="instanceColor"&&H.instanceColor&&(le=H.instanceColor)),le!==void 0){let fe=le.normalized,$=le.itemSize,ae=t.get(le);if(ae===void 0)continue;let se=ae.buffer,ce=ae.type,he=ae.bytesPerElement;if(le.isInterleavedBufferAttribute){let we=le.data,xe=we.stride,Oe=le.offset;if(we&&we.isInstancedInterleavedBuffer){for(let ge=0;ge<oe.locationSize;ge++)w(oe.location+ge,we.meshPerAttribute);H.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ge=0;ge<oe.locationSize;ge++)_(oe.location+ge);r.bindBuffer(34962,se);for(let ge=0;ge<oe.locationSize;ge++)A(oe.location+ge,$/oe.locationSize,ce,fe,xe*he,(Oe+$/oe.locationSize*ge)*he)}else{if(le.isInstancedBufferAttribute){for(let we=0;we<oe.locationSize;we++)w(oe.location+we,le.meshPerAttribute);H.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let we=0;we<oe.locationSize;we++)_(oe.location+we);r.bindBuffer(34962,se);for(let we=0;we<oe.locationSize;we++)A(oe.location+we,$/oe.locationSize,ce,fe,$*he,$/oe.locationSize*we*he)}}else if(W!==void 0){let fe=W[J];if(fe!==void 0)switch(fe.length){case 2:r.vertexAttrib2fv(oe.location,fe);break;case 3:r.vertexAttrib3fv(oe.location,fe);break;case 4:r.vertexAttrib4fv(oe.location,fe);break;default:r.vertexAttrib1fv(oe.location,fe)}}}}E()}function C(){O();for(let H in l){let B=l[H];for(let Z in B){let V=B[Z];for(let j in V)f(V[j].object),delete V[j];delete B[Z]}delete l[H]}}function R(H){if(l[H.id]===void 0)return;let B=l[H.id];for(let Z in B){let V=B[Z];for(let j in V)f(V[j].object),delete V[j];delete B[Z]}delete l[H.id]}function D(H){for(let B in l){let Z=l[B];if(Z[H.id]===void 0)continue;let V=Z[H.id];for(let j in V)f(V[j].object),delete V[j];delete Z[H.id]}}function O(){k(),g!==c&&(g=c,u(g.object))}function k(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:m,reset:O,resetDefaultState:k,dispose:C,releaseStatesOfGeometry:R,releaseStatesOfProgram:D,initAttributes:p,enableAttribute:_,disableUnusedAttributes:E}}function Qk(r,e,t,n){let i=n.isWebGL2,a;function o(g){a=g}function l(g,m){r.drawArrays(a,g,m),t.update(m,a,1)}function c(g,m,d){if(d===0)return;let u,f;if(i)u=r,f="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[f](a,g,m,d),t.update(m,a,d)}this.setMode=o,this.render=l,this.renderInstances=c}function Kk(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){let T=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function a(T){if(T==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let o=typeof WebGL2RenderingContext!="undefined"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&r instanceof WebGL2ComputeRenderingContext,l=t.precision!==void 0?t.precision:"highp",c=a(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);let g=o||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,d=r.getParameter(34930),u=r.getParameter(35660),f=r.getParameter(3379),s=r.getParameter(34076),v=r.getParameter(34921),x=r.getParameter(36347),h=r.getParameter(36348),p=r.getParameter(36349),_=u>0,w=o||e.has("OES_texture_float"),E=_&&w,A=o?r.getParameter(36183):0;return{isWebGL2:o,drawBuffers:g,getMaxAnisotropy:i,getMaxPrecision:a,precision:l,logarithmicDepthBuffer:m,maxTextures:d,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:s,maxAttributes:v,maxVertexUniforms:x,maxVaryings:h,maxFragmentUniforms:p,vertexTextures:_,floatFragmentTextures:w,floatVertexTextures:E,maxSamples:A}}function $k(r){let e=this,t=null,n=0,i=!1,a=!1,o=new qa,l=new Sr,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,u,f){let s=d.length!==0||u||n!==0||i;return i=u,t=m(d,f,0),n=d.length,s},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1,g()},this.setState=function(d,u,f){let s=d.clippingPlanes,v=d.clipIntersection,x=d.clipShadows,h=r.get(d);if(!i||s===null||s.length===0||a&&!x)a?m(null):g();else{let p=a?0:n,_=p*4,w=h.clippingState||null;c.value=w,w=m(s,u,_,f);for(let E=0;E!==_;++E)w[E]=t[E];h.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=p}};function g(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(d,u,f,s){let v=d!==null?d.length:0,x=null;if(v!==0){if(x=c.value,s!==!0||x===null){let h=f+v*4,p=u.matrixWorldInverse;l.getNormalMatrix(p),(x===null||x.length<h)&&(x=new Float32Array(h));for(let _=0,w=f;_!==v;++_,w+=4)o.copy(d[_]).applyMatrix4(p,l),o.normal.toArray(x,w),x[w+3]=o.constant}c.value=x,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function eF(r){let e=new WeakMap;function t(o,l){return l===Hp?o.mapping=qu:l===Gp&&(o.mapping=Ju),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){let l=o.mapping;if(l===Hp||l===Gp)if(e.has(o)){let c=e.get(o).texture;return t(c,o.mapping)}else{let c=o.image;if(c&&c.height>0){let g=r.getRenderTarget(),m=new o0(c.height/2);return m.fromEquirectangularTexture(r,o),e.set(o,m),r.setRenderTarget(g),o.addEventListener("dispose",i),t(m.texture,o.mapping)}else return null}}return o}function i(o){let l=o.target;l.removeEventListener("dispose",i);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}var Sa=class extends As{constructor(e=-1,t=1,n=1,i=-1,a=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,a=n-e,o=n+e,l=i+t,c=i-t;if(this.view!==null&&this.view.enabled){let g=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=g*this.view.offsetX,o=a+g*this.view.width,l-=m*this.view.offsetY,c=l-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};Sa.prototype.isOrthographicCamera=!0;var ff=class extends To{constructor(e){super(e);this.type="RawShaderMaterial"}};ff.prototype.isRawShaderMaterial=!0;var _h=4,Fl=8,Ao=Math.pow(2,Fl),zA=[.125,.215,.35,.446,.526,.582],UA=Fl-_h+1+zA.length,yh=20,cf={[jr]:0,[Tl]:1,[Tv]:2,[Lw]:3,[Pw]:4,[Iw]:5,[Mv]:6},db=new Sa,{_lodPlanes:s0,_sizeLods:HA,_sigmas:Xv}=nF(),GA=new wt,pb=null,hf=(1+Math.sqrt(5))/2,xh=1/hf,WA=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,hf,xh),new Ce(0,hf,-xh),new Ce(xh,0,hf),new Ce(-xh,0,hf),new Ce(hf,xh,0),new Ce(-hf,xh,0)],mb=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=rF(yh),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){pb=this._renderer.getRenderTarget();let a=this._allocateTargets();return this._sceneToCubeUV(e,n,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=ZA(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=jA(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<s0.length;e++)s0[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(pb),e.scissorTest=!1,Yv(e,0,0,e.width,e.height)}_fromTexture(e){pb=this._renderer.getRenderTarget();let t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){let t={magFilter:Er,minFilter:Er,generateMipmaps:!1,type:_s,format:LT,encoding:tF(e)?e.encoding:Tv,depthBuffer:!1},n=VA(t);return n.depthBuffer=!e,this._pingPongRenderTarget=VA(t),n}_compileMaterial(e){let t=new _r(s0[0],e);this._renderer.compile(t,db)}_sceneToCubeUV(e,t,n,i){let a=90,o=1,l=new Nn(a,o,t,n),c=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],m=this._renderer,d=m.autoClear,u=m.outputEncoding,f=m.toneMapping;m.getClearColor(GA),m.toneMapping=Eo,m.outputEncoding=jr,m.autoClear=!1;let s=new Mo({name:"PMREM.Background",side:ir,depthWrite:!1,depthTest:!1}),v=new _r(new Ts,s),x=!1,h=e.background;h?h.isColor&&(s.color.copy(h),e.background=null,x=!0):(s.color.copy(GA),x=!0);for(let p=0;p<6;p++){let _=p%3;_==0?(l.up.set(0,c[p],0),l.lookAt(g[p],0,0)):_==1?(l.up.set(0,0,c[p]),l.lookAt(0,g[p],0)):(l.up.set(0,c[p],0),l.lookAt(0,0,g[p])),Yv(i,_*Ao,p>2?Ao:0,Ao,Ao),m.setRenderTarget(i),x&&m.render(v,l),m.render(e,l)}v.geometry.dispose(),v.material.dispose(),m.toneMapping=f,m.outputEncoding=u,m.autoClear=d,e.background=h}_setEncoding(e,t){e.value=cf[t.encoding]}_textureToCubeUV(e,t){let n=this._renderer,i=e.mapping===qu||e.mapping===Ju;i?this._cubemapShader==null&&(this._cubemapShader=ZA()):this._equirectShader==null&&(this._equirectShader=jA());let a=i?this._cubemapShader:this._equirectShader,o=new _r(s0[0],a),l=a.uniforms;l.envMap.value=e,i||l.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(l.inputEncoding,e),this._setEncoding(l.outputEncoding,t.texture),Yv(t,0,0,3*Ao,2*Ao),n.setRenderTarget(t),n.render(o,db)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<UA;i++){let a=Math.sqrt(Xv[i]*Xv[i]-Xv[i-1]*Xv[i-1]),o=WA[(i-1)%WA.length];this._blur(e,i-1,i,a,o)}t.autoClear=n}_blur(e,t,n,i,a){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",a),this._halfBlur(o,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,o,l){let c=this._renderer,g=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let m=3,d=new _r(s0[i],g),u=g.uniforms,f=HA[n]-1,s=isFinite(a)?Math.PI/(2*f):2*Math.PI/(2*yh-1),v=a/s,x=isFinite(a)?1+Math.floor(m*v):yh;x>yh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${yh}`);let h=[],p=0;for(let A=0;A<yh;++A){let T=A/v,C=Math.exp(-T*T/2);h.push(C),A==0?p+=C:A<x&&(p+=2*C)}for(let A=0;A<h.length;A++)h[A]=h[A]/p;u.envMap.value=e.texture,u.samples.value=x,u.weights.value=h,u.latitudinal.value=o==="latitudinal",l&&(u.poleAxis.value=l),u.dTheta.value=s,u.mipInt.value=Fl-n,this._setEncoding(u.inputEncoding,e.texture),this._setEncoding(u.outputEncoding,e.texture);let _=HA[i],w=3*Math.max(0,Ao-2*_),E=(i===0?0:2*Ao)+2*_*(i>Fl-_h?i-Fl+_h:0);Yv(t,w,E,3*_,2*_),c.setRenderTarget(t),c.render(d,db)}};function tF(r){return r===void 0||r.type!==_s?!1:r.encoding===jr||r.encoding===Tl||r.encoding===Mv}function nF(){let r=[],e=[],t=[],n=Fl;for(let i=0;i<UA;i++){let a=Math.pow(2,n);e.push(a);let o=1/a;i>Fl-_h?o=zA[i-Fl+_h-1]:i==0&&(o=0),t.push(o);let l=1/(a-1),c=-l/2,g=1+l/2,m=[c,c,g,c,g,g,c,c,g,g,c,g],d=6,u=6,f=3,s=2,v=1,x=new Float32Array(f*u*d),h=new Float32Array(s*u*d),p=new Float32Array(v*u*d);for(let w=0;w<d;w++){let E=w%3*2/3-1,A=w>2?0:-1,T=[E,A,0,E+2/3,A,0,E+2/3,A+1,0,E,A,0,E+2/3,A+1,0,E,A+1,0];x.set(T,f*u*w),h.set(m,s*u*w);let C=[w,w,w,w,w,w];p.set(C,v*u*w)}let _=new Ht;_.setAttribute("position",new mn(x,f)),_.setAttribute("uv",new mn(h,s)),_.setAttribute("faceIndex",new mn(p,v)),r.push(_),n>_h&&n--}return{_lodPlanes:r,_sizeLods:e,_sigmas:t}}function VA(r){let e=new Bi(3*Ao,3*Ao,r);return e.texture.mapping=Kc,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Yv(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function rF(r){let e=new Float32Array(r),t=new Ce(0,1,0);return new ff({name:"SphericalGaussianBlur",defines:{n:r},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:cf[jr]},outputEncoding:{value:cf[jr]}},vertexShader:gb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${vb()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function jA(){let r=new ft(1,1);return new ff({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:r},inputEncoding:{value:cf[jr]},outputEncoding:{value:cf[jr]}},vertexShader:gb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${vb()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function ZA(){return new ff({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:cf[jr]},outputEncoding:{value:cf[jr]}},vertexShader:gb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${vb()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function gb(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vb(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function iF(r){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){let c=l.mapping,g=c===Hp||c===Gp,m=c===qu||c===Ju;if(g||m){if(e.has(l))return e.get(l).texture;{let d=l.image;if(g&&d&&d.height>0||m&&d&&i(d)){let u=r.getRenderTarget();t===null&&(t=new mb(r));let f=g?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,f),r.setRenderTarget(u),l.addEventListener("dispose",a),f.texture}else return null}}}return l}function i(l){let c=0,g=6;for(let m=0;m<g;m++)l[m]!==void 0&&c++;return c===g}function a(l){let c=l.target;c.removeEventListener("dispose",a);let g=e.get(c);g!==void 0&&(e.delete(c),g.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function aF(r){let e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){let i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function oF(r,e,t,n){let i={},a=new WeakMap;function o(d){let u=d.target;u.index!==null&&e.remove(u.index);for(let s in u.attributes)e.remove(u.attributes[s]);u.removeEventListener("dispose",o),delete i[u.id];let f=a.get(u);f&&(e.remove(f),a.delete(u)),n.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,t.memory.geometries--}function l(d,u){return i[u.id]===!0||(u.addEventListener("dispose",o),i[u.id]=!0,t.memory.geometries++),u}function c(d){let u=d.attributes;for(let s in u)e.update(u[s],34962);let f=d.morphAttributes;for(let s in f){let v=f[s];for(let x=0,h=v.length;x<h;x++)e.update(v[x],34962)}}function g(d){let u=[],f=d.index,s=d.attributes.position,v=0;if(f!==null){let p=f.array;v=f.version;for(let _=0,w=p.length;_<w;_+=3){let E=p[_+0],A=p[_+1],T=p[_+2];u.push(E,A,A,T,T,E)}}else{let p=s.array;v=s.version;for(let _=0,w=p.length/3-1;_<w;_+=3){let E=_+0,A=_+1,T=_+2;u.push(E,A,A,T,T,E)}}let x=new(EA(u)>65535?r0:n0)(u,1);x.version=v;let h=a.get(d);h&&e.remove(h),a.set(d,x)}function m(d){let u=a.get(d);if(u){let f=d.index;f!==null&&u.version<f.version&&g(d)}else g(d);return a.get(d)}return{get:l,update:c,getWireframeAttribute:m}}function sF(r,e,t,n){let i=n.isWebGL2,a;function o(u){a=u}let l,c;function g(u){l=u.type,c=u.bytesPerElement}function m(u,f){r.drawElements(a,f,l,u*c),t.update(f,a,1)}function d(u,f,s){if(s===0)return;let v,x;if(i)v=r,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](a,f,l,u*c,s),t.update(f,a,s)}this.setMode=o,this.setIndex=g,this.render=m,this.renderInstances=d}function lF(r){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,l){switch(t.calls++,o){case 4:t.triangles+=l*(a/3);break;case 1:t.lines+=l*(a/2);break;case 3:t.lines+=l*(a-1);break;case 2:t.lines+=l*a;break;case 0:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}var l0=class extends Qn{constructor(e=null,t=1,n=1,i=1){super(null);this.image={data:e,width:t,height:n,depth:i},this.magFilter=Er,this.minFilter=Er,this.wrapR=Wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};l0.prototype.isDataTexture2DArray=!0;function uF(r,e){return r[0]-e[0]}function fF(r,e){return Math.abs(e[1])-Math.abs(r[1])}function XA(r,e){let t=1,n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),r.divideScalar(t)}function cF(r,e,t){let n={},i=new Float32Array(8),a=new WeakMap,o=new Ce,l=[];for(let g=0;g<8;g++)l[g]=[g,0];function c(g,m,d,u){let f=g.morphTargetInfluences;if(e.isWebGL2===!0){let s=m.morphAttributes.position.length,v=a.get(m);if(v===void 0||v.count!==s){v!==void 0&&v.texture.dispose();let p=m.morphAttributes.normal!==void 0,_=m.morphAttributes.position,w=m.morphAttributes.normal||[],E=m.attributes.position.count,A=p===!0?2:1,T=E*A,C=1;T>e.maxTextureSize&&(C=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);let R=new Float32Array(T*C*4*s),D=new l0(R,T,C,s);D.format=Vr,D.type=So;let O=A*4;for(let k=0;k<s;k++){let H=_[k],B=w[k],Z=T*C*4*k;for(let V=0;V<H.count;V++){o.fromBufferAttribute(H,V),H.normalized===!0&&XA(o,H);let j=V*O;R[Z+j+0]=o.x,R[Z+j+1]=o.y,R[Z+j+2]=o.z,R[Z+j+3]=0,p===!0&&(o.fromBufferAttribute(B,V),B.normalized===!0&&XA(o,B),R[Z+j+4]=o.x,R[Z+j+5]=o.y,R[Z+j+6]=o.z,R[Z+j+7]=0)}}v={count:s,texture:D,size:new ft(T,C)},a.set(m,v)}let x=0;for(let p=0;p<f.length;p++)x+=f[p];let h=m.morphTargetsRelative?1:1-x;u.getUniforms().setValue(r,"morphTargetBaseInfluence",h),u.getUniforms().setValue(r,"morphTargetInfluences",f),u.getUniforms().setValue(r,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(r,"morphTargetsTextureSize",v.size)}else{let s=f===void 0?0:f.length,v=n[m.id];if(v===void 0||v.length!==s){v=[];for(let w=0;w<s;w++)v[w]=[w,0];n[m.id]=v}for(let w=0;w<s;w++){let E=v[w];E[0]=w,E[1]=f[w]}v.sort(fF);for(let w=0;w<8;w++)w<s&&v[w][1]?(l[w][0]=v[w][0],l[w][1]=v[w][1]):(l[w][0]=Number.MAX_SAFE_INTEGER,l[w][1]=0);l.sort(uF);let x=m.morphAttributes.position,h=m.morphAttributes.normal,p=0;for(let w=0;w<8;w++){let E=l[w],A=E[0],T=E[1];A!==Number.MAX_SAFE_INTEGER&&T?(x&&m.getAttribute("morphTarget"+w)!==x[A]&&m.setAttribute("morphTarget"+w,x[A]),h&&m.getAttribute("morphNormal"+w)!==h[A]&&m.setAttribute("morphNormal"+w,h[A]),i[w]=T,p+=T):(x&&m.hasAttribute("morphTarget"+w)===!0&&m.deleteAttribute("morphTarget"+w),h&&m.hasAttribute("morphNormal"+w)===!0&&m.deleteAttribute("morphNormal"+w),i[w]=0)}let _=m.morphTargetsRelative?1:1-p;u.getUniforms().setValue(r,"morphTargetBaseInfluence",_),u.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:c}}function hF(r,e,t,n){let i=new WeakMap;function a(c){let g=n.render.frame,m=c.geometry,d=e.get(c,m);return i.get(d)!==g&&(e.update(d),i.set(d,g)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),t.update(c.instanceMatrix,34962),c.instanceColor!==null&&t.update(c.instanceColor,34962)),d}function o(){i=new WeakMap}function l(c){let g=c.target;g.removeEventListener("dispose",l),t.remove(g.instanceMatrix),g.instanceColor!==null&&t.remove(g.instanceColor)}return{update:a,dispose:o}}var qv=class extends Qn{constructor(e=null,t=1,n=1,i=1){super(null);this.image={data:e,width:t,height:n,depth:i},this.magFilter=Er,this.minFilter=Er,this.wrapR=Wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};qv.prototype.isDataTexture3D=!0;var YA=new Qn,qA=new l0,JA=new qv,QA=new lf,KA=[],$A=[],eC=new Float32Array(16),tC=new Float32Array(9),nC=new Float32Array(4);function wh(r,e,t){let n=r[0];if(n<=0||n>0)return r;let i=e*t,a=KA[i];if(a===void 0&&(a=new Float32Array(i),KA[i]=a),e!==0){n.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=t,r[o].toArray(a,l)}return a}function yi(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function ci(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function Jv(r,e){let t=$A[e];t===void 0&&(t=new Int32Array(e),$A[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function dF(r,e){let t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function pF(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(yi(t,e))return;r.uniform2fv(this.addr,e),ci(t,e)}}function mF(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(yi(t,e))return;r.uniform3fv(this.addr,e),ci(t,e)}}function gF(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(yi(t,e))return;r.uniform4fv(this.addr,e),ci(t,e)}}function vF(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(yi(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),ci(t,e)}else{if(yi(t,n))return;nC.set(n),r.uniformMatrix2fv(this.addr,!1,nC),ci(t,n)}}function _F(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(yi(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),ci(t,e)}else{if(yi(t,n))return;tC.set(n),r.uniformMatrix3fv(this.addr,!1,tC),ci(t,n)}}function yF(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(yi(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),ci(t,e)}else{if(yi(t,n))return;eC.set(n),r.uniformMatrix4fv(this.addr,!1,eC),ci(t,n)}}function xF(r,e){let t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function wF(r,e){let t=this.cache;yi(t,e)||(r.uniform2iv(this.addr,e),ci(t,e))}function bF(r,e){let t=this.cache;yi(t,e)||(r.uniform3iv(this.addr,e),ci(t,e))}function EF(r,e){let t=this.cache;yi(t,e)||(r.uniform4iv(this.addr,e),ci(t,e))}function SF(r,e){let t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function MF(r,e){let t=this.cache;yi(t,e)||(r.uniform2uiv(this.addr,e),ci(t,e))}function TF(r,e){let t=this.cache;yi(t,e)||(r.uniform3uiv(this.addr,e),ci(t,e))}function AF(r,e){let t=this.cache;yi(t,e)||(r.uniform4uiv(this.addr,e),ci(t,e))}function CF(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.safeSetTexture2D(e||YA,i)}function RF(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||JA,i)}function LF(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.safeSetTextureCube(e||QA,i)}function PF(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||qA,i)}function IF(r){switch(r){case 5126:return dF;case 35664:return pF;case 35665:return mF;case 35666:return gF;case 35674:return vF;case 35675:return _F;case 35676:return yF;case 5124:case 35670:return xF;case 35667:case 35671:return wF;case 35668:case 35672:return bF;case 35669:case 35673:return EF;case 5125:return SF;case 36294:return MF;case 36295:return TF;case 36296:return AF;case 35678:case 36198:case 36298:case 36306:case 35682:return CF;case 35679:case 36299:case 36307:return RF;case 35680:case 36300:case 36308:case 36293:return LF;case 36289:case 36303:case 36311:case 36292:return PF}}function DF(r,e){r.uniform1fv(this.addr,e)}function OF(r,e){let t=wh(e,this.size,2);r.uniform2fv(this.addr,t)}function NF(r,e){let t=wh(e,this.size,3);r.uniform3fv(this.addr,t)}function kF(r,e){let t=wh(e,this.size,4);r.uniform4fv(this.addr,t)}function FF(r,e){let t=wh(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function BF(r,e){let t=wh(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function zF(r,e){let t=wh(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function UF(r,e){r.uniform1iv(this.addr,e)}function HF(r,e){r.uniform2iv(this.addr,e)}function GF(r,e){r.uniform3iv(this.addr,e)}function WF(r,e){r.uniform4iv(this.addr,e)}function VF(r,e){r.uniform1uiv(this.addr,e)}function jF(r,e){r.uniform2uiv(this.addr,e)}function ZF(r,e){r.uniform3uiv(this.addr,e)}function XF(r,e){r.uniform4uiv(this.addr,e)}function YF(r,e,t){let n=e.length,i=Jv(t,n);r.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.safeSetTexture2D(e[a]||YA,i[a])}function qF(r,e,t){let n=e.length,i=Jv(t,n);r.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTexture3D(e[a]||JA,i[a])}function JF(r,e,t){let n=e.length,i=Jv(t,n);r.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.safeSetTextureCube(e[a]||QA,i[a])}function QF(r,e,t){let n=e.length,i=Jv(t,n);r.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTexture2DArray(e[a]||qA,i[a])}function KF(r){switch(r){case 5126:return DF;case 35664:return OF;case 35665:return NF;case 35666:return kF;case 35674:return FF;case 35675:return BF;case 35676:return zF;case 5124:case 35670:return UF;case 35667:case 35671:return HF;case 35668:case 35672:return GF;case 35669:case 35673:return WF;case 5125:return VF;case 36294:return jF;case 36295:return ZF;case 36296:return XF;case 35678:case 36198:case 36298:case 36306:case 35682:return YF;case 35679:case 36299:case 36307:return qF;case 35680:case 36300:case 36308:case 36293:return JF;case 36289:case 36303:case 36311:case 36292:return QF}}function $F(r,e,t){this.id=r,this.addr=t,this.cache=[],this.setValue=IF(e.type)}function rC(r,e,t){this.id=r,this.addr=t,this.cache=[],this.size=e.size,this.setValue=KF(e.type)}rC.prototype.updateCache=function(r){let e=this.cache;r instanceof Float32Array&&e.length!==r.length&&(this.cache=new Float32Array(r.length)),ci(e,r)};function iC(r){this.id=r,this.seq=[],this.map={}}iC.prototype.setValue=function(r,e,t){let n=this.seq;for(let i=0,a=n.length;i!==a;++i){let o=n[i];o.setValue(r,e[o.id],t)}};var _b=/(\w+)(\])?(\[|\.)?/g;function aC(r,e){r.seq.push(e),r.map[e.id]=e}function eB(r,e,t){let n=r.name,i=n.length;for(_b.lastIndex=0;;){let a=_b.exec(n),o=_b.lastIndex,l=a[1],c=a[2]==="]",g=a[3];if(c&&(l=l|0),g===void 0||g==="["&&o+2===i){aC(t,g===void 0?new $F(l,r,e):new rC(l,r,e));break}else{let d=t.map[l];d===void 0&&(d=new iC(l),aC(t,d)),t=d}}}function Bl(r,e){this.seq=[],this.map={};let t=r.getProgramParameter(e,35718);for(let n=0;n<t;++n){let i=r.getActiveUniform(e,n),a=r.getUniformLocation(e,i.name);eB(i,a,this)}}Bl.prototype.setValue=function(r,e,t,n){let i=this.map[e];i!==void 0&&i.setValue(r,t,n)};Bl.prototype.setOptional=function(r,e,t){let n=e[t];n!==void 0&&this.setValue(r,t,n)};Bl.upload=function(r,e,t,n){for(let i=0,a=e.length;i!==a;++i){let o=e[i],l=t[o.id];l.needsUpdate!==!1&&o.setValue(r,l.value,n)}};Bl.seqWithValue=function(r,e){let t=[];for(let n=0,i=r.length;n!==i;++n){let a=r[n];a.id in e&&t.push(a)}return t};function oC(r,e,t){let n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}var tB=0;function nB(r){let e=r.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function sC(r){switch(r){case jr:return["Linear","( value )"];case Tl:return["sRGB","( value )"];case Tv:return["RGBE","( value )"];case Lw:return["RGBM","( value, 7.0 )"];case Pw:return["RGBM","( value, 16.0 )"];case Iw:return["RGBD","( value, 256.0 )"];case Mv:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function lC(r,e,t){let n=r.getShaderParameter(e,35713),i=r.getShaderInfoLog(e).trim();return n&&i===""?"":t.toUpperCase()+`

`+i+`

`+nB(r.getShaderSource(e))}function df(r,e){let t=sC(e);return"vec4 "+r+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function rB(r,e){let t=sC(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function iB(r,e){let t;switch(e){case vT:t="Linear";break;case _T:t="Reinhard";break;case yT:t="OptimizedCineon";break;case yv:t="ACESFilmic";break;case xT:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function aB(r){return[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(u0).join(`
`)}function oB(r){let e=[];for(let t in r){let n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function sB(r,e){let t={},n=r.getProgramParameter(e,35721);for(let i=0;i<n;i++){let a=r.getActiveAttrib(e,i),o=a.name,l=1;a.type===35674&&(l=2),a.type===35675&&(l=3),a.type===35676&&(l=4),t[o]={type:a.type,location:r.getAttribLocation(e,o),locationSize:l}}return t}function u0(r){return r!==""}function uC(r,e){return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fC(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var lB=/^[ \t]*#include +<([\w\d./]+)>/gm;function yb(r){return r.replace(lB,uB)}function uB(r,e){let t=un[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return yb(t)}var fB=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,cB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cC(r){return r.replace(cB,hC).replace(fB,hB)}function hB(r,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),hC(r,e,t,n)}function hC(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function dC(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dB(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===fw?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===vv?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Jc&&(e="SHADOWMAP_TYPE_VSM"),e}function pB(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case qu:case Ju:e="ENVMAP_TYPE_CUBE";break;case Kc:case Wp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function mB(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Ju:case Wp:e="ENVMAP_MODE_REFRACTION";break}return e}function gB(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Up:e="ENVMAP_BLENDING_MULTIPLY";break;case mT:e="ENVMAP_BLENDING_MIX";break;case gT:e="ENVMAP_BLENDING_ADD";break}return e}function vB(r,e,t,n){let i=r.getContext(),a=t.defines,o=t.vertexShader,l=t.fragmentShader,c=dB(t),g=pB(t),m=mB(t),d=gB(t),u=r.gammaFactor>0?r.gammaFactor:1,f=t.isWebGL2?"":aB(t),s=oB(a),v=i.createProgram(),x,h,p=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[s].filter(u0).join(`
`),x.length>0&&(x+=`
`),h=[f,s].filter(u0).join(`
`),h.length>0&&(h+=`
`)):(x=[dC(t),"#define SHADER_NAME "+t.shaderName,s,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+u,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(u0).join(`
`),h=[f,dC(t),"#define SHADER_NAME "+t.shaderName,s,"#define GAMMA_FACTOR "+u,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.envMap?"#define "+m:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Eo?"#define TONE_MAPPING":"",t.toneMapping!==Eo?un.tonemapping_pars_fragment:"",t.toneMapping!==Eo?iB("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Sl?"#define OPAQUE":"",un.encodings_pars_fragment,t.map?df("mapTexelToLinear",t.mapEncoding):"",t.matcap?df("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?df("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?df("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?df("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?df("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?df("lightMapTexelToLinear",t.lightMapEncoding):"",rB("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(u0).join(`
`)),o=yb(o),o=uC(o,t),o=fC(o,t),l=yb(l),l=uC(l,t),l=fC(l,t),o=cC(o),l=cC(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(p=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,h=["#define varying in",t.glslVersion===Dw?"":"out highp vec4 pc_fragColor;",t.glslVersion===Dw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h);let _=p+x+o,w=p+h+l,E=oC(i,35633,_),A=oC(i,35632,w);if(i.attachShader(v,E),i.attachShader(v,A),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),r.debug.checkShaderErrors){let R=i.getProgramInfoLog(v).trim(),D=i.getShaderInfoLog(E).trim(),O=i.getShaderInfoLog(A).trim(),k=!0,H=!0;if(i.getProgramParameter(v,35714)===!1){k=!1;let B=lC(i,E,"vertex"),Z=lC(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+B+`
`+Z)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||O==="")&&(H=!1);H&&(this.diagnostics={runnable:k,programLog:R,vertexShader:{log:D,prefix:x},fragmentShader:{log:O,prefix:h}})}i.deleteShader(E),i.deleteShader(A);let T;this.getUniforms=function(){return T===void 0&&(T=new Bl(i,v)),T};let C;return this.getAttributes=function(){return C===void 0&&(C=sB(i,v)),C},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=tB++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=A,this}function _B(r,e,t,n,i,a,o){let l=[],c=i.isWebGL2,g=i.logarithmicDepthBuffer,m=i.floatVertexTextures,d=i.maxVertexUniforms,u=i.vertexTextures,f=i.precision,s={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function x(T){let R=T.skeleton.bones;if(m)return 1024;{let O=Math.floor((d-20)/4),k=Math.min(O,R.length);return k<R.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+R.length+" bones. This GPU supports "+k+"."),0):k}}function h(T){let C;return T&&T.isTexture?C=T.encoding:T&&T.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=T.texture.encoding):C=jr,C}function p(T,C,R,D,O){let k=D.fog,H=T.isMeshStandardMaterial?D.environment:null,B=(T.isMeshStandardMaterial?t:e).get(T.envMap||H),Z=s[T.type],V=O.isSkinnedMesh?x(O):0;T.precision!==null&&(f=i.getMaxPrecision(T.precision),f!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",f,"instead."));let j,z;if(Z){let fe=Ja[Z];j=fe.vertexShader,z=fe.fragmentShader}else j=T.vertexShader,z=T.fragmentShader;let W=r.getRenderTarget(),J=T.alphaTest>0,oe=T.clearcoat>0;return{isWebGL2:c,shaderID:Z,shaderName:T.type,vertexShader:j,fragmentShader:z,defines:T.defines,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:f,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:u,outputEncoding:W!==null?h(W.texture):r.outputEncoding,map:!!T.map,mapEncoding:h(T.map),matcap:!!T.matcap,matcapEncoding:h(T.matcap),envMap:!!B,envMapMode:B&&B.mapping,envMapEncoding:h(B),envMapCubeUV:!!B&&(B.mapping===Kc||B.mapping===Wp),lightMap:!!T.lightMap,lightMapEncoding:h(T.lightMap),aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,emissiveMapEncoding:h(T.emissiveMap),bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===yA,tangentSpaceNormalMap:T.normalMapType===rf,clearcoat:oe,clearcoatMap:oe&&!!T.clearcoatMap,clearcoatRoughnessMap:oe&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:oe&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,specularColorMapEncoding:h(T.specularColorMap),alphaMap:!!T.alphaMap,alphaTest:J,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenColorMapEncoding:h(T.sheenColorMap),sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!O.geometry&&!!O.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!O.geometry&&!!O.geometry.attributes.color&&O.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||T.sheenRoughnessMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||T.sheen>0||!!T.sheenColorMap||!!T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!k,useFog:T.fog,fogExp2:k&&k.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:g,skinning:O.isSkinnedMesh===!0&&V>0,maxBones:V,useVertexTexture:m,morphTargets:!!O.geometry&&!!O.geometry.morphAttributes.position,morphNormals:!!O.geometry&&!!O.geometry.morphAttributes.normal,morphTargetsCount:!!O.geometry&&!!O.geometry.morphAttributes.position?O.geometry.morphAttributes.position.length:0,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:T.format,dithering:T.dithering,shadowMapEnabled:r.shadowMap.enabled&&R.length>0,shadowMapType:r.shadowMap.type,toneMapping:T.toneMapped?r.toneMapping:Eo,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Xu,flipSided:T.side===ir,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function _(T){let C=[];if(T.shaderID?C.push(T.shaderID):(C.push(SA(T.fragmentShader)),C.push(SA(T.vertexShader))),T.defines!==void 0)for(let R in T.defines)C.push(R),C.push(T.defines[R]);if(T.isRawShaderMaterial===!1){for(let R=0;R<v.length;R++)C.push(T[v[R]]);C.push(r.outputEncoding),C.push(r.gammaFactor)}return C.push(T.customProgramCacheKey),C.join()}function w(T){let C=s[T.type],R;if(C){let D=Ja[C];R=FA.clone(D.uniforms)}else R=T.uniforms;return R}function E(T,C){let R;for(let D=0,O=l.length;D<O;D++){let k=l[D];if(k.cacheKey===C){R=k,++R.usedTimes;break}}return R===void 0&&(R=new vB(r,C,T,a),l.push(R)),R}function A(T){if(--T.usedTimes==0){let C=l.indexOf(T);l[C]=l[l.length-1],l.pop(),T.destroy()}}return{getParameters:p,getProgramCacheKey:_,getUniforms:w,acquireProgram:E,releaseProgram:A,programs:l}}function yB(){let r=new WeakMap;function e(a){let o=r.get(a);return o===void 0&&(o={},r.set(a,o)),o}function t(a){r.delete(a)}function n(a,o,l){r.get(a)[o]=l}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function xB(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.program!==e.program?r.program.id-e.program.id:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function pC(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function mC(r){let e=[],t=0,n=[],i=[],a=[],o={id:-1};function l(){t=0,n.length=0,i.length=0,a.length=0}function c(f,s,v,x,h,p){let _=e[t],w=r.get(v);return _===void 0?(_={id:f.id,object:f,geometry:s,material:v,program:w.program||o,groupOrder:x,renderOrder:f.renderOrder,z:h,group:p},e[t]=_):(_.id=f.id,_.object=f,_.geometry=s,_.material=v,_.program=w.program||o,_.groupOrder=x,_.renderOrder=f.renderOrder,_.z=h,_.group=p),t++,_}function g(f,s,v,x,h,p){let _=c(f,s,v,x,h,p);v.transmission>0?i.push(_):v.transparent===!0?a.push(_):n.push(_)}function m(f,s,v,x,h,p){let _=c(f,s,v,x,h,p);v.transmission>0?i.unshift(_):v.transparent===!0?a.unshift(_):n.unshift(_)}function d(f,s){n.length>1&&n.sort(f||xB),i.length>1&&i.sort(s||pC),a.length>1&&a.sort(s||pC)}function u(){for(let f=t,s=e.length;f<s;f++){let v=e[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}}return{opaque:n,transmissive:i,transparent:a,init:l,push:g,unshift:m,finish:u,sort:d}}function wB(r){let e=new WeakMap;function t(i,a){let o;return e.has(i)===!1?(o=new mC(r),e.set(i,[o])):a>=e.get(i).length?(o=new mC(r),e.get(i).push(o)):o=e.get(i)[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}function bB(){let r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new wt};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":t={color:new wt,position:new Ce,halfWidth:new Ce,halfHeight:new Ce};break}return r[e.id]=t,t}}}function EB(){let r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}var SB=0;function MB(r,e){return(e.castShadow?1:0)-(r.castShadow?1:0)}function TB(r,e){let t=new bB,n=EB(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let m=0;m<9;m++)i.probe.push(new Ce);let a=new Ce,o=new Ot,l=new Ot;function c(m,d){let u=0,f=0,s=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let v=0,x=0,h=0,p=0,_=0,w=0,E=0,A=0;m.sort(MB);let T=d!==!0?Math.PI:1;for(let R=0,D=m.length;R<D;R++){let O=m[R],k=O.color,H=O.intensity,B=O.distance,Z=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=k.r*H*T,f+=k.g*H*T,s+=k.b*H*T;else if(O.isLightProbe)for(let V=0;V<9;V++)i.probe[V].addScaledVector(O.sh.coefficients[V],H);else if(O.isDirectionalLight){let V=t.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity*T),O.castShadow){let j=O.shadow,z=n.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.directionalShadow[v]=z,i.directionalShadowMap[v]=Z,i.directionalShadowMatrix[v]=O.shadow.matrix,w++}i.directional[v]=V,v++}else if(O.isSpotLight){let V=t.get(O);if(V.position.setFromMatrixPosition(O.matrixWorld),V.color.copy(k).multiplyScalar(H*T),V.distance=B,V.coneCos=Math.cos(O.angle),V.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),V.decay=O.decay,O.castShadow){let j=O.shadow,z=n.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.spotShadow[h]=z,i.spotShadowMap[h]=Z,i.spotShadowMatrix[h]=O.shadow.matrix,A++}i.spot[h]=V,h++}else if(O.isRectAreaLight){let V=t.get(O);V.color.copy(k).multiplyScalar(H),V.halfWidth.set(O.width*.5,0,0),V.halfHeight.set(0,O.height*.5,0),i.rectArea[p]=V,p++}else if(O.isPointLight){let V=t.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity*T),V.distance=O.distance,V.decay=O.decay,O.castShadow){let j=O.shadow,z=n.get(O);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,z.shadowCameraNear=j.camera.near,z.shadowCameraFar=j.camera.far,i.pointShadow[x]=z,i.pointShadowMap[x]=Z,i.pointShadowMatrix[x]=O.shadow.matrix,E++}i.point[x]=V,x++}else if(O.isHemisphereLight){let V=t.get(O);V.skyColor.copy(O.color).multiplyScalar(H*T),V.groundColor.copy(O.groundColor).multiplyScalar(H*T),i.hemi[_]=V,_++}}p>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=bt.LTC_FLOAT_1,i.rectAreaLTC2=bt.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=bt.LTC_HALF_1,i.rectAreaLTC2=bt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=u,i.ambient[1]=f,i.ambient[2]=s;let C=i.hash;(C.directionalLength!==v||C.pointLength!==x||C.spotLength!==h||C.rectAreaLength!==p||C.hemiLength!==_||C.numDirectionalShadows!==w||C.numPointShadows!==E||C.numSpotShadows!==A)&&(i.directional.length=v,i.spot.length=h,i.rectArea.length=p,i.point.length=x,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=E,i.spotShadowMatrix.length=A,C.directionalLength=v,C.pointLength=x,C.spotLength=h,C.rectAreaLength=p,C.hemiLength=_,C.numDirectionalShadows=w,C.numPointShadows=E,C.numSpotShadows=A,i.version=SB++)}function g(m,d){let u=0,f=0,s=0,v=0,x=0,h=d.matrixWorldInverse;for(let p=0,_=m.length;p<_;p++){let w=m[p];if(w.isDirectionalLight){let E=i.directional[u];E.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(a),E.direction.transformDirection(h),u++}else if(w.isSpotLight){let E=i.spot[s];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),E.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(a),E.direction.transformDirection(h),s++}else if(w.isRectAreaLight){let E=i.rectArea[v];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),l.identity(),o.copy(w.matrixWorld),o.premultiply(h),l.extractRotation(o),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(l),E.halfHeight.applyMatrix4(l),v++}else if(w.isPointLight){let E=i.point[f];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(h),f++}else if(w.isHemisphereLight){let E=i.hemi[x];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(h),E.direction.normalize(),x++}}}return{setup:c,setupView:g,state:i}}function gC(r,e){let t=new TB(r,e),n=[],i=[];function a(){n.length=0,i.length=0}function o(d){n.push(d)}function l(d){i.push(d)}function c(d){t.setup(n,d)}function g(d){t.setupView(n,d)}return{init:a,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:c,setupLightsView:g,pushLight:o,pushShadow:l}}function AB(r,e){let t=new WeakMap;function n(a,o=0){let l;return t.has(a)===!1?(l=new gC(r,e),t.set(a,[l])):o>=t.get(a).length?(l=new gC(r,e),t.get(a).push(l)):l=t.get(a)[o],l}function i(){t=new WeakMap}return{get:n,dispose:i}}var f0=class extends Lr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=vA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}};f0.prototype.isMeshDepthMaterial=!0;var c0=class extends Lr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Ce,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};c0.prototype.isMeshDistanceMaterial=!0;var CB=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,RB=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vC(r,e,t){let n=new vh,i=new ft,a=new ft,o=new Ln,l=new f0({depthPacking:_A}),c=new c0,g={},m=t.maxTextureSize,d={0:ir,1:gs,2:Xu},u=new To({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:CB,fragmentShader:RB}),f=u.clone();f.defines.HORIZONTAL_PASS=1;let s=new Ht;s.setAttribute("position",new mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let v=new _r(s,u),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fw,this.render=function(w,E,A){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;let T=r.getRenderTarget(),C=r.getActiveCubeFace(),R=r.getActiveMipmapLevel(),D=r.state;D.setBlending(vs),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let O=0,k=w.length;O<k;O++){let H=w[O],B=H.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);let Z=B.getFrameExtents();if(i.multiply(Z),a.copy(B.mapSize),(i.x>m||i.y>m)&&(i.x>m&&(a.x=Math.floor(m/Z.x),i.x=a.x*Z.x,B.mapSize.x=a.x),i.y>m&&(a.y=Math.floor(m/Z.y),i.y=a.y*Z.y,B.mapSize.y=a.y)),B.map===null&&!B.isPointLightShadow&&this.type===Jc){let j={minFilter:Rr,magFilter:Rr,format:Vr};B.map=new Bi(i.x,i.y,j),B.map.texture.name=H.name+".shadowMap",B.mapPass=new Bi(i.x,i.y,j),B.camera.updateProjectionMatrix()}if(B.map===null){let j={minFilter:Er,magFilter:Er,format:Vr};B.map=new Bi(i.x,i.y,j),B.map.texture.name=H.name+".shadowMap",B.camera.updateProjectionMatrix()}r.setRenderTarget(B.map),r.clear();let V=B.getViewportCount();for(let j=0;j<V;j++){let z=B.getViewport(j);o.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),D.viewport(o),B.updateMatrices(H,j),n=B.getFrustum(),_(E,A,B.camera,H,this.type)}!B.isPointLightShadow&&this.type===Jc&&h(B,A),B.needsUpdate=!1}x.needsUpdate=!1,r.setRenderTarget(T,C,R)};function h(w,E){let A=e.update(v);u.defines.VSM_SAMPLES!==w.blurSamples&&(u.defines.VSM_SAMPLES=w.blurSamples,f.defines.VSM_SAMPLES=w.blurSamples,u.needsUpdate=!0,f.needsUpdate=!0),u.uniforms.shadow_pass.value=w.map.texture,u.uniforms.resolution.value=w.mapSize,u.uniforms.radius.value=w.radius,r.setRenderTarget(w.mapPass),r.clear(),r.renderBufferDirect(E,null,A,u,v,null),f.uniforms.shadow_pass.value=w.mapPass.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,r.setRenderTarget(w.map),r.clear(),r.renderBufferDirect(E,null,A,f,v,null)}function p(w,E,A,T,C,R,D){let O=null,k=T.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(k!==void 0?O=k:O=T.isPointLight===!0?c:l,r.localClippingEnabled&&A.clipShadows===!0&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0){let H=O.uuid,B=A.uuid,Z=g[H];Z===void 0&&(Z={},g[H]=Z);let V=Z[B];V===void 0&&(V=O.clone(),Z[B]=V),O=V}return O.visible=A.visible,O.wireframe=A.wireframe,D===Jc?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:d[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,T.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(T.matrixWorld),O.nearDistance=C,O.farDistance=R),O}function _(w,E,A,T,C){if(w.visible===!1)return;if(w.layers.test(E.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&C===Jc)&&(!w.frustumCulled||n.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,w.matrixWorld);let O=e.update(w),k=w.material;if(Array.isArray(k)){let H=O.groups;for(let B=0,Z=H.length;B<Z;B++){let V=H[B],j=k[V.materialIndex];if(j&&j.visible){let z=p(w,O,j,T,A.near,A.far,C);r.renderBufferDirect(A,null,O,z,w,V)}}}else if(k.visible){let H=p(w,O,k,T,A.near,A.far,C);r.renderBufferDirect(A,null,O,H,w,null)}}let D=w.children;for(let O=0,k=D.length;O<k;O++)_(D[O],E,A,T,C)}}function LB(r,e,t){let n=t.isWebGL2;function i(){let be=!1,Pe=new Ln,ze=null,qe=new Ln(0,0,0,0);return{setMask:function(Ye){ze!==Ye&&!be&&(r.colorMask(Ye,Ye,Ye,Ye),ze=Ye)},setLocked:function(Ye){be=Ye},setClear:function(Ye,Me,Ge,et,ut){ut===!0&&(Ye*=et,Me*=et,Ge*=et),Pe.set(Ye,Me,Ge,et),qe.equals(Pe)===!1&&(r.clearColor(Ye,Me,Ge,et),qe.copy(Pe))},reset:function(){be=!1,ze=null,qe.set(-1,0,0,0)}}}function a(){let be=!1,Pe=null,ze=null,qe=null;return{setTest:function(Ye){Ye?fe(2929):$(2929)},setMask:function(Ye){Pe!==Ye&&!be&&(r.depthMask(Ye),Pe=Ye)},setFunc:function(Ye){if(ze!==Ye){if(Ye)switch(Ye){case lT:r.depthFunc(512);break;case uT:r.depthFunc(519);break;case fT:r.depthFunc(513);break;case _v:r.depthFunc(515);break;case cT:r.depthFunc(514);break;case hT:r.depthFunc(518);break;case dT:r.depthFunc(516);break;case pT:r.depthFunc(517);break;default:r.depthFunc(515)}else r.depthFunc(515);ze=Ye}},setLocked:function(Ye){be=Ye},setClear:function(Ye){qe!==Ye&&(r.clearDepth(Ye),qe=Ye)},reset:function(){be=!1,Pe=null,ze=null,qe=null}}}function o(){let be=!1,Pe=null,ze=null,qe=null,Ye=null,Me=null,Ge=null,et=null,ut=null;return{setTest:function(ct){be||(ct?fe(2960):$(2960))},setMask:function(ct){Pe!==ct&&!be&&(r.stencilMask(ct),Pe=ct)},setFunc:function(ct,X,Ae){(ze!==ct||qe!==X||Ye!==Ae)&&(r.stencilFunc(ct,X,Ae),ze=ct,qe=X,Ye=Ae)},setOp:function(ct,X,Ae){(Me!==ct||Ge!==X||et!==Ae)&&(r.stencilOp(ct,X,Ae),Me=ct,Ge=X,et=Ae)},setLocked:function(ct){be=ct},setClear:function(ct){ut!==ct&&(r.clearStencil(ct),ut=ct)},reset:function(){be=!1,Pe=null,ze=null,qe=null,Ye=null,Me=null,Ge=null,et=null,ut=null}}}let l=new i,c=new a,g=new o,m={},d={},u=null,f=!1,s=null,v=null,x=null,h=null,p=null,_=null,w=null,E=!1,A=null,T=null,C=null,R=null,D=null,O=r.getParameter(35661),k=!1,H=0,B=r.getParameter(7938);B.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(B)[1]),k=H>=1):B.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),k=H>=2);let Z=null,V={},j=r.getParameter(3088),z=r.getParameter(2978),W=new Ln().fromArray(j),J=new Ln().fromArray(z);function oe(be,Pe,ze){let qe=new Uint8Array(4),Ye=r.createTexture();r.bindTexture(be,Ye),r.texParameteri(be,10241,9728),r.texParameteri(be,10240,9728);for(let Me=0;Me<ze;Me++)r.texImage2D(Pe+Me,0,6408,1,1,0,6408,5121,qe);return Ye}let le={};le[3553]=oe(3553,3553,1),le[34067]=oe(34067,34069,6),l.setClear(0,0,0,1),c.setClear(1),g.setClear(0),fe(2929),c.setFunc(_v),Oe(!1),ge(uw),fe(2884),we(vs);function fe(be){m[be]!==!0&&(r.enable(be),m[be]=!0)}function $(be){m[be]!==!1&&(r.disable(be),m[be]=!1)}function ae(be,Pe){return d[be]!==Pe?(r.bindFramebuffer(be,Pe),d[be]=Pe,n&&(be===36009&&(d[36160]=Pe),be===36160&&(d[36009]=Pe)),!0):!1}function se(be){return u!==be?(r.useProgram(be),u=be,!0):!1}let ce={[Yu]:32774,[Q3]:32778,[K3]:32779};if(n)ce[pw]=32775,ce[mw]=32776;else{let be=e.get("EXT_blend_minmax");be!==null&&(ce[pw]=be.MIN_EXT,ce[mw]=be.MAX_EXT)}let he={[$3]:0,[eT]:1,[tT]:768,[gw]:770,[sT]:776,[aT]:774,[rT]:772,[nT]:769,[vw]:771,[oT]:775,[iT]:773};function we(be,Pe,ze,qe,Ye,Me,Ge,et){if(be===vs){f===!0&&($(3042),f=!1);return}if(f===!1&&(fe(3042),f=!0),be!==J3){if(be!==s||et!==E){if((v!==Yu||p!==Yu)&&(r.blendEquation(32774),v=Yu,p=Yu),et)switch(be){case Qc:r.blendFuncSeparate(1,771,1,771);break;case zp:r.blendFunc(1,1);break;case hw:r.blendFuncSeparate(0,0,769,771);break;case dw:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case Qc:r.blendFuncSeparate(770,771,1,771);break;case zp:r.blendFunc(770,1);break;case hw:r.blendFunc(0,769);break;case dw:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}x=null,h=null,_=null,w=null,s=be,E=et}return}Ye=Ye||Pe,Me=Me||ze,Ge=Ge||qe,(Pe!==v||Ye!==p)&&(r.blendEquationSeparate(ce[Pe],ce[Ye]),v=Pe,p=Ye),(ze!==x||qe!==h||Me!==_||Ge!==w)&&(r.blendFuncSeparate(he[ze],he[qe],he[Me],he[Ge]),x=ze,h=qe,_=Me,w=Ge),s=be,E=null}function xe(be,Pe){be.side===Xu?$(2884):fe(2884);let ze=be.side===ir;Pe&&(ze=!ze),Oe(ze),be.blending===Qc&&be.transparent===!1?we(vs):we(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),c.setFunc(be.depthFunc),c.setTest(be.depthTest),c.setMask(be.depthWrite),l.setMask(be.colorWrite);let qe=be.stencilWrite;g.setTest(qe),qe&&(g.setMask(be.stencilWriteMask),g.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),g.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),pe(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?fe(32926):$(32926)}function Oe(be){A!==be&&(be?r.frontFace(2304):r.frontFace(2305),A=be)}function ge(be){be!==Y3?(fe(2884),be!==T&&(be===uw?r.cullFace(1029):be===q3?r.cullFace(1028):r.cullFace(1032))):$(2884),T=be}function De(be){be!==C&&(k&&r.lineWidth(be),C=be)}function pe(be,Pe,ze){be?(fe(32823),(R!==Pe||D!==ze)&&(r.polygonOffset(Pe,ze),R=Pe,D=ze)):$(32823)}function de(be){be?fe(3089):$(3089)}function ie(be){be===void 0&&(be=33984+O-1),Z!==be&&(r.activeTexture(be),Z=be)}function re(be,Pe){Z===null&&ie();let ze=V[Z];ze===void 0&&(ze={type:void 0,texture:void 0},V[Z]=ze),(ze.type!==be||ze.texture!==Pe)&&(r.bindTexture(be,Pe||le[be]),ze.type=be,ze.texture=Pe)}function q(){let be=V[Z];be!==void 0&&be.type!==void 0&&(r.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function te(){try{r.compressedTexImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function G(){try{r.texSubImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function P(){try{r.texStorage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function I(){try{r.texImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function U(){try{r.texImage3D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Q(be){W.equals(be)===!1&&(r.scissor(be.x,be.y,be.z,be.w),W.copy(be))}function ye(be){J.equals(be)===!1&&(r.viewport(be.x,be.y,be.z,be.w),J.copy(be))}function Ie(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),n===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),m={},Z=null,V={},d={},u=null,f=!1,s=null,v=null,x=null,h=null,p=null,_=null,w=null,E=!1,A=null,T=null,C=null,R=null,D=null,W.set(0,0,r.canvas.width,r.canvas.height),J.set(0,0,r.canvas.width,r.canvas.height),l.reset(),c.reset(),g.reset()}return{buffers:{color:l,depth:c,stencil:g},enable:fe,disable:$,bindFramebuffer:ae,useProgram:se,setBlending:we,setMaterial:xe,setFlipSided:Oe,setCullFace:ge,setLineWidth:De,setPolygonOffset:pe,setScissorTest:de,activeTexture:ie,bindTexture:re,unbindTexture:q,compressedTexImage2D:te,texImage2D:I,texImage3D:U,texStorage2D:P,texSubImage2D:G,scissor:Q,viewport:ye,reset:Ie}}function PB(r,e,t,n,i,a,o){let l=i.isWebGL2,c=i.maxTextures,g=i.maxCubemapSize,m=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,s=new WeakMap,v,x=!1;try{x=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function h(P,I){return x?new OffscreenCanvas(P,I):Rv("canvas")}function p(P,I,U,Q){let ye=1;if((P.width>Q||P.height>Q)&&(ye=Q/Math.max(P.width,P.height)),ye<1||I===!0)if(typeof HTMLImageElement!="undefined"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&P instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&P instanceof ImageBitmap){let Ie=I?bA:Math.floor,be=Ie(ye*P.width),Pe=Ie(ye*P.height);v===void 0&&(v=h(be,Pe));let ze=U?h(be,Pe):v;return ze.width=be,ze.height=Pe,ze.getContext("2d").drawImage(P,0,0,be,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+be+"x"+Pe+")."),ze}else return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P;return P}function _(P){return Nw(P.width)&&Nw(P.height)}function w(P){return l?!1:P.wrapS!==Wr||P.wrapT!==Wr||P.minFilter!==Er&&P.minFilter!==Rr}function E(P,I){return P.generateMipmaps&&I&&P.minFilter!==Er&&P.minFilter!==Rr}function A(P){r.generateMipmap(P)}function T(P,I,U){if(l===!1)return I;if(P!==null){if(r[P]!==void 0)return r[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Q=I;return I===6403&&(U===5126&&(Q=33326),U===5131&&(Q=33325),U===5121&&(Q=33321)),I===6407&&(U===5126&&(Q=34837),U===5131&&(Q=34843),U===5121&&(Q=32849)),I===6408&&(U===5126&&(Q=34836),U===5131&&(Q=34842),U===5121&&(Q=32856)),(Q===33325||Q===33326||Q===34842||Q===34836)&&e.get("EXT_color_buffer_float"),Q}function C(P,I,U){return E(P,U)===!0?Math.log2(Math.max(I.width,I.height))+1:P.mipmaps.length>0?P.mipmaps.length:1}function R(P){return P===Er||P===wv||P===bv?9728:9729}function D(P){let I=P.target;I.removeEventListener("dispose",D),k(I),I.isVideoTexture&&s.delete(I),o.memory.textures--}function O(P){let I=P.target;I.removeEventListener("dispose",O),H(I)}function k(P){let I=n.get(P);I.__webglInit!==void 0&&(r.deleteTexture(I.__webglTexture),n.remove(P))}function H(P){let I=P.texture,U=n.get(P),Q=n.get(I);if(!!P){if(Q.__webglTexture!==void 0&&(r.deleteTexture(Q.__webglTexture),o.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++)r.deleteFramebuffer(U.__webglFramebuffer[ye]),U.__webglDepthbuffer&&r.deleteRenderbuffer(U.__webglDepthbuffer[ye]);else r.deleteFramebuffer(U.__webglFramebuffer),U.__webglDepthbuffer&&r.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&r.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer&&r.deleteRenderbuffer(U.__webglColorRenderbuffer),U.__webglDepthRenderbuffer&&r.deleteRenderbuffer(U.__webglDepthRenderbuffer);if(P.isWebGLMultipleRenderTargets)for(let ye=0,Ie=I.length;ye<Ie;ye++){let be=n.get(I[ye]);be.__webglTexture&&(r.deleteTexture(be.__webglTexture),o.memory.textures--),n.remove(I[ye])}n.remove(I),n.remove(P)}}let B=0;function Z(){B=0}function V(){let P=B;return P>=c&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+c),B+=1,P}function j(P,I){let U=n.get(P);if(P.isVideoTexture&&ie(P),P.version>0&&U.__version!==P.version){let Q=P.image;if(Q===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Q.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(U,P,I);return}}t.activeTexture(33984+I),t.bindTexture(3553,U.__webglTexture)}function z(P,I){let U=n.get(P);if(P.version>0&&U.__version!==P.version){ae(U,P,I);return}t.activeTexture(33984+I),t.bindTexture(35866,U.__webglTexture)}function W(P,I){let U=n.get(P);if(P.version>0&&U.__version!==P.version){ae(U,P,I);return}t.activeTexture(33984+I),t.bindTexture(32879,U.__webglTexture)}function J(P,I){let U=n.get(P);if(P.version>0&&U.__version!==P.version){se(U,P,I);return}t.activeTexture(33984+I),t.bindTexture(34067,U.__webglTexture)}let oe={[Vp]:10497,[Wr]:33071,[jp]:33648},le={[Er]:9728,[wv]:9984,[bv]:9986,[Rr]:9729,[_w]:9985,[Qu]:9987};function fe(P,I,U){if(U?(r.texParameteri(P,10242,oe[I.wrapS]),r.texParameteri(P,10243,oe[I.wrapT]),(P===32879||P===35866)&&r.texParameteri(P,32882,oe[I.wrapR]),r.texParameteri(P,10240,le[I.magFilter]),r.texParameteri(P,10241,le[I.minFilter])):(r.texParameteri(P,10242,33071),r.texParameteri(P,10243,33071),(P===32879||P===35866)&&r.texParameteri(P,32882,33071),(I.wrapS!==Wr||I.wrapT!==Wr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(P,10240,R(I.magFilter)),r.texParameteri(P,10241,R(I.minFilter)),I.minFilter!==Er&&I.minFilter!==Rr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let Q=e.get("EXT_texture_filter_anisotropic");if(I.type===So&&e.has("OES_texture_float_linear")===!1||l===!1&&I.type===Ku&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||n.get(I).__currentAnisotropy)&&(r.texParameterf(P,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),n.get(I).__currentAnisotropy=I.anisotropy)}}function $(P,I){P.__webglInit===void 0&&(P.__webglInit=!0,I.addEventListener("dispose",D),P.__webglTexture=r.createTexture(),o.memory.textures++)}function ae(P,I,U){let Q=3553;I.isDataTexture2DArray&&(Q=35866),I.isDataTexture3D&&(Q=32879),$(P,I),t.activeTexture(33984+U),t.bindTexture(Q,P.__webglTexture),r.pixelStorei(37440,I.flipY),r.pixelStorei(37441,I.premultiplyAlpha),r.pixelStorei(3317,I.unpackAlignment),r.pixelStorei(37443,0);let ye=w(I)&&_(I.image)===!1,Ie=p(I.image,ye,!1,m),be=_(Ie)||l,Pe=a.convert(I.format),ze=a.convert(I.type),qe=T(I.internalFormat,Pe,ze,I.encoding);fe(Q,I,be);let Ye,Me=I.mipmaps;if(I.isDepthTexture)qe=6402,l?I.type===So?qe=36012:I.type===Zp?qe=33190:I.type===$u?qe=35056:qe=33189:I.type===So&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Ml&&qe===6402&&I.type!==$c&&I.type!==Zp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=$c,ze=a.convert(I.type)),I.format===ef&&qe===6402&&(qe=34041,I.type!==$u&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=$u,ze=a.convert(I.type))),t.texImage2D(3553,0,qe,Ie.width,Ie.height,0,Pe,ze,null);else if(I.isDataTexture)if(Me.length>0&&be){for(let Ge=0,et=Me.length;Ge<et;Ge++)Ye=Me[Ge],t.texImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Pe,ze,Ye.data);I.generateMipmaps=!1}else t.texImage2D(3553,0,qe,Ie.width,Ie.height,0,Pe,ze,Ie.data);else if(I.isCompressedTexture)for(let Ge=0,et=Me.length;Ge<et;Ge++)Ye=Me[Ge],I.format!==Vr&&I.format!==Sl?Pe!==null?t.compressedTexImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Ge,qe,Ye.width,Ye.height,0,Pe,ze,Ye.data);else if(I.isDataTexture2DArray)t.texImage3D(35866,0,qe,Ie.width,Ie.height,Ie.depth,0,Pe,ze,Ie.data);else if(I.isDataTexture3D)t.texImage3D(32879,0,qe,Ie.width,Ie.height,Ie.depth,0,Pe,ze,Ie.data);else{let Ge=C(I,Ie,be),et=l&&I.isVideoTexture!==!0,ut=P.__version===void 0;if(Me.length>0&&be){et&&ut&&t.texStorage2D(3553,Ge,qe,Me[0].width,Me[0].height);for(let ct=0,X=Me.length;ct<X;ct++)Ye=Me[ct],et?t.texSubImage2D(3553,ct,0,0,Pe,ze,Ye):t.texImage2D(3553,ct,qe,Pe,ze,Ye);I.generateMipmaps=!1}else et?(ut&&t.texStorage2D(3553,Ge,qe,Ie.width,Ie.height),t.texSubImage2D(3553,0,0,0,Pe,ze,Ie)):t.texImage2D(3553,0,qe,Pe,ze,Ie)}E(I,be)&&A(Q),P.__version=I.version,I.onUpdate&&I.onUpdate(I)}function se(P,I,U){if(I.image.length!==6)return;$(P,I),t.activeTexture(33984+U),t.bindTexture(34067,P.__webglTexture),r.pixelStorei(37440,I.flipY),r.pixelStorei(37441,I.premultiplyAlpha),r.pixelStorei(3317,I.unpackAlignment),r.pixelStorei(37443,0);let Q=I&&(I.isCompressedTexture||I.image[0].isCompressedTexture),ye=I.image[0]&&I.image[0].isDataTexture,Ie=[];for(let Ge=0;Ge<6;Ge++)!Q&&!ye?Ie[Ge]=p(I.image[Ge],!1,!0,g):Ie[Ge]=ye?I.image[Ge].image:I.image[Ge];let be=Ie[0],Pe=_(be)||l,ze=a.convert(I.format),qe=a.convert(I.type),Ye=T(I.internalFormat,ze,qe,I.encoding);fe(34067,I,Pe);let Me;if(Q)for(let Ge=0;Ge<6;Ge++){Me=Ie[Ge].mipmaps;for(let et=0;et<Me.length;et++){let ut=Me[et];I.format!==Vr&&I.format!==Sl?ze!==null?t.compressedTexImage2D(34069+Ge,et,Ye,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Ge,et,Ye,ut.width,ut.height,0,ze,qe,ut.data)}}else{Me=I.mipmaps;for(let Ge=0;Ge<6;Ge++)if(ye){t.texImage2D(34069+Ge,0,Ye,Ie[Ge].width,Ie[Ge].height,0,ze,qe,Ie[Ge].data);for(let et=0;et<Me.length;et++){let ct=Me[et].image[Ge].image;t.texImage2D(34069+Ge,et+1,Ye,ct.width,ct.height,0,ze,qe,ct.data)}}else{t.texImage2D(34069+Ge,0,Ye,ze,qe,Ie[Ge]);for(let et=0;et<Me.length;et++){let ut=Me[et];t.texImage2D(34069+Ge,et+1,Ye,ze,qe,ut.image[Ge])}}}E(I,Pe)&&A(34067),P.__version=I.version,I.onUpdate&&I.onUpdate(I)}function ce(P,I,U,Q,ye){let Ie=a.convert(U.format),be=a.convert(U.type),Pe=T(U.internalFormat,Ie,be,U.encoding);n.get(I).__hasExternalTextures||(ye===32879||ye===35866?t.texImage3D(ye,0,Pe,I.width,I.height,I.depth,0,Ie,be,null):t.texImage2D(ye,0,Pe,I.width,I.height,0,Ie,be,null)),t.bindFramebuffer(36160,P),I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,Q,ye,n.get(U).__webglTexture,0,de(I)):r.framebufferTexture2D(36160,Q,ye,n.get(U).__webglTexture,0),t.bindFramebuffer(36160,null)}function he(P,I,U){if(r.bindRenderbuffer(36161,P),I.depthBuffer&&!I.stencilBuffer){let Q=33189;if(U||I.useRenderToTexture){let ye=I.depthTexture;ye&&ye.isDepthTexture&&(ye.type===So?Q=36012:ye.type===Zp&&(Q=33190));let Ie=de(I);I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Ie,Q,I.width,I.height):r.renderbufferStorageMultisample(36161,Ie,Q,I.width,I.height)}else r.renderbufferStorage(36161,Q,I.width,I.height);r.framebufferRenderbuffer(36160,36096,36161,P)}else if(I.depthBuffer&&I.stencilBuffer){let Q=de(I);U&&I.useRenderbuffer?r.renderbufferStorageMultisample(36161,Q,35056,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Q,35056,I.width,I.height):r.renderbufferStorage(36161,34041,I.width,I.height),r.framebufferRenderbuffer(36160,33306,36161,P)}else{let Q=I.isWebGLMultipleRenderTargets===!0?I.texture[0]:I.texture,ye=a.convert(Q.format),Ie=a.convert(Q.type),be=T(Q.internalFormat,ye,Ie,Q.encoding),Pe=de(I);U&&I.useRenderbuffer?r.renderbufferStorageMultisample(36161,Pe,be,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Pe,be,I.width,I.height):r.renderbufferStorage(36161,be,I.width,I.height)}r.bindRenderbuffer(36161,null)}function we(P,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,P),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),j(I.depthTexture,0);let Q=n.get(I.depthTexture).__webglTexture,ye=de(I);if(I.depthTexture.format===Ml)I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Q,0,ye):r.framebufferTexture2D(36160,36096,3553,Q,0);else if(I.depthTexture.format===ef)I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Q,0,ye):r.framebufferTexture2D(36160,33306,3553,Q,0);else throw new Error("Unknown depthTexture format")}function xe(P){let I=n.get(P),U=P.isWebGLCubeRenderTarget===!0;if(P.depthTexture&&!I.__autoAllocateDepthBuffer){if(U)throw new Error("target.depthTexture not supported in Cube render targets");we(I.__webglFramebuffer,P)}else if(U){I.__webglDepthbuffer=[];for(let Q=0;Q<6;Q++)t.bindFramebuffer(36160,I.__webglFramebuffer[Q]),I.__webglDepthbuffer[Q]=r.createRenderbuffer(),he(I.__webglDepthbuffer[Q],P,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=r.createRenderbuffer(),he(I.__webglDepthbuffer,P,!1);t.bindFramebuffer(36160,null)}function Oe(P,I,U){let Q=n.get(P);I!==void 0&&ce(Q.__webglFramebuffer,P,P.texture,36064,3553),U!==void 0&&xe(P)}function ge(P){let I=P.texture,U=n.get(P),Q=n.get(I);P.addEventListener("dispose",O),P.isWebGLMultipleRenderTargets!==!0&&(Q.__webglTexture===void 0&&(Q.__webglTexture=r.createTexture()),Q.__version=I.version,o.memory.textures++);let ye=P.isWebGLCubeRenderTarget===!0,Ie=P.isWebGLMultipleRenderTargets===!0,be=I.isDataTexture3D||I.isDataTexture2DArray,Pe=_(P)||l;if(l&&I.format===Sl&&(I.type===So||I.type===Ku)&&(I.format=Vr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ye){U.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)U.__webglFramebuffer[ze]=r.createFramebuffer()}else if(U.__webglFramebuffer=r.createFramebuffer(),Ie)if(i.drawBuffers){let ze=P.texture;for(let qe=0,Ye=ze.length;qe<Ye;qe++){let Me=n.get(ze[qe]);Me.__webglTexture===void 0&&(Me.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(P.useRenderbuffer)if(l){U.__webglMultisampledFramebuffer=r.createFramebuffer(),U.__webglColorRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(36161,U.__webglColorRenderbuffer);let ze=a.convert(I.format),qe=a.convert(I.type),Ye=T(I.internalFormat,ze,qe,I.encoding),Me=de(P);r.renderbufferStorageMultisample(36161,Me,Ye,P.width,P.height),t.bindFramebuffer(36160,U.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064,36161,U.__webglColorRenderbuffer),r.bindRenderbuffer(36161,null),P.depthBuffer&&(U.__webglDepthRenderbuffer=r.createRenderbuffer(),he(U.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ye){t.bindTexture(34067,Q.__webglTexture),fe(34067,I,Pe);for(let ze=0;ze<6;ze++)ce(U.__webglFramebuffer[ze],P,I,36064,34069+ze);E(I,Pe)&&A(34067),t.unbindTexture()}else if(Ie){let ze=P.texture;for(let qe=0,Ye=ze.length;qe<Ye;qe++){let Me=ze[qe],Ge=n.get(Me);t.bindTexture(3553,Ge.__webglTexture),fe(3553,Me,Pe),ce(U.__webglFramebuffer,P,Me,36064+qe,3553),E(Me,Pe)&&A(3553)}t.unbindTexture()}else{let ze=3553;be&&(l?ze=I.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(ze,Q.__webglTexture),fe(ze,I,Pe),ce(U.__webglFramebuffer,P,I,36064,ze),E(I,Pe)&&A(ze),t.unbindTexture()}P.depthBuffer&&xe(P)}function De(P){let I=_(P)||l,U=P.isWebGLMultipleRenderTargets===!0?P.texture:[P.texture];for(let Q=0,ye=U.length;Q<ye;Q++){let Ie=U[Q];if(E(Ie,I)){let be=P.isWebGLCubeRenderTarget?34067:3553,Pe=n.get(Ie).__webglTexture;t.bindTexture(be,Pe),A(be),t.unbindTexture()}}}function pe(P){if(P.useRenderbuffer)if(l){let I=P.width,U=P.height,Q=16384,ye=[36064],Ie=P.stencilBuffer?33306:36096;P.depthBuffer&&ye.push(Ie),P.ignoreDepthForMultisampleCopy||(P.depthBuffer&&(Q|=256),P.stencilBuffer&&(Q|=1024));let be=n.get(P);t.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,be.__webglFramebuffer),P.ignoreDepthForMultisampleCopy&&(r.invalidateFramebuffer(36008,[Ie]),r.invalidateFramebuffer(36009,[Ie])),r.blitFramebuffer(0,0,I,U,0,0,I,U,Q,9728),r.invalidateFramebuffer(36008,ye),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function de(P){return l&&(P.useRenderbuffer||P.useRenderToTexture)?Math.min(d,P.samples):0}function ie(P){let I=o.render.frame;s.get(P)!==I&&(s.set(P,I),P.update())}let re=!1,q=!1;function te(P,I){P&&P.isWebGLRenderTarget&&(re===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),re=!0),P=P.texture),j(P,I)}function G(P,I){P&&P.isWebGLCubeRenderTarget&&(q===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),q=!0),P=P.texture),J(P,I)}this.allocateTextureUnit=V,this.resetTextureUnits=Z,this.setTexture2D=j,this.setTexture2DArray=z,this.setTexture3D=W,this.setTextureCube=J,this.rebindTextures=Oe,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=pe,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=ce,this.safeSetTexture2D=te,this.safeSetTextureCube=G}function _C(r,e,t){let n=t.isWebGL2;function i(a){let o;if(a===_s)return 5121;if(a===ST)return 32819;if(a===MT)return 32820;if(a===TT)return 33635;if(a===wT)return 5120;if(a===bT)return 5122;if(a===$c)return 5123;if(a===ET)return 5124;if(a===Zp)return 5125;if(a===So)return 5126;if(a===Ku)return n?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===AT)return 6406;if(a===Sl)return 6407;if(a===Vr)return 6408;if(a===CT)return 6409;if(a===RT)return 6410;if(a===Ml)return 6402;if(a===ef)return 34041;if(a===PT)return 6403;if(a===IT)return 36244;if(a===DT)return 33319;if(a===OT)return 33320;if(a===NT)return 36248;if(a===kT)return 36249;if(a===yw||a===xw||a===ww||a===bw)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===yw)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===xw)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===ww)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===bw)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===Ew||a===Sw||a===Mw||a===Tw)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===Ew)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===Sw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===Mw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===Tw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===FT)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((a===Aw||a===Cw)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(a===Aw)return o.COMPRESSED_RGB8_ETC2;if(a===Cw)return o.COMPRESSED_RGBA8_ETC2_EAC}if(a===BT||a===zT||a===UT||a===HT||a===GT||a===WT||a===VT||a===jT||a===ZT||a===XT||a===YT||a===qT||a===JT||a===QT||a===$T||a===eA||a===tA||a===nA||a===rA||a===iA||a===aA||a===oA||a===sA||a===lA||a===uA||a===fA||a===cA||a===hA)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?a:null;if(a===KT)return o=e.get("EXT_texture_compression_bptc"),o!==null?a:null;if(a===$u)return n?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}var Qv=class extends Nn{constructor(e=[]){super();this.cameras=e}};Qv.prototype.isArrayCamera=!0;var zl=class extends ln{constructor(){super();this.type="Group"}};zl.prototype.isGroup=!0;var IB={type:"move"},Kv=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,o=null,l=this._targetRay,c=this._grip,g=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(l!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(IB))),g&&e.hand){o=!0;for(let v of e.hand.values()){let x=t.getJointPose(v,n);if(g.joints[v.jointName]===void 0){let p=new zl;p.matrixAutoUpdate=!1,p.visible=!1,g.joints[v.jointName]=p,g.add(p)}let h=g.joints[v.jointName];x!==null&&(h.matrix.fromArray(x.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=x.radius),h.visible=x!==null}let m=g.joints["index-finger-tip"],d=g.joints["thumb-tip"],u=m.position.distanceTo(d.position),f=.02,s=.005;g.inputState.pinching&&u>f+s?(g.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!g.inputState.pinching&&u<=f-s&&(g.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=a!==null),g!==null&&(g.visible=o!==null),this}},h0=class extends Qn{constructor(e,t,n,i,a,o,l,c,g,m){if(m=m!==void 0?m:Ml,m!==Ml&&m!==ef)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&m===Ml&&(n=$c),n===void 0&&m===ef&&(n=$u);super(null,i,a,o,l,c,m,n,g);this.image={width:e,height:t},this.magFilter=l!==void 0?l:Er,this.minFilter=c!==void 0?c:Er,this.flipY=!1,this.generateMipmaps=!1}};h0.prototype.isDepthTexture=!0;var yC=class extends ja{constructor(e,t){super();let n=this,i=null,a=1,o=null,l="local-floor",c=e.extensions.has("WEBGL_multisampled_render_to_texture"),g=null,m=null,d=null,u=null,f=!1,s=null,v=t.getContextAttributes(),x=null,h=null,p=[],_=new Map,w=new Nn;w.layers.enable(1),w.viewport=new Ln;let E=new Nn;E.layers.enable(2),E.viewport=new Ln;let A=[w,E],T=new Qv;T.layers.enable(1),T.layers.enable(2);let C=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let oe=p[J];return oe===void 0&&(oe=new Kv,p[J]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(J){let oe=p[J];return oe===void 0&&(oe=new Kv,p[J]=oe),oe.getGripSpace()},this.getHand=function(J){let oe=p[J];return oe===void 0&&(oe=new Kv,p[J]=oe),oe.getHandSpace()};function D(J){let oe=_.get(J.inputSource);oe&&oe.dispatchEvent({type:J.type,data:J.inputSource})}function O(){_.forEach(function(J,oe){J.disconnect(oe)}),_.clear(),C=null,R=null,e.setRenderTarget(x),u=null,d=null,m=null,i=null,h=null,W.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){a=J,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return d!==null?d:u},this.getBinding=function(){return m},this.getFrame=function(){return s},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",O),i.addEventListener("inputsourceschange",k),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let oe={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};u=new XRWebGLLayer(i,t,oe),i.updateRenderState({baseLayer:u}),h=new Bi(u.framebufferWidth,u.framebufferHeight)}else{f=v.antialias;let oe=null,le=null,fe=null;v.depth&&(fe=v.stencil?35056:33189,oe=v.stencil?ef:Ml,le=v.stencil?$u:$c);let $={colorFormat:v.alpha||f?32856:32849,depthFormat:fe,scaleFactor:a};m=new XRWebGLBinding(i,t),d=m.createProjectionLayer($),i.updateRenderState({layers:[d]}),f?h=new Kp(d.textureWidth,d.textureHeight,{format:Vr,type:_s,depthTexture:new h0(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:v.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:c}):h=new Bi(d.textureWidth,d.textureHeight,{format:v.alpha?Vr:Sl,type:_s,depthTexture:new h0(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:v.stencil,ignoreDepth:d.ignoreDepthValues})}this.setFoveation(0),o=await i.requestReferenceSpace(l),W.setContext(i),W.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function k(J){let oe=i.inputSources;for(let le=0;le<p.length;le++)_.set(oe[le],p[le]);for(let le=0;le<J.removed.length;le++){let fe=J.removed[le],$=_.get(fe);$&&($.dispatchEvent({type:"disconnected",data:fe}),_.delete(fe))}for(let le=0;le<J.added.length;le++){let fe=J.added[le],$=_.get(fe);$&&$.dispatchEvent({type:"connected",data:fe})}}let H=new Ce,B=new Ce;function Z(J,oe,le){H.setFromMatrixPosition(oe.matrixWorld),B.setFromMatrixPosition(le.matrixWorld);let fe=H.distanceTo(B),$=oe.projectionMatrix.elements,ae=le.projectionMatrix.elements,se=$[14]/($[10]-1),ce=$[14]/($[10]+1),he=($[9]+1)/$[5],we=($[9]-1)/$[5],xe=($[8]-1)/$[0],Oe=(ae[8]+1)/ae[0],ge=se*xe,De=se*Oe,pe=fe/(-xe+Oe),de=pe*-xe;oe.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(de),J.translateZ(pe),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();let ie=se+pe,re=ce+pe,q=ge-de,te=De+(fe-de),G=he*ce/re*ie,P=we*ce/re*ie;J.projectionMatrix.makePerspective(q,te,G,P,ie,re)}function V(J,oe){oe===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(oe.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;T.near=E.near=w.near=J.near,T.far=E.far=w.far=J.far,(C!==T.near||R!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),C=T.near,R=T.far);let oe=J.parent,le=T.cameras;V(T,oe);for(let $=0;$<le.length;$++)V(le[$],oe);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),J.position.copy(T.position),J.quaternion.copy(T.quaternion),J.scale.copy(T.scale),J.matrix.copy(T.matrix),J.matrixWorld.copy(T.matrixWorld);let fe=J.children;for(let $=0,ae=fe.length;$<ae;$++)fe[$].updateMatrixWorld(!0);le.length===2?Z(T,w,E):T.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(J){d!==null&&(d.fixedFoveation=J),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=J)};let j=null;function z(J,oe){if(g=oe.getViewerPose(o),s=oe,g!==null){let fe=g.views;u!==null&&(e.setRenderTargetFramebuffer(h,u.framebuffer),e.setRenderTarget(h));let $=!1;fe.length!==T.cameras.length&&(T.cameras.length=0,$=!0);for(let ae=0;ae<fe.length;ae++){let se=fe[ae],ce=null;if(u!==null)ce=u.getViewport(se);else{let we=m.getViewSubImage(d,se);ce=we.viewport,ae===0&&(e.setRenderTargetTextures(h,we.colorTexture,d.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(h))}let he=A[ae];he.matrix.fromArray(se.transform.matrix),he.projectionMatrix.fromArray(se.projectionMatrix),he.viewport.set(ce.x,ce.y,ce.width,ce.height),ae===0&&T.matrix.copy(he.matrix),$===!0&&T.cameras.push(he)}}let le=i.inputSources;for(let fe=0;fe<p.length;fe++){let $=p[fe],ae=le[fe];$.update(ae,oe,o)}j&&j(J,oe),s=null}let W=new BA;W.setAnimationLoop(z),this.setAnimationLoop=function(J){j=J},this.dispose=function(){}}};function DB(r){function e(h,p){h.fogColor.value.copy(p.color),p.isFog?(h.fogNear.value=p.near,h.fogFar.value=p.far):p.isFogExp2&&(h.fogDensity.value=p.density)}function t(h,p,_,w,E){p.isMeshBasicMaterial?n(h,p):p.isMeshLambertMaterial?(n(h,p),c(h,p)):p.isMeshToonMaterial?(n(h,p),m(h,p)):p.isMeshPhongMaterial?(n(h,p),g(h,p)):p.isMeshStandardMaterial?(n(h,p),p.isMeshPhysicalMaterial?u(h,p,E):d(h,p)):p.isMeshMatcapMaterial?(n(h,p),f(h,p)):p.isMeshDepthMaterial?(n(h,p),s(h,p)):p.isMeshDistanceMaterial?(n(h,p),v(h,p)):p.isMeshNormalMaterial?(n(h,p),x(h,p)):p.isLineBasicMaterial?(i(h,p),p.isLineDashedMaterial&&a(h,p)):p.isPointsMaterial?o(h,p,_,w):p.isSpriteMaterial?l(h,p):p.isShadowMaterial?(h.color.value.copy(p.color),h.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function n(h,p){h.opacity.value=p.opacity,p.color&&h.diffuse.value.copy(p.color),p.emissive&&h.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(h.map.value=p.map),p.alphaMap&&(h.alphaMap.value=p.alphaMap),p.specularMap&&(h.specularMap.value=p.specularMap),p.alphaTest>0&&(h.alphaTest.value=p.alphaTest);let _=r.get(p).envMap;_&&(h.envMap.value=_,h.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,h.reflectivity.value=p.reflectivity,h.ior.value=p.ior,h.refractionRatio.value=p.refractionRatio),p.lightMap&&(h.lightMap.value=p.lightMap,h.lightMapIntensity.value=p.lightMapIntensity),p.aoMap&&(h.aoMap.value=p.aoMap,h.aoMapIntensity.value=p.aoMapIntensity);let w;p.map?w=p.map:p.specularMap?w=p.specularMap:p.displacementMap?w=p.displacementMap:p.normalMap?w=p.normalMap:p.bumpMap?w=p.bumpMap:p.roughnessMap?w=p.roughnessMap:p.metalnessMap?w=p.metalnessMap:p.alphaMap?w=p.alphaMap:p.emissiveMap?w=p.emissiveMap:p.clearcoatMap?w=p.clearcoatMap:p.clearcoatNormalMap?w=p.clearcoatNormalMap:p.clearcoatRoughnessMap?w=p.clearcoatRoughnessMap:p.specularIntensityMap?w=p.specularIntensityMap:p.specularColorMap?w=p.specularColorMap:p.transmissionMap?w=p.transmissionMap:p.thicknessMap?w=p.thicknessMap:p.sheenColorMap?w=p.sheenColorMap:p.sheenRoughnessMap&&(w=p.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),h.uvTransform.value.copy(w.matrix));let E;p.aoMap?E=p.aoMap:p.lightMap&&(E=p.lightMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),h.uv2Transform.value.copy(E.matrix))}function i(h,p){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity}function a(h,p){h.dashSize.value=p.dashSize,h.totalSize.value=p.dashSize+p.gapSize,h.scale.value=p.scale}function o(h,p,_,w){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity,h.size.value=p.size*_,h.scale.value=w*.5,p.map&&(h.map.value=p.map),p.alphaMap&&(h.alphaMap.value=p.alphaMap),p.alphaTest>0&&(h.alphaTest.value=p.alphaTest);let E;p.map?E=p.map:p.alphaMap&&(E=p.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),h.uvTransform.value.copy(E.matrix))}function l(h,p){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity,h.rotation.value=p.rotation,p.map&&(h.map.value=p.map),p.alphaMap&&(h.alphaMap.value=p.alphaMap),p.alphaTest>0&&(h.alphaTest.value=p.alphaTest);let _;p.map?_=p.map:p.alphaMap&&(_=p.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),h.uvTransform.value.copy(_.matrix))}function c(h,p){p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap)}function g(h,p){h.specular.value.copy(p.specular),h.shininess.value=Math.max(p.shininess,1e-4),p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===ir&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===ir&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}function m(h,p){p.gradientMap&&(h.gradientMap.value=p.gradientMap),p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===ir&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===ir&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}function d(h,p){h.roughness.value=p.roughness,h.metalness.value=p.metalness,p.roughnessMap&&(h.roughnessMap.value=p.roughnessMap),p.metalnessMap&&(h.metalnessMap.value=p.metalnessMap),p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===ir&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===ir&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias),r.get(p).envMap&&(h.envMapIntensity.value=p.envMapIntensity)}function u(h,p,_){d(h,p),h.ior.value=p.ior,p.sheen>0&&(h.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),h.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(h.sheenColorMap.value=p.sheenColorMap),p.sheenRoughnessMap&&(h.sheenRoughnessMap.value=p.sheenRoughnessMap)),p.clearcoat>0&&(h.clearcoat.value=p.clearcoat,h.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(h.clearcoatMap.value=p.clearcoatMap),p.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap),p.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),h.clearcoatNormalMap.value=p.clearcoatNormalMap,p.side===ir&&h.clearcoatNormalScale.value.negate())),p.transmission>0&&(h.transmission.value=p.transmission,h.transmissionSamplerMap.value=_.texture,h.transmissionSamplerSize.value.set(_.width,_.height),p.transmissionMap&&(h.transmissionMap.value=p.transmissionMap),h.thickness.value=p.thickness,p.thicknessMap&&(h.thicknessMap.value=p.thicknessMap),h.attenuationDistance.value=p.attenuationDistance,h.attenuationColor.value.copy(p.attenuationColor)),h.specularIntensity.value=p.specularIntensity,h.specularColor.value.copy(p.specularColor),p.specularIntensityMap&&(h.specularIntensityMap.value=p.specularIntensityMap),p.specularColorMap&&(h.specularColorMap.value=p.specularColorMap)}function f(h,p){p.matcap&&(h.matcap.value=p.matcap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===ir&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===ir&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}function s(h,p){p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}function v(h,p){p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias),h.referencePosition.value.copy(p.referencePosition),h.nearDistance.value=p.nearDistance,h.farDistance.value=p.farDistance}function x(h,p){p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===ir&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===ir&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function OB(){let r=Rv("canvas");return r.style.display="block",r}function Tn(r={}){let e=r.canvas!==void 0?r.canvas:OB(),t=r.context!==void 0?r.context:null,n=r.alpha!==void 0?r.alpha:!1,i=r.depth!==void 0?r.depth:!0,a=r.stencil!==void 0?r.stencil:!0,o=r.antialias!==void 0?r.antialias:!1,l=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,c=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,g=r.powerPreference!==void 0?r.powerPreference:"default",m=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1,d=null,u=null,f=[],s=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=jr,this.physicallyCorrectLights=!1,this.toneMapping=Eo,this.toneMappingExposure=1;let v=this,x=!1,h=0,p=0,_=null,w=-1,E=null,A=new Ln,T=new Ln,C=null,R=e.width,D=e.height,O=1,k=null,H=null,B=new Ln(0,0,R,D),Z=new Ln(0,0,R,D),V=!1,j=[],z=new vh,W=!1,J=!1,oe=null,le=new Ot,fe=new Ce,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ae(){return _===null?O:1}let se=t;function ce(ve,Be){for(let je=0;je<ve.length;je++){let tt=ve[je],it=e.getContext(tt,Be);if(it!==null)return it}return null}try{let ve={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:g,failIfMajorPerformanceCaveat:m};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${gv}`),e.addEventListener("webglcontextlost",Ge,!1),e.addEventListener("webglcontextrestored",et,!1),se===null){let Be=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Be.shift(),se=ce(Be,ve),se===null)throw ce(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}se.getShaderPrecisionFormat===void 0&&(se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ve){throw console.error("THREE.WebGLRenderer: "+ve.message),ve}let he,we,xe,Oe,ge,De,pe,de,ie,re,q,te,G,P,I,U,Q,ye,Ie,be,Pe,ze,qe;function Ye(){he=new aF(se),we=new Kk(se,he,r),he.init(we),ze=new _C(se,he,we),xe=new LB(se,he,we),j[0]=1029,Oe=new lF(se),ge=new yB,De=new PB(se,he,xe,ge,we,ze,Oe),pe=new eF(v),de=new iF(v),ie=new bN(se,we),qe=new Jk(se,he,ie,we),re=new oF(se,ie,Oe,qe),q=new hF(se,re,ie,Oe),Ie=new cF(se,we,De),U=new $k(ge),te=new _B(v,pe,de,he,we,qe,U),G=new DB(ge),P=new wB(ge),I=new AB(he,we),ye=new qk(v,pe,xe,q,l),Q=new vC(v,q,we),be=new Qk(se,he,Oe,we),Pe=new sF(se,he,Oe,we),Oe.programs=te.programs,v.capabilities=we,v.extensions=he,v.properties=ge,v.renderLists=P,v.shadowMap=Q,v.state=xe,v.info=Oe}Ye();let Me=new yC(v,se);this.xr=Me,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.loseContext()},this.forceContextRestore=function(){let ve=he.get("WEBGL_lose_context");ve&&ve.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ve){ve!==void 0&&(O=ve,this.setSize(R,D,!1))},this.getSize=function(ve){return ve.set(R,D)},this.setSize=function(ve,Be,je){if(Me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=ve,D=Be,e.width=Math.floor(ve*O),e.height=Math.floor(Be*O),je!==!1&&(e.style.width=ve+"px",e.style.height=Be+"px"),this.setViewport(0,0,ve,Be)},this.getDrawingBufferSize=function(ve){return ve.set(R*O,D*O).floor()},this.setDrawingBufferSize=function(ve,Be,je){R=ve,D=Be,O=je,e.width=Math.floor(ve*je),e.height=Math.floor(Be*je),this.setViewport(0,0,ve,Be)},this.getCurrentViewport=function(ve){return ve.copy(A)},this.getViewport=function(ve){return ve.copy(B)},this.setViewport=function(ve,Be,je,tt){ve.isVector4?B.set(ve.x,ve.y,ve.z,ve.w):B.set(ve,Be,je,tt),xe.viewport(A.copy(B).multiplyScalar(O).floor())},this.getScissor=function(ve){return ve.copy(Z)},this.setScissor=function(ve,Be,je,tt){ve.isVector4?Z.set(ve.x,ve.y,ve.z,ve.w):Z.set(ve,Be,je,tt),xe.scissor(T.copy(Z).multiplyScalar(O).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(ve){xe.setScissorTest(V=ve)},this.setOpaqueSort=function(ve){k=ve},this.setTransparentSort=function(ve){H=ve},this.getClearColor=function(ve){return ve.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(ve,Be,je){let tt=0;(ve===void 0||ve)&&(tt|=16384),(Be===void 0||Be)&&(tt|=256),(je===void 0||je)&&(tt|=1024),se.clear(tt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ge,!1),e.removeEventListener("webglcontextrestored",et,!1),P.dispose(),I.dispose(),ge.dispose(),pe.dispose(),de.dispose(),q.dispose(),qe.dispose(),Me.dispose(),Me.removeEventListener("sessionstart",Je),Me.removeEventListener("sessionend",Re),oe&&(oe.dispose(),oe=null),He.stop()};function Ge(ve){ve.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;let ve=Oe.autoReset,Be=Q.enabled,je=Q.autoUpdate,tt=Q.needsUpdate,it=Q.type;Ye(),Oe.autoReset=ve,Q.enabled=Be,Q.autoUpdate=je,Q.needsUpdate=tt,Q.type=it}function ut(ve){let Be=ve.target;Be.removeEventListener("dispose",ut),ct(Be)}function ct(ve){X(ve),ge.remove(ve)}function X(ve){let Be=ge.get(ve).programs;Be!==void 0&&Be.forEach(function(je){te.releaseProgram(je)})}this.renderBufferDirect=function(ve,Be,je,tt,it,gt){Be===null&&(Be=$);let yt=it.isMesh&&it.matrixWorld.determinant()<0,Ct=Se(ve,Be,je,tt,it);xe.setMaterial(tt,yt);let At=je.index,Yt=je.attributes.position;if(At===null){if(Yt===void 0||Yt.count===0)return}else if(At.count===0)return;let zt=1;tt.wireframe===!0&&(At=re.getWireframeAttribute(je),zt=2),qe.setup(it,tt,Ct,je,At);let Rt,Qt=be;At!==null&&(Rt=ie.get(At),Qt=Pe,Qt.setIndex(Rt));let hn=At!==null?At.count:Yt.count,Ft=je.drawRange.start*zt,kn=je.drawRange.count*zt,Vt=gt!==null?gt.start*zt:0,on=gt!==null?gt.count*zt:1/0,fn=Math.max(Ft,Vt),Kn=Math.min(hn,Ft+kn,Vt+on)-1,Sn=Math.max(0,Kn-fn+1);if(Sn!==0){if(it.isMesh)tt.wireframe===!0?(xe.setLineWidth(tt.wireframeLinewidth*ae()),Qt.setMode(1)):Qt.setMode(4);else if(it.isLine){let en=tt.linewidth;en===void 0&&(en=1),xe.setLineWidth(en*ae()),it.isLineSegments?Qt.setMode(1):it.isLineLoop?Qt.setMode(2):Qt.setMode(3)}else it.isPoints?Qt.setMode(0):it.isSprite&&Qt.setMode(4);if(it.isInstancedMesh)Qt.renderInstances(fn,Sn,it.count);else if(je.isInstancedBufferGeometry){let en=Math.min(je.instanceCount,je._maxInstanceCount);Qt.renderInstances(fn,Sn,en)}else Qt.render(fn,Sn)}},this.compile=function(ve,Be){u=I.get(ve),u.init(),s.push(u),ve.traverseVisible(function(je){je.isLight&&je.layers.test(Be.layers)&&(u.pushLight(je),je.castShadow&&u.pushShadow(je))}),u.setupLights(v.physicallyCorrectLights),ve.traverse(function(je){let tt=je.material;if(tt)if(Array.isArray(tt))for(let it=0;it<tt.length;it++){let gt=tt[it];Ue(gt,ve,je)}else Ue(tt,ve,je)}),s.pop(),u=null};let Ae=null;function ke(ve){Ae&&Ae(ve)}function Je(){He.stop()}function Re(){He.start()}let He=new BA;He.setAnimationLoop(ke),typeof window!="undefined"&&He.setContext(window),this.setAnimationLoop=function(ve){Ae=ve,Me.setAnimationLoop(ve),ve===null?He.stop():He.start()},Me.addEventListener("sessionstart",Je),Me.addEventListener("sessionend",Re),this.render=function(ve,Be){if(Be!==void 0&&Be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;ve.autoUpdate===!0&&ve.updateMatrixWorld(),Be.parent===null&&Be.updateMatrixWorld(),Me.enabled===!0&&Me.isPresenting===!0&&(Me.cameraAutoUpdate===!0&&Me.updateCamera(Be),Be=Me.getCamera()),ve.isScene===!0&&ve.onBeforeRender(v,ve,Be,_),u=I.get(ve,s.length),u.init(),s.push(u),le.multiplyMatrices(Be.projectionMatrix,Be.matrixWorldInverse),z.setFromProjectionMatrix(le),J=this.localClippingEnabled,W=U.init(this.clippingPlanes,J,Be),d=P.get(ve,f.length),d.init(),f.push(d),ue(ve,Be,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(k,H),W===!0&&U.beginShadows();let je=u.state.shadowsArray;if(Q.render(je,ve,Be),W===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye.render(d,ve),u.setupLights(v.physicallyCorrectLights),Be.isArrayCamera){let tt=Be.cameras;for(let it=0,gt=tt.length;it<gt;it++){let yt=tt[it];Ke(d,ve,yt,yt.viewport)}}else Ke(d,ve,Be);_!==null&&(De.updateMultisampleRenderTarget(_),De.updateRenderTargetMipmap(_)),ve.isScene===!0&&ve.onAfterRender(v,ve,Be),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1),qe.resetDefaultState(),w=-1,E=null,s.pop(),s.length>0?u=s[s.length-1]:u=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function ue(ve,Be,je,tt){if(ve.visible===!1)return;if(ve.layers.test(Be.layers)){if(ve.isGroup)je=ve.renderOrder;else if(ve.isLOD)ve.autoUpdate===!0&&ve.update(Be);else if(ve.isLight)u.pushLight(ve),ve.castShadow&&u.pushShadow(ve);else if(ve.isSprite){if(!ve.frustumCulled||z.intersectsSprite(ve)){tt&&fe.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let yt=q.update(ve),Ct=ve.material;Ct.visible&&d.push(ve,yt,Ct,je,fe.z,null)}}else if((ve.isMesh||ve.isLine||ve.isPoints)&&(ve.isSkinnedMesh&&ve.skeleton.frame!==Oe.render.frame&&(ve.skeleton.update(),ve.skeleton.frame=Oe.render.frame),!ve.frustumCulled||z.intersectsObject(ve))){tt&&fe.setFromMatrixPosition(ve.matrixWorld).applyMatrix4(le);let yt=q.update(ve),Ct=ve.material;if(Array.isArray(Ct)){let At=yt.groups;for(let Yt=0,zt=At.length;Yt<zt;Yt++){let Rt=At[Yt],Qt=Ct[Rt.materialIndex];Qt&&Qt.visible&&d.push(ve,yt,Qt,je,fe.z,Rt)}}else Ct.visible&&d.push(ve,yt,Ct,je,fe.z,null)}}let gt=ve.children;for(let yt=0,Ct=gt.length;yt<Ct;yt++)ue(gt[yt],Be,je,tt)}function Ke(ve,Be,je,tt){let it=ve.opaque,gt=ve.transmissive,yt=ve.transparent;u.setupLightsView(je),gt.length>0&&pt(it,Be,je),tt&&xe.viewport(A.copy(tt)),it.length>0&&L(it,Be,je),gt.length>0&&L(gt,Be,je),yt.length>0&&L(yt,Be,je)}function pt(ve,Be,je){if(oe===null){let yt=o===!0&&we.isWebGL2===!0?Kp:Bi;oe=new yt(1024,1024,{generateMipmaps:!0,type:ze.convert(Ku)!==null?Ku:_s,minFilter:Qu,magFilter:Er,wrapS:Wr,wrapT:Wr,useRenderToTexture:he.has("WEBGL_multisampled_render_to_texture")})}let tt=v.getRenderTarget();v.setRenderTarget(oe),v.clear();let it=v.toneMapping;v.toneMapping=Eo,L(ve,Be,je),v.toneMapping=it,De.updateMultisampleRenderTarget(oe),De.updateRenderTargetMipmap(oe),v.setRenderTarget(tt)}function L(ve,Be,je){let tt=Be.isScene===!0?Be.overrideMaterial:null;for(let it=0,gt=ve.length;it<gt;it++){let yt=ve[it],Ct=yt.object,At=yt.geometry,Yt=tt===null?yt.material:tt,zt=yt.group;Ct.layers.test(je.layers)&&Le(Ct,Be,je,At,Yt,zt)}}function Le(ve,Be,je,tt,it,gt){ve.onBeforeRender(v,Be,je,tt,it,gt),ve.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ve.matrixWorld),ve.normalMatrix.getNormalMatrix(ve.modelViewMatrix),it.onBeforeRender(v,Be,je,tt,ve,gt),it.transparent===!0&&it.side===Xu?(it.side=ir,it.needsUpdate=!0,v.renderBufferDirect(je,Be,tt,it,ve,gt),it.side=gs,it.needsUpdate=!0,v.renderBufferDirect(je,Be,tt,it,ve,gt),it.side=Xu):v.renderBufferDirect(je,Be,tt,it,ve,gt),ve.onAfterRender(v,Be,je,tt,it,gt)}function Ue(ve,Be,je){Be.isScene!==!0&&(Be=$);let tt=ge.get(ve),it=u.state.lights,gt=u.state.shadowsArray,yt=it.state.version,Ct=te.getParameters(ve,it.state,gt,Be,je),At=te.getProgramCacheKey(Ct),Yt=tt.programs;tt.environment=ve.isMeshStandardMaterial?Be.environment:null,tt.fog=Be.fog,tt.envMap=(ve.isMeshStandardMaterial?de:pe).get(ve.envMap||tt.environment),Yt===void 0&&(ve.addEventListener("dispose",ut),Yt=new Map,tt.programs=Yt);let zt=Yt.get(At);if(zt!==void 0){if(tt.currentProgram===zt&&tt.lightsStateVersion===yt)return Y(ve,Ct),zt}else Ct.uniforms=te.getUniforms(ve),ve.onBuild(je,Ct,v),ve.onBeforeCompile(Ct,v),zt=te.acquireProgram(Ct,At),Yt.set(At,zt),tt.uniforms=Ct.uniforms;let Rt=tt.uniforms;(!ve.isShaderMaterial&&!ve.isRawShaderMaterial||ve.clipping===!0)&&(Rt.clippingPlanes=U.uniform),Y(ve,Ct),tt.needsLights=lt(ve),tt.lightsStateVersion=yt,tt.needsLights&&(Rt.ambientLightColor.value=it.state.ambient,Rt.lightProbe.value=it.state.probe,Rt.directionalLights.value=it.state.directional,Rt.directionalLightShadows.value=it.state.directionalShadow,Rt.spotLights.value=it.state.spot,Rt.spotLightShadows.value=it.state.spotShadow,Rt.rectAreaLights.value=it.state.rectArea,Rt.ltc_1.value=it.state.rectAreaLTC1,Rt.ltc_2.value=it.state.rectAreaLTC2,Rt.pointLights.value=it.state.point,Rt.pointLightShadows.value=it.state.pointShadow,Rt.hemisphereLights.value=it.state.hemi,Rt.directionalShadowMap.value=it.state.directionalShadowMap,Rt.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Rt.spotShadowMap.value=it.state.spotShadowMap,Rt.spotShadowMatrix.value=it.state.spotShadowMatrix,Rt.pointShadowMap.value=it.state.pointShadowMap,Rt.pointShadowMatrix.value=it.state.pointShadowMatrix);let Qt=zt.getUniforms(),hn=Bl.seqWithValue(Qt.seq,Rt);return tt.currentProgram=zt,tt.uniformsList=hn,zt}function Y(ve,Be){let je=ge.get(ve);je.outputEncoding=Be.outputEncoding,je.instancing=Be.instancing,je.skinning=Be.skinning,je.morphTargets=Be.morphTargets,je.morphNormals=Be.morphNormals,je.morphTargetsCount=Be.morphTargetsCount,je.numClippingPlanes=Be.numClippingPlanes,je.numIntersection=Be.numClipIntersection,je.vertexAlphas=Be.vertexAlphas,je.vertexTangents=Be.vertexTangents}function Se(ve,Be,je,tt,it){Be.isScene!==!0&&(Be=$),De.resetTextureUnits();let gt=Be.fog,yt=tt.isMeshStandardMaterial?Be.environment:null,Ct=_===null?v.outputEncoding:_.texture.encoding,At=(tt.isMeshStandardMaterial?de:pe).get(tt.envMap||yt),Yt=tt.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,zt=!!tt.normalMap&&!!je.attributes.tangent,Rt=!!je.morphAttributes.position,Qt=!!je.morphAttributes.normal,hn=je.morphAttributes.position?je.morphAttributes.position.length:0,Ft=ge.get(tt),kn=u.state.lights;if(W===!0&&(J===!0||ve!==E)){let $n=ve===E&&tt.id===w;U.setState(tt,ve,$n)}let Vt=!1;tt.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==kn.state.version||Ft.outputEncoding!==Ct||it.isInstancedMesh&&Ft.instancing===!1||!it.isInstancedMesh&&Ft.instancing===!0||it.isSkinnedMesh&&Ft.skinning===!1||!it.isSkinnedMesh&&Ft.skinning===!0||Ft.envMap!==At||tt.fog&&Ft.fog!==gt||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==U.numPlanes||Ft.numIntersection!==U.numIntersection)||Ft.vertexAlphas!==Yt||Ft.vertexTangents!==zt||Ft.morphTargets!==Rt||Ft.morphNormals!==Qt||we.isWebGL2===!0&&Ft.morphTargetsCount!==hn)&&(Vt=!0):(Vt=!0,Ft.__version=tt.version);let on=Ft.currentProgram;Vt===!0&&(on=Ue(tt,Be,it));let fn=!1,Kn=!1,Sn=!1,en=on.getUniforms(),Mr=Ft.uniforms;if(xe.useProgram(on.program)&&(fn=!0,Kn=!0,Sn=!0),tt.id!==w&&(w=tt.id,Kn=!0),fn||E!==ve){if(en.setValue(se,"projectionMatrix",ve.projectionMatrix),we.logarithmicDepthBuffer&&en.setValue(se,"logDepthBufFC",2/(Math.log(ve.far+1)/Math.LN2)),E!==ve&&(E=ve,Kn=!0,Sn=!0),tt.isShaderMaterial||tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshStandardMaterial||tt.envMap){let $n=en.map.cameraPosition;$n!==void 0&&$n.setValue(se,fe.setFromMatrixPosition(ve.matrixWorld))}(tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshLambertMaterial||tt.isMeshBasicMaterial||tt.isMeshStandardMaterial||tt.isShaderMaterial)&&en.setValue(se,"isOrthographic",ve.isOrthographicCamera===!0),(tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshLambertMaterial||tt.isMeshBasicMaterial||tt.isMeshStandardMaterial||tt.isShaderMaterial||tt.isShadowMaterial||it.isSkinnedMesh)&&en.setValue(se,"viewMatrix",ve.matrixWorldInverse)}if(it.isSkinnedMesh){en.setOptional(se,it,"bindMatrix"),en.setOptional(se,it,"bindMatrixInverse");let $n=it.skeleton;$n&&(we.floatVertexTextures?($n.boneTexture===null&&$n.computeBoneTexture(),en.setValue(se,"boneTexture",$n.boneTexture,De),en.setValue(se,"boneTextureSize",$n.boneTextureSize)):en.setOptional(se,$n,"boneMatrices"))}return!!je&&(je.morphAttributes.position!==void 0||je.morphAttributes.normal!==void 0)&&Ie.update(it,je,tt,on),(Kn||Ft.receiveShadow!==it.receiveShadow)&&(Ft.receiveShadow=it.receiveShadow,en.setValue(se,"receiveShadow",it.receiveShadow)),Kn&&(en.setValue(se,"toneMappingExposure",v.toneMappingExposure),Ft.needsLights&&Ve(Mr,Sn),gt&&tt.fog&&G.refreshFogUniforms(Mr,gt),G.refreshMaterialUniforms(Mr,tt,O,D,oe),Bl.upload(se,Ft.uniformsList,Mr,De)),tt.isShaderMaterial&&tt.uniformsNeedUpdate===!0&&(Bl.upload(se,Ft.uniformsList,Mr,De),tt.uniformsNeedUpdate=!1),tt.isSpriteMaterial&&en.setValue(se,"center",it.center),en.setValue(se,"modelViewMatrix",it.modelViewMatrix),en.setValue(se,"normalMatrix",it.normalMatrix),en.setValue(se,"modelMatrix",it.matrixWorld),on}function Ve(ve,Be){ve.ambientLightColor.needsUpdate=Be,ve.lightProbe.needsUpdate=Be,ve.directionalLights.needsUpdate=Be,ve.directionalLightShadows.needsUpdate=Be,ve.pointLights.needsUpdate=Be,ve.pointLightShadows.needsUpdate=Be,ve.spotLights.needsUpdate=Be,ve.spotLightShadows.needsUpdate=Be,ve.rectAreaLights.needsUpdate=Be,ve.hemisphereLights.needsUpdate=Be}function lt(ve){return ve.isMeshLambertMaterial||ve.isMeshToonMaterial||ve.isMeshPhongMaterial||ve.isMeshStandardMaterial||ve.isShadowMaterial||ve.isShaderMaterial&&ve.lights===!0}this.getActiveCubeFace=function(){return h},this.getActiveMipmapLevel=function(){return p},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(ve,Be,je){ge.get(ve.texture).__webglTexture=Be,ge.get(ve.depthTexture).__webglTexture=je;let tt=ge.get(ve);tt.__hasExternalTextures=!0,tt.__hasExternalTextures&&(tt.__autoAllocateDepthBuffer=je===void 0,tt.__autoAllocateDepthBuffer||ve.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),ve.useRenderToTexture=!1,ve.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(ve,Be){let je=ge.get(ve);je.__webglFramebuffer=Be,je.__useDefaultFramebuffer=Be===void 0},this.setRenderTarget=function(ve,Be=0,je=0){_=ve,h=Be,p=je;let tt=!0;if(ve){let At=ge.get(ve);At.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),tt=!1):At.__webglFramebuffer===void 0?De.setupRenderTarget(ve):At.__hasExternalTextures&&De.rebindTextures(ve,ge.get(ve.texture).__webglTexture,ge.get(ve.depthTexture).__webglTexture)}let it=null,gt=!1,yt=!1;if(ve){let At=ve.texture;(At.isDataTexture3D||At.isDataTexture2DArray)&&(yt=!0);let Yt=ge.get(ve).__webglFramebuffer;ve.isWebGLCubeRenderTarget?(it=Yt[Be],gt=!0):ve.useRenderbuffer?it=ge.get(ve).__webglMultisampledFramebuffer:it=Yt,A.copy(ve.viewport),T.copy(ve.scissor),C=ve.scissorTest}else A.copy(B).multiplyScalar(O).floor(),T.copy(Z).multiplyScalar(O).floor(),C=V;if(xe.bindFramebuffer(36160,it)&&we.drawBuffers&&tt){let At=!1;if(ve)if(ve.isWebGLMultipleRenderTargets){let Yt=ve.texture;if(j.length!==Yt.length||j[0]!==36064){for(let zt=0,Rt=Yt.length;zt<Rt;zt++)j[zt]=36064+zt;j.length=Yt.length,At=!0}}else(j.length!==1||j[0]!==36064)&&(j[0]=36064,j.length=1,At=!0);else(j.length!==1||j[0]!==1029)&&(j[0]=1029,j.length=1,At=!0);At&&(we.isWebGL2?se.drawBuffers(j):he.get("WEBGL_draw_buffers").drawBuffersWEBGL(j))}if(xe.viewport(A),xe.scissor(T),xe.setScissorTest(C),gt){let At=ge.get(ve.texture);se.framebufferTexture2D(36160,36064,34069+Be,At.__webglTexture,je)}else if(yt){let At=ge.get(ve.texture),Yt=Be||0;se.framebufferTextureLayer(36160,36064,At.__webglTexture,je||0,Yt)}w=-1},this.readRenderTargetPixels=function(ve,Be,je,tt,it,gt,yt){if(!(ve&&ve.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=ge.get(ve).__webglFramebuffer;if(ve.isWebGLCubeRenderTarget&&yt!==void 0&&(Ct=Ct[yt]),Ct){xe.bindFramebuffer(36160,Ct);try{let At=ve.texture,Yt=At.format,zt=At.type;if(Yt!==Vr&&ze.convert(Yt)!==se.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Rt=zt===Ku&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(zt!==_s&&ze.convert(zt)!==se.getParameter(35738)&&!(zt===So&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Rt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se.checkFramebufferStatus(36160)===36053?Be>=0&&Be<=ve.width-tt&&je>=0&&je<=ve.height-it&&se.readPixels(Be,je,tt,it,ze.convert(Yt),ze.convert(zt),gt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{let At=_!==null?ge.get(_).__webglFramebuffer:null;xe.bindFramebuffer(36160,At)}}},this.copyFramebufferToTexture=function(ve,Be,je=0){let tt=Math.pow(2,-je),it=Math.floor(Be.image.width*tt),gt=Math.floor(Be.image.height*tt),yt=ze.convert(Be.format);we.isWebGL2&&(yt===6407&&(yt=32849),yt===6408&&(yt=32856)),De.setTexture2D(Be,0),se.copyTexImage2D(3553,je,yt,ve.x,ve.y,it,gt,0),xe.unbindTexture()},this.copyTextureToTexture=function(ve,Be,je,tt=0){let it=Be.image.width,gt=Be.image.height,yt=ze.convert(je.format),Ct=ze.convert(je.type);De.setTexture2D(je,0),se.pixelStorei(37440,je.flipY),se.pixelStorei(37441,je.premultiplyAlpha),se.pixelStorei(3317,je.unpackAlignment),Be.isDataTexture?se.texSubImage2D(3553,tt,ve.x,ve.y,it,gt,yt,Ct,Be.image.data):Be.isCompressedTexture?se.compressedTexSubImage2D(3553,tt,ve.x,ve.y,Be.mipmaps[0].width,Be.mipmaps[0].height,yt,Be.mipmaps[0].data):se.texSubImage2D(3553,tt,ve.x,ve.y,yt,Ct,Be.image),tt===0&&je.generateMipmaps&&se.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(ve,Be,je,tt,it=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let gt=ve.max.x-ve.min.x+1,yt=ve.max.y-ve.min.y+1,Ct=ve.max.z-ve.min.z+1,At=ze.convert(tt.format),Yt=ze.convert(tt.type),zt;if(tt.isDataTexture3D)De.setTexture3D(tt,0),zt=32879;else if(tt.isDataTexture2DArray)De.setTexture2DArray(tt,0),zt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}se.pixelStorei(37440,tt.flipY),se.pixelStorei(37441,tt.premultiplyAlpha),se.pixelStorei(3317,tt.unpackAlignment);let Rt=se.getParameter(3314),Qt=se.getParameter(32878),hn=se.getParameter(3316),Ft=se.getParameter(3315),kn=se.getParameter(32877),Vt=je.isCompressedTexture?je.mipmaps[0]:je.image;se.pixelStorei(3314,Vt.width),se.pixelStorei(32878,Vt.height),se.pixelStorei(3316,ve.min.x),se.pixelStorei(3315,ve.min.y),se.pixelStorei(32877,ve.min.z),je.isDataTexture||je.isDataTexture3D?se.texSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Ct,At,Yt,Vt.data):je.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),se.compressedTexSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Ct,At,Vt.data)):se.texSubImage3D(zt,it,Be.x,Be.y,Be.z,gt,yt,Ct,At,Yt,Vt),se.pixelStorei(3314,Rt),se.pixelStorei(32878,Qt),se.pixelStorei(3316,hn),se.pixelStorei(3315,Ft),se.pixelStorei(32877,kn),it===0&&tt.generateMipmaps&&se.generateMipmap(zt),xe.unbindTexture()},this.initTexture=function(ve){De.setTexture2D(ve,0),xe.unbindTexture()},this.resetState=function(){h=0,p=0,_=null,xe.reset(),qe.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Tn.prototype.isWebGLRenderer=!0;var xb=class extends Tn{};xb.prototype.isWebGL1Renderer=!0;var bh=class{constructor(e,t=25e-5){this.name="",this.color=new wt(e),this.density=t}clone(){return new bh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}};bh.prototype.isFogExp2=!0;var Eh=class{constructor(e,t=1,n=1e3){this.name="",this.color=new wt(e),this.near=t,this.far=n}clone(){return new Eh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}};Eh.prototype.isFog=!0;var pf=class extends ln{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};pf.prototype.isScene=!0;var Ul=class{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=eh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};Ul.prototype.isInterleavedBuffer=!0;var yr=new Ce,Cs=class{constructor(e,t,n,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)yr.x=this.getX(t),yr.y=this.getY(t),yr.z=this.getZ(t),yr.applyMatrix4(e),this.setXYZ(t,yr.x,yr.y,yr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)yr.x=this.getX(t),yr.y=this.getY(t),yr.z=this.getZ(t),yr.applyNormalMatrix(e),this.setXYZ(t,yr.x,yr.y,yr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)yr.x=this.getX(t),yr.y=this.getY(t),yr.z=this.getZ(t),yr.transformDirection(e),this.setXYZ(t,yr.x,yr.y,yr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new mn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};Cs.prototype.isInterleavedBufferAttribute=!0;var d0=class extends Lr{constructor(e){super();this.type="SpriteMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}};d0.prototype.isSpriteMaterial=!0;var Sh,p0=new Ce,Mh=new Ce,Th=new Ce,Ah=new ft,m0=new ft,xC=new Ot,$v=new Ce,g0=new Ce,e1=new Ce,wC=new ft,wb=new ft,bC=new ft,v0=class extends ln{constructor(e){super();if(this.type="Sprite",Sh===void 0){Sh=new Ht;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ul(t,5);Sh.setIndex([0,1,2,0,2,3]),Sh.setAttribute("position",new Cs(n,3,0,!1)),Sh.setAttribute("uv",new Cs(n,2,3,!1))}this.geometry=Sh,this.material=e!==void 0?e:new d0,this.center=new ft(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mh.setFromMatrixScale(this.matrixWorld),xC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Th.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mh.multiplyScalar(-Th.z);let n=this.material.rotation,i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));let o=this.center;t1($v.set(-.5,-.5,0),Th,o,Mh,i,a),t1(g0.set(.5,-.5,0),Th,o,Mh,i,a),t1(e1.set(.5,.5,0),Th,o,Mh,i,a),wC.set(0,0),wb.set(1,0),bC.set(1,1);let l=e.ray.intersectTriangle($v,g0,e1,!1,p0);if(l===null&&(t1(g0.set(-.5,.5,0),Th,o,Mh,i,a),wb.set(0,1),l=e.ray.intersectTriangle($v,e1,g0,!1,p0),l===null))return;let c=e.ray.origin.distanceTo(p0);c<e.near||c>e.far||t.push({distance:c,point:p0.clone(),uv:cr.getUV(p0,$v,g0,e1,wC,wb,bC,new ft),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};v0.prototype.isSprite=!0;function t1(r,e,t,n,i,a){Ah.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(m0.x=a*Ah.x-i*Ah.y,m0.y=i*Ah.x+a*Ah.y):m0.copy(Ah),r.copy(e),r.x+=m0.x,r.y+=m0.y,r.applyMatrix4(xC)}var n1=new Ce,EC=new Ce,bb=class extends ln{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let n=0,i=t.length;n<i;n++){let a=t[n];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);let n=this.levels,i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){n1.setFromMatrixPosition(this.matrixWorld);let i=e.ray.origin.distanceTo(n1);this.getObjectForDistance(i).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){n1.setFromMatrixPosition(e.matrixWorld),EC.setFromMatrixPosition(this.matrixWorld);let n=n1.distanceTo(EC)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let n=this.levels;for(let i=0,a=n.length;i<a;i++){let o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}},SC=new Ce,MC=new Ln,TC=new Ln,NB=new Ce,AC=new Ot,_0=class extends _r{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Ln,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);let a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){let n=this.skeleton,i=this.geometry;MC.fromBufferAttribute(i.attributes.skinIndex,e),TC.fromBufferAttribute(i.attributes.skinWeight,e),SC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){let o=TC.getComponent(a);if(o!==0){let l=MC.getComponent(a);AC.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(NB.copy(SC).applyMatrix4(AC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};_0.prototype.isSkinnedMesh=!0;var y0=class extends ln{constructor(){super();this.type="Bone"}};y0.prototype.isBone=!0;var Hl=class extends Qn{constructor(e=null,t=1,n=1,i,a,o,l,c,g=Er,m=Er,d,u){super(null,o,l,c,g,m,i,a,d,u);this.image={data:e,width:t,height:n},this.magFilter=g,this.minFilter=m,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}};Hl.prototype.isDataTexture=!0;var CC=new Ot,kB=new Ot,x0=class{constructor(e=[],t=[]){this.uuid=Yi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new Ot;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){let l=e[a]?e[a].matrixWorld:kB;CC.multiplyMatrices(l,t[a]),CC.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new x0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=wA(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new Hl(t,e,e,Vr,So);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let a=e.bones[n],o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new y0),this.bones.push(o),this.boneInverses.push(new Ot().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){let o=t[i];e.bones.push(o.uuid);let l=n[i];e.boneInverses.push(l.toArray())}return e}},Gl=class extends mn{constructor(e,t,n,i=1){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,n);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};Gl.prototype.isInstancedBufferAttribute=!0;var RC=new Ot,LC=new Ot,r1=[],w0=new _r,i1=class extends _r{constructor(e,t,n){super(e,t);this.instanceMatrix=new Gl(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let n=this.matrixWorld,i=this.count;if(w0.geometry=this.geometry,w0.material=this.material,w0.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,RC),LC.multiplyMatrices(n,RC),w0.matrixWorld=LC,w0.raycast(e,r1);for(let o=0,l=r1.length;o<l;o++){let c=r1[o];c.instanceId=a,c.object=this,t.push(c)}r1.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Gl(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}};i1.prototype.isInstancedMesh=!0;var Pr=class extends Lr{constructor(e){super();this.type="LineBasicMaterial",this.color=new wt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}};Pr.prototype.isLineBasicMaterial=!0;var PC=new Ce,IC=new Ce,DC=new Ot,Eb=new bs,a1=new xs,Co=class extends ln{constructor(e=new Ht,t=new Pr){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)PC.fromBufferAttribute(t,i-1),IC.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=PC.distanceTo(IC);e.setAttribute("lineDistance",new Dt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),a1.copy(n.boundingSphere),a1.applyMatrix4(i),a1.radius+=a,e.ray.intersectsSphere(a1)===!1)return;DC.copy(i).invert(),Eb.copy(e.ray).applyMatrix4(DC);let l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,g=new Ce,m=new Ce,d=new Ce,u=new Ce,f=this.isLineSegments?2:1;if(n.isBufferGeometry){let s=n.index,x=n.attributes.position;if(s!==null){let h=Math.max(0,o.start),p=Math.min(s.count,o.start+o.count);for(let _=h,w=p-1;_<w;_+=f){let E=s.getX(_),A=s.getX(_+1);if(g.fromBufferAttribute(x,E),m.fromBufferAttribute(x,A),Eb.distanceSqToSegment(g,m,u,d)>c)continue;u.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(u);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{let h=Math.max(0,o.start),p=Math.min(x.count,o.start+o.count);for(let _=h,w=p-1;_<w;_+=f){if(g.fromBufferAttribute(x,_),m.fromBufferAttribute(x,_+1),Eb.distanceSqToSegment(g,m,u,d)>c)continue;u.applyMatrix4(this.matrixWorld);let A=e.ray.origin.distanceTo(u);A<e.near||A>e.far||t.push({distance:A,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Co.prototype.isLine=!0;var OC=new Ce,NC=new Ce,xi=class extends Co{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)OC.fromBufferAttribute(t,i),NC.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+OC.distanceTo(NC);e.setAttribute("lineDistance",new Dt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}};xi.prototype.isLineSegments=!0;var o1=class extends Co{constructor(e,t){super(e,t);this.type="LineLoop"}};o1.prototype.isLineLoop=!0;var Wl=class extends Lr{constructor(e){super();this.type="PointsMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}};Wl.prototype.isPointsMaterial=!0;var kC=new Ot,Sb=new bs,s1=new xs,l1=new Ce,Ch=class extends ln{constructor(e=new Ht,t=new Wl){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),s1.copy(n.boundingSphere),s1.applyMatrix4(i),s1.radius+=a,e.ray.intersectsSphere(s1)===!1)return;kC.copy(i).invert(),Sb.copy(e.ray).applyMatrix4(kC);let l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l;if(n.isBufferGeometry){let g=n.index,d=n.attributes.position;if(g!==null){let u=Math.max(0,o.start),f=Math.min(g.count,o.start+o.count);for(let s=u,v=f;s<v;s++){let x=g.getX(s);l1.fromBufferAttribute(d,x),FC(l1,x,c,i,e,t,this)}}else{let u=Math.max(0,o.start),f=Math.min(d.count,o.start+o.count);for(let s=u,v=f;s<v;s++)l1.fromBufferAttribute(d,s),FC(l1,s,c,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){let l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Ch.prototype.isPoints=!0;function FC(r,e,t,n,i,a,o){let l=Sb.distanceSqToPoint(r);if(l<t){let c=new Ce;Sb.closestPointToPoint(r,c),c.applyMatrix4(n);let g=i.ray.origin.distanceTo(c);if(g<i.near||g>i.far)return;a.push({distance:g,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:o})}}var Mb=class extends Qn{constructor(e,t,n,i,a,o,l,c,g){super(e,t,n,i,a,o,l,c,g);this.format=l!==void 0?l:Sl,this.minFilter=o!==void 0?o:Rr,this.magFilter=a!==void 0?a:Rr,this.generateMipmaps=!1;let m=this;function d(){m.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}};Mb.prototype.isVideoTexture=!0;var u1=class extends Qn{constructor(e,t,n,i,a,o,l,c,g,m,d,u){super(null,o,l,c,g,m,i,a,d,u);this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};u1.prototype.isCompressedTexture=!0;var mf=class extends Qn{constructor(e,t,n,i,a,o,l,c,g){super(e,t,n,i,a,o,l,c,g);this.needsUpdate=!0}};mf.prototype.isCanvasTexture=!0;var Rh=class extends Ht{constructor(e=1,t=8,n=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);let a=[],o=[],l=[],c=[],g=new Ce,m=new ft;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let d=0,u=3;d<=t;d++,u+=3){let f=n+d/t*i;g.x=e*Math.cos(f),g.y=e*Math.sin(f),o.push(g.x,g.y,g.z),l.push(0,0,1),m.x=(o[u]/e+1)/2,m.y=(o[u+1]/e+1)/2,c.push(m.x,m.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new Dt(o,3)),this.setAttribute("normal",new Dt(l,3)),this.setAttribute("uv",new Dt(c,2))}static fromJSON(e){return new Rh(e.radius,e.segments,e.thetaStart,e.thetaLength)}},Vl=class extends Ht{constructor(e=1,t=1,n=1,i=8,a=1,o=!1,l=0,c=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:c};let g=this;i=Math.floor(i),a=Math.floor(a);let m=[],d=[],u=[],f=[],s=0,v=[],x=n/2,h=0;p(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(m),this.setAttribute("position",new Dt(d,3)),this.setAttribute("normal",new Dt(u,3)),this.setAttribute("uv",new Dt(f,2));function p(){let w=new Ce,E=new Ce,A=0,T=(t-e)/n;for(let C=0;C<=a;C++){let R=[],D=C/a,O=D*(t-e)+e;for(let k=0;k<=i;k++){let H=k/i,B=H*c+l,Z=Math.sin(B),V=Math.cos(B);E.x=O*Z,E.y=-D*n+x,E.z=O*V,d.push(E.x,E.y,E.z),w.set(Z,T,V).normalize(),u.push(w.x,w.y,w.z),f.push(H,1-D),R.push(s++)}v.push(R)}for(let C=0;C<i;C++)for(let R=0;R<a;R++){let D=v[R][C],O=v[R+1][C],k=v[R+1][C+1],H=v[R][C+1];m.push(D,O,H),m.push(O,k,H),A+=6}g.addGroup(h,A,0),h+=A}function _(w){let E=s,A=new ft,T=new Ce,C=0,R=w===!0?e:t,D=w===!0?1:-1;for(let k=1;k<=i;k++)d.push(0,x*D,0),u.push(0,D,0),f.push(.5,.5),s++;let O=s;for(let k=0;k<=i;k++){let B=k/i*c+l,Z=Math.cos(B),V=Math.sin(B);T.x=R*V,T.y=x*D,T.z=R*Z,d.push(T.x,T.y,T.z),u.push(0,D,0),A.x=Z*.5+.5,A.y=V*.5*D+.5,f.push(A.x,A.y),s++}for(let k=0;k<i;k++){let H=E+k,B=O+k;w===!0?m.push(B,B+1,H):m.push(B+1,B,H),C+=3}g.addGroup(h,C,w===!0?1:2),h+=C}}static fromJSON(e){return new Vl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Lh=class extends Vl{constructor(e=1,t=1,n=8,i=1,a=!1,o=0,l=Math.PI*2){super(0,e,t,n,i,a,o,l);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Lh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Ro=class extends Ht{constructor(e=[],t=[],n=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};let a=[],o=[];l(i),g(n),m(),this.setAttribute("position",new Dt(a,3)),this.setAttribute("normal",new Dt(a.slice(),3)),this.setAttribute("uv",new Dt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(p){let _=new Ce,w=new Ce,E=new Ce;for(let A=0;A<t.length;A+=3)f(t[A+0],_),f(t[A+1],w),f(t[A+2],E),c(_,w,E,p)}function c(p,_,w,E){let A=E+1,T=[];for(let C=0;C<=A;C++){T[C]=[];let R=p.clone().lerp(w,C/A),D=_.clone().lerp(w,C/A),O=A-C;for(let k=0;k<=O;k++)k===0&&C===A?T[C][k]=R:T[C][k]=R.clone().lerp(D,k/O)}for(let C=0;C<A;C++)for(let R=0;R<2*(A-C)-1;R++){let D=Math.floor(R/2);R%2==0?(u(T[C][D+1]),u(T[C+1][D]),u(T[C][D])):(u(T[C][D+1]),u(T[C+1][D+1]),u(T[C+1][D]))}}function g(p){let _=new Ce;for(let w=0;w<a.length;w+=3)_.x=a[w+0],_.y=a[w+1],_.z=a[w+2],_.normalize().multiplyScalar(p),a[w+0]=_.x,a[w+1]=_.y,a[w+2]=_.z}function m(){let p=new Ce;for(let _=0;_<a.length;_+=3){p.x=a[_+0],p.y=a[_+1],p.z=a[_+2];let w=x(p)/2/Math.PI+.5,E=h(p)/Math.PI+.5;o.push(w,1-E)}s(),d()}function d(){for(let p=0;p<o.length;p+=6){let _=o[p+0],w=o[p+2],E=o[p+4],A=Math.max(_,w,E),T=Math.min(_,w,E);A>.9&&T<.1&&(_<.2&&(o[p+0]+=1),w<.2&&(o[p+2]+=1),E<.2&&(o[p+4]+=1))}}function u(p){a.push(p.x,p.y,p.z)}function f(p,_){let w=p*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function s(){let p=new Ce,_=new Ce,w=new Ce,E=new Ce,A=new ft,T=new ft,C=new ft;for(let R=0,D=0;R<a.length;R+=9,D+=6){p.set(a[R+0],a[R+1],a[R+2]),_.set(a[R+3],a[R+4],a[R+5]),w.set(a[R+6],a[R+7],a[R+8]),A.set(o[D+0],o[D+1]),T.set(o[D+2],o[D+3]),C.set(o[D+4],o[D+5]),E.copy(p).add(_).add(w).divideScalar(3);let O=x(E);v(A,D+0,p,O),v(T,D+2,_,O),v(C,D+4,w,O)}}function v(p,_,w,E){E<0&&p.x===1&&(o[_]=p.x-1),w.x===0&&w.z===0&&(o[_]=E/2/Math.PI+.5)}function x(p){return Math.atan2(p.z,-p.x)}function h(p){return Math.atan2(-p.y,Math.sqrt(p.x*p.x+p.z*p.z))}}static fromJSON(e){return new Ro(e.vertices,e.indices,e.radius,e.details)}},Ph=class extends Ro{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ph(e.radius,e.detail)}},f1=new Ce,c1=new Ce,Tb=new Ce,h1=new cr,d1=class extends Ht{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let i=Math.pow(10,4),a=Math.cos(af*t),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,g=[0,0,0],m=["a","b","c"],d=new Array(3),u={},f=[];for(let s=0;s<c;s+=3){o?(g[0]=o.getX(s),g[1]=o.getX(s+1),g[2]=o.getX(s+2)):(g[0]=s,g[1]=s+1,g[2]=s+2);let{a:v,b:x,c:h}=h1;if(v.fromBufferAttribute(l,g[0]),x.fromBufferAttribute(l,g[1]),h.fromBufferAttribute(l,g[2]),h1.getNormal(Tb),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(h.x*i)},${Math.round(h.y*i)},${Math.round(h.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let p=0;p<3;p++){let _=(p+1)%3,w=d[p],E=d[_],A=h1[m[p]],T=h1[m[_]],C=`${w}_${E}`,R=`${E}_${w}`;R in u&&u[R]?(Tb.dot(u[R].normal)<=a&&(f.push(A.x,A.y,A.z),f.push(T.x,T.y,T.z)),u[R]=null):C in u||(u[C]={index0:g[p],index1:g[_],normal:Tb.clone()})}}for(let s in u)if(u[s]){let{index0:v,index1:x}=u[s];f1.fromBufferAttribute(l,v),c1.fromBufferAttribute(l,x),f.push(f1.x,f1.y,f1.z),f.push(c1.x,c1.y,c1.z)}this.setAttribute("position",new Dt(f,3))}}},Ui=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n=this.getLengths(),i=0,a=n.length,o;t?o=t:o=e*n[a-1];let l=0,c=a-1,g;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),g=n[i]-o,g<0)l=i+1;else if(g>0)c=i-1;else{c=i;break}if(i=c,n[i]===o)return i/(a-1);let m=n[i],u=n[i+1]-m,f=(o-m)/u;return(i+f)/(a-1)}getTangent(e,t){let n=1e-4,i=e-n,a=e+n;i<0&&(i=0),a>1&&(a=1);let o=this.getPoint(i),l=this.getPoint(a),c=t||(o.isVector2?new ft:new Ce);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new Ce,i=[],a=[],o=[],l=new Ce,c=new Ot;for(let f=0;f<=e;f++){let s=f/e;i[f]=this.getTangentAt(s,new Ce)}a[0]=new Ce,o[0]=new Ce;let g=Number.MAX_VALUE,m=Math.abs(i[0].x),d=Math.abs(i[0].y),u=Math.abs(i[0].z);m<=g&&(g=m,n.set(1,0,0)),d<=g&&(g=d,n.set(0,1,0)),u<=g&&n.set(0,0,1),l.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],l),o[0].crossVectors(i[0],a[0]);for(let f=1;f<=e;f++){if(a[f]=a[f-1].clone(),o[f]=o[f-1].clone(),l.crossVectors(i[f-1],i[f]),l.length()>Number.EPSILON){l.normalize();let s=Math.acos(Xr(i[f-1].dot(i[f]),-1,1));a[f].applyMatrix4(c.makeRotationAxis(l,s))}o[f].crossVectors(i[f],a[f])}if(t===!0){let f=Math.acos(Xr(a[0].dot(a[e]),-1,1));f/=e,i[0].dot(l.crossVectors(a[0],a[e]))>0&&(f=-f);for(let s=1;s<=e;s++)a[s].applyMatrix4(c.makeRotationAxis(i[s],f*s)),o[s].crossVectors(i[s],a[s])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Ih=class extends Ui{constructor(e=0,t=0,n=1,i=1,a=0,o=Math.PI*2,l=!1,c=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,t){let n=t||new ft,i=Math.PI*2,a=this.aEndAngle-this.aStartAngle,o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);let l=this.aStartAngle+e*a,c=this.aX+this.xRadius*Math.cos(l),g=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){let m=Math.cos(this.aRotation),d=Math.sin(this.aRotation),u=c-this.aX,f=g-this.aY;c=u*m-f*d+this.aX,g=u*d+f*m+this.aY}return n.set(c,g)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};Ih.prototype.isEllipseCurve=!0;var p1=class extends Ih{constructor(e,t,n,i,a,o){super(e,t,n,n,i,a,o);this.type="ArcCurve"}};p1.prototype.isArcCurve=!0;function Ab(){let r=0,e=0,t=0,n=0;function i(a,o,l,c){r=a,e=l,t=-3*a+3*o-2*l-c,n=2*a-2*o+l+c}return{initCatmullRom:function(a,o,l,c,g){i(o,l,g*(l-a),g*(c-o))},initNonuniformCatmullRom:function(a,o,l,c,g,m,d){let u=(o-a)/g-(l-a)/(g+m)+(l-o)/m,f=(l-o)/m-(c-o)/(m+d)+(c-l)/d;u*=m,f*=m,i(o,l,u,f)},calc:function(a){let o=a*a,l=o*a;return r+e*a+t*o+n*l}}}var m1=new Ce,Cb=new Ab,Rb=new Ab,Lb=new Ab,g1=class extends Ui{constructor(e=[],t=!1,n="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Ce){let n=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:c===0&&l===a-1&&(l=a-2,c=1);let g,m;this.closed||l>0?g=i[(l-1)%a]:(m1.subVectors(i[0],i[1]).add(i[0]),g=m1);let d=i[l%a],u=i[(l+1)%a];if(this.closed||l+2<a?m=i[(l+2)%a]:(m1.subVectors(i[a-1],i[a-2]).add(i[a-1]),m=m1),this.curveType==="centripetal"||this.curveType==="chordal"){let f=this.curveType==="chordal"?.5:.25,s=Math.pow(g.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(u),f),x=Math.pow(u.distanceToSquared(m),f);v<1e-4&&(v=1),s<1e-4&&(s=v),x<1e-4&&(x=v),Cb.initNonuniformCatmullRom(g.x,d.x,u.x,m.x,s,v,x),Rb.initNonuniformCatmullRom(g.y,d.y,u.y,m.y,s,v,x),Lb.initNonuniformCatmullRom(g.z,d.z,u.z,m.z,s,v,x)}else this.curveType==="catmullrom"&&(Cb.initCatmullRom(g.x,d.x,u.x,m.x,this.tension),Rb.initCatmullRom(g.y,d.y,u.y,m.y,this.tension),Lb.initCatmullRom(g.z,d.z,u.z,m.z,this.tension));return n.set(Cb.calc(c),Rb.calc(c),Lb.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(new Ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};g1.prototype.isCatmullRomCurve3=!0;function BC(r,e,t,n,i){let a=(n-e)*.5,o=(i-t)*.5,l=r*r,c=r*l;return(2*t-2*n+a+o)*c+(-3*t+3*n-2*a-o)*l+a*r+t}function FB(r,e){let t=1-r;return t*t*e}function BB(r,e){return 2*(1-r)*r*e}function zB(r,e){return r*r*e}function b0(r,e,t,n){return FB(r,e)+BB(r,t)+zB(r,n)}function UB(r,e){let t=1-r;return t*t*t*e}function HB(r,e){let t=1-r;return 3*t*t*r*e}function GB(r,e){return 3*(1-r)*r*r*e}function WB(r,e){return r*r*r*e}function E0(r,e,t,n,i){return UB(r,e)+HB(r,t)+GB(r,n)+WB(r,i)}var S0=class extends Ui{constructor(e=new ft,t=new ft,n=new ft,i=new ft){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ft){let n=t,i=this.v0,a=this.v1,o=this.v2,l=this.v3;return n.set(E0(e,i.x,a.x,o.x,l.x),E0(e,i.y,a.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};S0.prototype.isCubicBezierCurve=!0;var v1=class extends Ui{constructor(e=new Ce,t=new Ce,n=new Ce,i=new Ce){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ce){let n=t,i=this.v0,a=this.v1,o=this.v2,l=this.v3;return n.set(E0(e,i.x,a.x,o.x,l.x),E0(e,i.y,a.y,o.y,l.y),E0(e,i.z,a.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};v1.prototype.isCubicBezierCurve3=!0;var Dh=class extends Ui{constructor(e=new ft,t=new ft){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ft){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new ft;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};Dh.prototype.isLineCurve=!0;var Pb=class extends Ui{constructor(e=new Ce,t=new Ce){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Ce){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},M0=class extends Ui{constructor(e=new ft,t=new ft,n=new ft){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ft){let n=t,i=this.v0,a=this.v1,o=this.v2;return n.set(b0(e,i.x,a.x,o.x),b0(e,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};M0.prototype.isQuadraticBezierCurve=!0;var T0=class extends Ui{constructor(e=new Ce,t=new Ce,n=new Ce){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ce){let n=t,i=this.v0,a=this.v1,o=this.v2;return n.set(b0(e,i.x,a.x,o.x),b0(e,i.y,a.y,o.y),b0(e,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};T0.prototype.isQuadraticBezierCurve3=!0;var A0=class extends Ui{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ft){let n=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),l=a-o,c=i[o===0?o:o-1],g=i[o],m=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return n.set(BC(l,c.x,g.x,m.x,d.x),BC(l,c.y,g.y,m.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(new ft().fromArray(i))}return this}};A0.prototype.isSplineCurve=!0;var Ib=Object.freeze({__proto__:null,ArcCurve:p1,CatmullRomCurve3:g1,CubicBezierCurve:S0,CubicBezierCurve3:v1,EllipseCurve:Ih,LineCurve:Dh,LineCurve3:Pb,QuadraticBezierCurve:M0,QuadraticBezierCurve3:T0,SplineCurve:A0}),Db=class extends Ui{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Dh(t,e))}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),a=0;for(;a<i.length;){if(i[a]>=n){let o=i[a]-n,l=this.curves[a],c=l.getLength(),g=c===0?0:1-o/c;return l.getPointAt(g,t)}a++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],n;for(let i=0,a=this.curves;i<a.length;i++){let o=a[i],l=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let g=0;g<c.length;g++){let m=c[g];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push(new Ib[i.type]().fromJSON(i))}return this}},Oh=class extends Db{constructor(e){super();this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new Dh(this.currentPoint.clone(),new ft(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let a=new M0(this.currentPoint.clone(),new ft(e,t),new ft(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,o){let l=new S0(this.currentPoint.clone(),new ft(e,t),new ft(n,i),new ft(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new A0(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,o){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,n,i,a,o),this}absarc(e,t,n,i,a,o){return this.absellipse(e,t,n,n,i,a,o),this}ellipse(e,t,n,i,a,o,l,c){let g=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+g,t+m,n,i,a,o,l,c),this}absellipse(e,t,n,i,a,o,l,c){let g=new Ih(e,t,n,i,a,o,l,c);if(this.curves.length>0){let d=g.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(g);let m=g.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Qa=class extends Oh{constructor(e){super(e);this.uuid=Yi(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push(new Oh().fromJSON(i))}return this}},VB={triangulate:function(r,e,t=2){let n=e&&e.length,i=n?e[0]*t:r.length,a=zC(r,0,i,t,!0),o=[];if(!a||a.next===a.prev)return o;let l,c,g,m,d,u,f;if(n&&(a=qB(r,e,a,t)),r.length>80*t){l=g=r[0],c=m=r[1];for(let s=t;s<i;s+=t)d=r[s],u=r[s+1],d<l&&(l=d),u<c&&(c=u),d>g&&(g=d),u>m&&(m=u);f=Math.max(g-l,m-c),f=f!==0?1/f:0}return C0(a,o,t,l,c,f),o}};function zC(r,e,t,n,i){let a,o;if(i===oz(r,e,t,n)>0)for(a=e;a<t;a+=n)o=GC(a,r[a],r[a+1],o);else for(a=t-n;a>=e;a-=n)o=GC(a,r[a],r[a+1],o);return o&&_1(o,o.next)&&(L0(o),o=o.next),o}function jl(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(_1(t,t.next)||ar(t.prev,t,t.next)===0)){if(L0(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function C0(r,e,t,n,i,a,o){if(!r)return;!o&&a&&ez(r,n,i,a);let l=r,c,g;for(;r.prev!==r.next;){if(c=r.prev,g=r.next,a?ZB(r,n,i,a):jB(r)){e.push(c.i/t),e.push(r.i/t),e.push(g.i/t),L0(r),r=g.next,l=g.next;continue}if(r=g,r===l){o?o===1?(r=XB(jl(r),e,t),C0(r,e,t,n,i,a,2)):o===2&&YB(r,e,t,n,i,a):C0(jl(r),e,t,n,i,a,1);break}}}function jB(r){let e=r.prev,t=r,n=r.next;if(ar(e,t,n)>=0)return!1;let i=r.next.next;for(;i!==r.prev;){if(Nh(e.x,e.y,t.x,t.y,n.x,n.y,i.x,i.y)&&ar(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ZB(r,e,t,n){let i=r.prev,a=r,o=r.next;if(ar(i,a,o)>=0)return!1;let l=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,g=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,m=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Ob(l,c,e,t,n),u=Ob(g,m,e,t,n),f=r.prevZ,s=r.nextZ;for(;f&&f.z>=d&&s&&s.z<=u;){if(f!==r.prev&&f!==r.next&&Nh(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ar(f.prev,f,f.next)>=0||(f=f.prevZ,s!==r.prev&&s!==r.next&&Nh(i.x,i.y,a.x,a.y,o.x,o.y,s.x,s.y)&&ar(s.prev,s,s.next)>=0))return!1;s=s.nextZ}for(;f&&f.z>=d;){if(f!==r.prev&&f!==r.next&&Nh(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ar(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;s&&s.z<=u;){if(s!==r.prev&&s!==r.next&&Nh(i.x,i.y,a.x,a.y,o.x,o.y,s.x,s.y)&&ar(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function XB(r,e,t){let n=r;do{let i=n.prev,a=n.next.next;!_1(i,a)&&UC(i,n,n.next,a)&&R0(i,a)&&R0(a,i)&&(e.push(i.i/t),e.push(n.i/t),e.push(a.i/t),L0(n),L0(n.next),n=r=a),n=n.next}while(n!==r);return jl(n)}function YB(r,e,t,n,i,a){let o=r;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&rz(o,l)){let c=HC(o,l);o=jl(o,o.next),c=jl(c,c.next),C0(o,e,t,n,i,a),C0(c,e,t,n,i,a);return}l=l.next}o=o.next}while(o!==r)}function qB(r,e,t,n){let i=[],a,o,l,c,g;for(a=0,o=e.length;a<o;a++)l=e[a]*n,c=a<o-1?e[a+1]*n:r.length,g=zC(r,l,c,n,!1),g===g.next&&(g.steiner=!0),i.push(nz(g));for(i.sort(JB),a=0;a<i.length;a++)QB(i[a],t),t=jl(t,t.next);return t}function JB(r,e){return r.x-e.x}function QB(r,e){if(e=KB(r,e),e){let t=HC(e,r);jl(e,e.next),jl(t,t.next)}}function KB(r,e){let t=e,n=r.x,i=r.y,a=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){let u=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(u<=n&&u>a){if(a=u,u===n){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(n===a)return o;let l=o,c=o.x,g=o.y,m=1/0,d;t=o;do n>=t.x&&t.x>=c&&n!==t.x&&Nh(i<g?n:a,i,c,g,i<g?a:n,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(n-t.x),R0(t,r)&&(d<m||d===m&&(t.x>o.x||t.x===o.x&&$B(o,t)))&&(o=t,m=d)),t=t.next;while(t!==l);return o}function $B(r,e){return ar(r.prev,r,e.prev)<0&&ar(e.next,r,r.next)<0}function ez(r,e,t,n){let i=r;do i.z===null&&(i.z=Ob(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,tz(i)}function tz(r){let e,t,n,i,a,o,l,c,g=1;do{for(t=r,r=null,a=null,o=0;t;){for(o++,n=t,l=0,e=0;e<g&&(l++,n=n.nextZ,!!n);e++);for(c=g;l>0||c>0&&n;)l!==0&&(c===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,l--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;t=n}a.nextZ=null,g*=2}while(o>1);return r}function Ob(r,e,t,n,i){return r=32767*(r-t)*i,e=32767*(e-n)*i,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function nz(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Nh(r,e,t,n,i,a,o,l){return(i-o)*(e-l)-(r-o)*(a-l)>=0&&(r-o)*(n-l)-(t-o)*(e-l)>=0&&(t-o)*(a-l)-(i-o)*(n-l)>=0}function rz(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!iz(r,e)&&(R0(r,e)&&R0(e,r)&&az(r,e)&&(ar(r.prev,r,e.prev)||ar(r,e.prev,e))||_1(r,e)&&ar(r.prev,r,r.next)>0&&ar(e.prev,e,e.next)>0)}function ar(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function _1(r,e){return r.x===e.x&&r.y===e.y}function UC(r,e,t,n){let i=x1(ar(r,e,t)),a=x1(ar(r,e,n)),o=x1(ar(t,n,r)),l=x1(ar(t,n,e));return!!(i!==a&&o!==l||i===0&&y1(r,t,e)||a===0&&y1(r,n,e)||o===0&&y1(t,r,n)||l===0&&y1(t,e,n))}function y1(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function x1(r){return r>0?1:r<0?-1:0}function iz(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&UC(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function R0(r,e){return ar(r.prev,r,r.next)<0?ar(r,e,r.next)>=0&&ar(r,r.prev,e)>=0:ar(r,e,r.prev)<0||ar(r,r.next,e)<0}function az(r,e){let t=r,n=!1,i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function HC(r,e){let t=new Nb(r.i,r.x,r.y),n=new Nb(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function GC(r,e,t,n){let i=new Nb(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function L0(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Nb(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function oz(r,e,t,n){let i=0;for(let a=e,o=t-n;a<t;a+=n)i+=(r[o]-r[a])*(r[a+1]+r[o+1]),o=a;return i}var Ka=class{static area(e){let t=e.length,n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return Ka.area(e)<0}static triangulateShape(e,t){let n=[],i=[],a=[];WC(e),VC(n,e);let o=e.length;t.forEach(WC);for(let c=0;c<t.length;c++)i.push(o),o+=t[c].length,VC(n,t[c]);let l=VB.triangulate(n,i);for(let c=0;c<l.length;c+=3)a.push(l.slice(c,c+3));return a}};function WC(r){let e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function VC(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}var Lo=class extends Ht{constructor(e=new Qa([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let n=this,i=[],a=[];for(let l=0,c=e.length;l<c;l++){let g=e[l];o(g)}this.setAttribute("position",new Dt(i,3)),this.setAttribute("uv",new Dt(a,2)),this.computeVertexNormals();function o(l){let c=[],g=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1,u=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,s=t.bevelSize!==void 0?t.bevelSize:f-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3,h=t.extrudePath,p=t.UVGenerator!==void 0?t.UVGenerator:sz;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let _,w=!1,E,A,T,C;h&&(_=h.getSpacedPoints(m),w=!0,u=!1,E=h.computeFrenetFrames(m,!1),A=new Ce,T=new Ce,C=new Ce),u||(x=0,f=0,s=0,v=0);let R=l.extractPoints(g),D=R.shape,O=R.holes;if(!Ka.isClockWise(D)){D=D.reverse();for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];Ka.isClockWise(pe)&&(O[ge]=pe.reverse())}}let H=Ka.triangulateShape(D,O),B=D;for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];D=D.concat(pe)}function Z(ge,De,pe){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),De.clone().multiplyScalar(pe).add(ge)}let V=D.length,j=H.length;function z(ge,De,pe){let de,ie,re,q=ge.x-De.x,te=ge.y-De.y,G=pe.x-ge.x,P=pe.y-ge.y,I=q*q+te*te,U=q*P-te*G;if(Math.abs(U)>Number.EPSILON){let Q=Math.sqrt(I),ye=Math.sqrt(G*G+P*P),Ie=De.x-te/Q,be=De.y+q/Q,Pe=pe.x-P/ye,ze=pe.y+G/ye,qe=((Pe-Ie)*P-(ze-be)*G)/(q*P-te*G);de=Ie+q*qe-ge.x,ie=be+te*qe-ge.y;let Ye=de*de+ie*ie;if(Ye<=2)return new ft(de,ie);re=Math.sqrt(Ye/2)}else{let Q=!1;q>Number.EPSILON?G>Number.EPSILON&&(Q=!0):q<-Number.EPSILON?G<-Number.EPSILON&&(Q=!0):Math.sign(te)===Math.sign(P)&&(Q=!0),Q?(de=-te,ie=q,re=Math.sqrt(I)):(de=q,ie=te,re=Math.sqrt(I/2))}return new ft(de/re,ie/re)}let W=[];for(let ge=0,De=B.length,pe=De-1,de=ge+1;ge<De;ge++,pe++,de++)pe===De&&(pe=0),de===De&&(de=0),W[ge]=z(B[ge],B[pe],B[de]);let J=[],oe,le=W.concat();for(let ge=0,De=O.length;ge<De;ge++){let pe=O[ge];oe=[];for(let de=0,ie=pe.length,re=ie-1,q=de+1;de<ie;de++,re++,q++)re===ie&&(re=0),q===ie&&(q=0),oe[de]=z(pe[de],pe[re],pe[q]);J.push(oe),le=le.concat(oe)}for(let ge=0;ge<x;ge++){let De=ge/x,pe=f*Math.cos(De*Math.PI/2),de=s*Math.sin(De*Math.PI/2)+v;for(let ie=0,re=B.length;ie<re;ie++){let q=Z(B[ie],W[ie],de);ce(q.x,q.y,-pe)}for(let ie=0,re=O.length;ie<re;ie++){let q=O[ie];oe=J[ie];for(let te=0,G=q.length;te<G;te++){let P=Z(q[te],oe[te],de);ce(P.x,P.y,-pe)}}}let fe=s+v;for(let ge=0;ge<V;ge++){let De=u?Z(D[ge],le[ge],fe):D[ge];w?(T.copy(E.normals[0]).multiplyScalar(De.x),A.copy(E.binormals[0]).multiplyScalar(De.y),C.copy(_[0]).add(T).add(A),ce(C.x,C.y,C.z)):ce(De.x,De.y,0)}for(let ge=1;ge<=m;ge++)for(let De=0;De<V;De++){let pe=u?Z(D[De],le[De],fe):D[De];w?(T.copy(E.normals[ge]).multiplyScalar(pe.x),A.copy(E.binormals[ge]).multiplyScalar(pe.y),C.copy(_[ge]).add(T).add(A),ce(C.x,C.y,C.z)):ce(pe.x,pe.y,d/m*ge)}for(let ge=x-1;ge>=0;ge--){let De=ge/x,pe=f*Math.cos(De*Math.PI/2),de=s*Math.sin(De*Math.PI/2)+v;for(let ie=0,re=B.length;ie<re;ie++){let q=Z(B[ie],W[ie],de);ce(q.x,q.y,d+pe)}for(let ie=0,re=O.length;ie<re;ie++){let q=O[ie];oe=J[ie];for(let te=0,G=q.length;te<G;te++){let P=Z(q[te],oe[te],de);w?ce(P.x,P.y+_[m-1].y,_[m-1].x+pe):ce(P.x,P.y,d+pe)}}}$(),ae();function $(){let ge=i.length/3;if(u){let De=0,pe=V*De;for(let de=0;de<j;de++){let ie=H[de];he(ie[2]+pe,ie[1]+pe,ie[0]+pe)}De=m+x*2,pe=V*De;for(let de=0;de<j;de++){let ie=H[de];he(ie[0]+pe,ie[1]+pe,ie[2]+pe)}}else{for(let De=0;De<j;De++){let pe=H[De];he(pe[2],pe[1],pe[0])}for(let De=0;De<j;De++){let pe=H[De];he(pe[0]+V*m,pe[1]+V*m,pe[2]+V*m)}}n.addGroup(ge,i.length/3-ge,0)}function ae(){let ge=i.length/3,De=0;se(B,De),De+=B.length;for(let pe=0,de=O.length;pe<de;pe++){let ie=O[pe];se(ie,De),De+=ie.length}n.addGroup(ge,i.length/3-ge,1)}function se(ge,De){let pe=ge.length;for(;--pe>=0;){let de=pe,ie=pe-1;ie<0&&(ie=ge.length-1);for(let re=0,q=m+x*2;re<q;re++){let te=V*re,G=V*(re+1),P=De+de+te,I=De+ie+te,U=De+ie+G,Q=De+de+G;we(P,I,U,Q)}}}function ce(ge,De,pe){c.push(ge),c.push(De),c.push(pe)}function he(ge,De,pe){xe(ge),xe(De),xe(pe);let de=i.length/3,ie=p.generateTopUV(n,i,de-3,de-2,de-1);Oe(ie[0]),Oe(ie[1]),Oe(ie[2])}function we(ge,De,pe,de){xe(ge),xe(De),xe(de),xe(De),xe(pe),xe(de);let ie=i.length/3,re=p.generateSideWallUV(n,i,ie-6,ie-3,ie-2,ie-1);Oe(re[0]),Oe(re[1]),Oe(re[3]),Oe(re[1]),Oe(re[2]),Oe(re[3])}function xe(ge){i.push(c[ge*3+0]),i.push(c[ge*3+1]),i.push(c[ge*3+2])}function Oe(ge){a.push(ge.x),a.push(ge.y)}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return lz(t,n,e)}static fromJSON(e,t){let n=[];for(let a=0,o=e.shapes.length;a<o;a++){let l=t[e.shapes[a]];n.push(l)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ib[i.type]().fromJSON(i)),new Lo(n,e.options)}},sz={generateTopUV:function(r,e,t,n,i){let a=e[t*3],o=e[t*3+1],l=e[n*3],c=e[n*3+1],g=e[i*3],m=e[i*3+1];return[new ft(a,o),new ft(l,c),new ft(g,m)]},generateSideWallUV:function(r,e,t,n,i,a){let o=e[t*3],l=e[t*3+1],c=e[t*3+2],g=e[n*3],m=e[n*3+1],d=e[n*3+2],u=e[i*3],f=e[i*3+1],s=e[i*3+2],v=e[a*3],x=e[a*3+1],h=e[a*3+2];return Math.abs(l-m)<Math.abs(o-g)?[new ft(o,1-c),new ft(g,1-d),new ft(u,1-s),new ft(v,1-h)]:[new ft(l,1-c),new ft(m,1-d),new ft(f,1-s),new ft(x,1-h)]}};function lz(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){let a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}var kh=class extends Ro{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kh(e.radius,e.detail)}},Fh=class extends Ht{constructor(e=[new ft(0,.5),new ft(.5,0),new ft(0,-.5)],t=12,n=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Xr(i,0,Math.PI*2);let a=[],o=[],l=[],c=1/t,g=new Ce,m=new ft;for(let d=0;d<=t;d++){let u=n+d*c*i,f=Math.sin(u),s=Math.cos(u);for(let v=0;v<=e.length-1;v++)g.x=e[v].x*f,g.y=e[v].y,g.z=e[v].x*s,o.push(g.x,g.y,g.z),m.x=d/t,m.y=v/(e.length-1),l.push(m.x,m.y)}for(let d=0;d<t;d++)for(let u=0;u<e.length-1;u++){let f=u+d*e.length,s=f,v=f+e.length,x=f+e.length+1,h=f+1;a.push(s,v,h),a.push(v,x,h)}if(this.setIndex(a),this.setAttribute("position",new Dt(o,3)),this.setAttribute("uv",new Dt(l,2)),this.computeVertexNormals(),i===Math.PI*2){let d=this.attributes.normal.array,u=new Ce,f=new Ce,s=new Ce,v=t*e.length*3;for(let x=0,h=0;x<e.length;x++,h+=3)u.x=d[h+0],u.y=d[h+1],u.z=d[h+2],f.x=d[v+h+0],f.y=d[v+h+1],f.z=d[v+h+2],s.addVectors(u,f).normalize(),d[h+0]=d[v+h+0]=s.x,d[h+1]=d[v+h+1]=s.y,d[h+2]=d[v+h+2]=s.z}}static fromJSON(e){return new Fh(e.points,e.segments,e.phiStart,e.phiLength)}},gf=class extends Ro{constructor(e=1,t=0){let n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gf(e.radius,e.detail)}},Bh=class extends Ht{constructor(e=.5,t=1,n=8,i=1,a=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);let l=[],c=[],g=[],m=[],d=e,u=(t-e)/i,f=new Ce,s=new ft;for(let v=0;v<=i;v++){for(let x=0;x<=n;x++){let h=a+x/n*o;f.x=d*Math.cos(h),f.y=d*Math.sin(h),c.push(f.x,f.y,f.z),g.push(0,0,1),s.x=(f.x/t+1)/2,s.y=(f.y/t+1)/2,m.push(s.x,s.y)}d+=u}for(let v=0;v<i;v++){let x=v*(n+1);for(let h=0;h<n;h++){let p=h+x,_=p,w=p+n+1,E=p+n+2,A=p+1;l.push(_,w,A),l.push(w,E,A)}}this.setIndex(l),this.setAttribute("position",new Dt(c,3)),this.setAttribute("normal",new Dt(g,3)),this.setAttribute("uv",new Dt(m,2))}static fromJSON(e){return new Bh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},vf=class extends Ht{constructor(e=new Qa([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let n=[],i=[],a=[],o=[],l=0,c=0;if(Array.isArray(e)===!1)g(e);else for(let m=0;m<e.length;m++)g(e[m]),this.addGroup(l,c,m),l+=c,c=0;this.setIndex(n),this.setAttribute("position",new Dt(i,3)),this.setAttribute("normal",new Dt(a,3)),this.setAttribute("uv",new Dt(o,2));function g(m){let d=i.length/3,u=m.extractPoints(t),f=u.shape,s=u.holes;Ka.isClockWise(f)===!1&&(f=f.reverse());for(let x=0,h=s.length;x<h;x++){let p=s[x];Ka.isClockWise(p)===!0&&(s[x]=p.reverse())}let v=Ka.triangulateShape(f,s);for(let x=0,h=s.length;x<h;x++){let p=s[x];f=f.concat(p)}for(let x=0,h=f.length;x<h;x++){let p=f[x];i.push(p.x,p.y,0),a.push(0,0,1),o.push(p.x,p.y)}for(let x=0,h=v.length;x<h;x++){let p=v[x],_=p[0]+d,w=p[1]+d,E=p[2]+d;n.push(_,w,E),c+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return uz(t,e)}static fromJSON(e,t){let n=[];for(let i=0,a=e.shapes.length;i<a;i++){let o=t[e.shapes[i]];n.push(o)}return new vf(n,e.curveSegments)}};function uz(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){let i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}var _f=class extends Ht{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,o=0,l=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let c=Math.min(o+l,Math.PI),g=0,m=[],d=new Ce,u=new Ce,f=[],s=[],v=[],x=[];for(let h=0;h<=n;h++){let p=[],_=h/n,w=0;h==0&&o==0?w=.5/t:h==n&&c==Math.PI&&(w=-.5/t);for(let E=0;E<=t;E++){let A=E/t;d.x=-e*Math.cos(i+A*a)*Math.sin(o+_*l),d.y=e*Math.cos(o+_*l),d.z=e*Math.sin(i+A*a)*Math.sin(o+_*l),s.push(d.x,d.y,d.z),u.copy(d).normalize(),v.push(u.x,u.y,u.z),x.push(A+w,1-_),p.push(g++)}m.push(p)}for(let h=0;h<n;h++)for(let p=0;p<t;p++){let _=m[h][p+1],w=m[h][p],E=m[h+1][p],A=m[h+1][p+1];(h!==0||o>0)&&f.push(_,w,A),(h!==n-1||c<Math.PI)&&f.push(w,E,A)}this.setIndex(f),this.setAttribute("position",new Dt(s,3)),this.setAttribute("normal",new Dt(v,3)),this.setAttribute("uv",new Dt(x,2))}static fromJSON(e){return new _f(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},zh=class extends Ro{constructor(e=1,t=0){let n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zh(e.radius,e.detail)}},Uh=class extends Ht{constructor(e=1,t=.4,n=8,i=6,a=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);let o=[],l=[],c=[],g=[],m=new Ce,d=new Ce,u=new Ce;for(let f=0;f<=n;f++)for(let s=0;s<=i;s++){let v=s/i*a,x=f/n*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(v),d.y=(e+t*Math.cos(x))*Math.sin(v),d.z=t*Math.sin(x),l.push(d.x,d.y,d.z),m.x=e*Math.cos(v),m.y=e*Math.sin(v),u.subVectors(d,m).normalize(),c.push(u.x,u.y,u.z),g.push(s/i),g.push(f/n)}for(let f=1;f<=n;f++)for(let s=1;s<=i;s++){let v=(i+1)*f+s-1,x=(i+1)*(f-1)+s-1,h=(i+1)*(f-1)+s,p=(i+1)*f+s;o.push(v,x,p),o.push(x,h,p)}this.setIndex(o),this.setAttribute("position",new Dt(l,3)),this.setAttribute("normal",new Dt(c,3)),this.setAttribute("uv",new Dt(g,2))}static fromJSON(e){return new Uh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},Hh=class extends Ht{constructor(e=1,t=.4,n=64,i=8,a=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:o},n=Math.floor(n),i=Math.floor(i);let l=[],c=[],g=[],m=[],d=new Ce,u=new Ce,f=new Ce,s=new Ce,v=new Ce,x=new Ce,h=new Ce;for(let _=0;_<=n;++_){let w=_/n*a*Math.PI*2;p(w,a,o,e,f),p(w+.01,a,o,e,s),x.subVectors(s,f),h.addVectors(s,f),v.crossVectors(x,h),h.crossVectors(v,x),v.normalize(),h.normalize();for(let E=0;E<=i;++E){let A=E/i*Math.PI*2,T=-t*Math.cos(A),C=t*Math.sin(A);d.x=f.x+(T*h.x+C*v.x),d.y=f.y+(T*h.y+C*v.y),d.z=f.z+(T*h.z+C*v.z),c.push(d.x,d.y,d.z),u.subVectors(d,f).normalize(),g.push(u.x,u.y,u.z),m.push(_/n),m.push(E/i)}}for(let _=1;_<=n;_++)for(let w=1;w<=i;w++){let E=(i+1)*(_-1)+(w-1),A=(i+1)*_+(w-1),T=(i+1)*_+w,C=(i+1)*(_-1)+w;l.push(E,A,C),l.push(A,T,C)}this.setIndex(l),this.setAttribute("position",new Dt(c,3)),this.setAttribute("normal",new Dt(g,3)),this.setAttribute("uv",new Dt(m,2));function p(_,w,E,A,T){let C=Math.cos(_),R=Math.sin(_),D=E/w*_,O=Math.cos(D);T.x=A*(2+O)*.5*C,T.y=A*(2+O)*R*.5,T.z=A*Math.sin(D)*.5}}static fromJSON(e){return new Hh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},Gh=class extends Ht{constructor(e=new T0(new Ce(-1,-1,0),new Ce(-1,1,0),new Ce(1,1,0)),t=64,n=1,i=8,a=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};let o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;let l=new Ce,c=new Ce,g=new ft,m=new Ce,d=[],u=[],f=[],s=[];v(),this.setIndex(s),this.setAttribute("position",new Dt(d,3)),this.setAttribute("normal",new Dt(u,3)),this.setAttribute("uv",new Dt(f,2));function v(){for(let _=0;_<t;_++)x(_);x(a===!1?t:0),p(),h()}function x(_){m=e.getPointAt(_/t,m);let w=o.normals[_],E=o.binormals[_];for(let A=0;A<=i;A++){let T=A/i*Math.PI*2,C=Math.sin(T),R=-Math.cos(T);c.x=R*w.x+C*E.x,c.y=R*w.y+C*E.y,c.z=R*w.z+C*E.z,c.normalize(),u.push(c.x,c.y,c.z),l.x=m.x+n*c.x,l.y=m.y+n*c.y,l.z=m.z+n*c.z,d.push(l.x,l.y,l.z)}}function h(){for(let _=1;_<=t;_++)for(let w=1;w<=i;w++){let E=(i+1)*(_-1)+(w-1),A=(i+1)*_+(w-1),T=(i+1)*_+w,C=(i+1)*(_-1)+w;s.push(E,A,C),s.push(A,T,C)}}function p(){for(let _=0;_<=t;_++)for(let w=0;w<=i;w++)g.x=_/t,g.y=w/i,f.push(g.x,g.y)}}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Gh(new Ib[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},w1=class extends Ht{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],n=new Set,i=new Ce,a=new Ce;if(e.index!==null){let o=e.attributes.position,l=e.index,c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let g=0,m=c.length;g<m;++g){let d=c[g],u=d.start,f=d.count;for(let s=u,v=u+f;s<v;s+=3)for(let x=0;x<3;x++){let h=l.getX(s+x),p=l.getX(s+(x+1)%3);i.fromBufferAttribute(o,h),a.fromBufferAttribute(o,p),jC(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{let o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let g=0;g<3;g++){let m=3*l+g,d=3*l+(g+1)%3;i.fromBufferAttribute(o,m),a.fromBufferAttribute(o,d),jC(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Dt(t,3))}}};function jC(r,e,t){let n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n,i),!0)}var ZC=Object.freeze({__proto__:null,BoxGeometry:Ts,BoxBufferGeometry:Ts,CircleGeometry:Rh,CircleBufferGeometry:Rh,ConeGeometry:Lh,ConeBufferGeometry:Lh,CylinderGeometry:Vl,CylinderBufferGeometry:Vl,DodecahedronGeometry:Ph,DodecahedronBufferGeometry:Ph,EdgesGeometry:d1,ExtrudeGeometry:Lo,ExtrudeBufferGeometry:Lo,IcosahedronGeometry:kh,IcosahedronBufferGeometry:kh,LatheGeometry:Fh,LatheBufferGeometry:Fh,OctahedronGeometry:gf,OctahedronBufferGeometry:gf,PlaneGeometry:uf,PlaneBufferGeometry:uf,PolyhedronGeometry:Ro,PolyhedronBufferGeometry:Ro,RingGeometry:Bh,RingBufferGeometry:Bh,ShapeGeometry:vf,ShapeBufferGeometry:vf,SphereGeometry:_f,SphereBufferGeometry:_f,TetrahedronGeometry:zh,TetrahedronBufferGeometry:zh,TorusGeometry:Uh,TorusBufferGeometry:Uh,TorusKnotGeometry:Hh,TorusKnotBufferGeometry:Hh,TubeGeometry:Gh,TubeBufferGeometry:Gh,WireframeGeometry:w1}),b1=class extends Lr{constructor(e){super();this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}};b1.prototype.isShadowMaterial=!0;var P0=class extends Lr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};P0.prototype.isMeshStandardMaterial=!0;var E1=class extends P0{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};E1.prototype.isMeshPhysicalMaterial=!0;var S1=class extends Lr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Up,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};S1.prototype.isMeshPhongMaterial=!0;var M1=class extends Lr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};M1.prototype.isMeshToonMaterial=!0;var T1=class extends Lr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}};T1.prototype.isMeshNormalMaterial=!0;var A1=class extends Lr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Up,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};A1.prototype.isMeshLambertMaterial=!0;var C1=class extends Lr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}};C1.prototype.isMeshMatcapMaterial=!0;var R1=class extends Pr{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};R1.prototype.isLineDashedMaterial=!0;var fz=Object.freeze({__proto__:null,ShadowMaterial:b1,SpriteMaterial:d0,RawShaderMaterial:ff,ShaderMaterial:To,PointsMaterial:Wl,MeshPhysicalMaterial:E1,MeshStandardMaterial:P0,MeshPhongMaterial:S1,MeshToonMaterial:M1,MeshNormalMaterial:T1,MeshLambertMaterial:A1,MeshDepthMaterial:f0,MeshDistanceMaterial:c0,MeshBasicMaterial:Mo,MeshMatcapMaterial:C1,LineDashedMaterial:R1,LineBasicMaterial:Pr,Material:Lr}),qn={arraySlice:function(r,e,t){return qn.isTypedArray(r)?new r.constructor(r.subarray(e,t!==void 0?t:r.length)):r.slice(e,t)},convertArray:function(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)},isTypedArray:function(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)},getKeyframeOrder:function(r){function e(i,a){return r[i]-r[a]}let t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n},sortedArray:function(r,e,t){let n=r.length,i=new r.constructor(n);for(let a=0,o=0;o!==n;++a){let l=t[a]*e;for(let c=0;c!==e;++c)i[o++]=r[l+c]}return i},flattenJSON:function(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let o=a[n];if(o!==void 0)if(Array.isArray(o))do o=a[n],o!==void 0&&(e.push(a.time),t.push.apply(t,o)),a=r[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[n],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do o=a[n],o!==void 0&&(e.push(a.time),t.push(o)),a=r[i++];while(a!==void 0)},subclip:function(r,e,t,n,i=30){let a=r.clone();a.name=e;let o=[];for(let c=0;c<a.tracks.length;++c){let g=a.tracks[c],m=g.getValueSize(),d=[],u=[];for(let f=0;f<g.times.length;++f){let s=g.times[f]*i;if(!(s<t||s>=n)){d.push(g.times[f]);for(let v=0;v<m;++v)u.push(g.values[f*m+v])}}d.length!==0&&(g.times=qn.convertArray(d,g.times.constructor),g.values=qn.convertArray(u,g.values.constructor),o.push(g))}a.tracks=o;let l=1/0;for(let c=0;c<a.tracks.length;++c)l>a.tracks[c].times[0]&&(l=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*l);return a.resetDuration(),a},makeClipAdditive:function(r,e=0,t=r,n=30){n<=0&&(n=30);let i=t.tracks.length,a=e/n;for(let o=0;o<i;++o){let l=t.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;let g=r.tracks.find(function(h){return h.name===l.name&&h.ValueTypeName===c});if(g===void 0)continue;let m=0,d=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=d/3);let u=0,f=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let s=l.times.length-1,v;if(a<=l.times[0]){let h=m,p=d-m;v=qn.arraySlice(l.values,h,p)}else if(a>=l.times[s]){let h=s*d+m,p=h+d-m;v=qn.arraySlice(l.values,h,p)}else{let h=l.createInterpolant(),p=m,_=d-m;h.evaluate(a),v=qn.arraySlice(h.resultBuffer,p,_)}c==="quaternion"&&new vr().fromArray(v).normalize().conjugate().toArray(v);let x=g.times.length;for(let h=0;h<x;++h){let p=h*f+u;if(c==="quaternion")vr.multiplyQuaternionsFlat(g.values,p,v,0,g.values,p);else{let _=f-u*2;for(let w=0;w<_;++w)g.values[p+w]-=v[w]}}}return r.blendMode=Rw,r}},Po=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=n+2;;){if(i===void 0){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===l)break;if(a=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=a)){let l=t[1];e<l&&(n=2,a=l);for(let c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===c)break;if(i=a,a=t[--n-1],e>=a)break t}o=n,n=0;break n}break e}for(;n<o;){let l=n+o>>>1;e<t[l]?o=l:n=l+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=n[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};Po.prototype.beforeStart_=Po.prototype.copySampleValue_;Po.prototype.afterEnd_=Po.prototype.copySampleValue_;var kb=class extends Po{constructor(e,t,n,i){super(e,t,n,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:tf,endingEnd:tf}}intervalChanged_(e,t,n){let i=this.parameterPositions,a=e-2,o=e+1,l=i[a],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case nf:a=e,l=2*t-n;break;case qp:a=i.length-2,l=t+i[a]-i[a+1];break;default:a=e,l=n}if(c===void 0)switch(this.getSettings_().endingEnd){case nf:o=e,c=2*n-t;break;case qp:o=1,c=n+i[1]-i[0];break;default:o=e-1,c=t}let g=(n-t)*.5,m=this.valueSize;this._weightPrev=g/(t-l),this._weightNext=g/(c-n),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,n,i){let a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,g=c-l,m=this._offsetPrev,d=this._offsetNext,u=this._weightPrev,f=this._weightNext,s=(n-t)/(i-t),v=s*s,x=v*s,h=-u*x+2*u*v-u*s,p=(1+u)*x+(-1.5-2*u)*v+(-.5+u)*s+1,_=(-1-f)*x+(1.5+f)*v+.5*s,w=f*x-f*v;for(let E=0;E!==l;++E)a[E]=h*o[m+E]+p*o[g+E]+_*o[c+E]+w*o[d+E];return a}},L1=class extends Po{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,g=c-l,m=(n-t)/(i-t),d=1-m;for(let u=0;u!==l;++u)a[u]=o[g+u]*d+o[c+u]*m;return a}},Fb=class extends Po{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Ma=class{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qn.convertArray(t,this.TimeBufferType),this.values=qn.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:qn.convertArray(e.times,Array),values:qn.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Fb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new L1(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kb(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Xp:t=this.InterpolantFactoryMethodDiscrete;break;case Yp:t=this.InterpolantFactoryMethodLinear;break;case Ev:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xp;case this.InterpolantFactoryMethodLinear:return Yp;case this.InterpolantFactoryMethodSmooth:return Ev}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,a=0,o=i-1;for(;a!==i&&n[a]<e;)++a;for(;o!==-1&&n[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);let l=this.getValueSize();this.times=qn.arraySlice(n,a,o),this.values=qn.arraySlice(this.values,a*l,o*l)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){let c=n[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&qn.isTypedArray(i))for(let l=0,c=i.length;l!==c;++l){let g=i[l];if(isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,g),e=!1;break}}return e}optimize(){let e=qn.arraySlice(this.times),t=qn.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Ev,a=e.length-1,o=1;for(let l=1;l<a;++l){let c=!1,g=e[l],m=e[l+1];if(g!==m&&(l!==1||g!==e[0]))if(i)c=!0;else{let d=l*n,u=d-n,f=d+n;for(let s=0;s!==n;++s){let v=t[d+s];if(v!==t[u+s]||v!==t[f+s]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];let d=l*n,u=o*n;for(let f=0;f!==n;++f)t[u+f]=t[d+f]}++o}}if(a>0){e[o]=e[a];for(let l=a*n,c=o*n,g=0;g!==n;++g)t[c+g]=t[l+g];++o}return o!==e.length?(this.times=qn.arraySlice(e,0,o),this.values=qn.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=qn.arraySlice(this.times,0),t=qn.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Ma.prototype.TimeBufferType=Float32Array;Ma.prototype.ValueBufferType=Float32Array;Ma.prototype.DefaultInterpolation=Yp;var Zl=class extends Ma{};Zl.prototype.ValueTypeName="bool";Zl.prototype.ValueBufferType=Array;Zl.prototype.DefaultInterpolation=Xp;Zl.prototype.InterpolantFactoryMethodLinear=void 0;Zl.prototype.InterpolantFactoryMethodSmooth=void 0;var P1=class extends Ma{};P1.prototype.ValueTypeName="color";var Wh=class extends Ma{};Wh.prototype.ValueTypeName="number";var Bb=class extends Po{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(n-t)/(i-t),g=e*l;for(let m=g+l;g!==m;g+=4)vr.slerpFlat(a,0,o,g-l,o,g,c);return a}},yf=class extends Ma{InterpolantFactoryMethodLinear(e){return new Bb(this.times,this.values,this.getValueSize(),e)}};yf.prototype.ValueTypeName="quaternion";yf.prototype.DefaultInterpolation=Yp;yf.prototype.InterpolantFactoryMethodSmooth=void 0;var Xl=class extends Ma{};Xl.prototype.ValueTypeName="string";Xl.prototype.ValueBufferType=Array;Xl.prototype.DefaultInterpolation=Xp;Xl.prototype.InterpolantFactoryMethodLinear=void 0;Xl.prototype.InterpolantFactoryMethodSmooth=void 0;var Vh=class extends Ma{};Vh.prototype.ValueTypeName="vector";var jh=class{constructor(e,t=-1,n,i=Sv){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Yi(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,l=n.length;o!==l;++o)t.push(hz(n[o]).scale(i));let a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=n.length;a!==o;++a)t.push(Ma.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let a=t.length,o=[];for(let l=0;l<a;l++){let c=[],g=[];c.push((l+a-1)%a,l,(l+1)%a),g.push(0,1,0);let m=qn.getKeyframeOrder(c);c=qn.sortedArray(c,1,m),g=qn.sortedArray(g,1,m),!i&&c[0]===0&&(c.push(a),g.push(g[0])),o.push(new Wh(".morphTargetInfluences["+t[l].name+"]",c,g).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){let g=e[l],m=g.name.match(a);if(m&&m.length>1){let d=m[1],u=i[d];u||(i[d]=u=[]),u.push(g)}}let o=[];for(let l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(d,u,f,s,v){if(f.length!==0){let x=[],h=[];qn.flattenJSON(f,x,h,s),x.length!==0&&v.push(new d(u,x,h))}},i=[],a=e.name||"default",o=e.fps||30,l=e.blendMode,c=e.length||-1,g=e.hierarchy||[];for(let d=0;d<g.length;d++){let u=g[d].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let f={},s;for(s=0;s<u.length;s++)if(u[s].morphTargets)for(let v=0;v<u[s].morphTargets.length;v++)f[u[s].morphTargets[v]]=-1;for(let v in f){let x=[],h=[];for(let p=0;p!==u[s].morphTargets.length;++p){let _=u[s];x.push(_.time),h.push(_.morphTarget===v?1:0)}i.push(new Wh(".morphTargetInfluence["+v+"]",x,h))}c=f.length*(o||1)}else{let f=".bones["+t[d].name+"]";n(Vh,f+".position",u,"pos",i),n(yf,f+".quaternion",u,"rot",i),n(Vh,f+".scale",u,"scl",i)}}return i.length===0?null:new this(a,c,i,l)}resetDuration(){let e=this.tracks,t=0;for(let n=0,i=e.length;n!==i;++n){let a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function cz(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wh;case"vector":case"vector2":case"vector3":case"vector4":return Vh;case"color":return P1;case"quaternion":return yf;case"bool":case"boolean":return Zl;case"string":return Xl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function hz(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=cz(r.type);if(r.times===void 0){let t=[],n=[];qn.flattenJSON(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}var xf={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}},I1=class{constructor(e,t,n){let i=this,a=!1,o=0,l=0,c,g=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){l++,a===!1&&i.onStart!==void 0&&i.onStart(m,o,l),a=!0},this.itemEnd=function(m){o++,i.onProgress!==void 0&&i.onProgress(m,o,l),o===l&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,d){return g.push(m,d),this},this.removeHandler=function(m){let d=g.indexOf(m);return d!==-1&&g.splice(d,2),this},this.getHandler=function(m){for(let d=0,u=g.length;d<u;d+=2){let f=g[d],s=g[d+1];if(f.global&&(f.lastIndex=0),f.test(m))return s}return null}}},wf=new I1,hi=class{constructor(e){this.manager=e!==void 0?e:wf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Rs={},$a=class extends hi{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=xf.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Rs[e]!==void 0){Rs[e].push({onLoad:t,onProgress:n,onError:i});return}Rs[e]=[],Rs[e].push({onLoad:t,onProgress:n,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(l=>{if(l.status===200||l.status===0){l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");let c=Rs[e],g=l.body.getReader(),m=l.headers.get("Content-Length"),d=m?parseInt(m):0,u=d!==0,f=0;return new ReadableStream({start(s){v();function v(){g.read().then(({done:x,value:h})=>{if(x)s.close();else{f+=h.byteLength;let p=new ProgressEvent("progress",{lengthComputable:u,loaded:f,total:d});for(let _=0,w=c.length;_<w;_++){let E=c[_];E.onProgress&&E.onProgress(p)}s.enqueue(h),v()}})}}})}else throw Error(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`)}).then(l=>{let c=new Response(l);switch(this.responseType){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(g=>new DOMParser().parseFromString(g,this.mimeType));case"json":return c.json();default:return c.text()}}).then(l=>{xf.add(e,l);let c=Rs[e];delete Rs[e];for(let g=0,m=c.length;g<m;g++){let d=c[g];d.onLoad&&d.onLoad(l)}this.manager.itemEnd(e)}).catch(l=>{let c=Rs[e];delete Rs[e];for(let g=0,m=c.length;g<m;g++){let d=c[g];d.onError&&d.onError(l)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},XC=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=new $a(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){let t=[];for(let n=0;n<e.length;n++){let i=jh.parse(e[n]);t.push(i)}return t}},YC=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=[],l=new u1,c=new $a(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let g=0;function m(d){c.load(e[d],function(u){let f=a.parse(u,!0);o[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},g+=1,g===6&&(f.mipmapCount===1&&(l.minFilter=Rr),l.image=o,l.format=f.format,l.needsUpdate=!0,t&&t(l))},n,i)}if(Array.isArray(e))for(let d=0,u=e.length;d<u;++d)m(d);else c.load(e,function(d){let u=a.parse(d,!0);if(u.isCubemap){let f=u.mipmaps.length/u.mipmapCount;for(let s=0;s<f;s++){o[s]={mipmaps:[]};for(let v=0;v<u.mipmapCount;v++)o[s].mipmaps.push(u.mipmaps[s*u.mipmapCount+v]),o[s].format=u.format,o[s].width=u.width,o[s].height=u.height}l.image=o}else l.image.width=u.width,l.image.height=u.height,l.mipmaps=u.mipmaps;u.mipmapCount===1&&(l.minFilter=Rr),l.format=u.format,l.needsUpdate=!0,t&&t(l)},n,i);return l}},Zh=class extends hi{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,o=xf.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;let l=Rv("img");function c(){m(),xf.add(e,this),t&&t(this),a.manager.itemEnd(e)}function g(d){m(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){l.removeEventListener("load",c,!1),l.removeEventListener("error",g,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",g,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}},zb=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=new lf,o=new Zh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(g){o.load(e[g],function(m){a.images[g]=m,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let g=0;g<e.length;++g)c(g);return a}},Ub=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=new Hl,l=new $a(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(c){let g=a.parse(c);!g||(g.image!==void 0?o.image=g.image:g.data!==void 0&&(o.image.width=g.width,o.image.height=g.height,o.image.data=g.data),o.wrapS=g.wrapS!==void 0?g.wrapS:Wr,o.wrapT=g.wrapT!==void 0?g.wrapT:Wr,o.magFilter=g.magFilter!==void 0?g.magFilter:Rr,o.minFilter=g.minFilter!==void 0?g.minFilter:Rr,o.anisotropy=g.anisotropy!==void 0?g.anisotropy:1,g.encoding!==void 0&&(o.encoding=g.encoding),g.flipY!==void 0&&(o.flipY=g.flipY),g.format!==void 0&&(o.format=g.format),g.type!==void 0&&(o.type=g.type),g.mipmaps!==void 0&&(o.mipmaps=g.mipmaps,o.minFilter=Qu),g.mipmapCount===1&&(o.minFilter=Rr),g.generateMipmaps!==void 0&&(o.generateMipmaps=g.generateMipmaps),o.needsUpdate=!0,t&&t(o,g))},n,i),o}},Ls=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=new Qn,o=new Zh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}},Ta=class extends ln{constructor(e,t=1){super();this.type="Light",this.color=new wt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};Ta.prototype.isLight=!0;var D1=class extends Ta{constructor(e,t,n){super(e,n);this.type="HemisphereLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.groundColor=new wt(t)}copy(e){return Ta.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}};D1.prototype.isHemisphereLight=!0;var qC=new Ot,JC=new Ce,QC=new Ce,O1=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.map=null,this.mapPass=null,this.matrix=new Ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vh,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;JC.setFromMatrixPosition(e.matrixWorld),t.position.copy(JC),QC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(QC),t.updateMatrixWorld(),qC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qC),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},Hb=class extends O1{constructor(){super(new Nn(50,1,.5,500));this.focus=1}updateMatrices(e){let t=this.camera,n=Jp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}};Hb.prototype.isSpotLightShadow=!0;var N1=class extends Ta{constructor(e,t,n=0,i=Math.PI/3,a=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.target=new ln,this.distance=n,this.angle=i,this.penumbra=a,this.decay=o,this.shadow=new Hb}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};N1.prototype.isSpotLight=!0;var KC=new Ot,I0=new Ce,Gb=new Ce,Wb=class extends O1{constructor(){super(new Nn(90,1,.5,500));this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new Ln(2,1,1,1),new Ln(0,1,1,1),new Ln(3,1,1,1),new Ln(1,1,1,1),new Ln(3,0,1,1),new Ln(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),I0.setFromMatrixPosition(e.matrixWorld),n.position.copy(I0),Gb.copy(n.position),Gb.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Gb),n.updateMatrixWorld(),i.makeTranslation(-I0.x,-I0.y,-I0.z),KC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KC)}};Wb.prototype.isPointLightShadow=!0;var k1=class extends Ta{constructor(e,t,n=0,i=1){super(e,t);this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Wb}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};k1.prototype.isPointLight=!0;var Vb=class extends O1{constructor(){super(new Sa(-5,5,5,-5,.5,500))}};Vb.prototype.isDirectionalLightShadow=!0;var F1=class extends Ta{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.target=new ln,this.shadow=new Vb}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};F1.prototype.isDirectionalLight=!0;var B1=class extends Ta{constructor(e,t){super(e,t);this.type="AmbientLight"}};B1.prototype.isAmbientLight=!0;var z1=class extends Ta{constructor(e,t,n=10,i=10){super(e,t);this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}};z1.prototype.isRectAreaLight=!0;var U1=class{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let n=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(n*a)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){let n=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*n*a),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){let n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){let n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}};U1.prototype.isSphericalHarmonics3=!0;var Xh=class extends Ta{constructor(e=new U1,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}};Xh.prototype.isLightProbe=!0;var jb=class extends hi{constructor(e){super(e);this.textures={}}load(e,t,n,i){let a=this,o=new $a(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){let t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}let i=new fz[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let a in e.uniforms){let o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=n(o.value);break;case"c":i.uniforms[a].value=new wt().setHex(o.value);break;case"v2":i.uniforms[a].value=new ft().fromArray(o.value);break;case"v3":i.uniforms[a].value=new Ce().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Ln().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Sr().fromArray(o.value);break;case"m4":i.uniforms[a].value=new Ot().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(let a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new ft().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}},D0=class{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},H1=class extends Ht{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};H1.prototype.isInstancedBufferGeometry=!0;var Zb=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=new $a(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(f,s){if(t[s]!==void 0)return t[s];let x=f.interleavedBuffers[s],h=a(f,x.buffer),p=nh(x.type,h),_=new Ul(p,x.stride);return _.uuid=x.uuid,t[s]=_,_}function a(f,s){if(n[s]!==void 0)return n[s];let x=f.arrayBuffers[s],h=new Uint32Array(x).buffer;return n[s]=h,h}let o=e.isInstancedBufferGeometry?new H1:new Ht,l=e.data.index;if(l!==void 0){let f=nh(l.type,l.array);o.setIndex(new mn(f,1))}let c=e.data.attributes;for(let f in c){let s=c[f],v;if(s.isInterleavedBufferAttribute){let x=i(e.data,s.data);v=new Cs(x,s.itemSize,s.offset,s.normalized)}else{let x=nh(s.type,s.array),h=s.isInstancedBufferAttribute?Gl:mn;v=new h(x,s.itemSize,s.normalized)}s.name!==void 0&&(v.name=s.name),s.usage!==void 0&&v.setUsage(s.usage),s.updateRange!==void 0&&(v.updateRange.offset=s.updateRange.offset,v.updateRange.count=s.updateRange.count),o.setAttribute(f,v)}let g=e.data.morphAttributes;if(g)for(let f in g){let s=g[f],v=[];for(let x=0,h=s.length;x<h;x++){let p=s[x],_;if(p.isInterleavedBufferAttribute){let w=i(e.data,p.data);_=new Cs(w,p.itemSize,p.offset,p.normalized)}else{let w=nh(p.type,p.array);_=new mn(w,p.itemSize,p.normalized)}p.name!==void 0&&(_.name=p.name),v.push(_)}o.morphAttributes[f]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,s=d.length;f!==s;++f){let v=d[f];o.addGroup(v.start,v.count,v.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let f=new Ce;u.center!==void 0&&f.fromArray(u.center),o.boundingSphere=new xs(f,u.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}},$C=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=this.path===""?D0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;let l=new $a(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let g=null;try{g=JSON.parse(c)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}let m=g.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(g,t)},n,i)}async loadAsync(e,t){let n=this,i=this.path===""?D0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;let a=new $a(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);let o=await a.loadAsync(e,t),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){let n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(g)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),g=this.parseObject(e.object,a,c,l,n),m=this.parseSkeletons(e.skeletons,g);if(this.bindSkeletons(g,m),t!==void 0){let d=!1;for(let u in o)if(o[u]instanceof HTMLImageElement){d=!0;break}d===!1&&t(g)}return g}async parseAsync(e){let t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,t),g=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,g),c}parseShapes(e){let t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){let a=new Qa().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){let n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){let l=new x0().fromJSON(e[a],i);n[l.uuid]=l}return n}parseGeometries(e,t){let n={};if(e!==void 0){let i=new Zb;for(let a=0,o=e.length;a<o;a++){let l,c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:c.type in ZC?l=ZC[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),l.isBufferGeometry===!0&&c.userData!==void 0&&(l.userData=c.userData),n[c.uuid]=l}}return n}parseMaterials(e,t){let n={},i={};if(e!==void 0){let a=new jb;a.setTextures(t);for(let o=0,l=e.length;o<l;o++){let c=e[o];if(c.type==="MultiMaterial"){let g=[];for(let m=0;m<c.materials.length;m++){let d=c.materials[m];n[d.uuid]===void 0&&(n[d.uuid]=a.parse(d)),g.push(n[d.uuid])}i[c.uuid]=g}else n[c.uuid]===void 0&&(n[c.uuid]=a.parse(c)),i[c.uuid]=n[c.uuid]}}return i}parseAnimations(e){let t={};if(e!==void 0)for(let n=0;n<e.length;n++){let i=e[n],a=jh.parse(i);t[a.uuid]=a}return t}parseImages(e,t){let n=this,i={},a;function o(c){return n.manager.itemStart(c),a.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){let g=c,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(g)?g:n.resourcePath+g;return o(m)}else return c.data?{data:nh(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){let c=new I1(t);a=new Zh(c),a.setCrossOrigin(this.crossOrigin);for(let g=0,m=e.length;g<m;g++){let d=e[g],u=d.url;if(Array.isArray(u)){i[d.uuid]=[];for(let f=0,s=u.length;f<s;f++){let v=u[f],x=l(v);x!==null&&(x instanceof HTMLImageElement?i[d.uuid].push(x):i[d.uuid].push(new Hl(x.data,x.width,x.height)))}}else{let f=l(d.url);f!==null&&(i[d.uuid]=f)}}}return i}async parseImagesAsync(e){let t=this,n={},i;async function a(o){if(typeof o=="string"){let l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:nh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Zh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){let c=e[o],g=c.url;if(Array.isArray(g)){n[c.uuid]=[];for(let m=0,d=g.length;m<d;m++){let u=g[m],f=await a(u);f!==null&&(f instanceof HTMLImageElement?n[c.uuid].push(f):n[c.uuid].push(new Hl(f.data,f.width,f.height)))}}else{let m=await a(c.url);m!==null&&(n[c.uuid]=m)}}}return n}parseTextures(e,t){function n(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}let i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){let l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);let c,g=t[l.image];Array.isArray(g)?(c=new lf(g),g.length===6&&(c.needsUpdate=!0)):(g&&g.data?c=new Hl(g.data,g.width,g.height):c=new Qn(g),g&&(c.needsUpdate=!0)),c.uuid=l.uuid,l.name!==void 0&&(c.name=l.name),l.mapping!==void 0&&(c.mapping=n(l.mapping,dz)),l.offset!==void 0&&c.offset.fromArray(l.offset),l.repeat!==void 0&&c.repeat.fromArray(l.repeat),l.center!==void 0&&c.center.fromArray(l.center),l.rotation!==void 0&&(c.rotation=l.rotation),l.wrap!==void 0&&(c.wrapS=n(l.wrap[0],eR),c.wrapT=n(l.wrap[1],eR)),l.format!==void 0&&(c.format=l.format),l.type!==void 0&&(c.type=l.type),l.encoding!==void 0&&(c.encoding=l.encoding),l.minFilter!==void 0&&(c.minFilter=n(l.minFilter,tR)),l.magFilter!==void 0&&(c.magFilter=n(l.magFilter,tR)),l.anisotropy!==void 0&&(c.anisotropy=l.anisotropy),l.flipY!==void 0&&(c.flipY=l.flipY),l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(c.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(c.userData=l.userData),i[l.uuid]=c}return i}parseObject(e,t,n,i,a){let o;function l(u){return t[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",u),t[u]}function c(u){if(u!==void 0){if(Array.isArray(u)){let f=[];for(let s=0,v=u.length;s<v;s++){let x=u[s];n[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),f.push(n[x])}return f}return n[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),n[u]}}function g(u){return i[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",u),i[u]}let m,d;switch(e.type){case"Scene":o=new pf,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new wt(e.background):o.background=g(e.background)),e.environment!==void 0&&(o.environment=g(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Eh(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new bh(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Nn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Sa(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new B1(e.color,e.intensity);break;case"DirectionalLight":o=new F1(e.color,e.intensity);break;case"PointLight":o=new k1(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new z1(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new N1(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new D1(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Xh().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),d=c(e.material),o=new _0(m,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),d=c(e.material),o=new _r(m,d);break;case"InstancedMesh":m=l(e.geometry),d=c(e.material);let u=e.count,f=e.instanceMatrix,s=e.instanceColor;o=new i1(m,d,u),o.instanceMatrix=new Gl(new Float32Array(f.array),16),s!==void 0&&(o.instanceColor=new Gl(new Float32Array(s.array),s.itemSize));break;case"LOD":o=new bb;break;case"Line":o=new Co(l(e.geometry),c(e.material));break;case"LineLoop":o=new o1(l(e.geometry),c(e.material));break;case"LineSegments":o=new xi(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Ch(l(e.geometry),c(e.material));break;case"Sprite":o=new v0(c(e.material));break;case"Group":o=new zl;break;case"Bone":o=new y0;break;default:o=new ln}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){let u=e.children;for(let f=0;f<u.length;f++)o.add(this.parseObject(u[f],t,n,i,a))}if(e.animations!==void 0){let u=e.animations;for(let f=0;f<u.length;f++){let s=u[f];o.animations.push(a[s])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);let u=e.levels;for(let f=0;f<u.length;f++){let s=u[f],v=o.getObjectByProperty("uuid",s.object);v!==void 0&&o.addLevel(v,s.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){let i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},dz={UVMapping:xv,CubeReflectionMapping:qu,CubeRefractionMapping:Ju,EquirectangularReflectionMapping:Hp,EquirectangularRefractionMapping:Gp,CubeUVReflectionMapping:Kc,CubeUVRefractionMapping:Wp},eR={RepeatWrapping:Vp,ClampToEdgeWrapping:Wr,MirroredRepeatWrapping:jp},tR={NearestFilter:Er,NearestMipmapNearestFilter:wv,NearestMipmapLinearFilter:bv,LinearFilter:Rr,LinearMipmapNearestFilter:_w,LinearMipmapLinearFilter:Qu},Xb=class extends hi{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,o=xf.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;let l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){xf.add(e,c),t&&t(c),a.manager.itemEnd(e)}).catch(function(c){i&&i(c),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}};Xb.prototype.isImageBitmapLoader=!0;var G1,Yb={getContext:function(){return G1===void 0&&(G1=new(window.AudioContext||window.webkitAudioContext)),G1},setContext:function(r){G1=r}},qb=class extends hi{constructor(e){super(e)}load(e,t,n,i){let a=this,o=new $a(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{let c=l.slice(0);Yb.getContext().decodeAudioData(c,function(m){t(m)})}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},n,i)}},Jb=class extends Xh{constructor(e,t,n=1){super(void 0,n);let i=new wt().set(e),a=new wt().set(t),o=new Ce(i.r,i.g,i.b),l=new Ce(a.r,a.g,a.b),c=Math.sqrt(Math.PI),g=c*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(l).multiplyScalar(c),this.sh.coefficients[1].copy(o).sub(l).multiplyScalar(g)}};Jb.prototype.isHemisphereLightProbe=!0;var Qb=class extends Xh{constructor(e,t=1){super(void 0,t);let n=new wt().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}};Qb.prototype.isAmbientLightProbe=!0;var nR=new Ot,rR=new Ot,bf=new Ot,iR=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,bf.copy(e.projectionMatrix);let i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(af*t.fov*.5)/t.zoom,l,c;rR.elements[12]=-i,nR.elements[12]=i,l=-o*t.aspect+a,c=o*t.aspect+a,bf.elements[0]=2*t.near/(c-l),bf.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(bf),l=-o*t.aspect-a,c=o*t.aspect-a,bf.elements[0]=2*t.near/(c-l),bf.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(bf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(rR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(nR)}},O0=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=aR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function aR(){return(typeof performance=="undefined"?Date:performance).now()}var Ef=new Ce,oR=new vr,pz=new Ce,Sf=new Ce,sR=class extends ln{constructor(){super();this.type="AudioListener",this.context=Yb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new O0}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ef,oR,pz),Sf.set(0,0,-1).applyQuaternion(oR),t.positionX){let i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ef.x,i),t.positionY.linearRampToValueAtTime(Ef.y,i),t.positionZ.linearRampToValueAtTime(Ef.z,i),t.forwardX.linearRampToValueAtTime(Sf.x,i),t.forwardY.linearRampToValueAtTime(Sf.y,i),t.forwardZ.linearRampToValueAtTime(Sf.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Ef.x,Ef.y,Ef.z),t.setOrientation(Sf.x,Sf.y,Sf.z,n.x,n.y,n.z)}},W1=class extends ln{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Mf=new Ce,lR=new vr,mz=new Ce,Tf=new Ce,uR=class extends W1{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mf,lR,mz),Tf.set(0,0,1).applyQuaternion(lR);let t=this.panner;if(t.positionX){let n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mf.x,n),t.positionY.linearRampToValueAtTime(Mf.y,n),t.positionZ.linearRampToValueAtTime(Mf.z,n),t.orientationX.linearRampToValueAtTime(Tf.x,n),t.orientationY.linearRampToValueAtTime(Tf.y,n),t.orientationZ.linearRampToValueAtTime(Tf.z,n)}else t.setPosition(Mf.x,Mf.y,Mf.z),t.setOrientation(Tf.x,Tf.y,Tf.z)}},Kb=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},$b=class{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,a=e*i+i,o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)n[a+l]=n[l];o=t}else{o+=t;let l=t/o;this._mixBufferRegion(n,a,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){let c=t*this._origIndex;this._mixBufferRegion(n,i,c,1-a,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let c=t,g=t+t;c!==g;++c)if(n[c]!==n[c+t]){l.setValue(n,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,o=i;a!==o;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){vr.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){let o=this._workIndex*a;vr.multiplyQuaternionsFlat(e,o,e,t,e,n),vr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,a){let o=1-i;for(let l=0;l!==a;++l){let c=t+l;e[c]=e[c]*o+e[n+l]*i}}_lerpAdditive(e,t,n,i,a){for(let o=0;o!==a;++o){let l=t+o;e[l]=e[l]+e[n+o]*i}}},e2="\\[\\]\\.:\\/",gz=new RegExp("["+e2+"]","g"),t2="[^"+e2+"]",vz="[^"+e2.replace("\\.","")+"]",_z=/((?:WC+[\/:])*)/.source.replace("WC",t2),yz=/(WCOD+)?/.source.replace("WCOD",vz),xz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t2),wz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t2),bz=new RegExp("^"+_z+yz+xz+wz+"$"),Ez=["material","materials","bones"],fR=class{constructor(e,t,n){let i=n||vn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},vn=class{constructor(e,t,n){this.path=t,this.parsedPath=n||vn.parseTrackName(t),this.node=vn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new vn.Composite(e,t,n):new vn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gz,"")}static parseTrackName(e){let t=bz.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let a=n.nodeName.substring(i+1);Ez.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=function(a){for(let o=0;o<a.length;o++){let l=a[o];if(l.name===t||l.uuid===t)return l;let c=n(l.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,a=t.propertyIndex;if(e||(e=vn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let g=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===g){g=m;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(g!==void 0){if(e[g]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[g]}}let o=e[i];if(o===void 0){let g=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+g+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};vn.Composite=fR;vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vn.prototype.GetterByBindingType=[vn.prototype._getValue_direct,vn.prototype._getValue_array,vn.prototype._getValue_arrayElement,vn.prototype._getValue_toArray];vn.prototype.SetterByBindingTypeAndVersioning=[[vn.prototype._setValue_direct,vn.prototype._setValue_direct_setNeedsUpdate,vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_array,vn.prototype._setValue_array_setNeedsUpdate,vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_arrayElement,vn.prototype._setValue_arrayElement_setNeedsUpdate,vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_fromArray,vn.prototype._setValue_fromArray_setNeedsUpdate,vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var n2=class{constructor(){this.uuid=Yi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length,l,c=e.length,g=this.nCachedObjects_;for(let m=0,d=arguments.length;m!==d;++m){let u=arguments[m],f=u.uuid,s=t[f];if(s===void 0){s=c++,t[f]=s,e.push(u);for(let v=0,x=o;v!==x;++v)a[v].push(new vn(u,n[v],i[v]))}else if(s<g){l=e[s];let v=--g,x=e[v];t[x.uuid]=s,e[s]=x,t[f]=v,e[v]=u;for(let h=0,p=o;h!==p;++h){let _=a[h],w=_[v],E=_[s];_[s]=w,E===void 0&&(E=new vn(u,n[h],i[h])),_[v]=E}}else e[s]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=g}remove(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){let c=arguments[o],g=c.uuid,m=t[g];if(m!==void 0&&m>=a){let d=a++,u=e[d];t[u.uuid]=m,e[m]=u,t[g]=d,e[d]=c;for(let f=0,s=i;f!==s;++f){let v=n[f],x=v[d],h=v[m];v[m]=x,v[d]=h}}}this.nCachedObjects_=a}uncache(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,a=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){let g=arguments[l],m=g.uuid,d=t[m];if(d!==void 0)if(delete t[m],d<a){let u=--a,f=e[u],s=--o,v=e[s];t[f.uuid]=d,e[d]=f,t[v.uuid]=u,e[u]=v,e.pop();for(let x=0,h=i;x!==h;++x){let p=n[x],_=p[u],w=p[s];p[d]=_,p[u]=w,p.pop()}}else{let u=--o,f=e[u];u>0&&(t[f.uuid]=d),e[d]=f,e.pop();for(let s=0,v=i;s!==v;++s){let x=n[s];x[d]=x[u],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){let n=this._bindingsIndicesByPath,i=n[e],a=this._bindings;if(i!==void 0)return a[i];let o=this._paths,l=this._parsedPaths,c=this._objects,g=c.length,m=this.nCachedObjects_,d=new Array(g);i=a.length,n[e]=i,o.push(e),l.push(t),a.push(d);for(let u=m,f=c.length;u!==f;++u){let s=c[u];d[u]=new vn(s,e,t)}return d}unsubscribe_(e){let t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){let i=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],g=e[l];t[g]=n,o[n]=c,o.pop(),a[n]=a[l],a.pop(),i[n]=i[l],i.pop()}}};n2.prototype.isAnimationObjectGroup=!0;var cR=class{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;let a=t.tracks,o=a.length,l=new Array(o),c={endingStart:tf,endingEnd:tf};for(let g=0;g!==o;++g){let m=a[g].createInterpolant(null);l[g]=m,m.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let i=this._clip.duration,a=e._clip.duration,o=a/i,l=i/a;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,a=i.time,o=this.timeScale,l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);let c=l.parameterPositions,g=l.sampleValues;return c[0]=a,c[1]=a+n,g[0]=e/o,g[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}let a=this._startTime;if(a!==null){let c=(e-a)*n;if(c<0||n===0)return;this._startTime=null,t=n*c}t*=this._updateTimeScale(e);let o=this._updateTime(t),l=this._updateWeight(e);if(l>0){let c=this._interpolants,g=this._propertyBindings;switch(this.blendMode){case Rw:for(let m=0,d=c.length;m!==d;++m)c[m].evaluate(o),g[m].accumulateAdditive(l);break;case Sv:default:for(let m=0,d=c.length;m!==d;++m)c[m].evaluate(o),g[m].accumulate(i,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(n!==null){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;n!==null&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,a=this._loopCount,o=n===mA;if(e===0)return a===-1?i:o&&(a&1)==1?t-i:i;if(n===dA){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){let l=Math.floor(i/t);i-=t*l,a+=Math.abs(l);let c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let g=e<0;this._setEndings(g,!g,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(a&1)==1)return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=nf,i.endingEnd=nf):(e?i.endingStart=this.zeroSlopeAtStart?nf:tf:i.endingStart=qp,t?i.endingEnd=this.zeroSlopeAtEnd?nf:tf:i.endingEnd=qp)}_scheduleFading(e,t,n){let i=this._mixer,a=i.time,o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let l=o.parameterPositions,c=o.sampleValues;return l[0]=a,c[0]=t,l[1]=a+e,c[1]=n,this}},r2=class extends ja{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,l=e._interpolants,c=n.uuid,g=this._bindingsByRootAndName,m=g[c];m===void 0&&(m={},g[c]=m);for(let d=0;d!==a;++d){let u=i[d],f=u.name,s=m[f];if(s!==void 0)o[d]=s;else{if(s=o[d],s!==void 0){s._cacheIndex===null&&(++s.referenceCount,this._addInactiveBinding(s,c,f));continue}let v=t&&t._propertyBindings[d].binding.parsedPath;s=new $b(vn.create(n,f,v),u.ValueTypeName,u.getValueSize()),++s.referenceCount,this._addInactiveBinding(s,c,f),o[d]=s}l[d].resultBuffer=s.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let a=t[n];a.useCount++==0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let a=t[n];--a.useCount==0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,a=this._actionsByClip,o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{let l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let a=e._clip.uuid,o=this._actionsByClip,l=o[a],c=l.knownActions,g=c[c.length-1],m=e._byClipCacheIndex;g._byClipCacheIndex=m,c[m]=g,c.pop(),e._byClipCacheIndex=null;let d=l.actionByRoot,u=(e._localRoot||this._root).uuid;delete d[u],c.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let a=t[n];--a.referenceCount==0&&this._removeInactiveBinding(a)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,a=this._bindings,o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,l=o[i],c=t[t.length-1],g=e._cacheIndex;c._cacheIndex=g,t[g]=c,t.pop(),delete l[a],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new L1(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){let i=t||this._root,a=i.uuid,o=typeof e=="string"?jh.findByName(i,e):e,l=o!==null?o.uuid:e,c=this._actionsByClip[l],g=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Sv),c!==void 0){let d=c.actionByRoot[a];if(d!==void 0&&d.blendMode===n)return d;g=c.knownActions[0],o===null&&(o=g._clip)}if(o===null)return null;let m=new cR(this,o,t,n);return this._bindAction(m,g),this._addInactiveAction(m,l,a),m}existingAction(e,t){let n=t||this._root,i=n.uuid,a=typeof e=="string"?jh.findByName(n,e):e,o=a?a.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let g=0;g!==n;++g)t[g]._update(i,e,a,o);let l=this._bindings,c=this._nActiveBindings;for(let g=0;g!==c;++g)l[g].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){let o=a.knownActions;for(let l=0,c=o.length;l!==c;++l){let g=o[l];this._deactivateAction(g);let m=g._cacheIndex,d=t[t.length-1];g._cacheIndex=null,g._byClipCacheIndex=null,d._cacheIndex=m,t[m]=d,t.pop(),this._removeInactiveBindingsForAction(g)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let o in n){let l=n[o].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(let o in a){let l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){let n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}};r2.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var N0=class{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new N0(this.value.clone===void 0?this.value:this.value.clone())}},i2=class extends Ul{constructor(e,t,n=1){super(e,t);this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}};i2.prototype.isInstancedInterleavedBuffer=!0;var a2=class{constructor(e,t,n,i,a){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}};a2.prototype.isGLBufferAttribute=!0;var V1=class{constructor(e,t,n=0,i=1/0){this.ray=new bs(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Dl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return o2(e,this,n,t),n.sort(hR),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)o2(e[i],this,n,t);return n.sort(hR),n}};function hR(r,e){return r.distance-e.distance}function o2(r,e,t,n){if(r.layers.test(e.layers)&&r.raycast(e,t),n===!0){let i=r.children;for(let a=0,o=i.length;a<o;a++)o2(i[a],e,t,!0)}}var k0=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){let e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},dR=class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}},pR=new ft,Af=class{constructor(e=new ft(1/0,1/0),t=new ft(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=pR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return pR.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Af.prototype.isBox2=!0;var mR=new Ce,j1=new Ce,s2=class{constructor(e=new Ce,t=new Ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){mR.subVectors(e,this.start),j1.subVectors(this.end,this.start);let n=j1.dot(j1),a=j1.dot(mR)/n;return t&&(a=Xr(a,0,1)),a}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},gR=new Ce,vR=class extends ln{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;let n=new Ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){let g=o/c*Math.PI*2,m=l/c*Math.PI*2;i.push(Math.cos(g),Math.sin(g),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Dt(i,3));let a=new Pr({fog:!1,toneMapped:!1});this.cone=new xi(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),gR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Yl=new Ce,Z1=new Ot,l2=new Ot,u2=class extends xi{constructor(e){let t=_R(e),n=new Ht,i=[],a=[],o=new wt(0,0,1),l=new wt(0,1,0);for(let g=0;g<t.length;g++){let m=t[g];m.parent&&m.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}n.setAttribute("position",new Dt(i,3)),n.setAttribute("color",new Dt(a,3));let c=new Pr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,n=this.geometry,i=n.getAttribute("position");l2.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){let l=t[a];l.parent&&l.parent.isBone&&(Z1.multiplyMatrices(l2,l.matrixWorld),Yl.setFromMatrixPosition(Z1),i.setXYZ(o,Yl.x,Yl.y,Yl.z),Z1.multiplyMatrices(l2,l.parent.matrixWorld),Yl.setFromMatrixPosition(Z1),i.setXYZ(o+1,Yl.x,Yl.y,Yl.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}};function _R(r){let e=[];r&&r.isBone&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,_R(r.children[t]));return e}var yR=class extends _r{constructor(e,t,n){let i=new _f(t,4,2),a=new Mo({wireframe:!0,fog:!1,toneMapped:!1});super(i,a);this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Sz=new Ce,xR=new wt,wR=new wt,bR=class extends ln{constructor(e,t,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;let i=new gf(t);i.rotateY(Math.PI*.5),this.material=new Mo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new mn(o,3)),this.add(new _r(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");xR.copy(this.light.color),wR.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){let a=n<i/2?xR:wR;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(Sz.setFromMatrixPosition(this.light.matrixWorld).negate())}},f2=class extends xi{constructor(e=10,t=10,n=4473924,i=8947848){n=new wt(n),i=new wt(i);let a=t/2,o=e/t,l=e/2,c=[],g=[];for(let u=0,f=0,s=-l;u<=t;u++,s+=o){c.push(-l,0,s,l,0,s),c.push(s,0,-l,s,0,l);let v=u===a?n:i;v.toArray(g,f),f+=3,v.toArray(g,f),f+=3,v.toArray(g,f),f+=3,v.toArray(g,f),f+=3}let m=new Ht;m.setAttribute("position",new Dt(c,3)),m.setAttribute("color",new Dt(g,3));let d=new Pr({vertexColors:!0,toneMapped:!1});super(m,d);this.type="GridHelper"}},ER=class extends xi{constructor(e=10,t=16,n=8,i=64,a=4473924,o=8947848){a=new wt(a),o=new wt(o);let l=[],c=[];for(let d=0;d<=t;d++){let u=d/t*(Math.PI*2),f=Math.sin(u)*e,s=Math.cos(u)*e;l.push(0,0,0),l.push(f,0,s);let v=d&1?a:o;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(let d=0;d<=n;d++){let u=d&1?a:o,f=e-e/n*d;for(let s=0;s<i;s++){let v=s/i*(Math.PI*2),x=Math.sin(v)*f,h=Math.cos(v)*f;l.push(x,0,h),c.push(u.r,u.g,u.b),v=(s+1)/i*(Math.PI*2),x=Math.sin(v)*f,h=Math.cos(v)*f,l.push(x,0,h),c.push(u.r,u.g,u.b)}}let g=new Ht;g.setAttribute("position",new Dt(l,3)),g.setAttribute("color",new Dt(c,3));let m=new Pr({vertexColors:!0,toneMapped:!1});super(g,m);this.type="PolarGridHelper"}},SR=new Ce,X1=new Ce,MR=new Ce,TR=class extends ln{constructor(e,t,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new Ht;i.setAttribute("position",new Dt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let a=new Pr({fog:!1,toneMapped:!1});this.lightPlane=new Co(i,a),this.add(this.lightPlane),i=new Ht,i.setAttribute("position",new Dt([0,0,0,0,0,1],3)),this.targetLine=new Co(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){SR.setFromMatrixPosition(this.light.matrixWorld),X1.setFromMatrixPosition(this.light.target.matrixWorld),MR.subVectors(X1,SR),this.lightPlane.lookAt(X1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(X1),this.targetLine.scale.z=MR.length()}},Y1=new Ce,hr=new As,AR=class extends xi{constructor(e){let t=new Ht,n=new Pr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={},l=new wt(16755200),c=new wt(16711680),g=new wt(43775),m=new wt(16777215),d=new wt(3355443);u("n1","n2",l),u("n2","n4",l),u("n4","n3",l),u("n3","n1",l),u("f1","f2",l),u("f2","f4",l),u("f4","f3",l),u("f3","f1",l),u("n1","f1",l),u("n2","f2",l),u("n3","f3",l),u("n4","f4",l),u("p","n1",c),u("p","n2",c),u("p","n3",c),u("p","n4",c),u("u1","u2",g),u("u2","u3",g),u("u3","u1",g),u("c","t",m),u("p","c",d),u("cn1","cn2",d),u("cn3","cn4",d),u("cf1","cf2",d),u("cf3","cf4",d);function u(s,v,x){f(s,x),f(v,x)}function f(s,v){i.push(0,0,0),a.push(v.r,v.g,v.b),o[s]===void 0&&(o[s]=[]),o[s].push(i.length/3-1)}t.setAttribute("position",new Dt(i,3)),t.setAttribute("color",new Dt(a,3));super(t,n);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap,n=1,i=1;hr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xr("c",t,e,hr,0,0,-1),xr("t",t,e,hr,0,0,1),xr("n1",t,e,hr,-n,-i,-1),xr("n2",t,e,hr,n,-i,-1),xr("n3",t,e,hr,-n,i,-1),xr("n4",t,e,hr,n,i,-1),xr("f1",t,e,hr,-n,-i,1),xr("f2",t,e,hr,n,-i,1),xr("f3",t,e,hr,-n,i,1),xr("f4",t,e,hr,n,i,1),xr("u1",t,e,hr,n*.7,i*1.1,-1),xr("u2",t,e,hr,-n*.7,i*1.1,-1),xr("u3",t,e,hr,0,i*2,-1),xr("cf1",t,e,hr,-n,0,1),xr("cf2",t,e,hr,n,0,1),xr("cf3",t,e,hr,0,-i,1),xr("cf4",t,e,hr,0,i,1),xr("cn1",t,e,hr,-n,0,-1),xr("cn2",t,e,hr,n,0,-1),xr("cn3",t,e,hr,0,-i,-1),xr("cn4",t,e,hr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function xr(r,e,t,n,i,a,o){Y1.set(i,a,o).unproject(n);let l=e[r];if(l!==void 0){let c=t.getAttribute("position");for(let g=0,m=l.length;g<m;g++)c.setXYZ(l[g],Y1.x,Y1.y,Y1.z)}}var q1=new zi,c2=class extends xi{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Ht;a.setIndex(new mn(n,1)),a.setAttribute("position",new mn(i,3));super(a,new Pr({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&q1.setFromObject(this.object),q1.isEmpty())return;let t=q1.min,n=q1.max,i=this.geometry.attributes.position,a=i.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return xi.prototype.copy.call(this,e),this.object=e.object,this}},CR=class extends xi{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Ht;a.setIndex(new mn(n,1)),a.setAttribute("position",new Dt(i,3));super(a,new Pr({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},RR=class extends Co{constructor(e,t=1,n=16776960){let i=n,a=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Ht;o.setAttribute("position",new Dt(a,3)),o.computeBoundingSphere();super(o,new Pr({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;let l=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new Ht;c.setAttribute("position",new Dt(l,3)),c.computeBoundingSphere(),this.add(new _r(c,new Mo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?ir:gs,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},LR=new Ce,J1,h2,PR=class extends ln{constructor(e=new Ce(0,0,1),t=new Ce(0,0,0),n=1,i=16776960,a=n*.2,o=a*.2){super();this.type="ArrowHelper",J1===void 0&&(J1=new Ht,J1.setAttribute("position",new Dt([0,0,0,0,1,0],3)),h2=new Vl(0,.5,1,5,1),h2.translate(0,-.5,0)),this.position.copy(t),this.line=new Co(J1,new Pr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(h2,new Mo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{LR.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(LR,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},d2=class extends xi{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new Dt(t,3)),i.setAttribute("color",new Dt(n,3));let a=new Pr({vertexColors:!0,toneMapped:!1});super(i,a);this.type="AxesHelper"}setColors(e,t,n){let i=new wt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},IR=class{constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Oh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,o){return this.currentPath.bezierCurveTo(e,t,n,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(p){let _=[];for(let w=0,E=p.length;w<E;w++){let A=p[w],T=new Qa;T.curves=A.curves,_.push(T)}return _}function i(p,_){let w=_.length,E=!1;for(let A=w-1,T=0;T<w;A=T++){let C=_[A],R=_[T],D=R.x-C.x,O=R.y-C.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(C=_[T],D=-D,R=_[A],O=-O),p.y<C.y||p.y>R.y)continue;if(p.y===C.y){if(p.x===C.x)return!0}else{let k=O*(p.x-C.x)-D*(p.y-C.y);if(k===0)return!0;if(k<0)continue;E=!E}}else{if(p.y!==C.y)continue;if(R.x<=p.x&&p.x<=C.x||C.x<=p.x&&p.x<=R.x)return!0}}return E}let a=Ka.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);let l,c,g,m=[];if(o.length===1)return c=o[0],g=new Qa,g.curves=c.curves,m.push(g),m;let d=!a(o[0].getPoints());d=e?!d:d;let u=[],f=[],s=[],v=0,x;f[v]=void 0,s[v]=[];for(let p=0,_=o.length;p<_;p++)c=o[p],x=c.getPoints(),l=a(x),l=e?!l:l,l?(!d&&f[v]&&v++,f[v]={s:new Qa,p:x},f[v].s.curves=c.curves,d&&v++,s[v]=[]):s[v].push({h:c,p:x[0]});if(!f[0])return n(o);if(f.length>1){let p=!1,_=[];for(let w=0,E=f.length;w<E;w++)u[w]=[];for(let w=0,E=f.length;w<E;w++){let A=s[w];for(let T=0;T<A.length;T++){let C=A[T],R=!0;for(let D=0;D<f.length;D++)i(C.p,f[D].p)&&(w!==D&&_.push({froms:w,tos:D,hole:T}),R?(R=!1,u[D].push(C)):p=!0);R&&u[w].push(C)}}_.length>0&&(p||(s=u))}let h;for(let p=0,_=f.length;p<_;p++){g=f[p].s,m.push(g),h=s[p];for(let w=0,E=h.length;w<E;w++)g.holes.push(h[w].h)}return m}},DR=new Float32Array(1),Mz=new Int32Array(DR.buffer),OR=class{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),DR[0]=e;let t=Mz[0],n=t>>16&32768,i=t>>12&2047,a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(a==255?0:1)&&t&8388607,n):a<113?(i|=2048,n|=(i>>114-a)+(i>>113-a&1),n):(n|=a-112<<10|i>>1,n+=i&1,n)}},Tz=0,Az=1,Cz=0,Rz=1,Lz=2;function Pz(r){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),r}function Iz(r=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),r.isMultiMaterial=!0,r.materials=r,r.clone=function(){return r.slice()},r}function Dz(r,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ch(r,e)}function Oz(r){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new v0(r)}function Nz(r,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ch(r,e)}function kz(r){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Wl(r)}function Fz(r){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Wl(r)}function Bz(r){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Wl(r)}function zz(r,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ce(r,e,t)}function Uz(r,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new mn(r,e).setUsage(th)}function Hz(r,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new $w(r,e)}function Gz(r,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new eb(r,e)}function Wz(r,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new tb(r,e)}function Vz(r,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new nb(r,e)}function jz(r,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new n0(r,e)}function Zz(r,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new rb(r,e)}function Xz(r,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new r0(r,e)}function Yz(r,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Dt(r,e)}function qz(r,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ab(r,e)}Ui.create=function(r,e){return console.log("THREE.Curve.create() has been deprecated"),r.prototype=Object.create(Ui.prototype),r.prototype.constructor=r,r.prototype.getPoint=e,r};Oh.prototype.fromPoints=function(r){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(r)};function Jz(r){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new d2(r)}function Qz(r,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new c2(r,e)}function Kz(r,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xi(new d1(r.geometry),new Pr({color:e!==void 0?e:16777215}))}f2.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};u2.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function $z(r,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xi(new w1(r.geometry),new Pr({color:e!==void 0?e:16777215}))}hi.prototype.extractUrlBase=function(r){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),D0.extractUrlBase(r)};hi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function eU(r){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new $a(r)}function tU(r){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Ub(r)}Af.prototype.center=function(r){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(r)};Af.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Af.prototype.isIntersectionBox=function(r){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};Af.prototype.size=function(r){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(r)};zi.prototype.center=function(r){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(r)};zi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};zi.prototype.isIntersectionBox=function(r){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};zi.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};zi.prototype.size=function(r){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(r)};xs.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};vh.prototype.setFromMatrix=function(r){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(r)};s2.prototype.center=function(r){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(r)};Sr.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};Sr.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};Sr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Sr.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};Sr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Sr.prototype.getInverse=function(r){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};Ot.prototype.extractPosition=function(r){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(r)};Ot.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};Ot.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ce().setFromMatrixColumn(this,3)};Ot.prototype.setRotationFromQuaternion=function(r){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(r)};Ot.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ot.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Ot.prototype.multiplyVector4=function(r){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Ot.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ot.prototype.rotateAxis=function(r){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),r.transformDirection(this)};Ot.prototype.crossVector=function(r){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Ot.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ot.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ot.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ot.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ot.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ot.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Ot.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ot.prototype.makeFrustum=function(r,e,t,n,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(r,e,n,t,i,a)};Ot.prototype.getInverse=function(r){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};qa.prototype.isIntersectionLine=function(r){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(r)};vr.prototype.multiplyVector3=function(r){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),r.applyQuaternion(this)};vr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};bs.prototype.isIntersectionBox=function(r){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};bs.prototype.isIntersectionPlane=function(r){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(r)};bs.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};cr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};cr.prototype.barycoordFromPoint=function(r,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(r,e)};cr.prototype.midpoint=function(r){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(r)};cr.prototypenormal=function(r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(r)};cr.prototype.plane=function(r){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(r)};cr.barycoordFromPoint=function(r,e,t,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),cr.getBarycoord(r,e,t,n,i)};cr.normal=function(r,e,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),cr.getNormal(r,e,t,n)};Qa.prototype.extractAllPoints=function(r){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(r)};Qa.prototype.extrude=function(r){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Lo(this,r)};Qa.prototype.makeGeometry=function(r){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new vf(this,r)};ft.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};ft.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};ft.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ce.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Ce.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Ce.prototype.getPositionFromMatrix=function(r){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(r)};Ce.prototype.getScaleFromMatrix=function(r){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(r)};Ce.prototype.getColumnFromMatrix=function(r,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,r)};Ce.prototype.applyProjection=function(r){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(r)};Ce.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};Ce.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};Ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ln.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};Ln.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ln.prototype.getChildByName=function(r){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(r)};ln.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};ln.prototype.translate=function(r,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,r)};ln.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};ln.prototype.applyMatrix=function(r){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(ln.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(r){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=r}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});_r.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(_r.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),gA},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});_0.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Nn.prototype.setLens=function(r,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(r)};Object.defineProperties(Ta.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(r){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=r}},shadowCameraLeft:{set:function(r){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=r}},shadowCameraRight:{set:function(r){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=r}},shadowCameraTop:{set:function(r){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=r}},shadowCameraBottom:{set:function(r){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=r}},shadowCameraNear:{set:function(r){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=r}},shadowCameraFar:{set:function(r){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=r}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(r){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=r}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(r){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=r}},shadowMapHeight:{set:function(r){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=r}}});Object.defineProperties(mn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===th},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(th)}}});mn.prototype.setDynamic=function(r){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?th:eh),this};mn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},mn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ht.prototype.addIndex=function(r){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(r)};Ht.prototype.addAttribute=function(r,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(r,new mn(arguments[1],arguments[2]))):r==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(r,e)};Ht.prototype.addDrawCall=function(r,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(r,e)};Ht.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Ht.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Ht.prototype.removeAttribute=function(r){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(r)};Ht.prototype.applyMatrix=function(r){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(Ht.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Ul.prototype.setDynamic=function(r){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?th:eh),this};Ul.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Lo.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Lo.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Lo.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};pf.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};N0.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Lr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(r){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===cw}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(r){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=r}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(To.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(r){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=r}}});Tn.prototype.clearTarget=function(r,e,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(r),this.clear(e,t,n)};Tn.prototype.animate=function(r){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(r)};Tn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Tn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Tn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Tn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Tn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Tn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Tn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Tn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Tn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Tn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Tn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Tn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Tn.prototype.enableScissorTest=function(r){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(r)};Tn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Tn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Tn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Tn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Tn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Tn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Tn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Tn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Tn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Tn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Tn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=r}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=r}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(r){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=r===!0?Tl:jr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(vC.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function nU(r,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new o0(r,t)}Object.defineProperties(Bi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=r}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=r}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=r}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=r}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(r){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=r}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(r){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=r}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(r){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=r}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(r){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=r}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(r){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=r}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(r){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=r}}});W1.prototype.load=function(r){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let e=this;return new qb().load(r,function(n){e.setBuffer(n)}),this};Kb.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};a0.prototype.updateCubeMap=function(r,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(r,e)};a0.prototype.clear=function(r,e,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(r,e,t,n)};Al.crossOrigin=void 0;Al.loadTexture=function(r,e,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let i=new Ls;i.setCrossOrigin(this.crossOrigin);let a=i.load(r,t,void 0,n);return e&&(a.mapping=e),a};Al.loadTextureCube=function(r,e,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let i=new zb;i.setCrossOrigin(this.crossOrigin);let a=i.load(r,t,void 0,n);return e&&(a.mapping=e),a};Al.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Al.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function rU(){console.error("THREE.CanvasRenderer has been removed")}function iU(){console.error("THREE.JSONLoader has been removed.")}var aU={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function oU(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function sU(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Ht}function lU(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Ht}function uU(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function fU(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function cU(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gv}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gv);var _n=ii(Ha());var wi=ii(Ha(),1);function hU(r){let e,t=new Set,n=(g,m)=>{let d=typeof g=="function"?g(e):g;if(d!==e){let u=e;e=m?d:Object.assign({},e,d),t.forEach(f=>f(e,u))}},i=()=>e,a=(g,m=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let u=m(e);function f(){let s=m(e);if(!d(u,s)){let v=u;g(u=s,v)}}return t.add(f),()=>t.delete(f)},c={setState:n,getState:i,subscribe:(g,m,d)=>m||d?a(g,m,d):(t.add(g),()=>t.delete(g)),destroy:()=>t.clear()};return e=r(n,i,c),c}var dU=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),NR=dU?wi.useEffect:wi.useLayoutEffect;function Q1(r){let e=typeof r=="function"?hU(r):r,t=(n=e.getState,i=Object.is)=>{let[,a]=(0,wi.useReducer)(x=>x+1,0),o=e.getState(),l=(0,wi.useRef)(o),c=(0,wi.useRef)(n),g=(0,wi.useRef)(i),m=(0,wi.useRef)(!1),d=(0,wi.useRef)();d.current===void 0&&(d.current=n(o));let u,f=!1;(l.current!==o||c.current!==n||g.current!==i||m.current)&&(u=n(o),f=!i(d.current,u)),NR(()=>{f&&(d.current=u),l.current=o,c.current=n,g.current=i,m.current=!1});let s=(0,wi.useRef)(o);NR(()=>{let x=()=>{try{let p=e.getState(),_=c.current(p);g.current(d.current,_)||(l.current=p,d.current=_,a())}catch{m.current=!0,a()}},h=e.subscribe(x);return e.getState()!==s.current&&x(),h},[]);let v=f?u:d.current;return(0,wi.useDebugValue)(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[t,e];return{next(){let i=n.length<=0;return{value:n.shift(),done:i}}}},t}var XR=ii(BR()),Yh=ii(ug());var K1=ii(UR()),$1=[];function HR(r,e,t,n=0,i=!1){for(let o of e)if((0,K1.default)(t,o.args)){if(i)return;if(o.error)throw o.error;if(o.response)return o.response;throw o.promise}let a={args:t,promise:r(...t).then(o=>a.response=o??!0).catch(o=>a.error=o??"unknown error").then(()=>{n>0&&setTimeout(()=>{let o=e.indexOf(a);o!==-1&&e.splice(o,1)},n)})};if(e.push(a),!i)throw a.promise}function pU(r,...e){if(e===void 0||e.length===0)r.splice(0,r.length);else{let t=r.find(n=>(0,K1.default)(e,n.args));if(t){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}function Io(r,...e){return HR(r,$1,e,Io.lifespan)}Io.lifespan=0;Io.clear=(...r)=>pU($1,...r);Io.preload=(r,...e)=>void HR(r,$1,e,Io.lifespan,!0);Io.peek=(...r)=>{var e;return(e=$1.find(t=>(0,K1.default)(r,t.args)))==null?void 0:e.response};function mU(r){return function(e){r.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GR=mU;var Qi=ii(Ha()),g2=ii(VR());function jR(r){let{debounce:e,scroll:t,polyfill:n,offsetSize:i}=r===void 0?{debounce:0,scroll:!1,offsetSize:!1}:r,a=n||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,l]=(0,Qi.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,Qi.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),g=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,d=(0,Qi.useRef)(!1);(0,Qi.useEffect)(()=>(d.current=!0,()=>void(d.current=!1)));let[u,f,s]=(0,Qi.useMemo)(()=>{let p=()=>{if(!c.current.element)return;let{left:_,top:w,width:E,height:A,bottom:T,right:C,x:R,y:D}=c.current.element.getBoundingClientRect(),O={left:_,top:w,width:E,height:A,bottom:T,right:C,x:R,y:D};c.current.element instanceof HTMLElement&&i&&(O.height=c.current.element.offsetHeight,O.width=c.current.element.offsetWidth),Object.freeze(O),d.current&&!yU(c.current.lastBounds,O)&&l(c.current.lastBounds=O)};return[p,m?(0,g2.default)(p,m):p,g?(0,g2.default)(p,g):p]},[l,i,g,m]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",s,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function x(){!c.current.element||(c.current.resizeObserver=new a(s),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(p=>p.addEventListener("scroll",s,{capture:!0,passive:!0})))}let h=p=>{!p||p===c.current.element||(v(),c.current.element=p,c.current.scrollContainers=ZR(p),x())};return vU(s,Boolean(t)),gU(f),(0,Qi.useEffect)(()=>{v(),x()},[t,s,f]),(0,Qi.useEffect)(()=>v,[]),[h,o,u]}function gU(r){(0,Qi.useEffect)(()=>{let e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function vU(r,e){(0,Qi.useEffect)(()=>{if(e){let t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function ZR(r){let e=[];if(!r||r===document.body)return e;let{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...ZR(r.parentElement)]}var _U=["x","y","top","bottom","left","right","width","height"],yU=(r,e)=>_U.every(t=>r[t]===e[t]);var zn={obj:r=>r===Object(r)&&!zn.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e){if(typeof r!=typeof e||!!r!=!!e)return!1;if(zn.str(r)||zn.num(r)||zn.obj(r))return r===e;if(zn.arr(r)&&r==e)return!0;let t;for(t in r)if(!(t in e))return!1;for(t in e)if(r[t]!==e[t])return!1;return zn.und(t)?r===e:!0}};function v2(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function YR(r,e,t,n){let i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function xU(r,e){let{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{YR(t.capturedMap,e,n,i)})}function wU(r){let e=new Ce;function t(d){var u;let f=r.getState(),{raycaster:s,mouse:v,camera:x,size:h}=f,{offsetX:p,offsetY:_}=(u=s.computeOffsets==null?void 0:s.computeOffsets(d,f))!=null?u:d,{width:w,height:E}=h;v.set(p/w*2-1,-(_/E)*2+1),s.setFromCamera(v,x)}function n(d){let{internal:u}=r.getState(),f=d.offsetX-u.initialClick[0],s=d.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+s*s))}function i(d){return d.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var s;return(s=u.__r3f)==null?void 0:s.handlers["onPointer"+f]}))}function a(d){let u=r.getState(),{raycaster:f,internal:s}=u;if(!f.enabled)return[];let v=new Set,x=[],h=d?d(s.interaction):s.interaction,p=f.intersectObjects(h,!0).filter(w=>{let E=v2(w);return v.has(E)?!1:(v.add(E),!0)});f.filter&&(p=f.filter(p,u));for(let w of p){let E=w.object;for(;E;){var _;(_=E.__r3f)!=null&&_.eventCount&&x.push({...w,eventObject:E}),E=E.parent}}return x}function o(d,u){let{internal:f}=r.getState();if("pointerId"in u&&f.capturedMap.has(u.pointerId))for(let s of f.capturedMap.get(u.pointerId).values())d.push(s.intersection);return d}function l(d,u,f,s){let{raycaster:v,mouse:x,camera:h,internal:p}=r.getState();if(d.length){let _=e.set(x.x,x.y,0).unproject(h),w={stopped:!1};for(let E of d){let A=O=>{var k,H;return(k=(H=p.capturedMap.get(O))==null?void 0:H.has(E.eventObject))!=null?k:!1},T=O=>{let k={intersection:E,target:u.target};p.capturedMap.has(O)?p.capturedMap.get(O).set(E.eventObject,k):p.capturedMap.set(O,new Map([[E.eventObject,k]])),u.target.setPointerCapture(O)},C=O=>{let k=p.capturedMap.get(O);k&&YR(p.capturedMap,E.eventObject,k,O)},R={};for(let O in u){let k=u[O];typeof k!="function"&&(R[O]=k)}let D={...E,...R,spaceX:x.x,spaceY:x.y,intersections:d,stopped:w.stopped,delta:f,unprojectedPoint:_,ray:v.ray,camera:h,stopPropagation:()=>{let O="pointerId"in u&&p.capturedMap.get(u.pointerId);if((!O||O.has(E.eventObject))&&(D.stopped=w.stopped=!0,p.hovered.size&&Array.from(p.hovered.values()).find(k=>k.eventObject===E.eventObject))){let k=d.slice(0,d.indexOf(E));c([...k,E])}},target:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:C},currentTarget:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:C},sourceEvent:u,nativeEvent:u};if(s(D),w.stopped===!0)break}}return d}function c(d){let{internal:u}=r.getState();Array.from(u.hovered.values()).forEach(f=>{if(!d.length||!d.find(s=>s.object===f.object&&s.index===f.index&&s.instanceId===f.instanceId)){let v=f.eventObject.__r3f,x=v==null?void 0:v.handlers;if(u.hovered.delete(v2(f)),v!=null&&v.eventCount){let h={...f,intersections:d||[]};x.onPointerOut==null||x.onPointerOut(h),x.onPointerLeave==null||x.onPointerLeave(h)}}})}let g=d=>{switch(d){case"onPointerLeave":case"onPointerCancel":return()=>c([]);case"onLostPointerCapture":return u=>{let{internal:f}=r.getState();"pointerId"in u&&!f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),c([]))}}return u=>{let{onPointerMissed:f,internal:s}=r.getState();t(u),s.lastEvent.current=u;let v=d==="onPointerMove",x=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",p=o(a(v?i:void 0),u),_=x?n(u):0;d==="onPointerDown"&&(s.initialClick=[u.offsetX,u.offsetY],s.initialHits=p.map(w=>w.eventObject)),x&&!p.length&&_<=2&&(m(u,s.interaction),f&&f(u)),v&&c(p),l(p,u,_,w=>{let E=w.eventObject,A=E.__r3f,T=A==null?void 0:A.handlers;if(!!(A!=null&&A.eventCount))if(v){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){let C=v2(w),R=s.hovered.get(C);R?R.stopped&&w.stopPropagation():(s.hovered.set(C,w),T.onPointerOver==null||T.onPointerOver(w),T.onPointerEnter==null||T.onPointerEnter(w))}T.onPointerMove==null||T.onPointerMove(w)}else{let C=T[d];C?(!x||s.initialHits.includes(E))&&(m(u,s.interaction.filter(R=>!s.initialHits.includes(R))),C(w)):x&&s.initialHits.includes(E)&&m(u,s.interaction.filter(R=>!s.initialHits.includes(R)))}})}};function m(d,u){u.forEach(f=>{var s;return(s=f.__r3f)==null||s.handlers.onPointerMissed==null?void 0:s.handlers.onPointerMissed(d)})}return{handlePointer:g}}var bU=r=>r&&!!r.memoized&&!!r.changes,e_=r=>r&&!!r.getState,_2=(r,e)=>{var t,n;return{root:e_(r)?r:(t=(n=r.__r3f)==null?void 0:n.root)!=null?t:e.__r3f.root,container:e_(r)?r.getState().scene:r}},qR="__default",EU={},SU={};function MU(r,e){return!!(zn.arr(r)&&zn.equ(r,e)||r===e)}function qh(r,e){let t=r;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),r}function TU(r){function e(u,{children:f,key:s,ref:v,...x},{children:h,key:p,ref:_,...w}={},E=!1){var A;let T=(A=u==null?void 0:u.__r3f)!=null?A:{},C=Object.entries(x),R=[];if(E){let O=Object.keys(w);for(let k=0;k<O.length;k++)x.hasOwnProperty(O[k])||C.unshift([O[k],qR+"remove"])}C.forEach(([O,k])=>{var H;if((H=u.__r3f)!=null&&H.primitive&&O==="object"||MU(k,w[O]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(O))return R.push([O,k,!0,[]]);let B=[];O.includes("-")&&(B=O.split("-")),R.push([O,k,!1,B])});let D={...x};return T.memoizedProps&&T.memoizedProps.args&&(D.args=T.memoizedProps.args),T.memoizedProps&&T.memoizedProps.attach&&(D.attach=T.memoizedProps.attach),{accumulative:E,memoized:D,changes:R}}function t(u,f){var s,v,x;let h=(s=u==null?void 0:u.__r3f)!=null?s:{},p=h.root,_=(v=p==null||p.getState==null?void 0:p.getState())!=null?v:{},{memoized:w,changes:E}=bU(f)?f:e(u,f),A=h.eventCount;if(u.__r3f&&(u.__r3f.memoizedProps=w),E.forEach(([T,C,R,D])=>{let O=u,k=O[T];if(D.length&&(k=D.reduce((H,B)=>H[B],u),!(k&&k.set))){let[H,...B]=D.reverse();O=B.reverse().reduce((Z,V)=>Z[V],u),T=H}if(C===qR+"remove")if(k&&k.constructor)C=new k.constructor(w.args);else if(O.constructor){let H=new O.constructor(O.__r3f.memoizedProps.args);C=H[k],H.dispose&&H.dispose()}else C=0;if(R)C?h.handlers[T]=C:delete h.handlers[T],h.eventCount=Object.keys(h.handlers).length;else if(k&&k.set&&(k.copy||k instanceof Dl)){if(Array.isArray(C))k.fromArray?k.fromArray(C):k.set(...C);else if(k.copy&&C&&C.constructor&&k.constructor.name===C.constructor.name)k.copy(C);else if(C!==void 0){let H=k instanceof wt;!H&&k.setScalar?k.setScalar(C):k instanceof Dl&&C instanceof Dl?k.mask=C.mask:k.set(C),!_.linear&&H&&k.convertSRGBToLinear()}}else O[T]=C,!_.linear&&O[T]instanceof Qn&&(O[T].encoding=Tl);n(u)}),h.parent&&_.internal&&u.raycast&&A!==h.eventCount){let T=_.internal.interaction.indexOf(u);T>-1&&_.internal.interaction.splice(T,1),h.eventCount&&_.internal.interaction.push(u)}return E.length&&(x=u.__r3f)!=null&&x.parent&&i(u),u}function n(u){var f,s;let v=(f=u.__r3f)==null||(s=f.root)==null||s.getState==null?void 0:s.getState();v&&v.internal.frames===0&&v.invalidate()}function i(u){u.onUpdate==null||u.onUpdate(u)}function a(u,{args:f=[],...s},v,x,h){let p=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(!e_(v)&&h){let w=E=>E.return?w(E.return):E.stateNode&&E.stateNode.containerInfo;v=w(h)}if(!v||!e_(v))throw`No valid root for ${p}!`;if(u==="primitive"){if(s.object===void 0)throw"Primitives without 'object' are invalid!";let w=s.object;_=qh(w,{root:v,primitive:!0})}else{let w=SU[p]||p2[p];if(!w)throw`${p} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(f))throw"The args prop must be an array!";_=qh(new w(...f),{root:v,memoizedProps:{args:f.length===0?null:f}})}return"attachFns"in s||(p.endsWith("Geometry")?s={attach:"geometry",...s}:p.endsWith("Material")&&(s={attach:"material",...s})),t(_,s),_}function o(u,f){let s=!1;if(f){if(f.attachArray)zn.arr(u[f.attachArray])||(u[f.attachArray]=[]),u[f.attachArray].push(f);else if(f.attachObject)zn.obj(u[f.attachObject[0]])||(u[f.attachObject[0]]={}),u[f.attachObject[0]][f.attachObject[1]]=f;else if(f.attach&&!zn.fun(f.attach))u[f.attach]=f;else if(zn.arr(f.attachFns)){let[v]=f.attachFns;zn.str(v)&&zn.fun(u[v])?u[v](f):zn.fun(v)&&v(f,u)}else f.isObject3D&&u.isObject3D&&(u.add(f),s=!0);s||u.__r3f.objects.push(f),f.__r3f||qh(f,{}),f.__r3f.parent=u,i(f),n(f)}}function l(u,f,s){let v=!1;if(f){if(f.attachArray){let x=u[f.attachArray];zn.arr(x)||(u[f.attachArray]=[]),x.splice(x.indexOf(s),0,f)}else{if(f.attachObject||f.attach&&!zn.fun(f.attach))return o(u,f);if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});let x=u.children.filter(p=>p!==f),h=x.indexOf(s);u.children=[...x.slice(0,h),f,...x.slice(h)],v=!0}}v||u.__r3f.objects.push(f),f.__r3f||qh(f,{}),f.__r3f.parent=u,i(f),n(f)}}function c(u,f,s=!1){u&&[...u].forEach(v=>g(f,v,s))}function g(u,f,s){if(f){var v,x;if(f.__r3f&&(f.__r3f.parent=null),(v=u.__r3f)!=null&&v.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==f)),f.attachArray)u[f.attachArray]=u[f.attachArray].filter(E=>E!==f);else if(f.attachObject)delete u[f.attachObject[0]][f.attachObject[1]];else if(f.attach&&!zn.fun(f.attach)&&u[f.attach]===f)u[f.attach]=null;else if(zn.arr(f.attachFns)){let[,E]=f.attachFns;zn.str(E)&&zn.fun(u[E])?u[E](f):zn.fun(E)&&E(f,u)}else if(f.isObject3D&&u.isObject3D){var h;u.remove(f),(h=f.__r3f)!=null&&h.root&&xU(f.__r3f.root,f)}let _=(x=f.__r3f)==null?void 0:x.primitive,w=s===void 0?f.dispose!==null&&!_:s;if(!_){var p;c((p=f.__r3f)==null?void 0:p.objects,f,w),c(f.children,f,w)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),w&&f.dispose&&f.type!=="Scene"&&(0,Yh.unstable_runWithPriority)(Yh.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),n(u)}}function m(u,f,s,v){var x;let h=(x=u.__r3f)==null?void 0:x.parent;if(!h)return;let p=a(f,s,u.__r3f.root);f!=="primitive"&&u.children&&(u.children.forEach(_=>o(p,_)),u.children=[]),u.__r3f.objects.forEach(_=>o(p,_)),u.__r3f.objects=[],g(h,u),o(h,p),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=p,_.ref&&(typeof _.ref=="function"?_.ref(p):_.ref.current=p))})}return{reconciler:(0,XR.default)({now:Yh.unstable_now,createInstance:a,removeChild:g,appendChild:o,appendInitialChild:o,insertBefore:l,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:zn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:zn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:zn.fun(setTimeout)?setTimeout:void 0,clearTimeout:zn.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(u,f)=>{let{container:s,root:v}=_2(u,f);s.__r3f.root=v,o(s,f)},removeChildFromContainer:(u,f)=>g(_2(u,f).container,f),insertInContainerBefore:(u,f,s)=>l(_2(u,f).container,f,s),prepareUpdate(u,f,s,v){if(u.__r3f.primitive&&v.object&&v.object!==u)return[!0];{let{args:x=[],children:h,...p}=v,{args:_=[],children:w,...E}=s;if(!Array.isArray(x))throw"The args prop must be an array!";if(x.some((T,C)=>T!==_[C]))return[!0];let A=e(u,p,E,!0);if(A.changes.length)return[!1,A];if(u.attach&&typeof u.attach!="function"){let C=u.__r3f.parent;C&&C[u.attach]!==u&&o(C,u)}return null}},commitUpdate(u,[f,s],v,x,h,p){f?m(u,v,h,p):t(u,s)},hideInstance(u){u.isObject3D&&(u.visible=!1,n(u))},unhideInstance(u,f){(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0,n(u))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(u){return u},getRootHostContext(u){return EU},getChildHostContext(u){return u},createTextInstance(){},finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},commitMount(u){var f;let s=(f=u==null?void 0:u.__r3f)!=null?f:{};u.raycast&&s.handlers&&s.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(u){qh(u)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}var AU=r=>!!(r!=null&&r.render),JR=r=>r&&r.isOrthographicCamera;function y2(r){return Array.isArray(r)?Math.min(Math.max(r[0],window.devicePixelRatio),r[1]):r}var QR=_n.createContext(null),CU=(r,e,t,n)=>{let{gl:i,size:a,shadows:o=!1,linear:l=!1,flat:c=!1,vr:g=!1,orthographic:m=!1,frameloop:d="always",dpr:u=1,performance:f,clock:s=new O0,raycaster:v,camera:x,onPointerMissed:h}=n;o&&(i.shadowMap.enabled=!0,typeof o=="object"?Object.assign(i.shadowMap,o):i.shadowMap.type=vv),l&&(i.outputEncoding=jr),c&&(i.toneMapping=Eo),d==="never"&&(s.stop(),s.elapsedTime=0);let p=Q1((A,T)=>{let C=new V1,{params:R,...D}=v||{};r(C,{enabled:!0,...D,params:{...C.params,...R}});let O=x instanceof As,k=O?x:m?new Sa(0,0,0,0,.1,1e3):new Nn(75,0,.1,1e3);O||(k.position.z=5,x&&r(k,x),x!=null&&x.rotation||k.lookAt(0,0,0));let H=y2(u),B=new Ce,Z=new Ce,V=new Ce;function j(J=T().camera,oe=Z,le=T().size){let{width:fe,height:$}=le,ae=fe/$;oe instanceof Ce?V.copy(oe):V.set(...oe);let se=J.getWorldPosition(B).distanceTo(V);if(JR(J))return{width:fe/J.zoom,height:$/J.zoom,factor:1,distance:se,aspect:ae};{let ce=J.fov*Math.PI/180,he=2*Math.tan(ce/2)*se,we=he*(fe/$);return{width:we,height:he,factor:fe/we,distance:se,aspect:ae}}}let z,W=J=>A(oe=>({performance:{...oe.performance,current:J}}));return{gl:i,set:A,get:T,invalidate:()=>e(T()),advance:(J,oe)=>t(J,oe,T()),linear:l,flat:c,scene:qh(new pf),camera:k,controls:null,raycaster:C,clock:s,mouse:new ft,vr:g,frameloop:d,onPointerMissed:h,performance:{current:1,min:.5,max:1,debounce:200,...f,regress:()=>{let J=T();z&&clearTimeout(z),J.performance.current!==J.performance.min&&W(J.performance.min),z=setTimeout(()=>W(T().performance.max),J.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:H,dpr:H,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:j},setSize:(J,oe)=>{let le={width:J,height:oe};A(fe=>({size:le,viewport:{...fe.viewport,...j(k,Z,le)}}))},setDpr:J=>A(oe=>({viewport:{...oe.viewport,dpr:y2(J)}})),setFrameloop:(J="always")=>A(()=>({frameloop:J})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:n,lastEvent:_n.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(J,oe=0)=>(A(({internal:le})=>({internal:{...le,priority:le.priority+(oe>0?1:0),subscribers:[...le.subscribers,{ref:J,priority:oe}].sort((fe,$)=>fe.priority-$.priority)}})),()=>{A(({internal:le})=>({internal:{...le,priority:le.priority-(oe>0?1:0),subscribers:le.subscribers.filter(fe=>fe.ref!==J)}}))})}}}),_=p.getState(),w=_.size,E=_.viewport.dpr;return p.subscribe(()=>{let{camera:A,size:T,viewport:C,internal:R}=p.getState();(T!==w||C.dpr!==E)&&(!A.manual&&!(R.lastProps.camera instanceof As)&&(JR(A)?(A.left=T.width/-2,A.right=T.width/2,A.top=T.height/2,A.bottom=T.height/-2):A.aspect=T.width/T.height,A.updateProjectionMatrix(),A.updateMatrixWorld()),i.setPixelRatio(C.dpr),i.setSize(T.width,T.height),w=T,E=C.dpr)}),a&&_.setSize(a.width,a.height),p.subscribe(A=>e(A)),p};var ql,KR=[],$R=[],RU=[];function B0(r,e){for(ql=0;ql<r.length;ql++)r[ql](e)}function x2(r,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(t=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),ql=0;ql<e.internal.subscribers.length;ql++)e.internal.subscribers[ql].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function LU(r){let e=!1,t;function n(o){if(e=!0,t=0,B0(KR,o),r.forEach(l=>{let c=l.store.getState();c.internal.active&&(c.frameloop==="always"||c.internal.frames>0)&&(t+=x2(o,c))}),B0($R,o),t>0)return requestAnimationFrame(n);B0(RU,o),e=!1}function i(o){if(!o)return r.forEach(l=>i(l.store.getState()));o.vr||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+1),e||(e=!0,requestAnimationFrame(n)))}function a(o,l=!0,c){l&&B0(KR,o),c?x2(o,c):r.forEach(g=>x2(o,g.store.getState())),l&&B0($R,o)}return{loop:n,invalidate:i,advance:a}}function PU(r){let{handlePointer:e}=wU(r),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((n,i)=>({...n,[i]:e(i)}),{}),connect:n=>{var i;let{set:a,events:o}=r.getState();o.disconnect==null||o.disconnect(),a(l=>({events:{...l.events,connected:n}})),Object.entries((i=o==null?void 0:o.handlers)!=null?i:[]).forEach(([l,c])=>{let[g,m]=t[l];n.addEventListener(g,c,{passive:m})})},disconnect:()=>{let{set:n,events:i}=r.getState();if(i.connected){var a;Object.entries((a=i.handlers)!=null?a:[]).forEach(([o,l])=>{if(i&&i.connected instanceof HTMLElement){let[c]=t[o];i.connected.removeEventListener(c,l)}}),n(o=>({events:{...o.events,connected:!1}}))}}}}var w2=typeof window!="undefined"?_n.useLayoutEffect:_n.useEffect;function IU({set:r}){return w2(()=>(r(new Promise(()=>null)),()=>r(!1)),[]),null}var b2=class extends _n.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};b2.getDerivedStateFromError=()=>({error:!0});var eL=_n.forwardRef(function({children:e,fallback:t,tabIndex:n,resize:i,id:a,style:o,className:l,events:c,...g},m){let[d,{width:u,height:f}]=jR({scroll:!0,debounce:{scroll:50,resize:0},...i}),s=_n.useRef(null),[v,x]=_n.useState(!1),[h,p]=_n.useState(!1);if(v)throw v;if(h)throw h;return w2(()=>{u>0&&f>0&&kU(_n.createElement(b2,{set:p},_n.createElement(_n.Suspense,{fallback:_n.createElement(IU,{set:x})},e)),s.current,{...g,size:{width:u,height:f},events:c||PU})},[u,f,e]),w2(()=>{let _=s.current;return()=>sL(_)},[]),_n.createElement("div",{ref:d,id:a,className:l,tabIndex:n,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...o}},_n.createElement("canvas",{ref:GR([s,m]),style:{display:"block"}},t))});function tL(){let r=_n.useContext(QR);if(!r)throw"R3F hooks can only be used within the Canvas component!";return r}function Do(r=t=>t,e){return tL()(r,e)}function nL(r,e=0){let t=tL().getState().internal.subscribe,n=_n.useRef(r);return _n.useLayoutEffect(()=>void(n.current=r),[r]),_n.useLayoutEffect(()=>t(n,e),[e,t]),null}function DU(r){let e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function rL(r,e){return function(t,...n){let i=new t;return r&&r(i),Promise.all(n.map(a=>new Promise((o,l)=>i.load(a,c=>{c.scene&&Object.assign(c,DU(c.scene)),o(c)},e,c=>l(`Could not load ${a}: ${c.message}`)))))}}function Jl(r,e,t,n){let i=Array.isArray(e)?e:[e],a=Io(rL(t,n),r,...i);return Array.isArray(e)?a:a[0]}Jl.preload=function(r,e,t){let n=Array.isArray(e)?e:[e];return Io.preload(rL(t),r,...n)};Jl.clear=function(r,e){let t=Array.isArray(e)?e:[e];return Io.clear(r,...t)};var z0=new Map,iL=["legacy","blocking","concurrent"],{invalidate:OU,advance:aL}=LU(z0),{reconciler:U0,applyProps:oL}=TU(),NU=(r,e)=>{let t=typeof r=="function"?r(e):r;if(AU(t))return t;let n=new Tn({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r});return n.outputEncoding=Tl,n.toneMapping=yv,r&&oL(n,r),n};function kU(r,e,{gl:t,size:n,mode:i=iL[1],events:a,onCreated:o,...l}={}){var c;if(!n){var g,m,d,u;n={width:(g=(m=e.parentElement)==null?void 0:m.clientWidth)!=null?g:0,height:(d=(u=e.parentElement)==null?void 0:u.clientHeight)!=null?d:0}}let f=z0.get(e),s=f==null?void 0:f.fiber,v=f==null?void 0:f.store,x=(c=v)==null?void 0:c.getState();if(s&&x&&(l.dpr!==void 0&&!zn.equ(x.viewport.dpr,y2(l.dpr))&&x.setDpr(l.dpr),(x.size.width!==n.width||x.size.height!==n.height)&&x.setSize(n.width,n.height),x.frameloop!==l.frameloop&&x.setFrameloop(l.frameloop),l.linear!==x.internal.lastProps.linear&&(sL(e),s=void 0)),!s){let h=NU(t,e);l.vr&&(h.xr.enabled=!0,h.setAnimationLoop(_=>aL(_,!0))),v=CU(oL,OU,aL,{gl:h,size:n,...l});let p=v.getState();s=U0.createContainer(v,iL.indexOf(i),!1,null),z0.set(e,{fiber:s,store:v}),a&&p.set({events:a(v)})}if(v&&s)return U0.updateContainer(_n.createElement(FU,{store:v,element:r,onCreated:o,target:e}),s,null,()=>{}),v;throw"Error creating root!"}function FU({store:r,element:e,onCreated:t,target:n}){return _n.useEffect(()=>{let i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),i.events.connect==null||i.events.connect(n),t&&t(i)},[]),_n.createElement(QR.Provider,{value:r},e)}function sL(r,e){let t=z0.get(r),n=t==null?void 0:t.fiber;if(n){let i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),U0.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{var a,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),BU(i),z0.delete(r),e&&e(r)},500)})}}function BU(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(let n in r){var e,t;(e=(t=n).dispose)==null||e.call(t),delete r[n]}}var T7=U0.act;U0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Cf(){return Cf=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cf.apply(this,arguments)}var Yr=ii(Ha());var H0=0,lL=Q1(r=>(wf.onStart=(e,t,n)=>{r({active:!0,item:e,loaded:t,total:n,progress:(t-H0)/(n-H0)*100})},wf.onLoad=()=>{r({active:!1})},wf.onError=e=>r(t=>({errors:[...t.errors,e]})),wf.onProgress=(e,t,n)=>{t===n&&(H0=n),r({active:!0,item:e,loaded:t,total:n,progress:(t-H0)/(n-H0)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var zU=r=>`Loading ${r.toFixed(2)}%`;function E2({containerStyles:r,innerStyles:e,barStyles:t,dataStyles:n,dataInterpolation:i=zU,initialState:a=o=>o}){let{active:o,progress:l}=lL(),c=Yr.useRef(0),g=Yr.useRef(0),m=Yr.useRef(null),[d,u]=Yr.useState(a(o));Yr.useEffect(()=>{let s;return o!==d&&(s=setTimeout(()=>u(o),300)),()=>clearTimeout(s)},[d,o]);let f=Yr.useCallback(()=>{!m.current||(c.current+=(l-c.current)/2,(c.current>.95*l||l===100)&&(c.current=l),m.current.innerText=i(c.current),c.current<l&&(g.current=requestAnimationFrame(f)))},[i,l]);return Yr.useEffect(()=>(f(),()=>cancelAnimationFrame(g.current)),[f]),d?Yr.createElement("div",{style:{...t_.container,opacity:o?1:0,...r}},Yr.createElement("div",null,Yr.createElement("div",{style:{...t_.inner,...e}},Yr.createElement("div",{style:{...t_.bar,transform:`scaleX(${l/100})`,...t}}),Yr.createElement("span",{ref:m,style:{...t_.data,...n}})))):null}var t_={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function $t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uL=(r,e)=>(r%e+e)%e,n_=class extends ja{constructor(e,t){super();$t(this,"object",void 0),$t(this,"domElement",void 0),$t(this,"enabled",!0),$t(this,"target",new Ce),$t(this,"minDistance",0),$t(this,"maxDistance",1/0),$t(this,"minZoom",0),$t(this,"maxZoom",1/0),$t(this,"minPolarAngle",0),$t(this,"maxPolarAngle",Math.PI),$t(this,"minAzimuthAngle",-1/0),$t(this,"maxAzimuthAngle",1/0),$t(this,"enableDamping",!1),$t(this,"dampingFactor",.05),$t(this,"enableZoom",!0),$t(this,"zoomSpeed",1),$t(this,"enableRotate",!0),$t(this,"rotateSpeed",1),$t(this,"enablePan",!0),$t(this,"panSpeed",1),$t(this,"screenSpacePanning",!0),$t(this,"keyPanSpeed",7),$t(this,"autoRotate",!1),$t(this,"autoRotateSpeed",2),$t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$t(this,"mouseButtons",{LEFT:ba.ROTATE,MIDDLE:ba.DOLLY,RIGHT:ba.PAN}),$t(this,"touches",{ONE:El.ROTATE,TWO:El.DOLLY_PAN}),$t(this,"target0",void 0),$t(this,"position0",void 0),$t(this,"zoom0",void 0),$t(this,"_domElementKeyEvents",null),$t(this,"getPolarAngle",void 0),$t(this,"getAzimuthalAngle",void 0),$t(this,"setPolarAngle",void 0),$t(this,"setAzimuthalAngle",void 0),$t(this,"getDistance",void 0),$t(this,"listenToKeyEvents",void 0),$t(this,"saveState",void 0),$t(this,"reset",void 0),$t(this,"update",void 0),$t(this,"connect",void 0),$t(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Nn?this.object.zoom:1,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Me=>{let Ge=uL(Me,2*Math.PI),et=m.phi;et<0&&(et+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let ut=Math.abs(Ge-et);2*Math.PI-ut<ut&&(Ge<et?Ge+=2*Math.PI:et+=2*Math.PI),d.phi=Ge-et,n.update()},this.setAzimuthalAngle=Me=>{let Ge=uL(Me,2*Math.PI),et=m.theta;et<0&&(et+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let ut=Math.abs(Ge-et);2*Math.PI-ut<ut&&(Ge<et?Ge+=2*Math.PI:et+=2*Math.PI),d.theta=Ge-et,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=Me=>{Me.addEventListener("keydown",Q),this._domElementKeyEvents=Me},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof Nn?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof Nn&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(i),n.update(),c=l.NONE},this.update=(()=>{let Me=new Ce,Ge=new vr().setFromUnitVectors(e.up,new Ce(0,1,0)),et=Ge.clone().invert(),ut=new Ce,ct=new vr,X=2*Math.PI;return function(){let ke=n.object.position;Me.copy(ke).sub(n.target),Me.applyQuaternion(Ge),m.setFromVector3(Me),n.autoRotate&&c===l.NONE&&k(D()),n.enableDamping?(m.theta+=d.theta*n.dampingFactor,m.phi+=d.phi*n.dampingFactor):(m.theta+=d.theta,m.phi+=d.phi);let Je=n.minAzimuthAngle,Re=n.maxAzimuthAngle;return isFinite(Je)&&isFinite(Re)&&(Je<-Math.PI?Je+=X:Je>Math.PI&&(Je-=X),Re<-Math.PI?Re+=X:Re>Math.PI&&(Re-=X),Je<=Re?m.theta=Math.max(Je,Math.min(Re,m.theta)):m.theta=m.theta>(Je+Re)/2?Math.max(Je,m.theta):Math.min(Re,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=u,m.radius=Math.max(n.minDistance,Math.min(n.maxDistance,m.radius)),n.enableDamping===!0?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),Me.setFromSpherical(m),Me.applyQuaternion(et),ke.copy(n.target).add(Me),n.object.lookAt(n.target),n.enableDamping===!0?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),f.set(0,0,0)),u=1,s||ut.distanceToSquared(n.object.position)>g||8*(1-ct.dot(n.object.quaternion))>g?(n.dispatchEvent(i),ut.copy(n.object.position),ct.copy(n.object.quaternion),s=!1,!0):!1}})(),this.connect=Me=>{Me===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=Me,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",be),n.domElement.addEventListener("pointerdown",re),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",U)},this.dispose=()=>{var Me,Ge,et,ut,ct,X;(Me=n.domElement)===null||Me===void 0||Me.removeEventListener("contextmenu",be),(Ge=n.domElement)===null||Ge===void 0||Ge.removeEventListener("pointerdown",re),(et=n.domElement)===null||et===void 0||et.removeEventListener("pointercancel",G),(ut=n.domElement)===null||ut===void 0||ut.removeEventListener("wheel",U),(ct=n.domElement)===null||ct===void 0||ct.ownerDocument.removeEventListener("pointermove",q),(X=n.domElement)===null||X===void 0||X.ownerDocument.removeEventListener("pointerup",te),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Q)};let n=this,i={type:"change"},a={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=l.NONE,g=1e-6,m=new k0,d=new k0,u=1,f=new Ce,s=!1,v=new ft,x=new ft,h=new ft,p=new ft,_=new ft,w=new ft,E=new ft,A=new ft,T=new ft,C=[],R={};function D(){return 2*Math.PI/60/60*n.autoRotateSpeed}function O(){return Math.pow(.95,n.zoomSpeed)}function k(Me){d.theta-=Me}function H(Me){d.phi-=Me}let B=(()=>{let Me=new Ce;return function(et,ut){Me.setFromMatrixColumn(ut,0),Me.multiplyScalar(-et),f.add(Me)}})(),Z=(()=>{let Me=new Ce;return function(et,ut){n.screenSpacePanning===!0?Me.setFromMatrixColumn(ut,1):(Me.setFromMatrixColumn(ut,0),Me.crossVectors(n.object.up,Me)),Me.multiplyScalar(et),f.add(Me)}})(),V=(()=>{let Me=new Ce;return function(et,ut){let ct=n.domElement;if(ct&&n.object instanceof Nn&&n.object.isPerspectiveCamera){let X=n.object.position;Me.copy(X).sub(n.target);let Ae=Me.length();Ae*=Math.tan(n.object.fov/2*Math.PI/180),B(2*et*Ae/ct.clientHeight,n.object.matrix),Z(2*ut*Ae/ct.clientHeight,n.object.matrix)}else ct&&n.object instanceof Sa&&n.object.isOrthographicCamera?(B(et*(n.object.right-n.object.left)/n.object.zoom/ct.clientWidth,n.object.matrix),Z(ut*(n.object.top-n.object.bottom)/n.object.zoom/ct.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function j(Me){n.object instanceof Nn&&n.object.isPerspectiveCamera?u/=Me:n.object instanceof Sa&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*Me)),n.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(Me){n.object instanceof Nn&&n.object.isPerspectiveCamera?u*=Me:n.object instanceof Sa&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/Me)),n.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function W(Me){v.set(Me.clientX,Me.clientY)}function J(Me){E.set(Me.clientX,Me.clientY)}function oe(Me){p.set(Me.clientX,Me.clientY)}function le(Me){x.set(Me.clientX,Me.clientY),h.subVectors(x,v).multiplyScalar(n.rotateSpeed);let Ge=n.domElement;Ge&&(k(2*Math.PI*h.x/Ge.clientHeight),H(2*Math.PI*h.y/Ge.clientHeight)),v.copy(x),n.update()}function fe(Me){A.set(Me.clientX,Me.clientY),T.subVectors(A,E),T.y>0?j(O()):T.y<0&&z(O()),E.copy(A),n.update()}function $(Me){_.set(Me.clientX,Me.clientY),w.subVectors(_,p).multiplyScalar(n.panSpeed),V(w.x,w.y),p.copy(_),n.update()}function ae(Me){Me.deltaY<0?z(O()):Me.deltaY>0&&j(O()),n.update()}function se(Me){let Ge=!1;switch(Me.code){case n.keys.UP:V(0,n.keyPanSpeed),Ge=!0;break;case n.keys.BOTTOM:V(0,-n.keyPanSpeed),Ge=!0;break;case n.keys.LEFT:V(n.keyPanSpeed,0),Ge=!0;break;case n.keys.RIGHT:V(-n.keyPanSpeed,0),Ge=!0;break}Ge&&(Me.preventDefault(),n.update())}function ce(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);v.set(Me,Ge)}}function he(){if(C.length==1)p.set(C[0].pageX,C[0].pageY);else{let Me=.5*(C[0].pageX+C[1].pageX),Ge=.5*(C[0].pageY+C[1].pageY);p.set(Me,Ge)}}function we(){let Me=C[0].pageX-C[1].pageX,Ge=C[0].pageY-C[1].pageY,et=Math.sqrt(Me*Me+Ge*Ge);E.set(0,et)}function xe(){n.enableZoom&&we(),n.enablePan&&he()}function Oe(){n.enableZoom&&we(),n.enableRotate&&ce()}function ge(Me){if(C.length==1)x.set(Me.pageX,Me.pageY);else{let et=Ye(Me),ut=.5*(Me.pageX+et.x),ct=.5*(Me.pageY+et.y);x.set(ut,ct)}h.subVectors(x,v).multiplyScalar(n.rotateSpeed);let Ge=n.domElement;Ge&&(k(2*Math.PI*h.x/Ge.clientHeight),H(2*Math.PI*h.y/Ge.clientHeight)),v.copy(x)}function De(Me){if(C.length==1)_.set(Me.pageX,Me.pageY);else{let Ge=Ye(Me),et=.5*(Me.pageX+Ge.x),ut=.5*(Me.pageY+Ge.y);_.set(et,ut)}w.subVectors(_,p).multiplyScalar(n.panSpeed),V(w.x,w.y),p.copy(_)}function pe(Me){let Ge=Ye(Me),et=Me.pageX-Ge.x,ut=Me.pageY-Ge.y,ct=Math.sqrt(et*et+ut*ut);A.set(0,ct),T.set(0,Math.pow(A.y/E.y,n.zoomSpeed)),j(T.y),E.copy(A)}function de(Me){n.enableZoom&&pe(Me),n.enablePan&&De(Me)}function ie(Me){n.enableZoom&&pe(Me),n.enableRotate&&ge(Me)}function re(Me){if(n.enabled!==!1){if(C.length===0){var Ge,et;(Ge=n.domElement)===null||Ge===void 0||Ge.ownerDocument.addEventListener("pointermove",q),(et=n.domElement)===null||et===void 0||et.ownerDocument.addEventListener("pointerup",te)}Pe(Me),Me.pointerType==="touch"?ye(Me):P(Me)}}function q(Me){n.enabled!==!1&&(Me.pointerType==="touch"?Ie(Me):I(Me))}function te(Me){if(ze(Me),C.length===0){var Ge,et,ut;(Ge=n.domElement)===null||Ge===void 0||Ge.releasePointerCapture(Me.pointerId),(et=n.domElement)===null||et===void 0||et.ownerDocument.removeEventListener("pointermove",q),(ut=n.domElement)===null||ut===void 0||ut.ownerDocument.removeEventListener("pointerup",te)}n.dispatchEvent(o),c=l.NONE}function G(Me){ze(Me)}function P(Me){let Ge;switch(Me.button){case 0:Ge=n.mouseButtons.LEFT;break;case 1:Ge=n.mouseButtons.MIDDLE;break;case 2:Ge=n.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case ba.DOLLY:if(n.enableZoom===!1)return;J(Me),c=l.DOLLY;break;case ba.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(n.enablePan===!1)return;oe(Me),c=l.PAN}else{if(n.enableRotate===!1)return;W(Me),c=l.ROTATE}break;case ba.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(n.enableRotate===!1)return;W(Me),c=l.ROTATE}else{if(n.enablePan===!1)return;oe(Me),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(a)}function I(Me){if(n.enabled!==!1)switch(c){case l.ROTATE:if(n.enableRotate===!1)return;le(Me);break;case l.DOLLY:if(n.enableZoom===!1)return;fe(Me);break;case l.PAN:if(n.enablePan===!1)return;$(Me);break}}function U(Me){n.enabled===!1||n.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(Me.preventDefault(),n.dispatchEvent(a),ae(Me),n.dispatchEvent(o))}function Q(Me){n.enabled===!1||n.enablePan===!1||se(Me)}function ye(Me){switch(qe(Me),C.length){case 1:switch(n.touches.ONE){case El.ROTATE:if(n.enableRotate===!1)return;ce(),c=l.TOUCH_ROTATE;break;case El.PAN:if(n.enablePan===!1)return;he(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case El.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;xe(),c=l.TOUCH_DOLLY_PAN;break;case El.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Oe(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(a)}function Ie(Me){switch(qe(Me),c){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;ge(Me),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;De(Me),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;de(Me),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;ie(Me),n.update();break;default:c=l.NONE}}function be(Me){n.enabled!==!1&&Me.preventDefault()}function Pe(Me){C.push(Me)}function ze(Me){delete R[Me.pointerId];for(let Ge=0;Ge<C.length;Ge++)if(C[Ge].pointerId==Me.pointerId){C.splice(Ge,1);return}}function qe(Me){let Ge=R[Me.pointerId];Ge===void 0&&(Ge=new ft,R[Me.pointerId]=Ge),Ge.set(Me.pageX,Me.pageY)}function Ye(Me){let Ge=Me.pointerId===C[0].pointerId?C[1]:C[0];return R[Ge.pointerId]}t!==void 0&&this.connect(t),this.update()}};var fL=ii(Ha()),S2=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function G0(r){let e=Do(n=>n.gl),t=Jl(Ls,S2(r)?Object.values(r):r);if((0,fL.useEffect)(()=>{(Array.isArray(t)?t:[t]).forEach(e.initTexture)},[e,t]),S2(r)){let n=Object.keys(r),i={};return n.forEach(a=>Object.assign(i,{[a]:t[n.indexOf(a)]})),i}else return t}G0.preload=r=>Jl.preload(Ls,r);G0.clear=r=>Jl.clear(Ls,r);var Ps=ii(Ha());var M2=Ps.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,onChange:a,onStart:o,onEnd:l,...c},g)=>{let m=Do(({invalidate:w})=>w),d=Do(({camera:w})=>w),u=Do(({gl:w})=>w),f=Do(({events:w})=>w),s=Do(({set:w})=>w),v=Do(({get:w})=>w),x=Do(({performance:w})=>w),h=e||d,p=n||(typeof f.connected!="boolean"?f.connected:u.domElement),_=Ps.useMemo(()=>new n_(h),[h]);return nL(()=>{_.enabled&&_.update()}),Ps.useEffect(()=>{let w=E=>{m(),t&&x.regress(),a&&a(E)};return _.connect(p),_.addEventListener("change",w),o&&_.addEventListener("start",o),l&&_.addEventListener("end",l),()=>{_.removeEventListener("change",w),o&&_.removeEventListener("start",o),l&&_.removeEventListener("end",l),_.dispose()}},[p,a,o,l,t,_,m]),Ps.useEffect(()=>{if(r){let w=v().controls;return s({controls:_}),()=>s({controls:w})}},[r,_]),Ps.createElement("primitive",Cf({ref:g,object:_,enableDamping:i},c))});var W0=ii(Ha());function qr(r){let e=r+"BufferGeometry";return W0.forwardRef(({args:t,children:n,...i},a)=>W0.createElement("mesh",Cf({ref:a},i),W0.createElement(e,{attach:"geometry",args:t}),n))}var UU=qr("box"),HU=qr("circle"),GU=qr("cone"),WU=qr("cylinder"),Jh=qr("sphere"),VU=qr("plane"),jU=qr("tube"),ZU=qr("torus"),XU=qr("torusKnot"),YU=qr("tetrahedron"),qU=qr("ring"),JU=qr("polyhedron"),QU=qr("icosahedron"),KU=qr("octahedron"),$U=qr("dodecahedron"),e7=qr("extrude"),t7=qr("lathe");var cL=class{value;next;constructor(e){this.value=e}},r_=class{#e;#t;#n;constructor(){this.clear()}enqueue(e){let t=new cL(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){let e=this.#e;if(!!e)return this.#e=this.#e.next,this.#n--,e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function T2(r){if(!((Number.isInteger(r)||r===Number.POSITIVE_INFINITY)&&r>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new r_,t=0,n=()=>{t--,e.size>0&&e.dequeue()()},i=async(l,c,g)=>{t++;let m=(async()=>l(...g))();c(m);try{await m}catch{}n()},a=(l,c,g)=>{e.enqueue(i.bind(void 0,l,c,g)),(async()=>{await Promise.resolve(),t<r&&e.size>0&&e.dequeue()()})()},o=(l,...c)=>new Promise(g=>{a(l,g,c)});return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),o}var _L=ii(hL()),yL=ii(pL()),i_=ii(gL());var xL=r=>{let e=document.createElement("canvas").getContext("2d");return e.canvas.width=r.getWidth(),e.canvas.height=r.getHeight(),e.putImageData(new ImageData(Uint8ClampedArray.from(r.bitmap.data),r.bitmap.width,r.bitmap.height),0,0),e.canvas},n7=()=>{let[r,e]=(0,wn.useState)(new mf(document.createElement("canvas")));return(0,wn.useEffect)(()=>{(()=>$m(void 0,null,function*(){let n=3,i=256,a=new i_.default(2**n*i,2**n*i,"#000000"),o=[],l=T2(4),c=[];for(let m=0;m<2**n;m++)for(let d=0;d<2**n;d++)c.push(()=>new Promise(u=>{(()=>$m(void 0,null,function*(){let s=`https://a.sat.owm.io/vane/2.0/weather/CL/${n}/${m}/${d}?appid=9de243494c0b295cca9337e1e96b00e2`,v=yield i_.default.read(s);o.push([v,m,d]),u()}))().catch(console.error)}));yield Promise.all((0,_L.shuffle)(c).map(m=>l(m)));for(let[m,d,u]of o)a.composite(m,d*i,u*i);a.normalize();let g=xL(a);e(new mf(g))}))().catch(console.error)},[]),r};var r7=()=>{let r=Jl(Ls,"/images/earth/starmap_2020_4k.jpg"),[e,t,n]=G0(["/images/earth/world.200412.3x5400x2700.jpg","/images/earth/earthbump4k.jpg","/images/earth/earthspec4k-inverted.jpg"]),[i,a]=(0,wn.useState)(new Qn);(0,wn.useEffect)(()=>{(()=>$m(void 0,null,function*(){let m=yield i_.default.read("/images/earth/earthlights4k.jpg");m.grayscale(),m.contrast(.2),m.brightness(-.7);let d=xL(m);a(new mf(d))}))().catch(console.error)},[]);let o=n7(),[l,c]=(0,wn.useState)();return(0,wn.useEffect)(()=>{let g=setInterval(()=>{let m=yL.default.getPosition(new Date,180,0);c(new Ce(Math.cos(m.azimuth),-Math.sin(m.altitude),Math.sin(m.azimuth)))},1e3);return()=>clearInterval(g)},[]),wn.default.createElement(wn.default.Fragment,null,wn.default.createElement(M2,{autoRotate:!0,autoRotateSpeed:.1,enableDamping:!0,minDistance:1.5,maxDistance:1.9,enablePan:!1,mouseButtons:{LEFT:ba.ROTATE,RIGHT:ba.ROTATE,MIDDLE:ba.ROTATE}}),wn.default.createElement(Jh,{args:[1e3,32,64]},wn.default.createElement("meshBasicMaterial",{attach:"material",map:r,side:ir})),wn.default.createElement("ambientLight",{intensity:.01}),!!l&&wn.default.createElement("directionalLight",{intensity:5,position:l}),wn.default.createElement(Jh,{name:"earth",args:[1,128,256]},wn.default.createElement("meshPhysicalMaterial",{attach:"material",roughness:1,map:e,displacementMap:t,displacementScale:.01,roughnessMap:n,emissive:new wt("#ebe6c2"),emissiveMap:i})),wn.default.createElement(Jh,{name:"clouds",args:[1.002,128,256]},wn.default.createElement("meshStandardMaterial",{transparent:!0,color:"white",attach:"material",displacementMap:t,displacementScale:.01,alphaMap:o})),wn.default.createElement(Jh,{name:"atmosphere",args:[1.004,128,256]},wn.default.createElement("shaderMaterial",{transparent:!0,vertexShader:`
                    varying vec3 vertexNormal;
                    void main() {
                        vertexNormal = normalize(normalMatrix * normal);
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 0.95);
                    }
                    `,fragmentShader:`
                    varying vec3 vertexNormal;
                    void main() {
                        float intensity = pow(0.3 - dot(vertexNormal, vec3(0, 0, 1.0)), 2.0);
                        gl_FragColor = vec4(0.3, 0.6, 1.0, 1.0) * intensity;
                    }
                    `,side:gs,blending:zp})))},i7=()=>wn.default.createElement("div",{style:{position:"absolute",inset:"0",width:"100vw",height:"100vh"}},wn.default.createElement("div",{id:"debug",style:{position:"absolute",left:0,top:0,width:"800px",height:"400px",overflow:"scroll",zIndex:"100",backgroundColor:"black",visibility:"hidden"}}),wn.default.createElement(eL,{style:{width:"100%",height:"100%"},gl:{physicallyCorrectLights:!0}},wn.default.createElement(wn.Suspense,{fallback:null},wn.default.createElement(r7,null))),wn.default.createElement(E2,null));vL.default.render(wn.default.createElement(wn.default.StrictMode,null,wn.default.createElement(i7,null)),document.getElementById("react-app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */
/*! https://mths.be/punycode v1.4.1 by @mathias */
/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */
/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */
/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
